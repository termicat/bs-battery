var QRe=Object.defineProperty;var JRe=(i,e,t)=>e in i?QRe(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var yh=(i,e,t)=>(JRe(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var QO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Li(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Lme={exports:{}},k6={},Fme={exports:{}},An={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2=Symbol.for("react.element"),eDe=Symbol.for("react.portal"),tDe=Symbol.for("react.fragment"),iDe=Symbol.for("react.strict_mode"),nDe=Symbol.for("react.profiler"),rDe=Symbol.for("react.provider"),sDe=Symbol.for("react.context"),aDe=Symbol.for("react.forward_ref"),oDe=Symbol.for("react.suspense"),lDe=Symbol.for("react.memo"),uDe=Symbol.for("react.lazy"),Fee=Symbol.iterator;function cDe(i){return i===null||typeof i!="object"?null:(i=Fee&&i[Fee]||i["@@iterator"],typeof i=="function"?i:null)}var Bme={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$me=Object.assign,Nme={};function Sw(i,e,t){this.props=i,this.context=e,this.refs=Nme,this.updater=t||Bme}Sw.prototype.isReactComponent={};Sw.prototype.setState=function(i,e){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,e,"setState")};Sw.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function jme(){}jme.prototype=Sw.prototype;function jG(i,e,t){this.props=i,this.context=e,this.refs=Nme,this.updater=t||Bme}var zG=jG.prototype=new jme;zG.constructor=jG;$me(zG,Sw.prototype);zG.isPureReactComponent=!0;var Bee=Array.isArray,zme=Object.prototype.hasOwnProperty,HG={current:null},Hme={key:!0,ref:!0,__self:!0,__source:!0};function Vme(i,e,t){var n,r={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)zme.call(e,n)&&!Hme.hasOwnProperty(n)&&(r[n]=e[n]);var o=arguments.length-2;if(o===1)r.children=t;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];r.children=l}if(i&&i.defaultProps)for(n in o=i.defaultProps,o)r[n]===void 0&&(r[n]=o[n]);return{$$typeof:O2,type:i,key:s,ref:a,props:r,_owner:HG.current}}function dDe(i,e){return{$$typeof:O2,type:i.type,key:e,ref:i.ref,props:i.props,_owner:i._owner}}function VG(i){return typeof i=="object"&&i!==null&&i.$$typeof===O2}function hDe(i){var e={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(t){return e[t]})}var $ee=/\/+/g;function EN(i,e){return typeof i=="object"&&i!==null&&i.key!=null?hDe(""+i.key):e.toString(36)}function o3(i,e,t,n,r){var s=typeof i;(s==="undefined"||s==="boolean")&&(i=null);var a=!1;if(i===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(i.$$typeof){case O2:case eDe:a=!0}}if(a)return a=i,r=r(a),i=n===""?"."+EN(a,0):n,Bee(r)?(t="",i!=null&&(t=i.replace($ee,"$&/")+"/"),o3(r,e,t,"",function(u){return u})):r!=null&&(VG(r)&&(r=dDe(r,t+(!r.key||a&&a.key===r.key?"":(""+r.key).replace($ee,"$&/")+"/")+i)),e.push(r)),1;if(a=0,n=n===""?".":n+":",Bee(i))for(var o=0;o<i.length;o++){s=i[o];var l=n+EN(s,o);a+=o3(s,e,t,l,r)}else if(l=cDe(i),typeof l=="function")for(i=l.call(i),o=0;!(s=i.next()).done;)s=s.value,l=n+EN(s,o++),a+=o3(s,e,t,l,r);else if(s==="object")throw e=String(i),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function JO(i,e,t){if(i==null)return i;var n=[],r=0;return o3(i,n,"","",function(s){return e.call(t,s,r++)}),n}function pDe(i){if(i._status===-1){var e=i._result;e=e(),e.then(function(t){(i._status===0||i._status===-1)&&(i._status=1,i._result=t)},function(t){(i._status===0||i._status===-1)&&(i._status=2,i._result=t)}),i._status===-1&&(i._status=0,i._result=e)}if(i._status===1)return i._result.default;throw i._result}var lu={current:null},l3={transition:null},fDe={ReactCurrentDispatcher:lu,ReactCurrentBatchConfig:l3,ReactCurrentOwner:HG};function Wme(){throw Error("act(...) is not supported in production builds of React.")}An.Children={map:JO,forEach:function(i,e,t){JO(i,function(){e.apply(this,arguments)},t)},count:function(i){var e=0;return JO(i,function(){e++}),e},toArray:function(i){return JO(i,function(e){return e})||[]},only:function(i){if(!VG(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};An.Component=Sw;An.Fragment=tDe;An.Profiler=nDe;An.PureComponent=jG;An.StrictMode=iDe;An.Suspense=oDe;An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fDe;An.act=Wme;An.cloneElement=function(i,e,t){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var n=$me({},i.props),r=i.key,s=i.ref,a=i._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=HG.current),e.key!==void 0&&(r=""+e.key),i.type&&i.type.defaultProps)var o=i.type.defaultProps;for(l in e)zme.call(e,l)&&!Hme.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=t;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:O2,type:i.type,key:r,ref:s,props:n,_owner:a}};An.createContext=function(i){return i={$$typeof:sDe,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:rDe,_context:i},i.Consumer=i};An.createElement=Vme;An.createFactory=function(i){var e=Vme.bind(null,i);return e.type=i,e};An.createRef=function(){return{current:null}};An.forwardRef=function(i){return{$$typeof:aDe,render:i}};An.isValidElement=VG;An.lazy=function(i){return{$$typeof:uDe,_payload:{_status:-1,_result:i},_init:pDe}};An.memo=function(i,e){return{$$typeof:lDe,type:i,compare:e===void 0?null:e}};An.startTransition=function(i){var e=l3.transition;l3.transition={};try{i()}finally{l3.transition=e}};An.unstable_act=Wme;An.useCallback=function(i,e){return lu.current.useCallback(i,e)};An.useContext=function(i){return lu.current.useContext(i)};An.useDebugValue=function(){};An.useDeferredValue=function(i){return lu.current.useDeferredValue(i)};An.useEffect=function(i,e){return lu.current.useEffect(i,e)};An.useId=function(){return lu.current.useId()};An.useImperativeHandle=function(i,e,t){return lu.current.useImperativeHandle(i,e,t)};An.useInsertionEffect=function(i,e){return lu.current.useInsertionEffect(i,e)};An.useLayoutEffect=function(i,e){return lu.current.useLayoutEffect(i,e)};An.useMemo=function(i,e){return lu.current.useMemo(i,e)};An.useReducer=function(i,e,t){return lu.current.useReducer(i,e,t)};An.useRef=function(i){return lu.current.useRef(i)};An.useState=function(i){return lu.current.useState(i)};An.useSyncExternalStore=function(i,e,t){return lu.current.useSyncExternalStore(i,e,t)};An.useTransition=function(){return lu.current.useTransition()};An.version="18.3.1";Fme.exports=An;var ee=Fme.exports;const R=Li(ee);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gDe=ee,mDe=Symbol.for("react.element"),vDe=Symbol.for("react.fragment"),yDe=Object.prototype.hasOwnProperty,_De=gDe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bDe={key:!0,ref:!0,__self:!0,__source:!0};function Ume(i,e,t){var n,r={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)yDe.call(e,n)&&!bDe.hasOwnProperty(n)&&(r[n]=e[n]);if(i&&i.defaultProps)for(n in e=i.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:mDe,type:i,key:s,ref:a,props:r,_owner:_De.current}}k6.Fragment=vDe;k6.jsx=Ume;k6.jsxs=Ume;Lme.exports=k6;var st=Lme.exports,pz={},Gme={exports:{}},Gc={},Yme={exports:{}},Kme={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(N,U){var G=N.length;N.push(U);e:for(;0<G;){var j=G-1>>>1,K=N[j];if(0<r(K,U))N[j]=U,N[G]=K,G=j;else break e}}function t(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var U=N[0],G=N.pop();if(G!==U){N[0]=G;e:for(var j=0,K=N.length,ie=K>>>1;j<ie;){var ae=2*(j+1)-1,re=N[ae],J=ae+1,ne=N[J];if(0>r(re,G))J<K&&0>r(ne,re)?(N[j]=ne,N[J]=G,j=J):(N[j]=re,N[ae]=G,j=ae);else if(J<K&&0>r(ne,G))N[j]=ne,N[J]=G,j=J;else break e}}return U}function r(N,U){var G=N.sortIndex-U.sortIndex;return G!==0?G:N.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();i.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,h=3,p=!1,f=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var U=t(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=N)n(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(u)}}function S(N){if(g=!1,_(N),!f)if(t(l)!==null)f=!0,F(C);else{var U=t(u);U!==null&&z(S,U.startTime-N)}}function C(N,U){f=!1,g&&(g=!1,m(A),A=-1),p=!0;var G=h;try{for(_(U),d=t(l);d!==null&&(!(d.expirationTime>U)||N&&!M());){var j=d.callback;if(typeof j=="function"){d.callback=null,h=d.priorityLevel;var K=j(d.expirationTime<=U);U=i.unstable_now(),typeof K=="function"?d.callback=K:d===t(l)&&n(l),_(U)}else n(l);d=t(l)}if(d!==null)var ie=!0;else{var ae=t(u);ae!==null&&z(S,ae.startTime-U),ie=!1}return ie}finally{d=null,h=G,p=!1}}var k=!1,E=null,A=-1,P=5,O=-1;function M(){return!(i.unstable_now()-O<P)}function D(){if(E!==null){var N=i.unstable_now();O=N;var U=!0;try{U=E(!0,N)}finally{U?L():(k=!1,E=null)}}else k=!1}var L;if(typeof b=="function")L=function(){b(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,B=H.port2;H.port1.onmessage=D,L=function(){B.postMessage(null)}}else L=function(){v(D,0)};function F(N){E=N,k||(k=!0,L())}function z(N,U){A=v(function(){N(i.unstable_now())},U)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(N){N.callback=null},i.unstable_continueExecution=function(){f||p||(f=!0,F(C))},i.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},i.unstable_getCurrentPriorityLevel=function(){return h},i.unstable_getFirstCallbackNode=function(){return t(l)},i.unstable_next=function(N){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var G=h;h=U;try{return N()}finally{h=G}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(N,U){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var G=h;h=N;try{return U()}finally{h=G}},i.unstable_scheduleCallback=function(N,U,G){var j=i.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?j+G:j):G=j,N){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=G+K,N={id:c++,callback:U,priorityLevel:N,startTime:G,expirationTime:K,sortIndex:-1},G>j?(N.sortIndex=G,e(u,N),t(l)===null&&N===t(u)&&(g?(m(A),A=-1):g=!0,z(S,G-j))):(N.sortIndex=K,e(l,N),f||p||(f=!0,F(C))),N},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(N){var U=h;return function(){var G=h;h=U;try{return N.apply(this,arguments)}finally{h=G}}}})(Kme);Yme.exports=Kme;var SDe=Yme.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xDe=ee,jc=SDe;function Ct(i){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+i,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+i+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xme=new Set,BA={};function ob(i,e){wx(i,e),wx(i+"Capture",e)}function wx(i,e){for(BA[i]=e,i=0;i<e.length;i++)Xme.add(e[i])}var Hg=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fz=Object.prototype.hasOwnProperty,wDe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nee={},jee={};function CDe(i){return fz.call(jee,i)?!0:fz.call(Nee,i)?!1:wDe.test(i)?jee[i]=!0:(Nee[i]=!0,!1)}function kDe(i,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function EDe(i,e,t,n){if(e===null||typeof e>"u"||kDe(i,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function uu(i,e,t,n,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=i,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Go={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){Go[i]=new uu(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var e=i[0];Go[e]=new uu(e,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){Go[i]=new uu(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){Go[i]=new uu(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){Go[i]=new uu(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){Go[i]=new uu(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){Go[i]=new uu(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){Go[i]=new uu(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){Go[i]=new uu(i,5,!1,i.toLowerCase(),null,!1,!1)});var WG=/[\-:]([a-z])/g;function UG(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var e=i.replace(WG,UG);Go[e]=new uu(e,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var e=i.replace(WG,UG);Go[e]=new uu(e,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var e=i.replace(WG,UG);Go[e]=new uu(e,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){Go[i]=new uu(i,1,!1,i.toLowerCase(),null,!1,!1)});Go.xlinkHref=new uu("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){Go[i]=new uu(i,1,!1,i.toLowerCase(),null,!0,!0)});function GG(i,e,t,n){var r=Go.hasOwnProperty(e)?Go[e]:null;(r!==null?r.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EDe(e,t,r,n)&&(t=null),n||r===null?CDe(e)&&(t===null?i.removeAttribute(e):i.setAttribute(e,""+t)):r.mustUseProperty?i[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,n=r.attributeNamespace,t===null?i.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,n?i.setAttributeNS(n,e,t):i.setAttribute(e,t))))}var am=xDe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eM=Symbol.for("react.element"),oS=Symbol.for("react.portal"),lS=Symbol.for("react.fragment"),YG=Symbol.for("react.strict_mode"),gz=Symbol.for("react.profiler"),qme=Symbol.for("react.provider"),Zme=Symbol.for("react.context"),KG=Symbol.for("react.forward_ref"),mz=Symbol.for("react.suspense"),vz=Symbol.for("react.suspense_list"),XG=Symbol.for("react.memo"),tv=Symbol.for("react.lazy"),Qme=Symbol.for("react.offscreen"),zee=Symbol.iterator;function XC(i){return i===null||typeof i!="object"?null:(i=zee&&i[zee]||i["@@iterator"],typeof i=="function"?i:null)}var Ks=Object.assign,AN;function jk(i){if(AN===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);AN=e&&e[1]||""}return`
`+AN+i}var TN=!1;function PN(i,e){if(!i||TN)return"";TN=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(i,[],e)}else{try{e.call()}catch(u){n=u}i.call(e.prototype)}else{try{throw Error()}catch(u){n=u}i()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=n.stack.split(`
`),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==s[o]){var l=`
`+r[a].replace(" at new "," at ");return i.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",i.displayName)),l}while(1<=a&&0<=o);break}}}finally{TN=!1,Error.prepareStackTrace=t}return(i=i?i.displayName||i.name:"")?jk(i):""}function ADe(i){switch(i.tag){case 5:return jk(i.type);case 16:return jk("Lazy");case 13:return jk("Suspense");case 19:return jk("SuspenseList");case 0:case 2:case 15:return i=PN(i.type,!1),i;case 11:return i=PN(i.type.render,!1),i;case 1:return i=PN(i.type,!0),i;default:return""}}function yz(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case lS:return"Fragment";case oS:return"Portal";case gz:return"Profiler";case YG:return"StrictMode";case mz:return"Suspense";case vz:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Zme:return(i.displayName||"Context")+".Consumer";case qme:return(i._context.displayName||"Context")+".Provider";case KG:var e=i.render;return i=i.displayName,i||(i=e.displayName||e.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case XG:return e=i.displayName||null,e!==null?e:yz(i.type)||"Memo";case tv:e=i._payload,i=i._init;try{return yz(i(e))}catch{}}return null}function TDe(i){var e=i.type;switch(i.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=e.render,i=i.displayName||i.name||"",e.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yz(e);case 8:return e===YG?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function c0(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Jme(i){var e=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PDe(i){var e=Jme(i)?"checked":"value",t=Object.getOwnPropertyDescriptor(i.constructor.prototype,e),n=""+i[e];if(!i.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(i,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(i,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){i._valueTracker=null,delete i[e]}}}}function tM(i){i._valueTracker||(i._valueTracker=PDe(i))}function eve(i){if(!i)return!1;var e=i._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return i&&(n=Jme(i)?i.checked?"true":"false":i.value),i=n,i!==t?(e.setValue(i),!0):!1}function vR(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function _z(i,e){var t=e.checked;return Ks({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??i._wrapperState.initialChecked})}function Hee(i,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=c0(e.value!=null?e.value:t),i._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tve(i,e){e=e.checked,e!=null&&GG(i,"checked",e,!1)}function bz(i,e){tve(i,e);var t=c0(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&i.value===""||i.value!=t)&&(i.value=""+t):i.value!==""+t&&(i.value=""+t);else if(n==="submit"||n==="reset"){i.removeAttribute("value");return}e.hasOwnProperty("value")?Sz(i,e.type,t):e.hasOwnProperty("defaultValue")&&Sz(i,e.type,c0(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(i.defaultChecked=!!e.defaultChecked)}function Vee(i,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+i._wrapperState.initialValue,t||e===i.value||(i.value=e),i.defaultValue=e}t=i.name,t!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,t!==""&&(i.name=t)}function Sz(i,e,t){(e!=="number"||vR(i.ownerDocument)!==i)&&(t==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+t&&(i.defaultValue=""+t))}var zk=Array.isArray;function YS(i,e,t,n){if(i=i.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<i.length;t++)r=e.hasOwnProperty("$"+i[t].value),i[t].selected!==r&&(i[t].selected=r),r&&n&&(i[t].defaultSelected=!0)}else{for(t=""+c0(t),e=null,r=0;r<i.length;r++){if(i[r].value===t){i[r].selected=!0,n&&(i[r].defaultSelected=!0);return}e!==null||i[r].disabled||(e=i[r])}e!==null&&(e.selected=!0)}}function xz(i,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ct(91));return Ks({},e,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Wee(i,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ct(92));if(zk(t)){if(1<t.length)throw Error(Ct(93));t=t[0]}e=t}e==null&&(e=""),t=e}i._wrapperState={initialValue:c0(t)}}function ive(i,e){var t=c0(e.value),n=c0(e.defaultValue);t!=null&&(t=""+t,t!==i.value&&(i.value=t),e.defaultValue==null&&i.defaultValue!==t&&(i.defaultValue=t)),n!=null&&(i.defaultValue=""+n)}function Uee(i){var e=i.textContent;e===i._wrapperState.initialValue&&e!==""&&e!==null&&(i.value=e)}function nve(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wz(i,e){return i==null||i==="http://www.w3.org/1999/xhtml"?nve(e):i==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var iM,rve=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return i(e,t,n,r)})}:i}(function(i,e){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=e;else{for(iM=iM||document.createElement("div"),iM.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=iM.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;e.firstChild;)i.appendChild(e.firstChild)}});function $A(i,e){if(e){var t=i.firstChild;if(t&&t===i.lastChild&&t.nodeType===3){t.nodeValue=e;return}}i.textContent=e}var pE={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ODe=["Webkit","ms","Moz","O"];Object.keys(pE).forEach(function(i){ODe.forEach(function(e){e=e+i.charAt(0).toUpperCase()+i.substring(1),pE[e]=pE[i]})});function sve(i,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||pE.hasOwnProperty(i)&&pE[i]?(""+e).trim():e+"px"}function ave(i,e){i=i.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,r=sve(t,e[t],n);t==="float"&&(t="cssFloat"),n?i.setProperty(t,r):i[t]=r}}var MDe=Ks({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cz(i,e){if(e){if(MDe[i]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ct(137,i));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ct(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ct(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ct(62))}}function kz(i,e){if(i.indexOf("-")===-1)return typeof e.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ez=null;function qG(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Az=null,KS=null,XS=null;function Gee(i){if(i=R2(i)){if(typeof Az!="function")throw Error(Ct(280));var e=i.stateNode;e&&(e=O6(e),Az(i.stateNode,i.type,e))}}function ove(i){KS?XS?XS.push(i):XS=[i]:KS=i}function lve(){if(KS){var i=KS,e=XS;if(XS=KS=null,Gee(i),e)for(i=0;i<e.length;i++)Gee(e[i])}}function uve(i,e){return i(e)}function cve(){}var ON=!1;function dve(i,e,t){if(ON)return i(e,t);ON=!0;try{return uve(i,e,t)}finally{ON=!1,(KS!==null||XS!==null)&&(cve(),lve())}}function NA(i,e){var t=i.stateNode;if(t===null)return null;var n=O6(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(i=i.type,n=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!n;break e;default:i=!1}if(i)return null;if(t&&typeof t!="function")throw Error(Ct(231,e,typeof t));return t}var Tz=!1;if(Hg)try{var qC={};Object.defineProperty(qC,"passive",{get:function(){Tz=!0}}),window.addEventListener("test",qC,qC),window.removeEventListener("test",qC,qC)}catch{Tz=!1}function IDe(i,e,t,n,r,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var fE=!1,yR=null,_R=!1,Pz=null,RDe={onError:function(i){fE=!0,yR=i}};function DDe(i,e,t,n,r,s,a,o,l){fE=!1,yR=null,IDe.apply(RDe,arguments)}function LDe(i,e,t,n,r,s,a,o,l){if(DDe.apply(this,arguments),fE){if(fE){var u=yR;fE=!1,yR=null}else throw Error(Ct(198));_R||(_R=!0,Pz=u)}}function lb(i){var e=i,t=i;if(i.alternate)for(;e.return;)e=e.return;else{i=e;do e=i,e.flags&4098&&(t=e.return),i=e.return;while(i)}return e.tag===3?t:null}function hve(i){if(i.tag===13){var e=i.memoizedState;if(e===null&&(i=i.alternate,i!==null&&(e=i.memoizedState)),e!==null)return e.dehydrated}return null}function Yee(i){if(lb(i)!==i)throw Error(Ct(188))}function FDe(i){var e=i.alternate;if(!e){if(e=lb(i),e===null)throw Error(Ct(188));return e!==i?null:i}for(var t=i,n=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(n=r.return,n!==null){t=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return Yee(r),i;if(s===n)return Yee(r),e;s=s.sibling}throw Error(Ct(188))}if(t.return!==n.return)t=r,n=s;else{for(var a=!1,o=r.child;o;){if(o===t){a=!0,t=r,n=s;break}if(o===n){a=!0,n=r,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,n=r;break}if(o===n){a=!0,n=s,t=r;break}o=o.sibling}if(!a)throw Error(Ct(189))}}if(t.alternate!==n)throw Error(Ct(190))}if(t.tag!==3)throw Error(Ct(188));return t.stateNode.current===t?i:e}function pve(i){return i=FDe(i),i!==null?fve(i):null}function fve(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var e=fve(i);if(e!==null)return e;i=i.sibling}return null}var gve=jc.unstable_scheduleCallback,Kee=jc.unstable_cancelCallback,BDe=jc.unstable_shouldYield,$De=jc.unstable_requestPaint,_a=jc.unstable_now,NDe=jc.unstable_getCurrentPriorityLevel,ZG=jc.unstable_ImmediatePriority,mve=jc.unstable_UserBlockingPriority,bR=jc.unstable_NormalPriority,jDe=jc.unstable_LowPriority,vve=jc.unstable_IdlePriority,E6=null,gf=null;function zDe(i){if(gf&&typeof gf.onCommitFiberRoot=="function")try{gf.onCommitFiberRoot(E6,i,void 0,(i.current.flags&128)===128)}catch{}}var Jh=Math.clz32?Math.clz32:WDe,HDe=Math.log,VDe=Math.LN2;function WDe(i){return i>>>=0,i===0?32:31-(HDe(i)/VDe|0)|0}var nM=64,rM=4194304;function Hk(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function SR(i,e){var t=i.pendingLanes;if(t===0)return 0;var n=0,r=i.suspendedLanes,s=i.pingedLanes,a=t&268435455;if(a!==0){var o=a&~r;o!==0?n=Hk(o):(s&=a,s!==0&&(n=Hk(s)))}else a=t&~r,a!==0?n=Hk(a):s!==0&&(n=Hk(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&r)&&(r=n&-n,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(n&4&&(n|=t&16),e=i.entangledLanes,e!==0)for(i=i.entanglements,e&=n;0<e;)t=31-Jh(e),r=1<<t,n|=i[t],e&=~r;return n}function UDe(i,e){switch(i){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GDe(i,e){for(var t=i.suspendedLanes,n=i.pingedLanes,r=i.expirationTimes,s=i.pendingLanes;0<s;){var a=31-Jh(s),o=1<<a,l=r[a];l===-1?(!(o&t)||o&n)&&(r[a]=UDe(o,e)):l<=e&&(i.expiredLanes|=o),s&=~o}}function Oz(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yve(){var i=nM;return nM<<=1,!(nM&4194240)&&(nM=64),i}function MN(i){for(var e=[],t=0;31>t;t++)e.push(i);return e}function M2(i,e,t){i.pendingLanes|=e,e!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,e=31-Jh(e),i[e]=t}function YDe(i,e){var t=i.pendingLanes&~e;i.pendingLanes=e,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=e,i.mutableReadLanes&=e,i.entangledLanes&=e,e=i.entanglements;var n=i.eventTimes;for(i=i.expirationTimes;0<t;){var r=31-Jh(t),s=1<<r;e[r]=0,n[r]=-1,i[r]=-1,t&=~s}}function QG(i,e){var t=i.entangledLanes|=e;for(i=i.entanglements;t;){var n=31-Jh(t),r=1<<n;r&e|i[n]&e&&(i[n]|=e),t&=~r}}var Mr=0;function _ve(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var bve,JG,Sve,xve,wve,Mz=!1,sM=[],Dv=null,Lv=null,Fv=null,jA=new Map,zA=new Map,lv=[],KDe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xee(i,e){switch(i){case"focusin":case"focusout":Dv=null;break;case"dragenter":case"dragleave":Lv=null;break;case"mouseover":case"mouseout":Fv=null;break;case"pointerover":case"pointerout":jA.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zA.delete(e.pointerId)}}function ZC(i,e,t,n,r,s){return i===null||i.nativeEvent!==s?(i={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},e!==null&&(e=R2(e),e!==null&&JG(e)),i):(i.eventSystemFlags|=n,e=i.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),i)}function XDe(i,e,t,n,r){switch(e){case"focusin":return Dv=ZC(Dv,i,e,t,n,r),!0;case"dragenter":return Lv=ZC(Lv,i,e,t,n,r),!0;case"mouseover":return Fv=ZC(Fv,i,e,t,n,r),!0;case"pointerover":var s=r.pointerId;return jA.set(s,ZC(jA.get(s)||null,i,e,t,n,r)),!0;case"gotpointercapture":return s=r.pointerId,zA.set(s,ZC(zA.get(s)||null,i,e,t,n,r)),!0}return!1}function Cve(i){var e=$y(i.target);if(e!==null){var t=lb(e);if(t!==null){if(e=t.tag,e===13){if(e=hve(t),e!==null){i.blockedOn=e,wve(i.priority,function(){Sve(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){i.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}i.blockedOn=null}function u3(i){if(i.blockedOn!==null)return!1;for(var e=i.targetContainers;0<e.length;){var t=Iz(i.domEventName,i.eventSystemFlags,e[0],i.nativeEvent);if(t===null){t=i.nativeEvent;var n=new t.constructor(t.type,t);Ez=n,t.target.dispatchEvent(n),Ez=null}else return e=R2(t),e!==null&&JG(e),i.blockedOn=t,!1;e.shift()}return!0}function qee(i,e,t){u3(i)&&t.delete(e)}function qDe(){Mz=!1,Dv!==null&&u3(Dv)&&(Dv=null),Lv!==null&&u3(Lv)&&(Lv=null),Fv!==null&&u3(Fv)&&(Fv=null),jA.forEach(qee),zA.forEach(qee)}function QC(i,e){i.blockedOn===e&&(i.blockedOn=null,Mz||(Mz=!0,jc.unstable_scheduleCallback(jc.unstable_NormalPriority,qDe)))}function HA(i){function e(r){return QC(r,i)}if(0<sM.length){QC(sM[0],i);for(var t=1;t<sM.length;t++){var n=sM[t];n.blockedOn===i&&(n.blockedOn=null)}}for(Dv!==null&&QC(Dv,i),Lv!==null&&QC(Lv,i),Fv!==null&&QC(Fv,i),jA.forEach(e),zA.forEach(e),t=0;t<lv.length;t++)n=lv[t],n.blockedOn===i&&(n.blockedOn=null);for(;0<lv.length&&(t=lv[0],t.blockedOn===null);)Cve(t),t.blockedOn===null&&lv.shift()}var qS=am.ReactCurrentBatchConfig,xR=!0;function ZDe(i,e,t,n){var r=Mr,s=qS.transition;qS.transition=null;try{Mr=1,eY(i,e,t,n)}finally{Mr=r,qS.transition=s}}function QDe(i,e,t,n){var r=Mr,s=qS.transition;qS.transition=null;try{Mr=4,eY(i,e,t,n)}finally{Mr=r,qS.transition=s}}function eY(i,e,t,n){if(xR){var r=Iz(i,e,t,n);if(r===null)zN(i,e,n,wR,t),Xee(i,n);else if(XDe(r,i,e,t,n))n.stopPropagation();else if(Xee(i,n),e&4&&-1<KDe.indexOf(i)){for(;r!==null;){var s=R2(r);if(s!==null&&bve(s),s=Iz(i,e,t,n),s===null&&zN(i,e,n,wR,t),s===r)break;r=s}r!==null&&n.stopPropagation()}else zN(i,e,n,null,t)}}var wR=null;function Iz(i,e,t,n){if(wR=null,i=qG(n),i=$y(i),i!==null)if(e=lb(i),e===null)i=null;else if(t=e.tag,t===13){if(i=hve(e),i!==null)return i;i=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;i=null}else e!==i&&(i=null);return wR=i,null}function kve(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NDe()){case ZG:return 1;case mve:return 4;case bR:case jDe:return 16;case vve:return 536870912;default:return 16}default:return 16}}var gv=null,tY=null,c3=null;function Eve(){if(c3)return c3;var i,e=tY,t=e.length,n,r="value"in gv?gv.value:gv.textContent,s=r.length;for(i=0;i<t&&e[i]===r[i];i++);var a=t-i;for(n=1;n<=a&&e[t-n]===r[s-n];n++);return c3=r.slice(i,1<n?1-n:void 0)}function d3(i){var e=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&e===13&&(i=13)):i=e,i===10&&(i=13),32<=i||i===13?i:0}function aM(){return!0}function Zee(){return!1}function Yc(i){function e(t,n,r,s,a){this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in i)i.hasOwnProperty(o)&&(t=i[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?aM:Zee,this.isPropagationStopped=Zee,this}return Ks(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=aM)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=aM)},persist:function(){},isPersistent:aM}),e}var xw={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iY=Yc(xw),I2=Ks({},xw,{view:0,detail:0}),JDe=Yc(I2),IN,RN,JC,A6=Ks({},I2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nY,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==JC&&(JC&&i.type==="mousemove"?(IN=i.screenX-JC.screenX,RN=i.screenY-JC.screenY):RN=IN=0,JC=i),IN)},movementY:function(i){return"movementY"in i?i.movementY:RN}}),Qee=Yc(A6),eLe=Ks({},A6,{dataTransfer:0}),tLe=Yc(eLe),iLe=Ks({},I2,{relatedTarget:0}),DN=Yc(iLe),nLe=Ks({},xw,{animationName:0,elapsedTime:0,pseudoElement:0}),rLe=Yc(nLe),sLe=Ks({},xw,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),aLe=Yc(sLe),oLe=Ks({},xw,{data:0}),Jee=Yc(oLe),lLe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uLe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cLe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dLe(i){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(i):(i=cLe[i])?!!e[i]:!1}function nY(){return dLe}var hLe=Ks({},I2,{key:function(i){if(i.key){var e=lLe[i.key]||i.key;if(e!=="Unidentified")return e}return i.type==="keypress"?(i=d3(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?uLe[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nY,charCode:function(i){return i.type==="keypress"?d3(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?d3(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),pLe=Yc(hLe),fLe=Ks({},A6,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ete=Yc(fLe),gLe=Ks({},I2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nY}),mLe=Yc(gLe),vLe=Ks({},xw,{propertyName:0,elapsedTime:0,pseudoElement:0}),yLe=Yc(vLe),_Le=Ks({},A6,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),bLe=Yc(_Le),SLe=[9,13,27,32],rY=Hg&&"CompositionEvent"in window,gE=null;Hg&&"documentMode"in document&&(gE=document.documentMode);var xLe=Hg&&"TextEvent"in window&&!gE,Ave=Hg&&(!rY||gE&&8<gE&&11>=gE),tte=" ",ite=!1;function Tve(i,e){switch(i){case"keyup":return SLe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pve(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var uS=!1;function wLe(i,e){switch(i){case"compositionend":return Pve(e);case"keypress":return e.which!==32?null:(ite=!0,tte);case"textInput":return i=e.data,i===tte&&ite?null:i;default:return null}}function CLe(i,e){if(uS)return i==="compositionend"||!rY&&Tve(i,e)?(i=Eve(),c3=tY=gv=null,uS=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ave&&e.locale!=="ko"?null:e.data;default:return null}}var kLe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nte(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e==="input"?!!kLe[i.type]:e==="textarea"}function Ove(i,e,t,n){ove(n),e=CR(e,"onChange"),0<e.length&&(t=new iY("onChange","change",null,t,n),i.push({event:t,listeners:e}))}var mE=null,VA=null;function ELe(i){zve(i,0)}function T6(i){var e=hS(i);if(eve(e))return i}function ALe(i,e){if(i==="change")return e}var Mve=!1;if(Hg){var LN;if(Hg){var FN="oninput"in document;if(!FN){var rte=document.createElement("div");rte.setAttribute("oninput","return;"),FN=typeof rte.oninput=="function"}LN=FN}else LN=!1;Mve=LN&&(!document.documentMode||9<document.documentMode)}function ste(){mE&&(mE.detachEvent("onpropertychange",Ive),VA=mE=null)}function Ive(i){if(i.propertyName==="value"&&T6(VA)){var e=[];Ove(e,VA,i,qG(i)),dve(ELe,e)}}function TLe(i,e,t){i==="focusin"?(ste(),mE=e,VA=t,mE.attachEvent("onpropertychange",Ive)):i==="focusout"&&ste()}function PLe(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return T6(VA)}function OLe(i,e){if(i==="click")return T6(e)}function MLe(i,e){if(i==="input"||i==="change")return T6(e)}function ILe(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var op=typeof Object.is=="function"?Object.is:ILe;function WA(i,e){if(op(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;var t=Object.keys(i),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var r=t[n];if(!fz.call(e,r)||!op(i[r],e[r]))return!1}return!0}function ate(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ote(i,e){var t=ate(i);i=0;for(var n;t;){if(t.nodeType===3){if(n=i+t.textContent.length,i<=e&&n>=e)return{node:t,offset:e-i};i=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=ate(t)}}function Rve(i,e){return i&&e?i===e?!0:i&&i.nodeType===3?!1:e&&e.nodeType===3?Rve(i,e.parentNode):"contains"in i?i.contains(e):i.compareDocumentPosition?!!(i.compareDocumentPosition(e)&16):!1:!1}function Dve(){for(var i=window,e=vR();e instanceof i.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)i=e.contentWindow;else break;e=vR(i.document)}return e}function sY(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e&&(e==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||e==="textarea"||i.contentEditable==="true")}function RLe(i){var e=Dve(),t=i.focusedElem,n=i.selectionRange;if(e!==t&&t&&t.ownerDocument&&Rve(t.ownerDocument.documentElement,t)){if(n!==null&&sY(t)){if(e=n.start,i=n.end,i===void 0&&(i=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(i,t.value.length);else if(i=(e=t.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var r=t.textContent.length,s=Math.min(n.start,r);n=n.end===void 0?s:Math.min(n.end,r),!i.extend&&s>n&&(r=n,n=s,s=r),r=ote(t,s);var a=ote(t,n);r&&a&&(i.rangeCount!==1||i.anchorNode!==r.node||i.anchorOffset!==r.offset||i.focusNode!==a.node||i.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),i.removeAllRanges(),s>n?(i.addRange(e),i.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),i.addRange(e)))}}for(e=[],i=t;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)i=e[t],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var DLe=Hg&&"documentMode"in document&&11>=document.documentMode,cS=null,Rz=null,vE=null,Dz=!1;function lte(i,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Dz||cS==null||cS!==vR(n)||(n=cS,"selectionStart"in n&&sY(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vE&&WA(vE,n)||(vE=n,n=CR(Rz,"onSelect"),0<n.length&&(e=new iY("onSelect","select",null,e,t),i.push({event:e,listeners:n}),e.target=cS)))}function oM(i,e){var t={};return t[i.toLowerCase()]=e.toLowerCase(),t["Webkit"+i]="webkit"+e,t["Moz"+i]="moz"+e,t}var dS={animationend:oM("Animation","AnimationEnd"),animationiteration:oM("Animation","AnimationIteration"),animationstart:oM("Animation","AnimationStart"),transitionend:oM("Transition","TransitionEnd")},BN={},Lve={};Hg&&(Lve=document.createElement("div").style,"AnimationEvent"in window||(delete dS.animationend.animation,delete dS.animationiteration.animation,delete dS.animationstart.animation),"TransitionEvent"in window||delete dS.transitionend.transition);function P6(i){if(BN[i])return BN[i];if(!dS[i])return i;var e=dS[i],t;for(t in e)if(e.hasOwnProperty(t)&&t in Lve)return BN[i]=e[t];return i}var Fve=P6("animationend"),Bve=P6("animationiteration"),$ve=P6("animationstart"),Nve=P6("transitionend"),jve=new Map,ute="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function E0(i,e){jve.set(i,e),ob(e,[i])}for(var $N=0;$N<ute.length;$N++){var NN=ute[$N],LLe=NN.toLowerCase(),FLe=NN[0].toUpperCase()+NN.slice(1);E0(LLe,"on"+FLe)}E0(Fve,"onAnimationEnd");E0(Bve,"onAnimationIteration");E0($ve,"onAnimationStart");E0("dblclick","onDoubleClick");E0("focusin","onFocus");E0("focusout","onBlur");E0(Nve,"onTransitionEnd");wx("onMouseEnter",["mouseout","mouseover"]);wx("onMouseLeave",["mouseout","mouseover"]);wx("onPointerEnter",["pointerout","pointerover"]);wx("onPointerLeave",["pointerout","pointerover"]);ob("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ob("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ob("onBeforeInput",["compositionend","keypress","textInput","paste"]);ob("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ob("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ob("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vk="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BLe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vk));function cte(i,e,t){var n=i.type||"unknown-event";i.currentTarget=t,LDe(n,e,void 0,i),i.currentTarget=null}function zve(i,e){e=(e&4)!==0;for(var t=0;t<i.length;t++){var n=i[t],r=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;cte(r,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;cte(r,o,u),s=l}}}if(_R)throw i=Pz,_R=!1,Pz=null,i}function ss(i,e){var t=e[Nz];t===void 0&&(t=e[Nz]=new Set);var n=i+"__bubble";t.has(n)||(Hve(e,i,2,!1),t.add(n))}function jN(i,e,t){var n=0;e&&(n|=4),Hve(t,i,n,e)}var lM="_reactListening"+Math.random().toString(36).slice(2);function UA(i){if(!i[lM]){i[lM]=!0,Xme.forEach(function(t){t!=="selectionchange"&&(BLe.has(t)||jN(t,!1,i),jN(t,!0,i))});var e=i.nodeType===9?i:i.ownerDocument;e===null||e[lM]||(e[lM]=!0,jN("selectionchange",!1,e))}}function Hve(i,e,t,n){switch(kve(e)){case 1:var r=ZDe;break;case 4:r=QDe;break;default:r=eY}t=r.bind(null,e,t,i),r=void 0,!Tz||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),n?r!==void 0?i.addEventListener(e,t,{capture:!0,passive:r}):i.addEventListener(e,t,!0):r!==void 0?i.addEventListener(e,t,{passive:r}):i.addEventListener(e,t,!1)}function zN(i,e,t,n,r){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=$y(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}dve(function(){var u=s,c=qG(t),d=[];e:{var h=jve.get(i);if(h!==void 0){var p=iY,f=i;switch(i){case"keypress":if(d3(t)===0)break e;case"keydown":case"keyup":p=pLe;break;case"focusin":f="focus",p=DN;break;case"focusout":f="blur",p=DN;break;case"beforeblur":case"afterblur":p=DN;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Qee;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=tLe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mLe;break;case Fve:case Bve:case $ve:p=rLe;break;case Nve:p=yLe;break;case"scroll":p=JDe;break;case"wheel":p=bLe;break;case"copy":case"cut":case"paste":p=aLe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ete}var g=(e&4)!==0,v=!g&&i==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var b=u,_;b!==null;){_=b;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,m!==null&&(S=NA(b,m),S!=null&&g.push(GA(b,S,_)))),v)break;b=b.return}0<g.length&&(h=new p(h,f,null,t,c),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=i==="mouseover"||i==="pointerover",p=i==="mouseout"||i==="pointerout",h&&t!==Ez&&(f=t.relatedTarget||t.fromElement)&&($y(f)||f[Vg]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=t.relatedTarget||t.toElement,p=u,f=f?$y(f):null,f!==null&&(v=lb(f),f!==v||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=u),p!==f)){if(g=Qee,S="onMouseLeave",m="onMouseEnter",b="mouse",(i==="pointerout"||i==="pointerover")&&(g=ete,S="onPointerLeave",m="onPointerEnter",b="pointer"),v=p==null?h:hS(p),_=f==null?h:hS(f),h=new g(S,b+"leave",p,t,c),h.target=v,h.relatedTarget=_,S=null,$y(c)===u&&(g=new g(m,b+"enter",f,t,c),g.target=_,g.relatedTarget=v,S=g),v=S,p&&f)t:{for(g=p,m=f,b=0,_=g;_;_=n1(_))b++;for(_=0,S=m;S;S=n1(S))_++;for(;0<b-_;)g=n1(g),b--;for(;0<_-b;)m=n1(m),_--;for(;b--;){if(g===m||m!==null&&g===m.alternate)break t;g=n1(g),m=n1(m)}g=null}else g=null;p!==null&&dte(d,h,p,g,!1),f!==null&&v!==null&&dte(d,v,f,g,!0)}}e:{if(h=u?hS(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var C=ALe;else if(nte(h))if(Mve)C=MLe;else{C=PLe;var k=TLe}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=OLe);if(C&&(C=C(i,u))){Ove(d,C,t,c);break e}k&&k(i,h,u),i==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Sz(h,"number",h.value)}switch(k=u?hS(u):window,i){case"focusin":(nte(k)||k.contentEditable==="true")&&(cS=k,Rz=u,vE=null);break;case"focusout":vE=Rz=cS=null;break;case"mousedown":Dz=!0;break;case"contextmenu":case"mouseup":case"dragend":Dz=!1,lte(d,t,c);break;case"selectionchange":if(DLe)break;case"keydown":case"keyup":lte(d,t,c)}var E;if(rY)e:{switch(i){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else uS?Tve(i,t)&&(A="onCompositionEnd"):i==="keydown"&&t.keyCode===229&&(A="onCompositionStart");A&&(Ave&&t.locale!=="ko"&&(uS||A!=="onCompositionStart"?A==="onCompositionEnd"&&uS&&(E=Eve()):(gv=c,tY="value"in gv?gv.value:gv.textContent,uS=!0)),k=CR(u,A),0<k.length&&(A=new Jee(A,i,null,t,c),d.push({event:A,listeners:k}),E?A.data=E:(E=Pve(t),E!==null&&(A.data=E)))),(E=xLe?wLe(i,t):CLe(i,t))&&(u=CR(u,"onBeforeInput"),0<u.length&&(c=new Jee("onBeforeInput","beforeinput",null,t,c),d.push({event:c,listeners:u}),c.data=E))}zve(d,e)})}function GA(i,e,t){return{instance:i,listener:e,currentTarget:t}}function CR(i,e){for(var t=e+"Capture",n=[];i!==null;){var r=i,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=NA(i,t),s!=null&&n.unshift(GA(i,s,r)),s=NA(i,e),s!=null&&n.push(GA(i,s,r))),i=i.return}return n}function n1(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function dte(i,e,t,n,r){for(var s=e._reactName,a=[];t!==null&&t!==n;){var o=t,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,r?(l=NA(t,s),l!=null&&a.unshift(GA(t,l,o))):r||(l=NA(t,s),l!=null&&a.push(GA(t,l,o)))),t=t.return}a.length!==0&&i.push({event:e,listeners:a})}var $Le=/\r\n?/g,NLe=/\u0000|\uFFFD/g;function hte(i){return(typeof i=="string"?i:""+i).replace($Le,`
`).replace(NLe,"")}function uM(i,e,t){if(e=hte(e),hte(i)!==e&&t)throw Error(Ct(425))}function kR(){}var Lz=null,Fz=null;function Bz(i,e){return i==="textarea"||i==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $z=typeof setTimeout=="function"?setTimeout:void 0,jLe=typeof clearTimeout=="function"?clearTimeout:void 0,pte=typeof Promise=="function"?Promise:void 0,zLe=typeof queueMicrotask=="function"?queueMicrotask:typeof pte<"u"?function(i){return pte.resolve(null).then(i).catch(HLe)}:$z;function HLe(i){setTimeout(function(){throw i})}function HN(i,e){var t=e,n=0;do{var r=t.nextSibling;if(i.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(n===0){i.removeChild(r),HA(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=r}while(t);HA(e)}function Bv(i){for(;i!=null;i=i.nextSibling){var e=i.nodeType;if(e===1||e===3)break;if(e===8){if(e=i.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return i}function fte(i){i=i.previousSibling;for(var e=0;i;){if(i.nodeType===8){var t=i.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return i;e--}else t==="/$"&&e++}i=i.previousSibling}return null}var ww=Math.random().toString(36).slice(2),Kp="__reactFiber$"+ww,YA="__reactProps$"+ww,Vg="__reactContainer$"+ww,Nz="__reactEvents$"+ww,VLe="__reactListeners$"+ww,WLe="__reactHandles$"+ww;function $y(i){var e=i[Kp];if(e)return e;for(var t=i.parentNode;t;){if(e=t[Vg]||t[Kp]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(i=fte(i);i!==null;){if(t=i[Kp])return t;i=fte(i)}return e}i=t,t=i.parentNode}return null}function R2(i){return i=i[Kp]||i[Vg],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function hS(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(Ct(33))}function O6(i){return i[YA]||null}var jz=[],pS=-1;function A0(i){return{current:i}}function ps(i){0>pS||(i.current=jz[pS],jz[pS]=null,pS--)}function es(i,e){pS++,jz[pS]=i.current,i.current=e}var d0={},Il=A0(d0),Hu=A0(!1),P_=d0;function Cx(i,e){var t=i.type.contextTypes;if(!t)return d0;var n=i.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return n&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=e,i.__reactInternalMemoizedMaskedChildContext=r),r}function Vu(i){return i=i.childContextTypes,i!=null}function ER(){ps(Hu),ps(Il)}function gte(i,e,t){if(Il.current!==d0)throw Error(Ct(168));es(Il,e),es(Hu,t)}function Vve(i,e,t){var n=i.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var r in n)if(!(r in e))throw Error(Ct(108,TDe(i)||"Unknown",r));return Ks({},t,n)}function AR(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||d0,P_=Il.current,es(Il,i),es(Hu,Hu.current),!0}function mte(i,e,t){var n=i.stateNode;if(!n)throw Error(Ct(169));t?(i=Vve(i,e,P_),n.__reactInternalMemoizedMergedChildContext=i,ps(Hu),ps(Il),es(Il,i)):ps(Hu),es(Hu,t)}var yg=null,M6=!1,VN=!1;function Wve(i){yg===null?yg=[i]:yg.push(i)}function ULe(i){M6=!0,Wve(i)}function T0(){if(!VN&&yg!==null){VN=!0;var i=0,e=Mr;try{var t=yg;for(Mr=1;i<t.length;i++){var n=t[i];do n=n(!0);while(n!==null)}yg=null,M6=!1}catch(r){throw yg!==null&&(yg=yg.slice(i+1)),gve(ZG,T0),r}finally{Mr=e,VN=!1}}return null}var fS=[],gS=0,TR=null,PR=0,Od=[],Md=0,O_=null,Ag=1,Tg="";function vy(i,e){fS[gS++]=PR,fS[gS++]=TR,TR=i,PR=e}function Uve(i,e,t){Od[Md++]=Ag,Od[Md++]=Tg,Od[Md++]=O_,O_=i;var n=Ag;i=Tg;var r=32-Jh(n)-1;n&=~(1<<r),t+=1;var s=32-Jh(e)+r;if(30<s){var a=r-r%5;s=(n&(1<<a)-1).toString(32),n>>=a,r-=a,Ag=1<<32-Jh(e)+r|t<<r|n,Tg=s+i}else Ag=1<<s|t<<r|n,Tg=i}function aY(i){i.return!==null&&(vy(i,1),Uve(i,1,0))}function oY(i){for(;i===TR;)TR=fS[--gS],fS[gS]=null,PR=fS[--gS],fS[gS]=null;for(;i===O_;)O_=Od[--Md],Od[Md]=null,Tg=Od[--Md],Od[Md]=null,Ag=Od[--Md],Od[Md]=null}var Bc=null,Ic=null,Es=!1,$h=null;function Gve(i,e){var t=Bd(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=i,e=i.deletions,e===null?(i.deletions=[t],i.flags|=16):e.push(t)}function vte(i,e){switch(i.tag){case 5:var t=i.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(i.stateNode=e,Bc=i,Ic=Bv(e.firstChild),!0):!1;case 6:return e=i.pendingProps===""||e.nodeType!==3?null:e,e!==null?(i.stateNode=e,Bc=i,Ic=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=O_!==null?{id:Ag,overflow:Tg}:null,i.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Bd(18,null,null,0),t.stateNode=e,t.return=i,i.child=t,Bc=i,Ic=null,!0):!1;default:return!1}}function zz(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Hz(i){if(Es){var e=Ic;if(e){var t=e;if(!vte(i,e)){if(zz(i))throw Error(Ct(418));e=Bv(t.nextSibling);var n=Bc;e&&vte(i,e)?Gve(n,t):(i.flags=i.flags&-4097|2,Es=!1,Bc=i)}}else{if(zz(i))throw Error(Ct(418));i.flags=i.flags&-4097|2,Es=!1,Bc=i}}}function yte(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Bc=i}function cM(i){if(i!==Bc)return!1;if(!Es)return yte(i),Es=!0,!1;var e;if((e=i.tag!==3)&&!(e=i.tag!==5)&&(e=i.type,e=e!=="head"&&e!=="body"&&!Bz(i.type,i.memoizedProps)),e&&(e=Ic)){if(zz(i))throw Yve(),Error(Ct(418));for(;e;)Gve(i,e),e=Bv(e.nextSibling)}if(yte(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ct(317));e:{for(i=i.nextSibling,e=0;i;){if(i.nodeType===8){var t=i.data;if(t==="/$"){if(e===0){Ic=Bv(i.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}i=i.nextSibling}Ic=null}}else Ic=Bc?Bv(i.stateNode.nextSibling):null;return!0}function Yve(){for(var i=Ic;i;)i=Bv(i.nextSibling)}function kx(){Ic=Bc=null,Es=!1}function lY(i){$h===null?$h=[i]:$h.push(i)}var GLe=am.ReactCurrentBatchConfig;function ek(i,e,t){if(i=t.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ct(309));var n=t.stateNode}if(!n)throw Error(Ct(147,i));var r=n,s=""+i;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=r.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof i!="string")throw Error(Ct(284));if(!t._owner)throw Error(Ct(290,i))}return i}function dM(i,e){throw i=Object.prototype.toString.call(e),Error(Ct(31,i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i))}function _te(i){var e=i._init;return e(i._payload)}function Kve(i){function e(m,b){if(i){var _=m.deletions;_===null?(m.deletions=[b],m.flags|=16):_.push(b)}}function t(m,b){if(!i)return null;for(;b!==null;)e(m,b),b=b.sibling;return null}function n(m,b){for(m=new Map;b!==null;)b.key!==null?m.set(b.key,b):m.set(b.index,b),b=b.sibling;return m}function r(m,b){return m=zv(m,b),m.index=0,m.sibling=null,m}function s(m,b,_){return m.index=_,i?(_=m.alternate,_!==null?(_=_.index,_<b?(m.flags|=2,b):_):(m.flags|=2,b)):(m.flags|=1048576,b)}function a(m){return i&&m.alternate===null&&(m.flags|=2),m}function o(m,b,_,S){return b===null||b.tag!==6?(b=qN(_,m.mode,S),b.return=m,b):(b=r(b,_),b.return=m,b)}function l(m,b,_,S){var C=_.type;return C===lS?c(m,b,_.props.children,S,_.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===tv&&_te(C)===b.type)?(S=r(b,_.props),S.ref=ek(m,b,_),S.return=m,S):(S=y3(_.type,_.key,_.props,null,m.mode,S),S.ref=ek(m,b,_),S.return=m,S)}function u(m,b,_,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=ZN(_,m.mode,S),b.return=m,b):(b=r(b,_.children||[]),b.return=m,b)}function c(m,b,_,S,C){return b===null||b.tag!==7?(b=r_(_,m.mode,S,C),b.return=m,b):(b=r(b,_),b.return=m,b)}function d(m,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=qN(""+b,m.mode,_),b.return=m,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case eM:return _=y3(b.type,b.key,b.props,null,m.mode,_),_.ref=ek(m,null,b),_.return=m,_;case oS:return b=ZN(b,m.mode,_),b.return=m,b;case tv:var S=b._init;return d(m,S(b._payload),_)}if(zk(b)||XC(b))return b=r_(b,m.mode,_,null),b.return=m,b;dM(m,b)}return null}function h(m,b,_,S){var C=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return C!==null?null:o(m,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case eM:return _.key===C?l(m,b,_,S):null;case oS:return _.key===C?u(m,b,_,S):null;case tv:return C=_._init,h(m,b,C(_._payload),S)}if(zk(_)||XC(_))return C!==null?null:c(m,b,_,S,null);dM(m,_)}return null}function p(m,b,_,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(_)||null,o(b,m,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case eM:return m=m.get(S.key===null?_:S.key)||null,l(b,m,S,C);case oS:return m=m.get(S.key===null?_:S.key)||null,u(b,m,S,C);case tv:var k=S._init;return p(m,b,_,k(S._payload),C)}if(zk(S)||XC(S))return m=m.get(_)||null,c(b,m,S,C,null);dM(b,S)}return null}function f(m,b,_,S){for(var C=null,k=null,E=b,A=b=0,P=null;E!==null&&A<_.length;A++){E.index>A?(P=E,E=null):P=E.sibling;var O=h(m,E,_[A],S);if(O===null){E===null&&(E=P);break}i&&E&&O.alternate===null&&e(m,E),b=s(O,b,A),k===null?C=O:k.sibling=O,k=O,E=P}if(A===_.length)return t(m,E),Es&&vy(m,A),C;if(E===null){for(;A<_.length;A++)E=d(m,_[A],S),E!==null&&(b=s(E,b,A),k===null?C=E:k.sibling=E,k=E);return Es&&vy(m,A),C}for(E=n(m,E);A<_.length;A++)P=p(E,m,A,_[A],S),P!==null&&(i&&P.alternate!==null&&E.delete(P.key===null?A:P.key),b=s(P,b,A),k===null?C=P:k.sibling=P,k=P);return i&&E.forEach(function(M){return e(m,M)}),Es&&vy(m,A),C}function g(m,b,_,S){var C=XC(_);if(typeof C!="function")throw Error(Ct(150));if(_=C.call(_),_==null)throw Error(Ct(151));for(var k=C=null,E=b,A=b=0,P=null,O=_.next();E!==null&&!O.done;A++,O=_.next()){E.index>A?(P=E,E=null):P=E.sibling;var M=h(m,E,O.value,S);if(M===null){E===null&&(E=P);break}i&&E&&M.alternate===null&&e(m,E),b=s(M,b,A),k===null?C=M:k.sibling=M,k=M,E=P}if(O.done)return t(m,E),Es&&vy(m,A),C;if(E===null){for(;!O.done;A++,O=_.next())O=d(m,O.value,S),O!==null&&(b=s(O,b,A),k===null?C=O:k.sibling=O,k=O);return Es&&vy(m,A),C}for(E=n(m,E);!O.done;A++,O=_.next())O=p(E,m,A,O.value,S),O!==null&&(i&&O.alternate!==null&&E.delete(O.key===null?A:O.key),b=s(O,b,A),k===null?C=O:k.sibling=O,k=O);return i&&E.forEach(function(D){return e(m,D)}),Es&&vy(m,A),C}function v(m,b,_,S){if(typeof _=="object"&&_!==null&&_.type===lS&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case eM:e:{for(var C=_.key,k=b;k!==null;){if(k.key===C){if(C=_.type,C===lS){if(k.tag===7){t(m,k.sibling),b=r(k,_.props.children),b.return=m,m=b;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===tv&&_te(C)===k.type){t(m,k.sibling),b=r(k,_.props),b.ref=ek(m,k,_),b.return=m,m=b;break e}t(m,k);break}else e(m,k);k=k.sibling}_.type===lS?(b=r_(_.props.children,m.mode,S,_.key),b.return=m,m=b):(S=y3(_.type,_.key,_.props,null,m.mode,S),S.ref=ek(m,b,_),S.return=m,m=S)}return a(m);case oS:e:{for(k=_.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){t(m,b.sibling),b=r(b,_.children||[]),b.return=m,m=b;break e}else{t(m,b);break}else e(m,b);b=b.sibling}b=ZN(_,m.mode,S),b.return=m,m=b}return a(m);case tv:return k=_._init,v(m,b,k(_._payload),S)}if(zk(_))return f(m,b,_,S);if(XC(_))return g(m,b,_,S);dM(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(t(m,b.sibling),b=r(b,_),b.return=m,m=b):(t(m,b),b=qN(_,m.mode,S),b.return=m,m=b),a(m)):t(m,b)}return v}var Ex=Kve(!0),Xve=Kve(!1),OR=A0(null),MR=null,mS=null,uY=null;function cY(){uY=mS=MR=null}function dY(i){var e=OR.current;ps(OR),i._currentValue=e}function Vz(i,e,t){for(;i!==null;){var n=i.alternate;if((i.childLanes&e)!==e?(i.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),i===t)break;i=i.return}}function ZS(i,e){MR=i,uY=mS=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&e&&(Fu=!0),i.firstContext=null)}function Gd(i){var e=i._currentValue;if(uY!==i)if(i={context:i,memoizedValue:e,next:null},mS===null){if(MR===null)throw Error(Ct(308));mS=i,MR.dependencies={lanes:0,firstContext:i}}else mS=mS.next=i;return e}var Ny=null;function hY(i){Ny===null?Ny=[i]:Ny.push(i)}function qve(i,e,t,n){var r=e.interleaved;return r===null?(t.next=t,hY(e)):(t.next=r.next,r.next=t),e.interleaved=t,Wg(i,n)}function Wg(i,e){i.lanes|=e;var t=i.alternate;for(t!==null&&(t.lanes|=e),t=i,i=i.return;i!==null;)i.childLanes|=e,t=i.alternate,t!==null&&(t.childLanes|=e),t=i,i=i.return;return t.tag===3?t.stateNode:null}var iv=!1;function pY(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zve(i,e){i=i.updateQueue,e.updateQueue===i&&(e.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Lg(i,e){return{eventTime:i,lane:e,tag:0,payload:null,callback:null,next:null}}function $v(i,e,t){var n=i.updateQueue;if(n===null)return null;if(n=n.shared,Xn&2){var r=n.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e,Wg(i,t)}return r=n.interleaved,r===null?(e.next=e,hY(n)):(e.next=r.next,r.next=e),n.interleaved=e,Wg(i,t)}function h3(i,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=i.pendingLanes,t|=n,e.lanes=t,QG(i,t)}}function bte(i,e){var t=i.updateQueue,n=i.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,effects:n.effects},i.updateQueue=t;return}i=t.lastBaseUpdate,i===null?t.firstBaseUpdate=e:i.next=e,t.lastBaseUpdate=e}function IR(i,e,t,n){var r=i.updateQueue;iv=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=i.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;a=0,c=u=l=null,o=s;do{var h=o.lane,p=o.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=i,g=o;switch(h=e,p=t,g.tag){case 1:if(f=g.payload,typeof f=="function"){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=g.payload,h=typeof f=="function"?f.call(p,d,h):f,h==null)break e;d=Ks({},d,h);break e;case 2:iv=!0}}o.callback!==null&&o.lane!==0&&(i.flags|=64,h=r.effects,h===null?r.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,a|=h;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;h=o,o=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(c===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);I_|=a,i.lanes=a,i.memoizedState=d}}function Ste(i,e,t){if(i=e.effects,e.effects=null,i!==null)for(e=0;e<i.length;e++){var n=i[e],r=n.callback;if(r!==null){if(n.callback=null,n=t,typeof r!="function")throw Error(Ct(191,r));r.call(n)}}}var D2={},mf=A0(D2),KA=A0(D2),XA=A0(D2);function jy(i){if(i===D2)throw Error(Ct(174));return i}function fY(i,e){switch(es(XA,e),es(KA,i),es(mf,D2),i=e.nodeType,i){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wz(null,"");break;default:i=i===8?e.parentNode:e,e=i.namespaceURI||null,i=i.tagName,e=wz(e,i)}ps(mf),es(mf,e)}function Ax(){ps(mf),ps(KA),ps(XA)}function Qve(i){jy(XA.current);var e=jy(mf.current),t=wz(e,i.type);e!==t&&(es(KA,i),es(mf,t))}function gY(i){KA.current===i&&(ps(mf),ps(KA))}var Hs=A0(0);function RR(i){for(var e=i;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var WN=[];function mY(){for(var i=0;i<WN.length;i++)WN[i]._workInProgressVersionPrimary=null;WN.length=0}var p3=am.ReactCurrentDispatcher,UN=am.ReactCurrentBatchConfig,M_=0,Ys=null,Ka=null,yo=null,DR=!1,yE=!1,qA=0,YLe=0;function al(){throw Error(Ct(321))}function vY(i,e){if(e===null)return!1;for(var t=0;t<e.length&&t<i.length;t++)if(!op(i[t],e[t]))return!1;return!0}function yY(i,e,t,n,r,s){if(M_=s,Ys=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,p3.current=i===null||i.memoizedState===null?ZLe:QLe,i=t(n,r),yE){s=0;do{if(yE=!1,qA=0,25<=s)throw Error(Ct(301));s+=1,yo=Ka=null,e.updateQueue=null,p3.current=JLe,i=t(n,r)}while(yE)}if(p3.current=LR,e=Ka!==null&&Ka.next!==null,M_=0,yo=Ka=Ys=null,DR=!1,e)throw Error(Ct(300));return i}function _Y(){var i=qA!==0;return qA=0,i}function jp(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yo===null?Ys.memoizedState=yo=i:yo=yo.next=i,yo}function Yd(){if(Ka===null){var i=Ys.alternate;i=i!==null?i.memoizedState:null}else i=Ka.next;var e=yo===null?Ys.memoizedState:yo.next;if(e!==null)yo=e,Ka=i;else{if(i===null)throw Error(Ct(310));Ka=i,i={memoizedState:Ka.memoizedState,baseState:Ka.baseState,baseQueue:Ka.baseQueue,queue:Ka.queue,next:null},yo===null?Ys.memoizedState=yo=i:yo=yo.next=i}return yo}function ZA(i,e){return typeof e=="function"?e(i):e}function GN(i){var e=Yd(),t=e.queue;if(t===null)throw Error(Ct(311));t.lastRenderedReducer=i;var n=Ka,r=n.baseQueue,s=t.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}n.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,n=n.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((M_&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:i(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,Ys.lanes|=c,I_|=c}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,op(n,e.memoizedState)||(Fu=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,t.lastRenderedState=n}if(i=t.interleaved,i!==null){r=i;do s=r.lane,Ys.lanes|=s,I_|=s,r=r.next;while(r!==i)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function YN(i){var e=Yd(),t=e.queue;if(t===null)throw Error(Ct(311));t.lastRenderedReducer=i;var n=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var a=r=r.next;do s=i(s,a.action),a=a.next;while(a!==r);op(s,e.memoizedState)||(Fu=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,n]}function Jve(){}function e0e(i,e){var t=Ys,n=Yd(),r=e(),s=!op(n.memoizedState,r);if(s&&(n.memoizedState=r,Fu=!0),n=n.queue,bY(n0e.bind(null,t,n,i),[i]),n.getSnapshot!==e||s||yo!==null&&yo.memoizedState.tag&1){if(t.flags|=2048,QA(9,i0e.bind(null,t,n,r,e),void 0,null),Co===null)throw Error(Ct(349));M_&30||t0e(t,e,r)}return r}function t0e(i,e,t){i.flags|=16384,i={getSnapshot:e,value:t},e=Ys.updateQueue,e===null?(e={lastEffect:null,stores:null},Ys.updateQueue=e,e.stores=[i]):(t=e.stores,t===null?e.stores=[i]:t.push(i))}function i0e(i,e,t,n){e.value=t,e.getSnapshot=n,r0e(e)&&s0e(i)}function n0e(i,e,t){return t(function(){r0e(e)&&s0e(i)})}function r0e(i){var e=i.getSnapshot;i=i.value;try{var t=e();return!op(i,t)}catch{return!0}}function s0e(i){var e=Wg(i,1);e!==null&&ep(e,i,1,-1)}function xte(i){var e=jp();return typeof i=="function"&&(i=i()),e.memoizedState=e.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ZA,lastRenderedState:i},e.queue=i,i=i.dispatch=qLe.bind(null,Ys,i),[e.memoizedState,i]}function QA(i,e,t,n){return i={tag:i,create:e,destroy:t,deps:n,next:null},e=Ys.updateQueue,e===null?(e={lastEffect:null,stores:null},Ys.updateQueue=e,e.lastEffect=i.next=i):(t=e.lastEffect,t===null?e.lastEffect=i.next=i:(n=t.next,t.next=i,i.next=n,e.lastEffect=i)),i}function a0e(){return Yd().memoizedState}function f3(i,e,t,n){var r=jp();Ys.flags|=i,r.memoizedState=QA(1|e,t,void 0,n===void 0?null:n)}function I6(i,e,t,n){var r=Yd();n=n===void 0?null:n;var s=void 0;if(Ka!==null){var a=Ka.memoizedState;if(s=a.destroy,n!==null&&vY(n,a.deps)){r.memoizedState=QA(e,t,s,n);return}}Ys.flags|=i,r.memoizedState=QA(1|e,t,s,n)}function wte(i,e){return f3(8390656,8,i,e)}function bY(i,e){return I6(2048,8,i,e)}function o0e(i,e){return I6(4,2,i,e)}function l0e(i,e){return I6(4,4,i,e)}function u0e(i,e){if(typeof e=="function")return i=i(),e(i),function(){e(null)};if(e!=null)return i=i(),e.current=i,function(){e.current=null}}function c0e(i,e,t){return t=t!=null?t.concat([i]):null,I6(4,4,u0e.bind(null,e,i),t)}function SY(){}function d0e(i,e){var t=Yd();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&vY(e,n[1])?n[0]:(t.memoizedState=[i,e],i)}function h0e(i,e){var t=Yd();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&vY(e,n[1])?n[0]:(i=i(),t.memoizedState=[i,e],i)}function p0e(i,e,t){return M_&21?(op(t,e)||(t=yve(),Ys.lanes|=t,I_|=t,i.baseState=!0),e):(i.baseState&&(i.baseState=!1,Fu=!0),i.memoizedState=t)}function KLe(i,e){var t=Mr;Mr=t!==0&&4>t?t:4,i(!0);var n=UN.transition;UN.transition={};try{i(!1),e()}finally{Mr=t,UN.transition=n}}function f0e(){return Yd().memoizedState}function XLe(i,e,t){var n=jv(i);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},g0e(i))m0e(e,t);else if(t=qve(i,e,t,n),t!==null){var r=eu();ep(t,i,n,r),v0e(t,e,n)}}function qLe(i,e,t){var n=jv(i),r={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(g0e(i))m0e(e,r);else{var s=i.alternate;if(i.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(r.hasEagerState=!0,r.eagerState=o,op(o,a)){var l=e.interleaved;l===null?(r.next=r,hY(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=qve(i,e,r,n),t!==null&&(r=eu(),ep(t,i,n,r),v0e(t,e,n))}}function g0e(i){var e=i.alternate;return i===Ys||e!==null&&e===Ys}function m0e(i,e){yE=DR=!0;var t=i.pending;t===null?e.next=e:(e.next=t.next,t.next=e),i.pending=e}function v0e(i,e,t){if(t&4194240){var n=e.lanes;n&=i.pendingLanes,t|=n,e.lanes=t,QG(i,t)}}var LR={readContext:Gd,useCallback:al,useContext:al,useEffect:al,useImperativeHandle:al,useInsertionEffect:al,useLayoutEffect:al,useMemo:al,useReducer:al,useRef:al,useState:al,useDebugValue:al,useDeferredValue:al,useTransition:al,useMutableSource:al,useSyncExternalStore:al,useId:al,unstable_isNewReconciler:!1},ZLe={readContext:Gd,useCallback:function(i,e){return jp().memoizedState=[i,e===void 0?null:e],i},useContext:Gd,useEffect:wte,useImperativeHandle:function(i,e,t){return t=t!=null?t.concat([i]):null,f3(4194308,4,u0e.bind(null,e,i),t)},useLayoutEffect:function(i,e){return f3(4194308,4,i,e)},useInsertionEffect:function(i,e){return f3(4,2,i,e)},useMemo:function(i,e){var t=jp();return e=e===void 0?null:e,i=i(),t.memoizedState=[i,e],i},useReducer:function(i,e,t){var n=jp();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:e},n.queue=i,i=i.dispatch=XLe.bind(null,Ys,i),[n.memoizedState,i]},useRef:function(i){var e=jp();return i={current:i},e.memoizedState=i},useState:xte,useDebugValue:SY,useDeferredValue:function(i){return jp().memoizedState=i},useTransition:function(){var i=xte(!1),e=i[0];return i=KLe.bind(null,i[1]),jp().memoizedState=i,[e,i]},useMutableSource:function(){},useSyncExternalStore:function(i,e,t){var n=Ys,r=jp();if(Es){if(t===void 0)throw Error(Ct(407));t=t()}else{if(t=e(),Co===null)throw Error(Ct(349));M_&30||t0e(n,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,wte(n0e.bind(null,n,s,i),[i]),n.flags|=2048,QA(9,i0e.bind(null,n,s,t,e),void 0,null),t},useId:function(){var i=jp(),e=Co.identifierPrefix;if(Es){var t=Tg,n=Ag;t=(n&~(1<<32-Jh(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=qA++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=YLe++,e=":"+e+"r"+t.toString(32)+":";return i.memoizedState=e},unstable_isNewReconciler:!1},QLe={readContext:Gd,useCallback:d0e,useContext:Gd,useEffect:bY,useImperativeHandle:c0e,useInsertionEffect:o0e,useLayoutEffect:l0e,useMemo:h0e,useReducer:GN,useRef:a0e,useState:function(){return GN(ZA)},useDebugValue:SY,useDeferredValue:function(i){var e=Yd();return p0e(e,Ka.memoizedState,i)},useTransition:function(){var i=GN(ZA)[0],e=Yd().memoizedState;return[i,e]},useMutableSource:Jve,useSyncExternalStore:e0e,useId:f0e,unstable_isNewReconciler:!1},JLe={readContext:Gd,useCallback:d0e,useContext:Gd,useEffect:bY,useImperativeHandle:c0e,useInsertionEffect:o0e,useLayoutEffect:l0e,useMemo:h0e,useReducer:YN,useRef:a0e,useState:function(){return YN(ZA)},useDebugValue:SY,useDeferredValue:function(i){var e=Yd();return Ka===null?e.memoizedState=i:p0e(e,Ka.memoizedState,i)},useTransition:function(){var i=YN(ZA)[0],e=Yd().memoizedState;return[i,e]},useMutableSource:Jve,useSyncExternalStore:e0e,useId:f0e,unstable_isNewReconciler:!1};function Rh(i,e){if(i&&i.defaultProps){e=Ks({},e),i=i.defaultProps;for(var t in i)e[t]===void 0&&(e[t]=i[t]);return e}return e}function Wz(i,e,t,n){e=i.memoizedState,t=t(n,e),t=t==null?e:Ks({},e,t),i.memoizedState=t,i.lanes===0&&(i.updateQueue.baseState=t)}var R6={isMounted:function(i){return(i=i._reactInternals)?lb(i)===i:!1},enqueueSetState:function(i,e,t){i=i._reactInternals;var n=eu(),r=jv(i),s=Lg(n,r);s.payload=e,t!=null&&(s.callback=t),e=$v(i,s,r),e!==null&&(ep(e,i,r,n),h3(e,i,r))},enqueueReplaceState:function(i,e,t){i=i._reactInternals;var n=eu(),r=jv(i),s=Lg(n,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=$v(i,s,r),e!==null&&(ep(e,i,r,n),h3(e,i,r))},enqueueForceUpdate:function(i,e){i=i._reactInternals;var t=eu(),n=jv(i),r=Lg(t,n);r.tag=2,e!=null&&(r.callback=e),e=$v(i,r,n),e!==null&&(ep(e,i,n,t),h3(e,i,n))}};function Cte(i,e,t,n,r,s,a){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!WA(t,n)||!WA(r,s):!0}function y0e(i,e,t){var n=!1,r=d0,s=e.contextType;return typeof s=="object"&&s!==null?s=Gd(s):(r=Vu(e)?P_:Il.current,n=e.contextTypes,s=(n=n!=null)?Cx(i,r):d0),e=new e(t,s),i.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=R6,i.stateNode=e,e._reactInternals=i,n&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=r,i.__reactInternalMemoizedMaskedChildContext=s),e}function kte(i,e,t,n){i=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==i&&R6.enqueueReplaceState(e,e.state,null)}function Uz(i,e,t,n){var r=i.stateNode;r.props=t,r.state=i.memoizedState,r.refs={},pY(i);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Gd(s):(s=Vu(e)?P_:Il.current,r.context=Cx(i,s)),r.state=i.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wz(i,e,s,t),r.state=i.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&R6.enqueueReplaceState(r,r.state,null),IR(i,t,r,n),r.state=i.memoizedState),typeof r.componentDidMount=="function"&&(i.flags|=4194308)}function Tx(i,e){try{var t="",n=e;do t+=ADe(n),n=n.return;while(n);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:i,source:e,stack:r,digest:null}}function KN(i,e,t){return{value:i,source:null,stack:t??null,digest:e??null}}function Gz(i,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var eFe=typeof WeakMap=="function"?WeakMap:Map;function _0e(i,e,t){t=Lg(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){BR||(BR=!0,iH=n),Gz(i,e)},t}function b0e(i,e,t){t=Lg(-1,t),t.tag=3;var n=i.type.getDerivedStateFromError;if(typeof n=="function"){var r=e.value;t.payload=function(){return n(r)},t.callback=function(){Gz(i,e)}}var s=i.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Gz(i,e),typeof n!="function"&&(Nv===null?Nv=new Set([this]):Nv.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function Ete(i,e,t){var n=i.pingCache;if(n===null){n=i.pingCache=new eFe;var r=new Set;n.set(e,r)}else r=n.get(e),r===void 0&&(r=new Set,n.set(e,r));r.has(t)||(r.add(t),i=fFe.bind(null,i,e,t),e.then(i,i))}function Ate(i){do{var e;if((e=i.tag===13)&&(e=i.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return i;i=i.return}while(i!==null);return null}function Tte(i,e,t,n,r){return i.mode&1?(i.flags|=65536,i.lanes=r,i):(i===e?i.flags|=65536:(i.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Lg(-1,1),e.tag=2,$v(t,e,1))),t.lanes|=1),i)}var tFe=am.ReactCurrentOwner,Fu=!1;function Kl(i,e,t,n){e.child=i===null?Xve(e,null,t,n):Ex(e,i.child,t,n)}function Pte(i,e,t,n,r){t=t.render;var s=e.ref;return ZS(e,r),n=yY(i,e,t,n,s,r),t=_Y(),i!==null&&!Fu?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~r,Ug(i,e,r)):(Es&&t&&aY(e),e.flags|=1,Kl(i,e,n,r),e.child)}function Ote(i,e,t,n,r){if(i===null){var s=t.type;return typeof s=="function"&&!PY(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,S0e(i,e,s,n,r)):(i=y3(t.type,null,n,e,e.mode,r),i.ref=e.ref,i.return=e,e.child=i)}if(s=i.child,!(i.lanes&r)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:WA,t(a,n)&&i.ref===e.ref)return Ug(i,e,r)}return e.flags|=1,i=zv(s,n),i.ref=e.ref,i.return=e,e.child=i}function S0e(i,e,t,n,r){if(i!==null){var s=i.memoizedProps;if(WA(s,n)&&i.ref===e.ref)if(Fu=!1,e.pendingProps=n=s,(i.lanes&r)!==0)i.flags&131072&&(Fu=!0);else return e.lanes=i.lanes,Ug(i,e,r)}return Yz(i,e,t,n,r)}function x0e(i,e,t){var n=e.pendingProps,r=n.children,s=i!==null?i.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},es(yS,kc),kc|=t;else{if(!(t&1073741824))return i=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:i,cachePool:null,transitions:null},e.updateQueue=null,es(yS,kc),kc|=i,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:t,es(yS,kc),kc|=n}else s!==null?(n=s.baseLanes|t,e.memoizedState=null):n=t,es(yS,kc),kc|=n;return Kl(i,e,r,t),e.child}function w0e(i,e){var t=e.ref;(i===null&&t!==null||i!==null&&i.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Yz(i,e,t,n,r){var s=Vu(t)?P_:Il.current;return s=Cx(e,s),ZS(e,r),t=yY(i,e,t,n,s,r),n=_Y(),i!==null&&!Fu?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~r,Ug(i,e,r)):(Es&&n&&aY(e),e.flags|=1,Kl(i,e,t,r),e.child)}function Mte(i,e,t,n,r){if(Vu(t)){var s=!0;AR(e)}else s=!1;if(ZS(e,r),e.stateNode===null)g3(i,e),y0e(e,t,n),Uz(e,t,n,r),n=!0;else if(i===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=Gd(u):(u=Vu(t)?P_:Il.current,u=Cx(e,u));var c=t.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&kte(e,a,n,u),iv=!1;var h=e.memoizedState;a.state=h,IR(e,n,a,r),l=e.memoizedState,o!==n||h!==l||Hu.current||iv?(typeof c=="function"&&(Wz(e,t,c,n),l=e.memoizedState),(o=iv||Cte(e,t,o,n,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Zve(i,e),o=e.memoizedProps,u=e.type===e.elementType?o:Rh(e.type,o),a.props=u,d=e.pendingProps,h=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=Gd(l):(l=Vu(t)?P_:Il.current,l=Cx(e,l));var p=t.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&kte(e,a,n,l),iv=!1,h=e.memoizedState,a.state=h,IR(e,n,a,r);var f=e.memoizedState;o!==d||h!==f||Hu.current||iv?(typeof p=="function"&&(Wz(e,t,p,n),f=e.memoizedState),(u=iv||Cte(e,t,u,n,h,f,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,f,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,f,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===i.memoizedProps&&h===i.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===i.memoizedProps&&h===i.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=f),a.props=n,a.state=f,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===i.memoizedProps&&h===i.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===i.memoizedProps&&h===i.memoizedState||(e.flags|=1024),n=!1)}return Kz(i,e,t,n,s,r)}function Kz(i,e,t,n,r,s){w0e(i,e);var a=(e.flags&128)!==0;if(!n&&!a)return r&&mte(e,t,!1),Ug(i,e,s);n=e.stateNode,tFe.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,i!==null&&a?(e.child=Ex(e,i.child,null,s),e.child=Ex(e,null,o,s)):Kl(i,e,o,s),e.memoizedState=n.state,r&&mte(e,t,!0),e.child}function C0e(i){var e=i.stateNode;e.pendingContext?gte(i,e.pendingContext,e.pendingContext!==e.context):e.context&&gte(i,e.context,!1),fY(i,e.containerInfo)}function Ite(i,e,t,n,r){return kx(),lY(r),e.flags|=256,Kl(i,e,t,n),e.child}var Xz={dehydrated:null,treeContext:null,retryLane:0};function qz(i){return{baseLanes:i,cachePool:null,transitions:null}}function k0e(i,e,t){var n=e.pendingProps,r=Hs.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=i!==null&&i.memoizedState===null?!1:(r&2)!==0),o?(s=!0,e.flags&=-129):(i===null||i.memoizedState!==null)&&(r|=1),es(Hs,r&1),i===null)return Hz(e),i=e.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(e.mode&1?i.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,i=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=F6(a,n,0,null),i=r_(i,n,t,null),s.return=e,i.return=e,s.sibling=i,e.child=s,e.child.memoizedState=qz(t),e.memoizedState=Xz,i):xY(e,a));if(r=i.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return iFe(i,e,a,n,o,r,t);if(s){s=n.fallback,a=e.mode,r=i.child,o=r.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==r?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=zv(r,l),n.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=zv(o,s):(s=r_(s,a,t,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=i.child.memoizedState,a=a===null?qz(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=i.childLanes&~t,e.memoizedState=Xz,n}return s=i.child,i=s.sibling,n=zv(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,i!==null&&(t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)),e.child=n,e.memoizedState=null,n}function xY(i,e){return e=F6({mode:"visible",children:e},i.mode,0,null),e.return=i,i.child=e}function hM(i,e,t,n){return n!==null&&lY(n),Ex(e,i.child,null,t),i=xY(e,e.pendingProps.children),i.flags|=2,e.memoizedState=null,i}function iFe(i,e,t,n,r,s,a){if(t)return e.flags&256?(e.flags&=-257,n=KN(Error(Ct(422))),hM(i,e,a,n)):e.memoizedState!==null?(e.child=i.child,e.flags|=128,null):(s=n.fallback,r=e.mode,n=F6({mode:"visible",children:n.children},r,0,null),s=r_(s,r,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ex(e,i.child,null,a),e.child.memoizedState=qz(a),e.memoizedState=Xz,s);if(!(e.mode&1))return hM(i,e,a,null);if(r.data==="$!"){if(n=r.nextSibling&&r.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Ct(419)),n=KN(s,n,void 0),hM(i,e,a,n)}if(o=(a&i.childLanes)!==0,Fu||o){if(n=Co,n!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(n.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Wg(i,r),ep(n,i,r,-1))}return TY(),n=KN(Error(Ct(421))),hM(i,e,a,n)}return r.data==="$?"?(e.flags|=128,e.child=i.child,e=gFe.bind(null,i),r._reactRetry=e,null):(i=s.treeContext,Ic=Bv(r.nextSibling),Bc=e,Es=!0,$h=null,i!==null&&(Od[Md++]=Ag,Od[Md++]=Tg,Od[Md++]=O_,Ag=i.id,Tg=i.overflow,O_=e),e=xY(e,n.children),e.flags|=4096,e)}function Rte(i,e,t){i.lanes|=e;var n=i.alternate;n!==null&&(n.lanes|=e),Vz(i.return,e,t)}function XN(i,e,t,n,r){var s=i.memoizedState;s===null?i.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=t,s.tailMode=r)}function E0e(i,e,t){var n=e.pendingProps,r=n.revealOrder,s=n.tail;if(Kl(i,e,n.children,t),n=Hs.current,n&2)n=n&1|2,e.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=e.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Rte(i,t,e);else if(i.tag===19)Rte(i,t,e);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}n&=1}if(es(Hs,n),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)i=t.alternate,i!==null&&RR(i)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),XN(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(i=r.alternate,i!==null&&RR(i)===null){e.child=r;break}i=r.sibling,r.sibling=t,t=r,r=i}XN(e,!0,t,null,s);break;case"together":XN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function g3(i,e){!(e.mode&1)&&i!==null&&(i.alternate=null,e.alternate=null,e.flags|=2)}function Ug(i,e,t){if(i!==null&&(e.dependencies=i.dependencies),I_|=e.lanes,!(t&e.childLanes))return null;if(i!==null&&e.child!==i.child)throw Error(Ct(153));if(e.child!==null){for(i=e.child,t=zv(i,i.pendingProps),e.child=t,t.return=e;i.sibling!==null;)i=i.sibling,t=t.sibling=zv(i,i.pendingProps),t.return=e;t.sibling=null}return e.child}function nFe(i,e,t){switch(e.tag){case 3:C0e(e),kx();break;case 5:Qve(e);break;case 1:Vu(e.type)&&AR(e);break;case 4:fY(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,r=e.memoizedProps.value;es(OR,n._currentValue),n._currentValue=r;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(es(Hs,Hs.current&1),e.flags|=128,null):t&e.child.childLanes?k0e(i,e,t):(es(Hs,Hs.current&1),i=Ug(i,e,t),i!==null?i.sibling:null);es(Hs,Hs.current&1);break;case 19:if(n=(t&e.childLanes)!==0,i.flags&128){if(n)return E0e(i,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),es(Hs,Hs.current),n)break;return null;case 22:case 23:return e.lanes=0,x0e(i,e,t)}return Ug(i,e,t)}var A0e,Zz,T0e,P0e;A0e=function(i,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)i.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Zz=function(){};T0e=function(i,e,t,n){var r=i.memoizedProps;if(r!==n){i=e.stateNode,jy(mf.current);var s=null;switch(t){case"input":r=_z(i,r),n=_z(i,n),s=[];break;case"select":r=Ks({},r,{value:void 0}),n=Ks({},n,{value:void 0}),s=[];break;case"textarea":r=xz(i,r),n=xz(i,n),s=[];break;default:typeof r.onClick!="function"&&typeof n.onClick=="function"&&(i.onclick=kR)}Cz(t,n);var a;t=null;for(u in r)if(!n.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var o=r[u];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(BA.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=r!=null?r[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(BA.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ss("scroll",i),s||o===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};P0e=function(i,e,t,n){t!==n&&(e.flags|=4)};function tk(i,e){if(!Es)switch(i.tailMode){case"hidden":e=i.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?i.tail=null:t.sibling=null;break;case"collapsed":t=i.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||i.tail===null?i.tail=null:i.tail.sibling=null:n.sibling=null}}function ol(i){var e=i.alternate!==null&&i.alternate.child===i.child,t=0,n=0;if(e)for(var r=i.child;r!==null;)t|=r.lanes|r.childLanes,n|=r.subtreeFlags&14680064,n|=r.flags&14680064,r.return=i,r=r.sibling;else for(r=i.child;r!==null;)t|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=i,r=r.sibling;return i.subtreeFlags|=n,i.childLanes=t,e}function rFe(i,e,t){var n=e.pendingProps;switch(oY(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ol(e),null;case 1:return Vu(e.type)&&ER(),ol(e),null;case 3:return n=e.stateNode,Ax(),ps(Hu),ps(Il),mY(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(i===null||i.child===null)&&(cM(e)?e.flags|=4:i===null||i.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$h!==null&&(sH($h),$h=null))),Zz(i,e),ol(e),null;case 5:gY(e);var r=jy(XA.current);if(t=e.type,i!==null&&e.stateNode!=null)T0e(i,e,t,n,r),i.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ct(166));return ol(e),null}if(i=jy(mf.current),cM(e)){n=e.stateNode,t=e.type;var s=e.memoizedProps;switch(n[Kp]=e,n[YA]=s,i=(e.mode&1)!==0,t){case"dialog":ss("cancel",n),ss("close",n);break;case"iframe":case"object":case"embed":ss("load",n);break;case"video":case"audio":for(r=0;r<Vk.length;r++)ss(Vk[r],n);break;case"source":ss("error",n);break;case"img":case"image":case"link":ss("error",n),ss("load",n);break;case"details":ss("toggle",n);break;case"input":Hee(n,s),ss("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ss("invalid",n);break;case"textarea":Wee(n,s),ss("invalid",n)}Cz(t,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&uM(n.textContent,o,i),r=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&uM(n.textContent,o,i),r=["children",""+o]):BA.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ss("scroll",n)}switch(t){case"input":tM(n),Vee(n,s,!0);break;case"textarea":tM(n),Uee(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=kR)}n=r,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=nve(t)),i==="http://www.w3.org/1999/xhtml"?t==="script"?(i=a.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof n.is=="string"?i=a.createElement(t,{is:n.is}):(i=a.createElement(t),t==="select"&&(a=i,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):i=a.createElementNS(i,t),i[Kp]=e,i[YA]=n,A0e(i,e,!1,!1),e.stateNode=i;e:{switch(a=kz(t,n),t){case"dialog":ss("cancel",i),ss("close",i),r=n;break;case"iframe":case"object":case"embed":ss("load",i),r=n;break;case"video":case"audio":for(r=0;r<Vk.length;r++)ss(Vk[r],i);r=n;break;case"source":ss("error",i),r=n;break;case"img":case"image":case"link":ss("error",i),ss("load",i),r=n;break;case"details":ss("toggle",i),r=n;break;case"input":Hee(i,n),r=_z(i,n),ss("invalid",i);break;case"option":r=n;break;case"select":i._wrapperState={wasMultiple:!!n.multiple},r=Ks({},n,{value:void 0}),ss("invalid",i);break;case"textarea":Wee(i,n),r=xz(i,n),ss("invalid",i);break;default:r=n}Cz(t,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?ave(i,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rve(i,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&$A(i,l):typeof l=="number"&&$A(i,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(BA.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ss("scroll",i):l!=null&&GG(i,s,l,a))}switch(t){case"input":tM(i),Vee(i,n,!1);break;case"textarea":tM(i),Uee(i);break;case"option":n.value!=null&&i.setAttribute("value",""+c0(n.value));break;case"select":i.multiple=!!n.multiple,s=n.value,s!=null?YS(i,!!n.multiple,s,!1):n.defaultValue!=null&&YS(i,!!n.multiple,n.defaultValue,!0);break;default:typeof r.onClick=="function"&&(i.onclick=kR)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ol(e),null;case 6:if(i&&e.stateNode!=null)P0e(i,e,i.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ct(166));if(t=jy(XA.current),jy(mf.current),cM(e)){if(n=e.stateNode,t=e.memoizedProps,n[Kp]=e,(s=n.nodeValue!==t)&&(i=Bc,i!==null))switch(i.tag){case 3:uM(n.nodeValue,t,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&uM(n.nodeValue,t,(i.mode&1)!==0)}s&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[Kp]=e,e.stateNode=n}return ol(e),null;case 13:if(ps(Hs),n=e.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Es&&Ic!==null&&e.mode&1&&!(e.flags&128))Yve(),kx(),e.flags|=98560,s=!1;else if(s=cM(e),n!==null&&n.dehydrated!==null){if(i===null){if(!s)throw Error(Ct(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ct(317));s[Kp]=e}else kx(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ol(e),s=!1}else $h!==null&&(sH($h),$h=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(i!==null&&i.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(i===null||Hs.current&1?Za===0&&(Za=3):TY())),e.updateQueue!==null&&(e.flags|=4),ol(e),null);case 4:return Ax(),Zz(i,e),i===null&&UA(e.stateNode.containerInfo),ol(e),null;case 10:return dY(e.type._context),ol(e),null;case 17:return Vu(e.type)&&ER(),ol(e),null;case 19:if(ps(Hs),s=e.memoizedState,s===null)return ol(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)tk(s,!1);else{if(Za!==0||i!==null&&i.flags&128)for(i=e.child;i!==null;){if(a=RR(i),a!==null){for(e.flags|=128,tk(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)s=t,i=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,i=a.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t=t.sibling;return es(Hs,Hs.current&1|2),e.child}i=i.sibling}s.tail!==null&&_a()>Px&&(e.flags|=128,n=!0,tk(s,!1),e.lanes=4194304)}else{if(!n)if(i=RR(a),i!==null){if(e.flags|=128,n=!0,t=i.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),tk(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Es)return ol(e),null}else 2*_a()-s.renderingStartTime>Px&&t!==1073741824&&(e.flags|=128,n=!0,tk(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_a(),e.sibling=null,t=Hs.current,es(Hs,n?t&1|2:t&1),e):(ol(e),null);case 22:case 23:return AY(),n=e.memoizedState!==null,i!==null&&i.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?kc&1073741824&&(ol(e),e.subtreeFlags&6&&(e.flags|=8192)):ol(e),null;case 24:return null;case 25:return null}throw Error(Ct(156,e.tag))}function sFe(i,e){switch(oY(e),e.tag){case 1:return Vu(e.type)&&ER(),i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 3:return Ax(),ps(Hu),ps(Il),mY(),i=e.flags,i&65536&&!(i&128)?(e.flags=i&-65537|128,e):null;case 5:return gY(e),null;case 13:if(ps(Hs),i=e.memoizedState,i!==null&&i.dehydrated!==null){if(e.alternate===null)throw Error(Ct(340));kx()}return i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 19:return ps(Hs),null;case 4:return Ax(),null;case 10:return dY(e.type._context),null;case 22:case 23:return AY(),null;case 24:return null;default:return null}}var pM=!1,bl=!1,aFe=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function vS(i,e){var t=i.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){ra(i,e,n)}else t.current=null}function Qz(i,e,t){try{t()}catch(n){ra(i,e,n)}}var Dte=!1;function oFe(i,e){if(Lz=xR,i=Dve(),sY(i)){if("selectionStart"in i)var t={start:i.selectionStart,end:i.selectionEnd};else e:{t=(t=i.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var r=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=i,h=null;t:for(;;){for(var p;d!==t||r!==0&&d.nodeType!==3||(o=a+r),d!==s||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===i)break t;if(h===t&&++u===r&&(o=a),h===s&&++c===n&&(l=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Fz={focusedElem:i,selectionRange:t},xR=!1,Jt=e;Jt!==null;)if(e=Jt,i=e.child,(e.subtreeFlags&1028)!==0&&i!==null)i.return=e,Jt=i;else for(;Jt!==null;){e=Jt;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var g=f.memoizedProps,v=f.memoizedState,m=e.stateNode,b=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:Rh(e.type,g),v);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ct(163))}}catch(S){ra(e,e.return,S)}if(i=e.sibling,i!==null){i.return=e.return,Jt=i;break}Jt=e.return}return f=Dte,Dte=!1,f}function _E(i,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&i)===i){var s=r.destroy;r.destroy=void 0,s!==void 0&&Qz(e,t,s)}r=r.next}while(r!==n)}}function D6(i,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&i)===i){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function Jz(i){var e=i.ref;if(e!==null){var t=i.stateNode;switch(i.tag){case 5:i=t;break;default:i=t}typeof e=="function"?e(i):e.current=i}}function O0e(i){var e=i.alternate;e!==null&&(i.alternate=null,O0e(e)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(e=i.stateNode,e!==null&&(delete e[Kp],delete e[YA],delete e[Nz],delete e[VLe],delete e[WLe])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function M0e(i){return i.tag===5||i.tag===3||i.tag===4}function Lte(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||M0e(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function eH(i,e,t){var n=i.tag;if(n===5||n===6)i=i.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(i,e):t.insertBefore(i,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(i,t)):(e=t,e.appendChild(i)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=kR));else if(n!==4&&(i=i.child,i!==null))for(eH(i,e,t),i=i.sibling;i!==null;)eH(i,e,t),i=i.sibling}function tH(i,e,t){var n=i.tag;if(n===5||n===6)i=i.stateNode,e?t.insertBefore(i,e):t.appendChild(i);else if(n!==4&&(i=i.child,i!==null))for(tH(i,e,t),i=i.sibling;i!==null;)tH(i,e,t),i=i.sibling}var Lo=null,Lh=!1;function Bm(i,e,t){for(t=t.child;t!==null;)I0e(i,e,t),t=t.sibling}function I0e(i,e,t){if(gf&&typeof gf.onCommitFiberUnmount=="function")try{gf.onCommitFiberUnmount(E6,t)}catch{}switch(t.tag){case 5:bl||vS(t,e);case 6:var n=Lo,r=Lh;Lo=null,Bm(i,e,t),Lo=n,Lh=r,Lo!==null&&(Lh?(i=Lo,t=t.stateNode,i.nodeType===8?i.parentNode.removeChild(t):i.removeChild(t)):Lo.removeChild(t.stateNode));break;case 18:Lo!==null&&(Lh?(i=Lo,t=t.stateNode,i.nodeType===8?HN(i.parentNode,t):i.nodeType===1&&HN(i,t),HA(i)):HN(Lo,t.stateNode));break;case 4:n=Lo,r=Lh,Lo=t.stateNode.containerInfo,Lh=!0,Bm(i,e,t),Lo=n,Lh=r;break;case 0:case 11:case 14:case 15:if(!bl&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){r=n=n.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Qz(t,e,a),r=r.next}while(r!==n)}Bm(i,e,t);break;case 1:if(!bl&&(vS(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(o){ra(t,e,o)}Bm(i,e,t);break;case 21:Bm(i,e,t);break;case 22:t.mode&1?(bl=(n=bl)||t.memoizedState!==null,Bm(i,e,t),bl=n):Bm(i,e,t);break;default:Bm(i,e,t)}}function Fte(i){var e=i.updateQueue;if(e!==null){i.updateQueue=null;var t=i.stateNode;t===null&&(t=i.stateNode=new aFe),e.forEach(function(n){var r=mFe.bind(null,i,n);t.has(n)||(t.add(n),n.then(r,r))})}}function _h(i,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];try{var s=i,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Lo=o.stateNode,Lh=!1;break e;case 3:Lo=o.stateNode.containerInfo,Lh=!0;break e;case 4:Lo=o.stateNode.containerInfo,Lh=!0;break e}o=o.return}if(Lo===null)throw Error(Ct(160));I0e(s,a,r),Lo=null,Lh=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){ra(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)R0e(e,i),e=e.sibling}function R0e(i,e){var t=i.alternate,n=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(_h(e,i),Ep(i),n&4){try{_E(3,i,i.return),D6(3,i)}catch(g){ra(i,i.return,g)}try{_E(5,i,i.return)}catch(g){ra(i,i.return,g)}}break;case 1:_h(e,i),Ep(i),n&512&&t!==null&&vS(t,t.return);break;case 5:if(_h(e,i),Ep(i),n&512&&t!==null&&vS(t,t.return),i.flags&32){var r=i.stateNode;try{$A(r,"")}catch(g){ra(i,i.return,g)}}if(n&4&&(r=i.stateNode,r!=null)){var s=i.memoizedProps,a=t!==null?t.memoizedProps:s,o=i.type,l=i.updateQueue;if(i.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&tve(r,s),kz(o,a);var u=kz(o,s);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?ave(r,d):c==="dangerouslySetInnerHTML"?rve(r,d):c==="children"?$A(r,d):GG(r,c,d,u)}switch(o){case"input":bz(r,s);break;case"textarea":ive(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?YS(r,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?YS(r,!!s.multiple,s.defaultValue,!0):YS(r,!!s.multiple,s.multiple?[]:"",!1))}r[YA]=s}catch(g){ra(i,i.return,g)}}break;case 6:if(_h(e,i),Ep(i),n&4){if(i.stateNode===null)throw Error(Ct(162));r=i.stateNode,s=i.memoizedProps;try{r.nodeValue=s}catch(g){ra(i,i.return,g)}}break;case 3:if(_h(e,i),Ep(i),n&4&&t!==null&&t.memoizedState.isDehydrated)try{HA(e.containerInfo)}catch(g){ra(i,i.return,g)}break;case 4:_h(e,i),Ep(i);break;case 13:_h(e,i),Ep(i),r=i.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(kY=_a())),n&4&&Fte(i);break;case 22:if(c=t!==null&&t.memoizedState!==null,i.mode&1?(bl=(u=bl)||c,_h(e,i),bl=u):_h(e,i),Ep(i),n&8192){if(u=i.memoizedState!==null,(i.stateNode.isHidden=u)&&!c&&i.mode&1)for(Jt=i,c=i.child;c!==null;){for(d=Jt=c;Jt!==null;){switch(h=Jt,p=h.child,h.tag){case 0:case 11:case 14:case 15:_E(4,h,h.return);break;case 1:vS(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){n=h,t=h.return;try{e=n,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(g){ra(n,t,g)}}break;case 5:vS(h,h.return);break;case 22:if(h.memoizedState!==null){$te(d);continue}}p!==null?(p.return=h,Jt=p):$te(d)}c=c.sibling}e:for(c=null,d=i;;){if(d.tag===5){if(c===null){c=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=sve("display",a))}catch(g){ra(i,i.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){ra(i,i.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===i)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_h(e,i),Ep(i),n&4&&Fte(i);break;case 21:break;default:_h(e,i),Ep(i)}}function Ep(i){var e=i.flags;if(e&2){try{e:{for(var t=i.return;t!==null;){if(M0e(t)){var n=t;break e}t=t.return}throw Error(Ct(160))}switch(n.tag){case 5:var r=n.stateNode;n.flags&32&&($A(r,""),n.flags&=-33);var s=Lte(i);tH(i,s,r);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Lte(i);eH(i,o,a);break;default:throw Error(Ct(161))}}catch(l){ra(i,i.return,l)}i.flags&=-3}e&4096&&(i.flags&=-4097)}function lFe(i,e,t){Jt=i,D0e(i)}function D0e(i,e,t){for(var n=(i.mode&1)!==0;Jt!==null;){var r=Jt,s=r.child;if(r.tag===22&&n){var a=r.memoizedState!==null||pM;if(!a){var o=r.alternate,l=o!==null&&o.memoizedState!==null||bl;o=pM;var u=bl;if(pM=a,(bl=l)&&!u)for(Jt=r;Jt!==null;)a=Jt,l=a.child,a.tag===22&&a.memoizedState!==null?Nte(r):l!==null?(l.return=a,Jt=l):Nte(r);for(;s!==null;)Jt=s,D0e(s),s=s.sibling;Jt=r,pM=o,bl=u}Bte(i)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Jt=s):Bte(i)}}function Bte(i){for(;Jt!==null;){var e=Jt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bl||D6(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!bl)if(t===null)n.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Rh(e.type,t.memoizedProps);n.componentDidUpdate(r,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ste(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Ste(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&HA(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ct(163))}bl||e.flags&512&&Jz(e)}catch(h){ra(e,e.return,h)}}if(e===i){Jt=null;break}if(t=e.sibling,t!==null){t.return=e.return,Jt=t;break}Jt=e.return}}function $te(i){for(;Jt!==null;){var e=Jt;if(e===i){Jt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Jt=t;break}Jt=e.return}}function Nte(i){for(;Jt!==null;){var e=Jt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{D6(4,e)}catch(l){ra(e,t,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var r=e.return;try{n.componentDidMount()}catch(l){ra(e,r,l)}}var s=e.return;try{Jz(e)}catch(l){ra(e,s,l)}break;case 5:var a=e.return;try{Jz(e)}catch(l){ra(e,a,l)}}}catch(l){ra(e,e.return,l)}if(e===i){Jt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Jt=o;break}Jt=e.return}}var uFe=Math.ceil,FR=am.ReactCurrentDispatcher,wY=am.ReactCurrentOwner,Hd=am.ReactCurrentBatchConfig,Xn=0,Co=null,Ia=null,Vo=0,kc=0,yS=A0(0),Za=0,JA=null,I_=0,L6=0,CY=0,bE=null,Du=null,kY=0,Px=1/0,hg=null,BR=!1,iH=null,Nv=null,fM=!1,mv=null,$R=0,SE=0,nH=null,m3=-1,v3=0;function eu(){return Xn&6?_a():m3!==-1?m3:m3=_a()}function jv(i){return i.mode&1?Xn&2&&Vo!==0?Vo&-Vo:GLe.transition!==null?(v3===0&&(v3=yve()),v3):(i=Mr,i!==0||(i=window.event,i=i===void 0?16:kve(i.type)),i):1}function ep(i,e,t,n){if(50<SE)throw SE=0,nH=null,Error(Ct(185));M2(i,t,n),(!(Xn&2)||i!==Co)&&(i===Co&&(!(Xn&2)&&(L6|=t),Za===4&&uv(i,Vo)),Wu(i,n),t===1&&Xn===0&&!(e.mode&1)&&(Px=_a()+500,M6&&T0()))}function Wu(i,e){var t=i.callbackNode;GDe(i,e);var n=SR(i,i===Co?Vo:0);if(n===0)t!==null&&Kee(t),i.callbackNode=null,i.callbackPriority=0;else if(e=n&-n,i.callbackPriority!==e){if(t!=null&&Kee(t),e===1)i.tag===0?ULe(jte.bind(null,i)):Wve(jte.bind(null,i)),zLe(function(){!(Xn&6)&&T0()}),t=null;else{switch(_ve(n)){case 1:t=ZG;break;case 4:t=mve;break;case 16:t=bR;break;case 536870912:t=vve;break;default:t=bR}t=H0e(t,L0e.bind(null,i))}i.callbackPriority=e,i.callbackNode=t}}function L0e(i,e){if(m3=-1,v3=0,Xn&6)throw Error(Ct(327));var t=i.callbackNode;if(QS()&&i.callbackNode!==t)return null;var n=SR(i,i===Co?Vo:0);if(n===0)return null;if(n&30||n&i.expiredLanes||e)e=NR(i,n);else{e=n;var r=Xn;Xn|=2;var s=B0e();(Co!==i||Vo!==e)&&(hg=null,Px=_a()+500,n_(i,e));do try{hFe();break}catch(o){F0e(i,o)}while(!0);cY(),FR.current=s,Xn=r,Ia!==null?e=0:(Co=null,Vo=0,e=Za)}if(e!==0){if(e===2&&(r=Oz(i),r!==0&&(n=r,e=rH(i,r))),e===1)throw t=JA,n_(i,0),uv(i,n),Wu(i,_a()),t;if(e===6)uv(i,n);else{if(r=i.current.alternate,!(n&30)&&!cFe(r)&&(e=NR(i,n),e===2&&(s=Oz(i),s!==0&&(n=s,e=rH(i,s))),e===1))throw t=JA,n_(i,0),uv(i,n),Wu(i,_a()),t;switch(i.finishedWork=r,i.finishedLanes=n,e){case 0:case 1:throw Error(Ct(345));case 2:yy(i,Du,hg);break;case 3:if(uv(i,n),(n&130023424)===n&&(e=kY+500-_a(),10<e)){if(SR(i,0)!==0)break;if(r=i.suspendedLanes,(r&n)!==n){eu(),i.pingedLanes|=i.suspendedLanes&r;break}i.timeoutHandle=$z(yy.bind(null,i,Du,hg),e);break}yy(i,Du,hg);break;case 4:if(uv(i,n),(n&4194240)===n)break;for(e=i.eventTimes,r=-1;0<n;){var a=31-Jh(n);s=1<<a,a=e[a],a>r&&(r=a),n&=~s}if(n=r,n=_a()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*uFe(n/1960))-n,10<n){i.timeoutHandle=$z(yy.bind(null,i,Du,hg),n);break}yy(i,Du,hg);break;case 5:yy(i,Du,hg);break;default:throw Error(Ct(329))}}}return Wu(i,_a()),i.callbackNode===t?L0e.bind(null,i):null}function rH(i,e){var t=bE;return i.current.memoizedState.isDehydrated&&(n_(i,e).flags|=256),i=NR(i,e),i!==2&&(e=Du,Du=t,e!==null&&sH(e)),i}function sH(i){Du===null?Du=i:Du.push.apply(Du,i)}function cFe(i){for(var e=i;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var r=t[n],s=r.getSnapshot;r=r.value;try{if(!op(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function uv(i,e){for(e&=~CY,e&=~L6,i.suspendedLanes|=e,i.pingedLanes&=~e,i=i.expirationTimes;0<e;){var t=31-Jh(e),n=1<<t;i[t]=-1,e&=~n}}function jte(i){if(Xn&6)throw Error(Ct(327));QS();var e=SR(i,0);if(!(e&1))return Wu(i,_a()),null;var t=NR(i,e);if(i.tag!==0&&t===2){var n=Oz(i);n!==0&&(e=n,t=rH(i,n))}if(t===1)throw t=JA,n_(i,0),uv(i,e),Wu(i,_a()),t;if(t===6)throw Error(Ct(345));return i.finishedWork=i.current.alternate,i.finishedLanes=e,yy(i,Du,hg),Wu(i,_a()),null}function EY(i,e){var t=Xn;Xn|=1;try{return i(e)}finally{Xn=t,Xn===0&&(Px=_a()+500,M6&&T0())}}function R_(i){mv!==null&&mv.tag===0&&!(Xn&6)&&QS();var e=Xn;Xn|=1;var t=Hd.transition,n=Mr;try{if(Hd.transition=null,Mr=1,i)return i()}finally{Mr=n,Hd.transition=t,Xn=e,!(Xn&6)&&T0()}}function AY(){kc=yS.current,ps(yS)}function n_(i,e){i.finishedWork=null,i.finishedLanes=0;var t=i.timeoutHandle;if(t!==-1&&(i.timeoutHandle=-1,jLe(t)),Ia!==null)for(t=Ia.return;t!==null;){var n=t;switch(oY(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ER();break;case 3:Ax(),ps(Hu),ps(Il),mY();break;case 5:gY(n);break;case 4:Ax();break;case 13:ps(Hs);break;case 19:ps(Hs);break;case 10:dY(n.type._context);break;case 22:case 23:AY()}t=t.return}if(Co=i,Ia=i=zv(i.current,null),Vo=kc=e,Za=0,JA=null,CY=L6=I_=0,Du=bE=null,Ny!==null){for(e=0;e<Ny.length;e++)if(t=Ny[e],n=t.interleaved,n!==null){t.interleaved=null;var r=n.next,s=t.pending;if(s!==null){var a=s.next;s.next=r,n.next=a}t.pending=n}Ny=null}return i}function F0e(i,e){do{var t=Ia;try{if(cY(),p3.current=LR,DR){for(var n=Ys.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}DR=!1}if(M_=0,yo=Ka=Ys=null,yE=!1,qA=0,wY.current=null,t===null||t.return===null){Za=1,JA=e,Ia=null;break}e:{var s=i,a=t.return,o=t,l=e;if(e=Vo,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Ate(a);if(p!==null){p.flags&=-257,Tte(p,a,o,s,e),p.mode&1&&Ete(s,u,e),e=p,l=u;var f=e.updateQueue;if(f===null){var g=new Set;g.add(l),e.updateQueue=g}else f.add(l);break e}else{if(!(e&1)){Ete(s,u,e),TY();break e}l=Error(Ct(426))}}else if(Es&&o.mode&1){var v=Ate(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Tte(v,a,o,s,e),lY(Tx(l,o));break e}}s=l=Tx(l,o),Za!==4&&(Za=2),bE===null?bE=[s]:bE.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=_0e(s,l,e);bte(s,m);break e;case 1:o=l;var b=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Nv===null||!Nv.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=b0e(s,o,e);bte(s,S);break e}}s=s.return}while(s!==null)}N0e(t)}catch(C){e=C,Ia===t&&t!==null&&(Ia=t=t.return);continue}break}while(!0)}function B0e(){var i=FR.current;return FR.current=LR,i===null?LR:i}function TY(){(Za===0||Za===3||Za===2)&&(Za=4),Co===null||!(I_&268435455)&&!(L6&268435455)||uv(Co,Vo)}function NR(i,e){var t=Xn;Xn|=2;var n=B0e();(Co!==i||Vo!==e)&&(hg=null,n_(i,e));do try{dFe();break}catch(r){F0e(i,r)}while(!0);if(cY(),Xn=t,FR.current=n,Ia!==null)throw Error(Ct(261));return Co=null,Vo=0,Za}function dFe(){for(;Ia!==null;)$0e(Ia)}function hFe(){for(;Ia!==null&&!BDe();)$0e(Ia)}function $0e(i){var e=z0e(i.alternate,i,kc);i.memoizedProps=i.pendingProps,e===null?N0e(i):Ia=e,wY.current=null}function N0e(i){var e=i;do{var t=e.alternate;if(i=e.return,e.flags&32768){if(t=sFe(t,e),t!==null){t.flags&=32767,Ia=t;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Za=6,Ia=null;return}}else if(t=rFe(t,e,kc),t!==null){Ia=t;return}if(e=e.sibling,e!==null){Ia=e;return}Ia=e=i}while(e!==null);Za===0&&(Za=5)}function yy(i,e,t){var n=Mr,r=Hd.transition;try{Hd.transition=null,Mr=1,pFe(i,e,t,n)}finally{Hd.transition=r,Mr=n}return null}function pFe(i,e,t,n){do QS();while(mv!==null);if(Xn&6)throw Error(Ct(327));t=i.finishedWork;var r=i.finishedLanes;if(t===null)return null;if(i.finishedWork=null,i.finishedLanes=0,t===i.current)throw Error(Ct(177));i.callbackNode=null,i.callbackPriority=0;var s=t.lanes|t.childLanes;if(YDe(i,s),i===Co&&(Ia=Co=null,Vo=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||fM||(fM=!0,H0e(bR,function(){return QS(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Hd.transition,Hd.transition=null;var a=Mr;Mr=1;var o=Xn;Xn|=4,wY.current=null,oFe(i,t),R0e(t,i),RLe(Fz),xR=!!Lz,Fz=Lz=null,i.current=t,lFe(t),$De(),Xn=o,Mr=a,Hd.transition=s}else i.current=t;if(fM&&(fM=!1,mv=i,$R=r),s=i.pendingLanes,s===0&&(Nv=null),zDe(t.stateNode),Wu(i,_a()),e!==null)for(n=i.onRecoverableError,t=0;t<e.length;t++)r=e[t],n(r.value,{componentStack:r.stack,digest:r.digest});if(BR)throw BR=!1,i=iH,iH=null,i;return $R&1&&i.tag!==0&&QS(),s=i.pendingLanes,s&1?i===nH?SE++:(SE=0,nH=i):SE=0,T0(),null}function QS(){if(mv!==null){var i=_ve($R),e=Hd.transition,t=Mr;try{if(Hd.transition=null,Mr=16>i?16:i,mv===null)var n=!1;else{if(i=mv,mv=null,$R=0,Xn&6)throw Error(Ct(331));var r=Xn;for(Xn|=4,Jt=i.current;Jt!==null;){var s=Jt,a=s.child;if(Jt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Jt=u;Jt!==null;){var c=Jt;switch(c.tag){case 0:case 11:case 15:_E(8,c,s)}var d=c.child;if(d!==null)d.return=c,Jt=d;else for(;Jt!==null;){c=Jt;var h=c.sibling,p=c.return;if(O0e(c),c===u){Jt=null;break}if(h!==null){h.return=p,Jt=h;break}Jt=p}}}var f=s.alternate;if(f!==null){var g=f.child;if(g!==null){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Jt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Jt=a;else e:for(;Jt!==null;){if(s=Jt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_E(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Jt=m;break e}Jt=s.return}}var b=i.current;for(Jt=b;Jt!==null;){a=Jt;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Jt=_;else e:for(a=b;Jt!==null;){if(o=Jt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:D6(9,o)}}catch(C){ra(o,o.return,C)}if(o===a){Jt=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Jt=S;break e}Jt=o.return}}if(Xn=r,T0(),gf&&typeof gf.onPostCommitFiberRoot=="function")try{gf.onPostCommitFiberRoot(E6,i)}catch{}n=!0}return n}finally{Mr=t,Hd.transition=e}}return!1}function zte(i,e,t){e=Tx(t,e),e=_0e(i,e,1),i=$v(i,e,1),e=eu(),i!==null&&(M2(i,1,e),Wu(i,e))}function ra(i,e,t){if(i.tag===3)zte(i,i,t);else for(;e!==null;){if(e.tag===3){zte(e,i,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Nv===null||!Nv.has(n))){i=Tx(t,i),i=b0e(e,i,1),e=$v(e,i,1),i=eu(),e!==null&&(M2(e,1,i),Wu(e,i));break}}e=e.return}}function fFe(i,e,t){var n=i.pingCache;n!==null&&n.delete(e),e=eu(),i.pingedLanes|=i.suspendedLanes&t,Co===i&&(Vo&t)===t&&(Za===4||Za===3&&(Vo&130023424)===Vo&&500>_a()-kY?n_(i,0):CY|=t),Wu(i,e)}function j0e(i,e){e===0&&(i.mode&1?(e=rM,rM<<=1,!(rM&130023424)&&(rM=4194304)):e=1);var t=eu();i=Wg(i,e),i!==null&&(M2(i,e,t),Wu(i,t))}function gFe(i){var e=i.memoizedState,t=0;e!==null&&(t=e.retryLane),j0e(i,t)}function mFe(i,e){var t=0;switch(i.tag){case 13:var n=i.stateNode,r=i.memoizedState;r!==null&&(t=r.retryLane);break;case 19:n=i.stateNode;break;default:throw Error(Ct(314))}n!==null&&n.delete(e),j0e(i,t)}var z0e;z0e=function(i,e,t){if(i!==null)if(i.memoizedProps!==e.pendingProps||Hu.current)Fu=!0;else{if(!(i.lanes&t)&&!(e.flags&128))return Fu=!1,nFe(i,e,t);Fu=!!(i.flags&131072)}else Fu=!1,Es&&e.flags&1048576&&Uve(e,PR,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;g3(i,e),i=e.pendingProps;var r=Cx(e,Il.current);ZS(e,t),r=yY(null,e,n,i,r,t);var s=_Y();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vu(n)?(s=!0,AR(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,pY(e),r.updater=R6,e.stateNode=r,r._reactInternals=e,Uz(e,n,i,t),e=Kz(null,e,n,!0,s,t)):(e.tag=0,Es&&s&&aY(e),Kl(null,e,r,t),e=e.child),e;case 16:n=e.elementType;e:{switch(g3(i,e),i=e.pendingProps,r=n._init,n=r(n._payload),e.type=n,r=e.tag=yFe(n),i=Rh(n,i),r){case 0:e=Yz(null,e,n,i,t);break e;case 1:e=Mte(null,e,n,i,t);break e;case 11:e=Pte(null,e,n,i,t);break e;case 14:e=Ote(null,e,n,Rh(n.type,i),t);break e}throw Error(Ct(306,n,""))}return e;case 0:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Rh(n,r),Yz(i,e,n,r,t);case 1:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Rh(n,r),Mte(i,e,n,r,t);case 3:e:{if(C0e(e),i===null)throw Error(Ct(387));n=e.pendingProps,s=e.memoizedState,r=s.element,Zve(i,e),IR(e,n,null,t);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Tx(Error(Ct(423)),e),e=Ite(i,e,n,t,r);break e}else if(n!==r){r=Tx(Error(Ct(424)),e),e=Ite(i,e,n,t,r);break e}else for(Ic=Bv(e.stateNode.containerInfo.firstChild),Bc=e,Es=!0,$h=null,t=Xve(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(kx(),n===r){e=Ug(i,e,t);break e}Kl(i,e,n,t)}e=e.child}return e;case 5:return Qve(e),i===null&&Hz(e),n=e.type,r=e.pendingProps,s=i!==null?i.memoizedProps:null,a=r.children,Bz(n,r)?a=null:s!==null&&Bz(n,s)&&(e.flags|=32),w0e(i,e),Kl(i,e,a,t),e.child;case 6:return i===null&&Hz(e),null;case 13:return k0e(i,e,t);case 4:return fY(e,e.stateNode.containerInfo),n=e.pendingProps,i===null?e.child=Ex(e,null,n,t):Kl(i,e,n,t),e.child;case 11:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Rh(n,r),Pte(i,e,n,r,t);case 7:return Kl(i,e,e.pendingProps,t),e.child;case 8:return Kl(i,e,e.pendingProps.children,t),e.child;case 12:return Kl(i,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,es(OR,n._currentValue),n._currentValue=a,s!==null)if(op(s.value,a)){if(s.children===r.children&&!Hu.current){e=Ug(i,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Lg(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),Vz(s.return,t,e),o.lanes|=t;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ct(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),Vz(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Kl(i,e,r.children,t),e=e.child}return e;case 9:return r=e.type,n=e.pendingProps.children,ZS(e,t),r=Gd(r),n=n(r),e.flags|=1,Kl(i,e,n,t),e.child;case 14:return n=e.type,r=Rh(n,e.pendingProps),r=Rh(n.type,r),Ote(i,e,n,r,t);case 15:return S0e(i,e,e.type,e.pendingProps,t);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Rh(n,r),g3(i,e),e.tag=1,Vu(n)?(i=!0,AR(e)):i=!1,ZS(e,t),y0e(e,n,r),Uz(e,n,r,t),Kz(null,e,n,!0,i,t);case 19:return E0e(i,e,t);case 22:return x0e(i,e,t)}throw Error(Ct(156,e.tag))};function H0e(i,e){return gve(i,e)}function vFe(i,e,t,n){this.tag=i,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bd(i,e,t,n){return new vFe(i,e,t,n)}function PY(i){return i=i.prototype,!(!i||!i.isReactComponent)}function yFe(i){if(typeof i=="function")return PY(i)?1:0;if(i!=null){if(i=i.$$typeof,i===KG)return 11;if(i===XG)return 14}return 2}function zv(i,e){var t=i.alternate;return t===null?(t=Bd(i.tag,e,i.key,i.mode),t.elementType=i.elementType,t.type=i.type,t.stateNode=i.stateNode,t.alternate=i,i.alternate=t):(t.pendingProps=e,t.type=i.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=i.flags&14680064,t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=i.sibling,t.index=i.index,t.ref=i.ref,t}function y3(i,e,t,n,r,s){var a=2;if(n=i,typeof i=="function")PY(i)&&(a=1);else if(typeof i=="string")a=5;else e:switch(i){case lS:return r_(t.children,r,s,e);case YG:a=8,r|=8;break;case gz:return i=Bd(12,t,e,r|2),i.elementType=gz,i.lanes=s,i;case mz:return i=Bd(13,t,e,r),i.elementType=mz,i.lanes=s,i;case vz:return i=Bd(19,t,e,r),i.elementType=vz,i.lanes=s,i;case Qme:return F6(t,r,s,e);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case qme:a=10;break e;case Zme:a=9;break e;case KG:a=11;break e;case XG:a=14;break e;case tv:a=16,n=null;break e}throw Error(Ct(130,i==null?i:typeof i,""))}return e=Bd(a,t,e,r),e.elementType=i,e.type=n,e.lanes=s,e}function r_(i,e,t,n){return i=Bd(7,i,n,e),i.lanes=t,i}function F6(i,e,t,n){return i=Bd(22,i,n,e),i.elementType=Qme,i.lanes=t,i.stateNode={isHidden:!1},i}function qN(i,e,t){return i=Bd(6,i,null,e),i.lanes=t,i}function ZN(i,e,t){return e=Bd(4,i.children!==null?i.children:[],i.key,e),e.lanes=t,e.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},e}function _Fe(i,e,t,n,r){this.tag=e,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=MN(0),this.expirationTimes=MN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=MN(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function OY(i,e,t,n,r,s,a,o,l){return i=new _Fe(i,e,t,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Bd(3,null,null,e),i.current=s,s.stateNode=i,s.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},pY(s),i}function bFe(i,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oS,key:n==null?null:""+n,children:i,containerInfo:e,implementation:t}}function V0e(i){if(!i)return d0;i=i._reactInternals;e:{if(lb(i)!==i||i.tag!==1)throw Error(Ct(170));var e=i;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vu(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ct(171))}if(i.tag===1){var t=i.type;if(Vu(t))return Vve(i,t,e)}return e}function W0e(i,e,t,n,r,s,a,o,l){return i=OY(t,n,!0,i,r,s,a,o,l),i.context=V0e(null),t=i.current,n=eu(),r=jv(t),s=Lg(n,r),s.callback=e??null,$v(t,s,r),i.current.lanes=r,M2(i,r,n),Wu(i,n),i}function B6(i,e,t,n){var r=e.current,s=eu(),a=jv(r);return t=V0e(t),e.context===null?e.context=t:e.pendingContext=t,e=Lg(s,a),e.payload={element:i},n=n===void 0?null:n,n!==null&&(e.callback=n),i=$v(r,e,a),i!==null&&(ep(i,r,a,s),h3(i,r,a)),a}function jR(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Hte(i,e){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var t=i.retryLane;i.retryLane=t!==0&&t<e?t:e}}function MY(i,e){Hte(i,e),(i=i.alternate)&&Hte(i,e)}function SFe(){return null}var U0e=typeof reportError=="function"?reportError:function(i){console.error(i)};function IY(i){this._internalRoot=i}$6.prototype.render=IY.prototype.render=function(i){var e=this._internalRoot;if(e===null)throw Error(Ct(409));B6(i,e,null,null)};$6.prototype.unmount=IY.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var e=i.containerInfo;R_(function(){B6(null,i,null,null)}),e[Vg]=null}};function $6(i){this._internalRoot=i}$6.prototype.unstable_scheduleHydration=function(i){if(i){var e=xve();i={blockedOn:null,target:i,priority:e};for(var t=0;t<lv.length&&e!==0&&e<lv[t].priority;t++);lv.splice(t,0,i),t===0&&Cve(i)}};function RY(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function N6(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Vte(){}function xFe(i,e,t,n,r){if(r){if(typeof n=="function"){var s=n;n=function(){var u=jR(a);s.call(u)}}var a=W0e(e,n,i,0,null,!1,!1,"",Vte);return i._reactRootContainer=a,i[Vg]=a.current,UA(i.nodeType===8?i.parentNode:i),R_(),a}for(;r=i.lastChild;)i.removeChild(r);if(typeof n=="function"){var o=n;n=function(){var u=jR(l);o.call(u)}}var l=OY(i,0,!1,null,null,!1,!1,"",Vte);return i._reactRootContainer=l,i[Vg]=l.current,UA(i.nodeType===8?i.parentNode:i),R_(function(){B6(e,l,t,n)}),l}function j6(i,e,t,n,r){var s=t._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var o=r;r=function(){var l=jR(a);o.call(l)}}B6(e,a,i,r)}else a=xFe(t,e,i,r,n);return jR(a)}bve=function(i){switch(i.tag){case 3:var e=i.stateNode;if(e.current.memoizedState.isDehydrated){var t=Hk(e.pendingLanes);t!==0&&(QG(e,t|1),Wu(e,_a()),!(Xn&6)&&(Px=_a()+500,T0()))}break;case 13:R_(function(){var n=Wg(i,1);if(n!==null){var r=eu();ep(n,i,1,r)}}),MY(i,1)}};JG=function(i){if(i.tag===13){var e=Wg(i,134217728);if(e!==null){var t=eu();ep(e,i,134217728,t)}MY(i,134217728)}};Sve=function(i){if(i.tag===13){var e=jv(i),t=Wg(i,e);if(t!==null){var n=eu();ep(t,i,e,n)}MY(i,e)}};xve=function(){return Mr};wve=function(i,e){var t=Mr;try{return Mr=i,e()}finally{Mr=t}};Az=function(i,e,t){switch(e){case"input":if(bz(i,t),e=t.name,t.type==="radio"&&e!=null){for(t=i;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==i&&n.form===i.form){var r=O6(n);if(!r)throw Error(Ct(90));eve(n),bz(n,r)}}}break;case"textarea":ive(i,t);break;case"select":e=t.value,e!=null&&YS(i,!!t.multiple,e,!1)}};uve=EY;cve=R_;var wFe={usingClientEntryPoint:!1,Events:[R2,hS,O6,ove,lve,EY]},ik={findFiberByHostInstance:$y,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CFe={bundleType:ik.bundleType,version:ik.version,rendererPackageName:ik.rendererPackageName,rendererConfig:ik.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:am.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=pve(i),i===null?null:i.stateNode},findFiberByHostInstance:ik.findFiberByHostInstance||SFe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gM=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gM.isDisabled&&gM.supportsFiber)try{E6=gM.inject(CFe),gf=gM}catch{}}Gc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wFe;Gc.createPortal=function(i,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RY(e))throw Error(Ct(200));return bFe(i,e,null,t)};Gc.createRoot=function(i,e){if(!RY(i))throw Error(Ct(299));var t=!1,n="",r=U0e;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=OY(i,1,!1,null,null,t,!1,n,r),i[Vg]=e.current,UA(i.nodeType===8?i.parentNode:i),new IY(e)};Gc.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var e=i._reactInternals;if(e===void 0)throw typeof i.render=="function"?Error(Ct(188)):(i=Object.keys(i).join(","),Error(Ct(268,i)));return i=pve(e),i=i===null?null:i.stateNode,i};Gc.flushSync=function(i){return R_(i)};Gc.hydrate=function(i,e,t){if(!N6(e))throw Error(Ct(200));return j6(null,i,e,!0,t)};Gc.hydrateRoot=function(i,e,t){if(!RY(i))throw Error(Ct(405));var n=t!=null&&t.hydratedSources||null,r=!1,s="",a=U0e;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=W0e(e,null,i,1,t??null,r,!1,s,a),i[Vg]=e.current,UA(i),n)for(i=0;i<n.length;i++)t=n[i],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new $6(e)};Gc.render=function(i,e,t){if(!N6(e))throw Error(Ct(200));return j6(null,i,e,!1,t)};Gc.unmountComponentAtNode=function(i){if(!N6(i))throw Error(Ct(40));return i._reactRootContainer?(R_(function(){j6(null,null,i,!1,function(){i._reactRootContainer=null,i[Vg]=null})}),!0):!1};Gc.unstable_batchedUpdates=EY;Gc.unstable_renderSubtreeIntoContainer=function(i,e,t,n){if(!N6(t))throw Error(Ct(200));if(i==null||i._reactInternals===void 0)throw Error(Ct(38));return j6(i,e,t,!1,n)};Gc.version="18.3.1-next-f1338f8080-20240426";function G0e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G0e)}catch(i){console.error(i)}}G0e(),Gme.exports=Gc;var Mc=Gme.exports;const $c=Li(Mc);var Wte=Mc;pz.createRoot=Wte.createRoot,pz.hydrateRoot=Wte.hydrateRoot;var kFe=typeof global=="object"&&global&&global.Object===Object&&global,EFe=kFe,AFe=typeof self=="object"&&self&&self.Object===Object&&self,TFe=EFe||AFe||Function("return this")(),DY=TFe,PFe=DY.Symbol,Ox=PFe,Y0e=Object.prototype,OFe=Y0e.hasOwnProperty,MFe=Y0e.toString,nk=Ox?Ox.toStringTag:void 0;function IFe(i){var e=OFe.call(i,nk),t=i[nk];try{i[nk]=void 0;var n=!0}catch{}var r=MFe.call(i);return n&&(e?i[nk]=t:delete i[nk]),r}var RFe=IFe,DFe=Object.prototype,LFe=DFe.toString;function FFe(i){return LFe.call(i)}var BFe=FFe,$Fe="[object Null]",NFe="[object Undefined]",Ute=Ox?Ox.toStringTag:void 0;function jFe(i){return i==null?i===void 0?NFe:$Fe:Ute&&Ute in Object(i)?RFe(i):BFe(i)}var L2=jFe;function zFe(i){return i!=null&&typeof i=="object"}var z6=zFe,HFe="[object Symbol]";function VFe(i){return typeof i=="symbol"||z6(i)&&L2(i)==HFe}var LY=VFe;function WFe(i,e){for(var t=-1,n=i==null?0:i.length,r=Array(n);++t<n;)r[t]=e(i[t],t,i);return r}var UFe=WFe,GFe=Array.isArray,Af=GFe,YFe=1/0,Gte=Ox?Ox.prototype:void 0,Yte=Gte?Gte.toString:void 0;function K0e(i){if(typeof i=="string")return i;if(Af(i))return UFe(i,K0e)+"";if(LY(i))return Yte?Yte.call(i):"";var e=i+"";return e=="0"&&1/i==-YFe?"-0":e}var KFe=K0e;function XFe(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var om=XFe,qFe="[object AsyncFunction]",ZFe="[object Function]",QFe="[object GeneratorFunction]",JFe="[object Proxy]";function e6e(i){if(!om(i))return!1;var e=L2(i);return e==ZFe||e==QFe||e==qFe||e==JFe}var t6e=e6e,i6e=DY["__core-js_shared__"],QN=i6e,Kte=function(){var i=/[^.]+$/.exec(QN&&QN.keys&&QN.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function n6e(i){return!!Kte&&Kte in i}var r6e=n6e,s6e=Function.prototype,a6e=s6e.toString;function o6e(i){if(i!=null){try{return a6e.call(i)}catch{}try{return i+""}catch{}}return""}var l6e=o6e,u6e=/[\\^$.*+?()[\]{}|]/g,c6e=/^\[object .+?Constructor\]$/,d6e=Function.prototype,h6e=Object.prototype,p6e=d6e.toString,f6e=h6e.hasOwnProperty,g6e=RegExp("^"+p6e.call(f6e).replace(u6e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m6e(i){if(!om(i)||r6e(i))return!1;var e=t6e(i)?g6e:c6e;return e.test(l6e(i))}var v6e=m6e;function y6e(i,e){return i==null?void 0:i[e]}var _6e=y6e;function b6e(i,e){var t=_6e(i,e);return v6e(t)?t:void 0}var X0e=b6e;function S6e(i,e){return i===e||i!==i&&e!==e}var x6e=S6e,w6e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,C6e=/^\w*$/;function k6e(i,e){if(Af(i))return!1;var t=typeof i;return t=="number"||t=="symbol"||t=="boolean"||i==null||LY(i)?!0:C6e.test(i)||!w6e.test(i)||e!=null&&i in Object(e)}var E6e=k6e,A6e=X0e(Object,"create"),eT=A6e;function T6e(){this.__data__=eT?eT(null):{},this.size=0}var P6e=T6e;function O6e(i){var e=this.has(i)&&delete this.__data__[i];return this.size-=e?1:0,e}var M6e=O6e,I6e="__lodash_hash_undefined__",R6e=Object.prototype,D6e=R6e.hasOwnProperty;function L6e(i){var e=this.__data__;if(eT){var t=e[i];return t===I6e?void 0:t}return D6e.call(e,i)?e[i]:void 0}var F6e=L6e,B6e=Object.prototype,$6e=B6e.hasOwnProperty;function N6e(i){var e=this.__data__;return eT?e[i]!==void 0:$6e.call(e,i)}var j6e=N6e,z6e="__lodash_hash_undefined__";function H6e(i,e){var t=this.__data__;return this.size+=this.has(i)?0:1,t[i]=eT&&e===void 0?z6e:e,this}var V6e=H6e;function Cw(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}Cw.prototype.clear=P6e;Cw.prototype.delete=M6e;Cw.prototype.get=F6e;Cw.prototype.has=j6e;Cw.prototype.set=V6e;var Xte=Cw;function W6e(){this.__data__=[],this.size=0}var U6e=W6e;function G6e(i,e){for(var t=i.length;t--;)if(x6e(i[t][0],e))return t;return-1}var H6=G6e,Y6e=Array.prototype,K6e=Y6e.splice;function X6e(i){var e=this.__data__,t=H6(e,i);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():K6e.call(e,t,1),--this.size,!0}var q6e=X6e;function Z6e(i){var e=this.__data__,t=H6(e,i);return t<0?void 0:e[t][1]}var Q6e=Z6e;function J6e(i){return H6(this.__data__,i)>-1}var eBe=J6e;function tBe(i,e){var t=this.__data__,n=H6(t,i);return n<0?(++this.size,t.push([i,e])):t[n][1]=e,this}var iBe=tBe;function kw(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}kw.prototype.clear=U6e;kw.prototype.delete=q6e;kw.prototype.get=Q6e;kw.prototype.has=eBe;kw.prototype.set=iBe;var nBe=kw,rBe=X0e(DY,"Map"),sBe=rBe;function aBe(){this.size=0,this.__data__={hash:new Xte,map:new(sBe||nBe),string:new Xte}}var oBe=aBe;function lBe(i){var e=typeof i;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?i!=="__proto__":i===null}var uBe=lBe;function cBe(i,e){var t=i.__data__;return uBe(e)?t[typeof e=="string"?"string":"hash"]:t.map}var V6=cBe;function dBe(i){var e=V6(this,i).delete(i);return this.size-=e?1:0,e}var hBe=dBe;function pBe(i){return V6(this,i).get(i)}var fBe=pBe;function gBe(i){return V6(this,i).has(i)}var mBe=gBe;function vBe(i,e){var t=V6(this,i),n=t.size;return t.set(i,e),this.size+=t.size==n?0:1,this}var yBe=vBe;function Ew(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}Ew.prototype.clear=oBe;Ew.prototype.delete=hBe;Ew.prototype.get=fBe;Ew.prototype.has=mBe;Ew.prototype.set=yBe;var q0e=Ew,_Be="Expected a function";function FY(i,e){if(typeof i!="function"||e!=null&&typeof e!="function")throw new TypeError(_Be);var t=function(){var n=arguments,r=e?e.apply(this,n):n[0],s=t.cache;if(s.has(r))return s.get(r);var a=i.apply(this,n);return t.cache=s.set(r,a)||s,a};return t.cache=new(FY.Cache||q0e),t}FY.Cache=q0e;var bBe=FY,SBe=500;function xBe(i){var e=bBe(i,function(n){return t.size===SBe&&t.clear(),n}),t=e.cache;return e}var wBe=xBe,CBe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kBe=/\\(\\)?/g,EBe=wBe(function(i){var e=[];return i.charCodeAt(0)===46&&e.push(""),i.replace(CBe,function(t,n,r,s){e.push(r?s.replace(kBe,"$1"):n||t)}),e}),ABe=EBe;function TBe(i){return i==null?"":KFe(i)}var Z0e=TBe;function PBe(i,e){return Af(i)?i:E6e(i,e)?[i]:ABe(Z0e(i))}var OBe=PBe,MBe=1/0;function IBe(i){if(typeof i=="string"||LY(i))return i;var e=i+"";return e=="0"&&1/i==-MBe?"-0":e}var RBe=IBe;function DBe(i,e){e=OBe(e,i);for(var t=0,n=e.length;i!=null&&t<n;)i=i[RBe(e[t++])];return t&&t==n?i:void 0}var LBe=DBe;function FBe(i,e,t){var n=i==null?void 0:LBe(i,e);return n===void 0?t:n}var Aa=FBe,BBe="[object String]";function $Be(i){return typeof i=="string"||!Af(i)&&z6(i)&&L2(i)==BBe}var ma=$Be,NBe="[object Boolean]";function jBe(i){return i===!0||i===!1||z6(i)&&L2(i)==NBe}var zBe=jBe,HBe="[object Number]";function VBe(i){return typeof i=="number"||z6(i)&&L2(i)==HBe}var WBe=VBe,UBe=0;function GBe(i){var e=++UBe;return Z0e(i)+e}var qte=GBe,Zte=(i,e,t)=>new Promise((n,r)=>{var s=l=>{try{o(t.next(l))}catch(u){r(u)}},a=l=>{try{o(t.throw(l))}catch(u){r(u)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((t=t.apply(i,e)).next())}),Qte=class{constructor(e){this._target=e}sendMsg(e){if(!this._target)throw new Error("target window is not found");this._target.postMessage(e,"*")}listenMsg(e){this._eventHandler=e,typeof window<"u"&&window.addEventListener("message",e)}destroy(){typeof window<"u"&&window.removeEventListener("message",this._eventHandler)}},Q0e=class{constructor(e,t){e==="host"?this.channelManager=new Qte(t):e==="client"&&(this.channelManager=new Qte(window==null?void 0:window.parent))}static createInstance(e,t){return new Q0e(e,t)}sendMsg(e){var t;(t=this.channelManager)==null||t.sendMsg(e)}listenMsg(e){var t;(t=this.channelManager)==null||t.listenMsg(e)}destroy(){var e;(e=this.channelManager)==null||e.destroy()}},YBe=class{constructor(e){if(this.hostOrigin=e,this.resultMap=new Map,this._msgChannel=null,this._eventMap=new Map,this._handshakeRetryTimes=0,this._handshakeStatus=0,this._prefixId="",this.allowedHostOrigin=["*"],this.hostOrigin=e,typeof window>"u"||window.parent===window){this._handshakeStatus=2;return}this._msgChannel=Q0e.createInstance("client"),this.listeningHostMsg(),this.startHandshake()}sendProactiveHandshakeMsg(){var e;(e=this._msgChannel)==null||e.sendMsg({id:qte("handshake-"),type:"handshake",payload:{proactive:!0}})}_initHandshake(){this._handshakeRetryTimes=0,clearTimeout(this._handshakeTimeout),this._handshakeStatus=0,this._handshakePromise=new Promise((e,t)=>{this._handshakeResolve=e,setTimeout(()=>this.retryHandshake(t),2e3)})}startHandshake(){this._initHandshake(),this._handshakePromise.then(()=>{this._handshakeStatus=1}).catch(e=>{this._handshakeStatus=2,console.error("client handshake error : ",e)}),this.sendProactiveHandshakeMsg()}retryHandshake(e){this._handshakeStatus===0&&(this._handshakeRetryTimes<5?(this.sendProactiveHandshakeMsg(),this._handshakeRetryTimes++,this._handshakeTimeout=setTimeout(()=>this.retryHandshake(e),2e3+2**this._handshakeRetryTimes)):e("time out"))}updateInvokeId(){this._invokeId=qte(`${this._prefixId}-invoke-`)}get allowedAnyOrigin(){return this.allowedHostOrigin.includes("*")}handleChannelMessage(e){let{origin:t,data:n}=e;if(!this.allowedHostOrigin.includes(t)&&!this.allowedAnyOrigin)return;let{type:r}=n;r==="callback"?this.handleHostCallback(n):r==="handshake"?this.handleHandshakeCallback(n):r==="event"&&this.handleEventCallback(n)}handleHostCallback(e){let{id:t,payload:n}=e,r=this.resultMap.get(t);r&&r(n.res)}handleHandshakeCallback(e){let{id:t,payload:n}=e;this._prefixId=n==null?void 0:n.prefixId,this._handshakeResolve(),this.sendMsg2Host({id:t,type:"handshake",payload:{proactive:!1,info:{isHandshakeSuccess:!0}}})}handleEventCallback(e){return Zte(this,null,function*(){var t;yield this._handshakePromise;let{payload:n}=e,{eventName:r,params:s}=n;((t=this._eventMap.get(r))!=null?t:[]).forEach(a=>{a({data:s})})})}listeningHostMsg(){var e;(e=this._msgChannel)==null||e.listenMsg(this.handleChannelMessage.bind(this))}sendMsg2Host(e){var t;(t=this._msgChannel)==null||t.sendMsg(e)}invokeApi(e,t){return Zte(this,null,function*(){return yield this._handshakePromise,this._invokeId||this.updateInvokeId(),this.sendMsg2Host({type:"invoke",id:this._invokeId,payload:{key:e,params:t,prefixId:this._prefixId}}),new Promise(n=>{this.resultMap.set(this._invokeId,n),this.updateInvokeId()})})}subscribeEvent(e,t){var n;let r=(n=this._eventMap.get(e))!=null?n:[];r.push(t),this._eventMap.set(e,r)}unsubscribeEvent(e,t){var n;let r=(n=this._eventMap.get(e))!=null?n:[],s=r.indexOf(t);s!==-1&&r.splice(s,1)}},KBe=(i=>(i.PENDING="pending",i.LOADING="loading",i.LOADED="loaded",i.ERROR="error",i))(KBe||{}),XBe=(i=>(i.IFRAME_LOAD_TIME_OUT="iframe load time out",i.NOT_ALLOWED_URL="not allowed url",i.HANDSHAKE_TIME_OUT="handshake time out",i))(XBe||{}),JN=null,qBe=()=>(JN||(JN=new YBe),JN);/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/const ZBe="modulepreload",QBe=function(i,e){return new URL(i,e).href},Jte={},JBe=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){const s=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.all(t.map(l=>{if(l=QBe(l,n),l in Jte)return;Jte[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(!!n)for(let p=s.length-1;p>=0;p--){const f=s[p];if(f.href===l&&(!u||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":ZBe,u||(h.as="script",h.crossOrigin=""),h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}return r.then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};var uc={},e$e=Object.create,F2=Object.defineProperty,t$e=Object.defineProperties,J0e=Object.getOwnPropertyDescriptor,i$e=Object.getOwnPropertyDescriptors,n$e=Object.getOwnPropertyNames,zR=Object.getOwnPropertySymbols,eye=Object.getPrototypeOf,BY=Object.prototype.hasOwnProperty,tye=Object.prototype.propertyIsEnumerable,r$e=Reflect.get,eie=(i,e,t)=>e in i?F2(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,wi=(i,e)=>{for(var t in e||(e={}))BY.call(e,t)&&eie(i,t,e[t]);if(zR)for(var t of zR(e))tye.call(e,t)&&eie(i,t,e[t]);return i},rn=(i,e)=>t$e(i,i$e(e)),Fp=(i,e)=>{var t={};for(var n in i)BY.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&zR)for(var n of zR(i))e.indexOf(n)<0&&tye.call(i,n)&&(t[n]=i[n]);return t},on=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),s$e=(i,e)=>{for(var t in e)F2(i,t,{get:e[t],enumerable:!0})},a$e=(i,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of n$e(e))!BY.call(i,r)&&r!==t&&F2(i,r,{get:()=>e[r],enumerable:!(n=J0e(e,r))||n.enumerable});return i},oe=(i,e,t)=>(t=i!=null?e$e(eye(i)):{},a$e(e||!i||!i.__esModule?F2(t,"default",{value:i,enumerable:!0}):t,i)),$e=(i,e,t,n)=>{for(var r=n>1?void 0:n?J0e(e,t):e,s=i.length-1,a;s>=0;s--)(a=i[s])&&(r=(n?a(e,t,r):a(r))||r);return n&&r&&F2(e,t,r),r},_y=(i,e,t)=>r$e(eye(i),t,e),ye=(i,e,t)=>new Promise((n,r)=>{var s=l=>{try{o(t.next(l))}catch(u){r(u)}},a=l=>{try{o(t.throw(l))}catch(u){r(u)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((t=t.apply(i,e)).next())}),o$e=on(i=>{var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function p(j){return j===null||typeof j!="object"?null:(j=h&&j[h]||j["@@iterator"],typeof j=="function"?j:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function m(j,K,ie){this.props=j,this.context=K,this.refs=v,this.updater=ie||f}m.prototype.isReactComponent={},m.prototype.setState=function(j,K){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,K,"setState")},m.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function b(){}b.prototype=m.prototype;function _(j,K,ie){this.props=j,this.context=K,this.refs=v,this.updater=ie||f}var S=_.prototype=new b;S.constructor=_,g(S,m.prototype),S.isPureReactComponent=!0;var C=Array.isArray,k=Object.prototype.hasOwnProperty,E={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function P(j,K,ie){var ae,re={},J=null,ne=null;if(K!=null)for(ae in K.ref!==void 0&&(ne=K.ref),K.key!==void 0&&(J=""+K.key),K)k.call(K,ae)&&!A.hasOwnProperty(ae)&&(re[ae]=K[ae]);var te=arguments.length-2;if(te===1)re.children=ie;else if(1<te){for(var Q=Array(te),se=0;se<te;se++)Q[se]=arguments[se+2];re.children=Q}if(j&&j.defaultProps)for(ae in te=j.defaultProps,te)re[ae]===void 0&&(re[ae]=te[ae]);return{$$typeof:e,type:j,key:J,ref:ne,props:re,_owner:E.current}}function O(j,K){return{$$typeof:e,type:j.type,key:K,ref:j.ref,props:j.props,_owner:j._owner}}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function D(j){var K={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ie){return K[ie]})}var L=/\/+/g;function H(j,K){return typeof j=="object"&&j!==null&&j.key!=null?D(""+j.key):K.toString(36)}function B(j,K,ie,ae,re){var J=typeof j;(J==="undefined"||J==="boolean")&&(j=null);var ne=!1;if(j===null)ne=!0;else switch(J){case"string":case"number":ne=!0;break;case"object":switch(j.$$typeof){case e:case t:ne=!0}}if(ne)return ne=j,re=re(ne),j=ae===""?"."+H(ne,0):ae,C(re)?(ie="",j!=null&&(ie=j.replace(L,"$&/")+"/"),B(re,K,ie,"",function(se){return se})):re!=null&&(M(re)&&(re=O(re,ie+(!re.key||ne&&ne.key===re.key?"":(""+re.key).replace(L,"$&/")+"/")+j)),K.push(re)),1;if(ne=0,ae=ae===""?".":ae+":",C(j))for(var te=0;te<j.length;te++){J=j[te];var Q=ae+H(J,te);ne+=B(J,K,ie,Q,re)}else if(Q=p(j),typeof Q=="function")for(j=Q.call(j),te=0;!(J=j.next()).done;)J=J.value,Q=ae+H(J,te++),ne+=B(J,K,ie,Q,re);else if(J==="object")throw K=String(j),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return ne}function F(j,K,ie){if(j==null)return j;var ae=[],re=0;return B(j,ae,"","",function(J){return K.call(ie,J,re++)}),ae}function z(j){if(j._status===-1){var K=j._result;K=K(),K.then(function(ie){(j._status===0||j._status===-1)&&(j._status=1,j._result=ie)},function(ie){(j._status===0||j._status===-1)&&(j._status=2,j._result=ie)}),j._status===-1&&(j._status=0,j._result=K)}if(j._status===1)return j._result.default;throw j._result}var N={current:null},U={transition:null},G={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:U,ReactCurrentOwner:E};i.Children={map:F,forEach:function(j,K,ie){F(j,function(){K.apply(this,arguments)},ie)},count:function(j){var K=0;return F(j,function(){K++}),K},toArray:function(j){return F(j,function(K){return K})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},i.Component=m,i.Fragment=n,i.Profiler=s,i.PureComponent=_,i.StrictMode=r,i.Suspense=u,i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,i.cloneElement=function(j,K,ie){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ae=g({},j.props),re=j.key,J=j.ref,ne=j._owner;if(K!=null){if(K.ref!==void 0&&(J=K.ref,ne=E.current),K.key!==void 0&&(re=""+K.key),j.type&&j.type.defaultProps)var te=j.type.defaultProps;for(Q in K)k.call(K,Q)&&!A.hasOwnProperty(Q)&&(ae[Q]=K[Q]===void 0&&te!==void 0?te[Q]:K[Q])}var Q=arguments.length-2;if(Q===1)ae.children=ie;else if(1<Q){te=Array(Q);for(var se=0;se<Q;se++)te[se]=arguments[se+2];ae.children=te}return{$$typeof:e,type:j.type,key:re,ref:J,props:ae,_owner:ne}},i.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},i.createElement=P,i.createFactory=function(j){var K=P.bind(null,j);return K.type=j,K},i.createRef=function(){return{current:null}},i.forwardRef=function(j){return{$$typeof:l,render:j}},i.isValidElement=M,i.lazy=function(j){return{$$typeof:d,_payload:{_status:-1,_result:j},_init:z}},i.memo=function(j,K){return{$$typeof:c,type:j,compare:K===void 0?null:K}},i.startTransition=function(j){var K=U.transition;U.transition={};try{j()}finally{U.transition=K}},i.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},i.useCallback=function(j,K){return N.current.useCallback(j,K)},i.useContext=function(j){return N.current.useContext(j)},i.useDebugValue=function(){},i.useDeferredValue=function(j){return N.current.useDeferredValue(j)},i.useEffect=function(j,K){return N.current.useEffect(j,K)},i.useId=function(){return N.current.useId()},i.useImperativeHandle=function(j,K,ie){return N.current.useImperativeHandle(j,K,ie)},i.useInsertionEffect=function(j,K){return N.current.useInsertionEffect(j,K)},i.useLayoutEffect=function(j,K){return N.current.useLayoutEffect(j,K)},i.useMemo=function(j,K){return N.current.useMemo(j,K)},i.useReducer=function(j,K,ie){return N.current.useReducer(j,K,ie)},i.useRef=function(j){return N.current.useRef(j)},i.useState=function(j){return N.current.useState(j)},i.useSyncExternalStore=function(j,K,ie){return N.current.useSyncExternalStore(j,K,ie)},i.useTransition=function(){return N.current.useTransition()},i.version="18.2.0"}),ge=on((i,e)=>{e.exports=o$e()}),l$e=on((i,e)=>{(function(t,n){typeof i=="object"&&typeof e<"u"?e.exports=n(ge()):typeof define=="function"&&define.amd?define(["react"],n):(t=t||self,t.styled=n(t.React))})(i,function(t){var n=typeof process<"u"&&typeof uc<"u"&&(uc.REACT_APP_SC_ATTR||uc.SC_ATTR)||"data-styled",r="active",s="data-styled-version",a="6.1.8",o=`/*!sc*/
`,l=typeof window<"u"&&"HTMLElement"in window,u=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&typeof uc<"u"&&typeof uc.REACT_APP_SC_DISABLE_SPEEDY<"u"&&uc.REACT_APP_SC_DISABLE_SPEEDY!==""?uc.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&uc.REACT_APP_SC_DISABLE_SPEEDY:!(typeof process<"u"&&typeof uc<"u"&&typeof uc.SC_DISABLE_SPEEDY<"u"&&uc.SC_DISABLE_SPEEDY!=="")||uc.SC_DISABLE_SPEEDY!=="false"&&uc.SC_DISABLE_SPEEDY),c={},d=function(){return d=Object.assign||function(W){for(var Z,ue=1,fe=arguments.length;ue<fe;ue++){Z=arguments[ue];for(var Oe in Z)Object.prototype.hasOwnProperty.call(Z,Oe)&&(W[Oe]=Z[Oe])}return W},d.apply(this,arguments)};function h(W,Z,ue){if(ue||arguments.length===2)for(var fe=0,Oe=Z.length,ht;fe<Oe;fe++)(ht||!(fe in Z))&&(ht||(ht=Array.prototype.slice.call(Z,0,fe)),ht[fe]=Z[fe]);return W.concat(ht||Array.prototype.slice.call(Z))}var p=Object.freeze([]),f=Object.freeze({});function g(W,Z){Object.defineProperty(W,"toString",{value:Z})}var v={1:`Cannot create styled-component for component: %s.

`,2:`Can't collect styles once you've consumed a \`ServerStyleSheet\`'s styles! \`ServerStyleSheet\` is a one off instance for each server-side render cycle.

- Are you trying to reuse it across renders?
- Are you accidentally calling collectStyles twice?

`,3:`Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.

`,4:`The \`StyleSheetManager\` expects a valid target or sheet prop!

- Does this error occur on the client and is your target falsy?
- Does this error occur on the server and is the sheet falsy?

`,5:`The clone method cannot be used on the client!

- Are you running in a client-like environment on the server?
- Are you trying to run SSR on the client?

`,6:`Trying to insert a new style tag, but the given Node is unmounted!

- Are you using a custom target that isn't mounted?
- Does your document not have a valid head element?
- Have you accidentally removed a style tag manually?

`,7:'ThemeProvider: Please return an object from your "theme" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n',8:`ThemeProvider: Please make your "theme" prop an object.

`,9:"Missing document `<head>`\n\n",10:`Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021

`,11:`_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.

`,12:"It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\`\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\n\n",13:`%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.

`,14:`ThemeProvider: "theme" prop is required.

`,15:"A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\n\n```js\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\n```\n\n",16:`Reached the limit of how many styled components may be created at group %s.
You may only create up to 1,073,741,824 components. If you're creating components dynamically,
as for instance in your render method then you may be running into this limitation.

`,17:`CSSStyleSheet could not be found on HTMLStyleElement.
Has styled-components' style tag been unmounted or altered by another script?
`,18:"ThemeProvider: Please make sure your useTheme hook is within a `<ThemeProvider>`"},m=v;function b(){for(var W=[],Z=0;Z<arguments.length;Z++)W[Z]=arguments[Z];for(var ue=W[0],fe=[],Oe=1,ht=W.length;Oe<ht;Oe+=1)fe.push(W[Oe]);return fe.forEach(function(Et){ue=ue.replace(/%[a-z]/,Et)}),ue}function _(W){for(var Z=[],ue=1;ue<arguments.length;ue++)Z[ue-1]=arguments[ue];return new Error(b.apply(void 0,h([m[W]],Z,!1)).trim())}var S=function(W){return new k(W)},C=512,k=function(){function W(Z){this.groupSizes=new Uint32Array(C),this.length=C,this.tag=Z}return W.prototype.indexOfGroup=function(Z){for(var ue=0,fe=0;fe<Z;fe++)ue+=this.groupSizes[fe];return ue},W.prototype.insertRules=function(Z,ue){if(Z>=this.groupSizes.length){for(var fe=this.groupSizes,Oe=fe.length,ht=Oe;Z>=ht;)if(ht<<=1,ht<0)throw _(16,"".concat(Z));this.groupSizes=new Uint32Array(ht),this.groupSizes.set(fe),this.length=ht;for(var Et=Oe;Et<ht;Et++)this.groupSizes[Et]=0}for(var jt=this.indexOfGroup(Z+1),Et=0,Vt=ue.length;Et<Vt;Et++)this.tag.insertRule(jt,ue[Et])&&(this.groupSizes[Z]++,jt++)},W.prototype.clearGroup=function(Z){if(Z<this.length){var ue=this.groupSizes[Z],fe=this.indexOfGroup(Z),Oe=fe+ue;this.groupSizes[Z]=0;for(var ht=fe;ht<Oe;ht++)this.tag.deleteRule(fe)}},W.prototype.getGroup=function(Z){var ue="";if(Z>=this.length||this.groupSizes[Z]===0)return ue;for(var fe=this.groupSizes[Z],Oe=this.indexOfGroup(Z),ht=Oe+fe,Et=Oe;Et<ht;Et++)ue+="".concat(this.tag.getRule(Et)).concat(o);return ue},W}(),E=1<<30,A=new Map,P=new Map,O=1,M=function(W){if(A.has(W))return A.get(W);for(;P.has(O);)O++;var Z=O++;if((Z|0)<0||Z>E)throw _(16,"".concat(Z));return A.set(W,Z),P.set(Z,W),Z},D=function(W){return P.get(W)},L=function(W,Z){O=Z+1,A.set(W,Z),P.set(Z,W)},H="style[".concat(n,"][").concat(s,'="').concat(a,'"]'),B=new RegExp("^".concat(n,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),F=function(W){for(var Z=W.getTag(),ue=Z.length,fe="",Oe=function(Et){var jt=D(Et);if(jt===void 0)return"continue";var Vt=W.names.get(jt),Ti=Z.getGroup(Et);if(Vt===void 0||Ti.length===0)return"continue";var nn="".concat(n,".g").concat(Et,'[id="').concat(jt,'"]'),Ui="";Vt!==void 0&&Vt.forEach(function(Vn){Vn.length>0&&(Ui+="".concat(Vn,","))}),fe+="".concat(Ti).concat(nn,'{content:"').concat(Ui,'"}').concat(o)},ht=0;ht<ue;ht++)Oe(ht);return fe},z=function(W,Z,ue){for(var fe=ue.split(","),Oe,ht=0,Et=fe.length;ht<Et;ht++)(Oe=fe[ht])&&W.registerName(Z,Oe)},N=function(W,Z){for(var ue,fe=((ue=Z.textContent)!==null&&ue!==void 0?ue:"").split(o),Oe=[],ht=0,Et=fe.length;ht<Et;ht++){var jt=fe[ht].trim();if(jt){var Vt=jt.match(B);if(Vt){var Ti=parseInt(Vt[1],10)|0,nn=Vt[2];Ti!==0&&(L(nn,Ti),z(W,nn,Vt[3]),W.getTag().insertRules(Ti,Oe)),Oe.length=0}else Oe.push(jt)}}},U=function(W){for(var Z=document.querySelectorAll(H),ue=0,fe=Z.length;ue<fe;ue++){var Oe=Z[ue];Oe&&Oe.getAttribute(n)!==r&&(N(W,Oe),Oe.parentNode&&Oe.parentNode.removeChild(Oe))}};function G(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var j=function(W){var Z=Array.from(W.querySelectorAll("style[".concat(n,"]")));return Z[Z.length-1]},K=function(W){var Z=document.head,ue=W||Z,fe=document.createElement("style"),Oe=j(ue),ht=Oe!==void 0?Oe.nextSibling:null;fe.setAttribute(n,r),fe.setAttribute(s,a);var Et=G();return Et&&fe.setAttribute("nonce",Et),ue.insertBefore(fe,ht),fe},ie=function(W){if(W.sheet)return W.sheet;for(var Z=document.styleSheets,ue=0,fe=Z.length;ue<fe;ue++){var Oe=Z[ue];if(Oe.ownerNode===W)return Oe}throw _(17)},ae=function(W){var Z=W.isServer,ue=W.useCSSOMInjection,fe=W.target;return Z?new ne(fe):ue?new re(fe):new J(fe)},re=function(){function W(Z){this.element=K(Z),this.element.appendChild(document.createTextNode("")),this.sheet=ie(this.element),this.length=0}return W.prototype.insertRule=function(Z,ue){try{return this.sheet.insertRule(ue,Z),this.length++,!0}catch{return!1}},W.prototype.deleteRule=function(Z){this.sheet.deleteRule(Z),this.length--},W.prototype.getRule=function(Z){var ue=this.sheet.cssRules[Z];return ue&&ue.cssText?ue.cssText:""},W}(),J=function(){function W(Z){this.element=K(Z),this.nodes=this.element.childNodes,this.length=0}return W.prototype.insertRule=function(Z,ue){if(Z<=this.length&&Z>=0){var fe=document.createTextNode(ue),Oe=this.nodes[Z];return this.element.insertBefore(fe,Oe||null),this.length++,!0}else return!1},W.prototype.deleteRule=function(Z){this.element.removeChild(this.nodes[Z]),this.length--},W.prototype.getRule=function(Z){return Z<this.length?this.nodes[Z].textContent:""},W}(),ne=function(){function W(Z){this.rules=[],this.length=0}return W.prototype.insertRule=function(Z,ue){return Z<=this.length?(this.rules.splice(Z,0,ue),this.length++,!0):!1},W.prototype.deleteRule=function(Z){this.rules.splice(Z,1),this.length--},W.prototype.getRule=function(Z){return Z<this.length?this.rules[Z]:""},W}(),te=l,Q={isServer:!l,useCSSOMInjection:!u},se=function(){function W(Z,ue,fe){Z===void 0&&(Z=f),ue===void 0&&(ue={});var Oe=this;this.options=d(d({},Q),Z),this.gs=ue,this.names=new Map(fe),this.server=!!Z.isServer,!this.server&&l&&te&&(te=!1,U(this)),g(this,function(){return F(Oe)})}return W.registerId=function(Z){return M(Z)},W.prototype.reconstructWithOptions=function(Z,ue){return ue===void 0&&(ue=!0),new W(d(d({},this.options),Z),this.gs,ue&&this.names||void 0)},W.prototype.allocateGSInstance=function(Z){return this.gs[Z]=(this.gs[Z]||0)+1},W.prototype.getTag=function(){return this.tag||(this.tag=S(ae(this.options)))},W.prototype.hasNameForId=function(Z,ue){return this.names.has(Z)&&this.names.get(Z).has(ue)},W.prototype.registerName=function(Z,ue){if(M(Z),this.names.has(Z))this.names.get(Z).add(ue);else{var fe=new Set;fe.add(ue),this.names.set(Z,fe)}},W.prototype.insertRules=function(Z,ue,fe){this.registerName(Z,ue),this.getTag().insertRules(M(Z),fe)},W.prototype.clearNames=function(Z){this.names.has(Z)&&this.names.get(Z).clear()},W.prototype.clearRules=function(Z){this.getTag().clearGroup(M(Z)),this.clearNames(Z)},W.prototype.clearTag=function(){this.tag=void 0},W}(),_e=function(W,Z,ue,fe){var Oe=void 0;if(Oe!==void 0)return!!Oe;if(W===Z)return!0;if(typeof W!="object"||!W||typeof Z!="object"||!Z)return!1;var ht=Object.keys(W),Et=Object.keys(Z);if(ht.length!==Et.length)return!1;for(var jt=Object.prototype.hasOwnProperty.bind(Z),Vt=0;Vt<ht.length;Vt++){var Ti=ht[Vt];if(!jt(Ti))return!1;var nn=W[Ti],Ui=Z[Ti];if(Oe=void 0,Oe===!1||Oe===void 0&&nn!==Ui)return!1}return!0},le="-ms-",ve="-moz-",pe="-webkit-",Fe="comm",Ee="rule",it="decl",Qe="@import",Ae="@keyframes",je="@layer",We=Math.abs,ut=String.fromCharCode,vt=Object.assign;function _t(W,Z){return rt(W,0)^45?(((Z<<2^rt(W,0))<<2^rt(W,1))<<2^rt(W,2))<<2^rt(W,3):0}function zt(W){return W.trim()}function Ft(W,Z){return(W=Z.exec(W))?W[0]:W}function Ye(W,Z,ue){return W.replace(Z,ue)}function Je(W,Z,ue){return W.indexOf(Z,ue)}function rt(W,Z){return W.charCodeAt(Z)|0}function dt(W,Z,ue){return W.slice(Z,ue)}function at(W){return W.length}function Gt(W){return W.length}function ii(W,Z){return Z.push(W),W}function ci(W,Z){return W.map(Z).join("")}function qt(W,Z){return W.filter(function(ue){return!Ft(ue,Z)})}var Zt=1,xi=1,Ai=0,Ii=0,ei=0,di="";function vi(W,Z,ue,fe,Oe,ht,Et,jt){return{value:W,root:Z,parent:ue,type:fe,props:Oe,children:ht,line:Zt,column:xi,length:Et,return:"",siblings:jt}}function ot(W,Z){return vt(vi("",null,null,"",null,null,0,W.siblings),W,{length:-W.length},Z)}function Ke(W){for(;W.root;)W=ot(W.root,{children:[W]});ii(W,W.siblings)}function Ue(){return ei}function ai(){return ei=Ii>0?rt(di,--Ii):0,xi--,ei===10&&(xi=1,Zt--),ei}function Ge(){return ei=Ii<Ai?rt(di,Ii++):0,xi++,ei===10&&(xi=1,Zt++),ei}function pt(){return rt(di,Ii)}function Xt(){return Ii}function Ci(W,Z){return dt(di,W,Z)}function ft(W){switch(W){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function lt(W){return Zt=xi=1,Ai=at(di=W),Ii=0,[]}function St(W){return di="",W}function Nt(W){return zt(Ci(Ii-1,ki(W===91?W+2:W===40?W+1:W)))}function Dt(W){for(;(ei=pt())&&ei<33;)Ge();return ft(W)>2||ft(ei)>3?"":" "}function Ri(W,Z){for(;--Z&&Ge()&&!(ei<48||ei>102||ei>57&&ei<65||ei>70&&ei<97););return Ci(W,Xt()+(Z<6&&pt()==32&&Ge()==32))}function ki(W){for(;Ge();)switch(ei){case W:return Ii;case 34:case 39:W!==34&&W!==39&&ki(ei);break;case 40:W===41&&ki(W);break;case 92:Ge();break}return Ii}function Bi(W,Z){for(;Ge()&&W+ei!==57&&!(W+ei===84&&pt()===47););return"/*"+Ci(Z,Ii-1)+"*"+ut(W===47?W:Ge())}function wn(W){for(;!ft(pt());)Ge();return Ci(W,Ii)}function Ki(W){return St(Nn("",null,null,null,[""],W=lt(W),0,[0],W))}function Nn(W,Z,ue,fe,Oe,ht,Et,jt,Vt){for(var Ti=0,nn=0,Ui=Et,Vn=0,qi=0,vr=0,Wn=1,yr=1,xs=1,Cr=0,hr="",sc=Oe,ja=ht,za=fe,_r=hr;yr;)switch(vr=Cr,Cr=Ge()){case 40:if(vr!=108&&rt(_r,Ui-1)==58){Je(_r+=Ye(Nt(Cr),"&","&\f"),"&\f",We(Ti?jt[Ti-1]:0))!=-1&&(xs=-1);break}case 34:case 39:case 91:_r+=Nt(Cr);break;case 9:case 10:case 13:case 32:_r+=Dt(vr);break;case 92:_r+=Ri(Xt()-1,7);continue;case 47:switch(pt()){case 42:case 47:ii(ti(Bi(Ge(),Xt()),Z,ue,Vt),Vt);break;default:_r+="/"}break;case 123*Wn:jt[Ti++]=at(_r)*xs;case 125*Wn:case 59:case 0:switch(Cr){case 0:case 125:yr=0;case 59+nn:xs==-1&&(_r=Ye(_r,/\f/g,"")),qi>0&&at(_r)-Ui&&ii(qi>32?Ei(_r+";",fe,ue,Ui-1,Vt):Ei(Ye(_r," ","")+";",fe,ue,Ui-2,Vt),Vt);break;case 59:_r+=";";default:if(ii(za=It(_r,Z,ue,Ti,nn,Oe,jt,hr,sc=[],ja=[],Ui,ht),ht),Cr===123)if(nn===0)Nn(_r,Z,za,za,sc,ht,Ui,jt,ja);else switch(Vn===99&&rt(_r,3)===110?100:Vn){case 100:case 108:case 109:case 115:Nn(W,za,za,fe&&ii(It(W,za,za,0,0,Oe,jt,hr,Oe,sc=[],Ui,ja),ja),Oe,ja,Ui,jt,fe?sc:ja);break;default:Nn(_r,za,za,za,[""],ja,0,jt,ja)}}Ti=nn=qi=0,Wn=xs=1,hr=_r="",Ui=Et;break;case 58:Ui=1+at(_r),qi=vr;default:if(Wn<1){if(Cr==123)--Wn;else if(Cr==125&&Wn++==0&&ai()==125)continue}switch(_r+=ut(Cr),Cr*Wn){case 38:xs=nn>0?1:(_r+="\f",-1);break;case 44:jt[Ti++]=(at(_r)-1)*xs,xs=1;break;case 64:pt()===45&&(_r+=Nt(Ge())),Vn=pt(),nn=Ui=at(hr=_r+=wn(Xt())),Cr++;break;case 45:vr===45&&at(_r)==2&&(Wn=0)}}return ht}function It(W,Z,ue,fe,Oe,ht,Et,jt,Vt,Ti,nn,Ui){for(var Vn=Oe-1,qi=Oe===0?ht:[""],vr=Gt(qi),Wn=0,yr=0,xs=0;Wn<fe;++Wn)for(var Cr=0,hr=dt(W,Vn+1,Vn=We(yr=Et[Wn])),sc=W;Cr<vr;++Cr)(sc=zt(yr>0?qi[Cr]+" "+hr:Ye(hr,/&\f/g,qi[Cr])))&&(Vt[xs++]=sc);return vi(W,Z,ue,Oe===0?Ee:jt,Vt,Ti,nn,Ui)}function ti(W,Z,ue,fe){return vi(W,Z,ue,Fe,ut(Ue()),dt(W,2,-2),0,fe)}function Ei(W,Z,ue,fe,Oe){return vi(W,Z,ue,it,dt(W,0,fe),dt(W,fe+1,-1),fe,Oe)}function Hr(W,Z,ue){switch(_t(W,Z)){case 5103:return pe+"print-"+W+W;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pe+W+W;case 4789:return ve+W+W;case 5349:case 4246:case 4810:case 6968:case 2756:return pe+W+ve+W+le+W+W;case 5936:switch(rt(W,Z+11)){case 114:return pe+W+le+Ye(W,/[svh]\w+-[tblr]{2}/,"tb")+W;case 108:return pe+W+le+Ye(W,/[svh]\w+-[tblr]{2}/,"tb-rl")+W;case 45:return pe+W+le+Ye(W,/[svh]\w+-[tblr]{2}/,"lr")+W}case 6828:case 4268:case 2903:return pe+W+le+W+W;case 6165:return pe+W+le+"flex-"+W+W;case 5187:return pe+W+Ye(W,/(\w+).+(:[^]+)/,pe+"box-$1$2"+le+"flex-$1$2")+W;case 5443:return pe+W+le+"flex-item-"+Ye(W,/flex-|-self/g,"")+(Ft(W,/flex-|baseline/)?"":le+"grid-row-"+Ye(W,/flex-|-self/g,""))+W;case 4675:return pe+W+le+"flex-line-pack"+Ye(W,/align-content|flex-|-self/g,"")+W;case 5548:return pe+W+le+Ye(W,"shrink","negative")+W;case 5292:return pe+W+le+Ye(W,"basis","preferred-size")+W;case 6060:return pe+"box-"+Ye(W,"-grow","")+pe+W+le+Ye(W,"grow","positive")+W;case 4554:return pe+Ye(W,/([^-])(transform)/g,"$1"+pe+"$2")+W;case 6187:return Ye(Ye(Ye(W,/(zoom-|grab)/,pe+"$1"),/(image-set)/,pe+"$1"),W,"")+W;case 5495:case 3959:return Ye(W,/(image-set\([^]*)/,pe+"$1$`$1");case 4968:return Ye(Ye(W,/(.+:)(flex-)?(.*)/,pe+"box-pack:$3"+le+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pe+W+W;case 4200:if(!Ft(W,/flex-|baseline/))return le+"grid-column-align"+dt(W,Z)+W;break;case 2592:case 3360:return le+Ye(W,"template-","")+W;case 4384:case 3616:return ue&&ue.some(function(fe,Oe){return Z=Oe,Ft(fe.props,/grid-\w+-end/)})?~Je(W+(ue=ue[Z].value),"span",0)?W:le+Ye(W,"-start","")+W+le+"grid-row-span:"+(~Je(ue,"span",0)?Ft(ue,/\d+/):+Ft(ue,/\d+/)-+Ft(W,/\d+/))+";":le+Ye(W,"-start","")+W;case 4896:case 4128:return ue&&ue.some(function(fe){return Ft(fe.props,/grid-\w+-start/)})?W:le+Ye(Ye(W,"-end","-span"),"span ","")+W;case 4095:case 3583:case 4068:case 2532:return Ye(W,/(.+)-inline(.+)/,pe+"$1$2")+W;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(at(W)-1-Z>6)switch(rt(W,Z+1)){case 109:if(rt(W,Z+4)!==45)break;case 102:return Ye(W,/(.+:)(.+)-([^]+)/,"$1"+pe+"$2-$3$1"+ve+(rt(W,Z+3)==108?"$3":"$2-$3"))+W;case 115:return~Je(W,"stretch",0)?Hr(Ye(W,"stretch","fill-available"),Z,ue)+W:W}break;case 5152:case 5920:return Ye(W,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(fe,Oe,ht,Et,jt,Vt,Ti){return le+Oe+":"+ht+Ti+(Et?le+Oe+"-span:"+(jt?Vt:+Vt-+ht)+Ti:"")+W});case 4949:if(rt(W,Z+6)===121)return Ye(W,":",":"+pe)+W;break;case 6444:switch(rt(W,rt(W,14)===45?18:11)){case 120:return Ye(W,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+pe+(rt(W,14)===45?"inline-":"")+"box$3$1"+pe+"$2$3$1"+le+"$2box$3")+W;case 100:return Ye(W,":",":"+le)+W}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ye(W,"scroll-","scroll-snap-")+W}return W}function Zs(W,Z){for(var ue="",fe=0;fe<W.length;fe++)ue+=Z(W[fe],fe,W,Z)||"";return ue}function Yr(W,Z,ue,fe){switch(W.type){case je:if(W.children.length)break;case Qe:case it:return W.return=W.return||W.value;case Fe:return"";case Ae:return W.return=W.value+"{"+Zs(W.children,fe)+"}";case Ee:if(!at(W.value=W.props.join(",")))return""}return at(ue=Zs(W.children,fe))?W.return=W.value+"{"+ue+"}":""}function Qs(W){var Z=Gt(W);return function(ue,fe,Oe,ht){for(var Et="",jt=0;jt<Z;jt++)Et+=W[jt](ue,fe,Oe,ht)||"";return Et}}function Zc(W){return function(Z){Z.root||(Z=Z.return)&&W(Z)}}function Qc(W,Z,ue,fe){if(W.length>-1&&!W.return)switch(W.type){case it:W.return=Hr(W.value,W.length,ue);return;case Ae:return Zs([ot(W,{value:Ye(W.value,"@","@"+pe)})],fe);case Ee:if(W.length)return ci(ue=W.props,function(Oe){switch(Ft(Oe,fe=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ke(ot(W,{props:[Ye(Oe,/:(read-\w+)/,":"+ve+"$1")]})),Ke(ot(W,{props:[Oe]})),vt(W,{props:qt(ue,fe)});break;case"::placeholder":Ke(ot(W,{props:[Ye(Oe,/:(plac\w+)/,":"+pe+"input-$1")]})),Ke(ot(W,{props:[Ye(Oe,/:(plac\w+)/,":"+ve+"$1")]})),Ke(ot(W,{props:[Ye(Oe,/:(plac\w+)/,le+"input-$1")]})),Ke(ot(W,{props:[Oe]})),vt(W,{props:qt(ue,fe)});break}return""})}}var vu=5381,Xi=function(W,Z){for(var ue=Z.length;ue;)W=W*33^Z.charCodeAt(--ue);return W},lh=function(W){return Xi(vu,W)},Jc=/&/g,yu=/^\s*\/\/.*$/gm;function Bl(W,Z){return W.map(function(ue){return ue.type==="rule"&&(ue.value="".concat(Z," ").concat(ue.value),ue.value=ue.value.replaceAll(",",",".concat(Z," ")),ue.props=ue.props.map(function(fe){return"".concat(Z," ").concat(fe)})),Array.isArray(ue.children)&&ue.type!=="@keyframes"&&(ue.children=Bl(ue.children,Z)),ue})}function _u(W){var Z=W===void 0?f:W,ue=Z.options,fe=ue===void 0?f:ue,Oe=Z.plugins,ht=Oe===void 0?p:Oe,Et,jt,Vt,Ti=function(qi,vr,Wn){return Wn.startsWith(jt)&&Wn.endsWith(jt)&&Wn.replaceAll(jt,"").length>0?".".concat(Et):qi},nn=function(qi){qi.type===Ee&&qi.value.includes("&")&&(qi.props[0]=qi.props[0].replace(Jc,jt).replace(Vt,Ti))},Ui=ht.slice();Ui.push(nn),fe.prefix&&Ui.push(Qc),Ui.push(Yr);var Vn=function(qi,vr,Wn,yr){vr===void 0&&(vr=""),Wn===void 0&&(Wn=""),yr===void 0&&(yr="&"),Et=yr,jt=vr,Vt=new RegExp("\\".concat(jt,"\\b"),"g");var xs=qi.replace(yu,""),Cr=Ki(Wn||vr?"".concat(Wn," ").concat(vr," { ").concat(xs," }"):xs);fe.namespace&&(Cr=Bl(Cr,fe.namespace));var hr=[];return Zs(Cr,Qs(Ui.concat(Zc(function(sc){return hr.push(sc)})))),hr};return Vn.hash=ht.length?ht.reduce(function(qi,vr){return vr.name||_(15),Xi(qi,vr.name)},vu).toString():"",Vn}var Ao=new se,$a=_u(),_s=t.createContext({shouldForwardProp:void 0,styleSheet:Ao,stylis:$a}),ed=_s.Consumer,is=t.createContext(void 0);function nc(){return t.useContext(_s)}function $l(W){var Z=t.useState(W.stylisPlugins),ue=Z[0],fe=Z[1],Oe=nc().styleSheet,ht=t.useMemo(function(){var Vt=Oe;return W.sheet?Vt=W.sheet:W.target&&(Vt=Vt.reconstructWithOptions({target:W.target},!1)),W.disableCSSOMInjection&&(Vt=Vt.reconstructWithOptions({useCSSOMInjection:!1})),Vt},[W.disableCSSOMInjection,W.sheet,W.target,Oe]),Et=t.useMemo(function(){return _u({options:{namespace:W.namespace,prefix:W.enableVendorPrefixes},plugins:ue})},[W.enableVendorPrefixes,W.namespace,ue]);t.useEffect(function(){_e(ue,W.stylisPlugins)||fe(W.stylisPlugins)},[W.stylisPlugins]);var jt=t.useMemo(function(){return{shouldForwardProp:W.shouldForwardProp,styleSheet:ht,stylis:Et}},[W.shouldForwardProp,ht,Et]);return t.createElement(_s.Provider,{value:jt},t.createElement(is.Provider,{value:Et},W.children))}var so=function(){function W(Z,ue){var fe=this;this.inject=function(Oe,ht){ht===void 0&&(ht=$a);var Et=fe.name+ht.hash;Oe.hasNameForId(fe.id,Et)||Oe.insertRules(fe.id,Et,ht(fe.rules,Et,"@keyframes"))},this.name=Z,this.id="sc-keyframes-".concat(Z),this.rules=ue,g(this,function(){throw _(12,String(fe.name))})}return W.prototype.getName=function(Z){return Z===void 0&&(Z=$a),this.name+Z.hash},W}(),ni={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function gn(W,Z){return Z==null||typeof Z=="boolean"||Z===""?"":typeof Z=="number"&&Z!==0&&!(W in ni)&&!W.startsWith("--")?"".concat(Z,"px"):String(Z).trim()}function cr(W){return typeof W=="string"&&W||W.displayName||W.name||"Component"}var er=function(W){return W>="A"&&W<="Z"};function bs(W){for(var Z="",ue=0;ue<W.length;ue++){var fe=W[ue];if(ue===1&&fe==="-"&&W[0]==="-")return W;er(fe)?Z+="-"+fe.toLowerCase():Z+=fe}return Z.startsWith("ms-")?"-"+Z:Z}function Ss(W){return typeof W=="function"}function Rs(W){return W!==null&&typeof W=="object"&&W.constructor.name===Object.name&&!("props"in W&&W.$$typeof)}function ao(W){return Ss(W)&&!(W.prototype&&W.prototype.isReactComponent)}function Na(W){return typeof W=="object"&&"styledComponentId"in W}var ha=function(W){return W==null||W===!1||W===""},bu=function(W){var Z=[];for(var ue in W){var fe=W[ue];!W.hasOwnProperty(ue)||ha(fe)||(Array.isArray(fe)&&fe.isCss||Ss(fe)?Z.push("".concat(bs(ue),":"),fe,";"):Rs(fe)?Z.push.apply(Z,h(h(["".concat(ue," {")],bu(fe),!1),["}"],!1)):Z.push("".concat(bs(ue),": ").concat(gn(ue,fe),";")))}return Z};function el(W,Z,ue,fe){if(ha(W))return[];if(Na(W))return[".".concat(W.styledComponentId)];if(Ss(W))if(ao(W)&&Z){var Oe=W(Z);return typeof Oe=="object"&&!Array.isArray(Oe)&&!(Oe instanceof so)&&!Rs(Oe)&&Oe!==null&&console.error("".concat(cr(W)," is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.")),el(Oe,Z,ue,fe)}else return[W];return W instanceof so?ue?(W.inject(ue,fe),[W.getName(fe)]):[W]:Rs(W)?bu(W):Array.isArray(W)?Wi(W,function(ht){return el(ht,Z,ue,fe)}):[W.toString()]}function Wi(W,Z){return Array.prototype.concat.apply(p,W.map(Z))}function Lf(W){for(var Z=0;Z<W.length;Z+=1){var ue=W[Z];if(Ss(ue)&&!Na(ue))return!1}return!0}function Ds(W,Z){return W&&Z?"".concat(W," ").concat(Z):W||Z||""}function rc(W,Z){if(W.length===0)return"";for(var ue=W[0],fe=1;fe<W.length;fe++)ue+=Z?Z+W[fe]:W[fe];return ue}var uh=function(){function W(Z,ue){this.rules=Z,this.componentId=ue,this.isStatic=Lf(Z),se.registerId(this.componentId+1)}return W.prototype.createStyles=function(Z,ue,fe,Oe){var ht=rc(el(this.rules,ue,fe,Oe)),Et=Oe(ht,""),jt=this.componentId+Z;fe.insertRules(jt,jt,Et)},W.prototype.removeStyles=function(Z,ue){ue.clearRules(this.componentId+Z)},W.prototype.renderStyles=function(Z,ue,fe,Oe){Z>2&&se.registerId(this.componentId+Z),this.removeStyles(Z,fe),this.createStyles(Z,ue,fe,Oe)},W}(),oo=t.createContext(void 0),mp=oo.Consumer;function ch(W,Z){if(!W)throw _(14);if(Ss(W)){var ue=W,fe=ue(Z);if(fe===null||Array.isArray(fe)||typeof fe!="object")throw _(7);return fe}if(Array.isArray(W)||typeof W!="object")throw _(8);return Z?d(d({},Z),W):W}function dh(){var W=t.useContext(oo);if(!W)throw _(18);return W}function Su(W){var Z=t.useContext(oo),ue=t.useMemo(function(){return ch(W.theme,Z)},[W.theme,Z]);return W.children?t.createElement(oo.Provider,{value:ue},W.children):null}var Nl=/invalid hook call/i,To=new Set,td=function(W,Z){{var ue=Z?' with the id of "'.concat(Z,'"'):"",fe="The component ".concat(W).concat(ue,` has been created dynamically.
`)+`You may see this warning because you've called styled inside another component.
To resolve this only create new StyledComponents outside of any render method and function component.`,Oe=console.error;try{var ht=!0;console.error=function(Et){for(var jt=[],Vt=1;Vt<arguments.length;Vt++)jt[Vt-1]=arguments[Vt];Nl.test(Et)?(ht=!1,To.delete(fe)):Oe.apply(void 0,h([Et],jt,!1))},t.useRef(),ht&&!To.has(fe)&&(console.warn(fe),To.add(fe))}catch(Et){Nl.test(Et.message)&&To.delete(fe)}finally{console.error=Oe}}};function Lt(W,Z,ue){return ue===void 0&&(ue=f),W.theme!==ue.theme&&W.theme||Z||ue.theme}var zi=/(a)(d)/gi,Ls=52,Fs=function(W){return String.fromCharCode(W+(W>25?39:97))};function dr(W){var Z="",ue;for(ue=Math.abs(W);ue>Ls;ue=ue/Ls|0)Z=Fs(ue%Ls)+Z;return(Fs(ue%Ls)+Z).replace(zi,"$1-$2")}function vp(W){return dr(lh(W)>>>0)}function Ff(W,Z){for(var ue=[W[0]],fe=0,Oe=Z.length;fe<Oe;fe+=1)ue.push(Z[fe],W[fe+1]);return ue}var yp=function(W){return Object.assign(W,{isCss:!0})};function id(W){for(var Z=[],ue=1;ue<arguments.length;ue++)Z[ue-1]=arguments[ue];if(Ss(W)||Rs(W)){var fe=W;return yp(el(Ff(p,h([fe],Z,!0))))}var Oe=W;return Z.length===0&&Oe.length===1&&typeof Oe[0]=="string"?el(Oe):yp(el(Ff(Oe,Z)))}function q4(W){for(var Z=[],ue=1;ue<arguments.length;ue++)Z[ue-1]=arguments[ue];var fe=id.apply(void 0,h([W],Z,!1)),Oe="sc-global-".concat(vp(JSON.stringify(fe))),ht=new uh(fe,Oe);td(Oe);var Et=function(Vt){var Ti=nc(),nn=t.useContext(oo),Ui=t.useRef(Ti.styleSheet.allocateGSInstance(Oe)),Vn=Ui.current;return t.Children.count(Vt.children)&&console.warn("The global style component ".concat(Oe," was given child JSX. createGlobalStyle does not render children.")),fe.some(function(qi){return typeof qi=="string"&&qi.indexOf("@import")!==-1})&&console.warn("Please do not use @import CSS syntax in createGlobalStyle at this time, as the CSSOM APIs we use in production do not handle it well. Instead, we recommend using a library such as react-helmet to inject a typical <link> meta tag to the stylesheet, or simply embedding it manually in your index.html <head> section for a simpler app."),Ti.styleSheet.server&&jt(Vn,Vt,Ti.styleSheet,nn,Ti.stylis),t.useLayoutEffect(function(){if(!Ti.styleSheet.server)return jt(Vn,Vt,Ti.styleSheet,nn,Ti.stylis),function(){return ht.removeStyles(Vn,Ti.styleSheet)}},[Vn,Vt,Ti.styleSheet,nn,Ti.stylis]),null};function jt(Vt,Ti,nn,Ui,Vn){if(ht.isStatic)ht.renderStyles(Vt,c,nn,Vn);else{var qi=d(d({},Ti),{theme:Lt(Ti,Ui,Et.defaultProps)});ht.renderStyles(Vt,qi,nn,Vn)}}return t.memo(Et)}function N0(W){for(var Z=[],ue=1;ue<arguments.length;ue++)Z[ue-1]=arguments[ue];typeof navigator<"u"&&navigator.product==="ReactNative"&&console.warn("`keyframes` cannot be used on ReactNative, only on the web. To do animation in ReactNative please use Animated.");var fe=rc(id.apply(void 0,h([W],Z,!1))),Oe=vp(fe);return new so(Oe,fe)}var _p,Bf=typeof Symbol=="function"&&Symbol.for,j0=Bf?Symbol.for("react.memo"):60115,Z4=Bf?Symbol.for("react.forward_ref"):60112,Q4={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bC={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ob={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Mb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qP=(_p={},_p[Z4]=Ob,_p[j0]=Mb,_p);function bp(W){var Z="type"in W&&W.type.$$typeof;return Z===j0}function Ib(W){return bp(W)?Mb:"$$typeof"in W?qP[W.$$typeof]:Q4}var Rb=Object.defineProperty,ZP=Object.getOwnPropertyNames,z0=Object.getOwnPropertySymbols,Db=Object.getOwnPropertyDescriptor,QP=Object.getPrototypeOf,tl=Object.prototype;function Sp(W,Z,ue){if(typeof Z!="string"){if(tl){var fe=QP(Z);fe&&fe!==tl&&Sp(W,fe,ue)}var Oe=ZP(Z);z0&&(Oe=Oe.concat(z0(Z)));for(var ht=Ib(W),Et=Ib(Z),jt=0;jt<Oe.length;++jt){var Vt=Oe[jt];if(!(Vt in bC)&&!(ue&&ue[Vt])&&!(Et&&Vt in Et)&&!(ht&&Vt in ht)){var Ti=Db(Z,Vt);try{Rb(W,Vt,Ti)}catch{}}}}return W}function SC(W){var Z=t.forwardRef(function(ue,fe){var Oe=t.useContext(oo),ht=Lt(ue,Oe,W.defaultProps);return ht===void 0&&console.warn('[withTheme] You are not using a ThemeProvider nor passing a theme prop or a theme in defaultProps in component class "'.concat(cr(W),'"')),t.createElement(W,d({},ue,{theme:ht,ref:fe}))});return Z.displayName="WithTheme(".concat(cr(W),")"),Sp(Z,W)}var H0=function(){function W(){var Z=this;this._emitSheetCSS=function(){var ue=Z.instance.toString(),fe=G(),Oe=[fe&&'nonce="'.concat(fe,'"'),"".concat(n,'="true"'),"".concat(s,'="').concat(a,'"')],ht=rc(Oe.filter(Boolean)," ");return"<style ".concat(ht,">").concat(ue,"</style>")},this.getStyleTags=function(){if(Z.sealed)throw _(2);return Z._emitSheetCSS()},this.getStyleElement=function(){var ue;if(Z.sealed)throw _(2);var fe=(ue={},ue[n]="",ue[s]=a,ue.dangerouslySetInnerHTML={__html:Z.instance.toString()},ue),Oe=G();return Oe&&(fe.nonce=Oe),[t.createElement("style",d({},fe,{key:"sc-0-0"}))]},this.seal=function(){Z.sealed=!0},this.instance=new se({isServer:!0}),this.sealed=!1}return W.prototype.collectStyles=function(Z){if(this.sealed)throw _(2);return t.createElement($l,{sheet:this.instance},Z)},W.prototype.interleaveWithNodeStream=function(Z){throw _(3)},W}(),J4={StyleSheet:se,mainSheet:Ao};typeof navigator<"u"&&navigator.product==="ReactNative"&&console.warn(`It looks like you've imported 'styled-components' on React Native.
Perhaps you're looking to import 'styled-components/native'?
Read more about this at https://www.styled-components.com/docs/basics#react-native`);var xm="__sc-".concat(n,"__");typeof window<"u"&&(window[xm]||(window[xm]=0),window[xm]===1&&console.warn(`It looks like there are several instances of 'styled-components' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.

See https://s-c.sh/2BAXzed for more info.`),window[xm]+=1);var Lb=Object.freeze({__proto__:null,ServerStyleSheet:H0,StyleSheetConsumer:ed,StyleSheetContext:_s,StyleSheetManager:$l,ThemeConsumer:mp,ThemeContext:oo,ThemeProvider:Su,__PRIVATE__:J4,createGlobalStyle:q4,css:id,isStyledComponent:Na,keyframes:N0,useTheme:dh,version:a,withTheme:SC});function V0(W){var Z=Object.create(null);return function(ue){return Z[ue]===void 0&&(Z[ue]=W(ue)),Z[ue]}}var Fb=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,JP=V0(function(W){return Fb.test(W)||W.charCodeAt(0)===111&&W.charCodeAt(1)===110&&W.charCodeAt(2)<91}),eO=200,e9=function(W,Z){var ue={},fe=!1;return function(Oe){if(!fe&&(ue[Oe]=!0,Object.keys(ue).length>=eO)){var ht=Z?' with the id of "'.concat(Z,'"'):"";console.warn("Over ".concat(eO," classes were generated for component ").concat(W).concat(ht,`.
`)+`Consider using the attrs method, together with a style object for frequently changed styles.
Example:
  const Component = styled.div.attrs(props => ({
    style: {
      background: props.background,
    },
  }))\`width: 100%;\`

  <Component />`),fe=!0,ue={}}}},t9=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],W0=new Set(t9),i9=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,n9=/(^-|-$)/g;function tO(W){return W.replace(i9,"-").replace(n9,"")}function xC(W){return typeof W=="string"&&W.charAt(0)===W.charAt(0).toLowerCase()}function r9(W){return xC(W)?"styled.".concat(W):"Styled(".concat(cr(W),")")}function Bb(W,Z,ue){if(ue===void 0&&(ue=!1),!ue&&!Rs(W)&&!Array.isArray(W))return Z;if(Array.isArray(Z))for(var fe=0;fe<Z.length;fe++)W[fe]=Bb(W[fe],Z[fe]);else if(Rs(Z))for(var fe in Z)W[fe]=Bb(W[fe],Z[fe]);return W}function s9(W){for(var Z=[],ue=1;ue<arguments.length;ue++)Z[ue-1]=arguments[ue];for(var fe=0,Oe=Z;fe<Oe.length;fe++){var ht=Oe[fe];Bb(W,ht,!0)}return W}var a9=lh(a),o9=function(){function W(Z,ue,fe){this.rules=Z,this.staticRulesId="",this.isStatic=!1,this.componentId=ue,this.baseHash=Xi(a9,ue),this.baseStyle=fe,se.registerId(ue)}return W.prototype.generateAndInjectStyles=function(Z,ue,fe){var Oe=this.baseStyle?this.baseStyle.generateAndInjectStyles(Z,ue,fe):"";if(this.isStatic&&!fe.hash)if(this.staticRulesId&&ue.hasNameForId(this.componentId,this.staticRulesId))Oe=Ds(Oe,this.staticRulesId);else{var ht=rc(el(this.rules,Z,ue,fe)),Et=dr(Xi(this.baseHash,ht)>>>0);if(!ue.hasNameForId(this.componentId,Et)){var jt=fe(ht,".".concat(Et),void 0,this.componentId);ue.insertRules(this.componentId,Et,jt)}Oe=Ds(Oe,Et),this.staticRulesId=Et}else{for(var Vt=Xi(this.baseHash,fe.hash),Ti="",nn=0;nn<this.rules.length;nn++){var Ui=this.rules[nn];if(typeof Ui=="string")Ti+=Ui,Vt=Xi(Vt,Ui);else if(Ui){var Vn=rc(el(Ui,Z,ue,fe));Vt=Xi(Vt,Vn+nn),Ti+=Vn}}if(Ti){var qi=dr(Vt>>>0);ue.hasNameForId(this.componentId,qi)||ue.insertRules(this.componentId,qi,fe(Ti,".".concat(qi),void 0,this.componentId)),Oe=Ds(Oe,qi)}}return Oe},W}(),wC={};function CC(W,Z){var ue=typeof W!="string"?"sc":tO(W);wC[ue]=(wC[ue]||0)+1;var fe="".concat(ue,"-").concat(vp(a+ue+wC[ue]));return Z?"".concat(Z,"-").concat(fe):fe}function l9(W,Z){var ue=nc(),fe=W.generateAndInjectStyles(Z,ue.styleSheet,ue.stylis);return t.useDebugValue(fe),fe}function u9(W,Z,ue){for(var fe=d(d({},Z),{className:void 0,theme:ue}),Oe,ht=0;ht<W.length;ht+=1){Oe=W[ht];var Et=Ss(Oe)?Oe(fe):Oe;for(var jt in Et)fe[jt]=jt==="className"?Ds(fe[jt],Et[jt]):jt==="style"?d(d({},fe[jt]),Et[jt]):Et[jt]}return Z.className&&(fe.className=Ds(fe.className,Z.className)),fe}var iO=new Set;function nO(W,Z,ue){var fe=W.attrs,Oe=W.componentStyle,ht=W.defaultProps,Et=W.foldedComponentIds,jt=W.styledComponentId,Vt=W.target,Ti=t.useContext(oo),nn=nc(),Ui=W.shouldForwardProp||nn.shouldForwardProp;t.useDebugValue(jt);var Vn=Lt(Z,Ti,ht)||f,qi=u9(fe,Z,Vn),vr=qi.as||Vt,Wn={};for(var yr in qi)qi[yr]===void 0||yr[0]==="$"||yr==="as"||yr==="theme"&&qi.theme===Vn||(yr==="forwardedAs"?Wn.as=qi.forwardedAs:(!Ui||Ui(yr,vr))&&(Wn[yr]=qi[yr],!Ui&&!JP(yr)&&!iO.has(yr)&&W0.has(vr)&&(iO.add(yr),console.warn('styled-components: it looks like an unknown prop "'.concat(yr,'" is being sent through to the DOM, which will likely trigger a React console error. If you would like automatic filtering of unknown props, you can opt-into that behavior via `<StyleSheetManager shouldForwardProp={...}>` (connect an API like `@emotion/is-prop-valid`) or consider using transient props (`$` prefix for automatic filtering.)')))));var xs=l9(Oe,qi);W.warnTooManyClasses&&W.warnTooManyClasses(xs);var Cr=Ds(Et,jt);return xs&&(Cr+=" "+xs),qi.className&&(Cr+=" "+qi.className),Wn[xC(vr)&&!W0.has(vr)?"class":"className"]=Cr,Wn.ref=ue,t.createElement(vr,Wn)}function c9(W,Z,ue){var fe=Na(W),Oe=W,ht=!xC(W),Et=Z.attrs,jt=Et===void 0?p:Et,Vt=Z.componentId,Ti=Vt===void 0?CC(Z.displayName,Z.parentComponentId):Vt,nn=Z.displayName,Ui=nn===void 0?r9(W):nn,Vn=Z.displayName&&Z.componentId?"".concat(tO(Z.displayName),"-").concat(Z.componentId):Z.componentId||Ti,qi=fe&&Oe.attrs?Oe.attrs.concat(jt).filter(Boolean):jt,vr=Z.shouldForwardProp;if(fe&&Oe.shouldForwardProp){var Wn=Oe.shouldForwardProp;if(Z.shouldForwardProp){var yr=Z.shouldForwardProp;vr=function(ja,za){return Wn(ja,za)&&yr(ja,za)}}else vr=Wn}var xs=new o9(ue,Vn,fe?Oe.componentStyle:void 0);function Cr(ja,za){return nO(hr,ja,za)}Cr.displayName=Ui;var hr=t.forwardRef(Cr);if(hr.attrs=qi,hr.componentStyle=xs,hr.displayName=Ui,hr.shouldForwardProp=vr,hr.foldedComponentIds=fe?Ds(Oe.foldedComponentIds,Oe.styledComponentId):"",hr.styledComponentId=Vn,hr.target=fe?Oe.target:W,Object.defineProperty(hr,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ja){this._foldedDefaultProps=fe?s9({},Oe.defaultProps,ja):ja}}),td(Ui,Vn),hr.warnTooManyClasses=e9(Ui,Vn),g(hr,function(){return".".concat(hr.styledComponentId)}),ht){var sc=W;Sp(hr,sc,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0})}return hr}function kC(W,Z,ue){if(ue===void 0&&(ue=f),!Z)throw _(1,Z);var fe=function(Oe){for(var ht=[],Et=1;Et<arguments.length;Et++)ht[Et-1]=arguments[Et];return W(Z,ue,id.apply(void 0,h([Oe],ht,!1)))};return fe.attrs=function(Oe){return kC(W,Z,d(d({},ue),{attrs:Array.prototype.concat(ue.attrs,Oe).filter(Boolean)}))},fe.withConfig=function(Oe){return kC(W,Z,d(d({},ue),Oe))},fe}var rO=function(W){return kC(c9,W)},EC=rO;W0.forEach(function(W){EC[W]=rO(W)});for(var sO in Lb)EC[sO]=Lb[sO];return EC})}),u$e=on(i=>{var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function v(m){if(typeof m=="object"&&m!==null){var b=m.$$typeof;switch(b){case e:switch(m=m.type,m){case n:case s:case r:case c:case d:return m;default:switch(m=m&&m.$$typeof,m){case l:case o:case u:case p:case h:case a:return m;default:return b}}case t:return b}}}i.ContextConsumer=o,i.ContextProvider=a,i.Element=e,i.ForwardRef=u,i.Fragment=n,i.Lazy=p,i.Memo=h,i.Portal=t,i.Profiler=s,i.StrictMode=r,i.Suspense=c,i.SuspenseList=d,i.isAsyncMode=function(){return!1},i.isConcurrentMode=function(){return!1},i.isContextConsumer=function(m){return v(m)===o},i.isContextProvider=function(m){return v(m)===a},i.isElement=function(m){return typeof m=="object"&&m!==null&&m.$$typeof===e},i.isForwardRef=function(m){return v(m)===u},i.isFragment=function(m){return v(m)===n},i.isLazy=function(m){return v(m)===p},i.isMemo=function(m){return v(m)===h},i.isPortal=function(m){return v(m)===t},i.isProfiler=function(m){return v(m)===s},i.isStrictMode=function(m){return v(m)===r},i.isSuspense=function(m){return v(m)===c},i.isSuspenseList=function(m){return v(m)===d},i.isValidElementType=function(m){return typeof m=="string"||typeof m=="function"||m===n||m===s||m===r||m===c||m===d||m===f||typeof m=="object"&&m!==null&&(m.$$typeof===p||m.$$typeof===h||m.$$typeof===a||m.$$typeof===o||m.$$typeof===u||m.$$typeof===g||m.getModuleId!==void 0)},i.typeOf=v}),iye=on((i,e)=>{e.exports=u$e()});/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/var c$e=class{constructor(){this._promise=new Promise((i,e)=>{this._resolve=i,this._reject=e})}get promise(){return this._promise}resolve(i){var e;return(e=this._resolve)==null?void 0:e.call(this,i)}reject(i){var e;return(e=this._reject)==null?void 0:e.call(this,i)}};function d$e(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var zc=d$e,h$e=Array.isArray,Tf=h$e,p$e=typeof global=="object"&&global&&global.Object===Object&&global,f$e=p$e,g$e=typeof self=="object"&&self&&self.Object===Object&&self,m$e=f$e||g$e||Function("return this")(),W6=m$e,v$e=W6.Symbol,Mx=v$e,nye=Object.prototype,y$e=nye.hasOwnProperty,_$e=nye.toString,rk=Mx?Mx.toStringTag:void 0;function b$e(i){var e=y$e.call(i,rk),t=i[rk];try{i[rk]=void 0;var n=!0}catch{}var r=_$e.call(i);return n&&(e?i[rk]=t:delete i[rk]),r}var S$e=b$e,x$e=Object.prototype,w$e=x$e.toString;function C$e(i){return w$e.call(i)}var k$e=C$e,E$e="[object Null]",A$e="[object Undefined]",tie=Mx?Mx.toStringTag:void 0;function T$e(i){return i==null?i===void 0?A$e:E$e:tie&&tie in Object(i)?S$e(i):k$e(i)}var B2=T$e;function P$e(i){return i!=null&&typeof i=="object"}var U6=P$e,O$e="[object Symbol]";function M$e(i){return typeof i=="symbol"||U6(i)&&B2(i)==O$e}var G6=M$e,I$e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R$e=/^\w*$/;function D$e(i,e){if(Tf(i))return!1;var t=typeof i;return t=="number"||t=="symbol"||t=="boolean"||i==null||G6(i)?!0:R$e.test(i)||!I$e.test(i)||e!=null&&i in Object(e)}var L$e=D$e,F$e="[object AsyncFunction]",B$e="[object Function]",$$e="[object GeneratorFunction]",N$e="[object Proxy]";function j$e(i){if(!zc(i))return!1;var e=B2(i);return e==B$e||e==$$e||e==F$e||e==N$e}var z$e=j$e,H$e=W6["__core-js_shared__"],ej=H$e,iie=function(){var i=/[^.]+$/.exec(ej&&ej.keys&&ej.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function V$e(i){return!!iie&&iie in i}var W$e=V$e,U$e=Function.prototype,G$e=U$e.toString;function Y$e(i){if(i!=null){try{return G$e.call(i)}catch{}try{return i+""}catch{}}return""}var K$e=Y$e,X$e=/[\\^$.*+?()[\]{}|]/g,q$e=/^\[object .+?Constructor\]$/,Z$e=Function.prototype,Q$e=Object.prototype,J$e=Z$e.toString,e4e=Q$e.hasOwnProperty,t4e=RegExp("^"+J$e.call(e4e).replace(X$e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function i4e(i){if(!zc(i)||W$e(i))return!1;var e=z$e(i)?t4e:q$e;return e.test(K$e(i))}var n4e=i4e;function r4e(i,e){return i==null?void 0:i[e]}var s4e=r4e;function a4e(i,e){var t=s4e(i,e);return n4e(t)?t:void 0}var rye=a4e,o4e=rye(Object,"create"),tT=o4e;function l4e(){this.__data__=tT?tT(null):{},this.size=0}var u4e=l4e;function c4e(i){var e=this.has(i)&&delete this.__data__[i];return this.size-=e?1:0,e}var d4e=c4e,h4e="__lodash_hash_undefined__",p4e=Object.prototype,f4e=p4e.hasOwnProperty;function g4e(i){var e=this.__data__;if(tT){var t=e[i];return t===h4e?void 0:t}return f4e.call(e,i)?e[i]:void 0}var m4e=g4e,v4e=Object.prototype,y4e=v4e.hasOwnProperty;function _4e(i){var e=this.__data__;return tT?e[i]!==void 0:y4e.call(e,i)}var b4e=_4e,S4e="__lodash_hash_undefined__";function x4e(i,e){var t=this.__data__;return this.size+=this.has(i)?0:1,t[i]=tT&&e===void 0?S4e:e,this}var w4e=x4e;function Aw(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}Aw.prototype.clear=u4e;Aw.prototype.delete=d4e;Aw.prototype.get=m4e;Aw.prototype.has=b4e;Aw.prototype.set=w4e;var nie=Aw;function C4e(){this.__data__=[],this.size=0}var k4e=C4e;function E4e(i,e){return i===e||i!==i&&e!==e}var A4e=E4e;function T4e(i,e){for(var t=i.length;t--;)if(A4e(i[t][0],e))return t;return-1}var Y6=T4e,P4e=Array.prototype,O4e=P4e.splice;function M4e(i){var e=this.__data__,t=Y6(e,i);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():O4e.call(e,t,1),--this.size,!0}var I4e=M4e;function R4e(i){var e=this.__data__,t=Y6(e,i);return t<0?void 0:e[t][1]}var D4e=R4e;function L4e(i){return Y6(this.__data__,i)>-1}var F4e=L4e;function B4e(i,e){var t=this.__data__,n=Y6(t,i);return n<0?(++this.size,t.push([i,e])):t[n][1]=e,this}var $4e=B4e;function Tw(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}Tw.prototype.clear=k4e;Tw.prototype.delete=I4e;Tw.prototype.get=D4e;Tw.prototype.has=F4e;Tw.prototype.set=$4e;var N4e=Tw,j4e=rye(W6,"Map"),z4e=j4e;function H4e(){this.size=0,this.__data__={hash:new nie,map:new(z4e||N4e),string:new nie}}var V4e=H4e;function W4e(i){var e=typeof i;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?i!=="__proto__":i===null}var U4e=W4e;function G4e(i,e){var t=i.__data__;return U4e(e)?t[typeof e=="string"?"string":"hash"]:t.map}var K6=G4e;function Y4e(i){var e=K6(this,i).delete(i);return this.size-=e?1:0,e}var K4e=Y4e;function X4e(i){return K6(this,i).get(i)}var q4e=X4e;function Z4e(i){return K6(this,i).has(i)}var Q4e=Z4e;function J4e(i,e){var t=K6(this,i),n=t.size;return t.set(i,e),this.size+=t.size==n?0:1,this}var e9e=J4e;function Pw(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}Pw.prototype.clear=V4e;Pw.prototype.delete=K4e;Pw.prototype.get=q4e;Pw.prototype.has=Q4e;Pw.prototype.set=e9e;var sye=Pw,t9e="Expected a function";function $Y(i,e){if(typeof i!="function"||e!=null&&typeof e!="function")throw new TypeError(t9e);var t=function(){var n=arguments,r=e?e.apply(this,n):n[0],s=t.cache;if(s.has(r))return s.get(r);var a=i.apply(this,n);return t.cache=s.set(r,a)||s,a};return t.cache=new($Y.Cache||sye),t}$Y.Cache=sye;var i9e=$Y,n9e=500;function r9e(i){var e=i9e(i,function(n){return t.size===n9e&&t.clear(),n}),t=e.cache;return e}var s9e=r9e,a9e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o9e=/\\(\\)?/g,l9e=s9e(function(i){var e=[];return i.charCodeAt(0)===46&&e.push(""),i.replace(a9e,function(t,n,r,s){e.push(r?s.replace(o9e,"$1"):n||t)}),e}),u9e=l9e;function c9e(i,e){for(var t=-1,n=i==null?0:i.length,r=Array(n);++t<n;)r[t]=e(i[t],t,i);return r}var d9e=c9e,h9e=1/0,rie=Mx?Mx.prototype:void 0,sie=rie?rie.toString:void 0;function aye(i){if(typeof i=="string")return i;if(Tf(i))return d9e(i,aye)+"";if(G6(i))return sie?sie.call(i):"";var e=i+"";return e=="0"&&1/i==-h9e?"-0":e}var p9e=aye;function f9e(i){return i==null?"":p9e(i)}var NY=f9e;function g9e(i,e){return Tf(i)?i:L$e(i,e)?[i]:u9e(NY(i))}var m9e=g9e,v9e=1/0;function y9e(i){if(typeof i=="string"||G6(i))return i;var e=i+"";return e=="0"&&1/i==-v9e?"-0":e}var _9e=y9e;function b9e(i,e){e=m9e(e,i);for(var t=0,n=e.length;i!=null&&t<n;)i=i[_9e(e[t++])];return t&&t==n?i:void 0}var S9e=b9e;function x9e(i,e,t){var n=i==null?void 0:S9e(i,e);return n===void 0?t:n}var va=x9e,w9e=function(){return W6.Date.now()},tj=w9e,C9e=/\s/;function k9e(i){for(var e=i.length;e--&&C9e.test(i.charAt(e)););return e}var E9e=k9e,A9e=/^\s+/;function T9e(i){return i&&i.slice(0,E9e(i)+1).replace(A9e,"")}var P9e=T9e,aie=NaN,O9e=/^[-+]0x[0-9a-f]+$/i,M9e=/^0b[01]+$/i,I9e=/^0o[0-7]+$/i,R9e=parseInt;function D9e(i){if(typeof i=="number")return i;if(G6(i))return aie;if(zc(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=zc(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=P9e(i);var t=M9e.test(i);return t||I9e.test(i)?R9e(i.slice(2),t?2:8):O9e.test(i)?aie:+i}var oie=D9e,L9e="Expected a function",F9e=Math.max,B9e=Math.min;function $9e(i,e,t){var n,r,s,a,o,l,u=0,c=!1,d=!1,h=!0;if(typeof i!="function")throw new TypeError(L9e);e=oie(e)||0,zc(t)&&(c=!!t.leading,d="maxWait"in t,s=d?F9e(oie(t.maxWait)||0,e):s,h="trailing"in t?!!t.trailing:h);function p(k){var E=n,A=r;return n=r=void 0,u=k,a=i.apply(A,E),a}function f(k){return u=k,o=setTimeout(m,e),c?p(k):a}function g(k){var E=k-l,A=k-u,P=e-E;return d?B9e(P,s-A):P}function v(k){var E=k-l,A=k-u;return l===void 0||E>=e||E<0||d&&A>=s}function m(){var k=tj();if(v(k))return b(k);o=setTimeout(m,g(k))}function b(k){return o=void 0,h&&n?p(k):(n=r=void 0,a)}function _(){o!==void 0&&clearTimeout(o),u=0,n=l=r=o=void 0}function S(){return o===void 0?a:b(tj())}function C(){var k=tj(),E=v(k);if(n=arguments,r=this,l=k,E){if(o===void 0)return f(l);if(d)return clearTimeout(o),o=setTimeout(m,e),p(l)}return o===void 0&&(o=setTimeout(m,e)),a}return C.cancel=_,C.flush=S,C}var N9e=$9e,j9e="[object String]";function z9e(i){return typeof i=="string"||!Tf(i)&&U6(i)&&B2(i)==j9e}var Vr=z9e,H9e="[object Number]";function V9e(i){return typeof i=="number"||U6(i)&&B2(i)==H9e}var oye=V9e;function W9e(i,e,t,n){var r=-1,s=i==null?0:i.length;for(n&&s&&(t=i[++r]);++r<s;)t=e(t,i[r],r,i);return t}var U9e=W9e;function G9e(i){return function(e){return i==null?void 0:i[e]}}var Y9e=G9e,K9e={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},X9e=Y9e(K9e),q9e=X9e,Z9e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Q9e="\\u0300-\\u036f",J9e="\\ufe20-\\ufe2f",eNe="\\u20d0-\\u20ff",tNe=Q9e+J9e+eNe,iNe="["+tNe+"]",nNe=RegExp(iNe,"g");function rNe(i){return i=NY(i),i&&i.replace(Z9e,q9e).replace(nNe,"")}var sNe=rNe,aNe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function oNe(i){return i.match(aNe)||[]}var lNe=oNe,uNe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function cNe(i){return uNe.test(i)}var dNe=cNe,lye="\\ud800-\\udfff",hNe="\\u0300-\\u036f",pNe="\\ufe20-\\ufe2f",fNe="\\u20d0-\\u20ff",gNe=hNe+pNe+fNe,uye="\\u2700-\\u27bf",cye="a-z\\xdf-\\xf6\\xf8-\\xff",mNe="\\xac\\xb1\\xd7\\xf7",vNe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",yNe="\\u2000-\\u206f",_Ne=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dye="A-Z\\xc0-\\xd6\\xd8-\\xde",bNe="\\ufe0e\\ufe0f",hye=mNe+vNe+yNe+_Ne,pye="[']",lie="["+hye+"]",SNe="["+gNe+"]",fye="\\d+",xNe="["+uye+"]",gye="["+cye+"]",mye="[^"+lye+hye+fye+uye+cye+dye+"]",wNe="\\ud83c[\\udffb-\\udfff]",CNe="(?:"+SNe+"|"+wNe+")",kNe="[^"+lye+"]",vye="(?:\\ud83c[\\udde6-\\uddff]){2}",yye="[\\ud800-\\udbff][\\udc00-\\udfff]",G1="["+dye+"]",ENe="\\u200d",uie="(?:"+gye+"|"+mye+")",ANe="(?:"+G1+"|"+mye+")",cie="(?:"+pye+"(?:d|ll|m|re|s|t|ve))?",die="(?:"+pye+"(?:D|LL|M|RE|S|T|VE))?",_ye=CNe+"?",bye="["+bNe+"]?",TNe="(?:"+ENe+"(?:"+[kNe,vye,yye].join("|")+")"+bye+_ye+")*",PNe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ONe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",MNe=bye+_ye+TNe,INe="(?:"+[xNe,vye,yye].join("|")+")"+MNe,RNe=RegExp([G1+"?"+gye+"+"+cie+"(?="+[lie,G1,"$"].join("|")+")",ANe+"+"+die+"(?="+[lie,G1+uie,"$"].join("|")+")",G1+"?"+uie+"+"+cie,G1+"+"+die,ONe,PNe,fye,INe].join("|"),"g");function DNe(i){return i.match(RNe)||[]}var LNe=DNe;function FNe(i,e,t){return i=NY(i),e=t?void 0:e,e===void 0?dNe(i)?LNe(i):lNe(i):i.match(e)||[]}var BNe=FNe,$Ne="[']",NNe=RegExp($Ne,"g");function jNe(i){return function(e){return U9e(BNe(sNe(e).replace(NNe,"")),i,"")}}var zNe=jNe,HNe="[object Boolean]";function VNe(i){return i===!0||i===!1||U6(i)&&B2(i)==HNe}var WNe=VNe,UNe=zNe(function(i,e,t){return i+(t?" ":"")+e.toLowerCase()}),mM=UNe,GNe=class{constructor(i){this.config=i,this.requestQueue=new Set,this.debounceRun=N9e(()=>this.runImmediate(),i.debounce)}request(i){let e={key:i,deferred:new c$e};return this.requestQueue.add(e),this.requestQueue.size===this.config.maxRequestCount?this.runImmediate():this.debounceRun(),e.deferred.promise}runImmediate(){return ye(this,null,function*(){this.debounceRun.cancel();let i=Array.from(this.requestQueue);this.requestQueue.clear();try{(yield this.config.batchRequestFn(i.map(e=>e.key))).forEach((e,t)=>i[t].deferred.resolve(e))}catch(e){i.forEach(t=>t.deferred.reject(e))}})}},Sye=Object.defineProperty,hie=Object.getOwnPropertySymbols,YNe=Object.prototype.hasOwnProperty,KNe=Object.prototype.propertyIsEnumerable,pie=(i,e,t)=>e in i?Sye(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ap=(i,e)=>{for(var t in e||(e={}))YNe.call(e,t)&&pie(i,t,e[t]);if(hie)for(var t of hie(e))KNe.call(e,t)&&pie(i,t,e[t]);return i},XNe=(i,e)=>{for(var t in e)Sye(i,t,{get:e[t],enumerable:!0})},xye=(i=>(i.CALCULATING="calculating",i.COMPLETED="completed",i))(xye||{}),$2=(i=>(i.Text="text",i.Url="url",i.Mention="mention",i))($2||{}),qNe=(i=>(i[i.User=0]="User",i[i.Doc=1]="Doc",i[i.Folder=2]="Folder",i[i.Sheet=3]="Sheet",i[i.SheetDoc=4]="SheetDoc",i[i.Chat=5]="Chat",i[i.Bitable=8]="Bitable",i[i.Mindnote=11]="Mindnote",i[i.Box=12]="Box",i[i.Slide=15]="Slide",i[i.Wiki=16]="Wiki",i[i.Docx=22]="Docx",i[i.Slides=30]="Slides",i[i.Bitable_Ind=108]="Bitable_Ind",i))(qNe||{}),Y1=(i=>(i.TableAdd="TableAdd",i.TableDelete="TableDelete",i.SelectionChange="SelectionChange",i.PermissionChange="PermissionChange",i.UploadStatusChange="UploadStatusChange",i))(Y1||{}),by=(i=>(i.FieldAdd="FieldAdd",i.FieldDelete="FieldDelete",i.FieldModify="FieldModify",i.RecordAdd="RecordAdd",i.RecordModify="RecordModify",i.RecordDelete="RecordDelete",i))(by||{}),aH=(i=>(i.DataChange="DataChange",i.ThemeChange="ThemeChange",i))(aH||{}),oH=(i=>(i.DataChange="DataChange",i.ConfigChange="ConfigChange",i))(oH||{}),fi=(i=>(i[i.NotSupport=0]="NotSupport",i[i.Text=1]="Text",i[i.Number=2]="Number",i[i.SingleSelect=3]="SingleSelect",i[i.MultiSelect=4]="MultiSelect",i[i.DateTime=5]="DateTime",i[i.Checkbox=7]="Checkbox",i[i.User=11]="User",i[i.Phone=13]="Phone",i[i.Url=15]="Url",i[i.Attachment=17]="Attachment",i[i.SingleLink=18]="SingleLink",i[i.Lookup=19]="Lookup",i[i.Formula=20]="Formula",i[i.DuplexLink=21]="DuplexLink",i[i.Location=22]="Location",i[i.GroupChat=23]="GroupChat",i[i.Denied=403]="Denied",i[i.CreatedTime=1001]="CreatedTime",i[i.ModifiedTime=1002]="ModifiedTime",i[i.CreatedUser=1003]="CreatedUser",i[i.ModifiedUser=1004]="ModifiedUser",i[i.AutoNumber=1005]="AutoNumber",i[i.Barcode=99001]="Barcode",i[i.Progress=99002]="Progress",i[i.Currency=99003]="Currency",i[i.Rating=99004]="Rating",i[i.Email=99005]="Email",i))(fi||{}),lm=(i=>(i[i.NotSupport=0]="NotSupport",i[i.Grid=1]="Grid",i[i.Kanban=2]="Kanban",i[i.Form=3]="Form",i[i.Gallery=4]="Gallery",i[i.Gantt=5]="Gantt",i[i.Hierarchy=6]="Hierarchy",i[i.Calendar=7]="Calendar",i[i.WidgetView=100]="WidgetView",i))(lm||{}),ZNe=(i=>(i[i.Pending=1]="Pending",i[i.Inflight=2]="Inflight",i[i.Success=3]="Success",i[i.Error=4]="Error",i[i.Paused=5]="Paused",i))(ZNe||{}),QNe=(i=>(i.ONLY_MOBILE="ONLY_MOBILE",i.NOT_LIMIT="NOT_LIMIT",i))(QNe||{}),JNe=(i=>(i.INTEGER="0",i.DIGITAL_ROUNDED_1="0.0",i.DIGITAL_ROUNDED_2="0.00",i.DIGITAL_ROUNDED_3="0.000",i.DIGITAL_ROUNDED_4="0.0000",i.DIGITAL_THOUSANDS="1,000",i.DIGITAL_THOUSANDS_DECIMALS="1,000.00",i.PERCENTAGE_ROUNDED="0%",i.PERCENTAGE="0.00%",i))(JNe||{}),eje=(i=>(i.CYN_ROUNDED="#,##0",i.CYN="#,##0.00",i.DOLLAR_ROUNDED="$#,##0",i.DOLLAR="$#,##0.00",i))(eje||{}),tje=(i=>(i.DATE_YMD_WITH_SLASH="yyyy/MM/dd",i.DATE_TIME="yyyy/MM/dd HH:mm",i.DATE_TIME_WITH_HYPHEN="yyyy-MM-dd HH:mm",i.DATE_YMD_WITH_HYPHEN="yyyy-MM-dd",i.DATE_MD_WITH_HYPHEN="MM-dd",i.DATE_MMDD_WITH_SLASH="MM/dd/yyyy",i.DATE_DDMM_WITH_SLASH="dd/MM/yyyy",i))(tje||{}),ije=(i=>(i.CNY="CNY",i.USD="USD",i.EUR="EUR",i.GBP="GBP",i.AED="AED",i.AUD="AUD",i.BRL="BRL",i.CAD="CAD",i.CHF="CHF",i.HKD="HKD",i.INR="INR",i.IDR="IDR",i.JPY="JPY",i.KRW="KRW",i.MOP="MOP",i.MXN="MXN",i.MYR="MYR",i.PHP="PHP",i.PLN="PLN",i.RUB="RUB",i.SGD="SGD",i.THB="THB",i.TRY="TRY",i.TWD="TWD",i.VND="VND",i))(ije||{}),nje=(i=>(i.STAR="star",i.HEART="heart",i.THUMBSUP="thumbsup",i.FIRE="fire",i.SMILE="smile",i.LIGHTNING="lightning",i.FLOWER="flower",i.NUMBER="number",i))(nje||{}),rje=(i=>(i[i.Low=120]="Low",i[i.Mid=360]="Mid",i[i.HIGH=720]="HIGH",i[i.MAX=1280]="MAX",i))(rje||{}),sje=(i=>(i.SUM="SUM",i.AVERAGE="AVERAGE",i.MAX="MAX",i.MIN="MIN",i))(sje||{}),jY=(i=>(i.ALL="ALL",i.ALL_INCLUDE_ARCHIVE="ALL_INCLUDE_ARCHIVE",i.VIEW="VIEW",i.CUSTOM="CUSTOM",i))(jY||{}),aje=(i=>(i[i.ASCENDING=1]="ASCENDING",i[i.DESCENDING=2]="DESCENDING",i))(aje||{}),oje=(i=>(i.VALUE="VALUE",i.VIEW="VIEW",i.GROUP="GROUP",i))(oje||{}),N2=class{withContext(i){return Object.create(this,{context:{value:i,writable:!1}})}getContext(){var i;return(i=this.context)!=null?i:[]}},lje=(i=>(i.LIGHT="LIGHT",i.DARK="DARK",i))(lje||{}),uje=(i=>(i[i.Short=1]="Short",i[i.Medium=2]="Medium",i[i.Tall=3]="Tall",i[i.ExtraTall=4]="ExtraTall",i))(uje||{}),wye=(i=>(i.Enabled="Enabled",i.Disabled="Disabled",i))(wye||{}),Cye=(i=>(i.NoCopyPermission="no_copy_permission",i))(Cye||{}),cje=(i=>(i.info="info",i.success="success",i.warning="warning",i.error="error",i.loading="loading",i))(cje||{}),K1=(i=>(i.Create="Create",i.Config="Config",i.View="View",i.FullScreen="FullScreen",i))(K1||{}),dje=(i=>(i[i.ASCENDING=1]="ASCENDING",i[i.DESCENDING=2]="DESCENDING",i))(dje||{}),hje=(i=>(i.ENUMERATED="enumerated",i.INTEGRATED="integrated",i))(hje||{}),pje=(i=>(i[i.STATIC=0]="STATIC",i[i.DYNAMIC=1]="DYNAMIC",i))(pje||{}),fje=(i=>(i.Today="Today",i.Tomorrow="Tomorrow",i.Yesterday="Yesterday",i.TheLastWeek="TheLastWeek",i.TheNextWeek="TheNextWeek",i.TheLastMonth="TheLastMonth",i.TheNextMonth="TheNextMonth",i.CurrentWeek="CurrentWeek",i.LastWeek="LastWeek",i.CurrentMonth="CurrentMonth",i.LastMonth="LastMonth",i))(fje||{}),gje=(i=>(i.Is="is",i.IsNot="isNot",i.Contains="contains",i.DoesNotContain="doesNotContain",i.IsEmpty="isEmpty",i.IsNotEmpty="isNotEmpty",i.IsGreater="isGreater",i.IsGreaterEqual="isGreaterEqual",i.IsLess="isLess",i.IsLessEqual="isLessEqual",i))(gje||{}),mje=(i=>(i.And="and",i.Or="or",i))(mje||{}),Wk=(i=>(i.AddCondition="AddCondition",i.DeleteCondition="DeleteCondition",i.UpdateCondition="UpdateCondition",i.SetConjunction="SetConjunction",i))(Wk||{}),vje=(i=>(i.Base="Base",i.Table="Table",i.Record="Record",i.Field="Field",i.Cell="Cell",i))(vje||{}),lH=(i=>(i.Visible="visible",i.Editable="editable",i.Addable="addable",i.Deletable="deletable",i.Copyable="copyable",i.Movable="movable",i.Printable="printable",i.Manageable="manageable",i.Submittable="submittable",i))(lH||{}),zY="BaseEvent",yje="BridgeEvent",_je="DashboardEvent",fie=i=>`${zY}_${i}`,gie=(i,e)=>`${zY}_tableId_${i}_${e}`,mie=(i,e,t)=>`${zY}_tableId_${i}_fieldId_${e}_${t}`,vie=i=>`${yje}_${i}`,yie=i=>`${_je}_${i}`;function bje(i,e){return`bitable.${i}_${e}`}var Hc={};XNe(Hc,{isAttachment:()=>kye,isAttachments:()=>Cje,isAutoNumber:()=>Tje,isCheckbox:()=>Eje,isEmpty:()=>Oje,isGroupChat:()=>Tye,isGroupChats:()=>Dje,isLink:()=>Rje,isLocation:()=>wje,isMultiSelect:()=>Pje,isNumber:()=>HY,isPhone:()=>Aje,isSegmentItem:()=>Aye,isSegments:()=>Ije,isSingleSelect:()=>Eye,isTimestamp:()=>kje,isUsers:()=>xje});function Sje(i){if(!zc(i))return!1;let e=va(i,"id");return Vr(e)&&e.startsWith("ou_")}function xje(i){return Tf(i)?i.every(Sje):!1}function wje(i){return zc(i)?Vr(va(i,"address"))&&Vr(va(i,"adname"))&&Vr(va(i,"cityname"))&&Vr(va(i,"fullAddress"))&&Vr(va(i,"location"))&&Vr(va(i,"name"))&&Vr(va(i,"pname")):!1}function kye(i){return zc(i)?Vr(va(i,"name"))&&HY(va(i,"size"))&&Vr(va(i,"token"))&&Vr(va(i,"type")):!1}function Cje(i){return Tf(i)?i.every(kye):!1}function kje(i){return HY(i)}function Eje(i){return WNe(i)}function Aje(i){return Vr(i)}function Tje(i){return Vr(i)||Vr(i==null?void 0:i.value)}function HY(i){return oye(i)}function Eye(i){return zc(i)?Vr(va(i,"id"))&&Vr(va(i,"text")):!1}function Pje(i){return Tf(i)?i.every(Eye):!1}function Oje(i){return i===null}var Mje=new Set(Object.values($2));function Aye(i){if(!zc(i))return!1;let e=va(i,"type"),t=va(i,"text");return!Vr(e)||!Vr(t)?!1:Mje.has(e)}function Ije(i){return Tf(i)?i.every(Aye):!1}function Rje(i){return zc(i)?Tf(va(i,"recordIds"))&&Vr(va(i,"tableId")):!1}function Tye(i){if(!zc(i))return!1;let e=va(i,"id"),t=va(i,"name");return Vr(e)&&e.startsWith("oc_")&&Vr(t)}function Dje(i){return Tf(i)?i.every(e=>Tye(e)):!1}var Xl={Unknown:10,Base:11,Table:12,Field:13,Record:14,View:15,Cell:16,Dashboard:17},s_={Action:89,ViewWidget:96,ItemWidget:97,Widget:98,Unknown:99},qm={UnSupportedType:991,ParameterException:992,LowerLimitExceeded:993,UpperLimitExceeded:994,NameRepeated:995,NotSupported:996,PermissionDenied:997,NotFound:998,Unknown:999},_3={HostNotRegistered:997,NotFound:998,Unknown:999},VY={[Xl.Base]:Ap({},qm),[Xl.Table]:Ap({NotLoaded:1,LastTableDeleteForbidden:2},qm),[Xl.Field]:Ap({NotMatch:1,LocationInfoException:20},qm),[Xl.Record]:Ap({SingleRecordOperationLimitExceeded:1},qm),[Xl.Cell]:Ap({},qm),[Xl.View]:Ap({LastViewDeleteForbidden:1,FilterInfoError:2},qm),[Xl.Dashboard]:Ap({DataConditionFormatError:1},qm),[s_.ItemWidget]:Ap({},_3),[s_.Action]:Ap({},_3),[s_.ViewWidget]:Ap({},_3)},Lje={},Fje=(i=>(i[i.TableNotLoadedError=10212001]="TableNotLoadedError",i[i.LastTableDeleteForbiddenError=10212002]="LastTableDeleteForbiddenError",i[i.TableParamExceptionError=10212992]="TableParamExceptionError",i[i.TableNameRepeatedError=10212995]="TableNameRepeatedError",i[i.TablePermissionDeniedError=10212997]="TablePermissionDeniedError",i[i.TableNotFoundError=10212998]="TableNotFoundError",i[i.TableUnknownError=10212999]="TableUnknownError",i[i.FieldTypeUnSupportedError=10213991]="FieldTypeUnSupportedError",i[i.FieldNameRepeatedError=10213995]="FieldNameRepeatedError",i[i.FieldPermissionDeniedError=10213997]="FieldPermissionDeniedError",i[i.FieldNotFoundError=10213998]="FieldNotFoundError",i[i.FieldUnknownError=10213999]="FieldUnknownError",i[i.SingleRecordOperationLimitExceeded=10214001]="SingleRecordOperationLimitExceeded",i[i.RecordPermissionDeniedError=10214997]="RecordPermissionDeniedError",i[i.RecordNotFoundError=10214998]="RecordNotFoundError",i[i.RecordUnknownError=10214999]="RecordUnknownError",i[i.LastViewDeleteForbiddenError=10215001]="LastViewDeleteForbiddenError",i[i.ViewTypeUnSupportedError=10215991]="ViewTypeUnSupportedError",i[i.ViewNameRepeatedError=10215995]="ViewNameRepeatedError",i[i.ViewPermissionDeniedError=10215997]="ViewPermissionDeniedError",i[i.ViewNotFoundError=10215998]="ViewNotFoundError",i[i.ViewUnknownError=10215999]="ViewUnknownError",i[i.CellPermissionDeniedError=10216997]="CellPermissionDeniedError",i[i.CellUnknownError=10216999]="CellUnknownError",i[i.DashDataConditionFormatError=10217001]="DashDataConditionFormatError",i[i.DashPermissionDeniedError=10217997]="DashPermissionDeniedError",i[i.DashDataSizeExceededError=10217994]="DashDataSizeExceededError",i[i.DashUnknownError=10217999]="DashUnknownError",i))(Fje||{}),Pye="bte";function Bje(i,e){return 102e5+i%100*1e3+e%1e3}function $je(i,e){var t;let n=(t=Lje[i])==null?void 0:t[e];if(!n){if(i in Xl){let r=mM(Xl[i]),s=mM(qm[e]||"unknown error");n=`${r} ${s}`}else if(i in s_){let r=mM(s_[i]),s=mM(s_[e]||"unknown error");n=`${r} ${s}`}}return n||"unknown error"}var X6=class extends Error{constructor(i,e,t){let n=Bje(i,e);t=t??$je(i,e),super(t),this.code=n}toJSON(){return{e:Pye,msg:this.message,message:this.message,code:this.code}}},vM=class extends X6{constructor(){super(Xl.Table,VY[Xl.Table].NotFound,"table not found error")}},_ie=class extends X6{constructor(){super(Xl.Field,VY[Xl.Field].NotFound,"field not found error")}},bie=class extends X6{constructor(){super(Xl.View,VY[Xl.View].NotFound,"view not found error")}};function Nje(i){return zc(i)&&va(i,"e")===Pye}var Oye=new Map;function et(i=0,e=1){return function(t,n,r){let s=t.getModuleName();Oye.set(bje(s,n),{prototype:t,methodName:n,descriptor:r,requestContext:{c:t.getContext(),p:Array.from(arguments),debounce:i,maxRequestCount:e}})}}function jje(i){Oye.forEach((e,t)=>{let{prototype:n,descriptor:r,methodName:s,requestContext:a}=e,{debounce:o,maxRequestCount:l}=a,u=new GNe({debounce:o,maxRequestCount:l,batchRequestFn:c=>i.invokeApi(t,c)});r.value=function(){return ye(this,arguments,function*(){let c=yield u.request({c:this.getContext(),p:Array.from(arguments)});if(Nje(c)){let d=new Error,h=c,p=Fp(h,["e"]);throw Object.assign(d,p),d}return c})},r.configurable=!1,r.writable=!1,Object.defineProperty(n,s,r)})}var tt=class extends X6{constructor(){super(s_.Unknown,_3.HostNotRegistered,"not registered")}},uH=class extends N2{getModuleName(){return"WidgetView"}getFilterInfo(){return ye(this,null,function*(){throw new tt})}setFilter(i,e){return ye(this,null,function*(){throw new tt})}};$e([et()],uH.prototype,"getFilterInfo",1),$e([et()],uH.prototype,"setFilter",1);var zje=class extends uH{addFilterCondition(i){return ye(this,null,function*(){return yield this.setFilter(Wk.AddCondition,i)})}deleteFilterCondition(i){return ye(this,null,function*(){return yield this.setFilter(Wk.DeleteCondition,i)})}updateFilterCondition(i){return ye(this,null,function*(){return yield this.setFilter(Wk.UpdateCondition,i)})}setFilterConjunction(i){return ye(this,null,function*(){return yield this.setFilter(Wk.SetConjunction,i)})}},cH=class extends N2{getModuleName(){return"WidgetView"}getGroupInfo(){return ye(this,null,function*(){throw new tt})}setGroupInfo(i){return ye(this,null,function*(){throw new tt})}};$e([et()],cH.prototype,"getGroupInfo",1),$e([et()],cH.prototype,"setGroupInfo",1);var Hje=class extends cH{addGroup(i){return ye(this,null,function*(){let e=yield this.getGroupInfo();return yield this.setGroupInfo(e.concat(i))})}deleteGroup(i){return ye(this,null,function*(){let e=typeof i=="string"?i:i.fieldId,t=yield this.getGroupInfo();return yield this.setGroupInfo(t.filter(n=>n.fieldId!==e))})}updateGroup(i){return ye(this,null,function*(){let e=yield this.getGroupInfo(),t=e.findIndex(n=>n.fieldId===i.fieldId);return t<0?!1:(e.splice(t,1,i),this.setGroupInfo(e))})}},b3=class extends N2{getModuleName(){return"WidgetView"}getSortInfo(){return ye(this,null,function*(){throw new tt})}setSortInfo(i){return ye(this,null,function*(){throw new tt})}setAutoSort(i){return ye(this,null,function*(){throw new tt})}};$e([et()],b3.prototype,"getSortInfo",1),$e([et()],b3.prototype,"setSortInfo",1),$e([et()],b3.prototype,"setAutoSort",1);var Vje=class extends b3{addSort(i){return ye(this,null,function*(){let e=yield this.getSortInfo();return yield this.setSortInfo(e.concat(i))})}deleteSort(i){return ye(this,null,function*(){let e=typeof i=="string"?i:i.fieldId,t=yield this.getSortInfo();return yield this.setSortInfo(t.filter(n=>n.fieldId!==e))})}updateSort(i){return ye(this,null,function*(){let e=yield this.getSortInfo(),t=e.findIndex(n=>n.fieldId===i.fieldId);return t<0?!1:(e.splice(t,1,i),this.setSortInfo(e))})}},Wje=class{constructor(i){this.map=new Map,this.client=i}add(i,e,t){var n;let r=(n=this.map.get(i))!=null?n:0;return r===0&&(t==null||t()),this.client.subscribeEvent(i,e),this.map.set(i,r+1),r+1}del(i,e,t){var n;let r=(n=this.map.get(i))!=null?n:0;return r===0?(console.warn(`${i}: event ref count is 0, the event may have been unregistered.`),0):(this.client.unsubscribeEvent(i,e),r===1?(t==null||t(),this.map.delete(i),0):(this.map.set(i,r-1),r-1))}},ub=class extends N2{constructor(i){super(),this.client=i,this.eventRefCount=new Wje(i)}},Ah=class extends ub{get id(){return this.getContext()[1]}get tableId(){return this.getContext()[0]}getModuleName(){return"WidgetView"}getName(){return ye(this,null,function*(){throw new tt})}getType(){return ye(this,null,function*(){throw new tt})}getMeta(){return ye(this,null,function*(){throw new tt})}getFieldMetaList(){return ye(this,null,function*(){throw new tt})}getVisibleRecordIdList(){return ye(this,null,function*(){throw new tt})}getVisibleFieldIdList(){return ye(this,null,function*(){throw new tt})}applySetting(){return ye(this,null,function*(){throw new tt})}setFieldVisibility(i,e){return ye(this,null,function*(){throw new tt})}toggleViewSharing(i){return ye(this,null,function*(){throw new tt})}getSharingMeta(){return ye(this,null,function*(){throw new tt})}};$e([et(5,10)],Ah.prototype,"getName",1),$e([et(5,10)],Ah.prototype,"getType",1),$e([et(5,10)],Ah.prototype,"getMeta",1),$e([et()],Ah.prototype,"getFieldMetaList",1),$e([et()],Ah.prototype,"getVisibleRecordIdList",1),$e([et()],Ah.prototype,"getVisibleFieldIdList",1),$e([et()],Ah.prototype,"applySetting",1),$e([et()],Ah.prototype,"setFieldVisibility",1),$e([et()],Ah.prototype,"toggleViewSharing",1),$e([et()],Ah.prototype,"getSharingMeta",1);var cb=class extends Ah{constructor(i,e,t){super(e),this.table=i,this.dep=t}hideField(i){return ye(this,null,function*(){return yield this.setFieldVisibility(i,!0)})}showField(i){return ye(this,null,function*(){return yield this.setFieldVisibility(i,!1)})}enableSharing(){return ye(this,null,function*(){return yield this.toggleViewSharing(!0)})}disableSharing(){return ye(this,null,function*(){return yield this.toggleViewSharing(!1)})}getSharingStatus(){return ye(this,null,function*(){let{status:i}=yield this.getSharingMeta();return i})}getShareLink(){return ye(this,null,function*(){let{status:i,shareLink:e}=yield this.getSharingMeta();if(i===wye.Disabled)throw new Error("cannot get share link before enable view sharing.");return e})}getFieldList(){return ye(this,null,function*(){let i=yield this.getVisibleFieldIdList();return yield Promise.all(i.map(e=>this.table.getField(e)))})}};function db(i){return e=>{WY.getInstance().register(i,e)}}var WY=class{constructor(){this.viewCtorCacheMap=new Map}static getInstance(){return this.instance||(this.instance=new WY),this.instance}register(i,e){this.viewCtorCacheMap.has(i)||this.viewCtorCacheMap.set(i,e)}getViewCtor(i){var e;return(e=this.viewCtorCacheMap.get(i))!=null?e:dH}},dH=class extends cb{getMeta(){return ye(this,null,function*(){let i=yield this.getName();return{id:this.id,name:i,type:lm.NotSupport,property:null}})}getFieldMetaList(){return ye(this,null,function*(){return[]})}getVisibleRecordIdList(){return ye(this,null,function*(){return[]})}getVisibleFieldIdList(){return ye(this,null,function*(){return[]})}applySetting(){return ye(this,null,function*(){})}setFieldVisibility(i,e){return ye(this,null,function*(){return!1})}};dH=$e([db(lm.NotSupport)],dH);var jn=class extends ub{get id(){return this.getContext()[0]}getModuleName(){return"WidgetTable"}getRecordIdList(i,e){return ye(this,null,function*(){throw new tt})}getRecordById(i){return ye(this,null,function*(){throw new tt})}getRecords(i){return ye(this,null,function*(){throw new tt})}getName(){return ye(this,null,function*(){throw new tt})}getMeta(){return ye(this,null,function*(){throw new tt})}isViewExist(i){return ye(this,null,function*(){throw new tt})}addView(i){return ye(this,null,function*(){throw new tt})}setView(i,e){return ye(this,null,function*(){throw new tt})}deleteView(i){return ye(this,null,function*(){throw new tt})}getViewMetaById(i){return ye(this,null,function*(){throw new tt})}getViewMetaList(){return ye(this,null,function*(){throw new tt})}isFieldExist(i){return ye(this,null,function*(){throw new tt})}getFieldMetaById(i){throw new tt}getFieldMetaList(){return ye(this,null,function*(){throw new tt})}getFieldIdByName(i){throw new tt}getCellValue(i,e){return ye(this,null,function*(){throw new tt})}setCellValue(i,e,t){return ye(this,null,function*(){throw new tt})}registerTableEvent(i){return ye(this,null,function*(){throw new tt})}unregisterTableEvent(i){return ye(this,null,function*(){throw new tt})}getAttachmentUrl(i,e,t){return ye(this,null,function*(){throw new tt})}getCellAttachmentUrls(i,e,t){return ye(this,null,function*(){throw new tt})}getCellThumbnailUrls(i,e,t,n){return ye(this,null,function*(){throw new tt})}addRecord(i){return ye(this,null,function*(){throw new tt})}addRecords(i){return ye(this,null,function*(){throw new tt})}getRecordShareLink(i){return ye(this,null,function*(){throw new tt})}setRecord(i,e){return ye(this,null,function*(){throw new tt})}setRecords(i){return ye(this,null,function*(){throw new tt})}deleteRecord(i){return ye(this,null,function*(){throw new tt})}deleteRecords(i){return ye(this,null,function*(){throw new tt})}getCellString(i,e){return ye(this,null,function*(){throw new tt})}addField(i){return ye(this,null,function*(){throw new tt})}deleteField(i){return ye(this,null,function*(){throw new tt})}setField(i,e){return ye(this,null,function*(){throw new tt})}on(i,e){let[t]=this.getContext(),n=gie(t,i);this.eventRefCount.add(n,e,()=>this.registerTableEvent(i))}off(i,e){let[t]=this.getContext(),n=gie(t,i);this.eventRefCount.del(n,e,()=>this.unregisterTableEvent(i))}bind(i,e){return this.on(i,e),()=>this.off(i,e)}};$e([et(5,100)],jn.prototype,"getRecordIdList",1),$e([et(5,1e3)],jn.prototype,"getRecordById",1),$e([et(5,100)],jn.prototype,"getRecords",1),$e([et(5,100)],jn.prototype,"getName",1),$e([et(5,100)],jn.prototype,"getMeta",1),$e([et(5,10)],jn.prototype,"isViewExist",1),$e([et(5,100)],jn.prototype,"addView",1),$e([et(5,100)],jn.prototype,"setView",1),$e([et(5,100)],jn.prototype,"deleteView",1),$e([et(5,100)],jn.prototype,"getViewMetaById",1),$e([et(5,100)],jn.prototype,"getViewMetaList",1),$e([et(5,10)],jn.prototype,"isFieldExist",1),$e([et(5,100)],jn.prototype,"getFieldMetaById",1),$e([et(5,100)],jn.prototype,"getFieldMetaList",1),$e([et()],jn.prototype,"getFieldIdByName",1),$e([et(5,1e3)],jn.prototype,"getCellValue",1),$e([et(5,1e3)],jn.prototype,"setCellValue",1),$e([et()],jn.prototype,"registerTableEvent",1),$e([et()],jn.prototype,"unregisterTableEvent",1),$e([et(5,100)],jn.prototype,"getAttachmentUrl",1),$e([et(5,100)],jn.prototype,"getCellAttachmentUrls",1),$e([et(5,100)],jn.prototype,"getCellThumbnailUrls",1),$e([et(5,1e3)],jn.prototype,"addRecord",1),$e([et(5,100)],jn.prototype,"addRecords",1),$e([et(5,1e3)],jn.prototype,"getRecordShareLink",1),$e([et(5,1e3)],jn.prototype,"setRecord",1),$e([et(5,100)],jn.prototype,"setRecords",1),$e([et(5,1e3)],jn.prototype,"deleteRecord",1),$e([et(5,100)],jn.prototype,"deleteRecords",1),$e([et(5,1e3)],jn.prototype,"getCellString",1),$e([et(5,100)],jn.prototype,"addField",1),$e([et(5,100)],jn.prototype,"deleteField",1),$e([et(5,100)],jn.prototype,"setField",1);var Ix=class{constructor(i,e,t,n,r){this.table=i,this.field=e,this.val=t,this.editable=n,this.record=r}setValue(i){return ye(this,null,function*(){if(!this.editable){console.warn(`can not edit ${this.field.id} ${yield this.field.getType()}`);return}let e=yield this.field.transform(i);if(this.val=e,this.record)return yield this.table.setCellValue(this.field.id,this.record.id,e);console.warn("This cell has not been inserted")})}getValue(){return ye(this,null,function*(){if(this.record){let i=yield this.table.getCellValue(this.field.id,this.record.id);return this.val=i,i}return this.val})}mountRecord(i){this.record=i}getFieldId(){return this.field.id}},HR=class{constructor(i,e){this.table=i,this.id=e}getCellList(){return ye(this,null,function*(){let i=[],e=yield this.table.getFieldMetaList();for(let t of e){let{id:n}=t,r=yield this.table.getField(n),s=yield this.table.getCellValue(n,this.id);i.push(new Ix(this.table,r,s,r.getEditable(),this))}return i})}getCellByField(i){return ye(this,null,function*(){let e=Vr(i)?yield this.table.getField(i):i,t=yield this.table.getCellValue(e.id,this.id);return new Ix(this.table,e,t,e.getEditable(),this)})}},Uje=class{constructor(i,e){this.table=i,this.recordIdList=e}getRecordById(i){return new HR(this.table,i)}*[Symbol.iterator](){for(let i of this.recordIdList)yield this.getRecordById(i)}};function Gje(i,e){return e.filter(t=>t.id!==i&&t.name!==i)}function Yje(i,e,t){let n=t.findIndex(r=>r.id===i||r.name===i);return n!==-1?t.map((r,s)=>s===n?wi(wi({},r),e):r):[...t,{name:i,color:e.color}]}var hH=i=>Vr(i)?i:i==null?void 0:i.id,ag=class extends ub{get id(){return this.getContext()[1]}get tableId(){return this.getContext()[0]}getModuleName(){return"WidgetField"}on(i,e){let[t,n]=this.getContext();this.eventRefCount.add(mie(t,n,i),e,()=>this.registerFieldEvent(i))}off(i,e){let[t,n]=this.getContext();this.eventRefCount.del(mie(t,n,i),e,()=>this.unregisterFieldEvent(i))}bind(i,e){return this.on(i,e),()=>this.off(i,e)}getName(){return ye(this,null,function*(){throw new tt})}getType(){return ye(this,null,function*(){throw new tt})}getProxyType(){return ye(this,null,function*(){throw new tt})}getCellString(i){return ye(this,null,function*(){throw new tt})}getMeta(){return ye(this,null,function*(){throw new tt})}getFieldValueList(i,e){return ye(this,null,function*(){throw new tt})}registerFieldEvent(i){return ye(this,null,function*(){throw new tt})}unregisterFieldEvent(i){return ye(this,null,function*(){throw new tt})}};$e([et(5,10)],ag.prototype,"getName",1),$e([et(5,10)],ag.prototype,"getType",1),$e([et(5,10)],ag.prototype,"getProxyType",1),$e([et(5,10)],ag.prototype,"getCellString",1),$e([et(5,10)],ag.prototype,"getMeta",1),$e([et()],ag.prototype,"getFieldValueList",1),$e([et()],ag.prototype,"registerFieldEvent",1),$e([et()],ag.prototype,"unregisterFieldEvent",1);var Ms=class extends ag{constructor(i,e,t){super(t),this.base=i,this.table=e}setValue(i,e){return ye(this,null,function*(){let t=hH(i),n=yield this.transform(e);return yield this.table.setCellValue(this.id,t,n)})}getEditable(){return!0}getValue(i){return ye(this,null,function*(){let e=hH(i);return yield this.table.getCellValue(this.id,e)})}createCell(i){return ye(this,null,function*(){let e=yield this.transform(i);return new Ix(this.table,this,e,this.getEditable())})}getCell(i){return ye(this,null,function*(){let e=Vr(i)?i:i.id,t=yield this.table.getCellValue(this.id,e),n=new HR(this.table,e);return new Ix(this.table,this,t,this.getEditable(),n)})}},UY=class{static registerField(i,e){this.fieldMap.has(i)&&console.error("Field Manager Register Repeat Field",i,e),this.fieldMap.set(i,e)}static getFieldCtor(i){let e=this.fieldMap.get(i)||pH;if(!e)throw console.error("Field Manager Get Field Not Found",i),new Error("Field Manager Get Field Not Found");return e}};UY.fieldMap=new Map;function Wr(i){return function(e){UY.registerField(i,e)}}var pH=class extends Ms{constructor(){super(...arguments),this.type=fi.NotSupport}transform(i){return i}};pH=$e([Wr(fi.NotSupport)],pH);var cl=class extends ub{getModuleName(){return"WidgetBase"}isTableExist(i){return ye(this,null,function*(){throw new tt})}addTable(i){throw new tt}setTable(i,e){throw new tt}deleteTable(i){throw new tt}getTableMetaById(i){throw new tt}getTableMetaList(){throw new tt}getTableIdByName(i){throw new tt}isEditable(){throw new tt}getBasePermission(i){throw new tt}getPermission(i){throw new tt}registerBaseEvent(i){return ye(this,null,function*(){throw new tt})}unregisterBaseEvent(i){return ye(this,null,function*(){throw new tt})}getSelection(){throw new tt}uploadFile(i){throw new tt}batchUploadFile(i){throw new tt}on(i,e){this.eventRefCount.add(fie(i),e,()=>this.registerBaseEvent(i))}off(i,e){this.eventRefCount.del(fie(i),e,()=>this.unregisterBaseEvent(i))}bind(i,e){return this.on(i,e),()=>this.off(i,e)}};$e([et(5,10)],cl.prototype,"isTableExist",1),$e([et()],cl.prototype,"addTable",1),$e([et()],cl.prototype,"setTable",1),$e([et()],cl.prototype,"deleteTable",1),$e([et()],cl.prototype,"getTableMetaById",1),$e([et()],cl.prototype,"getTableMetaList",1),$e([et()],cl.prototype,"getTableIdByName",1),$e([et()],cl.prototype,"isEditable",1),$e([et()],cl.prototype,"getBasePermission",1),$e([et()],cl.prototype,"getPermission",1),$e([et()],cl.prototype,"registerBaseEvent",1),$e([et()],cl.prototype,"unregisterBaseEvent",1),$e([et()],cl.prototype,"getSelection",1),$e([et()],cl.prototype,"uploadFile",1),$e([et()],cl.prototype,"batchUploadFile",1);var Kje=class extends cl{constructor(i){super(i),this.tableMapCache=new Map}getTableIdList(){return ye(this,null,function*(){return(yield this.getTableMetaList()).map(i=>i.id)})}getTableList(){return ye(this,null,function*(){let i=yield this.getTableMetaList();return Promise.all(i.map(e=>this._getTable(e.id)))})}getTableByName(i){return ye(this,null,function*(){let e=yield this.getTableIdByName(i);if(!e)throw new vM;return yield this.getTableById(e)})}getTableById(i){return ye(this,null,function*(){if(!(yield this.isTableExist(i)))throw new vM;return this._getTable(i)})}_getTable(i){return ye(this,null,function*(){if(!(yield this.isTableExist(i)))throw new vM;if(this.tableMapCache.has(i))return this.tableMapCache.get(i);let e=new Sy(this,this.client).withContext([i]);return this.tableMapCache.set(i,e),e})}getActiveTable(){return ye(this,null,function*(){let{tableId:i}=yield this.getSelection();if(!i)throw new vM;return yield this.getTableById(i)})}getTable(i){return ye(this,null,function*(){return yield Promise.any([this.getTableByName(i),this.getTableById(i)])})}onTableAdd(i){return this.bind(Y1.TableAdd,i)}onTableDelete(i){return this.bind(Y1.TableDelete,i)}onSelectionChange(i){return this.bind(Y1.SelectionChange,i)}onPermissionChange(i){return this.bind(Y1.PermissionChange,i)}onUploadStatusChange(i){return this.bind(Y1.UploadStatusChange,i)}},Sie=5,Sy=class extends jn{constructor(i,e){super(e),this.base=i,this.viewCache=new Map,this.fieldCache=new Map}_getField(i,e){return ye(this,null,function*(){if(!(yield this.isFieldExist(i)))throw new _ie;let[t]=this.getContext();if(this.fieldCache.has(i))return this.fieldCache.get(i);let n=yield this.getFieldMetaById(i),r=e??n.type,s=UY.getFieldCtor(r),a=new s(this.base,this,this.client).withContext([t,i]);return this.fieldCache.set(i,a),a})}getRecordList(i,e){return ye(this,null,function*(){let t=yield this.getRecordIdList(i,e);return new Uje(this,t)})}getFieldListByType(i){return ye(this,null,function*(){let e=yield this.getFieldMetaList(),t=[];for(let n of e)i===n.type&&t.push(this._getField(n.id,i));return yield Promise.all(t)})}getFieldByName(i){return ye(this,null,function*(){let e=yield this.getFieldIdByName(i);return this.getFieldById(e)})}getField(i){return ye(this,null,function*(){return yield Promise.any([this.getFieldById(i),this.getFieldByName(i)])})}getFieldById(i){return ye(this,null,function*(){if(yield this.isFieldExist(i))return this._getField(i);throw new _ie})}getFieldMetaListByType(i){return ye(this,null,function*(){return(yield this.getFieldMetaList()).filter(e=>e.type===i)})}getFieldList(){return ye(this,null,function*(){let i=yield this.getFieldMetaList(),e=[];for(let t of i)e.push(this._getField(t.id,t.type));return yield Promise.all(e)})}getViewById(i){return ye(this,null,function*(){if(!(yield this.isViewExist(i)))throw new bie;return yield this._getView(i)})}getActiveView(){return ye(this,null,function*(){let{viewId:i}=yield this.base.getSelection();return yield this.getViewById(i)})}_getView(i){return ye(this,null,function*(){if(!(yield this.isViewExist(i)))throw new bie;let[e]=this.getContext();if(this.viewCache.has(i))return this.viewCache.get(i);let{type:t}=yield this.getViewMetaById(i),n=WY.getInstance().getViewCtor(t),r=new zje().withContext([e,i]),s=new Hje().withContext([e,i]),a=new Vje().withContext([e,i]),o=new n(this,this.client,{filter:r,group:s,sort:a}).withContext([e,i]);return this.viewCache.set(i,o),o})}getViewList(){return ye(this,null,function*(){let i=yield this.getViewMetaList(),e=[];for(let t of i)e.push(this._getView(t.id));return yield Promise.all(e)})}_transformCellToRecordVal(i){return ye(this,null,function*(){let e={fields:{}};for(let t of i)t.editable&&(e.fields[t.getFieldId()]=yield t.getValue());return e})}addRecordByCell(i){return ye(this,null,function*(){let e=yield this._transformCellToRecordVal(i),t=yield _y(Sy.prototype,this,"addRecord").call(this,e);for(let n of i)n.mountRecord(new HR(this,t));return t})}addRecordsByCell(i){return ye(this,null,function*(){let e=[];for(let n of i)e.push(yield this._transformCellToRecordVal(n));let t=yield _y(Sy.prototype,this,"addRecords").call(this,e);for(let[n,r]of i.entries())for(let s of r)s.mountRecord(new HR(this,t[n]));return t})}addRecord(i){return ye(this,null,function*(){return Array.isArray(i)?this.addRecordByCell(i):i instanceof Ix?this.addRecordByCell([i]):_y(Sy.prototype,this,"addRecord").call(this,i)})}addRecords(i){return ye(this,null,function*(){return Array.isArray(i[0])?yield this.addRecordsByCell(i):i[0]instanceof Ix?yield this.addRecordsByCell([i]):yield _y(Sy.prototype,this,"addRecords").call(this,i)})}deleteField(i){return ye(this,null,function*(){let e=Vr(i)?i:i.id;return yield _y(Sy.prototype,this,"deleteField").call(this,e)})}getFieldIdList(){return ye(this,null,function*(){return(yield this.getFieldMetaList()).map(i=>i.id)})}onFieldAdd(i){return this.bind(by.FieldAdd,i)}onFieldDelete(i){return this.bind(by.FieldDelete,i)}onFieldModify(i){return this.bind(by.FieldModify,i)}onRecordAdd(i){return this.bind(by.RecordAdd,i)}onRecordDelete(i){return this.bind(by.RecordDelete,i)}onRecordModify(i){return this.bind(by.RecordModify,i)}getCellAttachmentUrls(i,e,t){return ye(this,null,function*(){let n=[];for(let r=0;r<i.length;r+=Sie){let s=i.slice(r,r+Sie),a=yield _y(Sy.prototype,this,"getCellAttachmentUrls").call(this,s,e,t);n.push(...a)}return n})}},og=class extends cb{getSelectedRecordIdList(){return ye(this,null,function*(){throw new tt})}getFieldWidth(i){return ye(this,null,function*(){throw new tt})}setFieldWidth(i,e){return ye(this,null,function*(){throw new tt})}getRowHeight(){return ye(this,null,function*(){throw new tt})}setRowHeight(i){return ye(this,null,function*(){throw new tt})}getChildRecordIdList(i){return ye(this,null,function*(){throw new tt})}getSortInfo(){return this.dep.sort.getSortInfo()}setSortInfo(i){return this.dep.sort.setSortInfo(i)}deleteSort(i){return this.dep.sort.deleteSort(i)}addSort(i){return this.dep.sort.addSort(i)}updateSort(i){return this.dep.sort.updateSort(i)}setAutoSort(i){return this.dep.sort.setAutoSort(i)}getFilterInfo(){return this.dep.filter.getFilterInfo()}setFilter(i,e){return this.dep.filter.setFilter(i,e)}setFilterConjunction(i){return this.dep.filter.setFilterConjunction(i)}addFilterCondition(i){return this.dep.filter.addFilterCondition(i)}deleteFilterCondition(i){return this.dep.filter.deleteFilterCondition(i)}updateFilterCondition(i){return this.dep.filter.updateFilterCondition(i)}addGroup(i){return this.dep.group.addGroup(i)}deleteGroup(i){return this.dep.group.deleteGroup(i)}updateGroup(i){return this.dep.group.updateGroup(i)}getGroupInfo(){return this.dep.group.getGroupInfo()}setGroupInfo(i){return this.dep.group.setGroupInfo(i)}};$e([et()],og.prototype,"getSelectedRecordIdList",1),$e([et()],og.prototype,"getFieldWidth",1),$e([et()],og.prototype,"setFieldWidth",1),$e([et()],og.prototype,"getRowHeight",1),$e([et()],og.prototype,"setRowHeight",1),$e([et()],og.prototype,"getChildRecordIdList",1),og=$e([db(lm.Grid)],og);var fH=class extends cb{getFilterInfo(){return this.dep.filter.getFilterInfo()}setFilter(i,e){return this.dep.filter.setFilter(i,e)}setFilterConjunction(i){return this.dep.filter.setFilterConjunction(i)}addFilterCondition(i){return this.dep.filter.addFilterCondition(i)}deleteFilterCondition(i){return this.dep.filter.deleteFilterCondition(i)}updateFilterCondition(i){return this.dep.filter.updateFilterCondition(i)}getSortInfo(){return this.dep.sort.getSortInfo()}setSortInfo(i){return this.dep.sort.setSortInfo(i)}deleteSort(i){return this.dep.sort.deleteSort(i)}addSort(i){return this.dep.sort.addSort(i)}updateSort(i){return this.dep.sort.updateSort(i)}setAutoSort(i){return this.dep.sort.setAutoSort(i)}};fH=$e([db(lm.Kanban)],fH);var gH=class extends cb{getFilterInfo(){return this.dep.filter.getFilterInfo()}setFilter(i,e){return this.dep.filter.setFilter(i,e)}setFilterConjunction(i){return this.dep.filter.setFilterConjunction(i)}addFilterCondition(i){return this.dep.filter.addFilterCondition(i)}deleteFilterCondition(i){return this.dep.filter.deleteFilterCondition(i)}updateFilterCondition(i){return this.dep.filter.updateFilterCondition(i)}};gH=$e([db(lm.Calendar)],gH);var mH=class extends cb{};mH=$e([db(lm.Form)],mH);var vH=class extends cb{getFilterInfo(){return this.dep.filter.getFilterInfo()}setFilter(i,e){return this.dep.filter.setFilter(i,e)}setFilterConjunction(i){return this.dep.filter.setFilterConjunction(i)}addFilterCondition(i){return this.dep.filter.addFilterCondition(i)}deleteFilterCondition(i){return this.dep.filter.deleteFilterCondition(i)}updateFilterCondition(i){return this.dep.filter.updateFilterCondition(i)}getSortInfo(){return this.dep.sort.getSortInfo()}setSortInfo(i){return this.dep.sort.setSortInfo(i)}deleteSort(i){return this.dep.sort.deleteSort(i)}addSort(i){return this.dep.sort.addSort(i)}updateSort(i){return this.dep.sort.updateSort(i)}setAutoSort(i){return this.dep.sort.setAutoSort(i)}};vH=$e([db(lm.Gallery)],vH);var yH=class extends cb{getFilterInfo(){return this.dep.filter.getFilterInfo()}setFilter(i,e){return this.dep.filter.setFilter(i,e)}setFilterConjunction(i){return this.dep.filter.setFilterConjunction(i)}addFilterCondition(i){return this.dep.filter.addFilterCondition(i)}deleteFilterCondition(i){return this.dep.filter.deleteFilterCondition(i)}updateFilterCondition(i){return this.dep.filter.updateFilterCondition(i)}getSortInfo(){return this.dep.sort.getSortInfo()}setSortInfo(i){return this.dep.sort.setSortInfo(i)}deleteSort(i){return this.dep.sort.deleteSort(i)}addSort(i){return this.dep.sort.addSort(i)}updateSort(i){return this.dep.sort.updateSort(i)}setAutoSort(i){return this.dep.sort.setAutoSort(i)}addGroup(i){return this.dep.group.addGroup(i)}deleteGroup(i){return this.dep.group.deleteGroup(i)}updateGroup(i){return this.dep.group.updateGroup(i)}getGroupInfo(){return this.dep.group.getGroupInfo()}setGroupInfo(i){return this.dep.group.setGroupInfo(i)}};yH=$e([db(lm.Gantt)],yH);var Xje={};s$e(Xje,{isCalendarView:()=>Zje,isFormView:()=>t7e,isGalleryView:()=>Jje,isGanttView:()=>e7e,isGridView:()=>qje,isKabanView:()=>Qje});function qje(i){return i instanceof og}function Zje(i){return i instanceof gH}function Qje(i){return i instanceof fH}function Jje(i){return i instanceof vH}function e7e(i){return i instanceof yH}function t7e(i){return i instanceof mH}var i7e=class{_getTableCacheId(i){return"table:"+i}_getViewCacheId(i,e){return"view:"+i+"-"+e}_getFieldCacheId(i,e){return"field:"+i+"-"+e}constructor(i){this.bitable=i,this.cache=new Map}getTable(i,e){let t=this._getTableCacheId(i);return(e||!this.cache.has(t))&&this.cache.set(t,this.bitable.base.getTableById(i).catch(()=>null)),this.cache.get(t)}getView(i,e,t){return ye(this,null,function*(){let n=this._getViewCacheId(i,e);if(t||!this.cache.has(n)){let r=yield this.getTable(e);this.cache.set(n,r.getViewById(i).catch(()=>null))}return this.cache.get(n)})}getField(i,e,t){return ye(this,null,function*(){let n=this._getFieldCacheId(i,e);if(t||!this.cache.has(n)){let r=yield this.getTable(e);this.cache.set(n,r.getFieldById(i).catch(()=>null))}return this.cache.get(n)})}};function yM(i){let{mode:e,multiple:t,tags:n}=i;return e??n?"tags":t?"multiple":void 0}function n7e(i,e,t){let n=t.value;return t.value=function(...r){let s=n.apply(this,r);return typeof s.default=="object"?s.default:s},t}var si=on((i,e)=>{(function(){var t={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=s(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)t.call(a,l)&&a[l]&&(o=s(o,l));return o}function s(a,o){return o?a?a+" "+o:a+o:a}typeof e<"u"&&e.exports?(n.default=n,e.exports=n):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return n}):window.classNames=n})()}),r7e=on(i=>{function e(N,U){var G=N.length;N.push(U);e:for(;0<G;){var j=G-1>>>1,K=N[j];if(0<r(K,U))N[j]=U,N[G]=K,G=j;else break e}}function t(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var U=N[0],G=N.pop();if(G!==U){N[0]=G;e:for(var j=0,K=N.length,ie=K>>>1;j<ie;){var ae=2*(j+1)-1,re=N[ae],J=ae+1,ne=N[J];if(0>r(re,G))J<K&&0>r(ne,re)?(N[j]=ne,N[J]=G,j=J):(N[j]=re,N[ae]=G,j=ae);else if(J<K&&0>r(ne,G))N[j]=ne,N[J]=G,j=J;else break e}}return U}function r(N,U){var G=N.sortIndex-U.sortIndex;return G!==0?G:N.id-U.id}typeof performance=="object"&&typeof performance.now=="function"?(s=performance,i.unstable_now=function(){return s.now()}):(a=Date,o=a.now(),i.unstable_now=function(){return a.now()-o});var s,a,o,l=[],u=[],c=1,d=null,h=3,p=!1,f=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var U=t(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=N)n(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(u)}}function S(N){if(g=!1,_(N),!f)if(t(l)!==null)f=!0,F(C);else{var U=t(u);U!==null&&z(S,U.startTime-N)}}function C(N,U){f=!1,g&&(g=!1,m(A),A=-1),p=!0;var G=h;try{for(_(U),d=t(l);d!==null&&(!(d.expirationTime>U)||N&&!M());){var j=d.callback;if(typeof j=="function"){d.callback=null,h=d.priorityLevel;var K=j(d.expirationTime<=U);U=i.unstable_now(),typeof K=="function"?d.callback=K:d===t(l)&&n(l),_(U)}else n(l);d=t(l)}if(d!==null)var ie=!0;else{var ae=t(u);ae!==null&&z(S,ae.startTime-U),ie=!1}return ie}finally{d=null,h=G,p=!1}}var k=!1,E=null,A=-1,P=5,O=-1;function M(){return!(i.unstable_now()-O<P)}function D(){if(E!==null){var N=i.unstable_now();O=N;var U=!0;try{U=E(!0,N)}finally{U?L():(k=!1,E=null)}}else k=!1}var L;typeof b=="function"?L=function(){b(D)}:typeof MessageChannel<"u"?(H=new MessageChannel,B=H.port2,H.port1.onmessage=D,L=function(){B.postMessage(null)}):L=function(){v(D,0)};var H,B;function F(N){E=N,k||(k=!0,L())}function z(N,U){A=v(function(){N(i.unstable_now())},U)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(N){N.callback=null},i.unstable_continueExecution=function(){f||p||(f=!0,F(C))},i.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},i.unstable_getCurrentPriorityLevel=function(){return h},i.unstable_getFirstCallbackNode=function(){return t(l)},i.unstable_next=function(N){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var G=h;h=U;try{return N()}finally{h=G}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(N,U){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var G=h;h=N;try{return U()}finally{h=G}},i.unstable_scheduleCallback=function(N,U,G){var j=i.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?j+G:j):G=j,N){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=G+K,N={id:c++,callback:U,priorityLevel:N,startTime:G,expirationTime:K,sortIndex:-1},G>j?(N.sortIndex=G,e(u,N),t(l)===null&&N===t(u)&&(g?(m(A),A=-1):g=!0,z(S,G-j))):(N.sortIndex=K,e(l,N),f||p||(f=!0,F(C))),N},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(N){var U=h;return function(){var G=h;h=U;try{return N.apply(this,arguments)}finally{h=G}}}}),s7e=on((i,e)=>{e.exports=r7e()}),a7e=on(i=>{var e=ge(),t=s7e();function n(y){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+y,T=1;T<arguments.length;T++)x+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+y+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(y,x){o(y,x),o(y+"Capture",x)}function o(y,x){for(s[y]=x,y=0;y<x.length;y++)r.add(x[y])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function p(y){return u.call(h,y)?!0:u.call(d,y)?!1:c.test(y)?h[y]=!0:(d[y]=!0,!1)}function f(y,x,T,I){if(T!==null&&T.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return I?!1:T!==null?!T.acceptsBooleans:(y=y.toLowerCase().slice(0,5),y!=="data-"&&y!=="aria-");default:return!1}}function g(y,x,T,I){if(x===null||typeof x>"u"||f(y,x,T,I))return!0;if(I)return!1;if(T!==null)switch(T.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function v(y,x,T,I,$,V,q){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=I,this.attributeNamespace=$,this.mustUseProperty=T,this.propertyName=y,this.type=x,this.sanitizeURL=V,this.removeEmptyString=q}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(y){m[y]=new v(y,0,!1,y,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(y){var x=y[0];m[x]=new v(x,1,!1,y[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(y){m[y]=new v(y,2,!1,y.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(y){m[y]=new v(y,2,!1,y,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(y){m[y]=new v(y,3,!1,y.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(y){m[y]=new v(y,3,!0,y,null,!1,!1)}),["capture","download"].forEach(function(y){m[y]=new v(y,4,!1,y,null,!1,!1)}),["cols","rows","size","span"].forEach(function(y){m[y]=new v(y,6,!1,y,null,!1,!1)}),["rowSpan","start"].forEach(function(y){m[y]=new v(y,5,!1,y.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function _(y){return y[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(y){var x=y.replace(b,_);m[x]=new v(x,1,!1,y,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(y){var x=y.replace(b,_);m[x]=new v(x,1,!1,y,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(y){var x=y.replace(b,_);m[x]=new v(x,1,!1,y,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(y){m[y]=new v(y,1,!1,y.toLowerCase(),null,!1,!1)}),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(y){m[y]=new v(y,1,!1,y.toLowerCase(),null,!0,!0)});function S(y,x,T,I){var $=m.hasOwnProperty(x)?m[x]:null;($!==null?$.type!==0:I||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(g(x,T,$,I)&&(T=null),I||$===null?p(x)&&(T===null?y.removeAttribute(x):y.setAttribute(x,""+T)):$.mustUseProperty?y[$.propertyName]=T===null?$.type===3?!1:"":T:(x=$.attributeName,I=$.attributeNamespace,T===null?y.removeAttribute(x):($=$.type,T=$===3||$===4&&T===!0?"":""+T,I?y.setAttributeNS(I,x,T):y.setAttribute(x,T))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),U=Symbol.iterator;function G(y){return y===null||typeof y!="object"?null:(y=U&&y[U]||y["@@iterator"],typeof y=="function"?y:null)}var j=Object.assign,K;function ie(y){if(K===void 0)try{throw Error()}catch(T){var x=T.stack.trim().match(/\n( *(at )?)/);K=x&&x[1]||""}return`
`+K+y}var ae=!1;function re(y,x){if(!y||ae)return"";ae=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(Be){var I=Be}Reflect.construct(y,[],x)}else{try{x.call()}catch(Be){I=Be}y.call(x.prototype)}else{try{throw Error()}catch(Be){I=Be}y()}}catch(Be){if(Be&&I&&typeof Be.stack=="string"){for(var $=Be.stack.split(`
`),V=I.stack.split(`
`),q=$.length-1,de=V.length-1;1<=q&&0<=de&&$[q]!==V[de];)de--;for(;1<=q&&0<=de;q--,de--)if($[q]!==V[de]){if(q!==1||de!==1)do if(q--,de--,0>de||$[q]!==V[de]){var me=`
`+$[q].replace(" at new "," at ");return y.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",y.displayName)),me}while(1<=q&&0<=de);break}}}finally{ae=!1,Error.prepareStackTrace=T}return(y=y?y.displayName||y.name:"")?ie(y):""}function J(y){switch(y.tag){case 5:return ie(y.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return y=re(y.type,!1),y;case 11:return y=re(y.type.render,!1),y;case 1:return y=re(y.type,!0),y;default:return""}}function ne(y){if(y==null)return null;if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y;switch(y){case A:return"Fragment";case E:return"Portal";case O:return"Profiler";case P:return"StrictMode";case H:return"Suspense";case B:return"SuspenseList"}if(typeof y=="object")switch(y.$$typeof){case D:return(y.displayName||"Context")+".Consumer";case M:return(y._context.displayName||"Context")+".Provider";case L:var x=y.render;return y=y.displayName,y||(y=x.displayName||x.name||"",y=y!==""?"ForwardRef("+y+")":"ForwardRef"),y;case F:return x=y.displayName||null,x!==null?x:ne(y.type)||"Memo";case z:x=y._payload,y=y._init;try{return ne(y(x))}catch{}}return null}function te(y){var x=y.type;switch(y.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return y=x.render,y=y.displayName||y.name||"",x.displayName||(y!==""?"ForwardRef("+y+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(x);case 8:return x===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function Q(y){switch(typeof y){case"boolean":case"number":case"string":case"undefined":return y;case"object":return y;default:return""}}function se(y){var x=y.type;return(y=y.nodeName)&&y.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function _e(y){var x=se(y)?"checked":"value",T=Object.getOwnPropertyDescriptor(y.constructor.prototype,x),I=""+y[x];if(!y.hasOwnProperty(x)&&typeof T<"u"&&typeof T.get=="function"&&typeof T.set=="function"){var $=T.get,V=T.set;return Object.defineProperty(y,x,{configurable:!0,get:function(){return $.call(this)},set:function(q){I=""+q,V.call(this,q)}}),Object.defineProperty(y,x,{enumerable:T.enumerable}),{getValue:function(){return I},setValue:function(q){I=""+q},stopTracking:function(){y._valueTracker=null,delete y[x]}}}}function le(y){y._valueTracker||(y._valueTracker=_e(y))}function ve(y){if(!y)return!1;var x=y._valueTracker;if(!x)return!0;var T=x.getValue(),I="";return y&&(I=se(y)?y.checked?"true":"false":y.value),y=I,y!==T?(x.setValue(y),!0):!1}function pe(y){if(y=y||(typeof document<"u"?document:void 0),typeof y>"u")return null;try{return y.activeElement||y.body}catch{return y.body}}function Fe(y,x){var T=x.checked;return j({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:T??y._wrapperState.initialChecked})}function Ee(y,x){var T=x.defaultValue==null?"":x.defaultValue,I=x.checked!=null?x.checked:x.defaultChecked;T=Q(x.value!=null?x.value:T),y._wrapperState={initialChecked:I,initialValue:T,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function it(y,x){x=x.checked,x!=null&&S(y,"checked",x,!1)}function Qe(y,x){it(y,x);var T=Q(x.value),I=x.type;if(T!=null)I==="number"?(T===0&&y.value===""||y.value!=T)&&(y.value=""+T):y.value!==""+T&&(y.value=""+T);else if(I==="submit"||I==="reset"){y.removeAttribute("value");return}x.hasOwnProperty("value")?je(y,x.type,T):x.hasOwnProperty("defaultValue")&&je(y,x.type,Q(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(y.defaultChecked=!!x.defaultChecked)}function Ae(y,x,T){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var I=x.type;if(!(I!=="submit"&&I!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+y._wrapperState.initialValue,T||x===y.value||(y.value=x),y.defaultValue=x}T=y.name,T!==""&&(y.name=""),y.defaultChecked=!!y._wrapperState.initialChecked,T!==""&&(y.name=T)}function je(y,x,T){(x!=="number"||pe(y.ownerDocument)!==y)&&(T==null?y.defaultValue=""+y._wrapperState.initialValue:y.defaultValue!==""+T&&(y.defaultValue=""+T))}var We=Array.isArray;function ut(y,x,T,I){if(y=y.options,x){x={};for(var $=0;$<T.length;$++)x["$"+T[$]]=!0;for(T=0;T<y.length;T++)$=x.hasOwnProperty("$"+y[T].value),y[T].selected!==$&&(y[T].selected=$),$&&I&&(y[T].defaultSelected=!0)}else{for(T=""+Q(T),x=null,$=0;$<y.length;$++){if(y[$].value===T){y[$].selected=!0,I&&(y[$].defaultSelected=!0);return}x!==null||y[$].disabled||(x=y[$])}x!==null&&(x.selected=!0)}}function vt(y,x){if(x.dangerouslySetInnerHTML!=null)throw Error(n(91));return j({},x,{value:void 0,defaultValue:void 0,children:""+y._wrapperState.initialValue})}function _t(y,x){var T=x.value;if(T==null){if(T=x.children,x=x.defaultValue,T!=null){if(x!=null)throw Error(n(92));if(We(T)){if(1<T.length)throw Error(n(93));T=T[0]}x=T}x==null&&(x=""),T=x}y._wrapperState={initialValue:Q(T)}}function zt(y,x){var T=Q(x.value),I=Q(x.defaultValue);T!=null&&(T=""+T,T!==y.value&&(y.value=T),x.defaultValue==null&&y.defaultValue!==T&&(y.defaultValue=T)),I!=null&&(y.defaultValue=""+I)}function Ft(y){var x=y.textContent;x===y._wrapperState.initialValue&&x!==""&&x!==null&&(y.value=x)}function Ye(y){switch(y){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Je(y,x){return y==null||y==="http://www.w3.org/1999/xhtml"?Ye(x):y==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":y}var rt,dt=function(y){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,T,I,$){MSApp.execUnsafeLocalFunction(function(){return y(x,T,I,$)})}:y}(function(y,x){if(y.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in y)y.innerHTML=x;else{for(rt=rt||document.createElement("div"),rt.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=rt.firstChild;y.firstChild;)y.removeChild(y.firstChild);for(;x.firstChild;)y.appendChild(x.firstChild)}});function at(y,x){if(x){var T=y.firstChild;if(T&&T===y.lastChild&&T.nodeType===3){T.nodeValue=x;return}}y.textContent=x}var Gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ii=["Webkit","ms","Moz","O"];Object.keys(Gt).forEach(function(y){ii.forEach(function(x){x=x+y.charAt(0).toUpperCase()+y.substring(1),Gt[x]=Gt[y]})});function ci(y,x,T){return x==null||typeof x=="boolean"||x===""?"":T||typeof x!="number"||x===0||Gt.hasOwnProperty(y)&&Gt[y]?(""+x).trim():x+"px"}function qt(y,x){y=y.style;for(var T in x)if(x.hasOwnProperty(T)){var I=T.indexOf("--")===0,$=ci(T,x[T],I);T==="float"&&(T="cssFloat"),I?y.setProperty(T,$):y[T]=$}}var Zt=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xi(y,x){if(x){if(Zt[y]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(n(137,y));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(n(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(n(61))}if(x.style!=null&&typeof x.style!="object")throw Error(n(62))}}function Ai(y,x){if(y.indexOf("-")===-1)return typeof x.is=="string";switch(y){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ii=null;function ei(y){return y=y.target||y.srcElement||window,y.correspondingUseElement&&(y=y.correspondingUseElement),y.nodeType===3?y.parentNode:y}var di=null,vi=null,ot=null;function Ke(y){if(y=RC(y)){if(typeof di!="function")throw Error(n(280));var x=y.stateNode;x&&(x=fO(x),di(y.stateNode,y.type,x))}}function Ue(y){vi?ot?ot.push(y):ot=[y]:vi=y}function ai(){if(vi){var y=vi,x=ot;if(ot=vi=null,Ke(y),x)for(y=0;y<x.length;y++)Ke(x[y])}}function Ge(y,x){return y(x)}function pt(){}var Xt=!1;function Ci(y,x,T){if(Xt)return y(x,T);Xt=!0;try{return Ge(y,x,T)}finally{Xt=!1,(vi!==null||ot!==null)&&(pt(),ai())}}function ft(y,x){var T=y.stateNode;if(T===null)return null;var I=fO(T);if(I===null)return null;T=I[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(I=!I.disabled)||(y=y.type,I=!(y==="button"||y==="input"||y==="select"||y==="textarea")),y=!I;break e;default:y=!1}if(y)return null;if(T&&typeof T!="function")throw Error(n(231,x,typeof T));return T}var lt=!1;if(l)try{St={},Object.defineProperty(St,"passive",{get:function(){lt=!0}}),window.addEventListener("test",St,St),window.removeEventListener("test",St,St)}catch{lt=!1}var St;function Nt(y,x,T,I,$,V,q,de,me){var Be=Array.prototype.slice.call(arguments,3);try{x.apply(T,Be)}catch(yt){this.onError(yt)}}var Dt=!1,Ri=null,ki=!1,Bi=null,wn={onError:function(y){Dt=!0,Ri=y}};function Ki(y,x,T,I,$,V,q,de,me){Dt=!1,Ri=null,Nt.apply(wn,arguments)}function Nn(y,x,T,I,$,V,q,de,me){if(Ki.apply(this,arguments),Dt){if(Dt){var Be=Ri;Dt=!1,Ri=null}else throw Error(n(198));ki||(ki=!0,Bi=Be)}}function It(y){var x=y,T=y;if(y.alternate)for(;x.return;)x=x.return;else{y=x;do x=y,x.flags&4098&&(T=x.return),y=x.return;while(y)}return x.tag===3?T:null}function ti(y){if(y.tag===13){var x=y.memoizedState;if(x===null&&(y=y.alternate,y!==null&&(x=y.memoizedState)),x!==null)return x.dehydrated}return null}function Ei(y){if(It(y)!==y)throw Error(n(188))}function Hr(y){var x=y.alternate;if(!x){if(x=It(y),x===null)throw Error(n(188));return x!==y?null:y}for(var T=y,I=x;;){var $=T.return;if($===null)break;var V=$.alternate;if(V===null){if(I=$.return,I!==null){T=I;continue}break}if($.child===V.child){for(V=$.child;V;){if(V===T)return Ei($),y;if(V===I)return Ei($),x;V=V.sibling}throw Error(n(188))}if(T.return!==I.return)T=$,I=V;else{for(var q=!1,de=$.child;de;){if(de===T){q=!0,T=$,I=V;break}if(de===I){q=!0,I=$,T=V;break}de=de.sibling}if(!q){for(de=V.child;de;){if(de===T){q=!0,T=V,I=$;break}if(de===I){q=!0,I=V,T=$;break}de=de.sibling}if(!q)throw Error(n(189))}}if(T.alternate!==I)throw Error(n(190))}if(T.tag!==3)throw Error(n(188));return T.stateNode.current===T?y:x}function Zs(y){return y=Hr(y),y!==null?Yr(y):null}function Yr(y){if(y.tag===5||y.tag===6)return y;for(y=y.child;y!==null;){var x=Yr(y);if(x!==null)return x;y=y.sibling}return null}var Qs=t.unstable_scheduleCallback,Zc=t.unstable_cancelCallback,Qc=t.unstable_shouldYield,vu=t.unstable_requestPaint,Xi=t.unstable_now,lh=t.unstable_getCurrentPriorityLevel,Jc=t.unstable_ImmediatePriority,yu=t.unstable_UserBlockingPriority,Bl=t.unstable_NormalPriority,_u=t.unstable_LowPriority,Ao=t.unstable_IdlePriority,$a=null,_s=null;function ed(y){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot($a,y,void 0,(y.current.flags&128)===128)}catch{}}var is=Math.clz32?Math.clz32:so,nc=Math.log,$l=Math.LN2;function so(y){return y>>>=0,y===0?32:31-(nc(y)/$l|0)|0}var ni=64,gn=4194304;function cr(y){switch(y&-y){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return y&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return y}}function er(y,x){var T=y.pendingLanes;if(T===0)return 0;var I=0,$=y.suspendedLanes,V=y.pingedLanes,q=T&268435455;if(q!==0){var de=q&~$;de!==0?I=cr(de):(V&=q,V!==0&&(I=cr(V)))}else q=T&~$,q!==0?I=cr(q):V!==0&&(I=cr(V));if(I===0)return 0;if(x!==0&&x!==I&&!(x&$)&&($=I&-I,V=x&-x,$>=V||$===16&&(V&4194240)!==0))return x;if(I&4&&(I|=T&16),x=y.entangledLanes,x!==0)for(y=y.entanglements,x&=I;0<x;)T=31-is(x),$=1<<T,I|=y[T],x&=~$;return I}function bs(y,x){switch(y){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ss(y,x){for(var T=y.suspendedLanes,I=y.pingedLanes,$=y.expirationTimes,V=y.pendingLanes;0<V;){var q=31-is(V),de=1<<q,me=$[q];me===-1?(!(de&T)||de&I)&&($[q]=bs(de,x)):me<=x&&(y.expiredLanes|=de),V&=~de}}function Rs(y){return y=y.pendingLanes&-1073741825,y!==0?y:y&1073741824?1073741824:0}function ao(){var y=ni;return ni<<=1,!(ni&4194240)&&(ni=64),y}function Na(y){for(var x=[],T=0;31>T;T++)x.push(y);return x}function ha(y,x,T){y.pendingLanes|=x,x!==536870912&&(y.suspendedLanes=0,y.pingedLanes=0),y=y.eventTimes,x=31-is(x),y[x]=T}function bu(y,x){var T=y.pendingLanes&~x;y.pendingLanes=x,y.suspendedLanes=0,y.pingedLanes=0,y.expiredLanes&=x,y.mutableReadLanes&=x,y.entangledLanes&=x,x=y.entanglements;var I=y.eventTimes;for(y=y.expirationTimes;0<T;){var $=31-is(T),V=1<<$;x[$]=0,I[$]=-1,y[$]=-1,T&=~V}}function el(y,x){var T=y.entangledLanes|=x;for(y=y.entanglements;T;){var I=31-is(T),$=1<<I;$&x|y[I]&x&&(y[I]|=x),T&=~$}}var Wi=0;function Lf(y){return y&=-y,1<y?4<y?y&268435455?16:536870912:4:1}var Ds,rc,uh,oo,mp,ch=!1,dh=[],Su=null,Nl=null,To=null,td=new Map,Lt=new Map,zi=[],Ls="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fs(y,x){switch(y){case"focusin":case"focusout":Su=null;break;case"dragenter":case"dragleave":Nl=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":td.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(x.pointerId)}}function dr(y,x,T,I,$,V){return y===null||y.nativeEvent!==V?(y={blockedOn:x,domEventName:T,eventSystemFlags:I,nativeEvent:V,targetContainers:[$]},x!==null&&(x=RC(x),x!==null&&rc(x)),y):(y.eventSystemFlags|=I,x=y.targetContainers,$!==null&&x.indexOf($)===-1&&x.push($),y)}function vp(y,x,T,I,$){switch(x){case"focusin":return Su=dr(Su,y,x,T,I,$),!0;case"dragenter":return Nl=dr(Nl,y,x,T,I,$),!0;case"mouseover":return To=dr(To,y,x,T,I,$),!0;case"pointerover":var V=$.pointerId;return td.set(V,dr(td.get(V)||null,y,x,T,I,$)),!0;case"gotpointercapture":return V=$.pointerId,Lt.set(V,dr(Lt.get(V)||null,y,x,T,I,$)),!0}return!1}function Ff(y){var x=U0(y.target);if(x!==null){var T=It(x);if(T!==null){if(x=T.tag,x===13){if(x=ti(T),x!==null){y.blockedOn=x,mp(y.priority,function(){uh(T)});return}}else if(x===3&&T.stateNode.current.memoizedState.isDehydrated){y.blockedOn=T.tag===3?T.stateNode.containerInfo:null;return}}}y.blockedOn=null}function yp(y){if(y.blockedOn!==null)return!1;for(var x=y.targetContainers;0<x.length;){var T=Mb(y.domEventName,y.eventSystemFlags,x[0],y.nativeEvent);if(T===null){T=y.nativeEvent;var I=new T.constructor(T.type,T);Ii=I,T.target.dispatchEvent(I),Ii=null}else return x=RC(T),x!==null&&rc(x),y.blockedOn=T,!1;x.shift()}return!0}function id(y,x,T){yp(y)&&T.delete(x)}function q4(){ch=!1,Su!==null&&yp(Su)&&(Su=null),Nl!==null&&yp(Nl)&&(Nl=null),To!==null&&yp(To)&&(To=null),td.forEach(id),Lt.forEach(id)}function N0(y,x){y.blockedOn===x&&(y.blockedOn=null,ch||(ch=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,q4)))}function _p(y){function x($){return N0($,y)}if(0<dh.length){N0(dh[0],y);for(var T=1;T<dh.length;T++){var I=dh[T];I.blockedOn===y&&(I.blockedOn=null)}}for(Su!==null&&N0(Su,y),Nl!==null&&N0(Nl,y),To!==null&&N0(To,y),td.forEach(x),Lt.forEach(x),T=0;T<zi.length;T++)I=zi[T],I.blockedOn===y&&(I.blockedOn=null);for(;0<zi.length&&(T=zi[0],T.blockedOn===null);)Ff(T),T.blockedOn===null&&zi.shift()}var Bf=C.ReactCurrentBatchConfig,j0=!0;function Z4(y,x,T,I){var $=Wi,V=Bf.transition;Bf.transition=null;try{Wi=1,bC(y,x,T,I)}finally{Wi=$,Bf.transition=V}}function Q4(y,x,T,I){var $=Wi,V=Bf.transition;Bf.transition=null;try{Wi=4,bC(y,x,T,I)}finally{Wi=$,Bf.transition=V}}function bC(y,x,T,I){if(j0){var $=Mb(y,x,T,I);if($===null)v9(y,x,I,Ob,T),Fs(y,I);else if(vp($,y,x,T,I))I.stopPropagation();else if(Fs(y,I),x&4&&-1<Ls.indexOf(y)){for(;$!==null;){var V=RC($);if(V!==null&&Ds(V),V=Mb(y,x,T,I),V===null&&v9(y,x,I,Ob,T),V===$)break;$=V}$!==null&&I.stopPropagation()}else v9(y,x,I,null,T)}}var Ob=null;function Mb(y,x,T,I){if(Ob=null,y=ei(I),y=U0(y),y!==null)if(x=It(y),x===null)y=null;else if(T=x.tag,T===13){if(y=ti(x),y!==null)return y;y=null}else if(T===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;y=null}else x!==y&&(y=null);return Ob=y,null}function qP(y){switch(y){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lh()){case Jc:return 1;case yu:return 4;case Bl:case _u:return 16;case Ao:return 536870912;default:return 16}default:return 16}}var bp=null,Ib=null,Rb=null;function ZP(){if(Rb)return Rb;var y,x=Ib,T=x.length,I,$="value"in bp?bp.value:bp.textContent,V=$.length;for(y=0;y<T&&x[y]===$[y];y++);var q=T-y;for(I=1;I<=q&&x[T-I]===$[V-I];I++);return Rb=$.slice(y,1<I?1-I:void 0)}function z0(y){var x=y.keyCode;return"charCode"in y?(y=y.charCode,y===0&&x===13&&(y=13)):y=x,y===10&&(y=13),32<=y||y===13?y:0}function Db(){return!0}function QP(){return!1}function tl(y){function x(T,I,$,V,q){this._reactName=T,this._targetInst=$,this.type=I,this.nativeEvent=V,this.target=q,this.currentTarget=null;for(var de in y)y.hasOwnProperty(de)&&(T=y[de],this[de]=T?T(V):V[de]);return this.isDefaultPrevented=(V.defaultPrevented!=null?V.defaultPrevented:V.returnValue===!1)?Db:QP,this.isPropagationStopped=QP,this}return j(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var T=this.nativeEvent;T&&(T.preventDefault?T.preventDefault():typeof T.returnValue!="unknown"&&(T.returnValue=!1),this.isDefaultPrevented=Db)},stopPropagation:function(){var T=this.nativeEvent;T&&(T.stopPropagation?T.stopPropagation():typeof T.cancelBubble!="unknown"&&(T.cancelBubble=!0),this.isPropagationStopped=Db)},persist:function(){},isPersistent:Db}),x}var Sp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(y){return y.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},SC=tl(Sp),H0=j({},Sp,{view:0,detail:0}),J4=tl(H0),xm,Lb,V0,Fb=j({},H0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:CC,button:0,buttons:0,relatedTarget:function(y){return y.relatedTarget===void 0?y.fromElement===y.srcElement?y.toElement:y.fromElement:y.relatedTarget},movementX:function(y){return"movementX"in y?y.movementX:(y!==V0&&(V0&&y.type==="mousemove"?(xm=y.screenX-V0.screenX,Lb=y.screenY-V0.screenY):Lb=xm=0,V0=y),xm)},movementY:function(y){return"movementY"in y?y.movementY:Lb}}),JP=tl(Fb),eO=j({},Fb,{dataTransfer:0}),e9=tl(eO),t9=j({},H0,{relatedTarget:0}),W0=tl(t9),i9=j({},Sp,{animationName:0,elapsedTime:0,pseudoElement:0}),n9=tl(i9),tO=j({},Sp,{clipboardData:function(y){return"clipboardData"in y?y.clipboardData:window.clipboardData}}),xC=tl(tO),r9=j({},Sp,{data:0}),Bb=tl(r9),s9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wC(y){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(y):(y=o9[y])?!!x[y]:!1}function CC(){return wC}var l9=j({},H0,{key:function(y){if(y.key){var x=s9[y.key]||y.key;if(x!=="Unidentified")return x}return y.type==="keypress"?(y=z0(y),y===13?"Enter":String.fromCharCode(y)):y.type==="keydown"||y.type==="keyup"?a9[y.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:CC,charCode:function(y){return y.type==="keypress"?z0(y):0},keyCode:function(y){return y.type==="keydown"||y.type==="keyup"?y.keyCode:0},which:function(y){return y.type==="keypress"?z0(y):y.type==="keydown"||y.type==="keyup"?y.keyCode:0}}),u9=tl(l9),iO=j({},Fb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nO=tl(iO),c9=j({},H0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:CC}),kC=tl(c9),rO=j({},Sp,{propertyName:0,elapsedTime:0,pseudoElement:0}),EC=tl(rO),sO=j({},Fb,{deltaX:function(y){return"deltaX"in y?y.deltaX:"wheelDeltaX"in y?-y.wheelDeltaX:0},deltaY:function(y){return"deltaY"in y?y.deltaY:"wheelDeltaY"in y?-y.wheelDeltaY:"wheelDelta"in y?-y.wheelDelta:0},deltaZ:0,deltaMode:0}),W=tl(sO),Z=[9,13,27,32],ue=l&&"CompositionEvent"in window,fe=null;l&&"documentMode"in document&&(fe=document.documentMode);var Oe=l&&"TextEvent"in window&&!fe,ht=l&&(!ue||fe&&8<fe&&11>=fe),Et=" ",jt=!1;function Vt(y,x){switch(y){case"keyup":return Z.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ti(y){return y=y.detail,typeof y=="object"&&"data"in y?y.data:null}var nn=!1;function Ui(y,x){switch(y){case"compositionend":return Ti(x);case"keypress":return x.which!==32?null:(jt=!0,Et);case"textInput":return y=x.data,y===Et&&jt?null:y;default:return null}}function Vn(y,x){if(nn)return y==="compositionend"||!ue&&Vt(y,x)?(y=ZP(),Rb=Ib=bp=null,nn=!1,y):null;switch(y){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return ht&&x.locale!=="ko"?null:x.data;default:return null}}var qi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vr(y){var x=y&&y.nodeName&&y.nodeName.toLowerCase();return x==="input"?!!qi[y.type]:x==="textarea"}function Wn(y,x,T,I){Ue(I),x=dO(x,"onChange"),0<x.length&&(T=new SC("onChange","change",null,T,I),y.push({event:T,listeners:x}))}var yr=null,xs=null;function Cr(y){qQ(y,0)}function hr(y){var x=Hb(y);if(ve(x))return y}function sc(y,x){if(y==="change")return x}var ja=!1;l&&(l?(_r="oninput"in document,_r||(d9=document.createElement("div"),d9.setAttribute("oninput","return;"),_r=typeof d9.oninput=="function"),za=_r):za=!1,ja=za&&(!document.documentMode||9<document.documentMode));var za,_r,d9;function RQ(){yr&&(yr.detachEvent("onpropertychange",DQ),xs=yr=null)}function DQ(y){if(y.propertyName==="value"&&hr(xs)){var x=[];Wn(x,xs,y,ei(y)),Ci(Cr,x)}}function iRe(y,x,T){y==="focusin"?(RQ(),yr=x,xs=T,yr.attachEvent("onpropertychange",DQ)):y==="focusout"&&RQ()}function nRe(y){if(y==="selectionchange"||y==="keyup"||y==="keydown")return hr(xs)}function rRe(y,x){if(y==="click")return hr(x)}function sRe(y,x){if(y==="input"||y==="change")return hr(x)}function aRe(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var hh=typeof Object.is=="function"?Object.is:aRe;function AC(y,x){if(hh(y,x))return!0;if(typeof y!="object"||y===null||typeof x!="object"||x===null)return!1;var T=Object.keys(y),I=Object.keys(x);if(T.length!==I.length)return!1;for(I=0;I<T.length;I++){var $=T[I];if(!u.call(x,$)||!hh(y[$],x[$]))return!1}return!0}function LQ(y){for(;y&&y.firstChild;)y=y.firstChild;return y}function FQ(y,x){var T=LQ(y);y=0;for(var I;T;){if(T.nodeType===3){if(I=y+T.textContent.length,y<=x&&I>=x)return{node:T,offset:x-y};y=I}e:{for(;T;){if(T.nextSibling){T=T.nextSibling;break e}T=T.parentNode}T=void 0}T=LQ(T)}}function BQ(y,x){return y&&x?y===x?!0:y&&y.nodeType===3?!1:x&&x.nodeType===3?BQ(y,x.parentNode):"contains"in y?y.contains(x):y.compareDocumentPosition?!!(y.compareDocumentPosition(x)&16):!1:!1}function $Q(){for(var y=window,x=pe();x instanceof y.HTMLIFrameElement;){try{var T=typeof x.contentWindow.location.href=="string"}catch{T=!1}if(T)y=x.contentWindow;else break;x=pe(y.document)}return x}function h9(y){var x=y&&y.nodeName&&y.nodeName.toLowerCase();return x&&(x==="input"&&(y.type==="text"||y.type==="search"||y.type==="tel"||y.type==="url"||y.type==="password")||x==="textarea"||y.contentEditable==="true")}function oRe(y){var x=$Q(),T=y.focusedElem,I=y.selectionRange;if(x!==T&&T&&T.ownerDocument&&BQ(T.ownerDocument.documentElement,T)){if(I!==null&&h9(T)){if(x=I.start,y=I.end,y===void 0&&(y=x),"selectionStart"in T)T.selectionStart=x,T.selectionEnd=Math.min(y,T.value.length);else if(y=(x=T.ownerDocument||document)&&x.defaultView||window,y.getSelection){y=y.getSelection();var $=T.textContent.length,V=Math.min(I.start,$);I=I.end===void 0?V:Math.min(I.end,$),!y.extend&&V>I&&($=I,I=V,V=$),$=FQ(T,V);var q=FQ(T,I);$&&q&&(y.rangeCount!==1||y.anchorNode!==$.node||y.anchorOffset!==$.offset||y.focusNode!==q.node||y.focusOffset!==q.offset)&&(x=x.createRange(),x.setStart($.node,$.offset),y.removeAllRanges(),V>I?(y.addRange(x),y.extend(q.node,q.offset)):(x.setEnd(q.node,q.offset),y.addRange(x)))}}for(x=[],y=T;y=y.parentNode;)y.nodeType===1&&x.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<x.length;T++)y=x[T],y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}var lRe=l&&"documentMode"in document&&11>=document.documentMode,$b=null,p9=null,TC=null,f9=!1;function NQ(y,x,T){var I=T.window===T?T.document:T.nodeType===9?T:T.ownerDocument;f9||$b==null||$b!==pe(I)||(I=$b,"selectionStart"in I&&h9(I)?I={start:I.selectionStart,end:I.selectionEnd}:(I=(I.ownerDocument&&I.ownerDocument.defaultView||window).getSelection(),I={anchorNode:I.anchorNode,anchorOffset:I.anchorOffset,focusNode:I.focusNode,focusOffset:I.focusOffset}),TC&&AC(TC,I)||(TC=I,I=dO(p9,"onSelect"),0<I.length&&(x=new SC("onSelect","select",null,x,T),y.push({event:x,listeners:I}),x.target=$b)))}function aO(y,x){var T={};return T[y.toLowerCase()]=x.toLowerCase(),T["Webkit"+y]="webkit"+x,T["Moz"+y]="moz"+x,T}var Nb={animationend:aO("Animation","AnimationEnd"),animationiteration:aO("Animation","AnimationIteration"),animationstart:aO("Animation","AnimationStart"),transitionend:aO("Transition","TransitionEnd")},g9={},jQ={};l&&(jQ=document.createElement("div").style,"AnimationEvent"in window||(delete Nb.animationend.animation,delete Nb.animationiteration.animation,delete Nb.animationstart.animation),"TransitionEvent"in window||delete Nb.transitionend.transition);function oO(y){if(g9[y])return g9[y];if(!Nb[y])return y;var x=Nb[y],T;for(T in x)if(x.hasOwnProperty(T)&&T in jQ)return g9[y]=x[T];return y}var zQ=oO("animationend"),HQ=oO("animationiteration"),VQ=oO("animationstart"),WQ=oO("transitionend"),UQ=new Map,GQ="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wm(y,x){UQ.set(y,x),a(x,[y])}for(uO=0;uO<GQ.length;uO++)lO=GQ[uO],YQ=lO.toLowerCase(),KQ=lO[0].toUpperCase()+lO.slice(1),wm(YQ,"on"+KQ);var lO,YQ,KQ,uO;wm(zQ,"onAnimationEnd"),wm(HQ,"onAnimationIteration"),wm(VQ,"onAnimationStart"),wm("dblclick","onDoubleClick"),wm("focusin","onFocus"),wm("focusout","onBlur"),wm(WQ,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var PC="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uRe=new Set("cancel close invalid load scroll toggle".split(" ").concat(PC));function XQ(y,x,T){var I=y.type||"unknown-event";y.currentTarget=T,Nn(I,x,void 0,y),y.currentTarget=null}function qQ(y,x){x=(x&4)!==0;for(var T=0;T<y.length;T++){var I=y[T],$=I.event;I=I.listeners;e:{var V=void 0;if(x)for(var q=I.length-1;0<=q;q--){var de=I[q],me=de.instance,Be=de.currentTarget;if(de=de.listener,me!==V&&$.isPropagationStopped())break e;XQ($,de,Be),V=me}else for(q=0;q<I.length;q++){if(de=I[q],me=de.instance,Be=de.currentTarget,de=de.listener,me!==V&&$.isPropagationStopped())break e;XQ($,de,Be),V=me}}}if(ki)throw y=Bi,ki=!1,Bi=null,y}function ns(y,x){var T=x[w9];T===void 0&&(T=x[w9]=new Set);var I=y+"__bubble";T.has(I)||(ZQ(x,y,2,!1),T.add(I))}function m9(y,x,T){var I=0;x&&(I|=4),ZQ(T,y,I,x)}var cO="_reactListening"+Math.random().toString(36).slice(2);function OC(y){if(!y[cO]){y[cO]=!0,r.forEach(function(T){T!=="selectionchange"&&(uRe.has(T)||m9(T,!1,y),m9(T,!0,y))});var x=y.nodeType===9?y:y.ownerDocument;x===null||x[cO]||(x[cO]=!0,m9("selectionchange",!1,x))}}function ZQ(y,x,T,I){switch(qP(x)){case 1:var $=Z4;break;case 4:$=Q4;break;default:$=bC}T=$.bind(null,x,T,y),$=void 0,!lt||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||($=!0),I?$!==void 0?y.addEventListener(x,T,{capture:!0,passive:$}):y.addEventListener(x,T,!0):$!==void 0?y.addEventListener(x,T,{passive:$}):y.addEventListener(x,T,!1)}function v9(y,x,T,I,$){var V=I;if(!(x&1)&&!(x&2)&&I!==null)e:for(;;){if(I===null)return;var q=I.tag;if(q===3||q===4){var de=I.stateNode.containerInfo;if(de===$||de.nodeType===8&&de.parentNode===$)break;if(q===4)for(q=I.return;q!==null;){var me=q.tag;if((me===3||me===4)&&(me=q.stateNode.containerInfo,me===$||me.nodeType===8&&me.parentNode===$))return;q=q.return}for(;de!==null;){if(q=U0(de),q===null)return;if(me=q.tag,me===5||me===6){I=V=q;continue e}de=de.parentNode}}I=I.return}Ci(function(){var Be=V,yt=ei(T),bt=[];e:{var gt=UQ.get(y);if(gt!==void 0){var Wt=SC,ri=y;switch(y){case"keypress":if(z0(T)===0)break e;case"keydown":case"keyup":Wt=u9;break;case"focusin":ri="focus",Wt=W0;break;case"focusout":ri="blur",Wt=W0;break;case"beforeblur":case"afterblur":Wt=W0;break;case"click":if(T.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Wt=JP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Wt=e9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Wt=kC;break;case zQ:case HQ:case VQ:Wt=n9;break;case WQ:Wt=EC;break;case"scroll":Wt=J4;break;case"wheel":Wt=W;break;case"copy":case"cut":case"paste":Wt=xC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Wt=nO}var oi=(x&4)!==0,pa=!oi&&y==="scroll",Me=oi?gt!==null?gt+"Capture":null:gt;oi=[];for(var Se=Be,Le;Se!==null;){Le=Se;var kt=Le.stateNode;if(Le.tag===5&&kt!==null&&(Le=kt,Me!==null&&(kt=ft(Se,Me),kt!=null&&oi.push(MC(Se,kt,Le)))),pa)break;Se=Se.return}0<oi.length&&(gt=new Wt(gt,ri,null,T,yt),bt.push({event:gt,listeners:oi}))}}if(!(x&7)){e:{if(gt=y==="mouseover"||y==="pointerover",Wt=y==="mouseout"||y==="pointerout",gt&&T!==Ii&&(ri=T.relatedTarget||T.fromElement)&&(U0(ri)||ri[$f]))break e;if((Wt||gt)&&(gt=yt.window===yt?yt:(gt=yt.ownerDocument)?gt.defaultView||gt.parentWindow:window,Wt?(ri=T.relatedTarget||T.toElement,Wt=Be,ri=ri?U0(ri):null,ri!==null&&(pa=It(ri),ri!==pa||ri.tag!==5&&ri.tag!==6)&&(ri=null)):(Wt=null,ri=Be),Wt!==ri)){if(oi=JP,kt="onMouseLeave",Me="onMouseEnter",Se="mouse",(y==="pointerout"||y==="pointerover")&&(oi=nO,kt="onPointerLeave",Me="onPointerEnter",Se="pointer"),pa=Wt==null?gt:Hb(Wt),Le=ri==null?gt:Hb(ri),gt=new oi(kt,Se+"leave",Wt,T,yt),gt.target=pa,gt.relatedTarget=Le,kt=null,U0(yt)===Be&&(oi=new oi(Me,Se+"enter",ri,T,yt),oi.target=Le,oi.relatedTarget=pa,kt=oi),pa=kt,Wt&&ri)t:{for(oi=Wt,Me=ri,Se=0,Le=oi;Le;Le=jb(Le))Se++;for(Le=0,kt=Me;kt;kt=jb(kt))Le++;for(;0<Se-Le;)oi=jb(oi),Se--;for(;0<Le-Se;)Me=jb(Me),Le--;for(;Se--;){if(oi===Me||Me!==null&&oi===Me.alternate)break t;oi=jb(oi),Me=jb(Me)}oi=null}else oi=null;Wt!==null&&QQ(bt,gt,Wt,oi,!1),ri!==null&&pa!==null&&QQ(bt,pa,ri,oi,!0)}}e:{if(gt=Be?Hb(Be):window,Wt=gt.nodeName&&gt.nodeName.toLowerCase(),Wt==="select"||Wt==="input"&&gt.type==="file")var hi=sc;else if(vr(gt))if(ja)hi=sRe;else{hi=nRe;var Pi=iRe}else(Wt=gt.nodeName)&&Wt.toLowerCase()==="input"&&(gt.type==="checkbox"||gt.type==="radio")&&(hi=rRe);if(hi&&(hi=hi(y,Be))){Wn(bt,hi,T,yt);break e}Pi&&Pi(y,gt,Be),y==="focusout"&&(Pi=gt._wrapperState)&&Pi.controlled&&gt.type==="number"&&je(gt,"number",gt.value)}switch(Pi=Be?Hb(Be):window,y){case"focusin":(vr(Pi)||Pi.contentEditable==="true")&&($b=Pi,p9=Be,TC=null);break;case"focusout":TC=p9=$b=null;break;case"mousedown":f9=!0;break;case"contextmenu":case"mouseup":case"dragend":f9=!1,NQ(bt,T,yt);break;case"selectionchange":if(lRe)break;case"keydown":case"keyup":NQ(bt,T,yt)}var Oi;if(ue)e:{switch(y){case"compositionstart":var $i="onCompositionStart";break e;case"compositionend":$i="onCompositionEnd";break e;case"compositionupdate":$i="onCompositionUpdate";break e}$i=void 0}else nn?Vt(y,T)&&($i="onCompositionEnd"):y==="keydown"&&T.keyCode===229&&($i="onCompositionStart");$i&&(ht&&T.locale!=="ko"&&(nn||$i!=="onCompositionStart"?$i==="onCompositionEnd"&&nn&&(Oi=ZP()):(bp=yt,Ib="value"in bp?bp.value:bp.textContent,nn=!0)),Pi=dO(Be,$i),0<Pi.length&&($i=new Bb($i,y,null,T,yt),bt.push({event:$i,listeners:Pi}),Oi?$i.data=Oi:(Oi=Ti(T),Oi!==null&&($i.data=Oi)))),(Oi=Oe?Ui(y,T):Vn(y,T))&&(Be=dO(Be,"onBeforeInput"),0<Be.length&&(yt=new Bb("onBeforeInput","beforeinput",null,T,yt),bt.push({event:yt,listeners:Be}),yt.data=Oi))}qQ(bt,x)})}function MC(y,x,T){return{instance:y,listener:x,currentTarget:T}}function dO(y,x){for(var T=x+"Capture",I=[];y!==null;){var $=y,V=$.stateNode;$.tag===5&&V!==null&&($=V,V=ft(y,T),V!=null&&I.unshift(MC(y,V,$)),V=ft(y,x),V!=null&&I.push(MC(y,V,$))),y=y.return}return I}function jb(y){if(y===null)return null;do y=y.return;while(y&&y.tag!==5);return y||null}function QQ(y,x,T,I,$){for(var V=x._reactName,q=[];T!==null&&T!==I;){var de=T,me=de.alternate,Be=de.stateNode;if(me!==null&&me===I)break;de.tag===5&&Be!==null&&(de=Be,$?(me=ft(T,V),me!=null&&q.unshift(MC(T,me,de))):$||(me=ft(T,V),me!=null&&q.push(MC(T,me,de)))),T=T.return}q.length!==0&&y.push({event:x,listeners:q})}var cRe=/\r\n?/g,dRe=/\u0000|\uFFFD/g;function JQ(y){return(typeof y=="string"?y:""+y).replace(cRe,`
`).replace(dRe,"")}function hO(y,x,T){if(x=JQ(x),JQ(y)!==x&&T)throw Error(n(425))}function pO(){}var y9=null,_9=null;function b9(y,x){return y==="textarea"||y==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var S9=typeof setTimeout=="function"?setTimeout:void 0,hRe=typeof clearTimeout=="function"?clearTimeout:void 0,eJ=typeof Promise=="function"?Promise:void 0,pRe=typeof queueMicrotask=="function"?queueMicrotask:typeof eJ<"u"?function(y){return eJ.resolve(null).then(y).catch(fRe)}:S9;function fRe(y){setTimeout(function(){throw y})}function x9(y,x){var T=x,I=0;do{var $=T.nextSibling;if(y.removeChild(T),$&&$.nodeType===8)if(T=$.data,T==="/$"){if(I===0){y.removeChild($),_p(x);return}I--}else T!=="$"&&T!=="$?"&&T!=="$!"||I++;T=$}while(T);_p(x)}function Cm(y){for(;y!=null;y=y.nextSibling){var x=y.nodeType;if(x===1||x===3)break;if(x===8){if(x=y.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return y}function tJ(y){y=y.previousSibling;for(var x=0;y;){if(y.nodeType===8){var T=y.data;if(T==="$"||T==="$!"||T==="$?"){if(x===0)return y;x--}else T==="/$"&&x++}y=y.previousSibling}return null}var zb=Math.random().toString(36).slice(2),xp="__reactFiber$"+zb,IC="__reactProps$"+zb,$f="__reactContainer$"+zb,w9="__reactEvents$"+zb,gRe="__reactListeners$"+zb,mRe="__reactHandles$"+zb;function U0(y){var x=y[xp];if(x)return x;for(var T=y.parentNode;T;){if(x=T[$f]||T[xp]){if(T=x.alternate,x.child!==null||T!==null&&T.child!==null)for(y=tJ(y);y!==null;){if(T=y[xp])return T;y=tJ(y)}return x}y=T,T=y.parentNode}return null}function RC(y){return y=y[xp]||y[$f],!y||y.tag!==5&&y.tag!==6&&y.tag!==13&&y.tag!==3?null:y}function Hb(y){if(y.tag===5||y.tag===6)return y.stateNode;throw Error(n(33))}function fO(y){return y[IC]||null}var C9=[],Vb=-1;function km(y){return{current:y}}function rs(y){0>Vb||(y.current=C9[Vb],C9[Vb]=null,Vb--)}function Kr(y,x){Vb++,C9[Vb]=y.current,y.current=x}var Em={},il=km(Em),xu=km(!1),G0=Em;function Wb(y,x){var T=y.type.contextTypes;if(!T)return Em;var I=y.stateNode;if(I&&I.__reactInternalMemoizedUnmaskedChildContext===x)return I.__reactInternalMemoizedMaskedChildContext;var $={},V;for(V in T)$[V]=x[V];return I&&(y=y.stateNode,y.__reactInternalMemoizedUnmaskedChildContext=x,y.__reactInternalMemoizedMaskedChildContext=$),$}function wu(y){return y=y.childContextTypes,y!=null}function gO(){rs(xu),rs(il)}function iJ(y,x,T){if(il.current!==Em)throw Error(n(168));Kr(il,x),Kr(xu,T)}function nJ(y,x,T){var I=y.stateNode;if(x=x.childContextTypes,typeof I.getChildContext!="function")return T;I=I.getChildContext();for(var $ in I)if(!($ in x))throw Error(n(108,te(y)||"Unknown",$));return j({},T,I)}function mO(y){return y=(y=y.stateNode)&&y.__reactInternalMemoizedMergedChildContext||Em,G0=il.current,Kr(il,y),Kr(xu,xu.current),!0}function rJ(y,x,T){var I=y.stateNode;if(!I)throw Error(n(169));T?(y=nJ(y,x,G0),I.__reactInternalMemoizedMergedChildContext=y,rs(xu),rs(il),Kr(il,y)):rs(xu),Kr(xu,T)}var Nf=null,vO=!1,k9=!1;function sJ(y){Nf===null?Nf=[y]:Nf.push(y)}function vRe(y){vO=!0,sJ(y)}function Am(){if(!k9&&Nf!==null){k9=!0;var y=0,x=Wi;try{var T=Nf;for(Wi=1;y<T.length;y++){var I=T[y];do I=I(!0);while(I!==null)}Nf=null,vO=!1}catch($){throw Nf!==null&&(Nf=Nf.slice(y+1)),Qs(Jc,Am),$}finally{Wi=x,k9=!1}}return null}var Ub=[],Gb=0,yO=null,_O=0,nd=[],rd=0,Y0=null,jf=1,zf="";function K0(y,x){Ub[Gb++]=_O,Ub[Gb++]=yO,yO=y,_O=x}function aJ(y,x,T){nd[rd++]=jf,nd[rd++]=zf,nd[rd++]=Y0,Y0=y;var I=jf;y=zf;var $=32-is(I)-1;I&=~(1<<$),T+=1;var V=32-is(x)+$;if(30<V){var q=$-$%5;V=(I&(1<<q)-1).toString(32),I>>=q,$-=q,jf=1<<32-is(x)+$|T<<$|I,zf=V+y}else jf=1<<V|T<<$|I,zf=y}function E9(y){y.return!==null&&(K0(y,1),aJ(y,1,0))}function A9(y){for(;y===yO;)yO=Ub[--Gb],Ub[Gb]=null,_O=Ub[--Gb],Ub[Gb]=null;for(;y===Y0;)Y0=nd[--rd],nd[rd]=null,zf=nd[--rd],nd[rd]=null,jf=nd[--rd],nd[rd]=null}var ac=null,oc=null,ws=!1,ph=null;function oJ(y,x){var T=ld(5,null,null,0);T.elementType="DELETED",T.stateNode=x,T.return=y,x=y.deletions,x===null?(y.deletions=[T],y.flags|=16):x.push(T)}function lJ(y,x){switch(y.tag){case 5:var T=y.type;return x=x.nodeType!==1||T.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(y.stateNode=x,ac=y,oc=Cm(x.firstChild),!0):!1;case 6:return x=y.pendingProps===""||x.nodeType!==3?null:x,x!==null?(y.stateNode=x,ac=y,oc=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(T=Y0!==null?{id:jf,overflow:zf}:null,y.memoizedState={dehydrated:x,treeContext:T,retryLane:1073741824},T=ld(18,null,null,0),T.stateNode=x,T.return=y,y.child=T,ac=y,oc=null,!0):!1;default:return!1}}function T9(y){return(y.mode&1)!==0&&(y.flags&128)===0}function P9(y){if(ws){var x=oc;if(x){var T=x;if(!lJ(y,x)){if(T9(y))throw Error(n(418));x=Cm(T.nextSibling);var I=ac;x&&lJ(y,x)?oJ(I,T):(y.flags=y.flags&-4097|2,ws=!1,ac=y)}}else{if(T9(y))throw Error(n(418));y.flags=y.flags&-4097|2,ws=!1,ac=y}}}function uJ(y){for(y=y.return;y!==null&&y.tag!==5&&y.tag!==3&&y.tag!==13;)y=y.return;ac=y}function bO(y){if(y!==ac)return!1;if(!ws)return uJ(y),ws=!0,!1;var x;if((x=y.tag!==3)&&!(x=y.tag!==5)&&(x=y.type,x=x!=="head"&&x!=="body"&&!b9(y.type,y.memoizedProps)),x&&(x=oc)){if(T9(y))throw cJ(),Error(n(418));for(;x;)oJ(y,x),x=Cm(x.nextSibling)}if(uJ(y),y.tag===13){if(y=y.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));e:{for(y=y.nextSibling,x=0;y;){if(y.nodeType===8){var T=y.data;if(T==="/$"){if(x===0){oc=Cm(y.nextSibling);break e}x--}else T!=="$"&&T!=="$!"&&T!=="$?"||x++}y=y.nextSibling}oc=null}}else oc=ac?Cm(y.stateNode.nextSibling):null;return!0}function cJ(){for(var y=oc;y;)y=Cm(y.nextSibling)}function Yb(){oc=ac=null,ws=!1}function O9(y){ph===null?ph=[y]:ph.push(y)}var yRe=C.ReactCurrentBatchConfig;function fh(y,x){if(y&&y.defaultProps){x=j({},x),y=y.defaultProps;for(var T in y)x[T]===void 0&&(x[T]=y[T]);return x}return x}var SO=km(null),xO=null,Kb=null,M9=null;function I9(){M9=Kb=xO=null}function R9(y){var x=SO.current;rs(SO),y._currentValue=x}function D9(y,x,T){for(;y!==null;){var I=y.alternate;if((y.childLanes&x)!==x?(y.childLanes|=x,I!==null&&(I.childLanes|=x)):I!==null&&(I.childLanes&x)!==x&&(I.childLanes|=x),y===T)break;y=y.return}}function Xb(y,x){xO=y,M9=Kb=null,y=y.dependencies,y!==null&&y.firstContext!==null&&(y.lanes&x&&(Cu=!0),y.firstContext=null)}function sd(y){var x=y._currentValue;if(M9!==y)if(y={context:y,memoizedValue:x,next:null},Kb===null){if(xO===null)throw Error(n(308));Kb=y,xO.dependencies={lanes:0,firstContext:y}}else Kb=Kb.next=y;return x}var X0=null;function L9(y){X0===null?X0=[y]:X0.push(y)}function dJ(y,x,T,I){var $=x.interleaved;return $===null?(T.next=T,L9(x)):(T.next=$.next,$.next=T),x.interleaved=T,Hf(y,I)}function Hf(y,x){y.lanes|=x;var T=y.alternate;for(T!==null&&(T.lanes|=x),T=y,y=y.return;y!==null;)y.childLanes|=x,T=y.alternate,T!==null&&(T.childLanes|=x),T=y,y=y.return;return T.tag===3?T.stateNode:null}var Tm=!1;function F9(y){y.updateQueue={baseState:y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hJ(y,x){y=y.updateQueue,x.updateQueue===y&&(x.updateQueue={baseState:y.baseState,firstBaseUpdate:y.firstBaseUpdate,lastBaseUpdate:y.lastBaseUpdate,shared:y.shared,effects:y.effects})}function Vf(y,x){return{eventTime:y,lane:x,tag:0,payload:null,callback:null,next:null}}function Pm(y,x,T){var I=y.updateQueue;if(I===null)return null;if(I=I.shared,Un&2){var $=I.pending;return $===null?x.next=x:(x.next=$.next,$.next=x),I.pending=x,Hf(y,T)}return $=I.interleaved,$===null?(x.next=x,L9(I)):(x.next=$.next,$.next=x),I.interleaved=x,Hf(y,T)}function wO(y,x,T){if(x=x.updateQueue,x!==null&&(x=x.shared,(T&4194240)!==0)){var I=x.lanes;I&=y.pendingLanes,T|=I,x.lanes=T,el(y,T)}}function pJ(y,x){var T=y.updateQueue,I=y.alternate;if(I!==null&&(I=I.updateQueue,T===I)){var $=null,V=null;if(T=T.firstBaseUpdate,T!==null){do{var q={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};V===null?$=V=q:V=V.next=q,T=T.next}while(T!==null);V===null?$=V=x:V=V.next=x}else $=V=x;T={baseState:I.baseState,firstBaseUpdate:$,lastBaseUpdate:V,shared:I.shared,effects:I.effects},y.updateQueue=T;return}y=T.lastBaseUpdate,y===null?T.firstBaseUpdate=x:y.next=x,T.lastBaseUpdate=x}function CO(y,x,T,I){var $=y.updateQueue;Tm=!1;var V=$.firstBaseUpdate,q=$.lastBaseUpdate,de=$.shared.pending;if(de!==null){$.shared.pending=null;var me=de,Be=me.next;me.next=null,q===null?V=Be:q.next=Be,q=me;var yt=y.alternate;yt!==null&&(yt=yt.updateQueue,de=yt.lastBaseUpdate,de!==q&&(de===null?yt.firstBaseUpdate=Be:de.next=Be,yt.lastBaseUpdate=me))}if(V!==null){var bt=$.baseState;q=0,yt=Be=me=null,de=V;do{var gt=de.lane,Wt=de.eventTime;if((I&gt)===gt){yt!==null&&(yt=yt.next={eventTime:Wt,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var ri=y,oi=de;switch(gt=x,Wt=T,oi.tag){case 1:if(ri=oi.payload,typeof ri=="function"){bt=ri.call(Wt,bt,gt);break e}bt=ri;break e;case 3:ri.flags=ri.flags&-65537|128;case 0:if(ri=oi.payload,gt=typeof ri=="function"?ri.call(Wt,bt,gt):ri,gt==null)break e;bt=j({},bt,gt);break e;case 2:Tm=!0}}de.callback!==null&&de.lane!==0&&(y.flags|=64,gt=$.effects,gt===null?$.effects=[de]:gt.push(de))}else Wt={eventTime:Wt,lane:gt,tag:de.tag,payload:de.payload,callback:de.callback,next:null},yt===null?(Be=yt=Wt,me=bt):yt=yt.next=Wt,q|=gt;if(de=de.next,de===null){if(de=$.shared.pending,de===null)break;gt=de,de=gt.next,gt.next=null,$.lastBaseUpdate=gt,$.shared.pending=null}}while(!0);if(yt===null&&(me=bt),$.baseState=me,$.firstBaseUpdate=Be,$.lastBaseUpdate=yt,x=$.shared.interleaved,x!==null){$=x;do q|=$.lane,$=$.next;while($!==x)}else V===null&&($.shared.lanes=0);Q0|=q,y.lanes=q,y.memoizedState=bt}}function fJ(y,x,T){if(y=x.effects,x.effects=null,y!==null)for(x=0;x<y.length;x++){var I=y[x],$=I.callback;if($!==null){if(I.callback=null,I=T,typeof $!="function")throw Error(n(191,$));$.call(I)}}}var gJ=new e.Component().refs;function B9(y,x,T,I){x=y.memoizedState,T=T(I,x),T=T==null?x:j({},x,T),y.memoizedState=T,y.lanes===0&&(y.updateQueue.baseState=T)}var kO={isMounted:function(y){return(y=y._reactInternals)?It(y)===y:!1},enqueueSetState:function(y,x,T){y=y._reactInternals;var I=zl(),$=Rm(y),V=Vf(I,$);V.payload=x,T!=null&&(V.callback=T),x=Pm(y,V,$),x!==null&&(vh(x,y,$,I),wO(x,y,$))},enqueueReplaceState:function(y,x,T){y=y._reactInternals;var I=zl(),$=Rm(y),V=Vf(I,$);V.tag=1,V.payload=x,T!=null&&(V.callback=T),x=Pm(y,V,$),x!==null&&(vh(x,y,$,I),wO(x,y,$))},enqueueForceUpdate:function(y,x){y=y._reactInternals;var T=zl(),I=Rm(y),$=Vf(T,I);$.tag=2,x!=null&&($.callback=x),x=Pm(y,$,I),x!==null&&(vh(x,y,I,T),wO(x,y,I))}};function mJ(y,x,T,I,$,V,q){return y=y.stateNode,typeof y.shouldComponentUpdate=="function"?y.shouldComponentUpdate(I,V,q):x.prototype&&x.prototype.isPureReactComponent?!AC(T,I)||!AC($,V):!0}function vJ(y,x,T){var I=!1,$=Em,V=x.contextType;return typeof V=="object"&&V!==null?V=sd(V):($=wu(x)?G0:il.current,I=x.contextTypes,V=(I=I!=null)?Wb(y,$):Em),x=new x(T,V),y.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=kO,y.stateNode=x,x._reactInternals=y,I&&(y=y.stateNode,y.__reactInternalMemoizedUnmaskedChildContext=$,y.__reactInternalMemoizedMaskedChildContext=V),x}function yJ(y,x,T,I){y=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(T,I),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(T,I),x.state!==y&&kO.enqueueReplaceState(x,x.state,null)}function $9(y,x,T,I){var $=y.stateNode;$.props=T,$.state=y.memoizedState,$.refs=gJ,F9(y);var V=x.contextType;typeof V=="object"&&V!==null?$.context=sd(V):(V=wu(x)?G0:il.current,$.context=Wb(y,V)),$.state=y.memoizedState,V=x.getDerivedStateFromProps,typeof V=="function"&&(B9(y,x,V,T),$.state=y.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(x=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),x!==$.state&&kO.enqueueReplaceState($,$.state,null),CO(y,T,$,I),$.state=y.memoizedState),typeof $.componentDidMount=="function"&&(y.flags|=4194308)}function DC(y,x,T){if(y=T.ref,y!==null&&typeof y!="function"&&typeof y!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(n(309));var I=T.stateNode}if(!I)throw Error(n(147,y));var $=I,V=""+y;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===V?x.ref:(x=function(q){var de=$.refs;de===gJ&&(de=$.refs={}),q===null?delete de[V]:de[V]=q},x._stringRef=V,x)}if(typeof y!="string")throw Error(n(284));if(!T._owner)throw Error(n(290,y))}return y}function EO(y,x){throw y=Object.prototype.toString.call(x),Error(n(31,y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":y))}function _J(y){var x=y._init;return x(y._payload)}function bJ(y){function x(Me,Se){if(y){var Le=Me.deletions;Le===null?(Me.deletions=[Se],Me.flags|=16):Le.push(Se)}}function T(Me,Se){if(!y)return null;for(;Se!==null;)x(Me,Se),Se=Se.sibling;return null}function I(Me,Se){for(Me=new Map;Se!==null;)Se.key!==null?Me.set(Se.key,Se):Me.set(Se.index,Se),Se=Se.sibling;return Me}function $(Me,Se){return Me=Lm(Me,Se),Me.index=0,Me.sibling=null,Me}function V(Me,Se,Le){return Me.index=Le,y?(Le=Me.alternate,Le!==null?(Le=Le.index,Le<Se?(Me.flags|=2,Se):Le):(Me.flags|=2,Se)):(Me.flags|=1048576,Se)}function q(Me){return y&&Me.alternate===null&&(Me.flags|=2),Me}function de(Me,Se,Le,kt){return Se===null||Se.tag!==6?(Se=bN(Le,Me.mode,kt),Se.return=Me,Se):(Se=$(Se,Le),Se.return=Me,Se)}function me(Me,Se,Le,kt){var hi=Le.type;return hi===A?yt(Me,Se,Le.props.children,kt,Le.key):Se!==null&&(Se.elementType===hi||typeof hi=="object"&&hi!==null&&hi.$$typeof===z&&_J(hi)===Se.type)?(kt=$(Se,Le.props),kt.ref=DC(Me,Se,Le),kt.return=Me,kt):(kt=UO(Le.type,Le.key,Le.props,null,Me.mode,kt),kt.ref=DC(Me,Se,Le),kt.return=Me,kt)}function Be(Me,Se,Le,kt){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Le.containerInfo||Se.stateNode.implementation!==Le.implementation?(Se=SN(Le,Me.mode,kt),Se.return=Me,Se):(Se=$(Se,Le.children||[]),Se.return=Me,Se)}function yt(Me,Se,Le,kt,hi){return Se===null||Se.tag!==7?(Se=iy(Le,Me.mode,kt,hi),Se.return=Me,Se):(Se=$(Se,Le),Se.return=Me,Se)}function bt(Me,Se,Le){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Se=bN(""+Se,Me.mode,Le),Se.return=Me,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case k:return Le=UO(Se.type,Se.key,Se.props,null,Me.mode,Le),Le.ref=DC(Me,null,Se),Le.return=Me,Le;case E:return Se=SN(Se,Me.mode,Le),Se.return=Me,Se;case z:var kt=Se._init;return bt(Me,kt(Se._payload),Le)}if(We(Se)||G(Se))return Se=iy(Se,Me.mode,Le,null),Se.return=Me,Se;EO(Me,Se)}return null}function gt(Me,Se,Le,kt){var hi=Se!==null?Se.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number")return hi!==null?null:de(Me,Se,""+Le,kt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case k:return Le.key===hi?me(Me,Se,Le,kt):null;case E:return Le.key===hi?Be(Me,Se,Le,kt):null;case z:return hi=Le._init,gt(Me,Se,hi(Le._payload),kt)}if(We(Le)||G(Le))return hi!==null?null:yt(Me,Se,Le,kt,null);EO(Me,Le)}return null}function Wt(Me,Se,Le,kt,hi){if(typeof kt=="string"&&kt!==""||typeof kt=="number")return Me=Me.get(Le)||null,de(Se,Me,""+kt,hi);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case k:return Me=Me.get(kt.key===null?Le:kt.key)||null,me(Se,Me,kt,hi);case E:return Me=Me.get(kt.key===null?Le:kt.key)||null,Be(Se,Me,kt,hi);case z:var Pi=kt._init;return Wt(Me,Se,Le,Pi(kt._payload),hi)}if(We(kt)||G(kt))return Me=Me.get(Le)||null,yt(Se,Me,kt,hi,null);EO(Se,kt)}return null}function ri(Me,Se,Le,kt){for(var hi=null,Pi=null,Oi=Se,$i=Se=0,co=null;Oi!==null&&$i<Le.length;$i++){Oi.index>$i?(co=Oi,Oi=null):co=Oi.sibling;var tr=gt(Me,Oi,Le[$i],kt);if(tr===null){Oi===null&&(Oi=co);break}y&&Oi&&tr.alternate===null&&x(Me,Oi),Se=V(tr,Se,$i),Pi===null?hi=tr:Pi.sibling=tr,Pi=tr,Oi=co}if($i===Le.length)return T(Me,Oi),ws&&K0(Me,$i),hi;if(Oi===null){for(;$i<Le.length;$i++)Oi=bt(Me,Le[$i],kt),Oi!==null&&(Se=V(Oi,Se,$i),Pi===null?hi=Oi:Pi.sibling=Oi,Pi=Oi);return ws&&K0(Me,$i),hi}for(Oi=I(Me,Oi);$i<Le.length;$i++)co=Wt(Oi,Me,$i,Le[$i],kt),co!==null&&(y&&co.alternate!==null&&Oi.delete(co.key===null?$i:co.key),Se=V(co,Se,$i),Pi===null?hi=co:Pi.sibling=co,Pi=co);return y&&Oi.forEach(function(Fm){return x(Me,Fm)}),ws&&K0(Me,$i),hi}function oi(Me,Se,Le,kt){var hi=G(Le);if(typeof hi!="function")throw Error(n(150));if(Le=hi.call(Le),Le==null)throw Error(n(151));for(var Pi=hi=null,Oi=Se,$i=Se=0,co=null,tr=Le.next();Oi!==null&&!tr.done;$i++,tr=Le.next()){Oi.index>$i?(co=Oi,Oi=null):co=Oi.sibling;var Fm=gt(Me,Oi,tr.value,kt);if(Fm===null){Oi===null&&(Oi=co);break}y&&Oi&&Fm.alternate===null&&x(Me,Oi),Se=V(Fm,Se,$i),Pi===null?hi=Fm:Pi.sibling=Fm,Pi=Fm,Oi=co}if(tr.done)return T(Me,Oi),ws&&K0(Me,$i),hi;if(Oi===null){for(;!tr.done;$i++,tr=Le.next())tr=bt(Me,tr.value,kt),tr!==null&&(Se=V(tr,Se,$i),Pi===null?hi=tr:Pi.sibling=tr,Pi=tr);return ws&&K0(Me,$i),hi}for(Oi=I(Me,Oi);!tr.done;$i++,tr=Le.next())tr=Wt(Oi,Me,$i,tr.value,kt),tr!==null&&(y&&tr.alternate!==null&&Oi.delete(tr.key===null?$i:tr.key),Se=V(tr,Se,$i),Pi===null?hi=tr:Pi.sibling=tr,Pi=tr);return y&&Oi.forEach(function(ZRe){return x(Me,ZRe)}),ws&&K0(Me,$i),hi}function pa(Me,Se,Le,kt){if(typeof Le=="object"&&Le!==null&&Le.type===A&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case k:e:{for(var hi=Le.key,Pi=Se;Pi!==null;){if(Pi.key===hi){if(hi=Le.type,hi===A){if(Pi.tag===7){T(Me,Pi.sibling),Se=$(Pi,Le.props.children),Se.return=Me,Me=Se;break e}}else if(Pi.elementType===hi||typeof hi=="object"&&hi!==null&&hi.$$typeof===z&&_J(hi)===Pi.type){T(Me,Pi.sibling),Se=$(Pi,Le.props),Se.ref=DC(Me,Pi,Le),Se.return=Me,Me=Se;break e}T(Me,Pi);break}else x(Me,Pi);Pi=Pi.sibling}Le.type===A?(Se=iy(Le.props.children,Me.mode,kt,Le.key),Se.return=Me,Me=Se):(kt=UO(Le.type,Le.key,Le.props,null,Me.mode,kt),kt.ref=DC(Me,Se,Le),kt.return=Me,Me=kt)}return q(Me);case E:e:{for(Pi=Le.key;Se!==null;){if(Se.key===Pi)if(Se.tag===4&&Se.stateNode.containerInfo===Le.containerInfo&&Se.stateNode.implementation===Le.implementation){T(Me,Se.sibling),Se=$(Se,Le.children||[]),Se.return=Me,Me=Se;break e}else{T(Me,Se);break}else x(Me,Se);Se=Se.sibling}Se=SN(Le,Me.mode,kt),Se.return=Me,Me=Se}return q(Me);case z:return Pi=Le._init,pa(Me,Se,Pi(Le._payload),kt)}if(We(Le))return ri(Me,Se,Le,kt);if(G(Le))return oi(Me,Se,Le,kt);EO(Me,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"?(Le=""+Le,Se!==null&&Se.tag===6?(T(Me,Se.sibling),Se=$(Se,Le),Se.return=Me,Me=Se):(T(Me,Se),Se=bN(Le,Me.mode,kt),Se.return=Me,Me=Se),q(Me)):T(Me,Se)}return pa}var qb=bJ(!0),SJ=bJ(!1),LC={},wp=km(LC),FC=km(LC),BC=km(LC);function q0(y){if(y===LC)throw Error(n(174));return y}function N9(y,x){switch(Kr(BC,x),Kr(FC,y),Kr(wp,LC),y=x.nodeType,y){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:Je(null,"");break;default:y=y===8?x.parentNode:x,x=y.namespaceURI||null,y=y.tagName,x=Je(x,y)}rs(wp),Kr(wp,x)}function Zb(){rs(wp),rs(FC),rs(BC)}function xJ(y){q0(BC.current);var x=q0(wp.current),T=Je(x,y.type);x!==T&&(Kr(FC,y),Kr(wp,T))}function j9(y){FC.current===y&&(rs(wp),rs(FC))}var Bs=km(0);function AO(y){for(var x=y;x!==null;){if(x.tag===13){var T=x.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||T.data==="$?"||T.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if(x.flags&128)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===y)break;for(;x.sibling===null;){if(x.return===null||x.return===y)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var z9=[];function H9(){for(var y=0;y<z9.length;y++)z9[y]._workInProgressVersionPrimary=null;z9.length=0}var TO=C.ReactCurrentDispatcher,V9=C.ReactCurrentBatchConfig,Z0=0,$s=null,Ha=null,lo=null,PO=!1,$C=!1,NC=0,_Re=0;function nl(){throw Error(n(321))}function W9(y,x){if(x===null)return!1;for(var T=0;T<x.length&&T<y.length;T++)if(!hh(y[T],x[T]))return!1;return!0}function U9(y,x,T,I,$,V){if(Z0=V,$s=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,TO.current=y===null||y.memoizedState===null?wRe:CRe,y=T(I,$),$C){V=0;do{if($C=!1,NC=0,25<=V)throw Error(n(301));V+=1,lo=Ha=null,x.updateQueue=null,TO.current=kRe,y=T(I,$)}while($C)}if(TO.current=IO,x=Ha!==null&&Ha.next!==null,Z0=0,lo=Ha=$s=null,PO=!1,x)throw Error(n(300));return y}function G9(){var y=NC!==0;return NC=0,y}function Cp(){var y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lo===null?$s.memoizedState=lo=y:lo=lo.next=y,lo}function ad(){if(Ha===null){var y=$s.alternate;y=y!==null?y.memoizedState:null}else y=Ha.next;var x=lo===null?$s.memoizedState:lo.next;if(x!==null)lo=x,Ha=y;else{if(y===null)throw Error(n(310));Ha=y,y={memoizedState:Ha.memoizedState,baseState:Ha.baseState,baseQueue:Ha.baseQueue,queue:Ha.queue,next:null},lo===null?$s.memoizedState=lo=y:lo=lo.next=y}return lo}function jC(y,x){return typeof x=="function"?x(y):x}function Y9(y){var x=ad(),T=x.queue;if(T===null)throw Error(n(311));T.lastRenderedReducer=y;var I=Ha,$=I.baseQueue,V=T.pending;if(V!==null){if($!==null){var q=$.next;$.next=V.next,V.next=q}I.baseQueue=$=V,T.pending=null}if($!==null){V=$.next,I=I.baseState;var de=q=null,me=null,Be=V;do{var yt=Be.lane;if((Z0&yt)===yt)me!==null&&(me=me.next={lane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),I=Be.hasEagerState?Be.eagerState:y(I,Be.action);else{var bt={lane:yt,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};me===null?(de=me=bt,q=I):me=me.next=bt,$s.lanes|=yt,Q0|=yt}Be=Be.next}while(Be!==null&&Be!==V);me===null?q=I:me.next=de,hh(I,x.memoizedState)||(Cu=!0),x.memoizedState=I,x.baseState=q,x.baseQueue=me,T.lastRenderedState=I}if(y=T.interleaved,y!==null){$=y;do V=$.lane,$s.lanes|=V,Q0|=V,$=$.next;while($!==y)}else $===null&&(T.lanes=0);return[x.memoizedState,T.dispatch]}function K9(y){var x=ad(),T=x.queue;if(T===null)throw Error(n(311));T.lastRenderedReducer=y;var I=T.dispatch,$=T.pending,V=x.memoizedState;if($!==null){T.pending=null;var q=$=$.next;do V=y(V,q.action),q=q.next;while(q!==$);hh(V,x.memoizedState)||(Cu=!0),x.memoizedState=V,x.baseQueue===null&&(x.baseState=V),T.lastRenderedState=V}return[V,I]}function wJ(){}function CJ(y,x){var T=$s,I=ad(),$=x(),V=!hh(I.memoizedState,$);if(V&&(I.memoizedState=$,Cu=!0),I=I.queue,X9(AJ.bind(null,T,I,y),[y]),I.getSnapshot!==x||V||lo!==null&&lo.memoizedState.tag&1){if(T.flags|=2048,zC(9,EJ.bind(null,T,I,$,x),void 0,null),uo===null)throw Error(n(349));Z0&30||kJ(T,x,$)}return $}function kJ(y,x,T){y.flags|=16384,y={getSnapshot:x,value:T},x=$s.updateQueue,x===null?(x={lastEffect:null,stores:null},$s.updateQueue=x,x.stores=[y]):(T=x.stores,T===null?x.stores=[y]:T.push(y))}function EJ(y,x,T,I){x.value=T,x.getSnapshot=I,TJ(x)&&PJ(y)}function AJ(y,x,T){return T(function(){TJ(x)&&PJ(y)})}function TJ(y){var x=y.getSnapshot;y=y.value;try{var T=x();return!hh(y,T)}catch{return!0}}function PJ(y){var x=Hf(y,1);x!==null&&vh(x,y,1,-1)}function OJ(y){var x=Cp();return typeof y=="function"&&(y=y()),x.memoizedState=x.baseState=y,y={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jC,lastRenderedState:y},x.queue=y,y=y.dispatch=xRe.bind(null,$s,y),[x.memoizedState,y]}function zC(y,x,T,I){return y={tag:y,create:x,destroy:T,deps:I,next:null},x=$s.updateQueue,x===null?(x={lastEffect:null,stores:null},$s.updateQueue=x,x.lastEffect=y.next=y):(T=x.lastEffect,T===null?x.lastEffect=y.next=y:(I=T.next,T.next=y,y.next=I,x.lastEffect=y)),y}function MJ(){return ad().memoizedState}function OO(y,x,T,I){var $=Cp();$s.flags|=y,$.memoizedState=zC(1|x,T,void 0,I===void 0?null:I)}function MO(y,x,T,I){var $=ad();I=I===void 0?null:I;var V=void 0;if(Ha!==null){var q=Ha.memoizedState;if(V=q.destroy,I!==null&&W9(I,q.deps)){$.memoizedState=zC(x,T,V,I);return}}$s.flags|=y,$.memoizedState=zC(1|x,T,V,I)}function IJ(y,x){return OO(8390656,8,y,x)}function X9(y,x){return MO(2048,8,y,x)}function RJ(y,x){return MO(4,2,y,x)}function DJ(y,x){return MO(4,4,y,x)}function LJ(y,x){if(typeof x=="function")return y=y(),x(y),function(){x(null)};if(x!=null)return y=y(),x.current=y,function(){x.current=null}}function FJ(y,x,T){return T=T!=null?T.concat([y]):null,MO(4,4,LJ.bind(null,x,y),T)}function q9(){}function BJ(y,x){var T=ad();x=x===void 0?null:x;var I=T.memoizedState;return I!==null&&x!==null&&W9(x,I[1])?I[0]:(T.memoizedState=[y,x],y)}function $J(y,x){var T=ad();x=x===void 0?null:x;var I=T.memoizedState;return I!==null&&x!==null&&W9(x,I[1])?I[0]:(y=y(),T.memoizedState=[y,x],y)}function NJ(y,x,T){return Z0&21?(hh(T,x)||(T=ao(),$s.lanes|=T,Q0|=T,y.baseState=!0),x):(y.baseState&&(y.baseState=!1,Cu=!0),y.memoizedState=T)}function bRe(y,x){var T=Wi;Wi=T!==0&&4>T?T:4,y(!0);var I=V9.transition;V9.transition={};try{y(!1),x()}finally{Wi=T,V9.transition=I}}function jJ(){return ad().memoizedState}function SRe(y,x,T){var I=Rm(y);if(T={lane:I,action:T,hasEagerState:!1,eagerState:null,next:null},zJ(y))HJ(x,T);else if(T=dJ(y,x,T,I),T!==null){var $=zl();vh(T,y,I,$),VJ(T,x,I)}}function xRe(y,x,T){var I=Rm(y),$={lane:I,action:T,hasEagerState:!1,eagerState:null,next:null};if(zJ(y))HJ(x,$);else{var V=y.alternate;if(y.lanes===0&&(V===null||V.lanes===0)&&(V=x.lastRenderedReducer,V!==null))try{var q=x.lastRenderedState,de=V(q,T);if($.hasEagerState=!0,$.eagerState=de,hh(de,q)){var me=x.interleaved;me===null?($.next=$,L9(x)):($.next=me.next,me.next=$),x.interleaved=$;return}}catch{}finally{}T=dJ(y,x,$,I),T!==null&&($=zl(),vh(T,y,I,$),VJ(T,x,I))}}function zJ(y){var x=y.alternate;return y===$s||x!==null&&x===$s}function HJ(y,x){$C=PO=!0;var T=y.pending;T===null?x.next=x:(x.next=T.next,T.next=x),y.pending=x}function VJ(y,x,T){if(T&4194240){var I=x.lanes;I&=y.pendingLanes,T|=I,x.lanes=T,el(y,T)}}var IO={readContext:sd,useCallback:nl,useContext:nl,useEffect:nl,useImperativeHandle:nl,useInsertionEffect:nl,useLayoutEffect:nl,useMemo:nl,useReducer:nl,useRef:nl,useState:nl,useDebugValue:nl,useDeferredValue:nl,useTransition:nl,useMutableSource:nl,useSyncExternalStore:nl,useId:nl,unstable_isNewReconciler:!1},wRe={readContext:sd,useCallback:function(y,x){return Cp().memoizedState=[y,x===void 0?null:x],y},useContext:sd,useEffect:IJ,useImperativeHandle:function(y,x,T){return T=T!=null?T.concat([y]):null,OO(4194308,4,LJ.bind(null,x,y),T)},useLayoutEffect:function(y,x){return OO(4194308,4,y,x)},useInsertionEffect:function(y,x){return OO(4,2,y,x)},useMemo:function(y,x){var T=Cp();return x=x===void 0?null:x,y=y(),T.memoizedState=[y,x],y},useReducer:function(y,x,T){var I=Cp();return x=T!==void 0?T(x):x,I.memoizedState=I.baseState=x,y={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:y,lastRenderedState:x},I.queue=y,y=y.dispatch=SRe.bind(null,$s,y),[I.memoizedState,y]},useRef:function(y){var x=Cp();return y={current:y},x.memoizedState=y},useState:OJ,useDebugValue:q9,useDeferredValue:function(y){return Cp().memoizedState=y},useTransition:function(){var y=OJ(!1),x=y[0];return y=bRe.bind(null,y[1]),Cp().memoizedState=y,[x,y]},useMutableSource:function(){},useSyncExternalStore:function(y,x,T){var I=$s,$=Cp();if(ws){if(T===void 0)throw Error(n(407));T=T()}else{if(T=x(),uo===null)throw Error(n(349));Z0&30||kJ(I,x,T)}$.memoizedState=T;var V={value:T,getSnapshot:x};return $.queue=V,IJ(AJ.bind(null,I,V,y),[y]),I.flags|=2048,zC(9,EJ.bind(null,I,V,T,x),void 0,null),T},useId:function(){var y=Cp(),x=uo.identifierPrefix;if(ws){var T=zf,I=jf;T=(I&~(1<<32-is(I)-1)).toString(32)+T,x=":"+x+"R"+T,T=NC++,0<T&&(x+="H"+T.toString(32)),x+=":"}else T=_Re++,x=":"+x+"r"+T.toString(32)+":";return y.memoizedState=x},unstable_isNewReconciler:!1},CRe={readContext:sd,useCallback:BJ,useContext:sd,useEffect:X9,useImperativeHandle:FJ,useInsertionEffect:RJ,useLayoutEffect:DJ,useMemo:$J,useReducer:Y9,useRef:MJ,useState:function(){return Y9(jC)},useDebugValue:q9,useDeferredValue:function(y){var x=ad();return NJ(x,Ha.memoizedState,y)},useTransition:function(){var y=Y9(jC)[0],x=ad().memoizedState;return[y,x]},useMutableSource:wJ,useSyncExternalStore:CJ,useId:jJ,unstable_isNewReconciler:!1},kRe={readContext:sd,useCallback:BJ,useContext:sd,useEffect:X9,useImperativeHandle:FJ,useInsertionEffect:RJ,useLayoutEffect:DJ,useMemo:$J,useReducer:K9,useRef:MJ,useState:function(){return K9(jC)},useDebugValue:q9,useDeferredValue:function(y){var x=ad();return Ha===null?x.memoizedState=y:NJ(x,Ha.memoizedState,y)},useTransition:function(){var y=K9(jC)[0],x=ad().memoizedState;return[y,x]},useMutableSource:wJ,useSyncExternalStore:CJ,useId:jJ,unstable_isNewReconciler:!1};function Qb(y,x){try{var T="",I=x;do T+=J(I),I=I.return;while(I);var $=T}catch(V){$=`
Error generating stack: `+V.message+`
`+V.stack}return{value:y,source:x,stack:$,digest:null}}function Z9(y,x,T){return{value:y,source:null,stack:T??null,digest:x??null}}function Q9(y,x){try{console.error(x.value)}catch(T){setTimeout(function(){throw T})}}var ERe=typeof WeakMap=="function"?WeakMap:Map;function WJ(y,x,T){T=Vf(-1,T),T.tag=3,T.payload={element:null};var I=x.value;return T.callback=function(){NO||(NO=!0,hN=I),Q9(y,x)},T}function UJ(y,x,T){T=Vf(-1,T),T.tag=3;var I=y.type.getDerivedStateFromError;if(typeof I=="function"){var $=x.value;T.payload=function(){return I($)},T.callback=function(){Q9(y,x)}}var V=y.stateNode;return V!==null&&typeof V.componentDidCatch=="function"&&(T.callback=function(){Q9(y,x),typeof I!="function"&&(Mm===null?Mm=new Set([this]):Mm.add(this));var q=x.stack;this.componentDidCatch(x.value,{componentStack:q!==null?q:""})}),T}function GJ(y,x,T){var I=y.pingCache;if(I===null){I=y.pingCache=new ERe;var $=new Set;I.set(x,$)}else $=I.get(x),$===void 0&&($=new Set,I.set(x,$));$.has(T)||($.add(T),y=jRe.bind(null,y,x,T),x.then(y,y))}function YJ(y){do{var x;if((x=y.tag===13)&&(x=y.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return y;y=y.return}while(y!==null);return null}function KJ(y,x,T,I,$){return y.mode&1?(y.flags|=65536,y.lanes=$,y):(y===x?y.flags|=65536:(y.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(x=Vf(-1,1),x.tag=2,Pm(T,x,1))),T.lanes|=1),y)}var ARe=C.ReactCurrentOwner,Cu=!1;function jl(y,x,T,I){x.child=y===null?SJ(x,null,T,I):qb(x,y.child,T,I)}function XJ(y,x,T,I,$){T=T.render;var V=x.ref;return Xb(x,$),I=U9(y,x,T,I,V,$),T=G9(),y!==null&&!Cu?(x.updateQueue=y.updateQueue,x.flags&=-2053,y.lanes&=~$,Wf(y,x,$)):(ws&&T&&E9(x),x.flags|=1,jl(y,x,I,$),x.child)}function qJ(y,x,T,I,$){if(y===null){var V=T.type;return typeof V=="function"&&!_N(V)&&V.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(x.tag=15,x.type=V,ZJ(y,x,V,I,$)):(y=UO(T.type,null,I,x,x.mode,$),y.ref=x.ref,y.return=x,x.child=y)}if(V=y.child,!(y.lanes&$)){var q=V.memoizedProps;if(T=T.compare,T=T!==null?T:AC,T(q,I)&&y.ref===x.ref)return Wf(y,x,$)}return x.flags|=1,y=Lm(V,I),y.ref=x.ref,y.return=x,x.child=y}function ZJ(y,x,T,I,$){if(y!==null){var V=y.memoizedProps;if(AC(V,I)&&y.ref===x.ref)if(Cu=!1,x.pendingProps=I=V,(y.lanes&$)!==0)y.flags&131072&&(Cu=!0);else return x.lanes=y.lanes,Wf(y,x,$)}return J9(y,x,T,I,$)}function QJ(y,x,T){var I=x.pendingProps,$=I.children,V=y!==null?y.memoizedState:null;if(I.mode==="hidden")if(!(x.mode&1))x.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kr(e1,lc),lc|=T;else{if(!(T&1073741824))return y=V!==null?V.baseLanes|T:T,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:y,cachePool:null,transitions:null},x.updateQueue=null,Kr(e1,lc),lc|=y,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},I=V!==null?V.baseLanes:T,Kr(e1,lc),lc|=I}else V!==null?(I=V.baseLanes|T,x.memoizedState=null):I=T,Kr(e1,lc),lc|=I;return jl(y,x,$,T),x.child}function JJ(y,x){var T=x.ref;(y===null&&T!==null||y!==null&&y.ref!==T)&&(x.flags|=512,x.flags|=2097152)}function J9(y,x,T,I,$){var V=wu(T)?G0:il.current;return V=Wb(x,V),Xb(x,$),T=U9(y,x,T,I,V,$),I=G9(),y!==null&&!Cu?(x.updateQueue=y.updateQueue,x.flags&=-2053,y.lanes&=~$,Wf(y,x,$)):(ws&&I&&E9(x),x.flags|=1,jl(y,x,T,$),x.child)}function eee(y,x,T,I,$){if(wu(T)){var V=!0;mO(x)}else V=!1;if(Xb(x,$),x.stateNode===null)DO(y,x),vJ(x,T,I),$9(x,T,I,$),I=!0;else if(y===null){var q=x.stateNode,de=x.memoizedProps;q.props=de;var me=q.context,Be=T.contextType;typeof Be=="object"&&Be!==null?Be=sd(Be):(Be=wu(T)?G0:il.current,Be=Wb(x,Be));var yt=T.getDerivedStateFromProps,bt=typeof yt=="function"||typeof q.getSnapshotBeforeUpdate=="function";bt||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(de!==I||me!==Be)&&yJ(x,q,I,Be),Tm=!1;var gt=x.memoizedState;q.state=gt,CO(x,I,q,$),me=x.memoizedState,de!==I||gt!==me||xu.current||Tm?(typeof yt=="function"&&(B9(x,T,yt,I),me=x.memoizedState),(de=Tm||mJ(x,T,de,I,gt,me,Be))?(bt||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(x.flags|=4194308)):(typeof q.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=I,x.memoizedState=me),q.props=I,q.state=me,q.context=Be,I=de):(typeof q.componentDidMount=="function"&&(x.flags|=4194308),I=!1)}else{q=x.stateNode,hJ(y,x),de=x.memoizedProps,Be=x.type===x.elementType?de:fh(x.type,de),q.props=Be,bt=x.pendingProps,gt=q.context,me=T.contextType,typeof me=="object"&&me!==null?me=sd(me):(me=wu(T)?G0:il.current,me=Wb(x,me));var Wt=T.getDerivedStateFromProps;(yt=typeof Wt=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(de!==bt||gt!==me)&&yJ(x,q,I,me),Tm=!1,gt=x.memoizedState,q.state=gt,CO(x,I,q,$);var ri=x.memoizedState;de!==bt||gt!==ri||xu.current||Tm?(typeof Wt=="function"&&(B9(x,T,Wt,I),ri=x.memoizedState),(Be=Tm||mJ(x,T,Be,I,gt,ri,me)||!1)?(yt||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(I,ri,me),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(I,ri,me)),typeof q.componentDidUpdate=="function"&&(x.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof q.componentDidUpdate!="function"||de===y.memoizedProps&&gt===y.memoizedState||(x.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||de===y.memoizedProps&&gt===y.memoizedState||(x.flags|=1024),x.memoizedProps=I,x.memoizedState=ri),q.props=I,q.state=ri,q.context=me,I=Be):(typeof q.componentDidUpdate!="function"||de===y.memoizedProps&&gt===y.memoizedState||(x.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||de===y.memoizedProps&&gt===y.memoizedState||(x.flags|=1024),I=!1)}return eN(y,x,T,I,V,$)}function eN(y,x,T,I,$,V){JJ(y,x);var q=(x.flags&128)!==0;if(!I&&!q)return $&&rJ(x,T,!1),Wf(y,x,V);I=x.stateNode,ARe.current=x;var de=q&&typeof T.getDerivedStateFromError!="function"?null:I.render();return x.flags|=1,y!==null&&q?(x.child=qb(x,y.child,null,V),x.child=qb(x,null,de,V)):jl(y,x,de,V),x.memoizedState=I.state,$&&rJ(x,T,!0),x.child}function tee(y){var x=y.stateNode;x.pendingContext?iJ(y,x.pendingContext,x.pendingContext!==x.context):x.context&&iJ(y,x.context,!1),N9(y,x.containerInfo)}function iee(y,x,T,I,$){return Yb(),O9($),x.flags|=256,jl(y,x,T,I),x.child}var tN={dehydrated:null,treeContext:null,retryLane:0};function iN(y){return{baseLanes:y,cachePool:null,transitions:null}}function nee(y,x,T){var I=x.pendingProps,$=Bs.current,V=!1,q=(x.flags&128)!==0,de;if((de=q)||(de=y!==null&&y.memoizedState===null?!1:($&2)!==0),de?(V=!0,x.flags&=-129):(y===null||y.memoizedState!==null)&&($|=1),Kr(Bs,$&1),y===null)return P9(x),y=x.memoizedState,y!==null&&(y=y.dehydrated,y!==null)?(x.mode&1?y.data==="$!"?x.lanes=8:x.lanes=1073741824:x.lanes=1,null):(q=I.children,y=I.fallback,V?(I=x.mode,V=x.child,q={mode:"hidden",children:q},!(I&1)&&V!==null?(V.childLanes=0,V.pendingProps=q):V=GO(q,I,0,null),y=iy(y,I,T,null),V.return=x,y.return=x,V.sibling=y,x.child=V,x.child.memoizedState=iN(T),x.memoizedState=tN,y):nN(x,q));if($=y.memoizedState,$!==null&&(de=$.dehydrated,de!==null))return TRe(y,x,q,I,de,$,T);if(V){V=I.fallback,q=x.mode,$=y.child,de=$.sibling;var me={mode:"hidden",children:I.children};return!(q&1)&&x.child!==$?(I=x.child,I.childLanes=0,I.pendingProps=me,x.deletions=null):(I=Lm($,me),I.subtreeFlags=$.subtreeFlags&14680064),de!==null?V=Lm(de,V):(V=iy(V,q,T,null),V.flags|=2),V.return=x,I.return=x,I.sibling=V,x.child=I,I=V,V=x.child,q=y.child.memoizedState,q=q===null?iN(T):{baseLanes:q.baseLanes|T,cachePool:null,transitions:q.transitions},V.memoizedState=q,V.childLanes=y.childLanes&~T,x.memoizedState=tN,I}return V=y.child,y=V.sibling,I=Lm(V,{mode:"visible",children:I.children}),!(x.mode&1)&&(I.lanes=T),I.return=x,I.sibling=null,y!==null&&(T=x.deletions,T===null?(x.deletions=[y],x.flags|=16):T.push(y)),x.child=I,x.memoizedState=null,I}function nN(y,x){return x=GO({mode:"visible",children:x},y.mode,0,null),x.return=y,y.child=x}function RO(y,x,T,I){return I!==null&&O9(I),qb(x,y.child,null,T),y=nN(x,x.pendingProps.children),y.flags|=2,x.memoizedState=null,y}function TRe(y,x,T,I,$,V,q){if(T)return x.flags&256?(x.flags&=-257,I=Z9(Error(n(422))),RO(y,x,q,I)):x.memoizedState!==null?(x.child=y.child,x.flags|=128,null):(V=I.fallback,$=x.mode,I=GO({mode:"visible",children:I.children},$,0,null),V=iy(V,$,q,null),V.flags|=2,I.return=x,V.return=x,I.sibling=V,x.child=I,x.mode&1&&qb(x,y.child,null,q),x.child.memoizedState=iN(q),x.memoizedState=tN,V);if(!(x.mode&1))return RO(y,x,q,null);if($.data==="$!"){if(I=$.nextSibling&&$.nextSibling.dataset,I)var de=I.dgst;return I=de,V=Error(n(419)),I=Z9(V,I,void 0),RO(y,x,q,I)}if(de=(q&y.childLanes)!==0,Cu||de){if(I=uo,I!==null){switch(q&-q){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}$=$&(I.suspendedLanes|q)?0:$,$!==0&&$!==V.retryLane&&(V.retryLane=$,Hf(y,$),vh(I,y,$,-1))}return yN(),I=Z9(Error(n(421))),RO(y,x,q,I)}return $.data==="$?"?(x.flags|=128,x.child=y.child,x=zRe.bind(null,y),$._reactRetry=x,null):(y=V.treeContext,oc=Cm($.nextSibling),ac=x,ws=!0,ph=null,y!==null&&(nd[rd++]=jf,nd[rd++]=zf,nd[rd++]=Y0,jf=y.id,zf=y.overflow,Y0=x),x=nN(x,I.children),x.flags|=4096,x)}function ree(y,x,T){y.lanes|=x;var I=y.alternate;I!==null&&(I.lanes|=x),D9(y.return,x,T)}function rN(y,x,T,I,$){var V=y.memoizedState;V===null?y.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:I,tail:T,tailMode:$}:(V.isBackwards=x,V.rendering=null,V.renderingStartTime=0,V.last=I,V.tail=T,V.tailMode=$)}function see(y,x,T){var I=x.pendingProps,$=I.revealOrder,V=I.tail;if(jl(y,x,I.children,T),I=Bs.current,I&2)I=I&1|2,x.flags|=128;else{if(y!==null&&y.flags&128)e:for(y=x.child;y!==null;){if(y.tag===13)y.memoizedState!==null&&ree(y,T,x);else if(y.tag===19)ree(y,T,x);else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===x)break e;for(;y.sibling===null;){if(y.return===null||y.return===x)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}I&=1}if(Kr(Bs,I),!(x.mode&1))x.memoizedState=null;else switch($){case"forwards":for(T=x.child,$=null;T!==null;)y=T.alternate,y!==null&&AO(y)===null&&($=T),T=T.sibling;T=$,T===null?($=x.child,x.child=null):($=T.sibling,T.sibling=null),rN(x,!1,$,T,V);break;case"backwards":for(T=null,$=x.child,x.child=null;$!==null;){if(y=$.alternate,y!==null&&AO(y)===null){x.child=$;break}y=$.sibling,$.sibling=T,T=$,$=y}rN(x,!0,T,null,V);break;case"together":rN(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function DO(y,x){!(x.mode&1)&&y!==null&&(y.alternate=null,x.alternate=null,x.flags|=2)}function Wf(y,x,T){if(y!==null&&(x.dependencies=y.dependencies),Q0|=x.lanes,!(T&x.childLanes))return null;if(y!==null&&x.child!==y.child)throw Error(n(153));if(x.child!==null){for(y=x.child,T=Lm(y,y.pendingProps),x.child=T,T.return=x;y.sibling!==null;)y=y.sibling,T=T.sibling=Lm(y,y.pendingProps),T.return=x;T.sibling=null}return x.child}function PRe(y,x,T){switch(x.tag){case 3:tee(x),Yb();break;case 5:xJ(x);break;case 1:wu(x.type)&&mO(x);break;case 4:N9(x,x.stateNode.containerInfo);break;case 10:var I=x.type._context,$=x.memoizedProps.value;Kr(SO,I._currentValue),I._currentValue=$;break;case 13:if(I=x.memoizedState,I!==null)return I.dehydrated!==null?(Kr(Bs,Bs.current&1),x.flags|=128,null):T&x.child.childLanes?nee(y,x,T):(Kr(Bs,Bs.current&1),y=Wf(y,x,T),y!==null?y.sibling:null);Kr(Bs,Bs.current&1);break;case 19:if(I=(T&x.childLanes)!==0,y.flags&128){if(I)return see(y,x,T);x.flags|=128}if($=x.memoizedState,$!==null&&($.rendering=null,$.tail=null,$.lastEffect=null),Kr(Bs,Bs.current),I)break;return null;case 22:case 23:return x.lanes=0,QJ(y,x,T)}return Wf(y,x,T)}var aee,sN,oee,lee;aee=function(y,x){for(var T=x.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===x)break;for(;T.sibling===null;){if(T.return===null||T.return===x)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},sN=function(){},oee=function(y,x,T,I){var $=y.memoizedProps;if($!==I){y=x.stateNode,q0(wp.current);var V=null;switch(T){case"input":$=Fe(y,$),I=Fe(y,I),V=[];break;case"select":$=j({},$,{value:void 0}),I=j({},I,{value:void 0}),V=[];break;case"textarea":$=vt(y,$),I=vt(y,I),V=[];break;default:typeof $.onClick!="function"&&typeof I.onClick=="function"&&(y.onclick=pO)}xi(T,I);var q;T=null;for(Be in $)if(!I.hasOwnProperty(Be)&&$.hasOwnProperty(Be)&&$[Be]!=null)if(Be==="style"){var de=$[Be];for(q in de)de.hasOwnProperty(q)&&(T||(T={}),T[q]="")}else Be!=="dangerouslySetInnerHTML"&&Be!=="children"&&Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&Be!=="autoFocus"&&(s.hasOwnProperty(Be)?V||(V=[]):(V=V||[]).push(Be,null));for(Be in I){var me=I[Be];if(de=$!=null?$[Be]:void 0,I.hasOwnProperty(Be)&&me!==de&&(me!=null||de!=null))if(Be==="style")if(de){for(q in de)!de.hasOwnProperty(q)||me&&me.hasOwnProperty(q)||(T||(T={}),T[q]="");for(q in me)me.hasOwnProperty(q)&&de[q]!==me[q]&&(T||(T={}),T[q]=me[q])}else T||(V||(V=[]),V.push(Be,T)),T=me;else Be==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,de=de?de.__html:void 0,me!=null&&de!==me&&(V=V||[]).push(Be,me)):Be==="children"?typeof me!="string"&&typeof me!="number"||(V=V||[]).push(Be,""+me):Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&(s.hasOwnProperty(Be)?(me!=null&&Be==="onScroll"&&ns("scroll",y),V||de===me||(V=[])):(V=V||[]).push(Be,me))}T&&(V=V||[]).push("style",T);var Be=V;(x.updateQueue=Be)&&(x.flags|=4)}},lee=function(y,x,T,I){T!==I&&(x.flags|=4)};function HC(y,x){if(!ws)switch(y.tailMode){case"hidden":x=y.tail;for(var T=null;x!==null;)x.alternate!==null&&(T=x),x=x.sibling;T===null?y.tail=null:T.sibling=null;break;case"collapsed":T=y.tail;for(var I=null;T!==null;)T.alternate!==null&&(I=T),T=T.sibling;I===null?x||y.tail===null?y.tail=null:y.tail.sibling=null:I.sibling=null}}function rl(y){var x=y.alternate!==null&&y.alternate.child===y.child,T=0,I=0;if(x)for(var $=y.child;$!==null;)T|=$.lanes|$.childLanes,I|=$.subtreeFlags&14680064,I|=$.flags&14680064,$.return=y,$=$.sibling;else for($=y.child;$!==null;)T|=$.lanes|$.childLanes,I|=$.subtreeFlags,I|=$.flags,$.return=y,$=$.sibling;return y.subtreeFlags|=I,y.childLanes=T,x}function ORe(y,x,T){var I=x.pendingProps;switch(A9(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rl(x),null;case 1:return wu(x.type)&&gO(),rl(x),null;case 3:return I=x.stateNode,Zb(),rs(xu),rs(il),H9(),I.pendingContext&&(I.context=I.pendingContext,I.pendingContext=null),(y===null||y.child===null)&&(bO(x)?x.flags|=4:y===null||y.memoizedState.isDehydrated&&!(x.flags&256)||(x.flags|=1024,ph!==null&&(gN(ph),ph=null))),sN(y,x),rl(x),null;case 5:j9(x);var $=q0(BC.current);if(T=x.type,y!==null&&x.stateNode!=null)oee(y,x,T,I,$),y.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!I){if(x.stateNode===null)throw Error(n(166));return rl(x),null}if(y=q0(wp.current),bO(x)){I=x.stateNode,T=x.type;var V=x.memoizedProps;switch(I[xp]=x,I[IC]=V,y=(x.mode&1)!==0,T){case"dialog":ns("cancel",I),ns("close",I);break;case"iframe":case"object":case"embed":ns("load",I);break;case"video":case"audio":for($=0;$<PC.length;$++)ns(PC[$],I);break;case"source":ns("error",I);break;case"img":case"image":case"link":ns("error",I),ns("load",I);break;case"details":ns("toggle",I);break;case"input":Ee(I,V),ns("invalid",I);break;case"select":I._wrapperState={wasMultiple:!!V.multiple},ns("invalid",I);break;case"textarea":_t(I,V),ns("invalid",I)}xi(T,V),$=null;for(var q in V)if(V.hasOwnProperty(q)){var de=V[q];q==="children"?typeof de=="string"?I.textContent!==de&&(V.suppressHydrationWarning!==!0&&hO(I.textContent,de,y),$=["children",de]):typeof de=="number"&&I.textContent!==""+de&&(V.suppressHydrationWarning!==!0&&hO(I.textContent,de,y),$=["children",""+de]):s.hasOwnProperty(q)&&de!=null&&q==="onScroll"&&ns("scroll",I)}switch(T){case"input":le(I),Ae(I,V,!0);break;case"textarea":le(I),Ft(I);break;case"select":case"option":break;default:typeof V.onClick=="function"&&(I.onclick=pO)}I=$,x.updateQueue=I,I!==null&&(x.flags|=4)}else{q=$.nodeType===9?$:$.ownerDocument,y==="http://www.w3.org/1999/xhtml"&&(y=Ye(T)),y==="http://www.w3.org/1999/xhtml"?T==="script"?(y=q.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild)):typeof I.is=="string"?y=q.createElement(T,{is:I.is}):(y=q.createElement(T),T==="select"&&(q=y,I.multiple?q.multiple=!0:I.size&&(q.size=I.size))):y=q.createElementNS(y,T),y[xp]=x,y[IC]=I,aee(y,x,!1,!1),x.stateNode=y;e:{switch(q=Ai(T,I),T){case"dialog":ns("cancel",y),ns("close",y),$=I;break;case"iframe":case"object":case"embed":ns("load",y),$=I;break;case"video":case"audio":for($=0;$<PC.length;$++)ns(PC[$],y);$=I;break;case"source":ns("error",y),$=I;break;case"img":case"image":case"link":ns("error",y),ns("load",y),$=I;break;case"details":ns("toggle",y),$=I;break;case"input":Ee(y,I),$=Fe(y,I),ns("invalid",y);break;case"option":$=I;break;case"select":y._wrapperState={wasMultiple:!!I.multiple},$=j({},I,{value:void 0}),ns("invalid",y);break;case"textarea":_t(y,I),$=vt(y,I),ns("invalid",y);break;default:$=I}xi(T,$),de=$;for(V in de)if(de.hasOwnProperty(V)){var me=de[V];V==="style"?qt(y,me):V==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&dt(y,me)):V==="children"?typeof me=="string"?(T!=="textarea"||me!=="")&&at(y,me):typeof me=="number"&&at(y,""+me):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(s.hasOwnProperty(V)?me!=null&&V==="onScroll"&&ns("scroll",y):me!=null&&S(y,V,me,q))}switch(T){case"input":le(y),Ae(y,I,!1);break;case"textarea":le(y),Ft(y);break;case"option":I.value!=null&&y.setAttribute("value",""+Q(I.value));break;case"select":y.multiple=!!I.multiple,V=I.value,V!=null?ut(y,!!I.multiple,V,!1):I.defaultValue!=null&&ut(y,!!I.multiple,I.defaultValue,!0);break;default:typeof $.onClick=="function"&&(y.onclick=pO)}switch(T){case"button":case"input":case"select":case"textarea":I=!!I.autoFocus;break e;case"img":I=!0;break e;default:I=!1}}I&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return rl(x),null;case 6:if(y&&x.stateNode!=null)lee(y,x,y.memoizedProps,I);else{if(typeof I!="string"&&x.stateNode===null)throw Error(n(166));if(T=q0(BC.current),q0(wp.current),bO(x)){if(I=x.stateNode,T=x.memoizedProps,I[xp]=x,(V=I.nodeValue!==T)&&(y=ac,y!==null))switch(y.tag){case 3:hO(I.nodeValue,T,(y.mode&1)!==0);break;case 5:y.memoizedProps.suppressHydrationWarning!==!0&&hO(I.nodeValue,T,(y.mode&1)!==0)}V&&(x.flags|=4)}else I=(T.nodeType===9?T:T.ownerDocument).createTextNode(I),I[xp]=x,x.stateNode=I}return rl(x),null;case 13:if(rs(Bs),I=x.memoizedState,y===null||y.memoizedState!==null&&y.memoizedState.dehydrated!==null){if(ws&&oc!==null&&x.mode&1&&!(x.flags&128))cJ(),Yb(),x.flags|=98560,V=!1;else if(V=bO(x),I!==null&&I.dehydrated!==null){if(y===null){if(!V)throw Error(n(318));if(V=x.memoizedState,V=V!==null?V.dehydrated:null,!V)throw Error(n(317));V[xp]=x}else Yb(),!(x.flags&128)&&(x.memoizedState=null),x.flags|=4;rl(x),V=!1}else ph!==null&&(gN(ph),ph=null),V=!0;if(!V)return x.flags&65536?x:null}return x.flags&128?(x.lanes=T,x):(I=I!==null,I!==(y!==null&&y.memoizedState!==null)&&I&&(x.child.flags|=8192,x.mode&1&&(y===null||Bs.current&1?Va===0&&(Va=3):yN())),x.updateQueue!==null&&(x.flags|=4),rl(x),null);case 4:return Zb(),sN(y,x),y===null&&OC(x.stateNode.containerInfo),rl(x),null;case 10:return R9(x.type._context),rl(x),null;case 17:return wu(x.type)&&gO(),rl(x),null;case 19:if(rs(Bs),V=x.memoizedState,V===null)return rl(x),null;if(I=(x.flags&128)!==0,q=V.rendering,q===null)if(I)HC(V,!1);else{if(Va!==0||y!==null&&y.flags&128)for(y=x.child;y!==null;){if(q=AO(y),q!==null){for(x.flags|=128,HC(V,!1),I=q.updateQueue,I!==null&&(x.updateQueue=I,x.flags|=4),x.subtreeFlags=0,I=T,T=x.child;T!==null;)V=T,y=I,V.flags&=14680066,q=V.alternate,q===null?(V.childLanes=0,V.lanes=y,V.child=null,V.subtreeFlags=0,V.memoizedProps=null,V.memoizedState=null,V.updateQueue=null,V.dependencies=null,V.stateNode=null):(V.childLanes=q.childLanes,V.lanes=q.lanes,V.child=q.child,V.subtreeFlags=0,V.deletions=null,V.memoizedProps=q.memoizedProps,V.memoizedState=q.memoizedState,V.updateQueue=q.updateQueue,V.type=q.type,y=q.dependencies,V.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),T=T.sibling;return Kr(Bs,Bs.current&1|2),x.child}y=y.sibling}V.tail!==null&&Xi()>t1&&(x.flags|=128,I=!0,HC(V,!1),x.lanes=4194304)}else{if(!I)if(y=AO(q),y!==null){if(x.flags|=128,I=!0,T=y.updateQueue,T!==null&&(x.updateQueue=T,x.flags|=4),HC(V,!0),V.tail===null&&V.tailMode==="hidden"&&!q.alternate&&!ws)return rl(x),null}else 2*Xi()-V.renderingStartTime>t1&&T!==1073741824&&(x.flags|=128,I=!0,HC(V,!1),x.lanes=4194304);V.isBackwards?(q.sibling=x.child,x.child=q):(T=V.last,T!==null?T.sibling=q:x.child=q,V.last=q)}return V.tail!==null?(x=V.tail,V.rendering=x,V.tail=x.sibling,V.renderingStartTime=Xi(),x.sibling=null,T=Bs.current,Kr(Bs,I?T&1|2:T&1),x):(rl(x),null);case 22:case 23:return vN(),I=x.memoizedState!==null,y!==null&&y.memoizedState!==null!==I&&(x.flags|=8192),I&&x.mode&1?lc&1073741824&&(rl(x),x.subtreeFlags&6&&(x.flags|=8192)):rl(x),null;case 24:return null;case 25:return null}throw Error(n(156,x.tag))}function MRe(y,x){switch(A9(x),x.tag){case 1:return wu(x.type)&&gO(),y=x.flags,y&65536?(x.flags=y&-65537|128,x):null;case 3:return Zb(),rs(xu),rs(il),H9(),y=x.flags,y&65536&&!(y&128)?(x.flags=y&-65537|128,x):null;case 5:return j9(x),null;case 13:if(rs(Bs),y=x.memoizedState,y!==null&&y.dehydrated!==null){if(x.alternate===null)throw Error(n(340));Yb()}return y=x.flags,y&65536?(x.flags=y&-65537|128,x):null;case 19:return rs(Bs),null;case 4:return Zb(),null;case 10:return R9(x.type._context),null;case 22:case 23:return vN(),null;case 24:return null;default:return null}}var LO=!1,sl=!1,IRe=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function Jb(y,x){var T=y.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(I){Js(y,x,I)}else T.current=null}function uee(y,x,T){try{T()}catch(I){Js(y,x,I)}}var cee=!1;function RRe(y,x){if(y9=j0,y=$Q(),h9(y)){if("selectionStart"in y)var T={start:y.selectionStart,end:y.selectionEnd};else e:{T=(T=y.ownerDocument)&&T.defaultView||window;var I=T.getSelection&&T.getSelection();if(I&&I.rangeCount!==0){T=I.anchorNode;var $=I.anchorOffset,V=I.focusNode;I=I.focusOffset;try{T.nodeType,V.nodeType}catch{T=null;break e}var q=0,de=-1,me=-1,Be=0,yt=0,bt=y,gt=null;t:for(;;){for(var Wt;bt!==T||$!==0&&bt.nodeType!==3||(de=q+$),bt!==V||I!==0&&bt.nodeType!==3||(me=q+I),bt.nodeType===3&&(q+=bt.nodeValue.length),(Wt=bt.firstChild)!==null;)gt=bt,bt=Wt;for(;;){if(bt===y)break t;if(gt===T&&++Be===$&&(de=q),gt===V&&++yt===I&&(me=q),(Wt=bt.nextSibling)!==null)break;bt=gt,gt=bt.parentNode}bt=Wt}T=de===-1||me===-1?null:{start:de,end:me}}else T=null}T=T||{start:0,end:0}}else T=null;for(_9={focusedElem:y,selectionRange:T},j0=!1,Qt=x;Qt!==null;)if(x=Qt,y=x.child,(x.subtreeFlags&1028)!==0&&y!==null)y.return=x,Qt=y;else for(;Qt!==null;){x=Qt;try{var ri=x.alternate;if(x.flags&1024)switch(x.tag){case 0:case 11:case 15:break;case 1:if(ri!==null){var oi=ri.memoizedProps,pa=ri.memoizedState,Me=x.stateNode,Se=Me.getSnapshotBeforeUpdate(x.elementType===x.type?oi:fh(x.type,oi),pa);Me.__reactInternalSnapshotBeforeUpdate=Se}break;case 3:var Le=x.stateNode.containerInfo;Le.nodeType===1?Le.textContent="":Le.nodeType===9&&Le.documentElement&&Le.removeChild(Le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(kt){Js(x,x.return,kt)}if(y=x.sibling,y!==null){y.return=x.return,Qt=y;break}Qt=x.return}return ri=cee,cee=!1,ri}function VC(y,x,T){var I=x.updateQueue;if(I=I!==null?I.lastEffect:null,I!==null){var $=I=I.next;do{if(($.tag&y)===y){var V=$.destroy;$.destroy=void 0,V!==void 0&&uee(x,T,V)}$=$.next}while($!==I)}}function FO(y,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var T=x=x.next;do{if((T.tag&y)===y){var I=T.create;T.destroy=I()}T=T.next}while(T!==x)}}function aN(y){var x=y.ref;if(x!==null){var T=y.stateNode;switch(y.tag){case 5:y=T;break;default:y=T}typeof x=="function"?x(y):x.current=y}}function dee(y){var x=y.alternate;x!==null&&(y.alternate=null,dee(x)),y.child=null,y.deletions=null,y.sibling=null,y.tag===5&&(x=y.stateNode,x!==null&&(delete x[xp],delete x[IC],delete x[w9],delete x[gRe],delete x[mRe])),y.stateNode=null,y.return=null,y.dependencies=null,y.memoizedProps=null,y.memoizedState=null,y.pendingProps=null,y.stateNode=null,y.updateQueue=null}function hee(y){return y.tag===5||y.tag===3||y.tag===4}function pee(y){e:for(;;){for(;y.sibling===null;){if(y.return===null||hee(y.return))return null;y=y.return}for(y.sibling.return=y.return,y=y.sibling;y.tag!==5&&y.tag!==6&&y.tag!==18;){if(y.flags&2||y.child===null||y.tag===4)continue e;y.child.return=y,y=y.child}if(!(y.flags&2))return y.stateNode}}function oN(y,x,T){var I=y.tag;if(I===5||I===6)y=y.stateNode,x?T.nodeType===8?T.parentNode.insertBefore(y,x):T.insertBefore(y,x):(T.nodeType===8?(x=T.parentNode,x.insertBefore(y,T)):(x=T,x.appendChild(y)),T=T._reactRootContainer,T!=null||x.onclick!==null||(x.onclick=pO));else if(I!==4&&(y=y.child,y!==null))for(oN(y,x,T),y=y.sibling;y!==null;)oN(y,x,T),y=y.sibling}function lN(y,x,T){var I=y.tag;if(I===5||I===6)y=y.stateNode,x?T.insertBefore(y,x):T.appendChild(y);else if(I!==4&&(y=y.child,y!==null))for(lN(y,x,T),y=y.sibling;y!==null;)lN(y,x,T),y=y.sibling}var Po=null,gh=!1;function Om(y,x,T){for(T=T.child;T!==null;)fee(y,x,T),T=T.sibling}function fee(y,x,T){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount($a,T)}catch{}switch(T.tag){case 5:sl||Jb(T,x);case 6:var I=Po,$=gh;Po=null,Om(y,x,T),Po=I,gh=$,Po!==null&&(gh?(y=Po,T=T.stateNode,y.nodeType===8?y.parentNode.removeChild(T):y.removeChild(T)):Po.removeChild(T.stateNode));break;case 18:Po!==null&&(gh?(y=Po,T=T.stateNode,y.nodeType===8?x9(y.parentNode,T):y.nodeType===1&&x9(y,T),_p(y)):x9(Po,T.stateNode));break;case 4:I=Po,$=gh,Po=T.stateNode.containerInfo,gh=!0,Om(y,x,T),Po=I,gh=$;break;case 0:case 11:case 14:case 15:if(!sl&&(I=T.updateQueue,I!==null&&(I=I.lastEffect,I!==null))){$=I=I.next;do{var V=$,q=V.destroy;V=V.tag,q!==void 0&&(V&2||V&4)&&uee(T,x,q),$=$.next}while($!==I)}Om(y,x,T);break;case 1:if(!sl&&(Jb(T,x),I=T.stateNode,typeof I.componentWillUnmount=="function"))try{I.props=T.memoizedProps,I.state=T.memoizedState,I.componentWillUnmount()}catch(de){Js(T,x,de)}Om(y,x,T);break;case 21:Om(y,x,T);break;case 22:T.mode&1?(sl=(I=sl)||T.memoizedState!==null,Om(y,x,T),sl=I):Om(y,x,T);break;default:Om(y,x,T)}}function gee(y){var x=y.updateQueue;if(x!==null){y.updateQueue=null;var T=y.stateNode;T===null&&(T=y.stateNode=new IRe),x.forEach(function(I){var $=HRe.bind(null,y,I);T.has(I)||(T.add(I),I.then($,$))})}}function mh(y,x){var T=x.deletions;if(T!==null)for(var I=0;I<T.length;I++){var $=T[I];try{var V=y,q=x,de=q;e:for(;de!==null;){switch(de.tag){case 5:Po=de.stateNode,gh=!1;break e;case 3:Po=de.stateNode.containerInfo,gh=!0;break e;case 4:Po=de.stateNode.containerInfo,gh=!0;break e}de=de.return}if(Po===null)throw Error(n(160));fee(V,q,$),Po=null,gh=!1;var me=$.alternate;me!==null&&(me.return=null),$.return=null}catch(Be){Js($,x,Be)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)mee(x,y),x=x.sibling}function mee(y,x){var T=y.alternate,I=y.flags;switch(y.tag){case 0:case 11:case 14:case 15:if(mh(x,y),kp(y),I&4){try{VC(3,y,y.return),FO(3,y)}catch(oi){Js(y,y.return,oi)}try{VC(5,y,y.return)}catch(oi){Js(y,y.return,oi)}}break;case 1:mh(x,y),kp(y),I&512&&T!==null&&Jb(T,T.return);break;case 5:if(mh(x,y),kp(y),I&512&&T!==null&&Jb(T,T.return),y.flags&32){var $=y.stateNode;try{at($,"")}catch(oi){Js(y,y.return,oi)}}if(I&4&&($=y.stateNode,$!=null)){var V=y.memoizedProps,q=T!==null?T.memoizedProps:V,de=y.type,me=y.updateQueue;if(y.updateQueue=null,me!==null)try{de==="input"&&V.type==="radio"&&V.name!=null&&it($,V),Ai(de,q);var Be=Ai(de,V);for(q=0;q<me.length;q+=2){var yt=me[q],bt=me[q+1];yt==="style"?qt($,bt):yt==="dangerouslySetInnerHTML"?dt($,bt):yt==="children"?at($,bt):S($,yt,bt,Be)}switch(de){case"input":Qe($,V);break;case"textarea":zt($,V);break;case"select":var gt=$._wrapperState.wasMultiple;$._wrapperState.wasMultiple=!!V.multiple;var Wt=V.value;Wt!=null?ut($,!!V.multiple,Wt,!1):gt!==!!V.multiple&&(V.defaultValue!=null?ut($,!!V.multiple,V.defaultValue,!0):ut($,!!V.multiple,V.multiple?[]:"",!1))}$[IC]=V}catch(oi){Js(y,y.return,oi)}}break;case 6:if(mh(x,y),kp(y),I&4){if(y.stateNode===null)throw Error(n(162));$=y.stateNode,V=y.memoizedProps;try{$.nodeValue=V}catch(oi){Js(y,y.return,oi)}}break;case 3:if(mh(x,y),kp(y),I&4&&T!==null&&T.memoizedState.isDehydrated)try{_p(x.containerInfo)}catch(oi){Js(y,y.return,oi)}break;case 4:mh(x,y),kp(y);break;case 13:mh(x,y),kp(y),$=y.child,$.flags&8192&&(V=$.memoizedState!==null,$.stateNode.isHidden=V,!V||$.alternate!==null&&$.alternate.memoizedState!==null||(dN=Xi())),I&4&&gee(y);break;case 22:if(yt=T!==null&&T.memoizedState!==null,y.mode&1?(sl=(Be=sl)||yt,mh(x,y),sl=Be):mh(x,y),kp(y),I&8192){if(Be=y.memoizedState!==null,(y.stateNode.isHidden=Be)&&!yt&&y.mode&1)for(Qt=y,yt=y.child;yt!==null;){for(bt=Qt=yt;Qt!==null;){switch(gt=Qt,Wt=gt.child,gt.tag){case 0:case 11:case 14:case 15:VC(4,gt,gt.return);break;case 1:Jb(gt,gt.return);var ri=gt.stateNode;if(typeof ri.componentWillUnmount=="function"){I=gt,T=gt.return;try{x=I,ri.props=x.memoizedProps,ri.state=x.memoizedState,ri.componentWillUnmount()}catch(oi){Js(I,T,oi)}}break;case 5:Jb(gt,gt.return);break;case 22:if(gt.memoizedState!==null){_ee(bt);continue}}Wt!==null?(Wt.return=gt,Qt=Wt):_ee(bt)}yt=yt.sibling}e:for(yt=null,bt=y;;){if(bt.tag===5){if(yt===null){yt=bt;try{$=bt.stateNode,Be?(V=$.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none"):(de=bt.stateNode,me=bt.memoizedProps.style,q=me!=null&&me.hasOwnProperty("display")?me.display:null,de.style.display=ci("display",q))}catch(oi){Js(y,y.return,oi)}}}else if(bt.tag===6){if(yt===null)try{bt.stateNode.nodeValue=Be?"":bt.memoizedProps}catch(oi){Js(y,y.return,oi)}}else if((bt.tag!==22&&bt.tag!==23||bt.memoizedState===null||bt===y)&&bt.child!==null){bt.child.return=bt,bt=bt.child;continue}if(bt===y)break e;for(;bt.sibling===null;){if(bt.return===null||bt.return===y)break e;yt===bt&&(yt=null),bt=bt.return}yt===bt&&(yt=null),bt.sibling.return=bt.return,bt=bt.sibling}}break;case 19:mh(x,y),kp(y),I&4&&gee(y);break;case 21:break;default:mh(x,y),kp(y)}}function kp(y){var x=y.flags;if(x&2){try{e:{for(var T=y.return;T!==null;){if(hee(T)){var I=T;break e}T=T.return}throw Error(n(160))}switch(I.tag){case 5:var $=I.stateNode;I.flags&32&&(at($,""),I.flags&=-33);var V=pee(y);lN(y,V,$);break;case 3:case 4:var q=I.stateNode.containerInfo,de=pee(y);oN(y,de,q);break;default:throw Error(n(161))}}catch(me){Js(y,y.return,me)}y.flags&=-3}x&4096&&(y.flags&=-4097)}function DRe(y,x,T){Qt=y,vee(y)}function vee(y,x,T){for(var I=(y.mode&1)!==0;Qt!==null;){var $=Qt,V=$.child;if($.tag===22&&I){var q=$.memoizedState!==null||LO;if(!q){var de=$.alternate,me=de!==null&&de.memoizedState!==null||sl;de=LO;var Be=sl;if(LO=q,(sl=me)&&!Be)for(Qt=$;Qt!==null;)q=Qt,me=q.child,q.tag===22&&q.memoizedState!==null?bee($):me!==null?(me.return=q,Qt=me):bee($);for(;V!==null;)Qt=V,vee(V),V=V.sibling;Qt=$,LO=de,sl=Be}yee(y)}else $.subtreeFlags&8772&&V!==null?(V.return=$,Qt=V):yee(y)}}function yee(y){for(;Qt!==null;){var x=Qt;if(x.flags&8772){var T=x.alternate;try{if(x.flags&8772)switch(x.tag){case 0:case 11:case 15:sl||FO(5,x);break;case 1:var I=x.stateNode;if(x.flags&4&&!sl)if(T===null)I.componentDidMount();else{var $=x.elementType===x.type?T.memoizedProps:fh(x.type,T.memoizedProps);I.componentDidUpdate($,T.memoizedState,I.__reactInternalSnapshotBeforeUpdate)}var V=x.updateQueue;V!==null&&fJ(x,V,I);break;case 3:var q=x.updateQueue;if(q!==null){if(T=null,x.child!==null)switch(x.child.tag){case 5:T=x.child.stateNode;break;case 1:T=x.child.stateNode}fJ(x,q,T)}break;case 5:var de=x.stateNode;if(T===null&&x.flags&4){T=de;var me=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&T.focus();break;case"img":me.src&&(T.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var Be=x.alternate;if(Be!==null){var yt=Be.memoizedState;if(yt!==null){var bt=yt.dehydrated;bt!==null&&_p(bt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}sl||x.flags&512&&aN(x)}catch(gt){Js(x,x.return,gt)}}if(x===y){Qt=null;break}if(T=x.sibling,T!==null){T.return=x.return,Qt=T;break}Qt=x.return}}function _ee(y){for(;Qt!==null;){var x=Qt;if(x===y){Qt=null;break}var T=x.sibling;if(T!==null){T.return=x.return,Qt=T;break}Qt=x.return}}function bee(y){for(;Qt!==null;){var x=Qt;try{switch(x.tag){case 0:case 11:case 15:var T=x.return;try{FO(4,x)}catch(me){Js(x,T,me)}break;case 1:var I=x.stateNode;if(typeof I.componentDidMount=="function"){var $=x.return;try{I.componentDidMount()}catch(me){Js(x,$,me)}}var V=x.return;try{aN(x)}catch(me){Js(x,V,me)}break;case 5:var q=x.return;try{aN(x)}catch(me){Js(x,q,me)}}}catch(me){Js(x,x.return,me)}if(x===y){Qt=null;break}var de=x.sibling;if(de!==null){de.return=x.return,Qt=de;break}Qt=x.return}}var LRe=Math.ceil,BO=C.ReactCurrentDispatcher,uN=C.ReactCurrentOwner,od=C.ReactCurrentBatchConfig,Un=0,uo=null,Ea=null,Oo=0,lc=0,e1=km(0),Va=0,WC=null,Q0=0,$O=0,cN=0,UC=null,ku=null,dN=0,t1=1/0,Uf=null,NO=!1,hN=null,Mm=null,jO=!1,Im=null,zO=0,GC=0,pN=null,HO=-1,VO=0;function zl(){return Un&6?Xi():HO!==-1?HO:HO=Xi()}function Rm(y){return y.mode&1?Un&2&&Oo!==0?Oo&-Oo:yRe.transition!==null?(VO===0&&(VO=ao()),VO):(y=Wi,y!==0||(y=window.event,y=y===void 0?16:qP(y.type)),y):1}function vh(y,x,T,I){if(50<GC)throw GC=0,pN=null,Error(n(185));ha(y,T,I),(!(Un&2)||y!==uo)&&(y===uo&&(!(Un&2)&&($O|=T),Va===4&&Dm(y,Oo)),Eu(y,I),T===1&&Un===0&&!(x.mode&1)&&(t1=Xi()+500,vO&&Am()))}function Eu(y,x){var T=y.callbackNode;Ss(y,x);var I=er(y,y===uo?Oo:0);if(I===0)T!==null&&Zc(T),y.callbackNode=null,y.callbackPriority=0;else if(x=I&-I,y.callbackPriority!==x){if(T!=null&&Zc(T),x===1)y.tag===0?vRe(xee.bind(null,y)):sJ(xee.bind(null,y)),pRe(function(){!(Un&6)&&Am()}),T=null;else{switch(Lf(I)){case 1:T=Jc;break;case 4:T=yu;break;case 16:T=Bl;break;case 536870912:T=Ao;break;default:T=Bl}T=Oee(T,See.bind(null,y))}y.callbackPriority=x,y.callbackNode=T}}function See(y,x){if(HO=-1,VO=0,Un&6)throw Error(n(327));var T=y.callbackNode;if(i1()&&y.callbackNode!==T)return null;var I=er(y,y===uo?Oo:0);if(I===0)return null;if(I&30||I&y.expiredLanes||x)x=WO(y,I);else{x=I;var $=Un;Un|=2;var V=Cee();(uo!==y||Oo!==x)&&(Uf=null,t1=Xi()+500,ey(y,x));do try{$Re();break}catch(de){wee(y,de)}while(!0);I9(),BO.current=V,Un=$,Ea!==null?x=0:(uo=null,Oo=0,x=Va)}if(x!==0){if(x===2&&($=Rs(y),$!==0&&(I=$,x=fN(y,$))),x===1)throw T=WC,ey(y,0),Dm(y,I),Eu(y,Xi()),T;if(x===6)Dm(y,I);else{if($=y.current.alternate,!(I&30)&&!FRe($)&&(x=WO(y,I),x===2&&(V=Rs(y),V!==0&&(I=V,x=fN(y,V))),x===1))throw T=WC,ey(y,0),Dm(y,I),Eu(y,Xi()),T;switch(y.finishedWork=$,y.finishedLanes=I,x){case 0:case 1:throw Error(n(345));case 2:ty(y,ku,Uf);break;case 3:if(Dm(y,I),(I&130023424)===I&&(x=dN+500-Xi(),10<x)){if(er(y,0)!==0)break;if($=y.suspendedLanes,($&I)!==I){zl(),y.pingedLanes|=y.suspendedLanes&$;break}y.timeoutHandle=S9(ty.bind(null,y,ku,Uf),x);break}ty(y,ku,Uf);break;case 4:if(Dm(y,I),(I&4194240)===I)break;for(x=y.eventTimes,$=-1;0<I;){var q=31-is(I);V=1<<q,q=x[q],q>$&&($=q),I&=~V}if(I=$,I=Xi()-I,I=(120>I?120:480>I?480:1080>I?1080:1920>I?1920:3e3>I?3e3:4320>I?4320:1960*LRe(I/1960))-I,10<I){y.timeoutHandle=S9(ty.bind(null,y,ku,Uf),I);break}ty(y,ku,Uf);break;case 5:ty(y,ku,Uf);break;default:throw Error(n(329))}}}return Eu(y,Xi()),y.callbackNode===T?See.bind(null,y):null}function fN(y,x){var T=UC;return y.current.memoizedState.isDehydrated&&(ey(y,x).flags|=256),y=WO(y,x),y!==2&&(x=ku,ku=T,x!==null&&gN(x)),y}function gN(y){ku===null?ku=y:ku.push.apply(ku,y)}function FRe(y){for(var x=y;;){if(x.flags&16384){var T=x.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var I=0;I<T.length;I++){var $=T[I],V=$.getSnapshot;$=$.value;try{if(!hh(V(),$))return!1}catch{return!1}}}if(T=x.child,x.subtreeFlags&16384&&T!==null)T.return=x,x=T;else{if(x===y)break;for(;x.sibling===null;){if(x.return===null||x.return===y)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Dm(y,x){for(x&=~cN,x&=~$O,y.suspendedLanes|=x,y.pingedLanes&=~x,y=y.expirationTimes;0<x;){var T=31-is(x),I=1<<T;y[T]=-1,x&=~I}}function xee(y){if(Un&6)throw Error(n(327));i1();var x=er(y,0);if(!(x&1))return Eu(y,Xi()),null;var T=WO(y,x);if(y.tag!==0&&T===2){var I=Rs(y);I!==0&&(x=I,T=fN(y,I))}if(T===1)throw T=WC,ey(y,0),Dm(y,x),Eu(y,Xi()),T;if(T===6)throw Error(n(345));return y.finishedWork=y.current.alternate,y.finishedLanes=x,ty(y,ku,Uf),Eu(y,Xi()),null}function mN(y,x){var T=Un;Un|=1;try{return y(x)}finally{Un=T,Un===0&&(t1=Xi()+500,vO&&Am())}}function J0(y){Im!==null&&Im.tag===0&&!(Un&6)&&i1();var x=Un;Un|=1;var T=od.transition,I=Wi;try{if(od.transition=null,Wi=1,y)return y()}finally{Wi=I,od.transition=T,Un=x,!(Un&6)&&Am()}}function vN(){lc=e1.current,rs(e1)}function ey(y,x){y.finishedWork=null,y.finishedLanes=0;var T=y.timeoutHandle;if(T!==-1&&(y.timeoutHandle=-1,hRe(T)),Ea!==null)for(T=Ea.return;T!==null;){var I=T;switch(A9(I),I.tag){case 1:I=I.type.childContextTypes,I!=null&&gO();break;case 3:Zb(),rs(xu),rs(il),H9();break;case 5:j9(I);break;case 4:Zb();break;case 13:rs(Bs);break;case 19:rs(Bs);break;case 10:R9(I.type._context);break;case 22:case 23:vN()}T=T.return}if(uo=y,Ea=y=Lm(y.current,null),Oo=lc=x,Va=0,WC=null,cN=$O=Q0=0,ku=UC=null,X0!==null){for(x=0;x<X0.length;x++)if(T=X0[x],I=T.interleaved,I!==null){T.interleaved=null;var $=I.next,V=T.pending;if(V!==null){var q=V.next;V.next=$,I.next=q}T.pending=I}X0=null}return y}function wee(y,x){do{var T=Ea;try{if(I9(),TO.current=IO,PO){for(var I=$s.memoizedState;I!==null;){var $=I.queue;$!==null&&($.pending=null),I=I.next}PO=!1}if(Z0=0,lo=Ha=$s=null,$C=!1,NC=0,uN.current=null,T===null||T.return===null){Va=1,WC=x,Ea=null;break}e:{var V=y,q=T.return,de=T,me=x;if(x=Oo,de.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var Be=me,yt=de,bt=yt.tag;if(!(yt.mode&1)&&(bt===0||bt===11||bt===15)){var gt=yt.alternate;gt?(yt.updateQueue=gt.updateQueue,yt.memoizedState=gt.memoizedState,yt.lanes=gt.lanes):(yt.updateQueue=null,yt.memoizedState=null)}var Wt=YJ(q);if(Wt!==null){Wt.flags&=-257,KJ(Wt,q,de,V,x),Wt.mode&1&&GJ(V,Be,x),x=Wt,me=Be;var ri=x.updateQueue;if(ri===null){var oi=new Set;oi.add(me),x.updateQueue=oi}else ri.add(me);break e}else{if(!(x&1)){GJ(V,Be,x),yN();break e}me=Error(n(426))}}else if(ws&&de.mode&1){var pa=YJ(q);if(pa!==null){!(pa.flags&65536)&&(pa.flags|=256),KJ(pa,q,de,V,x),O9(Qb(me,de));break e}}V=me=Qb(me,de),Va!==4&&(Va=2),UC===null?UC=[V]:UC.push(V),V=q;do{switch(V.tag){case 3:V.flags|=65536,x&=-x,V.lanes|=x;var Me=WJ(V,me,x);pJ(V,Me);break e;case 1:de=me;var Se=V.type,Le=V.stateNode;if(!(V.flags&128)&&(typeof Se.getDerivedStateFromError=="function"||Le!==null&&typeof Le.componentDidCatch=="function"&&(Mm===null||!Mm.has(Le)))){V.flags|=65536,x&=-x,V.lanes|=x;var kt=UJ(V,de,x);pJ(V,kt);break e}}V=V.return}while(V!==null)}Eee(T)}catch(hi){x=hi,Ea===T&&T!==null&&(Ea=T=T.return);continue}break}while(!0)}function Cee(){var y=BO.current;return BO.current=IO,y===null?IO:y}function yN(){(Va===0||Va===3||Va===2)&&(Va=4),uo===null||!(Q0&268435455)&&!($O&268435455)||Dm(uo,Oo)}function WO(y,x){var T=Un;Un|=2;var I=Cee();(uo!==y||Oo!==x)&&(Uf=null,ey(y,x));do try{BRe();break}catch($){wee(y,$)}while(!0);if(I9(),Un=T,BO.current=I,Ea!==null)throw Error(n(261));return uo=null,Oo=0,Va}function BRe(){for(;Ea!==null;)kee(Ea)}function $Re(){for(;Ea!==null&&!Qc();)kee(Ea)}function kee(y){var x=Pee(y.alternate,y,lc);y.memoizedProps=y.pendingProps,x===null?Eee(y):Ea=x,uN.current=null}function Eee(y){var x=y;do{var T=x.alternate;if(y=x.return,x.flags&32768){if(T=MRe(T,x),T!==null){T.flags&=32767,Ea=T;return}if(y!==null)y.flags|=32768,y.subtreeFlags=0,y.deletions=null;else{Va=6,Ea=null;return}}else if(T=ORe(T,x,lc),T!==null){Ea=T;return}if(x=x.sibling,x!==null){Ea=x;return}Ea=x=y}while(x!==null);Va===0&&(Va=5)}function ty(y,x,T){var I=Wi,$=od.transition;try{od.transition=null,Wi=1,NRe(y,x,T,I)}finally{od.transition=$,Wi=I}return null}function NRe(y,x,T,I){do i1();while(Im!==null);if(Un&6)throw Error(n(327));T=y.finishedWork;var $=y.finishedLanes;if(T===null)return null;if(y.finishedWork=null,y.finishedLanes=0,T===y.current)throw Error(n(177));y.callbackNode=null,y.callbackPriority=0;var V=T.lanes|T.childLanes;if(bu(y,V),y===uo&&(Ea=uo=null,Oo=0),!(T.subtreeFlags&2064)&&!(T.flags&2064)||jO||(jO=!0,Oee(Bl,function(){return i1(),null})),V=(T.flags&15990)!==0,T.subtreeFlags&15990||V){V=od.transition,od.transition=null;var q=Wi;Wi=1;var de=Un;Un|=4,uN.current=null,RRe(y,T),mee(T,y),oRe(_9),j0=!!y9,_9=y9=null,y.current=T,DRe(T),vu(),Un=de,Wi=q,od.transition=V}else y.current=T;if(jO&&(jO=!1,Im=y,zO=$),V=y.pendingLanes,V===0&&(Mm=null),ed(T.stateNode),Eu(y,Xi()),x!==null)for(I=y.onRecoverableError,T=0;T<x.length;T++)$=x[T],I($.value,{componentStack:$.stack,digest:$.digest});if(NO)throw NO=!1,y=hN,hN=null,y;return zO&1&&y.tag!==0&&i1(),V=y.pendingLanes,V&1?y===pN?GC++:(GC=0,pN=y):GC=0,Am(),null}function i1(){if(Im!==null){var y=Lf(zO),x=od.transition,T=Wi;try{if(od.transition=null,Wi=16>y?16:y,Im===null)var I=!1;else{if(y=Im,Im=null,zO=0,Un&6)throw Error(n(331));var $=Un;for(Un|=4,Qt=y.current;Qt!==null;){var V=Qt,q=V.child;if(Qt.flags&16){var de=V.deletions;if(de!==null){for(var me=0;me<de.length;me++){var Be=de[me];for(Qt=Be;Qt!==null;){var yt=Qt;switch(yt.tag){case 0:case 11:case 15:VC(8,yt,V)}var bt=yt.child;if(bt!==null)bt.return=yt,Qt=bt;else for(;Qt!==null;){yt=Qt;var gt=yt.sibling,Wt=yt.return;if(dee(yt),yt===Be){Qt=null;break}if(gt!==null){gt.return=Wt,Qt=gt;break}Qt=Wt}}}var ri=V.alternate;if(ri!==null){var oi=ri.child;if(oi!==null){ri.child=null;do{var pa=oi.sibling;oi.sibling=null,oi=pa}while(oi!==null)}}Qt=V}}if(V.subtreeFlags&2064&&q!==null)q.return=V,Qt=q;else e:for(;Qt!==null;){if(V=Qt,V.flags&2048)switch(V.tag){case 0:case 11:case 15:VC(9,V,V.return)}var Me=V.sibling;if(Me!==null){Me.return=V.return,Qt=Me;break e}Qt=V.return}}var Se=y.current;for(Qt=Se;Qt!==null;){q=Qt;var Le=q.child;if(q.subtreeFlags&2064&&Le!==null)Le.return=q,Qt=Le;else e:for(q=Se;Qt!==null;){if(de=Qt,de.flags&2048)try{switch(de.tag){case 0:case 11:case 15:FO(9,de)}}catch(hi){Js(de,de.return,hi)}if(de===q){Qt=null;break e}var kt=de.sibling;if(kt!==null){kt.return=de.return,Qt=kt;break e}Qt=de.return}}if(Un=$,Am(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot($a,y)}catch{}I=!0}return I}finally{Wi=T,od.transition=x}}return!1}function Aee(y,x,T){x=Qb(T,x),x=WJ(y,x,1),y=Pm(y,x,1),x=zl(),y!==null&&(ha(y,1,x),Eu(y,x))}function Js(y,x,T){if(y.tag===3)Aee(y,y,T);else for(;x!==null;){if(x.tag===3){Aee(x,y,T);break}else if(x.tag===1){var I=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(Mm===null||!Mm.has(I))){y=Qb(T,y),y=UJ(x,y,1),x=Pm(x,y,1),y=zl(),x!==null&&(ha(x,1,y),Eu(x,y));break}}x=x.return}}function jRe(y,x,T){var I=y.pingCache;I!==null&&I.delete(x),x=zl(),y.pingedLanes|=y.suspendedLanes&T,uo===y&&(Oo&T)===T&&(Va===4||Va===3&&(Oo&130023424)===Oo&&500>Xi()-dN?ey(y,0):cN|=T),Eu(y,x)}function Tee(y,x){x===0&&(y.mode&1?(x=gn,gn<<=1,!(gn&130023424)&&(gn=4194304)):x=1);var T=zl();y=Hf(y,x),y!==null&&(ha(y,x,T),Eu(y,T))}function zRe(y){var x=y.memoizedState,T=0;x!==null&&(T=x.retryLane),Tee(y,T)}function HRe(y,x){var T=0;switch(y.tag){case 13:var I=y.stateNode,$=y.memoizedState;$!==null&&(T=$.retryLane);break;case 19:I=y.stateNode;break;default:throw Error(n(314))}I!==null&&I.delete(x),Tee(y,T)}var Pee;Pee=function(y,x,T){if(y!==null)if(y.memoizedProps!==x.pendingProps||xu.current)Cu=!0;else{if(!(y.lanes&T)&&!(x.flags&128))return Cu=!1,PRe(y,x,T);Cu=!!(y.flags&131072)}else Cu=!1,ws&&x.flags&1048576&&aJ(x,_O,x.index);switch(x.lanes=0,x.tag){case 2:var I=x.type;DO(y,x),y=x.pendingProps;var $=Wb(x,il.current);Xb(x,T),$=U9(null,x,I,y,$,T);var V=G9();return x.flags|=1,typeof $=="object"&&$!==null&&typeof $.render=="function"&&$.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,wu(I)?(V=!0,mO(x)):V=!1,x.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,F9(x),$.updater=kO,x.stateNode=$,$._reactInternals=x,$9(x,I,y,T),x=eN(null,x,I,!0,V,T)):(x.tag=0,ws&&V&&E9(x),jl(null,x,$,T),x=x.child),x;case 16:I=x.elementType;e:{switch(DO(y,x),y=x.pendingProps,$=I._init,I=$(I._payload),x.type=I,$=x.tag=WRe(I),y=fh(I,y),$){case 0:x=J9(null,x,I,y,T);break e;case 1:x=eee(null,x,I,y,T);break e;case 11:x=XJ(null,x,I,y,T);break e;case 14:x=qJ(null,x,I,fh(I.type,y),T);break e}throw Error(n(306,I,""))}return x;case 0:return I=x.type,$=x.pendingProps,$=x.elementType===I?$:fh(I,$),J9(y,x,I,$,T);case 1:return I=x.type,$=x.pendingProps,$=x.elementType===I?$:fh(I,$),eee(y,x,I,$,T);case 3:e:{if(tee(x),y===null)throw Error(n(387));I=x.pendingProps,V=x.memoizedState,$=V.element,hJ(y,x),CO(x,I,null,T);var q=x.memoizedState;if(I=q.element,V.isDehydrated)if(V={element:I,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},x.updateQueue.baseState=V,x.memoizedState=V,x.flags&256){$=Qb(Error(n(423)),x),x=iee(y,x,I,T,$);break e}else if(I!==$){$=Qb(Error(n(424)),x),x=iee(y,x,I,T,$);break e}else for(oc=Cm(x.stateNode.containerInfo.firstChild),ac=x,ws=!0,ph=null,T=SJ(x,null,I,T),x.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(Yb(),I===$){x=Wf(y,x,T);break e}jl(y,x,I,T)}x=x.child}return x;case 5:return xJ(x),y===null&&P9(x),I=x.type,$=x.pendingProps,V=y!==null?y.memoizedProps:null,q=$.children,b9(I,$)?q=null:V!==null&&b9(I,V)&&(x.flags|=32),JJ(y,x),jl(y,x,q,T),x.child;case 6:return y===null&&P9(x),null;case 13:return nee(y,x,T);case 4:return N9(x,x.stateNode.containerInfo),I=x.pendingProps,y===null?x.child=qb(x,null,I,T):jl(y,x,I,T),x.child;case 11:return I=x.type,$=x.pendingProps,$=x.elementType===I?$:fh(I,$),XJ(y,x,I,$,T);case 7:return jl(y,x,x.pendingProps,T),x.child;case 8:return jl(y,x,x.pendingProps.children,T),x.child;case 12:return jl(y,x,x.pendingProps.children,T),x.child;case 10:e:{if(I=x.type._context,$=x.pendingProps,V=x.memoizedProps,q=$.value,Kr(SO,I._currentValue),I._currentValue=q,V!==null)if(hh(V.value,q)){if(V.children===$.children&&!xu.current){x=Wf(y,x,T);break e}}else for(V=x.child,V!==null&&(V.return=x);V!==null;){var de=V.dependencies;if(de!==null){q=V.child;for(var me=de.firstContext;me!==null;){if(me.context===I){if(V.tag===1){me=Vf(-1,T&-T),me.tag=2;var Be=V.updateQueue;if(Be!==null){Be=Be.shared;var yt=Be.pending;yt===null?me.next=me:(me.next=yt.next,yt.next=me),Be.pending=me}}V.lanes|=T,me=V.alternate,me!==null&&(me.lanes|=T),D9(V.return,T,x),de.lanes|=T;break}me=me.next}}else if(V.tag===10)q=V.type===x.type?null:V.child;else if(V.tag===18){if(q=V.return,q===null)throw Error(n(341));q.lanes|=T,de=q.alternate,de!==null&&(de.lanes|=T),D9(q,T,x),q=V.sibling}else q=V.child;if(q!==null)q.return=V;else for(q=V;q!==null;){if(q===x){q=null;break}if(V=q.sibling,V!==null){V.return=q.return,q=V;break}q=q.return}V=q}jl(y,x,$.children,T),x=x.child}return x;case 9:return $=x.type,I=x.pendingProps.children,Xb(x,T),$=sd($),I=I($),x.flags|=1,jl(y,x,I,T),x.child;case 14:return I=x.type,$=fh(I,x.pendingProps),$=fh(I.type,$),qJ(y,x,I,$,T);case 15:return ZJ(y,x,x.type,x.pendingProps,T);case 17:return I=x.type,$=x.pendingProps,$=x.elementType===I?$:fh(I,$),DO(y,x),x.tag=1,wu(I)?(y=!0,mO(x)):y=!1,Xb(x,T),vJ(x,I,$),$9(x,I,$,T),eN(null,x,I,!0,y,T);case 19:return see(y,x,T);case 22:return QJ(y,x,T)}throw Error(n(156,x.tag))};function Oee(y,x){return Qs(y,x)}function VRe(y,x,T,I){this.tag=y,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ld(y,x,T,I){return new VRe(y,x,T,I)}function _N(y){return y=y.prototype,!(!y||!y.isReactComponent)}function WRe(y){if(typeof y=="function")return _N(y)?1:0;if(y!=null){if(y=y.$$typeof,y===L)return 11;if(y===F)return 14}return 2}function Lm(y,x){var T=y.alternate;return T===null?(T=ld(y.tag,x,y.key,y.mode),T.elementType=y.elementType,T.type=y.type,T.stateNode=y.stateNode,T.alternate=y,y.alternate=T):(T.pendingProps=x,T.type=y.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=y.flags&14680064,T.childLanes=y.childLanes,T.lanes=y.lanes,T.child=y.child,T.memoizedProps=y.memoizedProps,T.memoizedState=y.memoizedState,T.updateQueue=y.updateQueue,x=y.dependencies,T.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},T.sibling=y.sibling,T.index=y.index,T.ref=y.ref,T}function UO(y,x,T,I,$,V){var q=2;if(I=y,typeof y=="function")_N(y)&&(q=1);else if(typeof y=="string")q=5;else e:switch(y){case A:return iy(T.children,$,V,x);case P:q=8,$|=8;break;case O:return y=ld(12,T,x,$|2),y.elementType=O,y.lanes=V,y;case H:return y=ld(13,T,x,$),y.elementType=H,y.lanes=V,y;case B:return y=ld(19,T,x,$),y.elementType=B,y.lanes=V,y;case N:return GO(T,$,V,x);default:if(typeof y=="object"&&y!==null)switch(y.$$typeof){case M:q=10;break e;case D:q=9;break e;case L:q=11;break e;case F:q=14;break e;case z:q=16,I=null;break e}throw Error(n(130,y==null?y:typeof y,""))}return x=ld(q,T,x,$),x.elementType=y,x.type=I,x.lanes=V,x}function iy(y,x,T,I){return y=ld(7,y,I,x),y.lanes=T,y}function GO(y,x,T,I){return y=ld(22,y,I,x),y.elementType=N,y.lanes=T,y.stateNode={isHidden:!1},y}function bN(y,x,T){return y=ld(6,y,null,x),y.lanes=T,y}function SN(y,x,T){return x=ld(4,y.children!==null?y.children:[],y.key,x),x.lanes=T,x.stateNode={containerInfo:y.containerInfo,pendingChildren:null,implementation:y.implementation},x}function URe(y,x,T,I,$){this.tag=x,this.containerInfo=y,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Na(0),this.expirationTimes=Na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.identifierPrefix=I,this.onRecoverableError=$,this.mutableSourceEagerHydrationData=null}function xN(y,x,T,I,$,V,q,de,me){return y=new URe(y,x,T,de,me),x===1?(x=1,V===!0&&(x|=8)):x=0,V=ld(3,null,null,x),y.current=V,V.stateNode=y,V.memoizedState={element:I,isDehydrated:T,cache:null,transitions:null,pendingSuspenseBoundaries:null},F9(V),y}function GRe(y,x,T){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:I==null?null:""+I,children:y,containerInfo:x,implementation:T}}function Mee(y){if(!y)return Em;y=y._reactInternals;e:{if(It(y)!==y||y.tag!==1)throw Error(n(170));var x=y;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(wu(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(n(171))}if(y.tag===1){var T=y.type;if(wu(T))return nJ(y,T,x)}return x}function Iee(y,x,T,I,$,V,q,de,me){return y=xN(T,I,!0,y,$,V,q,de,me),y.context=Mee(null),T=y.current,I=zl(),$=Rm(T),V=Vf(I,$),V.callback=x??null,Pm(T,V,$),y.current.lanes=$,ha(y,$,I),Eu(y,I),y}function YO(y,x,T,I){var $=x.current,V=zl(),q=Rm($);return T=Mee(T),x.context===null?x.context=T:x.pendingContext=T,x=Vf(V,q),x.payload={element:y},I=I===void 0?null:I,I!==null&&(x.callback=I),y=Pm($,x,q),y!==null&&(vh(y,$,q,V),wO(y,$,q)),q}function KO(y){if(y=y.current,!y.child)return null;switch(y.child.tag){case 5:return y.child.stateNode;default:return y.child.stateNode}}function Ree(y,x){if(y=y.memoizedState,y!==null&&y.dehydrated!==null){var T=y.retryLane;y.retryLane=T!==0&&T<x?T:x}}function wN(y,x){Ree(y,x),(y=y.alternate)&&Ree(y,x)}function YRe(){return null}var Dee=typeof reportError=="function"?reportError:function(y){console.error(y)};function CN(y){this._internalRoot=y}XO.prototype.render=CN.prototype.render=function(y){var x=this._internalRoot;if(x===null)throw Error(n(409));YO(y,x,null,null)},XO.prototype.unmount=CN.prototype.unmount=function(){var y=this._internalRoot;if(y!==null){this._internalRoot=null;var x=y.containerInfo;J0(function(){YO(null,y,null,null)}),x[$f]=null}};function XO(y){this._internalRoot=y}XO.prototype.unstable_scheduleHydration=function(y){if(y){var x=oo();y={blockedOn:null,target:y,priority:x};for(var T=0;T<zi.length&&x!==0&&x<zi[T].priority;T++);zi.splice(T,0,y),T===0&&Ff(y)}};function kN(y){return!(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)}function qO(y){return!(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11&&(y.nodeType!==8||y.nodeValue!==" react-mount-point-unstable "))}function Lee(){}function KRe(y,x,T,I,$){if($){if(typeof I=="function"){var V=I;I=function(){var Be=KO(q);V.call(Be)}}var q=Iee(x,I,y,0,null,!1,!1,"",Lee);return y._reactRootContainer=q,y[$f]=q.current,OC(y.nodeType===8?y.parentNode:y),J0(),q}for(;$=y.lastChild;)y.removeChild($);if(typeof I=="function"){var de=I;I=function(){var Be=KO(me);de.call(Be)}}var me=xN(y,0,!1,null,null,!1,!1,"",Lee);return y._reactRootContainer=me,y[$f]=me.current,OC(y.nodeType===8?y.parentNode:y),J0(function(){YO(x,me,T,I)}),me}function ZO(y,x,T,I,$){var V=T._reactRootContainer;if(V){var q=V;if(typeof $=="function"){var de=$;$=function(){var me=KO(q);de.call(me)}}YO(x,q,y,$)}else q=KRe(T,x,y,$,I);return KO(q)}Ds=function(y){switch(y.tag){case 3:var x=y.stateNode;if(x.current.memoizedState.isDehydrated){var T=cr(x.pendingLanes);T!==0&&(el(x,T|1),Eu(x,Xi()),!(Un&6)&&(t1=Xi()+500,Am()))}break;case 13:J0(function(){var I=Hf(y,1);if(I!==null){var $=zl();vh(I,y,1,$)}}),wN(y,1)}},rc=function(y){if(y.tag===13){var x=Hf(y,134217728);if(x!==null){var T=zl();vh(x,y,134217728,T)}wN(y,134217728)}},uh=function(y){if(y.tag===13){var x=Rm(y),T=Hf(y,x);if(T!==null){var I=zl();vh(T,y,x,I)}wN(y,x)}},oo=function(){return Wi},mp=function(y,x){var T=Wi;try{return Wi=y,x()}finally{Wi=T}},di=function(y,x,T){switch(x){case"input":if(Qe(y,T),x=T.name,T.type==="radio"&&x!=null){for(T=y;T.parentNode;)T=T.parentNode;for(T=T.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<T.length;x++){var I=T[x];if(I!==y&&I.form===y.form){var $=fO(I);if(!$)throw Error(n(90));ve(I),Qe(I,$)}}}break;case"textarea":zt(y,T);break;case"select":x=T.value,x!=null&&ut(y,!!T.multiple,x,!1)}},Ge=mN,pt=J0;var XRe={usingClientEntryPoint:!1,Events:[RC,Hb,fO,Ue,ai,mN]},YC={findFiberByHostInstance:U0,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},qRe={bundleType:YC.bundleType,version:YC.version,rendererPackageName:YC.rendererPackageName,rendererConfig:YC.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(y){return y=Zs(y),y===null?null:y.stateNode},findFiberByHostInstance:YC.findFiberByHostInstance||YRe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(KC=__REACT_DEVTOOLS_GLOBAL_HOOK__,!KC.isDisabled&&KC.supportsFiber))try{$a=KC.inject(qRe),_s=KC}catch{}var KC;i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XRe,i.createPortal=function(y,x){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kN(x))throw Error(n(200));return GRe(y,x,null,T)},i.createRoot=function(y,x){if(!kN(y))throw Error(n(299));var T=!1,I="",$=Dee;return x!=null&&(x.unstable_strictMode===!0&&(T=!0),x.identifierPrefix!==void 0&&(I=x.identifierPrefix),x.onRecoverableError!==void 0&&($=x.onRecoverableError)),x=xN(y,1,!1,null,null,T,!1,I,$),y[$f]=x.current,OC(y.nodeType===8?y.parentNode:y),new CN(x)},i.findDOMNode=function(y){if(y==null)return null;if(y.nodeType===1)return y;var x=y._reactInternals;if(x===void 0)throw typeof y.render=="function"?Error(n(188)):(y=Object.keys(y).join(","),Error(n(268,y)));return y=Zs(x),y=y===null?null:y.stateNode,y},i.flushSync=function(y){return J0(y)},i.hydrate=function(y,x,T){if(!qO(x))throw Error(n(200));return ZO(null,y,x,!0,T)},i.hydrateRoot=function(y,x,T){if(!kN(y))throw Error(n(405));var I=T!=null&&T.hydratedSources||null,$=!1,V="",q=Dee;if(T!=null&&(T.unstable_strictMode===!0&&($=!0),T.identifierPrefix!==void 0&&(V=T.identifierPrefix),T.onRecoverableError!==void 0&&(q=T.onRecoverableError)),x=Iee(x,null,y,1,T??null,$,!1,V,q),y[$f]=x.current,OC(y),I)for(y=0;y<I.length;y++)T=I[y],$=T._getVersion,$=$(T._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[T,$]:x.mutableSourceEagerHydrationData.push(T,$);return new XO(x)},i.render=function(y,x,T){if(!qO(x))throw Error(n(200));return ZO(null,y,x,!1,T)},i.unmountComponentAtNode=function(y){if(!qO(y))throw Error(n(40));return y._reactRootContainer?(J0(function(){ZO(null,null,y,!1,function(){y._reactRootContainer=null,y[$f]=null})}),!0):!1},i.unstable_batchedUpdates=mN,i.unstable_renderSubtreeIntoContainer=function(y,x,T,I){if(!qO(T))throw Error(n(200));if(y==null||y._reactInternals===void 0)throw Error(n(38));return ZO(y,x,T,!1,I)},i.version="18.2.0-next-9e3b772b8-20220608"}),hb=on((i,e)=>{function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=a7e()}),o7e=on(i=>{var e=hb();i.createRoot=e.createRoot,i.hydrateRoot=e.hydrateRoot}),Kc=on((i,e)=>{function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),l7e=on(i=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""};i.default=e}),u7e=on(i=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={locale:"zh_CN",yearFormat:"YYYY",cellDateFormat:"D",cellMeridiemFormat:"A",today:"",now:"",backToToday:"",ok:"",timeSelect:"",dateSelect:"",weekSelect:"",clear:"",month:"",year:"",previousMonth:" ()",nextMonth:" ()",monthSelect:"",yearSelect:"",decadeSelect:"",previousYear:" (Control)",nextYear:" (Control)",previousDecade:"",nextDecade:"",previousCentury:"",nextCentury:""};i.default=e}),Mye=on(i=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={placeholder:"",rangePlaceholder:["",""]};i.default=e}),Iye=on(i=>{var e=Kc().default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e(u7e()),n=e(Mye()),r={lang:Object.assign({placeholder:"",yearPlaceholder:"",quarterPlaceholder:"",monthPlaceholder:"",weekPlaceholder:"",rangePlaceholder:["",""],rangeYearPlaceholder:["",""],rangeMonthPlaceholder:["",""],rangeQuarterPlaceholder:["",""],rangeWeekPlaceholder:["",""]},t.default),timePickerLocale:Object.assign({},n.default)};r.lang.ok="",i.default=r}),c7e=on(i=>{var e=Kc().default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e(Iye());i.default=t.default}),d7e=on(i=>{var e=Kc().default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e(l7e()),n=e(c7e()),r=e(Iye()),s=e(Mye()),a="${label}${type}",o={locale:"zh-cn",Pagination:t.default,DatePicker:r.default,TimePicker:s.default,Calendar:n.default,global:{placeholder:""},Table:{filterTitle:"",filterConfirm:"",filterReset:"",filterEmptyText:"",filterCheckall:"",filterSearchPlaceholder:"",selectAll:"",selectInvert:"",selectNone:"",selectionAll:"",sortTitle:"",expand:"",collapse:"",triggerDesc:"",triggerAsc:"",cancelSort:""},Modal:{okText:"",cancelText:"",justOkText:""},Tour:{Next:"",Previous:"",Finish:""},Popconfirm:{cancelText:"",okText:""},Transfer:{titles:["",""],searchPlaceholder:"",itemUnit:"",itemsUnit:"",remove:"",selectCurrent:"",removeCurrent:"",selectAll:"",removeAll:"",selectInvert:""},Upload:{uploading:"",removeFile:"",uploadError:"",previewFile:"",downloadFile:""},Empty:{description:""},Icon:{icon:""},Text:{edit:"",copy:"",copied:"",expand:""},Form:{optional:"",defaultValidateMessages:{default:"${label}",required:"${label}",enum:"${label}[${enum}]",whitespace:"${label}",date:{format:"${label}",parse:"${label}",invalid:"${label}"},types:{string:a,method:a,array:a,object:a,number:a,date:a,boolean:a,integer:a,float:a,regexp:a,email:a,url:a,hex:a},string:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},number:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},array:{len:"${len}${label}",min:"${min}${label}",max:"${max}${label}",range:"${label}${min}-${max}"},pattern:{mismatch:"${label}${pattern}"}}},Image:{preview:""},QRCode:{expired:"",refresh:"",scanned:""},ColorPicker:{presetEmpty:""}};i.default=o}),h7e=on((i,e)=>{e.exports=d7e()}),p7e=on(i=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};i.default=e}),f7e=on(i=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};i.default=e}),Rye=on(i=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};i.default=e}),Dye=on(i=>{var e=Kc().default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e(f7e()),n=e(Rye()),r={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},t.default),timePickerLocale:Object.assign({},n.default)};i.default=r}),g7e=on(i=>{var e=Kc().default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e(Dye());i.default=t.default}),m7e=on(i=>{var e=Kc().default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e(p7e()),n=e(g7e()),r=e(Dye()),s=e(Rye()),a="${label} is not a valid ${type}",o={locale:"en",Pagination:t.default,DatePicker:r.default,TimePicker:s.default,Calendar:n.default,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:a,method:a,array:a,object:a,number:a,date:a,boolean:a,integer:a,float:a,regexp:a,email:a,url:a,hex:a},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty"}};i.default=o}),v7e=on((i,e)=>{e.exports=m7e()}),y7e=on(i=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={items_per_page:" / ",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5",next_5:" 5",prev_3:" 3",next_3:" 3",page_size:""};i.default=e}),_7e=on(i=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={locale:"ja_JP",today:"",now:"",backToToday:"",ok:"",timeSelect:"",dateSelect:"",weekSelect:"",clear:"",month:"",year:"",previousMonth:" ()",nextMonth:" ()",monthSelect:"",yearSelect:"",decadeSelect:"",yearFormat:"YYYY",dayFormat:"D",dateFormat:"YYYYMD",dateTimeFormat:"YYYYMD HHmmss",previousYear:" (Control)",nextYear:" (Control)",previousDecade:"",nextDecade:"",previousCentury:"",nextCentury:""};i.default=e}),Lye=on(i=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={placeholder:"",rangePlaceholder:["",""]};i.default=e}),Fye=on(i=>{var e=Kc().default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e(_7e()),n=e(Lye()),r={lang:Object.assign({placeholder:"",rangePlaceholder:["",""]},t.default),timePickerLocale:Object.assign({},n.default)};i.default=r}),b7e=on(i=>{var e=Kc().default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e(Fye());i.default=t.default}),S7e=on(i=>{var e=Kc().default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e(y7e()),n=e(b7e()),r=e(Fye()),s=e(Lye()),a="${label}${type}",o={locale:"ja",Pagination:t.default,DatePicker:r.default,TimePicker:s.default,Calendar:n.default,Table:{filterTitle:"",filterConfirm:"OK",filterReset:"",filterEmptyText:"",filterCheckall:"",filterSearchPlaceholder:"",selectAll:"",selectInvert:"",selectNone:"",selectionAll:"",sortTitle:"",expand:"",collapse:"",triggerDesc:"",triggerAsc:"",cancelSort:""},Modal:{okText:"OK",cancelText:"",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:""},Transfer:{titles:["",""],searchPlaceholder:"",itemUnit:"",itemsUnit:""},Upload:{uploading:"...",removeFile:"",uploadError:"",previewFile:"",downloadFile:""},Empty:{description:""},Form:{defaultValidateMessages:{default:"${label}",required:"${label}",enum:"${label}[${enum}]",whitespace:"${label}",date:{format:"${label}",parse:"${label}",invalid:"${label}"},types:{string:a,method:a,array:a,object:a,number:a,date:a,boolean:a,integer:a,float:a,regexp:a,email:a,url:a,hex:a},string:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},number:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},array:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},pattern:{mismatch:"${label}${pattern}"}}}};i.default=o}),x7e=on((i,e)=>{e.exports=S7e()}),Bye=on(i=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""};i.default=e}),w7e=on(i=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={locale:"zh_TW",today:"",now:"",backToToday:"",ok:"",timeSelect:"",dateSelect:"",weekSelect:"",clear:"",month:"",year:"",previousMonth:" ()",nextMonth:" ()",monthSelect:"",yearSelect:"",decadeSelect:"",yearFormat:"YYYY",dayFormat:"D",dateFormat:"YYYYMD",dateTimeFormat:"YYYYMD HHmmss",previousYear:" (Control)",nextYear:" (Control)",previousDecade:"",nextDecade:"",previousCentury:"",nextCentury:""};i.default=e}),GY=on(i=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={placeholder:""};i.default=e}),YY=on(i=>{var e=Kc().default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e(w7e()),n=e(GY()),r={lang:Object.assign({placeholder:"",yearPlaceholder:"",quarterPlaceholder:"",monthPlaceholder:"",weekPlaceholder:"",rangePlaceholder:["",""],rangeYearPlaceholder:["",""],rangeMonthPlaceholder:["",""],rangeQuarterPlaceholder:["",""],rangeWeekPlaceholder:["",""]},t.default),timePickerLocale:Object.assign({},n.default)};r.lang.ok=" ",i.default=r}),$ye=on(i=>{var e=Kc().default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e(YY());i.default=t.default}),C7e=on(i=>{var e=Kc().default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e(Bye()),n=e($ye()),r=e(YY()),s=e(GY()),a="${label}${type}",o={locale:"zh-hk",Pagination:t.default,DatePicker:r.default,TimePicker:s.default,Calendar:n.default,global:{placeholder:""},Table:{filterTitle:"",filterConfirm:"",filterReset:"",filterEmptyText:"",selectAll:"",selectInvert:"",selectNone:"",selectionAll:"",sortTitle:"",expand:"",collapse:"",triggerDesc:"",triggerAsc:"",cancelSort:""},Modal:{okText:"",cancelText:"",justOkText:""},Tour:{Next:"",Previous:"",Finish:""},Popconfirm:{okText:"",cancelText:""},Transfer:{titles:["",""],searchPlaceholder:"",itemUnit:"",itemsUnit:"",remove:"",selectCurrent:"",removeCurrent:"",selectAll:"",removeAll:"",selectInvert:""},Upload:{uploading:"...",removeFile:"",uploadError:"",previewFile:"",downloadFile:""},Empty:{description:""},Icon:{icon:""},Text:{edit:"",copy:"",copied:"",expand:""},Form:{defaultValidateMessages:{default:"${label}",required:"${label}",enum:"${label}[${enum}]",whitespace:"${label}",date:{format:"${label}",parse:"${label}",invalid:"${label}"},types:{string:a,method:a,array:a,object:a,number:a,date:a,boolean:a,integer:a,float:a,regexp:a,email:a,url:a,hex:a},string:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},number:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},array:{len:"${len}${label}",min:"${min}${label}",max:"${max}${label}",range:"${label}${min}-${max}"},pattern:{mismatch:"${label}${pattern}"}}},Image:{preview:""},QRCode:{expired:"",refresh:"",scanned:""}};i.default=o}),k7e=on((i,e)=>{e.exports=C7e()}),E7e=on(i=>{var e=Kc().default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e(Bye()),n=e($ye()),r=e(YY()),s=e(GY()),a="${label}${type}",o={locale:"zh-tw",Pagination:t.default,DatePicker:r.default,TimePicker:s.default,Calendar:n.default,global:{placeholder:""},Table:{filterTitle:"",filterConfirm:"",filterReset:"",filterEmptyText:"",selectAll:"",selectInvert:"",selectNone:"",selectionAll:"",sortTitle:"",expand:"",collapse:"",triggerDesc:"",triggerAsc:"",cancelSort:""},Modal:{okText:"",cancelText:"",justOkText:""},Tour:{Next:"",Previous:"",Finish:""},Popconfirm:{okText:"",cancelText:""},Transfer:{titles:["",""],searchPlaceholder:"",itemUnit:"",itemsUnit:"",remove:"",selectCurrent:"",removeCurrent:"",selectAll:"",removeAll:"",selectInvert:""},Upload:{uploading:"...",removeFile:"",uploadError:"",previewFile:"",downloadFile:""},Empty:{description:""},Icon:{icon:""},Text:{edit:"",copy:"",copied:"",expand:""},Form:{optional:"",defaultValidateMessages:{default:"${label}",required:"${label}",enum:"${label}[${enum}]",whitespace:"${label}",date:{format:"${label}",parse:"${label}",invalid:"${label}"},types:{string:a,method:a,array:a,object:a,number:a,date:a,boolean:a,integer:a,float:a,regexp:a,email:a,url:a,hex:a},string:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},number:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},array:{len:"${len}${label}",min:"${min}${label}",max:"${max}${label}",range:"${label}${min}-${max}"},pattern:{mismatch:"${label}${pattern}"}}},Image:{preview:""},QRCode:{expired:"",refresh:"",scanned:""}};i.default=o}),A7e=on((i,e)=>{e.exports=E7e()});function Si(){return Si=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Si.apply(this,arguments)}var Nye=oe(ge()),T7e=oe(ge()),P7e=oe(iye());function h0(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[];return T7e.default.Children.forEach(i,function(n){n==null&&!e.keepEmpty||(Array.isArray(n)?t=t.concat(h0(n)):(0,P7e.isFragment)(n)&&n.props?t=t.concat(h0(n.props.children,e)):t.push(n))}),t}var _H={},O7e=function(i){};function M7e(i,e){}function I7e(i,e){}function R7e(){_H={}}function jye(i,e,t){!e&&!_H[t]&&(i(!1,t),_H[t]=!0)}function q6(i,e){jye(M7e,i,e)}function D7e(i,e){jye(I7e,i,e)}q6.preMessage=O7e;q6.resetWarned=R7e;q6.noteOnce=D7e;var Vd=q6;function hn(i){"@babel/helpers - typeof";return hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn(i)}function L7e(i,e){if(hn(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e||"default");if(hn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function zye(i){var e=L7e(i,"string");return hn(e)=="symbol"?e:e+""}function be(i,e,t){return e=zye(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function xie(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function Re(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xie(Object(t),!0).forEach(function(n){be(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):xie(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}var F7e=oe(ge()),B7e=oe(hb());function VR(i){return i instanceof HTMLElement||i instanceof SVGElement}function xE(i){return VR(i)?i:i instanceof F7e.default.Component?B7e.default.findDOMNode(i):null}oe(ge());var ij=oe(iye()),$7e=oe(ge());function Z6(i,e,t){var n=$7e.useRef({});return(!("value"in n.current)||t(n.current.condition,e))&&(n.current.value=i(),n.current.condition=e),n.current.value}function KY(i,e){typeof i=="function"?i(e):hn(i)==="object"&&i&&"current"in i&&(i.current=e)}function ih(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];var n=e.filter(function(r){return r});return n.length<=1?n[0]:function(r){e.forEach(function(s){KY(s,r)})}}function Q6(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return Z6(function(){return ih.apply(void 0,e)},e,function(n,r){return n.length!==r.length||n.every(function(s,a){return s!==r[a]})})}function Ow(i){var e,t,n=(0,ij.isMemo)(i)?i.type.type:i.type;return!(typeof n=="function"&&!((e=n.prototype)!==null&&e!==void 0&&e.render)&&n.$$typeof!==ij.ForwardRef||typeof i=="function"&&!((t=i.prototype)!==null&&t!==void 0&&t.render)&&i.$$typeof!==ij.ForwardRef)}var Sd=oe(ge()),X1=oe(ge()),bH=X1.createContext(null);function N7e(i){var e=i.children,t=i.onBatchResize,n=X1.useRef(0),r=X1.useRef([]),s=X1.useContext(bH),a=X1.useCallback(function(o,l,u){n.current+=1;var c=n.current;r.current.push({size:o,element:l,data:u}),Promise.resolve().then(function(){c===n.current&&(t==null||t(r.current),r.current=[])}),s==null||s(o,l,u)},[t,s]);return X1.createElement(bH.Provider,{value:a},e)}var Hye=function(){if(typeof Map<"u")return Map;function i(e,t){var n=-1;return e.some(function(r,s){return r[0]===t?(n=s,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var n=i(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(t,n){var r=i(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},e.prototype.delete=function(t){var n=this.__entries__,r=i(n,t);~r&&n.splice(r,1)},e.prototype.has=function(t){return!!~i(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,n){n===void 0&&(n=null);for(var r=0,s=this.__entries__;r<s.length;r++){var a=s[r];t.call(n,a[1],a[0])}},e}()}(),SH=typeof window<"u"&&typeof document<"u"&&window.document===document,WR=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),j7e=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(WR):function(i){return setTimeout(function(){return i(Date.now())},1e3/60)}}(),z7e=2;function H7e(i,e){var t=!1,n=!1,r=0;function s(){t&&(t=!1,i()),n&&o()}function a(){j7e(s)}function o(){var l=Date.now();if(t){if(l-r<z7e)return;n=!0}else t=!0,n=!1,setTimeout(a,e);r=l}return o}var V7e=20,W7e=["top","right","bottom","left","width","height","size","weight"],U7e=typeof MutationObserver<"u",G7e=function(){function i(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=H7e(this.refresh.bind(this),V7e)}return i.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},i.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},i.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},i.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},i.prototype.connect_=function(){!SH||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),U7e?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},i.prototype.disconnect_=function(){!SH||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},i.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=t===void 0?"":t,r=W7e.some(function(s){return!!~n.indexOf(s)});r&&this.refresh()},i.getInstance=function(){return this.instance_||(this.instance_=new i),this.instance_},i.instance_=null,i}(),Vye=function(i,e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];Object.defineProperty(i,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return i},Rx=function(i){var e=i&&i.ownerDocument&&i.ownerDocument.defaultView;return e||WR},Wye=J6(0,0,0,0);function UR(i){return parseFloat(i)||0}function wie(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(n,r){var s=i["border-"+r+"-width"];return n+UR(s)},0)}function Y7e(i){for(var e=["top","right","bottom","left"],t={},n=0,r=e;n<r.length;n++){var s=r[n],a=i["padding-"+s];t[s]=UR(a)}return t}function K7e(i){var e=i.getBBox();return J6(0,0,e.width,e.height)}function X7e(i){var e=i.clientWidth,t=i.clientHeight;if(!e&&!t)return Wye;var n=Rx(i).getComputedStyle(i),r=Y7e(n),s=r.left+r.right,a=r.top+r.bottom,o=UR(n.width),l=UR(n.height);if(n.boxSizing==="border-box"&&(Math.round(o+s)!==e&&(o-=wie(n,"left","right")+s),Math.round(l+a)!==t&&(l-=wie(n,"top","bottom")+a)),!Z7e(i)){var u=Math.round(o+s)-e,c=Math.round(l+a)-t;Math.abs(u)!==1&&(o-=u),Math.abs(c)!==1&&(l-=c)}return J6(r.left,r.top,o,l)}var q7e=function(){return typeof SVGGraphicsElement<"u"?function(i){return i instanceof Rx(i).SVGGraphicsElement}:function(i){return i instanceof Rx(i).SVGElement&&typeof i.getBBox=="function"}}();function Z7e(i){return i===Rx(i).document.documentElement}function Q7e(i){return SH?q7e(i)?K7e(i):X7e(i):Wye}function J7e(i){var e=i.x,t=i.y,n=i.width,r=i.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(s.prototype);return Vye(a,{x:e,y:t,width:n,height:r,top:t,right:e+n,bottom:r+t,left:e}),a}function J6(i,e,t,n){return{x:i,y:e,width:t,height:n}}var e8e=function(){function i(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=J6(0,0,0,0),this.target=e}return i.prototype.isActive=function(){var e=Q7e(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},i.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},i}(),t8e=function(){function i(e,t){var n=J7e(t);Vye(this,{target:e,contentRect:n})}return i}(),i8e=function(){function i(e,t,n){if(this.activeObservations_=[],this.observations_=new Hye,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return i.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Rx(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new e8e(e)),this.controller_.addObserver(this),this.controller_.refresh())}},i.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Rx(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},i.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},i.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},i.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(n){return new t8e(n.target,n.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},i.prototype.clearActive=function(){this.activeObservations_.splice(0)},i.prototype.hasActive=function(){return this.activeObservations_.length>0},i}(),Uye=typeof WeakMap<"u"?new WeakMap:new Hye,Gye=function(){function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=G7e.getInstance(),n=new i8e(e,t,this);Uye.set(this,n)}return i}();["observe","unobserve","disconnect"].forEach(function(i){Gye.prototype[i]=function(){var e;return(e=Uye.get(this))[i].apply(e,arguments)}});var n8e=function(){return typeof WR.ResizeObserver<"u"?WR.ResizeObserver:Gye}(),r8e=n8e,vv=new Map;function s8e(i){i.forEach(function(e){var t,n=e.target;(t=vv.get(n))===null||t===void 0||t.forEach(function(r){return r(n)})})}var Yye=new r8e(s8e);function a8e(i,e){vv.has(i)||(vv.set(i,new Set),Yye.observe(i)),vv.get(i).add(e)}function o8e(i,e){vv.has(i)&&(vv.get(i).delete(e),vv.get(i).size||(Yye.unobserve(i),vv.delete(i)))}function Rl(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Cie(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,zye(n.key),n)}}function Dl(i,e,t){return e&&Cie(i.prototype,e),t&&Cie(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function xH(i,e){return xH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},xH(i,e)}function Mw(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&xH(i,e)}function Dx(i){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dx(i)}function XY(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XY=function(){return!!i})()}function Gn(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Kye(i,e){if(e&&(hn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gn(i)}function eB(i){var e=XY();return function(){var t=Dx(i),n;if(e){var r=Dx(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return Kye(this,n)}}var l8e=oe(ge()),u8e=function(i){Mw(t,i);var e=eB(t);function t(){return Rl(this,t),e.apply(this,arguments)}return Dl(t,[{key:"render",value:function(){return this.props.children}}]),t}(l8e.Component);function c8e(i,e){var t=i.children,n=i.disabled,r=Sd.useRef(null),s=Sd.useRef(null),a=Sd.useContext(bH),o=typeof t=="function",l=o?t(r):t,u=Sd.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),c=!o&&Sd.isValidElement(l)&&Ow(l),d=c?l.ref:null,h=Q6(d,r),p=function(){var v;return xE(r.current)||(r.current&&hn(r.current)==="object"?xE((v=r.current)===null||v===void 0?void 0:v.nativeElement):null)||xE(s.current)};Sd.useImperativeHandle(e,function(){return p()});var f=Sd.useRef(i);f.current=i;var g=Sd.useCallback(function(v){var m=f.current,b=m.onResize,_=m.data,S=v.getBoundingClientRect(),C=S.width,k=S.height,E=v.offsetWidth,A=v.offsetHeight,P=Math.floor(C),O=Math.floor(k);if(u.current.width!==P||u.current.height!==O||u.current.offsetWidth!==E||u.current.offsetHeight!==A){var M={width:P,height:O,offsetWidth:E,offsetHeight:A};u.current=M;var D=E===Math.round(C)?C:E,L=A===Math.round(k)?k:A,H=Re(Re({},M),{},{offsetWidth:D,offsetHeight:L});a==null||a(H,v,_),b&&Promise.resolve().then(function(){b(H,v)})}},[]);return Sd.useEffect(function(){var v=p();return v&&!n&&a8e(v,g),function(){return o8e(v,g)}},[r.current,n]),Sd.createElement(u8e,{ref:s},c?Sd.cloneElement(l,{ref:h}):l)}var d8e=Sd.forwardRef(c8e),h8e=d8e,p8e="rc-observer-key";function f8e(i,e){var t=i.children,n=typeof t=="function"?[t]:h0(t);return n.map(function(r,s){var a=(r==null?void 0:r.key)||"".concat(p8e,"-").concat(s);return Nye.createElement(h8e,Si({},i,{key:a,ref:s===0?e:void 0}),r)})}var Xye=Nye.forwardRef(f8e);Xye.Collection=N7e;var pb=Xye;function um(i,e){var t=Re({},i);return Array.isArray(e)&&e.forEach(function(n){delete t[n]}),t}function wH(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}function g8e(i){if(Array.isArray(i))return wH(i)}function qye(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function qY(i,e){if(i){if(typeof i=="string")return wH(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wH(i,e)}}function m8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bt(i){return g8e(i)||qye(i)||qY(i)||m8e()}var Zye=function(i){return+setTimeout(i,16)},Qye=function(i){return clearTimeout(i)};typeof window<"u"&&"requestAnimationFrame"in window&&(Zye=function(i){return window.requestAnimationFrame(i)},Qye=function(i){return window.cancelAnimationFrame(i)});var kie=0,ZY=new Map;function Jye(i){ZY.delete(i)}var e_e=function(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;kie+=1;var t=kie;function n(r){if(r===0)Jye(t),i();else{var s=Zye(function(){n(r-1)});ZY.set(t,s)}}return n(e),t};e_e.cancel=function(i){var e=ZY.get(i);return Jye(i),Qye(e)};var fs=e_e,Ua=oe(ge());function t_e(i){if(Array.isArray(i))return i}function v8e(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var n,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(i)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function i_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ze(i,e){return t_e(i)||v8e(i,e)||qY(i,e)||i_e()}function y8e(i){for(var e=0,t,n=0,r=i.length;r>=4;++n,r-=4)t=i.charCodeAt(n)&255|(i.charCodeAt(++n)&255)<<8|(i.charCodeAt(++n)&255)<<16|(i.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(i.charCodeAt(n+2)&255)<<16;case 2:e^=(i.charCodeAt(n+1)&255)<<8;case 1:e^=i.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var GR=y8e;function nu(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function _8e(i,e){if(!i)return!1;if(i.contains)return i.contains(e);for(var t=e;t;){if(t===i)return!0;t=t.parentNode}return!1}var Eie="data-rc-order",Aie="data-rc-priority",b8e="rc-util-key",CH=new Map;function n_e(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=i.mark;return e?e.startsWith("data-")?e:"data-".concat(e):b8e}function tB(i){if(i.attachTo)return i.attachTo;var e=document.querySelector("head");return e||document.body}function S8e(i){return i==="queue"?"prependQueue":i?"prepend":"append"}function QY(i){return Array.from((CH.get(i)||i).children).filter(function(e){return e.tagName==="STYLE"})}function r_e(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!nu())return null;var t=e.csp,n=e.prepend,r=e.priority,s=r===void 0?0:r,a=S8e(n),o=a==="prependQueue",l=document.createElement("style");l.setAttribute(Eie,a),o&&s&&l.setAttribute(Aie,"".concat(s)),t!=null&&t.nonce&&(l.nonce=t==null?void 0:t.nonce),l.innerHTML=i;var u=tB(e),c=u.firstChild;if(n){if(o){var d=(e.styles||QY(u)).filter(function(h){if(!["prepend","prependQueue"].includes(h.getAttribute(Eie)))return!1;var p=Number(h.getAttribute(Aie)||0);return s>=p});if(d.length)return u.insertBefore(l,d[d.length-1].nextSibling),l}u.insertBefore(l,c)}else u.appendChild(l);return l}function s_e(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=tB(e);return(e.styles||QY(t)).find(function(n){return n.getAttribute(n_e(e))===i})}function Lx(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=s_e(i,e);if(t){var n=tB(e);n.removeChild(t)}}function x8e(i,e){var t=CH.get(i);if(!t||!_8e(document,t)){var n=r_e("",e),r=n.parentNode;CH.set(i,r),i.removeChild(n)}}function Gg(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=tB(t),r=QY(n),s=Re(Re({},t),{},{styles:r});x8e(n,s);var a=s_e(e,s);if(a){var o,l;if((o=s.csp)!==null&&o!==void 0&&o.nonce&&a.nonce!==((l=s.csp)===null||l===void 0?void 0:l.nonce)){var u;a.nonce=(u=s.csp)===null||u===void 0?void 0:u.nonce}return a.innerHTML!==i&&(a.innerHTML=i),a}var c=r_e(i,s);return c.setAttribute(n_e(s),e),c}var w8e=oe(ge());function C8e(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,s;for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}function gr(i,e){if(i==null)return{};var t=C8e(i,e),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);for(r=0;r<s.length;r++)n=s[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(t[n]=i[n])}return t}function k8e(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function r(s,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=n.has(s);if(Vd(!l,"Warning: There may be circular references"),l)return!1;if(s===a)return!0;if(t&&o>1)return!1;n.add(s);var u=o+1;if(Array.isArray(s)){if(!Array.isArray(a)||s.length!==a.length)return!1;for(var c=0;c<s.length;c++)if(!r(s[c],a[c],u))return!1;return!0}if(s&&a&&hn(s)==="object"&&hn(a)==="object"){var d=Object.keys(s);return d.length!==Object.keys(a).length?!1:d.every(function(h){return r(s[h],a[h],u)})}return!1}return r(i,e)}var a_e=k8e,E8e=oe(ge()),A8e="%";function kH(i){return i.join(A8e)}var T8e=function(){function i(e){Rl(this,i),be(this,"instanceId",void 0),be(this,"cache",new Map),this.instanceId=e}return Dl(i,[{key:"get",value:function(e){return this.opGet(kH(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(kH(e),t)}},{key:"opUpdate",value:function(e,t){var n=this.cache.get(e),r=t(n);r===null?this.cache.delete(e):this.cache.set(e,r)}}]),i}(),P8e=T8e,Fx="data-token-hash",tp="data-css-hash",yv="__cssinjs_instance__";function O8e(){var i=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(tp,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(r){r[yv]=r[yv]||i,r[yv]===i&&document.head.insertBefore(r,t)});var n={};Array.from(document.querySelectorAll("style[".concat(tp,"]"))).forEach(function(r){var s=r.getAttribute(tp);if(n[s]){if(r[yv]===i){var a;(a=r.parentNode)===null||a===void 0||a.removeChild(r)}}else n[s]=!0})}return new P8e(i)}var M8e=E8e.createContext({hashPriority:"low",cache:O8e(),defaultCache:!0}),iB=M8e;function I8e(i,e){if(i.length!==e.length)return!1;for(var t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}var JY=function(){function i(){Rl(this,i),be(this,"cache",void 0),be(this,"keys",void 0),be(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Dl(i,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={map:this.cache};return e.forEach(function(a){if(!s)s=void 0;else{var o;s=(o=s)===null||o===void 0||(o=o.map)===null||o===void 0?void 0:o.get(a)}}),(t=s)!==null&&t!==void 0&&t.value&&r&&(s.value[1]=this.cacheCallTimes++),(n=s)===null||n===void 0?void 0:n.value}},{key:"get",value:function(e){var t;return(t=this.internalGet(e,!0))===null||t===void 0?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(e,t){var n=this;if(!this.has(e)){if(this.size()+1>i.MAX_CACHE_SIZE+i.MAX_CACHE_OFFSET){var r=this.keys.reduce(function(l,u){var c=ze(l,2),d=c[1];return n.internalGet(u)[1]<d?[u,n.internalGet(u)[1]]:l},[this.keys[0],this.cacheCallTimes]),s=ze(r,1),a=s[0];this.delete(a)}this.keys.push(e)}var o=this.cache;e.forEach(function(l,u){if(u===e.length-1)o.set(l,{value:[t,n.cacheCallTimes++]});else{var c=o.get(l);c?c.map||(c.map=new Map):o.set(l,{map:new Map}),o=o.get(l).map}})}},{key:"deleteByPath",value:function(e,t){var n=e.get(t[0]);if(t.length===1){var r;return n.map?e.set(t[0],{map:n.map}):e.delete(t[0]),(r=n.value)===null||r===void 0?void 0:r[0]}var s=this.deleteByPath(n.map,t.slice(1));return(!n.map||n.map.size===0)&&!n.value&&e.delete(t[0]),s}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter(function(t){return!I8e(t,e)}),this.deleteByPath(this.cache,e)}}]),i}();be(JY,"MAX_CACHE_SIZE",20);be(JY,"MAX_CACHE_OFFSET",5);var Tie=0,o_e=function(){function i(e){Rl(this,i),be(this,"derivatives",void 0),be(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=Tie,e.length===0&&e.length>0,Tie+=1}return Dl(i,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce(function(t,n){return n(e,t)},void 0)}}]),i}(),nj=new JY;function EH(i){var e=Array.isArray(i)?i:[i];return nj.has(e)||nj.set(e,new o_e(e)),nj.get(e)}var R8e=new WeakMap,rj={};function D8e(i,e){for(var t=R8e,n=0;n<e.length;n+=1){var r=e[n];t.has(r)||t.set(r,new WeakMap),t=t.get(r)}return t.has(rj)||t.set(rj,i()),t.get(rj)}var Pie=new WeakMap;function wE(i){var e=Pie.get(i)||"";return e||(Object.keys(i).forEach(function(t){var n=i[t];e+=t,n instanceof o_e?e+=n.id:n&&hn(n)==="object"?e+=wE(n):e+=n}),Pie.set(i,e)),e}function Oie(i,e){return GR("".concat(e,"_").concat(wE(i)))}var CE="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),l_e="_bAmBoO_";function L8e(i,e,t){if(nu()){var n,r;Gg(i,CE);var s=document.createElement("div");s.style.position="fixed",s.style.left="0",s.style.top="0",e==null||e(s),document.body.appendChild(s);var a=(n=getComputedStyle(s).content)===null||n===void 0?void 0:n.includes(l_e);return(r=s.parentNode)===null||r===void 0||r.removeChild(s),Lx(CE),a}return!1}var sj=void 0;function F8e(){return sj===void 0&&(sj=L8e("@layer ".concat(CE," { .").concat(CE,' { content: "').concat(l_e,'"!important; } }'),function(i){i.className=CE})),sj}var AH=nu();function $t(i){return typeof i=="number"?"".concat(i,"px"):i}function YR(i,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r)return i;var s=Re(Re({},n),{},be(be({},Fx,e),tp,t)),a=Object.keys(s).map(function(o){var l=s[o];return l?"".concat(o,'="').concat(l,'"'):null}).filter(function(o){return o}).join(" ");return"<style ".concat(a,">").concat(i,"</style>")}var u_e=function(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(e?"".concat(e,"-"):"").concat(i).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},B8e=function(i,e,t){return Object.keys(i).length?".".concat(e).concat(t!=null&&t.scope?".".concat(t.scope):"","{").concat(Object.entries(i).map(function(n){var r=ze(n,2),s=r[0],a=r[1];return"".concat(s,":").concat(a,";")}).join(""),"}"):""},c_e=function(i,e,t){var n={},r={};return Object.entries(i).forEach(function(s){var a,o,l=ze(s,2),u=l[0],c=l[1];if(t!=null&&(a=t.preserve)!==null&&a!==void 0&&a[u])r[u]=c;else if((typeof c=="string"||typeof c=="number")&&!(t!=null&&(o=t.ignore)!==null&&o!==void 0&&o[u])){var d,h=u_e(u,t==null?void 0:t.prefix);n[h]=typeof c=="number"&&!(t!=null&&(d=t.unitless)!==null&&d!==void 0&&d[u])?"".concat(c,"px"):String(c),r[u]="var(".concat(h,")")}}),[r,B8e(n,e,{scope:t==null?void 0:t.scope})]},Mie=oe(ge()),TH=oe(ge()),Iie=nu()?TH.useLayoutEffect:TH.useEffect,d_e=function(i,e){var t=TH.useRef(!0);Iie(function(){return i(t.current)},e),Iie(function(){return t.current=!1,function(){t.current=!0}},[])},kE=function(i,e){d_e(function(t){if(!t)return i()},e)},cs=d_e,h_e=oe(ge()),$8e=Re({},h_e),Rie=$8e.useInsertionEffect,N8e=function(i,e,t){h_e.useMemo(i,t),cs(function(){return e(!0)},t)},j8e=Rie?function(i,e,t){return Rie(function(){return i(),e()},t)}:N8e,z8e=j8e,p_e=oe(ge()),H8e=Re({},p_e),V8e=H8e.useInsertionEffect,W8e=function(i){var e=[],t=!1;function n(r){t||e.push(r)}return p_e.useEffect(function(){return t=!1,function(){t=!0,e.length&&e.forEach(function(r){return r()})}},i),n},U8e=function(){return function(i){i()}},G8e=typeof V8e<"u"?W8e:U8e,Y8e=G8e;function eK(i,e,t,n,r){var s=Mie.useContext(iB),a=s.cache,o=[i].concat(Bt(e)),l=kH(o),u=Y8e([l]),c=function(p){a.opUpdate(l,function(f){var g=f||[void 0,void 0],v=ze(g,2),m=v[0],b=m===void 0?0:m,_=v[1],S=_,C=S||t(),k=[b,C];return p?p(k):k})};Mie.useMemo(function(){c()},[l]);var d=a.opGet(l),h=d[1];return z8e(function(){r==null||r(h)},function(p){return c(function(f){var g=ze(f,2),v=g[0],m=g[1];return p&&v===0&&(r==null||r(h)),[v+1,m]}),function(){a.opUpdate(l,function(f){var g=f||[],v=ze(g,2),m=v[0],b=m===void 0?0:m,_=v[1],S=b-1;return S===0?(u(function(){(p||!a.opGet(l))&&(n==null||n(_,!1))}),null):[b-1,_]})}},[l]),h}var K8e={},X8e="css",Dy=new Map;function q8e(i){Dy.set(i,(Dy.get(i)||0)+1)}function Z8e(i,e){if(typeof document<"u"){var t=document.querySelectorAll("style[".concat(Fx,'="').concat(i,'"]'));t.forEach(function(n){if(n[yv]===e){var r;(r=n.parentNode)===null||r===void 0||r.removeChild(n)}})}}var Q8e=0;function J8e(i,e){Dy.set(i,(Dy.get(i)||0)-1);var t=Array.from(Dy.keys()),n=t.filter(function(r){var s=Dy.get(r)||0;return s<=0});t.length-n.length>Q8e&&n.forEach(function(r){Z8e(r,e),Dy.delete(r)})}var eze=function(i,e,t,n){var r=t.getDerivativeToken(i),s=Re(Re({},r),e);return n&&(s=n(s)),s},f_e="token";function tze(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=(0,w8e.useContext)(iB),r=n.cache.instanceId,s=n.container,a=t.salt,o=a===void 0?"":a,l=t.override,u=l===void 0?K8e:l,c=t.formatToken,d=t.getComputedToken,h=t.cssVar,p=D8e(function(){return Object.assign.apply(Object,[{}].concat(Bt(e)))},e),f=wE(p),g=wE(u),v=h?wE(h):"",m=eK(f_e,[o,i.id,f,g,v],function(){var b,_=d?d(p,u,i):eze(p,u,i,c),S=Re({},_),C="";if(h){var k=c_e(_,h.key,{prefix:h.prefix,ignore:h.ignore,unitless:h.unitless,preserve:h.preserve}),E=ze(k,2);_=E[0],C=E[1]}var A=Oie(_,o);_._tokenKey=A,S._tokenKey=Oie(S,o);var P=(b=h==null?void 0:h.key)!==null&&b!==void 0?b:A;_._themeKey=P,q8e(P);var O="".concat(X8e,"-").concat(GR(A));return _._hashId=O,[_,O,S,C,(h==null?void 0:h.key)||""]},function(b){J8e(b[0]._themeKey,r)},function(b){var _=ze(b,4),S=_[0],C=_[3];if(h&&C){var k=Gg(C,GR("css-variables-".concat(S._themeKey)),{mark:tp,prepend:"queue",attachTo:s,priority:-999});k[yv]=r,k.setAttribute(Fx,S._themeKey)}});return m}var ize=function(i,e,t){var n=ze(i,5),r=n[2],s=n[3],a=n[4],o=t||{},l=o.plain;if(!s)return null;var u=r._tokenKey,c=-999,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(c)},h=YR(s,a,u,d,l);return[c,u,h]},nze=oe(ge()),sk=oe(ge()),rze={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sze=rze,g_e="comm",m_e="rule",v_e="decl",aze="@import",oze="@keyframes",lze="@layer",y_e=Math.abs,tK=String.fromCharCode;function __e(i){return i.trim()}function S3(i,e,t){return i.replace(e,t)}function uze(i,e,t){return i.indexOf(e,t)}function iT(i,e){return i.charCodeAt(e)|0}function nT(i,e,t){return i.slice(e,t)}function _g(i){return i.length}function cze(i){return i.length}function _M(i,e){return e.push(i),i}var nB=1,Bx=1,b_e=0,Kd=0,Ta=0,Iw="";function iK(i,e,t,n,r,s,a,o){return{value:i,root:e,parent:t,type:n,props:r,children:s,line:nB,column:Bx,length:a,return:"",siblings:o}}function dze(){return Ta}function hze(){return Ta=Kd>0?iT(Iw,--Kd):0,Bx--,Ta===10&&(Bx=1,nB--),Ta}function ip(){return Ta=Kd<b_e?iT(Iw,Kd++):0,Bx++,Ta===10&&(Bx=1,nB++),Ta}function a_(){return iT(Iw,Kd)}function x3(){return Kd}function rB(i,e){return nT(Iw,i,e)}function PH(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pze(i){return nB=Bx=1,b_e=_g(Iw=i),Kd=0,[]}function fze(i){return Iw="",i}function aj(i){return __e(rB(Kd-1,OH(i===91?i+2:i===40?i+1:i)))}function gze(i){for(;(Ta=a_())&&Ta<33;)ip();return PH(i)>2||PH(Ta)>3?"":" "}function mze(i,e){for(;--e&&ip()&&!(Ta<48||Ta>102||Ta>57&&Ta<65||Ta>70&&Ta<97););return rB(i,x3()+(e<6&&a_()==32&&ip()==32))}function OH(i){for(;ip();)switch(Ta){case i:return Kd;case 34:case 39:i!==34&&i!==39&&OH(Ta);break;case 40:i===41&&OH(i);break;case 92:ip();break}return Kd}function vze(i,e){for(;ip()&&i+Ta!==57&&!(i+Ta===84&&a_()===47););return"/*"+rB(e,Kd-1)+"*"+tK(i===47?i:ip())}function yze(i){for(;!PH(a_());)ip();return rB(i,Kd)}function _ze(i){return fze(w3("",null,null,null,[""],i=pze(i),0,[0],i))}function w3(i,e,t,n,r,s,a,o,l){for(var u=0,c=0,d=a,h=0,p=0,f=0,g=1,v=1,m=1,b=0,_="",S=r,C=s,k=n,E=_;v;)switch(f=b,b=ip()){case 40:if(f!=108&&iT(E,d-1)==58){uze(E+=S3(aj(b),"&","&\f"),"&\f",y_e(u?o[u-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:E+=aj(b);break;case 9:case 10:case 13:case 32:E+=gze(f);break;case 92:E+=mze(x3()-1,7);continue;case 47:switch(a_()){case 42:case 47:_M(bze(vze(ip(),x3()),e,t,l),l);break;default:E+="/"}break;case 123*g:o[u++]=_g(E)*m;case 125*g:case 59:case 0:switch(b){case 0:case 125:v=0;case 59+c:m==-1&&(E=S3(E,/\f/g,"")),p>0&&_g(E)-d&&_M(p>32?Lie(E+";",n,t,d-1,l):Lie(S3(E," ","")+";",n,t,d-2,l),l);break;case 59:E+=";";default:if(_M(k=Die(E,e,t,u,c,r,o,_,S=[],C=[],d,s),s),b===123)if(c===0)w3(E,e,k,k,S,s,d,o,C);else switch(h===99&&iT(E,3)===110?100:h){case 100:case 108:case 109:case 115:w3(i,k,k,n&&_M(Die(i,k,k,0,0,r,o,_,r,S=[],d,C),C),r,C,d,o,n?S:C);break;default:w3(E,k,k,k,[""],C,0,o,C)}}u=c=p=0,g=m=1,_=E="",d=a;break;case 58:d=1+_g(E),p=f;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&hze()==125)continue}switch(E+=tK(b),b*g){case 38:m=c>0?1:(E+="\f",-1);break;case 44:o[u++]=(_g(E)-1)*m,m=1;break;case 64:a_()===45&&(E+=aj(ip())),h=a_(),c=d=_g(_=E+=yze(x3())),b++;break;case 45:f===45&&_g(E)==2&&(g=0)}}return s}function Die(i,e,t,n,r,s,a,o,l,u,c,d){for(var h=r-1,p=r===0?s:[""],f=cze(p),g=0,v=0,m=0;g<n;++g)for(var b=0,_=nT(i,h+1,h=y_e(v=a[g])),S=i;b<f;++b)(S=__e(v>0?p[b]+" "+_:S3(_,/&\f/g,p[b])))&&(l[m++]=S);return iK(i,e,t,r===0?m_e:o,l,u,c,d)}function bze(i,e,t,n){return iK(i,e,t,g_e,tK(dze()),nT(i,2,-2),0,n)}function Lie(i,e,t,n,r){return iK(i,e,t,v_e,nT(i,0,n),nT(i,n+1,-1),n,r)}function MH(i,e){for(var t="",n=0;n<i.length;n++)t+=e(i[n],n,i,e)||"";return t}function Sze(i,e,t,n){switch(i.type){case lze:if(i.children.length)break;case aze:case v_e:return i.return=i.return||i.value;case g_e:return"";case oze:return i.return=i.value+"{"+MH(i.children,n)+"}";case m_e:if(!_g(i.value=i.props.join(",")))return""}return _g(t=MH(i.children,n))?i.return=i.value+"{"+t+"}":""}var Fie="data-ant-cssinjs-cache-path",S_e="_FILE_STYLE__",o_,x_e=!0;function xze(){if(!o_&&(o_={},nu())){var i=document.createElement("div");i.className=Fie,i.style.position="fixed",i.style.visibility="hidden",i.style.top="-9999px",document.body.appendChild(i);var e=getComputedStyle(i).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(r){var s=r.split(":"),a=ze(s,2),o=a[0],l=a[1];o_[o]=l});var t=document.querySelector("style[".concat(Fie,"]"));if(t){var n;x_e=!1,(n=t.parentNode)===null||n===void 0||n.removeChild(t)}document.body.removeChild(i)}}function wze(i){return xze(),!!o_[i]}function Cze(i){var e=o_[i],t=null;if(e&&nu())if(x_e)t=S_e;else{var n=document.querySelector("style[".concat(tp,'="').concat(o_[i],'"]'));n?t=n.innerHTML:delete o_[i]}return[t,e]}var kze="_skip_check_",w_e="_multi_value_";function IH(i){var e=MH(_ze(i),Sze);return e.replace(/\{%%%\:[^;];}/g,";")}function Eze(i){return hn(i)==="object"&&i&&(kze in i||w_e in i)}function Aze(i,e,t){if(!e)return i;var n=".".concat(e),r=t==="low"?":where(".concat(n,")"):n,s=i.split(",").map(function(a){var o,l=a.trim().split(/\s+/),u=l[0]||"",c=((o=u.match(/^\w+/))===null||o===void 0?void 0:o[0])||"";return u="".concat(c).concat(r).concat(u.slice(c.length)),[u].concat(Bt(l.slice(1))).join(" ")});return s.join(",")}var Tze=function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},r=n.root,s=n.injectHash,a=n.parentSelectors,o=t.hashId,l=t.layer;t.path;var u=t.hashPriority,c=t.transformers,d=c===void 0?[]:c;t.linters;var h="",p={};function f(_){var S=_.getName(o);if(!p[S]){var C=i(_.style,t,{root:!1,parentSelectors:a}),k=ze(C,1),E=k[0];p[S]="@keyframes ".concat(_.getName(o)).concat(E)}}function g(_){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return _.forEach(function(C){Array.isArray(C)?g(C,S):C&&S.push(C)}),S}var v=g(Array.isArray(e)?e:[e]);if(v.forEach(function(_){var S=typeof _=="string"&&!r?{}:_;if(typeof S=="string")h+="".concat(S,`
`);else if(S._keyframe)f(S);else{var C=d.reduce(function(k,E){var A;return(E==null||(A=E.visit)===null||A===void 0?void 0:A.call(E,k))||k},S);Object.keys(C).forEach(function(k){var E=C[k];if(hn(E)==="object"&&E&&(k!=="animationName"||!E._keyframe)&&!Eze(E)){var A=!1,P=k.trim(),O=!1;(r||s)&&o?P.startsWith("@")?A=!0:P=Aze(k,o,u):r&&!o&&(P==="&"||P==="")&&(P="",O=!0);var M=i(E,t,{root:O,injectHash:A,parentSelectors:[].concat(Bt(a),[P])}),D=ze(M,2),L=D[0],H=D[1];p=Re(Re({},p),H),h+="".concat(P).concat(L)}else{let z=function(N,U){var G=N.replace(/[A-Z]/g,function(K){return"-".concat(K.toLowerCase())}),j=U;!sze[N]&&typeof j=="number"&&j!==0&&(j="".concat(j,"px")),N==="animationName"&&U!==null&&U!==void 0&&U._keyframe&&(f(U),j=U.getName(o)),h+="".concat(G,":").concat(j,";")};var B,F=(B=E==null?void 0:E.value)!==null&&B!==void 0?B:E;hn(E)==="object"&&E!==null&&E!==void 0&&E[w_e]&&Array.isArray(F)?F.forEach(function(N){z(k,N)}):z(k,F)}})}}),!r)h="{".concat(h,"}");else if(l&&F8e()){var m=l.split(","),b=m[m.length-1].trim();h="@layer ".concat(b," {").concat(h,"}"),m.length>1&&(h="@layer ".concat(l,"{%%%:%}").concat(h))}return[h,p]};function C_e(i,e){return GR("".concat(i.join("%")).concat(e))}function Pze(){return null}var k_e="style";function RH(i,e){var t=i.token,n=i.path,r=i.hashId,s=i.layer,a=i.nonce,o=i.clientOnly,l=i.order,u=l===void 0?0:l,c=sk.useContext(iB),d=c.autoClear;c.mock;var h=c.defaultCache,p=c.hashPriority,f=c.container,g=c.ssrInline,v=c.transformers,m=c.linters,b=c.cache,_=t._tokenKey,S=[_].concat(Bt(n)),C=AH,k=eK(k_e,S,function(){var M=S.join("|");if(wze(M)){var D=Cze(M),L=ze(D,2),H=L[0],B=L[1];if(H)return[H,_,B,{},o,u]}var F=e(),z=Tze(F,{hashId:r,hashPriority:p,layer:s,path:n.join("-"),transformers:v,linters:m}),N=ze(z,2),U=N[0],G=N[1],j=IH(U),K=C_e(S,j);return[j,_,K,G,o,u]},function(M,D){var L=ze(M,3),H=L[2];(D||d)&&AH&&Lx(H,{mark:tp})},function(M){var D=ze(M,4),L=D[0];D[1];var H=D[2],B=D[3];if(C&&L!==S_e){var F={mark:tp,prepend:"queue",attachTo:f,priority:u},z=typeof a=="function"?a():a;z&&(F.csp={nonce:z});var N=Gg(L,H,F);N[yv]=b.instanceId,N.setAttribute(Fx,_),Object.keys(B).forEach(function(U){Gg(IH(B[U]),"_effect-".concat(U),F)})}}),E=ze(k,3),A=E[0],P=E[1],O=E[2];return function(M){var D;return!g||C||!h?D=sk.createElement(Pze,null):D=sk.createElement("style",Si({},be(be({},Fx,P),tp,O),{dangerouslySetInnerHTML:{__html:A}})),sk.createElement(sk.Fragment,null,D,M)}}var Oze=function(i,e,t){var n=ze(i,6),r=n[0],s=n[1],a=n[2],o=n[3],l=n[4],u=n[5],c=t||{},d=c.plain;if(l)return null;var h=r,p={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)};return h=YR(r,s,a,p,d),o&&Object.keys(o).forEach(function(f){if(!e[f]){e[f]=!0;var g=IH(o[f]);h+=YR(g,s,"_effect-".concat(f),p,d)}}),[u,a,h]},E_e="cssVar",Mze=function(i,e){var t=i.key,n=i.prefix,r=i.unitless,s=i.ignore,a=i.token,o=i.scope,l=o===void 0?"":o,u=(0,nze.useContext)(iB),c=u.cache.instanceId,d=u.container,h=a._tokenKey,p=[].concat(Bt(i.path),[t,l,h]),f=eK(E_e,p,function(){var g=e(),v=c_e(g,t,{prefix:n,unitless:r,ignore:s,scope:l}),m=ze(v,2),b=m[0],_=m[1],S=C_e(p,_);return[b,_,S,t]},function(g){var v=ze(g,3),m=v[2];AH&&Lx(m,{mark:tp})},function(g){var v=ze(g,3),m=v[1],b=v[2];if(m){var _=Gg(m,b,{mark:tp,prepend:"queue",attachTo:d,priority:-999});_[yv]=c,_.setAttribute(Fx,t)}});return f},Ize=function(i,e,t){var n=ze(i,4),r=n[1],s=n[2],a=n[3],o=t||{},l=o.plain;if(!r)return null;var u=-999,c={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)},d=YR(r,a,s,c,l);return[u,s,d]},Rze=Mze;be(be(be({},k_e,Oze),f_e,ize),E_e,Ize);var Dze=function(){function i(e,t){Rl(this,i),be(this,"name",void 0),be(this,"style",void 0),be(this,"_keyframe",!0),this.name=e,this.style=t}return Dl(i,[{key:"getName",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),i}(),ur=Dze;function r1(i){return i.notSplit=!0,i}r1(["borderTop","borderBottom"]),r1(["borderTop"]),r1(["borderBottom"]),r1(["borderLeft","borderRight"]),r1(["borderLeft"]),r1(["borderRight"]);var Lze=oe(ge()),Fze=(0,Lze.createContext)({}),nK=Fze;function A_e(i){return t_e(i)||qye(i)||qY(i)||i_e()}function of(i,e){for(var t=i,n=0;n<e.length;n+=1){if(t==null)return;t=t[e[n]]}return t}function T_e(i,e,t,n){if(!e.length)return t;var r=A_e(e),s=r[0],a=r.slice(1),o;return!i&&typeof s=="number"?o=[]:Array.isArray(i)?o=Bt(i):o=Re({},i),n&&t===void 0&&a.length===1?delete o[s][a[0]]:o[s]=T_e(o[s],a,t,n),o}function Fh(i,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&n&&t===void 0&&!of(i,e.slice(0,-1))?i:T_e(i,e,t,n)}function Bze(i){return hn(i)==="object"&&i!==null&&Object.getPrototypeOf(i)===Object.prototype}function Bie(i){return Array.isArray(i)?[]:{}}var $ze=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function _S(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];var n=Bie(e[0]);return e.forEach(function(r){function s(a,o){var l=new Set(o),u=of(r,a),c=Array.isArray(u);if(c||Bze(u)){if(!l.has(u)){l.add(u);var d=of(n,a);c?n=Fh(n,a,[]):(!d||hn(d)!=="object")&&(n=Fh(n,a,Bie(u))),$ze(u).forEach(function(h){s([].concat(Bt(a),[h]),l)})}}else n=Fh(n,a,u)}s([])}),n}var Nze=oe(ge());function jze(){}var zze=Nze.createContext({}),sB=()=>{let i=()=>{};return i.deprecated=jze,i},Hze=oe(ge()),P_e=(0,Hze.createContext)(void 0),oj=oe(ge()),Vze={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},Wze=Vze,Uze={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},Gze=Uze,Yze={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},O_e=Yze,Kze={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Gze),timePickerLocale:Object.assign({},O_e)},M_e=Kze,Xze=M_e,cc="${label} is not a valid ${type}",qze={locale:"en",Pagination:Wze,DatePicker:M_e,TimePicker:O_e,Calendar:Xze,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:cc,method:cc,array:cc,object:cc,number:cc,date:cc,boolean:cc,integer:cc,float:cc,regexp:cc,email:cc,url:cc,hex:cc},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty"}},D_=qze;Object.assign({},D_.Modal);var C3=[],$ie=()=>C3.reduce((i,e)=>Object.assign(Object.assign({},i),e),D_.Modal);function Zze(i){if(i){let e=Object.assign({},i);return C3.push(e),$ie(),()=>{C3=C3.filter(t=>t!==e),$ie()}}Object.assign({},D_.Modal)}var Qze=oe(ge()),Jze=(0,Qze.createContext)(void 0),rK=Jze,lj=oe(ge()),eHe=(i,e)=>{let t=lj.useContext(rK),n=lj.useMemo(()=>{var s;let a=e||D_[i],o=(s=t==null?void 0:t[i])!==null&&s!==void 0?s:{};return Object.assign(Object.assign({},typeof a=="function"?a():a),o||{})},[i,e,t]),r=lj.useMemo(()=>{let s=t==null?void 0:t.locale;return t!=null&&t.exist&&!s?D_.locale:s},[t]);return[n,r]},I_e=eHe,tHe="internalMark",iHe=i=>{let{locale:e={},children:t,_ANT_MARK__:n}=i;oj.useEffect(()=>Zze(e&&e.Modal),[e]);let r=oj.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return oj.createElement(rK.Provider,{value:r},t)},nHe=iHe,rHe=oe(ge());function Wo(i,e){sHe(i)&&(i="100%");var t=aHe(i);return i=e===360?i:Math.min(e,Math.max(0,parseFloat(i))),t&&(i=parseInt(String(i*e),10)/100),Math.abs(i-e)<1e-6?1:(e===360?i=(i<0?i%e+e:i%e)/parseFloat(String(e)):i=i%e/parseFloat(String(e)),i)}function bM(i){return Math.min(1,Math.max(0,i))}function sHe(i){return typeof i=="string"&&i.indexOf(".")!==-1&&parseFloat(i)===1}function aHe(i){return typeof i=="string"&&i.indexOf("%")!==-1}function R_e(i){return i=parseFloat(i),(isNaN(i)||i<0||i>1)&&(i=1),i}function SM(i){return i<=1?"".concat(Number(i)*100,"%"):i}function zy(i){return i.length===1?"0"+i:String(i)}function oHe(i,e,t){return{r:Wo(i,255)*255,g:Wo(e,255)*255,b:Wo(t,255)*255}}function Nie(i,e,t){i=Wo(i,255),e=Wo(e,255),t=Wo(t,255);var n=Math.max(i,e,t),r=Math.min(i,e,t),s=0,a=0,o=(n+r)/2;if(n===r)a=0,s=0;else{var l=n-r;switch(a=o>.5?l/(2-n-r):l/(n+r),n){case i:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-i)/l+2;break;case t:s=(i-e)/l+4;break}s/=6}return{h:s,s:a,l:o}}function uj(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*(6*t):t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function lHe(i,e,t){var n,r,s;if(i=Wo(i,360),e=Wo(e,100),t=Wo(t,100),e===0)r=t,s=t,n=t;else{var a=t<.5?t*(1+e):t+e-t*e,o=2*t-a;n=uj(o,a,i+1/3),r=uj(o,a,i),s=uj(o,a,i-1/3)}return{r:n*255,g:r*255,b:s*255}}function DH(i,e,t){i=Wo(i,255),e=Wo(e,255),t=Wo(t,255);var n=Math.max(i,e,t),r=Math.min(i,e,t),s=0,a=n,o=n-r,l=n===0?0:o/n;if(n===r)s=0;else{switch(n){case i:s=(e-t)/o+(e<t?6:0);break;case e:s=(t-i)/o+2;break;case t:s=(i-e)/o+4;break}s/=6}return{h:s,s:l,v:a}}function uHe(i,e,t){i=Wo(i,360)*6,e=Wo(e,100),t=Wo(t,100);var n=Math.floor(i),r=i-n,s=t*(1-e),a=t*(1-r*e),o=t*(1-(1-r)*e),l=n%6,u=[t,a,s,s,o,t][l],c=[o,t,t,a,s,s][l],d=[s,s,o,t,t,a][l];return{r:u*255,g:c*255,b:d*255}}function LH(i,e,t,n){var r=[zy(Math.round(i).toString(16)),zy(Math.round(e).toString(16)),zy(Math.round(t).toString(16))];return n&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function cHe(i,e,t,n,r){var s=[zy(Math.round(i).toString(16)),zy(Math.round(e).toString(16)),zy(Math.round(t).toString(16)),zy(dHe(n))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function dHe(i){return Math.round(parseFloat(i)*255).toString(16)}function jie(i){return mc(i)/255}function mc(i){return parseInt(i,16)}function hHe(i){return{r:i>>16,g:(i&65280)>>8,b:i&255}}var FH={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function q1(i){var e={r:0,g:0,b:0},t=1,n=null,r=null,s=null,a=!1,o=!1;return typeof i=="string"&&(i=gHe(i)),typeof i=="object"&&(Gf(i.r)&&Gf(i.g)&&Gf(i.b)?(e=oHe(i.r,i.g,i.b),a=!0,o=String(i.r).substr(-1)==="%"?"prgb":"rgb"):Gf(i.h)&&Gf(i.s)&&Gf(i.v)?(n=SM(i.s),r=SM(i.v),e=uHe(i.h,n,r),a=!0,o="hsv"):Gf(i.h)&&Gf(i.s)&&Gf(i.l)&&(n=SM(i.s),s=SM(i.l),e=lHe(i.h,n,s),a=!0,o="hsl"),Object.prototype.hasOwnProperty.call(i,"a")&&(t=i.a)),t=R_e(t),{ok:a,format:i.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var pHe="[-\\+]?\\d+%?",fHe="[-\\+]?\\d*\\.\\d+%?",_v="(?:".concat(fHe,")|(?:").concat(pHe,")"),cj="[\\s|\\(]+(".concat(_v,")[,|\\s]+(").concat(_v,")[,|\\s]+(").concat(_v,")\\s*\\)?"),dj="[\\s|\\(]+(".concat(_v,")[,|\\s]+(").concat(_v,")[,|\\s]+(").concat(_v,")[,|\\s]+(").concat(_v,")\\s*\\)?"),Th={CSS_UNIT:new RegExp(_v),rgb:new RegExp("rgb"+cj),rgba:new RegExp("rgba"+dj),hsl:new RegExp("hsl"+cj),hsla:new RegExp("hsla"+dj),hsv:new RegExp("hsv"+cj),hsva:new RegExp("hsva"+dj),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function gHe(i){if(i=i.trim().toLowerCase(),i.length===0)return!1;var e=!1;if(FH[i])i=FH[i],e=!0;else if(i==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=Th.rgb.exec(i);return t?{r:t[1],g:t[2],b:t[3]}:(t=Th.rgba.exec(i),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Th.hsl.exec(i),t?{h:t[1],s:t[2],l:t[3]}:(t=Th.hsla.exec(i),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Th.hsv.exec(i),t?{h:t[1],s:t[2],v:t[3]}:(t=Th.hsva.exec(i),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Th.hex8.exec(i),t?{r:mc(t[1]),g:mc(t[2]),b:mc(t[3]),a:jie(t[4]),format:e?"name":"hex8"}:(t=Th.hex6.exec(i),t?{r:mc(t[1]),g:mc(t[2]),b:mc(t[3]),format:e?"name":"hex"}:(t=Th.hex4.exec(i),t?{r:mc(t[1]+t[1]),g:mc(t[2]+t[2]),b:mc(t[3]+t[3]),a:jie(t[4]+t[4]),format:e?"name":"hex8"}:(t=Th.hex3.exec(i),t?{r:mc(t[1]+t[1]),g:mc(t[2]+t[2]),b:mc(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function Gf(i){return!!Th.CSS_UNIT.exec(String(i))}var wo=function(){function i(e,t){e===void 0&&(e=""),t===void 0&&(t={});var n;if(e instanceof i)return e;typeof e=="number"&&(e=hHe(e)),this.originalInput=e;var r=q1(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=t.format)!==null&&n!==void 0?n:r.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return i.prototype.isDark=function(){return this.getBrightness()<128},i.prototype.isLight=function(){return!this.isDark()},i.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},i.prototype.getLuminance=function(){var e=this.toRgb(),t,n,r,s=e.r/255,a=e.g/255,o=e.b/255;return s<=.03928?t=s/12.92:t=Math.pow((s+.055)/1.055,2.4),a<=.03928?n=a/12.92:n=Math.pow((a+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),.2126*t+.7152*n+.0722*r},i.prototype.getAlpha=function(){return this.a},i.prototype.setAlpha=function(e){return this.a=R_e(e),this.roundA=Math.round(100*this.a)/100,this},i.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},i.prototype.toHsv=function(){var e=DH(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},i.prototype.toHsvString=function(){var e=DH(this.r,this.g,this.b),t=Math.round(e.h*360),n=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},i.prototype.toHsl=function(){var e=Nie(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},i.prototype.toHslString=function(){var e=Nie(this.r,this.g,this.b),t=Math.round(e.h*360),n=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},i.prototype.toHex=function(e){return e===void 0&&(e=!1),LH(this.r,this.g,this.b,e)},i.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},i.prototype.toHex8=function(e){return e===void 0&&(e=!1),cHe(this.r,this.g,this.b,this.a,e)},i.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},i.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},i.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},i.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},i.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(Wo(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},i.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(Wo(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},i.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+LH(this.r,this.g,this.b,!1),t=0,n=Object.entries(FH);t<n.length;t++){var r=n[t],s=r[0],a=r[1];if(e===a)return s}return!1},i.prototype.toString=function(e){var t=!!e;e=e??this.format;var n=!1,r=this.a<1&&this.a>=0,s=!t&&r&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},i.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},i.prototype.clone=function(){return new i(this.toString())},i.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=bM(t.l),new i(t)},i.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new i(t)},i.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=bM(t.l),new i(t)},i.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},i.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},i.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=bM(t.s),new i(t)},i.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=bM(t.s),new i(t)},i.prototype.greyscale=function(){return this.desaturate(100)},i.prototype.spin=function(e){var t=this.toHsl(),n=(t.h+e)%360;return t.h=n<0?360+n:n,new i(t)},i.prototype.mix=function(e,t){t===void 0&&(t=50);var n=this.toRgb(),r=new i(e).toRgb(),s=t/100,a={r:(r.r-n.r)*s+n.r,g:(r.g-n.g)*s+n.g,b:(r.b-n.b)*s+n.b,a:(r.a-n.a)*s+n.a};return new i(a)},i.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var n=this.toHsl(),r=360/t,s=[this];for(n.h=(n.h-(r*e>>1)+720)%360;--e;)n.h=(n.h+r)%360,s.push(new i(n));return s},i.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new i(e)},i.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),n=t.h,r=t.s,s=t.v,a=[],o=1/e;e--;)a.push(new i({h:n,s:r,v:s})),s=(s+o)%1;return a},i.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new i({h:(t+72)%360,s:e.s,l:e.l}),new i({h:(t+216)%360,s:e.s,l:e.l})]},i.prototype.onBackground=function(e){var t=this.toRgb(),n=new i(e).toRgb(),r=t.a+n.a*(1-t.a);return new i({r:(t.r*t.a+n.r*n.a*(1-t.a))/r,g:(t.g*t.a+n.g*n.a*(1-t.a))/r,b:(t.b*t.a+n.b*n.a*(1-t.a))/r,a:r})},i.prototype.triad=function(){return this.polyad(3)},i.prototype.tetrad=function(){return this.polyad(4)},i.prototype.polyad=function(e){for(var t=this.toHsl(),n=t.h,r=[this],s=360/e,a=1;a<e;a++)r.push(new i({h:(n+a*s)%360,s:t.s,l:t.l}));return r},i.prototype.equals=function(e){return this.toRgbString()===new i(e).toRgbString()},i}(),xM=2,zie=.16,mHe=.05,vHe=.05,yHe=.15,D_e=5,L_e=4,_He=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Hie(i){var e=i.r,t=i.g,n=i.b,r=DH(e,t,n);return{h:r.h*360,s:r.s,v:r.v}}function wM(i){var e=i.r,t=i.g,n=i.b;return"#".concat(LH(e,t,n,!1))}function bHe(i,e,t){var n=t/100,r={r:(e.r-i.r)*n+i.r,g:(e.g-i.g)*n+i.g,b:(e.b-i.b)*n+i.b};return r}function Vie(i,e,t){var n;return Math.round(i.h)>=60&&Math.round(i.h)<=240?n=t?Math.round(i.h)-xM*e:Math.round(i.h)+xM*e:n=t?Math.round(i.h)+xM*e:Math.round(i.h)-xM*e,n<0?n+=360:n>=360&&(n-=360),n}function Wie(i,e,t){if(i.h===0&&i.s===0)return i.s;var n;return t?n=i.s-zie*e:e===L_e?n=i.s+zie:n=i.s+mHe*e,n>1&&(n=1),t&&e===D_e&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2))}function Uie(i,e,t){var n;return t?n=i.v+vHe*e:n=i.v-yHe*e,n>1&&(n=1),Number(n.toFixed(2))}function L_(i){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],n=q1(i),r=D_e;r>0;r-=1){var s=Hie(n),a=wM(q1({h:Vie(s,r,!0),s:Wie(s,r,!0),v:Uie(s,r,!0)}));t.push(a)}t.push(wM(n));for(var o=1;o<=L_e;o+=1){var l=Hie(n),u=wM(q1({h:Vie(l,o),s:Wie(l,o),v:Uie(l,o)}));t.push(u)}return e.theme==="dark"?_He.map(function(c){var d=c.index,h=c.opacity,p=wM(bHe(q1(e.backgroundColor||"#141414"),q1(t[d]),h*100));return p}):t}var hj={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},k3={},pj={};Object.keys(hj).forEach(function(i){k3[i]=L_(hj[i]),k3[i].primary=k3[i][5],pj[i]=L_(hj[i],{theme:"dark",backgroundColor:"#141414"}),pj[i].primary=pj[i][5]});var SHe=k3.blue,xHe=i=>{let{controlHeight:e}=i;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}},wHe=xHe;function CHe(i){let{sizeUnit:e,sizeStep:t}=i;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}var F_e={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},kHe=Object.assign(Object.assign({},F_e),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),rT=kHe;function EHe(i,e){let{generateColorPalettes:t,generateNeutralColorPalettes:n}=e,{colorSuccess:r,colorWarning:s,colorError:a,colorInfo:o,colorPrimary:l,colorBgBase:u,colorTextBase:c}=i,d=t(l),h=t(r),p=t(s),f=t(a),g=t(o),v=n(u,c),m=i.colorLink||i.colorInfo,b=t(m);return Object.assign(Object.assign({},v),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:h[1],colorSuccessBgHover:h[2],colorSuccessBorder:h[3],colorSuccessBorderHover:h[4],colorSuccessHover:h[4],colorSuccess:h[6],colorSuccessActive:h[7],colorSuccessTextHover:h[8],colorSuccessText:h[9],colorSuccessTextActive:h[10],colorErrorBg:f[1],colorErrorBgHover:f[2],colorErrorBorder:f[3],colorErrorBorderHover:f[4],colorErrorHover:f[5],colorError:f[6],colorErrorActive:f[7],colorErrorTextHover:f[8],colorErrorText:f[9],colorErrorTextActive:f[10],colorWarningBg:p[1],colorWarningBgHover:p[2],colorWarningBorder:p[3],colorWarningBorderHover:p[4],colorWarningHover:p[4],colorWarning:p[6],colorWarningActive:p[7],colorWarningTextHover:p[8],colorWarningText:p[9],colorWarningTextActive:p[10],colorInfoBg:g[1],colorInfoBgHover:g[2],colorInfoBorder:g[3],colorInfoBorderHover:g[4],colorInfoHover:g[4],colorInfo:g[6],colorInfoActive:g[7],colorInfoTextHover:g[8],colorInfoText:g[9],colorInfoTextActive:g[10],colorLinkHover:b[4],colorLink:b[6],colorLinkActive:b[7],colorBgMask:new wo("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}var AHe=i=>{let e=i,t=i,n=i,r=i;return i<6&&i>=5?e=i+1:i<16&&i>=6?e=i+2:i>=16&&(e=16),i<7&&i>=5?t=4:i<8&&i>=7?t=5:i<14&&i>=8?t=6:i<16&&i>=14?t=7:i>=16&&(t=8),i<6&&i>=2?n=1:i>=6&&(n=2),i>4&&i<8?r=4:i>=8&&(r=6),{borderRadius:i,borderRadiusXS:n,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:r}},THe=AHe;function PHe(i){let{motionUnit:e,motionBase:t,borderRadius:n,lineWidth:r}=i;return Object.assign({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:r+1},THe(n))}var Yf=(i,e)=>new wo(i).setAlpha(e).toRgbString(),ak=(i,e)=>new wo(i).darken(e).toHexString(),OHe=i=>{let e=L_(i);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},MHe=(i,e)=>{let t=i||"#fff",n=e||"#000";return{colorBgBase:t,colorTextBase:n,colorText:Yf(n,.88),colorTextSecondary:Yf(n,.65),colorTextTertiary:Yf(n,.45),colorTextQuaternary:Yf(n,.25),colorFill:Yf(n,.15),colorFillSecondary:Yf(n,.06),colorFillTertiary:Yf(n,.04),colorFillQuaternary:Yf(n,.02),colorBgLayout:ak(t,4),colorBgContainer:ak(t,0),colorBgElevated:ak(t,0),colorBgSpotlight:Yf(n,.85),colorBgBlur:"transparent",colorBorder:ak(t,15),colorBorderSecondary:ak(t,6)}};function E3(i){return(i+8)/i}function IHe(i){let e=new Array(10).fill(null).map((t,n)=>{let r=n-1,s=i*Math.pow(2.71828,r/5),a=n>1?Math.floor(s):Math.ceil(s);return Math.floor(a/2)*2});return e[1]=i,e.map(t=>({size:t,lineHeight:E3(t)}))}var RHe=i=>{let e=IHe(i),t=e.map(c=>c.size),n=e.map(c=>c.lineHeight),r=t[1],s=t[0],a=t[2],o=n[1],l=n[0],u=n[2];return{fontSizeSM:s,fontSize:r,fontSizeLG:a,fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:o,lineHeightLG:u,lineHeightSM:l,fontHeight:Math.round(o*r),fontHeightLG:Math.round(u*a),fontHeightSM:Math.round(l*s),lineHeightHeading1:n[6],lineHeightHeading2:n[5],lineHeightHeading3:n[4],lineHeightHeading4:n[3],lineHeightHeading5:n[2]}},DHe=RHe;function LHe(i){let e=Object.keys(F_e).map(t=>{let n=L_(i[t]);return new Array(10).fill(1).reduce((r,s,a)=>(r[`${t}-${a+1}`]=n[a],r[`${t}${a+1}`]=n[a],r),{})}).reduce((t,n)=>(t=Object.assign(Object.assign({},t),n),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i),e),EHe(i,{generateColorPalettes:OHe,generateNeutralColorPalettes:MHe})),DHe(i.fontSize)),CHe(i)),wHe(i)),PHe(i))}var B_e=EH(LHe),BH={token:rT,override:{override:rT},hashed:!0},$_e=rHe.default.createContext(BH),FHe=oe(ge()),sK="anticon",BHe=(i,e)=>e||(i?`ant-${i}`:"ant"),En=FHe.createContext({getPrefixCls:BHe,iconPrefixCls:sK}),$He=`-ant-${Date.now()}-${Math.random()}`;function NHe(i,e){let t={},n=(s,a)=>{let o=s.clone();return o=(a==null?void 0:a(o))||o,o.toRgbString()},r=(s,a)=>{let o=new wo(s),l=L_(o.toRgbString());t[`${a}-color`]=n(o),t[`${a}-color-disabled`]=l[1],t[`${a}-color-hover`]=l[4],t[`${a}-color-active`]=l[6],t[`${a}-color-outline`]=o.clone().setAlpha(.2).toRgbString(),t[`${a}-color-deprecated-bg`]=l[0],t[`${a}-color-deprecated-border`]=l[2]};if(e.primaryColor){r(e.primaryColor,"primary");let s=new wo(e.primaryColor),a=L_(s.toRgbString());a.forEach((l,u)=>{t[`primary-${u+1}`]=l}),t["primary-color-deprecated-l-35"]=n(s,l=>l.lighten(35)),t["primary-color-deprecated-l-20"]=n(s,l=>l.lighten(20)),t["primary-color-deprecated-t-20"]=n(s,l=>l.tint(20)),t["primary-color-deprecated-t-50"]=n(s,l=>l.tint(50)),t["primary-color-deprecated-f-12"]=n(s,l=>l.setAlpha(l.getAlpha()*.12));let o=new wo(a[0]);t["primary-color-active-deprecated-f-30"]=n(o,l=>l.setAlpha(l.getAlpha()*.3)),t["primary-color-active-deprecated-d-02"]=n(o,l=>l.darken(2))}return e.successColor&&r(e.successColor,"success"),e.warningColor&&r(e.warningColor,"warning"),e.errorColor&&r(e.errorColor,"error"),e.infoColor&&r(e.infoColor,"info"),`
  :root {
    ${Object.keys(t).map(s=>`--${i}-${s}: ${t[s]};`).join(`
`)}
  }
  `.trim()}function jHe(i,e){let t=NHe(i,e);nu()&&Gg(t,`${$He}-dynamic-theme`)}var $H=oe(ge()),NH=$H.createContext(!1),N_e=i=>{let{children:e,disabled:t}=i,n=$H.useContext(NH);return $H.createElement(NH.Provider,{value:t??n},e)},cm=NH,Gie=oe(ge()),jH=oe(ge()),zH=jH.createContext(void 0),zHe=i=>{let{children:e,size:t}=i,n=jH.useContext(zH);return jH.createElement(zH.Provider,{value:t||n},e)},j2=zH;function HHe(){let i=(0,Gie.useContext)(cm),e=(0,Gie.useContext)(j2);return{componentDisabled:i,componentSize:e}}var VHe=HHe,KR=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],WHe=oe(ge()),UHe="5.15.3",GHe=UHe;function fj(i){return i>=0&&i<=255}function YHe(i,e){let{r:t,g:n,b:r,a:s}=new wo(i).toRgb();if(s<1)return i;let{r:a,g:o,b:l}=new wo(e).toRgb();for(let u=.01;u<=1;u+=.01){let c=Math.round((t-a*(1-u))/u),d=Math.round((n-o*(1-u))/u),h=Math.round((r-l*(1-u))/u);if(fj(c)&&fj(d)&&fj(h))return new wo({r:c,g:d,b:h,a:Math.round(u*100)/100}).toRgbString()}return new wo({r:t,g:n,b:r,a:1}).toRgbString()}var CM=YHe,KHe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};function j_e(i){let{override:e}=i,t=KHe(i,["override"]),n=Object.assign({},e);Object.keys(rT).forEach(d=>{delete n[d]});let r=Object.assign(Object.assign({},t),n),s=480,a=576,o=768,l=992,u=1200,c=1600;if(r.motion===!1){let d="0s";r.motionDurationFast=d,r.motionDurationMid=d,r.motionDurationSlow=d}return Object.assign(Object.assign(Object.assign({},r),{colorFillContent:r.colorFillSecondary,colorFillContentHover:r.colorFill,colorFillAlter:r.colorFillQuaternary,colorBgContainerDisabled:r.colorFillTertiary,colorBorderBg:r.colorBgContainer,colorSplit:CM(r.colorBorderSecondary,r.colorBgContainer),colorTextPlaceholder:r.colorTextQuaternary,colorTextDisabled:r.colorTextQuaternary,colorTextHeading:r.colorText,colorTextLabel:r.colorTextSecondary,colorTextDescription:r.colorTextTertiary,colorTextLightSolid:r.colorWhite,colorHighlight:r.colorError,colorBgTextHover:r.colorFillSecondary,colorBgTextActive:r.colorFill,colorIcon:r.colorTextTertiary,colorIconHover:r.colorText,colorErrorOutline:CM(r.colorErrorBg,r.colorBgContainer),colorWarningOutline:CM(r.colorWarningBg,r.colorBgContainer),fontSizeIcon:r.fontSizeSM,lineWidthFocus:r.lineWidth*4,lineWidth:r.lineWidth,controlOutlineWidth:r.lineWidth*2,controlInteractiveSize:r.controlHeight/2,controlItemBgHover:r.colorFillTertiary,controlItemBgActive:r.colorPrimaryBg,controlItemBgActiveHover:r.colorPrimaryBgHover,controlItemBgActiveDisabled:r.colorFill,controlTmpOutline:r.colorFillQuaternary,controlOutline:CM(r.colorPrimaryBg,r.colorBgContainer),lineType:r.lineType,borderRadius:r.borderRadius,borderRadiusXS:r.borderRadiusXS,borderRadiusSM:r.borderRadiusSM,borderRadiusLG:r.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:r.sizeXXS,paddingXS:r.sizeXS,paddingSM:r.sizeSM,padding:r.size,paddingMD:r.sizeMD,paddingLG:r.sizeLG,paddingXL:r.sizeXL,paddingContentHorizontalLG:r.sizeLG,paddingContentVerticalLG:r.sizeMS,paddingContentHorizontal:r.sizeMS,paddingContentVertical:r.sizeSM,paddingContentHorizontalSM:r.size,paddingContentVerticalSM:r.sizeXS,marginXXS:r.sizeXXS,marginXS:r.sizeXS,marginSM:r.sizeSM,margin:r.size,marginMD:r.sizeMD,marginLG:r.sizeLG,marginXL:r.sizeXL,marginXXL:r.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:s,screenXSMin:s,screenXSMax:a-1,screenSM:a,screenSMMin:a,screenSMMax:o-1,screenMD:o,screenMDMin:o,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:u-1,screenXL:u,screenXLMin:u,screenXLMax:c-1,screenXXL:c,screenXXLMin:c,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new wo("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new wo("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new wo("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),n)}var Yie=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},z_e={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0},H_e={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},XHe={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},V_e=(i,e,t)=>{let n=t.getDerivativeToken(i),{override:r}=e,s=Yie(e,["override"]),a=Object.assign(Object.assign({},n),{override:r});return a=j_e(a),s&&Object.entries(s).forEach(o=>{let[l,u]=o,{theme:c}=u,d=Yie(u,["theme"]),h=d;c&&(h=V_e(Object.assign(Object.assign({},a),d),{override:d},c)),a[l]=h}),a};function Yu(){let{token:i,hashed:e,theme:t,override:n,cssVar:r}=WHe.default.useContext($_e),s=`${GHe}-${e||""}`,a=t||B_e,[o,l,u]=tze(a,[rT,i],{salt:s,override:n,getComputedToken:V_e,formatToken:j_e,cssVar:r&&{prefix:r.prefix,key:r.key,unitless:z_e,ignore:H_e,preserve:XHe}});return[a,u,e?l:"",o,r]}var A3=oe(ge()),Kie=oe(ge());function Oc(i){var e=Kie.useRef();e.current=i;var t=Kie.useCallback(function(){for(var n,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(n=e.current)===null||n===void 0?void 0:n.call.apply(n,[e].concat(s))},[]);return t}var gj=oe(ge());function l_(i){var e=gj.useRef(!1),t=gj.useState(i),n=ze(t,2),r=n[0],s=n[1];gj.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function a(o,l){l&&e.current||s(o)}return[r,a]}function mj(i){return i!==void 0}function xf(i,e){var t=e||{},n=t.defaultValue,r=t.value,s=t.onChange,a=t.postState,o=l_(function(){return mj(r)?r:mj(n)?typeof n=="function"?n():n:typeof i=="function"?i():i}),l=ze(o,2),u=l[0],c=l[1],d=r!==void 0?r:u,h=a?a(d):d,p=Oc(s),f=l_([d]),g=ze(f,2),v=g[0],m=g[1];kE(function(){var _=v[0];u!==_&&p(u,_)},[v]),kE(function(){mj(r)||c(r)},[r]);var b=Oc(function(_,S){c(_,S),m([d],S)});return[h,b]}var HH={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Qa=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:i.colorText,fontSize:i.fontSize,lineHeight:i.lineHeight,listStyle:"none",fontFamily:e?"inherit":i.fontFamily}},aB=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),qHe=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),ZHe=i=>({a:{color:i.colorLink,textDecoration:i.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${i.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:i.colorLinkHover},"&:active":{color:i.colorLinkActive},"&:active,\n  &:hover":{textDecoration:i.linkHoverDecoration,outline:0},"&:focus":{textDecoration:i.linkFocusDecoration,outline:0},"&[disabled]":{color:i.colorTextDisabled,cursor:"not-allowed"}}}),QHe=(i,e,t)=>{let{fontFamily:n,fontSize:r}=i,s=`[class^="${e}"], [class*=" ${e}"]`;return{[t?`.${t}`:s]:{fontFamily:n,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[s]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},oB=i=>({outline:`${$t(i.lineWidthFocus)} solid ${i.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),JHe=i=>({"&:focus-visible":Object.assign({},oB(i))});function W_e(i,e,t){return e=Dx(e),Kye(i,XY()?Reflect.construct(e,[],Dx(i).constructor):e.apply(i,t))}var eVe=Dl(function i(){Rl(this,i)}),U_e=eVe,tVe=function(i){Mw(e,i);function e(t){var n;return Rl(this,e),n=W_e(this,e),n.result=0,t instanceof e?n.result=t.result:typeof t=="number"&&(n.result=t),n}return Dl(e,[{key:"add",value:function(t){return t instanceof e?this.result+=t.result:typeof t=="number"&&(this.result+=t),this}},{key:"sub",value:function(t){return t instanceof e?this.result-=t.result:typeof t=="number"&&(this.result-=t),this}},{key:"mul",value:function(t){return t instanceof e?this.result*=t.result:typeof t=="number"&&(this.result*=t),this}},{key:"div",value:function(t){return t instanceof e?this.result/=t.result:typeof t=="number"&&(this.result/=t),this}},{key:"equal",value:function(){return this.result}}]),e}(U_e),G_e="CALC_UNIT";function vj(i){return typeof i=="number"?`${i}${G_e}`:i}var iVe=function(i){Mw(e,i);function e(t){var n;return Rl(this,e),n=W_e(this,e),n.result="",t instanceof e?n.result=`(${t.result})`:typeof t=="number"?n.result=vj(t):typeof t=="string"&&(n.result=t),n}return Dl(e,[{key:"add",value:function(t){return t instanceof e?this.result=`${this.result} + ${t.getResult()}`:(typeof t=="number"||typeof t=="string")&&(this.result=`${this.result} + ${vj(t)}`),this.lowPriority=!0,this}},{key:"sub",value:function(t){return t instanceof e?this.result=`${this.result} - ${t.getResult()}`:(typeof t=="number"||typeof t=="string")&&(this.result=`${this.result} - ${vj(t)}`),this.lowPriority=!0,this}},{key:"mul",value:function(t){return this.lowPriority&&(this.result=`(${this.result})`),t instanceof e?this.result=`${this.result} * ${t.getResult(!0)}`:(typeof t=="number"||typeof t=="string")&&(this.result=`${this.result} * ${t}`),this.lowPriority=!1,this}},{key:"div",value:function(t){return this.lowPriority&&(this.result=`(${this.result})`),t instanceof e?this.result=`${this.result} / ${t.getResult(!0)}`:(typeof t=="number"||typeof t=="string")&&(this.result=`${this.result} / ${t}`),this.lowPriority=!1,this}},{key:"getResult",value:function(t){return this.lowPriority||t?`(${this.result})`:this.result}},{key:"equal",value:function(t){let{unit:n=!0}=t||{},r=new RegExp(`${G_e}`,"g");return this.result=this.result.replace(r,n?"px":""),typeof this.lowPriority<"u"?`calc(${this.result})`:this.result}}]),e}(U_e),nVe=i=>{let e=i==="css"?iVe:tVe;return t=>new e(t)},rVe=nVe;function sVe(i){return i==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return`max(${t.map(r=>$t(r)).join(",")})`},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return`min(${t.map(r=>$t(r)).join(",")})`}}}var Y_e=typeof CSSINJS_STATISTIC<"u",VH=!0;function ys(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];if(!Y_e)return Object.assign.apply(Object,[{}].concat(e));VH=!1;let n={};return e.forEach(r=>{Object.keys(r).forEach(s=>{Object.defineProperty(n,s,{configurable:!0,enumerable:!0,get:()=>r[s]})})}),VH=!0,n}var Xie={};function aVe(){}var oVe=i=>{let e,t=i,n=aVe;return Y_e&&typeof Proxy<"u"&&(e=new Set,t=new Proxy(i,{get(r,s){return VH&&e.add(s),r[s]}}),n=(r,s)=>{var a;Xie[r]={global:Array.from(e),component:Object.assign(Object.assign({},(a=Xie[r])===null||a===void 0?void 0:a.component),s)}}),{token:t,keys:e,flush:n}},lVe=oVe,uVe=(i,e)=>{let[t,n]=Yu();return RH({theme:t,token:n,hashId:"",path:["ant-design-icons",i],nonce:()=>e==null?void 0:e.nonce},()=>[{[`.${i}`]:Object.assign(Object.assign({},aB()),{[`.${i} .${i}-icon`]:{display:"block"}})}])},K_e=uVe,X_e=(i,e,t)=>{var n;return typeof t=="function"?t(ys(e,(n=e[i])!==null&&n!==void 0?n:{})):t??{}},q_e=(i,e,t,n)=>{let r=Object.assign({},e[i]);if(n!=null&&n.deprecatedTokens){let{deprecatedTokens:a}=n;a.forEach(o=>{let[l,u]=o;var c;(r!=null&&r[l]||r!=null&&r[u])&&((c=r[u])!==null&&c!==void 0||(r[u]=r==null?void 0:r[l]))})}let s=Object.assign(Object.assign({},t),r);return Object.keys(s).forEach(a=>{s[a]===e[a]&&delete s[a]}),s},cVe=(i,e)=>`${[e,i.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")}`;function aK(i,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=Array.isArray(i)?i:[i,i],[s]=r,a=r.join("-");return function(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,[u,c,d,h,p]=Yu(),{getPrefixCls:f,iconPrefixCls:g,csp:v}=(0,A3.useContext)(En),m=f(),b=p?"css":"js",_=rVe(b),{max:S,min:C}=sVe(b),k={theme:u,token:h,hashId:d,nonce:()=>v==null?void 0:v.nonce,clientOnly:n.clientOnly,order:n.order||-999};return RH(Object.assign(Object.assign({},k),{clientOnly:!1,path:["Shared",m]}),()=>[{"&":ZHe(h)}]),K_e(g,v),[RH(Object.assign(Object.assign({},k),{path:[a,o,g]}),()=>{if(n.injectStyle===!1)return[];let{token:E,flush:A}=lVe(h),P=X_e(s,c,t),O=`.${o}`,M=q_e(s,c,P,{deprecatedTokens:n.deprecatedTokens});p&&Object.keys(P).forEach(H=>{P[H]=`var(${u_e(H,cVe(s,p.prefix))})`});let D=ys(E,{componentCls:O,prefixCls:o,iconCls:`.${g}`,antCls:`.${m}`,calc:_,max:S,min:C},p?P:M),L=e(D,{hashId:d,prefixCls:o,rootPrefixCls:m,iconPrefixCls:g});return A(s,M),[n.resetStyle===!1?null:QHe(D,o,l),L]}),d]}}var Z_e=(i,e,t,n)=>{let r=aK(i,e,t,Object.assign({resetStyle:!1,order:-998},n));return s=>{let{prefixCls:a,rootCls:o=a}=s;return r(a,o),null}},dVe=(i,e,t)=>{function n(l){return`${i}${l.slice(0,1).toUpperCase()}${l.slice(1)}`}let{unitless:r={},injectStyle:s=!0}=t??{},a={[n("zIndexPopup")]:!0};Object.keys(r).forEach(l=>{a[n(l)]=r[l]});let o=l=>{let{rootCls:u,cssVar:c}=l,[,d]=Yu();return Rze({path:[i],prefix:c.prefix,key:c==null?void 0:c.key,unitless:Object.assign(Object.assign({},z_e),a),ignore:H_e,token:d,scope:u},()=>{let h=X_e(i,d,e),p=q_e(i,d,h,{deprecatedTokens:t==null?void 0:t.deprecatedTokens});return Object.keys(h).forEach(f=>{p[n(f)]=p[f],delete p[f]}),p}),null};return l=>{let[,,,,u]=Yu();return[c=>s&&u?A3.default.createElement(A3.default.Fragment,null,A3.default.createElement(o,{rootCls:l,cssVar:u,component:i}),c):c,u==null?void 0:u.key]}},qu=(i,e,t,n)=>{let r=aK(i,e,t,n),s=dVe(Array.isArray(i)?i[0]:i,t,n);return function(a){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,[,l]=r(a,o),[u,c]=s(o);return[u,l,c]}};function hVe(i,e){return KR.reduce((t,n)=>{let r=i[`${n}1`],s=i[`${n}3`],a=i[`${n}6`],o=i[`${n}7`];return Object.assign(Object.assign({},t),e(n,{lightColor:r,lightBorderColor:s,darkColor:a,textColor:o}))},{})}var pVe=oe(ge()),fVe=Object.assign({},pVe),{useId:qie}=fVe,gVe=()=>"",mVe=typeof qie>"u"?gVe:qie,vVe=mVe;function yVe(i,e,t){var n;sB();let r=i||{},s=r.inherit===!1||!e?Object.assign(Object.assign({},BH),{hashed:(n=e==null?void 0:e.hashed)!==null&&n!==void 0?n:BH.hashed,cssVar:e==null?void 0:e.cssVar}):e,a=vVe();return Z6(()=>{var o,l;if(!i)return e;let u=Object.assign({},s.components);Object.keys(i.components||{}).forEach(h=>{u[h]=Object.assign(Object.assign({},u[h]),i.components[h])});let c=`css-var-${a.replace(/:/g,"")}`,d=((o=r.cssVar)!==null&&o!==void 0?o:s.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:t==null?void 0:t.prefixCls},typeof s.cssVar=="object"?s.cssVar:{}),typeof r.cssVar=="object"?r.cssVar:{}),{key:typeof r.cssVar=="object"&&((l=r.cssVar)===null||l===void 0?void 0:l.key)||c});return Object.assign(Object.assign(Object.assign({},s),r),{token:Object.assign(Object.assign({},s.token),r.token),components:u,cssVar:d})},[r,s],(o,l)=>o.some((u,c)=>{let d=l[c];return!a_e(u,d,!0)}))}var _Ve=oe(si()),ny=oe(ge()),Zie=oe(ge()),Q_e=oe(ge()),bVe=["children"],J_e=Q_e.createContext({});function SVe(i){var e=i.children,t=gr(i,bVe);return Q_e.createElement(J_e.Provider,{value:t},e)}var xVe=oe(ge()),wVe=function(i){Mw(t,i);var e=eB(t);function t(){return Rl(this,t),e.apply(this,arguments)}return Dl(t,[{key:"render",value:function(){return this.props.children}}]),t}(xVe.Component),CVe=wVe,Qie=oe(ge()),s1=oe(ge()),xy="none",kM="appear",EM="enter",AM="leave",Jie="none",Bh="prepare",bS="start",SS="active",oK="end",ebe="prepared",ene=oe(ge()),tne=oe(ge());function ine(i,e){var t={};return t[i.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(i)]="webkit".concat(e),t["Moz".concat(i)]="moz".concat(e),t["ms".concat(i)]="MS".concat(e),t["O".concat(i)]="o".concat(e.toLowerCase()),t}function kVe(i,e){var t={animationend:ine("Animation","AnimationEnd"),transitionend:ine("Transition","TransitionEnd")};return i&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}var EVe=kVe(nu(),typeof window<"u"?window:{}),tbe={};nu()&&(nne=document.createElement("div"),tbe=nne.style);var nne,TM={};function ibe(i){if(TM[i])return TM[i];var e=EVe[i];if(e)for(var t=Object.keys(e),n=t.length,r=0;r<n;r+=1){var s=t[r];if(Object.prototype.hasOwnProperty.call(e,s)&&s in tbe)return TM[i]=e[s],TM[i]}return""}var nbe=ibe("animationend"),rbe=ibe("transitionend"),sbe=!!(nbe&&rbe),rne=nbe||"animationend",sne=rbe||"transitionend";function ane(i,e){if(!i)return null;if(hn(i)==="object"){var t=e.replace(/-\w/g,function(n){return n[1].toUpperCase()});return i[t]}return"".concat(i,"-").concat(e)}var AVe=function(i){var e=(0,tne.useRef)(),t=(0,tne.useRef)(i);t.current=i;var n=ene.useCallback(function(a){t.current(a)},[]);function r(a){a&&(a.removeEventListener(sne,n),a.removeEventListener(rne,n))}function s(a){e.current&&e.current!==a&&r(e.current),a&&a!==e.current&&(a.addEventListener(sne,n),a.addEventListener(rne,n),e.current=a)}return ene.useEffect(function(){return function(){r(e.current)}},[]),[s,r]},one=oe(ge()),TVe=nu()?one.useLayoutEffect:one.useEffect,abe=TVe,PVe=oe(ge()),lne=oe(ge()),OVe=function(){var i=lne.useRef(null);function e(){fs.cancel(i.current)}function t(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var s=fs(function(){r<=1?n({isCanceled:function(){return s!==i.current}}):t(n,r-1)});i.current=s}return lne.useEffect(function(){return function(){e()}},[]),[t,e]},MVe=[Bh,bS,SS,oK],IVe=[Bh,ebe],obe=!1,RVe=!0;function lbe(i){return i===SS||i===oK}var DVe=function(i,e,t){var n=l_(Jie),r=ze(n,2),s=r[0],a=r[1],o=OVe(),l=ze(o,2),u=l[0],c=l[1];function d(){a(Bh,!0)}var h=e?IVe:MVe;return abe(function(){if(s!==Jie&&s!==oK){var p=h.indexOf(s),f=h[p+1],g=t(s);g===obe?a(f,!0):f&&u(function(v){function m(){v.isCanceled()||a(f,!0)}g===!0?m():Promise.resolve(g).then(m)})}},[i,s]),PVe.useEffect(function(){return function(){c()}},[]),[d,s]};function LVe(i,e,t,n){var r=n.motionEnter,s=r===void 0?!0:r,a=n.motionAppear,o=a===void 0?!0:a,l=n.motionLeave,u=l===void 0?!0:l,c=n.motionDeadline,d=n.motionLeaveImmediately,h=n.onAppearPrepare,p=n.onEnterPrepare,f=n.onLeavePrepare,g=n.onAppearStart,v=n.onEnterStart,m=n.onLeaveStart,b=n.onAppearActive,_=n.onEnterActive,S=n.onLeaveActive,C=n.onAppearEnd,k=n.onEnterEnd,E=n.onLeaveEnd,A=n.onVisibleChanged,P=l_(),O=ze(P,2),M=O[0],D=O[1],L=l_(xy),H=ze(L,2),B=H[0],F=H[1],z=l_(null),N=ze(z,2),U=N[0],G=N[1],j=(0,s1.useRef)(!1),K=(0,s1.useRef)(null);function ie(){return t()}var ae=(0,s1.useRef)(!1);function re(){F(xy,!0),G(null,!0)}function J(Ae){var je=ie();if(!(Ae&&!Ae.deadline&&Ae.target!==je)){var We=ae.current,ut;B===kM&&We?ut=C==null?void 0:C(je,Ae):B===EM&&We?ut=k==null?void 0:k(je,Ae):B===AM&&We&&(ut=E==null?void 0:E(je,Ae)),B!==xy&&We&&ut!==!1&&re()}}var ne=AVe(J),te=ze(ne,1),Q=te[0],se=function(Ae){var je,We,ut;switch(Ae){case kM:return je={},be(je,Bh,h),be(je,bS,g),be(je,SS,b),je;case EM:return We={},be(We,Bh,p),be(We,bS,v),be(We,SS,_),We;case AM:return ut={},be(ut,Bh,f),be(ut,bS,m),be(ut,SS,S),ut;default:return{}}},_e=Qie.useMemo(function(){return se(B)},[B]),le=DVe(B,!i,function(Ae){if(Ae===Bh){var je=_e[Bh];return je?je(ie()):obe}if(Fe in _e){var We;G(((We=_e[Fe])===null||We===void 0?void 0:We.call(_e,ie(),null))||null)}return Fe===SS&&(Q(ie()),c>0&&(clearTimeout(K.current),K.current=setTimeout(function(){J({deadline:!0})},c))),Fe===ebe&&re(),RVe}),ve=ze(le,2),pe=ve[0],Fe=ve[1],Ee=lbe(Fe);ae.current=Ee,abe(function(){D(e);var Ae=j.current;j.current=!0;var je;!Ae&&e&&o&&(je=kM),Ae&&e&&s&&(je=EM),(Ae&&!e&&u||!Ae&&d&&!e&&u)&&(je=AM);var We=se(je);je&&(i||We[Bh])?(F(je),pe()):F(xy)},[e]),(0,s1.useEffect)(function(){(B===kM&&!o||B===EM&&!s||B===AM&&!u)&&F(xy)},[o,s,u]),(0,s1.useEffect)(function(){return function(){j.current=!1,clearTimeout(K.current)}},[]);var it=Qie.useRef(!1);(0,s1.useEffect)(function(){M&&(it.current=!0),M!==void 0&&B===xy&&((it.current||M)&&(A==null||A(M)),it.current=!0)},[M,B]);var Qe=U;return _e[Bh]&&Fe===bS&&(Qe=Re({transition:"none"},Qe)),[B,Fe,Qe,M??e]}function FVe(i){var e=i;hn(i)==="object"&&(e=i.transitionSupport);function t(r,s){return!!(r.motionName&&e&&s!==!1)}var n=ny.forwardRef(function(r,s){var a=r.visible,o=a===void 0?!0:a,l=r.removeOnLeave,u=l===void 0?!0:l,c=r.forceRender,d=r.children,h=r.motionName,p=r.leavedClassName,f=r.eventProps,g=ny.useContext(J_e),v=g.motion,m=t(r,v),b=(0,Zie.useRef)(),_=(0,Zie.useRef)();function S(){try{return b.current instanceof HTMLElement?b.current:xE(_.current)}catch{return null}}var C=LVe(m,o,S,r),k=ze(C,4),E=k[0],A=k[1],P=k[2],O=k[3],M=ny.useRef(O);O&&(M.current=!0);var D=ny.useCallback(function(G){b.current=G,KY(s,G)},[s]),L,H=Re(Re({},f),{},{visible:o});if(!d)L=null;else if(E===xy)O?L=d(Re({},H),D):!u&&M.current&&p?L=d(Re(Re({},H),{},{className:p}),D):c||!u&&!p?L=d(Re(Re({},H),{},{style:{display:"none"}}),D):L=null;else{var B,F;A===Bh?F="prepare":lbe(A)?F="active":A===bS&&(F="start");var z=ane(h,"".concat(E,"-").concat(F));L=d(Re(Re({},H),{},{className:(0,_Ve.default)(ane(h,E),(B={},be(B,z,z&&F),be(B,h,typeof h=="string"),B)),style:P}),D)}if(ny.isValidElement(L)&&Ow(L)){var N=L,U=N.ref;U||(L=ny.cloneElement(L,{ref:D}))}return ny.createElement(CVe,{ref:_},L)});return n.displayName="CSSMotion",n}var ube=FVe(sbe),PM=oe(ge()),WH="add",UH="keep",GH="remove",yj="removed";function BVe(i){var e;return i&&hn(i)==="object"&&"key"in i?e=i:e={key:i},Re(Re({},e),{},{key:String(e.key)})}function YH(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return i.map(BVe)}function $Ve(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],n=0,r=e.length,s=YH(i),a=YH(e);s.forEach(function(u){for(var c=!1,d=n;d<r;d+=1){var h=a[d];if(h.key===u.key){n<d&&(t=t.concat(a.slice(n,d).map(function(p){return Re(Re({},p),{},{status:WH})})),n=d),t.push(Re(Re({},h),{},{status:UH})),n+=1,c=!0;break}}c||t.push(Re(Re({},u),{},{status:GH}))}),n<r&&(t=t.concat(a.slice(n).map(function(u){return Re(Re({},u),{},{status:WH})})));var o={};t.forEach(function(u){var c=u.key;o[c]=(o[c]||0)+1});var l=Object.keys(o).filter(function(u){return o[u]>1});return l.forEach(function(u){t=t.filter(function(c){var d=c.key,h=c.status;return d!==u||h!==GH}),t.forEach(function(c){c.key===u&&(c.status=UH)})}),t}var NVe=["component","children","onVisibleChanged","onAllRemoved"],jVe=["status"],zVe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function HVe(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ube,t=function(n){Mw(s,n);var r=eB(s);function s(){var a;Rl(this,s);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=r.call.apply(r,[this].concat(l)),be(Gn(a),"state",{keyEntities:[]}),be(Gn(a),"removeKey",function(c){var d=a.state.keyEntities,h=d.map(function(p){return p.key!==c?p:Re(Re({},p),{},{status:yj})});return a.setState({keyEntities:h}),h.filter(function(p){var f=p.status;return f!==yj}).length}),a}return Dl(s,[{key:"render",value:function(){var a=this,o=this.state.keyEntities,l=this.props,u=l.component,c=l.children,d=l.onVisibleChanged,h=l.onAllRemoved,p=gr(l,NVe),f=u||PM.Fragment,g={};return zVe.forEach(function(v){g[v]=p[v],delete p[v]}),delete p.keys,PM.createElement(f,p,o.map(function(v,m){var b=v.status,_=gr(v,jVe),S=b===WH||b===UH;return PM.createElement(e,Si({},g,{key:_.key,visible:S,eventProps:_,onVisibleChanged:function(C){if(d==null||d(C,{key:_.key}),!C){var k=a.removeKey(_.key);k===0&&h&&h()}}}),function(C,k){return c(Re(Re({},C),{},{index:m}),k)})}))}}],[{key:"getDerivedStateFromProps",value:function(a,o){var l=a.keys,u=o.keyEntities,c=YH(l),d=$Ve(u,c);return{keyEntities:d.filter(function(h){var p=u.find(function(f){var g=f.key;return h.key===g});return!(p&&p.status===yj&&h.status===GH)})}}}]),s}(PM.Component);return be(t,"defaultProps",{component:"div"}),t}var cbe=HVe(sbe),z2=ube,une=oe(ge());function VVe(i){let{children:e}=i,[,t]=Yu(),{motion:n}=t,r=une.useRef(!1);return r.current=r.current||n===!1,r.current?une.createElement(SVe,{motion:n},e):e}oe(ge());var WVe=()=>null,UVe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},GVe=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"],YVe="ant",lK,dbe,hbe,pbe;function T3(){return lK||YVe}function KVe(){return dbe||sK}function XVe(i){return Object.keys(i).some(e=>e.endsWith("Color"))}var qVe=i=>{let{prefixCls:e,iconPrefixCls:t,theme:n,holderRender:r}=i;e!==void 0&&(lK=e),t!==void 0&&(dbe=t),"holderRender"in i&&(pbe=r),n&&(XVe(n)?jHe(T3(),n):hbe=n)},ZVe=()=>({getPrefixCls:(i,e)=>e||(i?`${T3()}-${i}`:T3()),getIconPrefixCls:KVe,getRootPrefixCls:()=>lK||T3(),getTheme:()=>hbe,holderRender:pbe}),QVe=i=>{let{children:e,csp:t,autoInsertSpaceInButton:n,alert:r,anchor:s,form:a,locale:o,componentSize:l,direction:u,space:c,virtual:d,dropdownMatchSelectWidth:h,popupMatchSelectWidth:p,popupOverflow:f,legacyLocale:g,parentContext:v,iconPrefixCls:m,theme:b,componentDisabled:_,segmented:S,statistic:C,spin:k,calendar:E,carousel:A,cascader:P,collapse:O,typography:M,checkbox:D,descriptions:L,divider:H,drawer:B,skeleton:F,steps:z,image:N,layout:U,list:G,mentions:j,modal:K,progress:ie,result:ae,slider:re,breadcrumb:J,menu:ne,pagination:te,input:Q,textArea:se,empty:_e,badge:le,radio:ve,rate:pe,switch:Fe,transfer:Ee,avatar:it,message:Qe,tag:Ae,table:je,card:We,tabs:ut,timeline:vt,timePicker:_t,upload:zt,notification:Ft,tree:Ye,colorPicker:Je,datePicker:rt,rangePicker:dt,flex:at,wave:Gt,dropdown:ii,warning:ci,tour:qt}=i,Zt=Ua.useCallback((Ge,pt)=>{let{prefixCls:Xt}=i;if(pt)return pt;let Ci=Xt||v.getPrefixCls("");return Ge?`${Ci}-${Ge}`:Ci},[v.getPrefixCls,i.prefixCls]),xi=m||v.iconPrefixCls||sK,Ai=t||v.csp;K_e(xi,Ai);let Ii=yVe(b,v.theme,{prefixCls:Zt("")}),ei={csp:Ai,autoInsertSpaceInButton:n,alert:r,anchor:s,locale:o||g,direction:u,space:c,virtual:d,popupMatchSelectWidth:p??h,popupOverflow:f,getPrefixCls:Zt,iconPrefixCls:xi,theme:Ii,segmented:S,statistic:C,spin:k,calendar:E,carousel:A,cascader:P,collapse:O,typography:M,checkbox:D,descriptions:L,divider:H,drawer:B,skeleton:F,steps:z,image:N,input:Q,textArea:se,layout:U,list:G,mentions:j,modal:K,progress:ie,result:ae,slider:re,breadcrumb:J,menu:ne,pagination:te,empty:_e,badge:le,radio:ve,rate:pe,switch:Fe,transfer:Ee,avatar:it,message:Qe,tag:Ae,table:je,card:We,tabs:ut,timeline:vt,timePicker:_t,upload:zt,notification:Ft,tree:Ye,colorPicker:Je,datePicker:rt,rangePicker:dt,flex:at,wave:Gt,dropdown:ii,warning:ci,tour:qt},di=Object.assign({},v);Object.keys(ei).forEach(Ge=>{ei[Ge]!==void 0&&(di[Ge]=ei[Ge])}),GVe.forEach(Ge=>{let pt=i[Ge];pt&&(di[Ge]=pt)});let vi=Z6(()=>di,di,(Ge,pt)=>{let Xt=Object.keys(Ge),Ci=Object.keys(pt);return Xt.length!==Ci.length||Xt.some(ft=>Ge[ft]!==pt[ft])}),ot=Ua.useMemo(()=>({prefixCls:xi,csp:Ai}),[xi,Ai]),Ke=Ua.createElement(Ua.Fragment,null,Ua.createElement(WVe,{dropdownMatchSelectWidth:h}),e),Ue=Ua.useMemo(()=>{var Ge,pt,Xt,Ci;return _S(((Ge=D_.Form)===null||Ge===void 0?void 0:Ge.defaultValidateMessages)||{},((Xt=(pt=vi.locale)===null||pt===void 0?void 0:pt.Form)===null||Xt===void 0?void 0:Xt.defaultValidateMessages)||{},((Ci=vi.form)===null||Ci===void 0?void 0:Ci.validateMessages)||{},(a==null?void 0:a.validateMessages)||{})},[vi,a==null?void 0:a.validateMessages]);Object.keys(Ue).length>0&&(Ke=Ua.createElement(P_e.Provider,{value:Ue},Ke)),o&&(Ke=Ua.createElement(nHe,{locale:o,_ANT_MARK__:tHe},Ke)),(xi||Ai)&&(Ke=Ua.createElement(nK.Provider,{value:ot},Ke)),l&&(Ke=Ua.createElement(zHe,{size:l},Ke)),Ke=Ua.createElement(VVe,null,Ke);let ai=Ua.useMemo(()=>{let Ge=Ii||{},{algorithm:pt,token:Xt,components:Ci,cssVar:ft}=Ge,lt=UVe(Ge,["algorithm","token","components","cssVar"]),St=pt&&(!Array.isArray(pt)||pt.length>0)?EH(pt):B_e,Nt={};Object.entries(Ci||{}).forEach(Ri=>{let[ki,Bi]=Ri,wn=Object.assign({},Bi);"algorithm"in wn&&(wn.algorithm===!0?wn.theme=St:(Array.isArray(wn.algorithm)||typeof wn.algorithm=="function")&&(wn.theme=EH(wn.algorithm)),delete wn.algorithm),Nt[ki]=wn});let Dt=Object.assign(Object.assign({},rT),Xt);return Object.assign(Object.assign({},lt),{theme:St,token:Dt,components:Nt,override:Object.assign({override:Dt},Nt),cssVar:ft})},[Ii]);return b&&(Ke=Ua.createElement($_e.Provider,{value:ai},Ke)),vi.warning&&(Ke=Ua.createElement(zze.Provider,{value:vi.warning},Ke)),_!==void 0&&(Ke=Ua.createElement(N_e,{disabled:_},Ke)),Ua.createElement(En.Provider,{value:vi},Ke)},Rw=i=>{let e=Ua.useContext(En),t=Ua.useContext(rK);return Ua.createElement(QVe,Object.assign({parentContext:e,legacyLocale:t},i))};Rw.ConfigContext=En;Rw.SizeContext=j2;Rw.config=qVe;Rw.useConfig=VHe;Object.defineProperty(Rw,"SizeContext",{get:()=>j2});var lB=Rw,fbe=oe(ge()),JVe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},e5e=JVe,OM=oe(ge()),t5e=oe(si()),i5e=oe(ge());function gbe(i){var e;return i==null||(e=i.getRootNode)===null||e===void 0?void 0:e.call(i)}function n5e(i){return gbe(i)instanceof ShadowRoot}function XR(i){return n5e(i)?gbe(i):null}var qR=oe(ge());function r5e(i){return i.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function s5e(i,e){Vd(i,"[@ant-design/icons] ".concat(e))}function cne(i){return hn(i)==="object"&&typeof i.name=="string"&&typeof i.theme=="string"&&(hn(i.icon)==="object"||typeof i.icon=="function")}function dne(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(i).reduce(function(e,t){var n=i[t];switch(t){case"class":e.className=n,delete e.class;break;default:delete e[t],e[r5e(t)]=n}return e},{})}function KH(i,e,t){return t?qR.default.createElement(i.tag,Re(Re({key:e},dne(i.attrs)),t),(i.children||[]).map(function(n,r){return KH(n,"".concat(e,"-").concat(i.tag,"-").concat(r))})):qR.default.createElement(i.tag,Re({key:e},dne(i.attrs)),(i.children||[]).map(function(n,r){return KH(n,"".concat(e,"-").concat(i.tag,"-").concat(r))}))}function mbe(i){return L_(i)[0]}function vbe(i){return i?Array.isArray(i)?i:[i]:[]}var a5e=`
.anticon {
  display: inline-flex;
  alignItems: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,o5e=function(i){var e=(0,qR.useContext)(nK),t=e.csp,n=e.prefixCls,r=a5e;n&&(r=r.replace(/anticon/g,n)),(0,qR.useEffect)(function(){var s=i.current,a=XR(s);Gg(r,"@ant-design-icons",{prepend:!0,csp:t,attachTo:a})},[])},l5e=["icon","className","onClick","style","primaryColor","secondaryColor"],EE={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function u5e(i){var e=i.primaryColor,t=i.secondaryColor;EE.primaryColor=e,EE.secondaryColor=t||mbe(e),EE.calculated=!!t}function c5e(){return Re({},EE)}var uB=function(i){var e=i.icon,t=i.className,n=i.onClick,r=i.style,s=i.primaryColor,a=i.secondaryColor,o=gr(i,l5e),l=i5e.useRef(),u=EE;if(s&&(u={primaryColor:s,secondaryColor:a||mbe(s)}),o5e(l),s5e(cne(e),"icon should be icon definiton, but got ".concat(e)),!cne(e))return null;var c=e;return c&&typeof c.icon=="function"&&(c=Re(Re({},c),{},{icon:c.icon(u.primaryColor,u.secondaryColor)})),KH(c.icon,"svg-".concat(c.name),Re(Re({className:t,onClick:n,style:r,"data-icon":c.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},o),{},{ref:l}))};uB.displayName="IconReact";uB.getTwoToneColors=c5e;uB.setTwoToneColors=u5e;var uK=uB;function ybe(i){var e=vbe(i),t=ze(e,2),n=t[0],r=t[1];return uK.setTwoToneColors({primaryColor:n,secondaryColor:r})}function d5e(){var i=uK.getTwoToneColors();return i.calculated?[i.primaryColor,i.secondaryColor]:i.primaryColor}var h5e=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];ybe(SHe.primary);var cB=OM.forwardRef(function(i,e){var t=i.className,n=i.icon,r=i.spin,s=i.rotate,a=i.tabIndex,o=i.onClick,l=i.twoToneColor,u=gr(i,h5e),c=OM.useContext(nK),d=c.prefixCls,h=d===void 0?"anticon":d,p=c.rootClassName,f=(0,t5e.default)(p,h,be(be({},"".concat(h,"-").concat(n.name),!!n.name),"".concat(h,"-spin"),!!r||n.name==="loading"),t),g=a;g===void 0&&o&&(g=-1);var v=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,m=vbe(l),b=ze(m,2),_=b[0],S=b[1];return OM.createElement("span",Si({role:"img","aria-label":n.name},u,{ref:e,tabIndex:g,onClick:o,className:f}),OM.createElement(uK,{icon:n,primaryColor:_,secondaryColor:S,style:v}))});cB.displayName="AntdIcon";cB.getTwoToneColor=d5e;cB.setTwoToneColor=ybe;var Xc=cB,p5e=function(i,e){return fbe.createElement(Xc,Si({},i,{ref:e,icon:e5e}))},f5e=fbe.forwardRef(p5e),_be=f5e,bbe=oe(ge()),g5e={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},m5e=g5e,v5e=function(i,e){return bbe.createElement(Xc,Si({},i,{ref:e,icon:m5e}))},y5e=bbe.forwardRef(v5e),dB=y5e,Sbe=oe(ge()),_5e={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},b5e=_5e,S5e=function(i,e){return Sbe.createElement(Xc,Si({},i,{ref:e,icon:b5e}))},x5e=Sbe.forwardRef(S5e),xbe=x5e,wbe=oe(ge()),w5e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},C5e=w5e,k5e=function(i,e){return wbe.createElement(Xc,Si({},i,{ref:e,icon:C5e}))},E5e=wbe.forwardRef(k5e),Cbe=E5e,kbe=oe(ge()),A5e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},T5e=A5e,P5e=function(i,e){return kbe.createElement(Xc,Si({},i,{ref:e,icon:T5e}))},O5e=kbe.forwardRef(P5e),M5e=O5e,I5e=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,R5e=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,D5e="".concat(I5e," ").concat(R5e).split(/[\s\n]+/),L5e="aria-",F5e="data-";function hne(i,e){return i.indexOf(e)===0}function sT(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t;e===!1?t={aria:!0,data:!0,attr:!0}:e===!0?t={aria:!0}:t=Re({},e);var n={};return Object.keys(i).forEach(function(r){(t.aria&&(r==="role"||hne(r,L5e))||t.data&&hne(r,F5e)||t.attr&&D5e.includes(r))&&(n[r]=i[r])}),n}var ZR=oe(ge());function Ebe(i){return i&&ZR.default.isValidElement(i)&&i.type===ZR.default.Fragment}var B5e=(i,e,t)=>ZR.default.isValidElement(i)?ZR.default.cloneElement(i,typeof t=="function"?t(i.props||{}):t):e;function p0(i,e){return B5e(i,i,e)}var pne=i=>typeof i=="object"&&i!=null&&i.nodeType===1,fne=(i,e)=>(!e||i!=="hidden")&&i!=="visible"&&i!=="clip",_j=(i,e)=>{if(i.clientHeight<i.scrollHeight||i.clientWidth<i.scrollWidth){let t=getComputedStyle(i,null);return fne(t.overflowY,e)||fne(t.overflowX,e)||(n=>{let r=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!r&&(r.clientHeight<n.scrollHeight||r.clientWidth<n.scrollWidth)})(i)}return!1},MM=(i,e,t,n,r,s,a,o)=>s<i&&a>e||s>i&&a<e?0:s<=i&&o<=t||a>=e&&o>=t?s-i-n:a>e&&o<t||s<i&&o>t?a-e+r:0,$5e=i=>{let e=i.parentElement;return e??(i.getRootNode().host||null)},gne=(i,e)=>{var t,n,r,s;if(typeof document>"u")return[];let{scrollMode:a,block:o,inline:l,boundary:u,skipOverflowHiddenElements:c}=e,d=typeof u=="function"?u:F=>F!==u;if(!pne(i))throw new TypeError("Invalid target");let h=document.scrollingElement||document.documentElement,p=[],f=i;for(;pne(f)&&d(f);){if(f=$5e(f),f===h){p.push(f);break}f!=null&&f===document.body&&_j(f)&&!_j(document.documentElement)||f!=null&&_j(f,c)&&p.push(f)}let g=(n=(t=window.visualViewport)==null?void 0:t.width)!=null?n:innerWidth,v=(s=(r=window.visualViewport)==null?void 0:r.height)!=null?s:innerHeight,{scrollX:m,scrollY:b}=window,{height:_,width:S,top:C,right:k,bottom:E,left:A}=i.getBoundingClientRect(),{top:P,right:O,bottom:M,left:D}=(F=>{let z=window.getComputedStyle(F);return{top:parseFloat(z.scrollMarginTop)||0,right:parseFloat(z.scrollMarginRight)||0,bottom:parseFloat(z.scrollMarginBottom)||0,left:parseFloat(z.scrollMarginLeft)||0}})(i),L=o==="start"||o==="nearest"?C-P:o==="end"?E+M:C+_/2-P+M,H=l==="center"?A+S/2-D+O:l==="end"?k+O:A-D,B=[];for(let F=0;F<p.length;F++){let z=p[F],{height:N,width:U,top:G,right:j,bottom:K,left:ie}=z.getBoundingClientRect();if(a==="if-needed"&&C>=0&&A>=0&&E<=v&&k<=g&&C>=G&&E<=K&&A>=ie&&k<=j)return B;let ae=getComputedStyle(z),re=parseInt(ae.borderLeftWidth,10),J=parseInt(ae.borderTopWidth,10),ne=parseInt(ae.borderRightWidth,10),te=parseInt(ae.borderBottomWidth,10),Q=0,se=0,_e="offsetWidth"in z?z.offsetWidth-z.clientWidth-re-ne:0,le="offsetHeight"in z?z.offsetHeight-z.clientHeight-J-te:0,ve="offsetWidth"in z?z.offsetWidth===0?0:U/z.offsetWidth:0,pe="offsetHeight"in z?z.offsetHeight===0?0:N/z.offsetHeight:0;if(h===z)Q=o==="start"?L:o==="end"?L-v:o==="nearest"?MM(b,b+v,v,J,te,b+L,b+L+_,_):L-v/2,se=l==="start"?H:l==="center"?H-g/2:l==="end"?H-g:MM(m,m+g,g,re,ne,m+H,m+H+S,S),Q=Math.max(0,Q+b),se=Math.max(0,se+m);else{Q=o==="start"?L-G-J:o==="end"?L-K+te+le:o==="nearest"?MM(G,K,N,J,te+le,L,L+_,_):L-(G+N/2)+le/2,se=l==="start"?H-ie-re:l==="center"?H-(ie+U/2)+_e/2:l==="end"?H-j+ne+_e:MM(ie,j,U,re,ne+_e,H,H+S,S);let{scrollLeft:Fe,scrollTop:Ee}=z;Q=pe===0?0:Math.max(0,Math.min(Ee+Q/pe,z.scrollHeight-N/pe+le)),se=ve===0?0:Math.max(0,Math.min(Fe+se/ve,z.scrollWidth-U/ve+_e)),L+=Ee-Q,H+=Fe-se}B.push({el:z,top:Q,left:se})}return B},N5e=i=>i===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(i)?i:{block:"start",inline:"nearest"};function j5e(i,e){if(!i.isConnected||!(r=>{let s=r;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(i))return;let t=(r=>{let s=window.getComputedStyle(r);return{top:parseFloat(s.scrollMarginTop)||0,right:parseFloat(s.scrollMarginRight)||0,bottom:parseFloat(s.scrollMarginBottom)||0,left:parseFloat(s.scrollMarginLeft)||0}})(i);if((r=>typeof r=="object"&&typeof r.behavior=="function")(e))return e.behavior(gne(i,e));let n=typeof e=="boolean"||e==null?void 0:e.behavior;for(let{el:r,top:s,left:a}of gne(i,N5e(e))){let o=s-t.top+t.bottom,l=a-t.left+t.right;r.scroll({top:o,left:l,behavior:n})}}var z5e=i=>{let[,,,,e]=Yu();return e?`${i}-css-var`:""},qc=z5e,jh=oe(ge()),cK=oe(si()),ry=oe(ge()),Tp=oe(ge()),H5e=oe(hb()),Kf=oe(ge()),bj=oe(si()),V5e=oe(si()),Di={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(i){var e=i.keyCode;if(i.altKey&&!i.ctrlKey||i.metaKey||e>=Di.F1&&e<=Di.F12)return!1;switch(e){case Di.ALT:case Di.CAPS_LOCK:case Di.CONTEXT_MENU:case Di.CTRL:case Di.DOWN:case Di.END:case Di.ESC:case Di.HOME:case Di.INSERT:case Di.LEFT:case Di.MAC_FF_META:case Di.META:case Di.NUMLOCK:case Di.NUM_CENTER:case Di.PAGE_DOWN:case Di.PAGE_UP:case Di.PAUSE:case Di.PRINT_SCREEN:case Di.RIGHT:case Di.SHIFT:case Di.UP:case Di.WIN_KEY:case Di.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(i){if(i>=Di.ZERO&&i<=Di.NINE||i>=Di.NUM_ZERO&&i<=Di.NUM_MULTIPLY||i>=Di.A&&i<=Di.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&i===0)return!0;switch(i){case Di.SPACE:case Di.QUESTION_MARK:case Di.NUM_PLUS:case Di.NUM_MINUS:case Di.NUM_PERIOD:case Di.NUM_DIVISION:case Di.SEMICOLON:case Di.DASH:case Di.EQUALS:case Di.COMMA:case Di.PERIOD:case Di.SLASH:case Di.APOSTROPHE:case Di.SINGLE_QUOTE:case Di.OPEN_SQUARE_BRACKET:case Di.BACKSLASH:case Di.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},un=Di,a1=oe(ge()),W5e=a1.forwardRef(function(i,e){var t=i.prefixCls,n=i.style,r=i.className,s=i.duration,a=s===void 0?4.5:s,o=i.eventKey,l=i.content,u=i.closable,c=i.closeIcon,d=c===void 0?"x":c,h=i.props,p=i.onClick,f=i.onNoticeClose,g=i.times,v=i.hovering,m=a1.useState(!1),b=ze(m,2),_=b[0],S=b[1],C=v||_,k=function(){f(o)},E=function(P){(P.key==="Enter"||P.code==="Enter"||P.keyCode===un.ENTER)&&k()};a1.useEffect(function(){if(!C&&a>0){var P=setTimeout(function(){k()},a*1e3);return function(){clearTimeout(P)}}},[a,C,g]);var A="".concat(t,"-notice");return a1.createElement("div",Si({},h,{ref:e,className:(0,V5e.default)(A,r,be({},"".concat(A,"-closable"),u)),style:n,onMouseEnter:function(P){var O;S(!0),h==null||(O=h.onMouseEnter)===null||O===void 0||O.call(h,P)},onMouseLeave:function(P){var O;S(!1),h==null||(O=h.onMouseLeave)===null||O===void 0||O.call(h,P)},onClick:p}),a1.createElement("div",{className:"".concat(A,"-content")},l),u&&a1.createElement("a",{tabIndex:0,className:"".concat(A,"-close"),onKeyDown:E,onClick:function(P){P.preventDefault(),P.stopPropagation(),k()}},d))}),Abe=W5e,Tbe=oe(ge()),Pbe=Tbe.default.createContext({}),U5e=function(i){var e=i.children,t=i.classNames;return Tbe.default.createElement(Pbe.Provider,{value:{classNames:t}},e)},G5e=U5e,mne=8,vne=3,yne=16,Y5e=function(i){var e={offset:mne,threshold:vne,gap:yne};if(i&&hn(i)==="object"){var t,n,r;e.offset=(t=i.offset)!==null&&t!==void 0?t:mne,e.threshold=(n=i.threshold)!==null&&n!==void 0?n:vne,e.gap=(r=i.gap)!==null&&r!==void 0?r:yne}return[!!i,e]},K5e=Y5e,X5e=["className","style","classNames","styles"],q5e=function(i){var e,t=i.configList,n=i.placement,r=i.prefixCls,s=i.className,a=i.style,o=i.motion,l=i.onAllNoticeRemoved,u=i.onNoticeClose,c=i.stack,d=(0,Kf.useContext)(Pbe),h=d.classNames,p=(0,Kf.useRef)({}),f=(0,Kf.useState)(null),g=ze(f,2),v=g[0],m=g[1],b=(0,Kf.useState)([]),_=ze(b,2),S=_[0],C=_[1],k=t.map(function(F){return{config:F,key:String(F.key)}}),E=K5e(c),A=ze(E,2),P=A[0],O=A[1],M=O.offset,D=O.threshold,L=O.gap,H=P&&(S.length>0||k.length<=D),B=typeof o=="function"?o(n):o;return(0,Kf.useEffect)(function(){P&&S.length>1&&C(function(F){return F.filter(function(z){return k.some(function(N){var U=N.key;return z===U})})})},[S,k,P]),(0,Kf.useEffect)(function(){var F;if(P&&p.current[(F=k[k.length-1])===null||F===void 0?void 0:F.key]){var z;m(p.current[(z=k[k.length-1])===null||z===void 0?void 0:z.key])}},[k,P]),Kf.default.createElement(cbe,Si({key:n,className:(0,bj.default)(r,"".concat(r,"-").concat(n),h==null?void 0:h.list,s,(e={},be(e,"".concat(r,"-stack"),!!P),be(e,"".concat(r,"-stack-expanded"),H),e)),style:a,keys:k,motionAppear:!0},B,{onAllRemoved:function(){l(n)}}),function(F,z){var N=F.config,U=F.className,G=F.style,j=F.index,K=N,ie=K.key,ae=K.times,re=String(ie),J=N,ne=J.className,te=J.style,Q=J.classNames,se=J.styles,_e=gr(J,X5e),le=k.findIndex(function(_t){return _t.key===re}),ve={};if(P){var pe=k.length-1-(le>-1?le:j-1),Fe=n==="top"||n==="bottom"?"-50%":"0";if(pe>0){var Ee,it,Qe;ve.height=H?(Ee=p.current[re])===null||Ee===void 0?void 0:Ee.offsetHeight:v==null?void 0:v.offsetHeight;for(var Ae=0,je=0;je<pe;je++){var We;Ae+=((We=p.current[k[k.length-1-je].key])===null||We===void 0?void 0:We.offsetHeight)+L}var ut=(H?Ae:pe*M)*(n.startsWith("top")?1:-1),vt=!H&&v!==null&&v!==void 0&&v.offsetWidth&&(it=p.current[re])!==null&&it!==void 0&&it.offsetWidth?((v==null?void 0:v.offsetWidth)-M*2*(pe<3?pe:3))/((Qe=p.current[re])===null||Qe===void 0?void 0:Qe.offsetWidth):1;ve.transform="translate3d(".concat(Fe,", ").concat(ut,"px, 0) scaleX(").concat(vt,")")}else ve.transform="translate3d(".concat(Fe,", 0, 0)")}return Kf.default.createElement("div",{ref:z,className:(0,bj.default)("".concat(r,"-notice-wrapper"),U,Q==null?void 0:Q.wrapper),style:Re(Re(Re({},G),ve),se==null?void 0:se.wrapper),onMouseEnter:function(){return C(function(_t){return _t.includes(re)?_t:[].concat(Bt(_t),[re])})},onMouseLeave:function(){return C(function(_t){return _t.filter(function(zt){return zt!==re})})}},Kf.default.createElement(Abe,Si({},_e,{ref:function(_t){le>-1?p.current[re]=_t:delete p.current[re]},prefixCls:r,classNames:Q,styles:se,className:(0,bj.default)(ne,h==null?void 0:h.notice),style:te,times:ae,key:ie,eventKey:ie,onNoticeClose:u,hovering:P&&S.length>0})))})},Z5e=q5e,Q5e=Tp.forwardRef(function(i,e){var t=i.prefixCls,n=t===void 0?"rc-notification":t,r=i.container,s=i.motion,a=i.maxCount,o=i.className,l=i.style,u=i.onAllRemoved,c=i.stack,d=i.renderNotifications,h=Tp.useState([]),p=ze(h,2),f=p[0],g=p[1],v=function(A){var P,O=f.find(function(M){return M.key===A});O==null||(P=O.onClose)===null||P===void 0||P.call(O),g(function(M){return M.filter(function(D){return D.key!==A})})};Tp.useImperativeHandle(e,function(){return{open:function(A){g(function(P){var O=Bt(P),M=O.findIndex(function(H){return H.key===A.key}),D=Re({},A);if(M>=0){var L;D.times=(((L=P[M])===null||L===void 0?void 0:L.times)||0)+1,O[M]=D}else D.times=0,O.push(D);return a>0&&O.length>a&&(O=O.slice(-a)),O})},close:function(A){v(A)},destroy:function(){g([])}}});var m=Tp.useState({}),b=ze(m,2),_=b[0],S=b[1];Tp.useEffect(function(){var A={};f.forEach(function(P){var O=P.placement,M=O===void 0?"topRight":O;M&&(A[M]=A[M]||[],A[M].push(P))}),Object.keys(_).forEach(function(P){A[P]=A[P]||[]}),S(A)},[f]);var C=function(A){S(function(P){var O=Re({},P),M=O[A]||[];return M.length||delete O[A],O})},k=Tp.useRef(!1);if(Tp.useEffect(function(){Object.keys(_).length>0?k.current=!0:k.current&&(u==null||u(),k.current=!1)},[_]),!r)return null;var E=Object.keys(_);return(0,H5e.createPortal)(Tp.createElement(Tp.Fragment,null,E.map(function(A){var P=_[A],O=Tp.createElement(Z5e,{key:A,configList:P,placement:A,prefixCls:n,className:o==null?void 0:o(A),style:l==null?void 0:l(A),motion:s,onNoticeClose:v,onAllNoticeRemoved:C,stack:c});return d?d(O,{prefixCls:n,key:A}):O})),r)}),J5e=Q5e,eWe=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],tWe=function(){return document.body},_ne=0;function iWe(){for(var i={},e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(function(r){r&&Object.keys(r).forEach(function(s){var a=r[s];a!==void 0&&(i[s]=a)})}),i}function nWe(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=i.getContainer,t=e===void 0?tWe:e,n=i.motion,r=i.prefixCls,s=i.maxCount,a=i.className,o=i.style,l=i.onAllRemoved,u=i.stack,c=i.renderNotifications,d=gr(i,eWe),h=ry.useState(),p=ze(h,2),f=p[0],g=p[1],v=ry.useRef(),m=ry.createElement(J5e,{container:f,ref:v,prefixCls:r,motion:n,maxCount:s,className:a,style:o,onAllRemoved:l,stack:u,renderNotifications:c}),b=ry.useState([]),_=ze(b,2),S=_[0],C=_[1],k=ry.useMemo(function(){return{open:function(E){var A=iWe(d,E);(A.key===null||A.key===void 0)&&(A.key="rc-notification-".concat(_ne),_ne+=1),C(function(P){return[].concat(Bt(P),[{type:"open",config:A}])})},close:function(E){C(function(A){return[].concat(Bt(A),[{type:"close",key:E}])})},destroy:function(){C(function(E){return[].concat(Bt(E),[{type:"destroy"}])})}}},[]);return ry.useEffect(function(){g(t())}),ry.useEffect(function(){v.current&&S.length&&(S.forEach(function(E){switch(E.type){case"open":v.current.open(E.config);break;case"close":v.current.close(E.key);break;case"destroy":v.current.destroy();break}}),C(function(E){return E.filter(function(A){return!S.includes(A)})}))},[S]),[k,m]}var Obe=oe(ge()),rWe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},sWe=rWe,aWe=function(i,e){return Obe.createElement(Xc,Si({},i,{ref:e,icon:sWe}))},oWe=Obe.forwardRef(aWe),hB=oWe,Mbe=oe(si()),Xp=oe(ge()),lWe=oe(ge()),uWe=oe(ge()),cWe=uWe.default.createContext(void 0),Ibe=cWe,wy=100,dWe=10,Rbe=wy*dWe,Dbe={Modal:wy,Drawer:wy,Popover:wy,Popconfirm:wy,Tooltip:wy,Tour:wy},hWe={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function pWe(i){return i in Dbe}function Lbe(i,e){let[,t]=Yu(),n=lWe.default.useContext(Ibe),r=pWe(i);if(e!==void 0)return[e,e];let s=n??0;return r?(s+=(n?0:t.zIndexPopupBase)+Dbe[i],s=Math.min(s,t.zIndexPopupBase+Rbe)):s+=hWe[i],[n===void 0?e:s,s]}var fWe=i=>{let{componentCls:e,iconCls:t,boxShadow:n,colorText:r,colorSuccess:s,colorError:a,colorWarning:o,colorInfo:l,fontSizeLG:u,motionEaseInOutCirc:c,motionDurationSlow:d,marginXS:h,paddingXS:p,borderRadiusLG:f,zIndexPopup:g,contentPadding:v,contentBg:m}=i,b=`${e}-notice`,_=new ur("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:p,transform:"translateY(0)",opacity:1}}),S=new ur("MessageMoveOut",{"0%":{maxHeight:i.height,padding:p,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),C={padding:p,textAlign:"center",[`${e}-custom-content > ${t}`]:{verticalAlign:"text-bottom",marginInlineEnd:h,fontSize:u},[`${b}-content`]:{display:"inline-block",padding:v,background:m,borderRadius:f,boxShadow:n,pointerEvents:"all"},[`${e}-success > ${t}`]:{color:s},[`${e}-error > ${t}`]:{color:a},[`${e}-warning > ${t}`]:{color:o},[`${e}-info > ${t},
      ${e}-loading > ${t}`]:{color:l}};return[{[e]:Object.assign(Object.assign({},Qa(i)),{color:r,position:"fixed",top:h,width:"100%",pointerEvents:"none",zIndex:g,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:_,animationDuration:d,animationPlayState:"paused",animationTimingFunction:c},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:S,animationDuration:d,animationPlayState:"paused",animationTimingFunction:c},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${b}-wrapper`]:Object.assign({},C)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},C),{padding:0,textAlign:"start"})}]},gWe=i=>({zIndexPopup:i.zIndexPopupBase+Rbe+10,contentBg:i.colorBgElevated,contentPadding:`${(i.controlHeightLG-i.fontSize*i.lineHeight)/2}px ${i.paddingSM}px`}),Fbe=qu("Message",i=>{let e=ys(i,{height:150});return[fWe(e)]},gWe),mWe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},vWe={info:Xp.createElement(M5e,null),success:Xp.createElement(_be,null),error:Xp.createElement(dB,null),warning:Xp.createElement(Cbe,null),loading:Xp.createElement(hB,null)},Bbe=i=>{let{prefixCls:e,type:t,icon:n,children:r}=i;return Xp.createElement("div",{className:(0,Mbe.default)(`${e}-custom-content`,`${e}-${t}`)},n||vWe[t],Xp.createElement("span",null,r))},yWe=i=>{let{prefixCls:e,className:t,type:n,icon:r,content:s}=i,a=mWe(i,["prefixCls","className","type","icon","content"]),{getPrefixCls:o}=Xp.useContext(En),l=e||o("message"),u=qc(l),[c,d,h]=Fbe(l,u);return c(Xp.createElement(Abe,Object.assign({},a,{prefixCls:l,className:(0,Mbe.default)(t,d,`${l}-notice-pure-panel`,h,u),eventKey:"pure",duration:null,content:Xp.createElement(Bbe,{prefixCls:l,type:n,icon:r},s)})))},_We=yWe;function bWe(i,e){return{motionName:e??`${i}-move-up`}}function dK(i){let e,t=new Promise(r=>{e=i(()=>{r(!0)})}),n=()=>{e==null||e()};return n.then=(r,s)=>t.then(r,s),n.promise=t,n}var SWe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},xWe=8,wWe=3,CWe=i=>{let{children:e,prefixCls:t}=i,n=qc(t),[r,s,a]=Fbe(t,n);return r(jh.createElement(G5e,{classNames:{list:(0,cK.default)(s,a,n)}},e))},kWe=(i,e)=>{let{prefixCls:t,key:n}=e;return jh.createElement(CWe,{prefixCls:t,key:n},i)},EWe=jh.forwardRef((i,e)=>{let{top:t,prefixCls:n,getContainer:r,maxCount:s,duration:a=wWe,rtl:o,transitionName:l,onAllRemoved:u}=i,{getPrefixCls:c,getPopupContainer:d,message:h,direction:p}=jh.useContext(En),f=n||c("message"),g=()=>({left:"50%",transform:"translateX(-50%)",top:t??xWe}),v=()=>(0,cK.default)({[`${f}-rtl`]:o??p==="rtl"}),m=()=>bWe(f,l),b=jh.createElement("span",{className:`${f}-close-x`},jh.createElement(xbe,{className:`${f}-close-icon`})),[_,S]=nWe({prefixCls:f,style:g,className:v,motion:m,closable:!1,closeIcon:b,duration:a,getContainer:()=>(r==null?void 0:r())||(d==null?void 0:d())||document.body,maxCount:s,onAllRemoved:u,renderNotifications:kWe});return jh.useImperativeHandle(e,()=>Object.assign(Object.assign({},_),{prefixCls:f,message:h})),S}),bne=0;function $be(i){let e=jh.useRef(null);return sB(),[jh.useMemo(()=>{let t=s=>{var a;(a=e.current)===null||a===void 0||a.close(s)},n=s=>{if(!e.current){let _=()=>{};return _.then=()=>{},_}let{open:a,prefixCls:o,message:l}=e.current,u=`${o}-notice`,{content:c,icon:d,type:h,key:p,className:f,style:g,onClose:v}=s,m=SWe(s,["content","icon","type","key","className","style","onClose"]),b=p;return b==null&&(bne+=1,b=`antd-message-${bne}`),dK(_=>(a(Object.assign(Object.assign({},m),{key:b,content:jh.createElement(Bbe,{prefixCls:o,type:h,icon:d},c),placement:"top",className:(0,cK.default)(h&&`${u}-${h}`,f,l==null?void 0:l.className),style:Object.assign(Object.assign({},l==null?void 0:l.style),g),onClose:()=>{v==null||v(),_()}})),()=>{t(b)}))},r={open:n,destroy:s=>{var a;s!==void 0?t(s):(a=e.current)===null||a===void 0||a.destroy()}};return["info","success","warning","error","loading"].forEach(s=>{let a=(o,l,u)=>{let c;o&&typeof o=="object"&&"content"in o?c=o:c={content:o};let d,h;typeof l=="function"?h=l:(d=l,h=u);let p=Object.assign(Object.assign({onClose:h,duration:d},c),{type:s});return n(p)};r[s]=a}),r},[]),jh.createElement(EWe,Object.assign({key:"message-holder"},i,{ref:e}))]}function AWe(i){return $be(i)}function ru(){ru=function(){return e};var i,e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(F,z,N){F[z]=N.value},s=typeof Symbol=="function"?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function u(F,z,N){return Object.defineProperty(F,z,{value:N,enumerable:!0,configurable:!0,writable:!0}),F[z]}try{u({},"")}catch{u=function(z,N,U){return z[N]=U}}function c(F,z,N,U){var G=z&&z.prototype instanceof m?z:m,j=Object.create(G.prototype),K=new H(U||[]);return r(j,"_invoke",{value:O(F,N,K)}),j}function d(F,z,N){try{return{type:"normal",arg:F.call(z,N)}}catch(U){return{type:"throw",arg:U}}}e.wrap=c;var h="suspendedStart",p="suspendedYield",f="executing",g="completed",v={};function m(){}function b(){}function _(){}var S={};u(S,a,function(){return this});var C=Object.getPrototypeOf,k=C&&C(C(B([])));k&&k!==t&&n.call(k,a)&&(S=k);var E=_.prototype=m.prototype=Object.create(S);function A(F){["next","throw","return"].forEach(function(z){u(F,z,function(N){return this._invoke(z,N)})})}function P(F,z){function N(G,j,K,ie){var ae=d(F[G],F,j);if(ae.type!=="throw"){var re=ae.arg,J=re.value;return J&&hn(J)=="object"&&n.call(J,"__await")?z.resolve(J.__await).then(function(ne){N("next",ne,K,ie)},function(ne){N("throw",ne,K,ie)}):z.resolve(J).then(function(ne){re.value=ne,K(re)},function(ne){return N("throw",ne,K,ie)})}ie(ae.arg)}var U;r(this,"_invoke",{value:function(G,j){function K(){return new z(function(ie,ae){N(G,j,ie,ae)})}return U=U?U.then(K,K):K()}})}function O(F,z,N){var U=h;return function(G,j){if(U===f)throw Error("Generator is already running");if(U===g){if(G==="throw")throw j;return{value:i,done:!0}}for(N.method=G,N.arg=j;;){var K=N.delegate;if(K){var ie=M(K,N);if(ie){if(ie===v)continue;return ie}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(U===h)throw U=g,N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);U=f;var ae=d(F,z,N);if(ae.type==="normal"){if(U=N.done?g:p,ae.arg===v)continue;return{value:ae.arg,done:N.done}}ae.type==="throw"&&(U=g,N.method="throw",N.arg=ae.arg)}}}function M(F,z){var N=z.method,U=F.iterator[N];if(U===i)return z.delegate=null,N==="throw"&&F.iterator.return&&(z.method="return",z.arg=i,M(F,z),z.method==="throw")||N!=="return"&&(z.method="throw",z.arg=new TypeError("The iterator does not provide a '"+N+"' method")),v;var G=d(U,F.iterator,z.arg);if(G.type==="throw")return z.method="throw",z.arg=G.arg,z.delegate=null,v;var j=G.arg;return j?j.done?(z[F.resultName]=j.value,z.next=F.nextLoc,z.method!=="return"&&(z.method="next",z.arg=i),z.delegate=null,v):j:(z.method="throw",z.arg=new TypeError("iterator result is not an object"),z.delegate=null,v)}function D(F){var z={tryLoc:F[0]};1 in F&&(z.catchLoc=F[1]),2 in F&&(z.finallyLoc=F[2],z.afterLoc=F[3]),this.tryEntries.push(z)}function L(F){var z=F.completion||{};z.type="normal",delete z.arg,F.completion=z}function H(F){this.tryEntries=[{tryLoc:"root"}],F.forEach(D,this),this.reset(!0)}function B(F){if(F||F===""){var z=F[a];if(z)return z.call(F);if(typeof F.next=="function")return F;if(!isNaN(F.length)){var N=-1,U=function G(){for(;++N<F.length;)if(n.call(F,N))return G.value=F[N],G.done=!1,G;return G.value=i,G.done=!0,G};return U.next=U}}throw new TypeError(hn(F)+" is not iterable")}return b.prototype=_,r(E,"constructor",{value:_,configurable:!0}),r(_,"constructor",{value:b,configurable:!0}),b.displayName=u(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(F){var z=typeof F=="function"&&F.constructor;return!!z&&(z===b||(z.displayName||z.name)==="GeneratorFunction")},e.mark=function(F){return Object.setPrototypeOf?Object.setPrototypeOf(F,_):(F.__proto__=_,u(F,l,"GeneratorFunction")),F.prototype=Object.create(E),F},e.awrap=function(F){return{__await:F}},A(P.prototype),u(P.prototype,o,function(){return this}),e.AsyncIterator=P,e.async=function(F,z,N,U,G){G===void 0&&(G=Promise);var j=new P(c(F,z,N,U),G);return e.isGeneratorFunction(z)?j:j.next().then(function(K){return K.done?K.value:j.next()})},A(E),u(E,l,"Generator"),u(E,a,function(){return this}),u(E,"toString",function(){return"[object Generator]"}),e.keys=function(F){var z=Object(F),N=[];for(var U in z)N.push(U);return N.reverse(),function G(){for(;N.length;){var j=N.pop();if(j in z)return G.value=j,G.done=!1,G}return G.done=!0,G}},e.values=B,H.prototype={constructor:H,reset:function(F){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(L),!F)for(var z in this)z.charAt(0)==="t"&&n.call(this,z)&&!isNaN(+z.slice(1))&&(this[z]=i)},stop:function(){this.done=!0;var F=this.tryEntries[0].completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var z=this;function N(ae,re){return j.type="throw",j.arg=F,z.next=ae,re&&(z.method="next",z.arg=i),!!re}for(var U=this.tryEntries.length-1;U>=0;--U){var G=this.tryEntries[U],j=G.completion;if(G.tryLoc==="root")return N("end");if(G.tryLoc<=this.prev){var K=n.call(G,"catchLoc"),ie=n.call(G,"finallyLoc");if(K&&ie){if(this.prev<G.catchLoc)return N(G.catchLoc,!0);if(this.prev<G.finallyLoc)return N(G.finallyLoc)}else if(K){if(this.prev<G.catchLoc)return N(G.catchLoc,!0)}else{if(!ie)throw Error("try statement without catch or finally");if(this.prev<G.finallyLoc)return N(G.finallyLoc)}}}},abrupt:function(F,z){for(var N=this.tryEntries.length-1;N>=0;--N){var U=this.tryEntries[N];if(U.tryLoc<=this.prev&&n.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var G=U;break}}G&&(F==="break"||F==="continue")&&G.tryLoc<=z&&z<=G.finallyLoc&&(G=null);var j=G?G.completion:{};return j.type=F,j.arg=z,G?(this.method="next",this.next=G.finallyLoc,v):this.complete(j)},complete:function(F,z){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&z&&(this.next=z),v},finish:function(F){for(var z=this.tryEntries.length-1;z>=0;--z){var N=this.tryEntries[z];if(N.finallyLoc===F)return this.complete(N.completion,N.afterLoc),L(N),v}},catch:function(F){for(var z=this.tryEntries.length-1;z>=0;--z){var N=this.tryEntries[z];if(N.tryLoc===F){var U=N.completion;if(U.type==="throw"){var G=U.arg;L(N)}return G}}throw Error("illegal catch attempt")},delegateYield:function(F,z,N){return this.delegate={iterator:B(F),resultName:z,nextLoc:N},this.method==="next"&&(this.arg=i),v}},e}function Sne(i,e,t,n,r,s,a){try{var o=i[s](a),l=o.value}catch(u){t(u);return}o.done?e(l):Promise.resolve(l).then(n,r)}function fb(i){return function(){var e=this,t=arguments;return new Promise(function(n,r){var s=i.apply(e,t);function a(l){Sne(s,n,r,a,o,"next",l)}function o(l){Sne(s,n,r,a,o,"throw",l)}a(void 0)})}}var TWe=oe(hb()),H2=Re({},TWe),PWe=H2.version,OWe=H2.render,MWe=H2.unmountComponentAtNode,pB;try{xne=Number((PWe||"").split(".")[0]),xne>=18&&(pB=H2.createRoot)}catch{}var xne;function wne(i){var e=H2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&hn(e)==="object"&&(e.usingClientEntryPoint=i)}var QR="__rc_react_root__";function IWe(i,e){wne(!0);var t=e[QR]||pB(e);wne(!1),t.render(i),e[QR]=t}function RWe(i,e){OWe(i,e)}function Nbe(i,e){if(pB){IWe(i,e);return}RWe(i,e)}function DWe(i){return XH.apply(this,arguments)}function XH(){return XH=fb(ru().mark(function i(e){return ru().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then(function(){var n;(n=e[QR])===null||n===void 0||n.unmount(),delete e[QR]}));case 1:case"end":return t.stop()}},i)})),XH.apply(this,arguments)}function LWe(i){MWe(i)}function FWe(i){return qH.apply(this,arguments)}function qH(){return qH=fb(ru().mark(function i(e){return ru().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(pB===void 0){t.next=2;break}return t.abrupt("return",DWe(e));case 2:LWe(e);case 3:case"end":return t.stop()}},i)})),qH.apply(this,arguments)}var Sj=()=>({height:0,opacity:0}),Cne=i=>{let{scrollHeight:e}=i;return{height:e,opacity:1}},BWe=i=>({height:i?i.offsetHeight:0}),xj=(i,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",$We=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant"}-motion-collapse`,onAppearStart:Sj,onEnterStart:Sj,onAppearActive:Cne,onEnterActive:Cne,onLeaveStart:BWe,onLeaveActive:Sj,onAppearEnd:xj,onEnterEnd:xj,onLeaveEnd:xj,motionDeadline:500}},jbe=(i,e,t)=>t!==void 0?t:`${i}-${e}`,kne=$We,Mo=oe(ge()),wj=oe(si()),IM=oe(ge()),NWe=oe(si()),hK=function(i){if(!i)return!1;if(i instanceof Element){if(i.offsetParent)return!0;if(i.getBBox){var e=i.getBBox(),t=e.width,n=e.height;if(t||n)return!0}if(i.getBoundingClientRect){var r=i.getBoundingClientRect(),s=r.width,a=r.height;if(s||a)return!0}}return!1},jWe=i=>{let{componentCls:e,colorPrimary:t}=i;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${t})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${i.motionEaseOutCirc}`,`opacity 2s ${i.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow 0.3s ${i.motionEaseInOut}`,`opacity 0.35s ${i.motionEaseInOut}`].join(",")}}}}},zWe=aK("Wave",i=>[jWe(i)]),Ene=oe(ge()),HWe=oe(si()),xd=oe(ge());function VWe(i){let e=(i||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function Cj(i){return i&&i!=="#fff"&&i!=="#ffffff"&&i!=="rgb(255, 255, 255)"&&i!=="rgba(255, 255, 255, 1)"&&VWe(i)&&!/rgba\((?:\d*, ){3}0\)/.test(i)&&i!=="transparent"}function WWe(i){let{borderTopColor:e,borderColor:t,backgroundColor:n}=getComputedStyle(i);return Cj(e)?e:Cj(t)?t:Cj(n)?n:null}var fB="ant-wave-target";function kj(i){return Number.isNaN(i)?0:i}var UWe=i=>{let{className:e,target:t,component:n}=i,r=xd.useRef(null),[s,a]=xd.useState(null),[o,l]=xd.useState([]),[u,c]=xd.useState(0),[d,h]=xd.useState(0),[p,f]=xd.useState(0),[g,v]=xd.useState(0),[m,b]=xd.useState(!1),_={left:u,top:d,width:p,height:g,borderRadius:o.map(k=>`${k}px`).join(" ")};s&&(_["--wave-color"]=s);function S(){let k=getComputedStyle(t);a(WWe(t));let E=k.position==="static",{borderLeftWidth:A,borderTopWidth:P}=k;c(E?t.offsetLeft:kj(-parseFloat(A))),h(E?t.offsetTop:kj(-parseFloat(P))),f(t.offsetWidth),v(t.offsetHeight);let{borderTopLeftRadius:O,borderTopRightRadius:M,borderBottomLeftRadius:D,borderBottomRightRadius:L}=k;l([O,M,L,D].map(H=>kj(parseFloat(H))))}if(xd.useEffect(()=>{if(t){let k=fs(()=>{S(),b(!0)}),E;return typeof ResizeObserver<"u"&&(E=new ResizeObserver(S),E.observe(t)),()=>{fs.cancel(k),E==null||E.disconnect()}}},[]),!m)return null;let C=(n==="Checkbox"||n==="Radio")&&(t==null?void 0:t.classList.contains(fB));return xd.createElement(z2,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(k,E)=>{var A;if(E.deadline||E.propertyName==="opacity"){let P=(A=r.current)===null||A===void 0?void 0:A.parentElement;FWe(P).then(()=>{P==null||P.remove()})}return!1}},k=>{let{className:E}=k;return xd.createElement("div",{ref:r,className:(0,HWe.default)(e,{"wave-quick":C},E),style:_})})},GWe=(i,e)=>{var t;let{component:n}=e;if(n==="Checkbox"&&!(!((t=i.querySelector("input"))===null||t===void 0)&&t.checked))return;let r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",i==null||i.insertBefore(r,i==null?void 0:i.firstChild),Nbe(xd.createElement(UWe,Object.assign({},e,{target:i})),r)},YWe=GWe;function KWe(i,e,t){let{wave:n}=Ene.useContext(En),[,r,s]=Yu(),a=Oc(l=>{let u=i.current;if(n!=null&&n.disabled||!u)return;let c=u.querySelector(`.${fB}`)||u,{showEffect:d}=n||{};(d||YWe)(c,{className:e,token:r,component:t,event:l,hashId:s})}),o=Ene.useRef();return l=>{fs.cancel(o.current),o.current=fs(()=>{a(l)})}}var XWe=i=>{let{children:e,disabled:t,component:n}=i,{getPrefixCls:r}=(0,IM.useContext)(En),s=(0,IM.useRef)(null),a=r("wave"),[,o]=zWe(a),l=KWe(s,(0,NWe.default)(a,o),n);if(IM.default.useEffect(()=>{let c=s.current;if(!c||c.nodeType!==1||t)return;let d=h=>{!hK(h.target)||!c.getAttribute||c.getAttribute("disabled")||c.disabled||c.className.includes("disabled")||c.className.includes("-leave")||l(h)};return c.addEventListener("click",d,!0),()=>{c.removeEventListener("click",d,!0)}},[t]),!IM.default.isValidElement(e))return e??null;let u=Ow(e)?ih(e.ref,s):s;return p0(e,{ref:u})},pK=XWe,Ane=oe(ge()),qWe=i=>{let e=Ane.default.useContext(j2);return Ane.default.useMemo(()=>i?typeof i=="string"?i??e:i instanceof Function?i(e):e:e,[i,e])},dm=qWe,zbe=oe(si()),qp=oe(ge()),ZWe=i=>{let{componentCls:e}=i;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},QWe=ZWe,JWe=i=>{let{componentCls:e,antCls:t}=i;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item:empty`]:{display:"none"},[`${e}-item > ${t}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},eUe=i=>{let{componentCls:e}=i;return{[e]:{"&-gap-row-small":{rowGap:i.spaceGapSmallSize},"&-gap-row-middle":{rowGap:i.spaceGapMiddleSize},"&-gap-row-large":{rowGap:i.spaceGapLargeSize},"&-gap-col-small":{columnGap:i.spaceGapSmallSize},"&-gap-col-middle":{columnGap:i.spaceGapMiddleSize},"&-gap-col-large":{columnGap:i.spaceGapLargeSize}}}},Hbe=qu("Space",i=>{let e=ys(i,{spaceGapSmallSize:i.paddingXS,spaceGapMiddleSize:i.padding,spaceGapLargeSize:i.paddingLG});return[JWe(e),eUe(e),QWe(e)]},()=>({}),{resetStyle:!1}),Vbe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},gB=qp.createContext(null),V2=(i,e)=>{let t=qp.useContext(gB),n=qp.useMemo(()=>{if(!t)return"";let{compactDirection:r,isFirstItem:s,isLastItem:a}=t,o=r==="vertical"?"-vertical-":"-";return(0,zbe.default)(`${i}-compact${o}item`,{[`${i}-compact${o}first-item`]:s,[`${i}-compact${o}last-item`]:a,[`${i}-compact${o}item-rtl`]:e==="rtl"})},[i,e,t]);return{compactSize:t==null?void 0:t.compactSize,compactDirection:t==null?void 0:t.compactDirection,compactItemClassnames:n}},aT=i=>{let{children:e}=i;return qp.createElement(gB.Provider,{value:null},e)},tUe=i=>{var{children:e}=i,t=Vbe(i,["children"]);return qp.createElement(gB.Provider,{value:t},e)},iUe=i=>{let{getPrefixCls:e,direction:t}=qp.useContext(En),{size:n,direction:r,block:s,prefixCls:a,className:o,rootClassName:l,children:u}=i,c=Vbe(i,["size","direction","block","prefixCls","className","rootClassName","children"]),d=dm(_=>n??_),h=e("space-compact",a),[p,f]=Hbe(h),g=(0,zbe.default)(h,f,{[`${h}-rtl`]:t==="rtl",[`${h}-block`]:s,[`${h}-vertical`]:r==="vertical"},o,l),v=qp.useContext(gB),m=h0(u),b=qp.useMemo(()=>m.map((_,S)=>{let C=_&&_.key||`${h}-item-${S}`;return qp.createElement(tUe,{key:C,compactSize:d,compactDirection:r,isFirstItem:S===0&&(!v||(v==null?void 0:v.isFirstItem)),isLastItem:S===m.length-1&&(!v||(v==null?void 0:v.isLastItem))},_)}),[n,m,v]);return m.length===0?null:p(qp.createElement("div",Object.assign({className:g},c),b))},nUe=iUe,P3=oe(ge()),rUe=oe(si()),sUe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},Wbe=P3.createContext(void 0),aUe=i=>{let{getPrefixCls:e,direction:t}=P3.useContext(En),{prefixCls:n,size:r,className:s}=i,a=sUe(i,["prefixCls","size","className"]),o=e("btn-group",n),[,,l]=Yu(),u="";switch(r){case"large":u="lg";break;case"small":u="sm";break}let c=(0,rUe.default)(o,{[`${o}-${u}`]:u,[`${o}-rtl`]:t==="rtl"},s,l);return P3.createElement(Wbe.Provider,{value:r},P3.createElement("div",Object.assign({},a,{className:c})))},oUe=aUe,AE=oe(ge()),Tne=/^[\u4e00-\u9fa5]{2}$/,ZH=Tne.test.bind(Tne);function Pne(i){return typeof i=="string"}function Ej(i){return i==="text"||i==="link"}function lUe(i,e){if(i==null)return;let t=e?" ":"";return typeof i!="string"&&typeof i!="number"&&Pne(i.type)&&ZH(i.props.children)?p0(i,{children:i.props.children.split("").join(t)}):Pne(i)?ZH(i)?AE.default.createElement("span",null,i.split("").join(t)):AE.default.createElement("span",null,i):Ebe(i)?AE.default.createElement("span",null,i):i}function uUe(i,e){let t=!1,n=[];return AE.default.Children.forEach(i,r=>{let s=typeof r,a=s==="string"||s==="number";if(t&&a){let o=n.length-1,l=n[o];n[o]=`${l}${r}`}else n.push(r);t=a}),AE.default.Children.map(n,r=>lUe(r,e))}var One=oe(ge()),cUe=oe(si()),dUe=(0,One.forwardRef)((i,e)=>{let{className:t,style:n,children:r,prefixCls:s}=i,a=(0,cUe.default)(`${s}-icon`,t);return One.default.createElement("span",{ref:e,className:a,style:n},r)}),Ube=dUe,hUe=oe(si()),JS=oe(ge()),Mne=(0,JS.forwardRef)((i,e)=>{let{prefixCls:t,className:n,style:r,iconClassName:s}=i,a=(0,hUe.default)(`${t}-loading-icon`,n);return JS.default.createElement(Ube,{prefixCls:t,className:a,style:r,ref:e},JS.default.createElement(hB,{className:s}))}),Aj=()=>({width:0,opacity:0,transform:"scale(0)"}),Tj=i=>({width:i.scrollWidth,opacity:1,transform:"scale(1)"}),pUe=i=>{let{prefixCls:e,loading:t,existIcon:n,className:r,style:s}=i,a=!!t;return n?JS.default.createElement(Mne,{prefixCls:e,className:r,style:s}):JS.default.createElement(z2,{visible:a,motionName:`${e}-loading-icon-motion`,motionLeave:a,removeOnLeave:!0,onAppearStart:Aj,onAppearActive:Tj,onEnterStart:Aj,onEnterActive:Tj,onLeaveStart:Tj,onLeaveActive:Aj},(o,l)=>{let{className:u,style:c}=o;return JS.default.createElement(Mne,{prefixCls:e,className:r,style:Object.assign(Object.assign({},s),c),ref:l,iconClassName:u})})},fUe=pUe,Ine=(i,e)=>({[`> span, > ${i}`]:{"&:not(:last-child)":{[`&, & > ${i}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${i}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),gUe=i=>{let{componentCls:e,fontSize:t,lineWidth:n,groupBorderColor:r,colorErrorHover:s}=i;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:i.calc(n).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:t}},Ine(`${e}-primary`,r),Ine(`${e}-danger`,s)]}},mUe=gUe,Gbe=i=>{let{paddingInline:e,onlyIconSize:t,paddingBlock:n}=i;return ys(i,{buttonPaddingHorizontal:e,buttonPaddingVertical:n,buttonIconOnlyFontSize:t})},Ybe=i=>{var e,t,n,r,s,a;let o=(e=i.contentFontSize)!==null&&e!==void 0?e:i.fontSize,l=(t=i.contentFontSizeSM)!==null&&t!==void 0?t:i.fontSize,u=(n=i.contentFontSizeLG)!==null&&n!==void 0?n:i.fontSizeLG,c=(r=i.contentLineHeight)!==null&&r!==void 0?r:E3(o),d=(s=i.contentLineHeightSM)!==null&&s!==void 0?s:E3(l),h=(a=i.contentLineHeightLG)!==null&&a!==void 0?a:E3(u);return{fontWeight:400,defaultShadow:`0 ${i.controlOutlineWidth}px 0 ${i.controlTmpOutline}`,primaryShadow:`0 ${i.controlOutlineWidth}px 0 ${i.controlOutline}`,dangerShadow:`0 ${i.controlOutlineWidth}px 0 ${i.colorErrorOutline}`,primaryColor:i.colorTextLightSolid,dangerColor:i.colorTextLightSolid,borderColorDisabled:i.colorBorder,defaultGhostColor:i.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:i.colorBgContainer,paddingInline:i.paddingContentHorizontal-i.lineWidth,paddingInlineLG:i.paddingContentHorizontal-i.lineWidth,paddingInlineSM:8-i.lineWidth,onlyIconSize:i.fontSizeLG,onlyIconSizeSM:i.fontSizeLG-2,onlyIconSizeLG:i.fontSizeLG+2,groupBorderColor:i.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:i.colorBgTextHover,defaultColor:i.colorText,defaultBg:i.colorBgContainer,defaultBorderColor:i.colorBorder,defaultBorderColorDisabled:i.colorBorder,defaultHoverBg:i.colorBgContainer,defaultHoverColor:i.colorPrimaryHover,defaultHoverBorderColor:i.colorPrimaryHover,defaultActiveBg:i.colorBgContainer,defaultActiveColor:i.colorPrimaryActive,defaultActiveBorderColor:i.colorPrimaryActive,contentFontSize:o,contentFontSizeSM:l,contentFontSizeLG:u,contentLineHeight:c,contentLineHeightSM:d,contentLineHeightLG:h,paddingBlock:Math.max((i.controlHeight-o*c)/2-i.lineWidth,0),paddingBlockSM:Math.max((i.controlHeightSM-l*d)/2-i.lineWidth,0),paddingBlockLG:Math.max((i.controlHeightLG-u*h)/2-i.lineWidth,0)}},vUe=i=>{let{componentCls:e,iconCls:t,fontWeight:n}=i;return{[e]:{outline:"none",position:"relative",display:"inline-block",fontWeight:n,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${$t(i.lineWidth)} ${i.lineType} transparent`,cursor:"pointer",transition:`all ${i.motionDurationMid} ${i.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:i.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:0},[`> ${t} + span, > span + ${t}`]:{marginInlineStart:i.marginXS},[`&:not(${e}-icon-only) > ${e}-icon`]:{[`&${e}-loading-icon, &:not(:last-child)`]:{marginInlineEnd:i.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},JHe(i)),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${t})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&-icon-only${e}-compact-item`]:{flex:"none"}}}},Yg=(i,e,t)=>({[`&:not(:disabled):not(${i}-disabled)`]:{"&:hover":e,"&:active":t}}),yUe=i=>({minWidth:i.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),_Ue=i=>({borderRadius:i.controlHeight,paddingInlineStart:i.calc(i.controlHeight).div(2).equal(),paddingInlineEnd:i.calc(i.controlHeight).div(2).equal()}),bUe=i=>({cursor:"not-allowed",borderColor:i.borderColorDisabled,color:i.colorTextDisabled,background:i.colorBgContainerDisabled,boxShadow:"none"}),oT=(i,e,t,n,r,s,a,o)=>({[`&${i}-background-ghost`]:Object.assign(Object.assign({color:t||void 0,background:e,borderColor:n||void 0,boxShadow:"none"},Yg(i,Object.assign({background:e},a),Object.assign({background:e},o))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:s||void 0}})}),fK=i=>({[`&:disabled, &${i.componentCls}-disabled`]:Object.assign({},bUe(i))}),Kbe=i=>Object.assign({},fK(i)),JR=i=>({[`&:disabled, &${i.componentCls}-disabled`]:{cursor:"not-allowed",color:i.colorTextDisabled}}),Xbe=i=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Kbe(i)),{background:i.defaultBg,borderColor:i.defaultBorderColor,color:i.defaultColor,boxShadow:i.defaultShadow}),Yg(i.componentCls,{color:i.defaultHoverColor,borderColor:i.defaultHoverBorderColor,background:i.defaultHoverBg},{color:i.defaultActiveColor,borderColor:i.defaultActiveBorderColor,background:i.defaultActiveBg})),oT(i.componentCls,i.ghostBg,i.defaultGhostColor,i.defaultGhostBorderColor,i.colorTextDisabled,i.colorBorder)),{[`&${i.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:i.colorError,borderColor:i.colorError},Yg(i.componentCls,{color:i.colorErrorHover,borderColor:i.colorErrorBorderHover},{color:i.colorErrorActive,borderColor:i.colorErrorActive})),oT(i.componentCls,i.ghostBg,i.colorError,i.colorError,i.colorTextDisabled,i.colorBorder)),fK(i))}),SUe=i=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Kbe(i)),{color:i.primaryColor,background:i.colorPrimary,boxShadow:i.primaryShadow}),Yg(i.componentCls,{color:i.colorTextLightSolid,background:i.colorPrimaryHover},{color:i.colorTextLightSolid,background:i.colorPrimaryActive})),oT(i.componentCls,i.ghostBg,i.colorPrimary,i.colorPrimary,i.colorTextDisabled,i.colorBorder,{color:i.colorPrimaryHover,borderColor:i.colorPrimaryHover},{color:i.colorPrimaryActive,borderColor:i.colorPrimaryActive})),{[`&${i.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({background:i.colorError,boxShadow:i.dangerShadow,color:i.dangerColor},Yg(i.componentCls,{background:i.colorErrorHover},{background:i.colorErrorActive})),oT(i.componentCls,i.ghostBg,i.colorError,i.colorError,i.colorTextDisabled,i.colorBorder,{color:i.colorErrorHover,borderColor:i.colorErrorHover},{color:i.colorErrorActive,borderColor:i.colorErrorActive})),fK(i))}),xUe=i=>Object.assign(Object.assign({},Xbe(i)),{borderStyle:"dashed"}),wUe=i=>Object.assign(Object.assign(Object.assign({color:i.colorLink},Yg(i.componentCls,{color:i.colorLinkHover,background:i.linkHoverBg},{color:i.colorLinkActive})),JR(i)),{[`&${i.componentCls}-dangerous`]:Object.assign(Object.assign({color:i.colorError},Yg(i.componentCls,{color:i.colorErrorHover},{color:i.colorErrorActive})),JR(i))}),CUe=i=>Object.assign(Object.assign(Object.assign({},Yg(i.componentCls,{color:i.colorText,background:i.textHoverBg},{color:i.colorText,background:i.colorBgTextActive})),JR(i)),{[`&${i.componentCls}-dangerous`]:Object.assign(Object.assign({color:i.colorError},JR(i)),Yg(i.componentCls,{color:i.colorErrorHover,background:i.colorErrorBg},{color:i.colorErrorHover,background:i.colorErrorBg}))}),kUe=i=>{let{componentCls:e}=i;return{[`${e}-default`]:Xbe(i),[`${e}-primary`]:SUe(i),[`${e}-dashed`]:xUe(i),[`${e}-link`]:wUe(i),[`${e}-text`]:CUe(i),[`${e}-ghost`]:oT(i.componentCls,i.ghostBg,i.colorBgContainer,i.colorBgContainer,i.colorTextDisabled,i.colorBorder)}},gK=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",{componentCls:t,controlHeight:n,fontSize:r,lineHeight:s,borderRadius:a,buttonPaddingHorizontal:o,iconCls:l,buttonPaddingVertical:u}=i,c=`${t}-icon-only`;return[{[`${e}`]:{fontSize:r,lineHeight:s,height:n,padding:`${$t(u)} ${$t(o)}`,borderRadius:a,[`&${c}`]:{width:n,paddingInlineStart:0,paddingInlineEnd:0,[`&${t}-round`]:{width:"auto"},[l]:{fontSize:i.buttonIconOnlyFontSize}},[`&${t}-loading`]:{opacity:i.opacityLoading,cursor:"default"},[`${t}-loading-icon`]:{transition:`width ${i.motionDurationSlow} ${i.motionEaseInOut}, opacity ${i.motionDurationSlow} ${i.motionEaseInOut}`}}},{[`${t}${t}-circle${e}`]:yUe(i)},{[`${t}${t}-round${e}`]:_Ue(i)}]},EUe=i=>{let e=ys(i,{fontSize:i.contentFontSize,lineHeight:i.contentLineHeight});return gK(e,i.componentCls)},AUe=i=>{let e=ys(i,{controlHeight:i.controlHeightSM,fontSize:i.contentFontSizeSM,lineHeight:i.contentLineHeightSM,padding:i.paddingXS,buttonPaddingHorizontal:i.paddingInlineSM,buttonPaddingVertical:i.paddingBlockSM,borderRadius:i.borderRadiusSM,buttonIconOnlyFontSize:i.onlyIconSizeSM});return gK(e,`${i.componentCls}-sm`)},TUe=i=>{let e=ys(i,{controlHeight:i.controlHeightLG,fontSize:i.contentFontSizeLG,lineHeight:i.contentLineHeightLG,buttonPaddingHorizontal:i.paddingInlineLG,buttonPaddingVertical:i.paddingBlockLG,borderRadius:i.borderRadiusLG,buttonIconOnlyFontSize:i.onlyIconSizeLG});return gK(e,`${i.componentCls}-lg`)},PUe=i=>{let{componentCls:e}=i;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},OUe=qu("Button",i=>{let e=Gbe(i);return[vUe(e),EUe(e),AUe(e),TUe(e),PUe(e),kUe(e),mUe(e)]},Ybe,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function MUe(i,e,t){let{focusElCls:n,focus:r,borderElCls:s}=t,a=s?"> *":"",o=["hover",r?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${a}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:i.calc(i.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[o]:{zIndex:2}},n?{[`&${n}`]:{zIndex:2}}:{}),{[`&[disabled] ${a}`]:{zIndex:0}})}}function IUe(i,e,t){let{borderElCls:n}=t,r=n?`> ${n}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${r}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${r}, &${i}-sm ${r}, &${i}-lg ${r}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${r}, &${i}-sm ${r}, &${i}-lg ${r}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function mB(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0},{componentCls:t}=i,n=`${t}-compact`;return{[n]:Object.assign(Object.assign({},MUe(i,n,e)),IUe(t,n,e))}}function RUe(i,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:i.calc(i.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function DUe(i,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${i}-sm, &${i}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${i}-sm, &${i}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function LUe(i){let e=`${i.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},RUe(i,e)),DUe(i.componentCls,e))}}var FUe=i=>{let{componentCls:e,calc:t}=i;return{[e]:{[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:t(i.lineWidth).mul(-1).equal(),insetInlineStart:t(i.lineWidth).mul(-1).equal(),display:"inline-block",width:i.lineWidth,height:`calc(100% + ${$t(i.lineWidth)} * 2)`,backgroundColor:i.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:t(i.lineWidth).mul(-1).equal(),insetInlineStart:t(i.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${$t(i.lineWidth)} * 2)`,height:i.lineWidth,backgroundColor:i.colorPrimaryHover,content:'""'}}}}}}},BUe=Z_e(["Button","compact"],i=>{let e=Gbe(i);return[mB(e),LUe(e),FUe(e)]},Ybe),$Ue=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};function NUe(i){if(typeof i=="object"&&i){let e=i==null?void 0:i.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!i,delay:0}}var jUe=(i,e)=>{var t,n;let{loading:r=!1,prefixCls:s,type:a,danger:o,shape:l="default",size:u,styles:c,disabled:d,className:h,rootClassName:p,children:f,icon:g,ghost:v=!1,block:m=!1,htmlType:b="button",classNames:_,style:S={}}=i,C=$Ue(i,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),k=a||"default",{getPrefixCls:E,autoInsertSpaceInButton:A,direction:P,button:O}=(0,Mo.useContext)(En),M=E("btn",s),[D,L,H]=OUe(M),B=(0,Mo.useContext)(cm),F=d??B,z=(0,Mo.useContext)(Wbe),N=(0,Mo.useMemo)(()=>NUe(r),[r]),[U,G]=(0,Mo.useState)(N.loading),[j,K]=(0,Mo.useState)(!1),ie=ih(e,(0,Mo.createRef)()),ae=Mo.Children.count(f)===1&&!g&&!Ej(k);(0,Mo.useEffect)(()=>{let We=null;N.delay>0?We=setTimeout(()=>{We=null,G(!0)},N.delay):G(N.loading);function ut(){We&&(clearTimeout(We),We=null)}return ut},[N]),(0,Mo.useEffect)(()=>{if(!ie||!ie.current||A===!1)return;let We=ie.current.textContent;ae&&ZH(We)?j||K(!0):j&&K(!1)},[ie]);let re=We=>{let{onClick:ut}=i;if(U||F){We.preventDefault();return}ut==null||ut(We)},J=A!==!1,{compactSize:ne,compactItemClassnames:te}=V2(M,P),Q={large:"lg",small:"sm",middle:void 0},se=dm(We=>{var ut,vt;return(vt=(ut=u??ne)!==null&&ut!==void 0?ut:z)!==null&&vt!==void 0?vt:We}),_e=se&&Q[se]||"",le=U?"loading":g,ve=um(C,["navigate"]),pe=(0,wj.default)(M,L,H,{[`${M}-${l}`]:l!=="default"&&l,[`${M}-${k}`]:k,[`${M}-${_e}`]:_e,[`${M}-icon-only`]:!f&&f!==0&&!!le,[`${M}-background-ghost`]:v&&!Ej(k),[`${M}-loading`]:U,[`${M}-two-chinese-chars`]:j&&J&&!U,[`${M}-block`]:m,[`${M}-dangerous`]:!!o,[`${M}-rtl`]:P==="rtl"},te,h,p,O==null?void 0:O.className),Fe=Object.assign(Object.assign({},O==null?void 0:O.style),S),Ee=(0,wj.default)(_==null?void 0:_.icon,(t=O==null?void 0:O.classNames)===null||t===void 0?void 0:t.icon),it=Object.assign(Object.assign({},(c==null?void 0:c.icon)||{}),((n=O==null?void 0:O.styles)===null||n===void 0?void 0:n.icon)||{}),Qe=g&&!U?Mo.default.createElement(Ube,{prefixCls:M,className:Ee,style:it},g):Mo.default.createElement(fUe,{existIcon:!!g,prefixCls:M,loading:!!U}),Ae=f||f===0?uUe(f,ae&&J):null;if(ve.href!==void 0)return D(Mo.default.createElement("a",Object.assign({},ve,{className:(0,wj.default)(pe,{[`${M}-disabled`]:F}),href:F?void 0:ve.href,style:Fe,onClick:re,ref:ie,tabIndex:F?-1:0}),Qe,Ae));let je=Mo.default.createElement("button",Object.assign({},C,{type:b,className:pe,style:Fe,onClick:re,disabled:F,ref:ie}),Qe,Ae,!!te&&Mo.default.createElement(BUe,{key:"compact",prefixCls:M}));return Ej(k)||(je=Mo.default.createElement(pK,{component:"Button",disabled:!!U},je)),D(je)},mK=(0,Mo.forwardRef)(jUe);mK.Group=oUe;mK.__ANT_BUTTON=!0;var zUe=mK,eD=zUe,sy=oe(ge()),HUe=oe(hb()),VUe=oe(ge()),WUe=VUe.createContext(null),qbe=WUe,RM=oe(ge()),Rne=[];function UUe(i,e){var t=RM.useState(function(){if(!nu())return null;var f=document.createElement("div");return f}),n=ze(t,1),r=n[0],s=RM.useRef(!1),a=RM.useContext(qbe),o=RM.useState(Rne),l=ze(o,2),u=l[0],c=l[1],d=a||(s.current?void 0:function(f){c(function(g){var v=[f].concat(Bt(g));return v})});function h(){r.parentElement||document.body.appendChild(r),s.current=!0}function p(){var f;(f=r.parentElement)===null||f===void 0||f.removeChild(r),s.current=!1}return cs(function(){return i?a?a(h):h():p(),p},[i]),cs(function(){u.length&&(u.forEach(function(f){return f()}),c(Rne))},[u]),[r,d]}var GUe=oe(ge());function YUe(i){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),t=document.createElement("div");t.id=e;var n=t.style;n.position="absolute",n.left="0",n.top="0",n.width="100px",n.height="100px",n.overflow="scroll";var r,s;if(i){var a=getComputedStyle(i);n.scrollbarColor=a.scrollbarColor,n.scrollbarWidth=a.scrollbarWidth;var o=getComputedStyle(i,"::-webkit-scrollbar"),l=parseInt(o.width,10),u=parseInt(o.height,10);try{var c=l?"width: ".concat(o.width,";"):"",d=u?"height: ".concat(o.height,";"):"";Gg(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(c,`
`).concat(d,`
}`),e)}catch(f){console.error(f),r=l,s=u}}document.body.appendChild(t);var h=i&&r&&!isNaN(r)?r:t.offsetWidth-t.clientWidth,p=i&&s&&!isNaN(s)?s:t.offsetHeight-t.clientHeight;return document.body.removeChild(t),Lx(e),{width:h,height:p}}function KUe(i){return typeof document>"u"||!i||!(i instanceof Element)?{width:0,height:0}:YUe(i)}function XUe(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var qUe="rc-util-locker-".concat(Date.now()),Dne=0;function ZUe(i){var e=!!i,t=GUe.useState(function(){return Dne+=1,"".concat(qUe,"_").concat(Dne)}),n=ze(t,1),r=n[0];cs(function(){if(e){var s=KUe(document.body).width,a=XUe();Gg(`
html body {
  overflow-y: hidden;
  `.concat(a?"width: calc(100% - ".concat(s,"px);"):"",`
}`),r)}else Lx(r);return function(){Lx(r)}},[e,r])}var QUe=!1;function JUe(i){return QUe}var Lne=function(i){return i===!1?!1:!nu()||!i?null:typeof i=="string"?document.querySelector(i):typeof i=="function"?i():i},eGe=sy.forwardRef(function(i,e){var t=i.open,n=i.autoLock,r=i.getContainer;i.debug;var s=i.autoDestroy,a=s===void 0?!0:s,o=i.children,l=sy.useState(t),u=ze(l,2),c=u[0],d=u[1],h=c||t;sy.useEffect(function(){(a||t)&&d(t)},[t,a]);var p=sy.useState(function(){return Lne(r)}),f=ze(p,2),g=f[0],v=f[1];sy.useEffect(function(){var M=Lne(r);v(M??null)});var m=UUe(h&&!g),b=ze(m,2),_=b[0],S=b[1],C=g??_;ZUe(n&&t&&nu()&&(C===_||C===document.body));var k=null;if(o&&Ow(o)&&e){var E=o;k=E.ref}var A=Q6(k,e);if(!h||!nu()||g===void 0)return null;var P=C===!1||JUe(),O=o;return e&&(O=sy.cloneElement(o,{ref:A})),sy.createElement(qbe.Provider,{value:S},P?O:(0,HUe.createPortal)(O,C))}),tGe=eGe,Zbe=tGe,QH=oe(ge());function iGe(){var i=Re({},QH);return i.useId}var Fne=0,Bne=iGe(),nGe=Bne?function(i){var e=Bne();return i||e}:function(i){var e=QH.useState("ssr-id"),t=ze(e,2),n=t[0],r=t[1];return QH.useEffect(function(){var s=Fne;Fne+=1,r("rc_unique_".concat(s))},[]),i||n},Dw=oe(ge()),JH=oe(ge()),rGe=oe(ge()),bg=oe(ge()),sGe=oe(ge()),Hy="RC_FORM_INTERNAL_HOOKS",Lr=function(){Vd(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},aGe=sGe.createContext({getFieldValue:Lr,getFieldsValue:Lr,getFieldError:Lr,getFieldWarning:Lr,getFieldsError:Lr,isFieldsTouched:Lr,isFieldTouched:Lr,isFieldValidating:Lr,isFieldsValidating:Lr,resetFields:Lr,setFields:Lr,setFieldValue:Lr,setFieldsValue:Lr,validateFields:Lr,submit:Lr,getInternalHooks:function(){return Lr(),{dispatch:Lr,initEntityValue:Lr,registerField:Lr,useSubscribe:Lr,setInitialValues:Lr,destroyForm:Lr,setCallbacks:Lr,registerWatch:Lr,getFields:Lr,setValidateMessages:Lr,setPreserve:Lr,getInitialValue:Lr}}}),F_=aGe,oGe=oe(ge()),lGe=oGe.createContext(null),lT=lGe;function eV(i){return i==null?[]:Array.isArray(i)?i:[i]}function uGe(i){return i&&!!i._init}function Vy(){return Vy=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Vy.apply(this,arguments)}function cGe(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,uT(i,e)}function tV(i){return tV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tV(i)}function uT(i,e){return uT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},uT(i,e)}function dGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O3(i,e,t){return dGe()?O3=Reflect.construct.bind():O3=function(n,r,s){var a=[null];a.push.apply(a,r);var o=Function.bind.apply(n,a),l=new o;return s&&uT(l,s.prototype),l},O3.apply(null,arguments)}function hGe(i){return Function.toString.call(i).indexOf("[native code]")!==-1}function iV(i){var e=typeof Map=="function"?new Map:void 0;return iV=function(t){if(t===null||!hGe(t))return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return O3(t,arguments,tV(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),uT(n,t)},iV(i)}var pGe=/%[sdj%]/g,fGe=function(){};function nV(i){if(!i||!i.length)return null;var e={};return i.forEach(function(t){var n=t.field;e[n]=e[n]||[],e[n].push(t)}),e}function Rc(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var r=0,s=t.length;if(typeof i=="function")return i.apply(null,t);if(typeof i=="string"){var a=i.replace(pGe,function(o){if(o==="%%")return"%";if(r>=s)return o;switch(o){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch{return"[Circular]"}break;default:return o}});return a}return i}function gGe(i){return i==="string"||i==="url"||i==="hex"||i==="email"||i==="date"||i==="pattern"}function Ja(i,e){return!!(i==null||e==="array"&&Array.isArray(i)&&!i.length||gGe(e)&&typeof i=="string"&&!i)}function mGe(i,e,t){var n=[],r=0,s=i.length;function a(o){n.push.apply(n,o||[]),r++,r===s&&t(n)}i.forEach(function(o){e(o,a)})}function $ne(i,e,t){var n=0,r=i.length;function s(a){if(a&&a.length){t(a);return}var o=n;n=n+1,o<r?e(i[o],s):t([])}s([])}function vGe(i){var e=[];return Object.keys(i).forEach(function(t){e.push.apply(e,i[t]||[])}),e}var Nne=function(i){cGe(e,i);function e(t,n){var r;return r=i.call(this,"Async Validation Error")||this,r.errors=t,r.fields=n,r}return e}(iV(Error));function yGe(i,e,t,n,r){if(e.first){var s=new Promise(function(h,p){var f=function(v){return n(v),v.length?p(new Nne(v,nV(v))):h(r)},g=vGe(i);$ne(g,t,f)});return s.catch(function(h){return h}),s}var a=e.firstFields===!0?Object.keys(i):e.firstFields||[],o=Object.keys(i),l=o.length,u=0,c=[],d=new Promise(function(h,p){var f=function(g){if(c.push.apply(c,g),u++,u===l)return n(c),c.length?p(new Nne(c,nV(c))):h(r)};o.length||(n(c),h(r)),o.forEach(function(g){var v=i[g];a.indexOf(g)!==-1?$ne(v,t,f):mGe(v,t,f)})});return d.catch(function(h){return h}),d}function _Ge(i){return!!(i&&i.message!==void 0)}function bGe(i,e){for(var t=i,n=0;n<e.length;n++){if(t==null)return t;t=t[e[n]]}return t}function jne(i,e){return function(t){var n;return i.fullFields?n=bGe(e,i.fullFields):n=e[t.field||i.fullField],_Ge(t)?(t.field=t.field||i.fullField,t.fieldValue=n,t):{message:typeof t=="function"?t():t,fieldValue:n,field:t.field||i.fullField}}}function zne(i,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];typeof n=="object"&&typeof i[t]=="object"?i[t]=Vy({},i[t],n):i[t]=n}}return i}var Qbe=function(i,e,t,n,r,s){i.required&&(!t.hasOwnProperty(i.field)||Ja(e,s||i.type))&&n.push(Rc(r.messages.required,i.fullField))},SGe=function(i,e,t,n,r){(/^\s+$/.test(e)||e==="")&&n.push(Rc(r.messages.whitespace,i.fullField))},DM,xGe=function(){if(DM)return DM;var i="[a-fA-F\\d:]",e=function(_){return _&&_.includeBoundaries?"(?:(?<=\\s|^)(?="+i+")|(?<="+i+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",r=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+t+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+t+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+t+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+t+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+t+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+t+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+t+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+t+"$)|(?:^"+r+"$)"),a=new RegExp("^"+t+"$"),o=new RegExp("^"+r+"$"),l=function(_){return _&&_.exact?s:new RegExp("(?:"+e(_)+t+e(_)+")|(?:"+e(_)+r+e(_)+")","g")};l.v4=function(_){return _&&_.exact?a:new RegExp(""+e(_)+t+e(_),"g")},l.v6=function(_){return _&&_.exact?o:new RegExp(""+e(_)+r+e(_),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,h=l.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",f="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",v="(?::\\d{2,5})?",m='(?:[/?#][^\\s"]*)?',b="(?:"+u+"|www\\.)"+c+"(?:localhost|"+d+"|"+h+"|"+p+f+g+")"+v+m;return DM=new RegExp("(?:^"+b+"$)","i"),DM},Hne={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Uk={integer:function(i){return Uk.number(i)&&parseInt(i,10)===i},float:function(i){return Uk.number(i)&&!Uk.integer(i)},array:function(i){return Array.isArray(i)},regexp:function(i){if(i instanceof RegExp)return!0;try{return!!new RegExp(i)}catch{return!1}},date:function(i){return typeof i.getTime=="function"&&typeof i.getMonth=="function"&&typeof i.getYear=="function"&&!isNaN(i.getTime())},number:function(i){return isNaN(i)?!1:typeof i=="number"},object:function(i){return typeof i=="object"&&!Uk.array(i)},method:function(i){return typeof i=="function"},email:function(i){return typeof i=="string"&&i.length<=320&&!!i.match(Hne.email)},url:function(i){return typeof i=="string"&&i.length<=2048&&!!i.match(xGe())},hex:function(i){return typeof i=="string"&&!!i.match(Hne.hex)}},wGe=function(i,e,t,n,r){if(i.required&&e===void 0){Qbe(i,e,t,n,r);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=i.type;s.indexOf(a)>-1?Uk[a](e)||n.push(Rc(r.messages.types[a],i.fullField,i.type)):a&&typeof e!==i.type&&n.push(Rc(r.messages.types[a],i.fullField,i.type))},CGe=function(i,e,t,n,r){var s=typeof i.len=="number",a=typeof i.min=="number",o=typeof i.max=="number",l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=e,c=null,d=typeof e=="number",h=typeof e=="string",p=Array.isArray(e);if(d?c="number":h?c="string":p&&(c="array"),!c)return!1;p&&(u=e.length),h&&(u=e.replace(l,"_").length),s?u!==i.len&&n.push(Rc(r.messages[c].len,i.fullField,i.len)):a&&!o&&u<i.min?n.push(Rc(r.messages[c].min,i.fullField,i.min)):o&&!a&&u>i.max?n.push(Rc(r.messages[c].max,i.fullField,i.max)):a&&o&&(u<i.min||u>i.max)&&n.push(Rc(r.messages[c].range,i.fullField,i.min,i.max))},o1="enum",kGe=function(i,e,t,n,r){i[o1]=Array.isArray(i[o1])?i[o1]:[],i[o1].indexOf(e)===-1&&n.push(Rc(r.messages[o1],i.fullField,i[o1].join(", ")))},EGe=function(i,e,t,n,r){if(i.pattern){if(i.pattern instanceof RegExp)i.pattern.lastIndex=0,i.pattern.test(e)||n.push(Rc(r.messages.pattern.mismatch,i.fullField,e,i.pattern));else if(typeof i.pattern=="string"){var s=new RegExp(i.pattern);s.test(e)||n.push(Rc(r.messages.pattern.mismatch,i.fullField,e,i.pattern))}}},On={required:Qbe,whitespace:SGe,type:wGe,range:CGe,enum:kGe,pattern:EGe},AGe=function(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(Ja(e,"string")&&!i.required)return t();On.required(i,e,n,s,r,"string"),Ja(e,"string")||(On.type(i,e,n,s,r),On.range(i,e,n,s,r),On.pattern(i,e,n,s,r),i.whitespace===!0&&On.whitespace(i,e,n,s,r))}t(s)},TGe=function(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(Ja(e)&&!i.required)return t();On.required(i,e,n,s,r),e!==void 0&&On.type(i,e,n,s,r)}t(s)},PGe=function(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(e===""&&(e=void 0),Ja(e)&&!i.required)return t();On.required(i,e,n,s,r),e!==void 0&&(On.type(i,e,n,s,r),On.range(i,e,n,s,r))}t(s)},OGe=function(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(Ja(e)&&!i.required)return t();On.required(i,e,n,s,r),e!==void 0&&On.type(i,e,n,s,r)}t(s)},MGe=function(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(Ja(e)&&!i.required)return t();On.required(i,e,n,s,r),Ja(e)||On.type(i,e,n,s,r)}t(s)},IGe=function(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(Ja(e)&&!i.required)return t();On.required(i,e,n,s,r),e!==void 0&&(On.type(i,e,n,s,r),On.range(i,e,n,s,r))}t(s)},RGe=function(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(Ja(e)&&!i.required)return t();On.required(i,e,n,s,r),e!==void 0&&(On.type(i,e,n,s,r),On.range(i,e,n,s,r))}t(s)},DGe=function(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(e==null&&!i.required)return t();On.required(i,e,n,s,r,"array"),e!=null&&(On.type(i,e,n,s,r),On.range(i,e,n,s,r))}t(s)},LGe=function(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(Ja(e)&&!i.required)return t();On.required(i,e,n,s,r),e!==void 0&&On.type(i,e,n,s,r)}t(s)},FGe="enum",BGe=function(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(Ja(e)&&!i.required)return t();On.required(i,e,n,s,r),e!==void 0&&On[FGe](i,e,n,s,r)}t(s)},$Ge=function(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(Ja(e,"string")&&!i.required)return t();On.required(i,e,n,s,r),Ja(e,"string")||On.pattern(i,e,n,s,r)}t(s)},NGe=function(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(Ja(e,"date")&&!i.required)return t();if(On.required(i,e,n,s,r),!Ja(e,"date")){var o;e instanceof Date?o=e:o=new Date(e),On.type(i,o,n,s,r),o&&On.range(i,o.getTime(),n,s,r)}}t(s)},jGe=function(i,e,t,n,r){var s=[],a=Array.isArray(e)?"array":typeof e;On.required(i,e,n,s,r,a),t(s)},Pj=function(i,e,t,n,r){var s=i.type,a=[],o=i.required||!i.required&&n.hasOwnProperty(i.field);if(o){if(Ja(e,s)&&!i.required)return t();On.required(i,e,n,a,r,s),Ja(e,s)||On.type(i,e,n,a,r)}t(a)},zGe=function(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(Ja(e)&&!i.required)return t();On.required(i,e,n,s,r)}t(s)},TE={string:AGe,method:TGe,number:PGe,boolean:OGe,regexp:MGe,integer:IGe,float:RGe,array:DGe,object:LGe,enum:BGe,pattern:$Ge,date:NGe,url:Pj,hex:Pj,email:Pj,required:jGe,any:zGe};function rV(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var i=JSON.parse(JSON.stringify(this));return i.clone=this.clone,i}}}var sV=rV(),W2=function(){function i(t){this.rules=null,this._messages=sV,this.define(t)}var e=i.prototype;return e.define=function(t){var n=this;if(!t)throw new Error("Cannot configure a schema with no rules");if(typeof t!="object"||Array.isArray(t))throw new Error("Rules must be an object");this.rules={},Object.keys(t).forEach(function(r){var s=t[r];n.rules[r]=Array.isArray(s)?s:[s]})},e.messages=function(t){return t&&(this._messages=zne(rV(),t)),this._messages},e.validate=function(t,n,r){var s=this;n===void 0&&(n={}),r===void 0&&(r=function(){});var a=t,o=n,l=r;if(typeof o=="function"&&(l=o,o={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,a),Promise.resolve(a);function u(f){var g=[],v={};function m(_){if(Array.isArray(_)){var S;g=(S=g).concat.apply(S,_)}else g.push(_)}for(var b=0;b<f.length;b++)m(f[b]);g.length?(v=nV(g),l(g,v)):l(null,a)}if(o.messages){var c=this.messages();c===sV&&(c=rV()),zne(c,o.messages),o.messages=c}else o.messages=this.messages();var d={},h=o.keys||Object.keys(this.rules);h.forEach(function(f){var g=s.rules[f],v=a[f];g.forEach(function(m){var b=m;typeof b.transform=="function"&&(a===t&&(a=Vy({},a)),v=a[f]=b.transform(v)),typeof b=="function"?b={validator:b}:b=Vy({},b),b.validator=s.getValidationMethod(b),b.validator&&(b.field=f,b.fullField=b.fullField||f,b.type=s.getType(b),d[f]=d[f]||[],d[f].push({rule:b,value:v,source:a,field:f}))})});var p={};return yGe(d,o,function(f,g){var v=f.rule,m=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");m=m&&(v.required||!v.required&&f.value),v.field=f.field;function b(C,k){return Vy({},k,{fullField:v.fullField+"."+C,fullFields:v.fullFields?[].concat(v.fullFields,[C]):[C]})}function _(C){C===void 0&&(C=[]);var k=Array.isArray(C)?C:[C];!o.suppressWarning&&k.length&&i.warning("async-validator:",k),k.length&&v.message!==void 0&&(k=[].concat(v.message));var E=k.map(jne(v,a));if(o.first&&E.length)return p[v.field]=1,g(E);if(!m)g(E);else{if(v.required&&!f.value)return v.message!==void 0?E=[].concat(v.message).map(jne(v,a)):o.error&&(E=[o.error(v,Rc(o.messages.required,v.field))]),g(E);var A={};v.defaultField&&Object.keys(f.value).map(function(M){A[M]=v.defaultField}),A=Vy({},A,f.rule.fields);var P={};Object.keys(A).forEach(function(M){var D=A[M],L=Array.isArray(D)?D:[D];P[M]=L.map(b.bind(null,M))});var O=new i(P);O.messages(o.messages),f.rule.options&&(f.rule.options.messages=o.messages,f.rule.options.error=o.error),O.validate(f.value,f.rule.options||o,function(M){var D=[];E&&E.length&&D.push.apply(D,E),M&&M.length&&D.push.apply(D,M),g(D.length?D:null)})}}var S;if(v.asyncValidator)S=v.asyncValidator(v,f.value,_,f.source,o);else if(v.validator){try{S=v.validator(v,f.value,_,f.source,o)}catch(C){console.error==null||console.error(C),o.suppressValidatorError||setTimeout(function(){throw C},0),_(C.message)}S===!0?_():S===!1?_(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||(v.fullField||v.field)+" fails"):S instanceof Array?_(S):S instanceof Error&&_(S.message)}S&&S.then&&S.then(function(){return _()},function(C){return _(C)})},function(f){u(f)},a)},e.getType=function(t){if(t.type===void 0&&t.pattern instanceof RegExp&&(t.type="pattern"),typeof t.validator!="function"&&t.type&&!TE.hasOwnProperty(t.type))throw new Error(Rc("Unknown rule type %s",t.type));return t.type||"string"},e.getValidationMethod=function(t){if(typeof t.validator=="function")return t.validator;var n=Object.keys(t),r=n.indexOf("message");return r!==-1&&n.splice(r,1),n.length===1&&n[0]==="required"?TE.required:TE[this.getType(t)]||void 0},i}();W2.register=function(i,e){if(typeof e!="function")throw new Error("Cannot register a validator by type, validator is not a function");TE[i]=e};W2.warning=fGe;W2.messages=sV;W2.validators=TE;var Vne=oe(ge()),dc="'${name}' is not a valid ${type}",Jbe={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:dc,method:dc,array:dc,object:dc,number:dc,date:dc,boolean:dc,integer:dc,float:dc,regexp:dc,email:dc,url:dc,hex:dc},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Wne=W2;function HGe(i,e){return i.replace(/\$\{\w+\}/g,function(t){var n=t.slice(2,-1);return e[n]})}var Une="CODE_LOGIC_ERROR";function aV(i,e,t,n,r){return oV.apply(this,arguments)}function oV(){return oV=fb(ru().mark(function i(e,t,n,r,s){var a,o,l,u,c,d,h,p,f;return ru().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return a=Re({},n),delete a.ruleIndex,Wne.warning=function(){},a.validator&&(o=a.validator,a.validator=function(){try{return o.apply(void 0,arguments)}catch(v){return console.error(v),Promise.reject(Une)}}),l=null,a&&a.type==="array"&&a.defaultField&&(l=a.defaultField,delete a.defaultField),u=new Wne(be({},e,[a])),c=_S(Jbe,r.validateMessages),u.messages(c),d=[],g.prev=10,g.next=13,Promise.resolve(u.validate(be({},e,t),Re({},r)));case 13:g.next=18;break;case 15:g.prev=15,g.t0=g.catch(10),g.t0.errors&&(d=g.t0.errors.map(function(v,m){var b=v.message,_=b===Une?c.default:b;return Vne.isValidElement(_)?Vne.cloneElement(_,{key:"error_".concat(m)}):_}));case 18:if(!(!d.length&&l)){g.next=23;break}return g.next=21,Promise.all(t.map(function(v,m){return aV("".concat(e,".").concat(m),v,l,r,s)}));case 21:return h=g.sent,g.abrupt("return",h.reduce(function(v,m){return[].concat(Bt(v),Bt(m))},[]));case 23:return p=Re(Re({},n),{},{name:e,enum:(n.enum||[]).join(", ")},s),f=d.map(function(v){return typeof v=="string"?HGe(v,p):v}),g.abrupt("return",f);case 26:case"end":return g.stop()}},i,null,[[10,15]])})),oV.apply(this,arguments)}function VGe(i,e,t,n,r,s){var a=i.join("."),o=t.map(function(c,d){var h=c.validator,p=Re(Re({},c),{},{ruleIndex:d});return h&&(p.validator=function(f,g,v){var m=!1,b=function(){for(var S=arguments.length,C=new Array(S),k=0;k<S;k++)C[k]=arguments[k];Promise.resolve().then(function(){Vd(!m,"Your validator function has already return a promise. `callback` will be ignored."),m||v.apply(void 0,C)})},_=h(f,g,b);m=_&&typeof _.then=="function"&&typeof _.catch=="function",Vd(m,"`callback` is deprecated. Please return a promise instead."),m&&_.then(function(){v()}).catch(function(S){v(S||" ")})}),p}).sort(function(c,d){var h=c.warningOnly,p=c.ruleIndex,f=d.warningOnly,g=d.ruleIndex;return!!h==!!f?p-g:h?1:-1}),l;if(r===!0)l=new Promise(function(){var c=fb(ru().mark(function d(h,p){var f,g,v;return ru().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:f=0;case 1:if(!(f<o.length)){m.next=12;break}return g=o[f],m.next=5,aV(a,e,g,n,s);case 5:if(v=m.sent,!v.length){m.next=9;break}return p([{errors:v,rule:g}]),m.abrupt("return");case 9:f+=1,m.next=1;break;case 12:h([]);case 13:case"end":return m.stop()}},d)}));return function(d,h){return c.apply(this,arguments)}}());else{var u=o.map(function(c){return aV(a,e,c,n,s).then(function(d){return{errors:d,rule:c}})});l=(r?UGe(u):WGe(u)).then(function(c){return Promise.reject(c)})}return l.catch(function(c){return c}),l}function WGe(i){return lV.apply(this,arguments)}function lV(){return lV=fb(ru().mark(function i(e){return ru().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e).then(function(n){var r,s=(r=[]).concat.apply(r,Bt(n));return s}));case 1:case"end":return t.stop()}},i)})),lV.apply(this,arguments)}function UGe(i){return uV.apply(this,arguments)}function uV(){return uV=fb(ru().mark(function i(e){var t;return ru().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=0,n.abrupt("return",new Promise(function(r){e.forEach(function(s){s.then(function(a){a.errors.length&&r([a]),t+=1,t===e.length&&r([])})})}));case 2:case"end":return n.stop()}},i)})),uV.apply(this,arguments)}function ga(i){return eV(i)}function Gne(i,e){var t={};return e.forEach(function(n){var r=of(i,n);t=Fh(t,n,r)}),t}function ex(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return i&&i.some(function(n){return e1e(e,n,t)})}function e1e(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!i||!e||!t&&i.length!==e.length?!1:e.every(function(n,r){return i[r]===n})}function GGe(i,e){if(i===e)return!0;if(!i&&e||i&&!e||!i||!e||hn(i)!=="object"||hn(e)!=="object")return!1;var t=Object.keys(i),n=Object.keys(e),r=new Set([].concat(t,n));return Bt(r).every(function(s){var a=i[s],o=e[s];return typeof a=="function"&&typeof o=="function"?!0:a===o})}function YGe(i){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&hn(e.target)==="object"&&i in e.target?e.target[i]:e}function Yne(i,e,t){var n=i.length;if(e<0||e>=n||t<0||t>=n)return i;var r=i[e],s=e-t;return s>0?[].concat(Bt(i.slice(0,t)),[r],Bt(i.slice(t,e)),Bt(i.slice(e+1,n))):s<0?[].concat(Bt(i.slice(0,e)),Bt(i.slice(e+1,t+1)),[r],Bt(i.slice(t+1,n))):i}var KGe=["name"],ud=[];function Kne(i,e,t,n,r,s){return typeof i=="function"?i(e,t,"source"in s?{source:s.source}:{}):n!==r}var vK=function(i){Mw(t,i);var e=eB(t);function t(n){var r;if(Rl(this,t),r=e.call(this,n),be(Gn(r),"state",{resetCount:0}),be(Gn(r),"cancelRegisterFunc",null),be(Gn(r),"mounted",!1),be(Gn(r),"touched",!1),be(Gn(r),"dirty",!1),be(Gn(r),"validatePromise",void 0),be(Gn(r),"prevValidating",void 0),be(Gn(r),"errors",ud),be(Gn(r),"warnings",ud),be(Gn(r),"cancelRegister",function(){var l=r.props,u=l.preserve,c=l.isListField,d=l.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(c,u,ga(d)),r.cancelRegisterFunc=null}),be(Gn(r),"getNamePath",function(){var l=r.props,u=l.name,c=l.fieldContext,d=c.prefixName,h=d===void 0?[]:d;return u!==void 0?[].concat(Bt(h),Bt(u)):[]}),be(Gn(r),"getRules",function(){var l=r.props,u=l.rules,c=u===void 0?[]:u,d=l.fieldContext;return c.map(function(h){return typeof h=="function"?h(d):h})}),be(Gn(r),"refresh",function(){r.mounted&&r.setState(function(l){var u=l.resetCount;return{resetCount:u+1}})}),be(Gn(r),"metaCache",null),be(Gn(r),"triggerMetaEvent",function(l){var u=r.props.onMetaChange;if(u){var c=Re(Re({},r.getMeta()),{},{destroy:l});a_e(r.metaCache,c)||u(c),r.metaCache=c}else r.metaCache=null}),be(Gn(r),"onStoreChange",function(l,u,c){var d=r.props,h=d.shouldUpdate,p=d.dependencies,f=p===void 0?[]:p,g=d.onReset,v=c.store,m=r.getNamePath(),b=r.getValue(l),_=r.getValue(v),S=u&&ex(u,m);switch(c.type==="valueUpdate"&&c.source==="external"&&b!==_&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=ud,r.warnings=ud,r.triggerMetaEvent()),c.type){case"reset":if(!u||S){r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=ud,r.warnings=ud,r.triggerMetaEvent(),g==null||g(),r.refresh();return}break;case"remove":{if(h){r.reRender();return}break}case"setField":{var C=c.data;if(S){"touched"in C&&(r.touched=C.touched),"validating"in C&&!("originRCField"in C)&&(r.validatePromise=C.validating?Promise.resolve([]):null),"errors"in C&&(r.errors=C.errors||ud),"warnings"in C&&(r.warnings=C.warnings||ud),r.dirty=!0,r.triggerMetaEvent(),r.reRender();return}else if("value"in C&&ex(u,m,!0)){r.reRender();return}if(h&&!m.length&&Kne(h,l,v,b,_,c)){r.reRender();return}break}case"dependenciesUpdate":{var k=f.map(ga);if(k.some(function(E){return ex(c.relatedFields,E)})){r.reRender();return}break}default:if(S||(!f.length||m.length||h)&&Kne(h,l,v,b,_,c)){r.reRender();return}break}h===!0&&r.reRender()}),be(Gn(r),"validateRules",function(l){var u=r.getNamePath(),c=r.getValue(),d=l||{},h=d.triggerName,p=d.validateOnly,f=p===void 0?!1:p,g=Promise.resolve().then(fb(ru().mark(function v(){var m,b,_,S,C,k,E;return ru().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(r.mounted){A.next=2;break}return A.abrupt("return",[]);case 2:if(m=r.props,b=m.validateFirst,_=b===void 0?!1:b,S=m.messageVariables,C=m.validateDebounce,k=r.getRules(),h&&(k=k.filter(function(P){return P}).filter(function(P){var O=P.validateTrigger;if(!O)return!0;var M=eV(O);return M.includes(h)})),!(C&&h)){A.next=10;break}return A.next=8,new Promise(function(P){setTimeout(P,C)});case 8:if(r.validatePromise===g){A.next=10;break}return A.abrupt("return",[]);case 10:return E=VGe(u,c,k,l,_,S),E.catch(function(P){return P}).then(function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ud;if(r.validatePromise===g){var O;r.validatePromise=null;var M=[],D=[];(O=P.forEach)===null||O===void 0||O.call(P,function(L){var H=L.rule.warningOnly,B=L.errors,F=B===void 0?ud:B;H?D.push.apply(D,Bt(F)):M.push.apply(M,Bt(F))}),r.errors=M,r.warnings=D,r.triggerMetaEvent(),r.reRender()}}),A.abrupt("return",E);case 13:case"end":return A.stop()}},v)})));return f||(r.validatePromise=g,r.dirty=!0,r.errors=ud,r.warnings=ud,r.triggerMetaEvent(),r.reRender()),g}),be(Gn(r),"isFieldValidating",function(){return!!r.validatePromise}),be(Gn(r),"isFieldTouched",function(){return r.touched}),be(Gn(r),"isFieldDirty",function(){if(r.dirty||r.props.initialValue!==void 0)return!0;var l=r.props.fieldContext,u=l.getInternalHooks(Hy),c=u.getInitialValue;return c(r.getNamePath())!==void 0}),be(Gn(r),"getErrors",function(){return r.errors}),be(Gn(r),"getWarnings",function(){return r.warnings}),be(Gn(r),"isListField",function(){return r.props.isListField}),be(Gn(r),"isList",function(){return r.props.isList}),be(Gn(r),"isPreserve",function(){return r.props.preserve}),be(Gn(r),"getMeta",function(){r.prevValidating=r.isFieldValidating();var l={touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:r.validatePromise===null};return l}),be(Gn(r),"getOnlyChild",function(l){if(typeof l=="function"){var u=r.getMeta();return Re(Re({},r.getOnlyChild(l(r.getControlled(),u,r.props.fieldContext))),{},{isFunction:!0})}var c=h0(l);return c.length!==1||!bg.isValidElement(c[0])?{child:c,isFunction:!1}:{child:c[0],isFunction:!1}}),be(Gn(r),"getValue",function(l){var u=r.props.fieldContext.getFieldsValue,c=r.getNamePath();return of(l||u(!0),c)}),be(Gn(r),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=r.props,c=u.trigger,d=u.validateTrigger,h=u.getValueFromEvent,p=u.normalize,f=u.valuePropName,g=u.getValueProps,v=u.fieldContext,m=d!==void 0?d:v.validateTrigger,b=r.getNamePath(),_=v.getInternalHooks,S=v.getFieldsValue,C=_(Hy),k=C.dispatch,E=r.getValue(),A=g||function(L){return be({},f,L)},P=l[c],O=A(E),M=Re(Re({},l),O);M[c]=function(){r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var L,H=arguments.length,B=new Array(H),F=0;F<H;F++)B[F]=arguments[F];h?L=h.apply(void 0,B):L=YGe.apply(void 0,[f].concat(B)),p&&(L=p(L,E,S(!0))),k({type:"updateValue",namePath:b,value:L}),P&&P.apply(void 0,B)};var D=eV(m||[]);return D.forEach(function(L){var H=M[L];M[L]=function(){H&&H.apply(void 0,arguments);var B=r.props.rules;B&&B.length&&k({type:"validateField",namePath:b,triggerName:L})}}),M}),n.fieldContext){var s=n.fieldContext.getInternalHooks,a=s(Hy),o=a.initEntityValue;o(Gn(r))}return r}return Dl(t,[{key:"componentDidMount",value:function(){var n=this.props,r=n.shouldUpdate,s=n.fieldContext;if(this.mounted=!0,s){var a=s.getInternalHooks,o=a(Hy),l=o.registerField;this.cancelRegisterFunc=l(this)}r===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var n=this.state.resetCount,r=this.props.children,s=this.getOnlyChild(r),a=s.child,o=s.isFunction,l;return o?l=a:bg.isValidElement(a)?l=bg.cloneElement(a,this.getControlled(a.props)):(Vd(!a,"`children` of Field is not validate ReactElement."),l=a),bg.createElement(bg.Fragment,{key:n},l)}}]),t}(bg.Component);be(vK,"contextType",F_);be(vK,"defaultProps",{trigger:"onChange",valuePropName:"value"});function XGe(i){var e=i.name,t=gr(i,KGe),n=bg.useContext(F_),r=bg.useContext(lT),s=e!==void 0?ga(e):void 0,a="keep";return t.isListField||(a="_".concat((s||[]).join("_"))),bg.createElement(vK,Si({key:a,name:s,isListField:!!r},t,{fieldContext:n}))}var yK=XGe,Xf=oe(ge());function qGe(i){var e=i.name,t=i.initialValue,n=i.children,r=i.rules,s=i.validateTrigger,a=i.isListField,o=Xf.useContext(F_),l=Xf.useContext(lT),u=Xf.useRef({keys:[],id:0}),c=u.current,d=Xf.useMemo(function(){var g=ga(o.prefixName)||[];return[].concat(Bt(g),Bt(ga(e)))},[o.prefixName,e]),h=Xf.useMemo(function(){return Re(Re({},o),{},{prefixName:d})},[o,d]),p=Xf.useMemo(function(){return{getKey:function(g){var v=d.length,m=g[v];return[c.keys[m],g.slice(v+1)]}}},[d]);if(typeof n!="function")return Vd(!1,"Form.List only accepts function as children."),null;var f=function(g,v,m){var b=m.source;return b==="internal"?!1:g!==v};return Xf.createElement(lT.Provider,{value:p},Xf.createElement(F_.Provider,{value:h},Xf.createElement(yK,{name:[],shouldUpdate:f,rules:r,validateTrigger:s,initialValue:t,isList:!0,isListField:a??!!l},function(g,v){var m=g.value,b=m===void 0?[]:m,_=g.onChange,S=o.getFieldValue,C=function(){var A=S(d||[]);return A||[]},k={add:function(A,P){var O=C();P>=0&&P<=O.length?(c.keys=[].concat(Bt(c.keys.slice(0,P)),[c.id],Bt(c.keys.slice(P))),_([].concat(Bt(O.slice(0,P)),[A],Bt(O.slice(P))))):(c.keys=[].concat(Bt(c.keys),[c.id]),_([].concat(Bt(O),[A]))),c.id+=1},remove:function(A){var P=C(),O=new Set(Array.isArray(A)?A:[A]);O.size<=0||(c.keys=c.keys.filter(function(M,D){return!O.has(D)}),_(P.filter(function(M,D){return!O.has(D)})))},move:function(A,P){if(A!==P){var O=C();A<0||A>=O.length||P<0||P>=O.length||(c.keys=Yne(c.keys,A,P),_(Yne(O,A,P)))}}},E=b||[];return Array.isArray(E)||(E=[]),n(E.map(function(A,P){var O=c.keys[P];return O===void 0&&(c.keys[P]=c.id,O=c.keys[P],c.id+=1),{name:P,key:O,isListField:!0}}),k,v)})))}var t1e=qGe,Xne=oe(ge());function ZGe(i){var e=!1,t=i.length,n=[];return i.length?new Promise(function(r,s){i.forEach(function(a,o){a.catch(function(l){return e=!0,l}).then(function(l){t-=1,n[o]=l,!(t>0)&&(e&&s(n),r(n))})})}):Promise.resolve([])}var i1e="__@field_split__";function Oj(i){return i.map(function(e){return"".concat(hn(e),":").concat(e)}).join(i1e)}var QGe=function(){function i(){Rl(this,i),be(this,"kvs",new Map)}return Dl(i,[{key:"set",value:function(e,t){this.kvs.set(Oj(e),t)}},{key:"get",value:function(e){return this.kvs.get(Oj(e))}},{key:"update",value:function(e,t){var n=this.get(e),r=t(n);r?this.set(e,r):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Oj(e))}},{key:"map",value:function(e){return Bt(this.kvs.entries()).map(function(t){var n=ze(t,2),r=n[0],s=n[1],a=r.split(i1e);return e({key:a.map(function(o){var l=o.match(/^([^:]*):(.*)$/),u=ze(l,3),c=u[1],d=u[2];return c==="number"?Number(d):d}),value:s})})}},{key:"toJSON",value:function(){var e={};return this.map(function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null}),e}}]),i}(),l1=QGe,JGe=["name"],eYe=Dl(function i(e){var t=this;Rl(this,i),be(this,"formHooked",!1),be(this,"forceRootUpdate",void 0),be(this,"subscribable",!0),be(this,"store",{}),be(this,"fieldEntities",[]),be(this,"initialValues",{}),be(this,"callbacks",{}),be(this,"validateMessages",null),be(this,"preserve",null),be(this,"lastValidatePromise",null),be(this,"getForm",function(){return{getFieldValue:t.getFieldValue,getFieldsValue:t.getFieldsValue,getFieldError:t.getFieldError,getFieldWarning:t.getFieldWarning,getFieldsError:t.getFieldsError,isFieldsTouched:t.isFieldsTouched,isFieldTouched:t.isFieldTouched,isFieldValidating:t.isFieldValidating,isFieldsValidating:t.isFieldsValidating,resetFields:t.resetFields,setFields:t.setFields,setFieldValue:t.setFieldValue,setFieldsValue:t.setFieldsValue,validateFields:t.validateFields,submit:t.submit,_init:!0,getInternalHooks:t.getInternalHooks}}),be(this,"getInternalHooks",function(n){return n===Hy?(t.formHooked=!0,{dispatch:t.dispatch,initEntityValue:t.initEntityValue,registerField:t.registerField,useSubscribe:t.useSubscribe,setInitialValues:t.setInitialValues,destroyForm:t.destroyForm,setCallbacks:t.setCallbacks,setValidateMessages:t.setValidateMessages,getFields:t.getFields,setPreserve:t.setPreserve,getInitialValue:t.getInitialValue,registerWatch:t.registerWatch}):(Vd(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),be(this,"useSubscribe",function(n){t.subscribable=n}),be(this,"prevWithoutPreserves",null),be(this,"setInitialValues",function(n,r){if(t.initialValues=n||{},r){var s,a=_S(n,t.store);(s=t.prevWithoutPreserves)===null||s===void 0||s.map(function(o){var l=o.key;a=Fh(a,l,of(n,l))}),t.prevWithoutPreserves=null,t.updateStore(a)}}),be(this,"destroyForm",function(){var n=new l1;t.getFieldEntities(!0).forEach(function(r){t.isMergedPreserve(r.isPreserve())||n.set(r.getNamePath(),!0)}),t.prevWithoutPreserves=n}),be(this,"getInitialValue",function(n){var r=of(t.initialValues,n);return n.length?_S(r):r}),be(this,"setCallbacks",function(n){t.callbacks=n}),be(this,"setValidateMessages",function(n){t.validateMessages=n}),be(this,"setPreserve",function(n){t.preserve=n}),be(this,"watchList",[]),be(this,"registerWatch",function(n){return t.watchList.push(n),function(){t.watchList=t.watchList.filter(function(r){return r!==n})}}),be(this,"notifyWatch",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(t.watchList.length){var r=t.getFieldsValue(),s=t.getFieldsValue(!0);t.watchList.forEach(function(a){a(r,s,n)})}}),be(this,"timeoutId",null),be(this,"warningUnhooked",function(){}),be(this,"updateStore",function(n){t.store=n}),be(this,"getFieldEntities",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return n?t.fieldEntities.filter(function(r){return r.getNamePath().length}):t.fieldEntities}),be(this,"getFieldsMap",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=new l1;return t.getFieldEntities(n).forEach(function(s){var a=s.getNamePath();r.set(a,s)}),r}),be(this,"getFieldEntitiesForNamePathList",function(n){if(!n)return t.getFieldEntities(!0);var r=t.getFieldsMap(!0);return n.map(function(s){var a=ga(s);return r.get(a)||{INVALIDATE_NAME_PATH:ga(s)}})}),be(this,"getFieldsValue",function(n,r){t.warningUnhooked();var s,a,o;if(n===!0||Array.isArray(n)?(s=n,a=r):n&&hn(n)==="object"&&(o=n.strict,a=n.filter),s===!0&&!a)return t.store;var l=t.getFieldEntitiesForNamePathList(Array.isArray(s)?s:null),u=[];return l.forEach(function(c){var d,h,p="INVALIDATE_NAME_PATH"in c?c.INVALIDATE_NAME_PATH:c.getNamePath();if(o){var f,g;if((f=(g=c).isList)!==null&&f!==void 0&&f.call(g))return}else if(!s&&(d=(h=c).isListField)!==null&&d!==void 0&&d.call(h))return;if(!a)u.push(p);else{var v="getMeta"in c?c.getMeta():null;a(v)&&u.push(p)}}),Gne(t.store,u.map(ga))}),be(this,"getFieldValue",function(n){t.warningUnhooked();var r=ga(n);return of(t.store,r)}),be(this,"getFieldsError",function(n){t.warningUnhooked();var r=t.getFieldEntitiesForNamePathList(n);return r.map(function(s,a){return s&&!("INVALIDATE_NAME_PATH"in s)?{name:s.getNamePath(),errors:s.getErrors(),warnings:s.getWarnings()}:{name:ga(n[a]),errors:[],warnings:[]}})}),be(this,"getFieldError",function(n){t.warningUnhooked();var r=ga(n),s=t.getFieldsError([r])[0];return s.errors}),be(this,"getFieldWarning",function(n){t.warningUnhooked();var r=ga(n),s=t.getFieldsError([r])[0];return s.warnings}),be(this,"isFieldsTouched",function(){t.warningUnhooked();for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var a=r[0],o=r[1],l,u=!1;r.length===0?l=null:r.length===1?Array.isArray(a)?(l=a.map(ga),u=!1):(l=null,u=a):(l=a.map(ga),u=o);var c=t.getFieldEntities(!0),d=function(g){return g.isFieldTouched()};if(!l)return u?c.every(function(g){return d(g)||g.isList()}):c.some(d);var h=new l1;l.forEach(function(g){h.set(g,[])}),c.forEach(function(g){var v=g.getNamePath();l.forEach(function(m){m.every(function(b,_){return v[_]===b})&&h.update(m,function(b){return[].concat(Bt(b),[g])})})});var p=function(g){return g.some(d)},f=h.map(function(g){var v=g.value;return v});return u?f.every(p):f.some(p)}),be(this,"isFieldTouched",function(n){return t.warningUnhooked(),t.isFieldsTouched([n])}),be(this,"isFieldsValidating",function(n){t.warningUnhooked();var r=t.getFieldEntities();if(!n)return r.some(function(a){return a.isFieldValidating()});var s=n.map(ga);return r.some(function(a){var o=a.getNamePath();return ex(s,o)&&a.isFieldValidating()})}),be(this,"isFieldValidating",function(n){return t.warningUnhooked(),t.isFieldsValidating([n])}),be(this,"resetWithFieldInitialValue",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=new l1,s=t.getFieldEntities(!0);s.forEach(function(l){var u=l.props.initialValue,c=l.getNamePath();if(u!==void 0){var d=r.get(c)||new Set;d.add({entity:l,value:u}),r.set(c,d)}});var a=function(l){l.forEach(function(u){var c=u.props.initialValue;if(c!==void 0){var d=u.getNamePath(),h=t.getInitialValue(d);if(h!==void 0)Vd(!1,"Form already set 'initialValues' with path '".concat(d.join("."),"'. Field can not overwrite it."));else{var p=r.get(d);if(p&&p.size>1)Vd(!1,"Multiple Field with path '".concat(d.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(p){var f=t.getFieldValue(d),g=u.isListField();!g&&(!n.skipExist||f===void 0)&&t.updateStore(Fh(t.store,d,Bt(p)[0].value))}}}})},o;n.entities?o=n.entities:n.namePathList?(o=[],n.namePathList.forEach(function(l){var u=r.get(l);if(u){var c;(c=o).push.apply(c,Bt(Bt(u).map(function(d){return d.entity})))}})):o=s,a(o)}),be(this,"resetFields",function(n){t.warningUnhooked();var r=t.store;if(!n){t.updateStore(_S(t.initialValues)),t.resetWithFieldInitialValue(),t.notifyObservers(r,null,{type:"reset"}),t.notifyWatch();return}var s=n.map(ga);s.forEach(function(a){var o=t.getInitialValue(a);t.updateStore(Fh(t.store,a,o))}),t.resetWithFieldInitialValue({namePathList:s}),t.notifyObservers(r,s,{type:"reset"}),t.notifyWatch(s)}),be(this,"setFields",function(n){t.warningUnhooked();var r=t.store,s=[];n.forEach(function(a){var o=a.name,l=gr(a,JGe),u=ga(o);s.push(u),"value"in l&&t.updateStore(Fh(t.store,u,l.value)),t.notifyObservers(r,[u],{type:"setField",data:a})}),t.notifyWatch(s)}),be(this,"getFields",function(){var n=t.getFieldEntities(!0),r=n.map(function(s){var a=s.getNamePath(),o=s.getMeta(),l=Re(Re({},o),{},{name:a,value:t.getFieldValue(a)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return r}),be(this,"initEntityValue",function(n){var r=n.props.initialValue;if(r!==void 0){var s=n.getNamePath(),a=of(t.store,s);a===void 0&&t.updateStore(Fh(t.store,s,r))}}),be(this,"isMergedPreserve",function(n){var r=n!==void 0?n:t.preserve;return r??!0}),be(this,"registerField",function(n){t.fieldEntities.push(n);var r=n.getNamePath();if(t.notifyWatch([r]),n.props.initialValue!==void 0){var s=t.store;t.resetWithFieldInitialValue({entities:[n],skipExist:!0}),t.notifyObservers(s,[n.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(a,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.fieldEntities=t.fieldEntities.filter(function(d){return d!==n}),!t.isMergedPreserve(o)&&(!a||l.length>1)){var u=a?void 0:t.getInitialValue(r);if(r.length&&t.getFieldValue(r)!==u&&t.fieldEntities.every(function(d){return!e1e(d.getNamePath(),r)})){var c=t.store;t.updateStore(Fh(c,r,u,!0)),t.notifyObservers(c,[r],{type:"remove"}),t.triggerDependenciesUpdate(c,r)}}t.notifyWatch([r])}}),be(this,"dispatch",function(n){switch(n.type){case"updateValue":{var r=n.namePath,s=n.value;t.updateValue(r,s);break}case"validateField":{var a=n.namePath,o=n.triggerName;t.validateFields([a],{triggerName:o});break}}}),be(this,"notifyObservers",function(n,r,s){if(t.subscribable){var a=Re(Re({},s),{},{store:t.getFieldsValue(!0)});t.getFieldEntities().forEach(function(o){var l=o.onStoreChange;l(n,r,a)})}else t.forceRootUpdate()}),be(this,"triggerDependenciesUpdate",function(n,r){var s=t.getDependencyChildrenFields(r);return s.length&&t.validateFields(s),t.notifyObservers(n,s,{type:"dependenciesUpdate",relatedFields:[r].concat(Bt(s))}),s}),be(this,"updateValue",function(n,r){var s=ga(n),a=t.store;t.updateStore(Fh(t.store,s,r)),t.notifyObservers(a,[s],{type:"valueUpdate",source:"internal"}),t.notifyWatch([s]);var o=t.triggerDependenciesUpdate(a,s),l=t.callbacks.onValuesChange;if(l){var u=Gne(t.store,[s]);l(u,t.getFieldsValue())}t.triggerOnFieldsChange([s].concat(Bt(o)))}),be(this,"setFieldsValue",function(n){t.warningUnhooked();var r=t.store;if(n){var s=_S(t.store,n);t.updateStore(s)}t.notifyObservers(r,null,{type:"valueUpdate",source:"external"}),t.notifyWatch()}),be(this,"setFieldValue",function(n,r){t.setFields([{name:n,value:r}])}),be(this,"getDependencyChildrenFields",function(n){var r=new Set,s=[],a=new l1;t.getFieldEntities().forEach(function(l){var u=l.props.dependencies;(u||[]).forEach(function(c){var d=ga(c);a.update(d,function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return h.add(l),h})})});var o=function l(u){var c=a.get(u)||new Set;c.forEach(function(d){if(!r.has(d)){r.add(d);var h=d.getNamePath();d.isFieldDirty()&&h.length&&(s.push(h),l(h))}})};return o(n),s}),be(this,"triggerOnFieldsChange",function(n,r){var s=t.callbacks.onFieldsChange;if(s){var a=t.getFields();if(r){var o=new l1;r.forEach(function(u){var c=u.name,d=u.errors;o.set(c,d)}),a.forEach(function(u){u.errors=o.get(u.name)||u.errors})}var l=a.filter(function(u){var c=u.name;return ex(n,c)});l.length&&s(l,a)}}),be(this,"validateFields",function(n,r){t.warningUnhooked();var s,a;Array.isArray(n)||typeof n=="string"||typeof r=="string"?(s=n,a=r):a=n;var o=!!s,l=o?s.map(ga):[],u=[],c=String(Date.now()),d=new Set,h=a||{},p=h.recursive,f=h.dirty;t.getFieldEntities(!0).forEach(function(b){if(o||l.push(b.getNamePath()),!(!b.props.rules||!b.props.rules.length)&&!(f&&!b.isFieldDirty())){var _=b.getNamePath();if(d.add(_.join(c)),!o||ex(l,_,p)){var S=b.validateRules(Re({validateMessages:Re(Re({},Jbe),t.validateMessages)},a));u.push(S.then(function(){return{name:_,errors:[],warnings:[]}}).catch(function(C){var k,E=[],A=[];return(k=C.forEach)===null||k===void 0||k.call(C,function(P){var O=P.rule.warningOnly,M=P.errors;O?A.push.apply(A,Bt(M)):E.push.apply(E,Bt(M))}),E.length?Promise.reject({name:_,errors:E,warnings:A}):{name:_,errors:E,warnings:A}}))}}});var g=ZGe(u);t.lastValidatePromise=g,g.catch(function(b){return b}).then(function(b){var _=b.map(function(S){var C=S.name;return C});t.notifyObservers(t.store,_,{type:"validateFinish"}),t.triggerOnFieldsChange(_,b)});var v=g.then(function(){return t.lastValidatePromise===g?Promise.resolve(t.getFieldsValue(l)):Promise.reject([])}).catch(function(b){var _=b.filter(function(S){return S&&S.errors.length});return Promise.reject({values:t.getFieldsValue(l),errorFields:_,outOfDate:t.lastValidatePromise!==g})});v.catch(function(b){return b});var m=l.filter(function(b){return d.has(b.join(c))});return t.triggerOnFieldsChange(m),v}),be(this,"submit",function(){t.warningUnhooked(),t.validateFields().then(function(n){var r=t.callbacks.onFinish;if(r)try{r(n)}catch(s){console.error(s)}}).catch(function(n){var r=t.callbacks.onFinishFailed;r&&r(n)})}),this.forceRootUpdate=e});function tYe(i){var e=Xne.useRef(),t=Xne.useState({}),n=ze(t,2),r=n[1];if(!e.current)if(i)e.current=i;else{var s=function(){r({})},a=new eYe(s);e.current=a.getForm()}return[e.current]}var _K=tYe,bh=oe(ge()),M3=oe(ge()),cV=M3.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),n1e=function(i){var e=i.validateMessages,t=i.onFormChange,n=i.onFormFinish,r=i.children,s=M3.useContext(cV),a=M3.useRef({});return M3.createElement(cV.Provider,{value:Re(Re({},s),{},{validateMessages:Re(Re({},s.validateMessages),e),triggerFormChange:function(o,l){t&&t(o,{changedFields:l,forms:a.current}),s.triggerFormChange(o,l)},triggerFormFinish:function(o,l){n&&n(o,{values:l,forms:a.current}),s.triggerFormFinish(o,l)},registerForm:function(o,l){o&&(a.current=Re(Re({},a.current),{},be({},o,l))),s.registerForm(o,l)},unregisterForm:function(o){var l=Re({},a.current);delete l[o],a.current=l,s.unregisterForm(o)}})},r)},iYe=cV,nYe=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],rYe=function(i,e){var t=i.name,n=i.initialValues,r=i.fields,s=i.form,a=i.preserve,o=i.children,l=i.component,u=l===void 0?"form":l,c=i.validateMessages,d=i.validateTrigger,h=d===void 0?"onChange":d,p=i.onValuesChange,f=i.onFieldsChange,g=i.onFinish,v=i.onFinishFailed,m=gr(i,nYe),b=bh.useContext(iYe),_=_K(s),S=ze(_,1),C=S[0],k=C.getInternalHooks(Hy),E=k.useSubscribe,A=k.setInitialValues,P=k.setCallbacks,O=k.setValidateMessages,M=k.setPreserve,D=k.destroyForm;bh.useImperativeHandle(e,function(){return C}),bh.useEffect(function(){return b.registerForm(t,C),function(){b.unregisterForm(t)}},[b,C,t]),O(Re(Re({},b.validateMessages),c)),P({onValuesChange:p,onFieldsChange:function(G){if(b.triggerFormChange(t,G),f){for(var j=arguments.length,K=new Array(j>1?j-1:0),ie=1;ie<j;ie++)K[ie-1]=arguments[ie];f.apply(void 0,[G].concat(K))}},onFinish:function(G){b.triggerFormFinish(t,G),g&&g(G)},onFinishFailed:v}),M(a);var L=bh.useRef(null);A(n,!L.current),L.current||(L.current=!0),bh.useEffect(function(){return D},[]);var H,B=typeof o=="function";if(B){var F=C.getFieldsValue(!0);H=o(F,C)}else H=o;E(!B);var z=bh.useRef();bh.useEffect(function(){GGe(z.current||[],r||[])||C.setFields(r||[]),z.current=r},[r,C]);var N=bh.useMemo(function(){return Re(Re({},C),{},{validateTrigger:h})},[C,h]),U=bh.createElement(lT.Provider,{value:null},bh.createElement(F_.Provider,{value:N},H));return u===!1?U:bh.createElement(u,Si({},m,{onSubmit:function(G){G.preventDefault(),G.stopPropagation(),C.submit()},onReset:function(G){var j;G.preventDefault(),C.resetFields(),(j=m.onReset)===null||j===void 0||j.call(m,G)}}),U)},sYe=rYe,u1=oe(ge());function qne(i){try{return JSON.stringify(i)}catch{return Math.random()}}function aYe(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];var n=e[0],r=e[1],s=r===void 0?{}:r,a=uGe(s)?{form:s}:s,o=a.form,l=(0,u1.useState)(),u=ze(l,2),c=u[0],d=u[1],h=(0,u1.useMemo)(function(){return qne(c)},[c]),p=(0,u1.useRef)(h);p.current=h;var f=(0,u1.useContext)(F_),g=o||f,v=g&&g._init,m=ga(n),b=(0,u1.useRef)(m);return b.current=m,(0,u1.useEffect)(function(){if(v){var _=g.getFieldsValue,S=g.getInternalHooks,C=S(Hy),k=C.registerWatch,E=function(O,M){var D=a.preserve?M:O;return typeof n=="function"?n(D):of(D,b.current)},A=k(function(O,M){var D=E(O,M),L=qne(D);p.current!==L&&(p.current=L,d(D))}),P=E(_(),_(!0));return c!==P&&d(P),A}},[v]),c}var r1e=aYe,oYe=rGe.forwardRef(sYe),Lw=oYe;Lw.FormProvider=n1e;Lw.Field=yK;Lw.List=t1e;Lw.useForm=_K;Lw.useWatch=r1e;var lYe=Lw,Kg=Dw.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),s1e=Dw.createContext(null),a1e=i=>{let e=um(i,["prefixCls"]);return Dw.createElement(n1e,Object.assign({},e))},bK=Dw.createContext({prefixCls:""}),Ku=Dw.createContext({}),tD=i=>{let{children:e,status:t,override:n}=i,r=(0,JH.useContext)(Ku),s=(0,JH.useMemo)(()=>{let a=Object.assign({},r);return n&&delete a.isFormItemInput,t&&(delete a.status,delete a.hasFeedback,delete a.feedbackIcon),a},[t,n,r]);return Dw.createElement(Ku.Provider,{value:s},e)},o1e=(0,JH.createContext)(void 0),uYe=i=>({animationDuration:i,animationFillMode:"both"}),cYe=i=>({animationDuration:i,animationFillMode:"both"}),SK=function(i,e,t,n){let r=arguments.length>4&&arguments[4]!==void 0&&arguments[4]?"&":"";return{[`
      ${r}${i}-enter,
      ${r}${i}-appear
    `]:Object.assign(Object.assign({},uYe(n)),{animationPlayState:"paused"}),[`${r}${i}-leave`]:Object.assign(Object.assign({},cYe(n)),{animationPlayState:"paused"}),[`
      ${r}${i}-enter${i}-enter-active,
      ${r}${i}-appear${i}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${r}${i}-leave${i}-leave-active`]:{animationName:t,animationPlayState:"running",pointerEvents:"none"}}},dYe=new ur("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),hYe=new ur("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),pYe=new ur("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),fYe=new ur("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),gYe=new ur("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),mYe=new ur("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),vYe=new ur("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),yYe=new ur("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),_Ye={"move-up":{inKeyframes:vYe,outKeyframes:yYe},"move-down":{inKeyframes:dYe,outKeyframes:hYe},"move-left":{inKeyframes:pYe,outKeyframes:fYe},"move-right":{inKeyframes:gYe,outKeyframes:mYe}},Zne=(i,e)=>{let{antCls:t}=i,n=`${t}-${e}`,{inKeyframes:r,outKeyframes:s}=_Ye[e];return[SK(n,r,s,i.motionDurationMid),{[`
        ${n}-enter,
        ${n}-appear
      `]:{opacity:0,animationTimingFunction:i.motionEaseOutCirc},[`${n}-leave`]:{animationTimingFunction:i.motionEaseInOutCirc}}]},l1e=new ur("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),u1e=new ur("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),c1e=new ur("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),d1e=new ur("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),bYe=new ur("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),SYe=new ur("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),xYe=new ur("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),wYe=new ur("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),CYe={"slide-up":{inKeyframes:l1e,outKeyframes:u1e},"slide-down":{inKeyframes:c1e,outKeyframes:d1e},"slide-left":{inKeyframes:bYe,outKeyframes:SYe},"slide-right":{inKeyframes:xYe,outKeyframes:wYe}},Qne=(i,e)=>{let{antCls:t}=i,n=`${t}-${e}`,{inKeyframes:r,outKeyframes:s}=CYe[e];return[SK(n,r,s,i.motionDurationMid),{[`
      ${n}-enter,
      ${n}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:i.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${n}-leave`]:{animationTimingFunction:i.motionEaseInQuint}}]},xK=new ur("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),kYe=new ur("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),Jne=new ur("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),ere=new ur("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),EYe=new ur("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),AYe=new ur("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),TYe=new ur("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),PYe=new ur("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),OYe=new ur("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),MYe=new ur("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),IYe=new ur("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),RYe=new ur("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),DYe={zoom:{inKeyframes:xK,outKeyframes:kYe},"zoom-big":{inKeyframes:Jne,outKeyframes:ere},"zoom-big-fast":{inKeyframes:Jne,outKeyframes:ere},"zoom-left":{inKeyframes:TYe,outKeyframes:PYe},"zoom-right":{inKeyframes:OYe,outKeyframes:MYe},"zoom-up":{inKeyframes:EYe,outKeyframes:AYe},"zoom-down":{inKeyframes:IYe,outKeyframes:RYe}},LYe=(i,e)=>{let{antCls:t}=i,n=`${t}-${e}`,{inKeyframes:r,outKeyframes:s}=DYe[e];return[SK(n,r,s,i.motionDurationFast),{[`
        ${n}-enter,
        ${n}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:i.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${n}-leave`]:{animationTimingFunction:i.motionEaseInOutCirc}}]},FYe=i=>({[i.componentCls]:{[`${i.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${i.motionDurationMid} ${i.motionEaseInOut},
        opacity ${i.motionDurationMid} ${i.motionEaseInOut} !important`}},[`${i.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${i.motionDurationMid} ${i.motionEaseInOut},
        opacity ${i.motionDurationMid} ${i.motionEaseInOut} !important`}}}),BYe=FYe,$Ye=oe(ge()),NYe=$Ye.default.createContext({}),pg=oe(ge());function jYe(i){return e=>pg.createElement(lB,{theme:{token:{motion:!1,zIndexPopupBase:0}}},pg.createElement(i,Object.assign({},e)))}var zYe=(i,e,t,n)=>jYe(r=>{let{prefixCls:s,style:a}=r,o=pg.useRef(null),[l,u]=pg.useState(0),[c,d]=pg.useState(0),[h,p]=xf(!1,{value:r.open}),{getPrefixCls:f}=pg.useContext(En),g=f(e||"select",s);pg.useEffect(()=>{if(p(!0),typeof ResizeObserver<"u"){let m=new ResizeObserver(_=>{let S=_[0].target;u(S.offsetHeight+8),d(S.offsetWidth)}),b=setInterval(()=>{var _;let S=t?`.${t(g)}`:`.${g}-dropdown`,C=(_=o.current)===null||_===void 0?void 0:_.querySelector(S);C&&(clearInterval(b),m.observe(C))},10);return()=>{clearInterval(b),m.disconnect()}}},[]);let v=Object.assign(Object.assign({},r),{style:Object.assign(Object.assign({},a),{margin:0}),open:h,visible:h,getPopupContainer:()=>o.current});return n&&(v=n(v)),pg.createElement("div",{ref:o,style:{paddingBottom:l,position:"relative",minWidth:c}},pg.createElement(i,Object.assign({},v)))}),HYe=zYe,Zm=oe(ge()),tre=oe(si()),ho=oe(ge()),ire=oe(si()),wK=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var i=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(i==null?void 0:i.substr(0,4))},kr=oe(ge()),nre=oe(ge()),VYe=oe(si()),WYe=function(i){var e=i.className,t=i.customizeIcon,n=i.customizeIconProps,r=i.children,s=i.onMouseDown,a=i.onClick,o=typeof t=="function"?t(n):t;return nre.createElement("span",{className:e,onMouseDown:function(l){l.preventDefault(),s==null||s(l)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},o!==void 0?o:nre.createElement("span",{className:(0,VYe.default)(e.split(/\s+/).map(function(l){return"".concat(l,"-icon")}))},r))},vB=WYe,Mj=oe(ge()),UYe=function(i,e,t,n,r){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,a=arguments.length>6?arguments[6]:void 0,o=arguments.length>7?arguments[7]:void 0,l=Mj.default.useMemo(function(){if(hn(n)==="object")return n.clearIcon;if(r)return r},[n,r]),u=Mj.default.useMemo(function(){return!!(!s&&n&&(t.length||a)&&!(o==="combobox"&&a===""))},[n,s,t.length,a,o]);return{allowClear:u,clearIcon:Mj.default.createElement(vB,{className:"".concat(i,"-clear"),onMouseDown:e,customizeIcon:l},"")}},h1e=oe(ge()),p1e=h1e.createContext(null);function GYe(){return h1e.useContext(p1e)}var Ij=oe(ge());function YYe(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=Ij.useState(!1),t=ze(e,2),n=t[0],r=t[1],s=Ij.useRef(null),a=function(){window.clearTimeout(s.current)};Ij.useEffect(function(){return a},[]);var o=function(l,u){a(),s.current=window.setTimeout(function(){r(l),u&&u()},i)};return[n,o,a]}var Rj=oe(ge());function f1e(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=Rj.useRef(null),t=Rj.useRef(null);Rj.useEffect(function(){return function(){window.clearTimeout(t.current)}},[]);function n(r){(r||e.current===null)&&(e.current=r),window.clearTimeout(t.current),t.current=window.setTimeout(function(){e.current=null},i)}return[function(){return e.current},n]}var rre=oe(ge());function KYe(i,e,t,n){var r=rre.useRef(null);r.current={open:e,triggerOpen:t,customizedTrigger:n},rre.useEffect(function(){function s(a){var o;if(!((o=r.current)!==null&&o!==void 0&&o.customizedTrigger)){var l=a.target;l.shadowRoot&&a.composed&&(l=a.composedPath()[0]||l),r.current.open&&i().filter(function(u){return u}).every(function(u){return!u.contains(l)&&u!==l})&&r.current.triggerOpen(!1)}}return window.addEventListener("mousedown",s),function(){return window.removeEventListener("mousedown",s)}},[])}var Gk=oe(ge()),Dj=oe(ge());function XYe(i){return![un.ESC,un.SHIFT,un.BACKSPACE,un.TAB,un.WIN_KEY,un.ALT,un.META,un.WIN_KEY_RIGHT,un.CTRL,un.SEMICOLON,un.EQUALS,un.CAPS_LOCK,un.CONTEXT_MENU,un.F1,un.F2,un.F3,un.F4,un.F5,un.F6,un.F7,un.F8,un.F9,un.F10,un.F11,un.F12].includes(i)}var cd=oe(ge()),sre=oe(ge()),qYe=oe(si()),lg=oe(ge()),ay=oe(ge()),ZYe=oe(si()),I3=oe(ge()),QYe=oe(si()),JYe=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],c1=void 0;function eKe(i,e){var t=i.prefixCls,n=i.invalidate,r=i.item,s=i.renderItem,a=i.responsive,o=i.responsiveDisabled,l=i.registerSize,u=i.itemKey,c=i.className,d=i.style,h=i.children,p=i.display,f=i.order,g=i.component,v=g===void 0?"div":g,m=gr(i,JYe),b=a&&!p;function _(A){l(u,A)}I3.useEffect(function(){return function(){_(null)}},[]);var S=s&&r!==c1?s(r):h,C;n||(C={opacity:b?0:1,height:b?0:c1,overflowY:b?"hidden":c1,order:a?f:c1,pointerEvents:b?"none":c1,position:b?"absolute":c1});var k={};b&&(k["aria-hidden"]=!0);var E=I3.createElement(v,Si({className:(0,QYe.default)(!n&&t,c),style:Re(Re({},C),d)},k,m,{ref:e}),S);return a&&(E=I3.createElement(pb,{onResize:function(A){var P=A.offsetWidth;_(P)},disabled:o},E)),E}var g1e=I3.forwardRef(eKe);g1e.displayName="Item";var R3=g1e,m1e=oe(ge()),tKe=oe(hb());function iKe(i){if(typeof MessageChannel>"u")fs(i);else{var e=new MessageChannel;e.port1.onmessage=function(){return i()},e.port2.postMessage(void 0)}}function nKe(){var i=m1e.useRef(null),e=function(t){i.current||(i.current=[],iKe(function(){(0,tKe.unstable_batchedUpdates)(function(){i.current.forEach(function(n){n()}),i.current=null})})),i.current.push(t)};return e}function ok(i,e){var t=m1e.useState(e),n=ze(t,2),r=n[0],s=n[1],a=Oc(function(o){i(function(){s(o)})});return[r,a]}var Yk=oe(ge()),rKe=oe(si()),sKe=oe(ge()),iD=sKe.default.createContext(null),aKe=["component"],oKe=["className"],lKe=["className"],uKe=function(i,e){var t=Yk.useContext(iD);if(!t){var n=i.component,r=n===void 0?"div":n,s=gr(i,aKe);return Yk.createElement(r,Si({},s,{ref:e}))}var a=t.className,o=gr(t,oKe),l=i.className,u=gr(i,lKe);return Yk.createElement(iD.Provider,{value:null},Yk.createElement(R3,Si({ref:e,className:(0,rKe.default)(a,l)},o,u)))},v1e=Yk.forwardRef(uKe);v1e.displayName="RawItem";var cKe=v1e,dKe=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],y1e="responsive",_1e="invalidate";function hKe(i){return"+ ".concat(i.length," ...")}function pKe(i,e){var t=i.prefixCls,n=t===void 0?"rc-overflow":t,r=i.data,s=r===void 0?[]:r,a=i.renderItem,o=i.renderRawItem,l=i.itemKey,u=i.itemWidth,c=u===void 0?10:u,d=i.ssr,h=i.style,p=i.className,f=i.maxCount,g=i.renderRest,v=i.renderRawRest,m=i.suffix,b=i.component,_=b===void 0?"div":b,S=i.itemComponent,C=i.onVisibleChange,k=gr(i,dKe),E=d==="full",A=nKe(),P=ok(A,null),O=ze(P,2),M=O[0],D=O[1],L=M||0,H=ok(A,new Map),B=ze(H,2),F=B[0],z=B[1],N=ok(A,0),U=ze(N,2),G=U[0],j=U[1],K=ok(A,0),ie=ze(K,2),ae=ie[0],re=ie[1],J=ok(A,0),ne=ze(J,2),te=ne[0],Q=ne[1],se=(0,ay.useState)(null),_e=ze(se,2),le=_e[0],ve=_e[1],pe=(0,ay.useState)(null),Fe=ze(pe,2),Ee=Fe[0],it=Fe[1],Qe=lg.useMemo(function(){return Ee===null&&E?Number.MAX_SAFE_INTEGER:Ee||0},[Ee,M]),Ae=(0,ay.useState)(!1),je=ze(Ae,2),We=je[0],ut=je[1],vt="".concat(n,"-item"),_t=Math.max(G,ae),zt=f===y1e,Ft=s.length&&zt,Ye=f===_1e,Je=Ft||typeof f=="number"&&s.length>f,rt=(0,ay.useMemo)(function(){var Ge=s;return Ft?M===null&&E?Ge=s:Ge=s.slice(0,Math.min(s.length,L/c)):typeof f=="number"&&(Ge=s.slice(0,f)),Ge},[s,c,M,f,Ft]),dt=(0,ay.useMemo)(function(){return Ft?s.slice(Qe+1):s.slice(rt.length)},[s,rt,Ft,Qe]),at=(0,ay.useCallback)(function(Ge,pt){var Xt;return typeof l=="function"?l(Ge):(Xt=l&&(Ge==null?void 0:Ge[l]))!==null&&Xt!==void 0?Xt:pt},[l]),Gt=(0,ay.useCallback)(a||function(Ge){return Ge},[a]);function ii(Ge,pt,Xt){Ee===Ge&&(pt===void 0||pt===le)||(it(Ge),Xt||(ut(Ge<s.length-1),C==null||C(Ge)),pt!==void 0&&ve(pt))}function ci(Ge,pt){D(pt.clientWidth)}function qt(Ge,pt){z(function(Xt){var Ci=new Map(Xt);return pt===null?Ci.delete(Ge):Ci.set(Ge,pt),Ci})}function Zt(Ge,pt){re(pt),j(ae)}function xi(Ge,pt){Q(pt)}function Ai(Ge){return F.get(at(rt[Ge],Ge))}cs(function(){if(L&&typeof _t=="number"&&rt){var Ge=te,pt=rt.length,Xt=pt-1;if(!pt){ii(0,null);return}for(var Ci=0;Ci<pt;Ci+=1){var ft=Ai(Ci);if(E&&(ft=ft||0),ft===void 0){ii(Ci-1,void 0,!0);break}if(Ge+=ft,Xt===0&&Ge<=L||Ci===Xt-1&&Ge+Ai(Xt)<=L){ii(Xt,null);break}else if(Ge+_t>L){ii(Ci-1,Ge-ft-te+ae);break}}m&&Ai(0)+te>L&&ve(null)}},[L,F,ae,te,at,rt]);var Ii=We&&!!dt.length,ei={};le!==null&&Ft&&(ei={position:"absolute",left:le,top:0});var di={prefixCls:vt,responsive:Ft,component:S,invalidate:Ye},vi=o?function(Ge,pt){var Xt=at(Ge,pt);return lg.createElement(iD.Provider,{key:Xt,value:Re(Re({},di),{},{order:pt,item:Ge,itemKey:Xt,registerSize:qt,display:pt<=Qe})},o(Ge,pt))}:function(Ge,pt){var Xt=at(Ge,pt);return lg.createElement(R3,Si({},di,{order:pt,key:Xt,item:Ge,renderItem:Gt,itemKey:Xt,registerSize:qt,display:pt<=Qe}))},ot,Ke={order:Ii?Qe:Number.MAX_SAFE_INTEGER,className:"".concat(vt,"-rest"),registerSize:Zt,display:Ii};if(v)v&&(ot=lg.createElement(iD.Provider,{value:Re(Re({},di),Ke)},v(dt)));else{var Ue=g||hKe;ot=lg.createElement(R3,Si({},di,Ke),typeof Ue=="function"?Ue(dt):Ue)}var ai=lg.createElement(_,Si({className:(0,ZYe.default)(!Ye&&n,p),style:h,ref:e},k),rt.map(vi),Je?ot:null,m&&lg.createElement(R3,Si({},di,{responsive:zt,responsiveDisabled:!Ft,order:Qe,className:"".concat(vt,"-suffix"),registerSize:xi,display:!0,style:ei}),m));return zt&&(ai=lg.createElement(pb,{onResize:ci,disabled:!Ft},ai)),ai}var U2=lg.forwardRef(pKe);U2.displayName="Overflow";U2.Item=cKe;U2.RESPONSIVE=y1e;U2.INVALIDATE=_1e;var fKe=U2,gKe=fKe,dV=oe(ge()),mKe=oe(si()),vKe=function(i,e){var t,n=i.prefixCls,r=i.id,s=i.inputElement,a=i.disabled,o=i.tabIndex,l=i.autoFocus,u=i.autoComplete,c=i.editable,d=i.activeDescendantId,h=i.value,p=i.maxLength,f=i.onKeyDown,g=i.onMouseDown,v=i.onChange,m=i.onPaste,b=i.onCompositionStart,_=i.onCompositionEnd,S=i.open,C=i.attrs,k=s||dV.createElement("input",null),E=k,A=E.ref,P=E.props,O=P.onKeyDown,M=P.onChange,D=P.onMouseDown,L=P.onCompositionStart,H=P.onCompositionEnd,B=P.style;return"maxLength"in k.props,k=dV.cloneElement(k,Re(Re(Re({type:"search"},P),{},{id:r,ref:ih(e,A),disabled:a,tabIndex:o,autoComplete:u||"off",autoFocus:l,className:(0,mKe.default)("".concat(n,"-selection-search-input"),(t=k)===null||t===void 0||(t=t.props)===null||t===void 0?void 0:t.className),role:"combobox","aria-expanded":S||!1,"aria-haspopup":"listbox","aria-owns":"".concat(r,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(r,"_list"),"aria-activedescendant":S?d:void 0},C),{},{value:c?h:"",maxLength:p,readOnly:!c,unselectable:c?null:"on",style:Re(Re({},B),{},{opacity:c?null:0}),onKeyDown:function(F){f(F),O&&O(F)},onMouseDown:function(F){g(F),D&&D(F)},onChange:function(F){v(F),M&&M(F)},onCompositionStart:function(F){b(F),L&&L(F)},onCompositionEnd:function(F){_(F),H&&H(F)},onPaste:m})),k},yKe=dV.forwardRef(vKe),b1e=yKe,are=oe(ge());function S1e(i){return Array.isArray(i)?i:i!==void 0?[i]:[]}var _Ke=typeof window<"u"&&window.document&&window.document.documentElement,bKe=_Ke;function SKe(i){return i!=null}function xKe(i){return!i&&i!==0}function ore(i){return["string","number"].includes(hn(i))}function x1e(i){var e=void 0;return i&&(ore(i.title)?e=i.title.toString():ore(i.label)&&(e=i.label.toString())),e}function wKe(i,e){bKe?are.useLayoutEffect(i,e):are.useEffect(i,e)}function CKe(i){var e;return(e=i.key)!==null&&e!==void 0?e:i.value}var lre=function(i){i.preventDefault(),i.stopPropagation()},kKe=function(i){var e=i.id,t=i.prefixCls,n=i.values,r=i.open,s=i.searchValue,a=i.autoClearSearchValue,o=i.inputRef,l=i.placeholder,u=i.disabled,c=i.mode,d=i.showSearch,h=i.autoFocus,p=i.autoComplete,f=i.activeDescendantId,g=i.tabIndex,v=i.removeIcon,m=i.maxTagCount,b=i.maxTagTextLength,_=i.maxTagPlaceholder,S=_===void 0?function(le){return"+ ".concat(le.length," ...")}:_,C=i.tagRender,k=i.onToggleOpen,E=i.onRemove,A=i.onInputChange,P=i.onInputPaste,O=i.onInputKeyDown,M=i.onInputMouseDown,D=i.onInputCompositionStart,L=i.onInputCompositionEnd,H=cd.useRef(null),B=(0,sre.useState)(0),F=ze(B,2),z=F[0],N=F[1],U=(0,sre.useState)(!1),G=ze(U,2),j=G[0],K=G[1],ie="".concat(t,"-selection"),ae=r||c==="multiple"&&a===!1||c==="tags"?s:"",re=c==="tags"||c==="multiple"&&a===!1||d&&(r||j);wKe(function(){N(H.current.scrollWidth)},[ae]);var J=function(le,ve,pe,Fe,Ee){return cd.createElement("span",{title:x1e(le),className:(0,qYe.default)("".concat(ie,"-item"),be({},"".concat(ie,"-item-disabled"),pe))},cd.createElement("span",{className:"".concat(ie,"-item-content")},ve),Fe&&cd.createElement(vB,{className:"".concat(ie,"-item-remove"),onMouseDown:lre,onClick:Ee,customizeIcon:v},""))},ne=function(le,ve,pe,Fe,Ee){var it=function(Qe){lre(Qe),k(!r)};return cd.createElement("span",{onMouseDown:it},C({label:ve,value:le,disabled:pe,closable:Fe,onClose:Ee}))},te=function(le){var ve=le.disabled,pe=le.label,Fe=le.value,Ee=!u&&!ve,it=pe;if(typeof b=="number"&&(typeof pe=="string"||typeof pe=="number")){var Qe=String(it);Qe.length>b&&(it="".concat(Qe.slice(0,b),"..."))}var Ae=function(je){je&&je.stopPropagation(),E(le)};return typeof C=="function"?ne(Fe,it,ve,Ee,Ae):J(le,it,ve,Ee,Ae)},Q=function(le){var ve=typeof S=="function"?S(le):S;return J({title:ve},ve,!1)},se=cd.createElement("div",{className:"".concat(ie,"-search"),style:{width:z},onFocus:function(){K(!0)},onBlur:function(){K(!1)}},cd.createElement(b1e,{ref:o,open:r,prefixCls:t,id:e,inputElement:null,disabled:u,autoFocus:h,autoComplete:p,editable:re,activeDescendantId:f,value:ae,onKeyDown:O,onMouseDown:M,onChange:A,onPaste:P,onCompositionStart:D,onCompositionEnd:L,tabIndex:g,attrs:sT(i,!0)}),cd.createElement("span",{ref:H,className:"".concat(ie,"-search-mirror"),"aria-hidden":!0},ae,"")),_e=cd.createElement(gKe,{prefixCls:"".concat(ie,"-overflow"),data:n,renderItem:te,renderRest:Q,suffix:se,itemKey:CKe,maxCount:m});return cd.createElement(cd.Fragment,null,_e,!n.length&&!ae&&cd.createElement("span",{className:"".concat(ie,"-placeholder")},l))},EKe=kKe,qf=oe(ge()),AKe=function(i){var e=i.inputElement,t=i.prefixCls,n=i.id,r=i.inputRef,s=i.disabled,a=i.autoFocus,o=i.autoComplete,l=i.activeDescendantId,u=i.mode,c=i.open,d=i.values,h=i.placeholder,p=i.tabIndex,f=i.showSearch,g=i.searchValue,v=i.activeValue,m=i.maxLength,b=i.onInputKeyDown,_=i.onInputMouseDown,S=i.onInputChange,C=i.onInputPaste,k=i.onInputCompositionStart,E=i.onInputCompositionEnd,A=i.title,P=qf.useState(!1),O=ze(P,2),M=O[0],D=O[1],L=u==="combobox",H=L||f,B=d[0],F=g||"";L&&v&&!M&&(F=v),qf.useEffect(function(){L&&D(!1)},[L,v]);var z=u!=="combobox"&&!c&&!f?!1:!!F,N=A===void 0?x1e(B):A,U=qf.useMemo(function(){return B?null:qf.createElement("span",{className:"".concat(t,"-selection-placeholder"),style:z?{visibility:"hidden"}:void 0},h)},[B,z,h,t]);return qf.createElement(qf.Fragment,null,qf.createElement("span",{className:"".concat(t,"-selection-search")},qf.createElement(b1e,{ref:r,prefixCls:t,id:n,open:c,inputElement:e,disabled:s,autoFocus:a,autoComplete:o,editable:H,activeDescendantId:l,value:F,onKeyDown:b,onMouseDown:_,onChange:function(G){D(!0),S(G)},onPaste:C,onCompositionStart:k,onCompositionEnd:E,tabIndex:p,attrs:sT(i,!0),maxLength:L?m:void 0})),!L&&B?qf.createElement("span",{className:"".concat(t,"-selection-item"),title:N,style:z?{visibility:"hidden"}:void 0},B.label):null,U)},TKe=AKe,PKe=function(i,e){var t=(0,Dj.useRef)(null),n=(0,Dj.useRef)(!1),r=i.prefixCls,s=i.open,a=i.mode,o=i.showSearch,l=i.tokenWithEnter,u=i.autoClearSearchValue,c=i.onSearch,d=i.onSearchSubmit,h=i.onToggleOpen,p=i.onInputKeyDown,f=i.domRef;Gk.useImperativeHandle(e,function(){return{focus:function(B){t.current.focus(B)},blur:function(){t.current.blur()}}});var g=f1e(0),v=ze(g,2),m=v[0],b=v[1],_=function(B){var F=B.which;(F===un.UP||F===un.DOWN)&&B.preventDefault(),p&&p(B),F===un.ENTER&&a==="tags"&&!n.current&&!s&&(d==null||d(B.target.value)),XYe(F)&&h(!0)},S=function(){b(!0)},C=(0,Dj.useRef)(null),k=function(B){c(B,!0,n.current)!==!1&&h(!0)},E=function(){n.current=!0},A=function(B){n.current=!1,a!=="combobox"&&k(B.target.value)},P=function(B){var F=B.target.value;if(l&&C.current&&/[\r\n]/.test(C.current)){var z=C.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");F=F.replace(z,C.current)}C.current=null,k(F)},O=function(B){var F=B.clipboardData,z=F==null?void 0:F.getData("text");C.current=z||""},M=function(B){var F=B.target;if(F!==t.current){var z=document.body.style.msTouchAction!==void 0;z?setTimeout(function(){t.current.focus()}):t.current.focus()}},D=function(B){var F=m();B.target!==t.current&&!F&&a!=="combobox"&&B.preventDefault(),(a!=="combobox"&&(!o||!F)||!s)&&(s&&u!==!1&&c("",!0,!1),h())},L={inputRef:t,onInputKeyDown:_,onInputMouseDown:S,onInputChange:P,onInputPaste:O,onInputCompositionStart:E,onInputCompositionEnd:A},H=a==="multiple"||a==="tags"?Gk.createElement(EKe,Si({},i,L)):Gk.createElement(TKe,Si({},i,L));return Gk.createElement("div",{ref:f,className:"".concat(r,"-selector"),onClick:M,onMouseDown:D},H)},OKe=Gk.forwardRef(PKe),MKe=OKe,Lj=oe(si()),Fr=oe(ge()),IKe=oe(si()),Zf=oe(ge()),RKe=oe(si()),ure=oe(ge());function DKe(i){var e=i.prefixCls,t=i.align,n=i.arrow,r=i.arrowPos,s=n||{},a=s.className,o=s.content,l=r.x,u=l===void 0?0:l,c=r.y,d=c===void 0?0:c,h=ure.useRef();if(!t||!t.points)return null;var p={position:"absolute"};if(t.autoArrow!==!1){var f=t.points[0],g=t.points[1],v=f[0],m=f[1],b=g[0],_=g[1];v===b||!["t","b"].includes(v)?p.top=d:v==="t"?p.top=0:p.bottom=0,m===_||!["l","r"].includes(m)?p.left=u:m==="l"?p.left=0:p.right=0}return ure.createElement("div",{ref:h,className:(0,RKe.default)("".concat(e,"-arrow"),a),style:p},o)}var LKe=oe(si()),cre=oe(ge());function FKe(i){var e=i.prefixCls,t=i.open,n=i.zIndex,r=i.mask,s=i.motion;return r?cre.createElement(z2,Si({},s,{motionAppear:!0,visible:t,removeOnLeave:!0}),function(a){var o=a.className;return cre.createElement("div",{style:{zIndex:n},className:(0,LKe.default)("".concat(e,"-mask"),o)})}):null}var BKe=oe(ge()),$Ke=BKe.memo(function(i){var e=i.children;return e},function(i,e){return e.cache}),NKe=$Ke,jKe=Zf.forwardRef(function(i,e){var t=i.popup,n=i.className,r=i.prefixCls,s=i.style,a=i.target,o=i.onVisibleChanged,l=i.open,u=i.keepDom,c=i.fresh,d=i.onClick,h=i.mask,p=i.arrow,f=i.arrowPos,g=i.align,v=i.motion,m=i.maskMotion,b=i.forceRender,_=i.getPopupContainer,S=i.autoDestroy,C=i.portal,k=i.zIndex,E=i.onMouseEnter,A=i.onMouseLeave,P=i.onPointerEnter,O=i.ready,M=i.offsetX,D=i.offsetY,L=i.offsetR,H=i.offsetB,B=i.onAlign,F=i.onPrepare,z=i.stretch,N=i.targetWidth,U=i.targetHeight,G=typeof t=="function"?t():t,j=l||u,K=(_==null?void 0:_.length)>0,ie=Zf.useState(!_||!K),ae=ze(ie,2),re=ae[0],J=ae[1];if(cs(function(){!re&&K&&a&&J(!0)},[re,K,a]),!re)return null;var ne="auto",te={left:"-1000vw",top:"-1000vh",right:ne,bottom:ne};if(O||!l){var Q,se=g.points,_e=g.dynamicInset||((Q=g._experimental)===null||Q===void 0?void 0:Q.dynamicInset),le=_e&&se[0][1]==="r",ve=_e&&se[0][0]==="b";le?(te.right=L,te.left=ne):(te.left=M,te.right=ne),ve?(te.bottom=H,te.top=ne):(te.top=D,te.bottom=ne)}var pe={};return z&&(z.includes("height")&&U?pe.height=U:z.includes("minHeight")&&U&&(pe.minHeight=U),z.includes("width")&&N?pe.width=N:z.includes("minWidth")&&N&&(pe.minWidth=N)),l||(pe.pointerEvents="none"),Zf.createElement(C,{open:b||j,getContainer:_&&function(){return _(a)},autoDestroy:S},Zf.createElement(FKe,{prefixCls:r,open:l,zIndex:k,mask:h,motion:m}),Zf.createElement(pb,{onResize:B,disabled:!l},function(Fe){return Zf.createElement(z2,Si({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:b,leavedClassName:"".concat(r,"-hidden")},v,{onAppearPrepare:F,onEnterPrepare:F,visible:l,onVisibleChanged:function(Ee){var it;v==null||(it=v.onVisibleChanged)===null||it===void 0||it.call(v,Ee),o(Ee)}}),function(Ee,it){var Qe=Ee.className,Ae=Ee.style,je=(0,IKe.default)(r,Qe,n);return Zf.createElement("div",{ref:ih(Fe,e,it),className:je,style:Re(Re(Re(Re({"--arrow-x":"".concat(f.x||0,"px"),"--arrow-y":"".concat(f.y||0,"px")},te),pe),Ae),{},{boxSizing:"border-box",zIndex:k},s),onMouseEnter:E,onMouseLeave:A,onPointerEnter:P,onClick:d},p&&Zf.createElement(DKe,{prefixCls:r,arrow:p,arrowPos:f,align:g}),Zf.createElement(NKe,{cache:!l&&!c},G))})}))}),zKe=jKe,Fj=oe(ge()),HKe=Fj.forwardRef(function(i,e){var t=i.children,n=i.getTriggerDOMNode,r=Ow(t),s=Fj.useCallback(function(o){KY(e,n?n(o):o)},[n]),a=Q6(s,t.ref);return r?Fj.cloneElement(t,{ref:a}):t}),VKe=HKe,WKe=oe(ge()),UKe=WKe.createContext(null),dre=UKe,GKe=oe(ge());function hre(i){return i?Array.isArray(i)?i:[i]:[]}function YKe(i,e,t,n){return GKe.useMemo(function(){var r=hre(t??e),s=hre(n??e),a=new Set(r),o=new Set(s);return i&&(a.has("hover")&&(a.delete("hover"),a.add("click")),o.has("hover")&&(o.delete("hover"),o.add("click"))),[a,o]},[i,e,t,n])}var LM=oe(ge());function KKe(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return t?i[0]===e[0]:i[0]===e[0]&&i[1]===e[1]}function XKe(i,e,t,n){for(var r=t.points,s=Object.keys(i),a=0;a<s.length;a+=1){var o,l=s[a];if(KKe((o=i[l])===null||o===void 0?void 0:o.points,r,n))return"".concat(e,"-placement-").concat(l)}return""}function pre(i,e,t,n){return e||(t?{motionName:"".concat(i,"-").concat(t)}:n?{motionName:n}:null)}function G2(i){return i.ownerDocument.defaultView}function hV(i){for(var e=[],t=i==null?void 0:i.parentElement,n=["hidden","scroll","clip","auto"];t;){var r=G2(t).getComputedStyle(t),s=r.overflowX,a=r.overflowY,o=r.overflow;[s,a,o].some(function(l){return n.includes(l)})&&e.push(t),t=t.parentElement}return e}function cT(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(i)?e:i}function lk(i){return cT(parseFloat(i),0)}function fre(i,e){var t=Re({},i);return(e||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var r=G2(n).getComputedStyle(n),s=r.overflow,a=r.overflowClipMargin,o=r.borderTopWidth,l=r.borderBottomWidth,u=r.borderLeftWidth,c=r.borderRightWidth,d=n.getBoundingClientRect(),h=n.offsetHeight,p=n.clientHeight,f=n.offsetWidth,g=n.clientWidth,v=lk(o),m=lk(l),b=lk(u),_=lk(c),S=cT(Math.round(d.width/f*1e3)/1e3),C=cT(Math.round(d.height/h*1e3)/1e3),k=(f-g-b-_)*S,E=(h-p-v-m)*C,A=v*C,P=m*C,O=b*S,M=_*S,D=0,L=0;if(s==="clip"){var H=lk(a);D=H*S,L=H*C}var B=d.x+O-D,F=d.y+A-L,z=B+d.width+2*D-O-M-k,N=F+d.height+2*L-A-P-E;t.left=Math.max(t.left,B),t.top=Math.max(t.top,F),t.right=Math.min(t.right,z),t.bottom=Math.min(t.bottom,N)}}),t}function gre(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t="".concat(e),n=t.match(/^(.*)\%$/);return n?i*(parseFloat(n[1])/100):parseFloat(t)}function mre(i,e){var t=e||[],n=ze(t,2),r=n[0],s=n[1];return[gre(i.width,r),gre(i.height,s)]}function vre(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[i[0],i[1]]}function d1(i,e){var t=e[0],n=e[1],r,s;return t==="t"?s=i.y:t==="b"?s=i.y+i.height:s=i.y+i.height/2,n==="l"?r=i.x:n==="r"?r=i.x+i.width:r=i.x+i.width/2,{x:r,y:s}}function $m(i,e){var t={t:"b",b:"t",l:"r",r:"l"};return i.map(function(n,r){return r===e?t[n]||"c":n}).join("")}function qKe(i,e,t,n,r,s,a){var o=LM.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:r[n]||{}}),l=ze(o,2),u=l[0],c=l[1],d=LM.useRef(0),h=LM.useMemo(function(){return e?hV(e):[]},[e]),p=LM.useRef({}),f=function(){p.current={}};i||f();var g=Oc(function(){if(e&&t&&i){let Wi=function(Ds,rc){var uh=arguments.length>2&&arguments[2]!==void 0?arguments[2]:je,oo=G.x+Ds,mp=G.y+rc,ch=oo+Q,dh=mp+te,Su=Math.max(oo,uh.left),Nl=Math.max(mp,uh.top),To=Math.min(ch,uh.right),td=Math.min(dh,uh.bottom);return Math.max(0,(To-Su)*(td-Nl))},Lf=function(){Bi=G.y+Ue,wn=Bi+te,Ki=G.x+Ke,Nn=Ki+Q};var b,_,S=e,C=S.ownerDocument,k=G2(S),E=k.getComputedStyle(S),A=E.width,P=E.height,O=E.position,M=S.style.left,D=S.style.top,L=S.style.right,H=S.style.bottom,B=S.style.overflow,F=Re(Re({},r[n]),s),z=C.createElement("div");(b=S.parentElement)===null||b===void 0||b.appendChild(z),z.style.left="".concat(S.offsetLeft,"px"),z.style.top="".concat(S.offsetTop,"px"),z.style.position=O,z.style.height="".concat(S.offsetHeight,"px"),z.style.width="".concat(S.offsetWidth,"px"),S.style.left="0",S.style.top="0",S.style.right="auto",S.style.bottom="auto",S.style.overflow="hidden";var N;if(Array.isArray(t))N={x:t[0],y:t[1],width:0,height:0};else{var U=t.getBoundingClientRect();N={x:U.x,y:U.y,width:U.width,height:U.height}}var G=S.getBoundingClientRect(),j=C.documentElement,K=j.clientWidth,ie=j.clientHeight,ae=j.scrollWidth,re=j.scrollHeight,J=j.scrollTop,ne=j.scrollLeft,te=G.height,Q=G.width,se=N.height,_e=N.width,le={left:0,top:0,right:K,bottom:ie},ve={left:-ne,top:-J,right:ae-ne,bottom:re-J},pe=F.htmlRegion,Fe="visible",Ee="visibleFirst";pe!=="scroll"&&pe!==Ee&&(pe=Fe);var it=pe===Ee,Qe=fre(ve,h),Ae=fre(le,h),je=pe===Fe?Ae:Qe,We=it?Ae:je;S.style.left="auto",S.style.top="auto",S.style.right="0",S.style.bottom="0";var ut=S.getBoundingClientRect();S.style.left=M,S.style.top=D,S.style.right=L,S.style.bottom=H,S.style.overflow=B,(_=S.parentElement)===null||_===void 0||_.removeChild(z);var vt=cT(Math.round(Q/parseFloat(A)*1e3)/1e3),_t=cT(Math.round(te/parseFloat(P)*1e3)/1e3);if(vt===0||_t===0||VR(t)&&!hK(t))return;var zt=F.offset,Ft=F.targetOffset,Ye=mre(G,zt),Je=ze(Ye,2),rt=Je[0],dt=Je[1],at=mre(N,Ft),Gt=ze(at,2),ii=Gt[0],ci=Gt[1];N.x-=ii,N.y-=ci;var qt=F.points||[],Zt=ze(qt,2),xi=Zt[0],Ai=Zt[1],Ii=vre(Ai),ei=vre(xi),di=d1(N,Ii),vi=d1(G,ei),ot=Re({},F),Ke=di.x-vi.x+rt,Ue=di.y-vi.y+dt,ai=Wi(Ke,Ue),Ge=Wi(Ke,Ue,Ae),pt=d1(N,["t","l"]),Xt=d1(G,["t","l"]),Ci=d1(N,["b","r"]),ft=d1(G,["b","r"]),lt=F.overflow||{},St=lt.adjustX,Nt=lt.adjustY,Dt=lt.shiftX,Ri=lt.shiftY,ki=function(Ds){return typeof Ds=="boolean"?Ds:Ds>=0},Bi,wn,Ki,Nn;Lf();var It=ki(Nt),ti=ei[0]===Ii[0];if(It&&ei[0]==="t"&&(wn>We.bottom||p.current.bt)){var Ei=Ue;ti?Ei-=te-se:Ei=pt.y-ft.y-dt;var Hr=Wi(Ke,Ei),Zs=Wi(Ke,Ei,Ae);Hr>ai||Hr===ai&&(!it||Zs>=Ge)?(p.current.bt=!0,Ue=Ei,dt=-dt,ot.points=[$m(ei,0),$m(Ii,0)]):p.current.bt=!1}if(It&&ei[0]==="b"&&(Bi<We.top||p.current.tb)){var Yr=Ue;ti?Yr+=te-se:Yr=Ci.y-Xt.y-dt;var Qs=Wi(Ke,Yr),Zc=Wi(Ke,Yr,Ae);Qs>ai||Qs===ai&&(!it||Zc>=Ge)?(p.current.tb=!0,Ue=Yr,dt=-dt,ot.points=[$m(ei,0),$m(Ii,0)]):p.current.tb=!1}var Qc=ki(St),vu=ei[1]===Ii[1];if(Qc&&ei[1]==="l"&&(Nn>We.right||p.current.rl)){var Xi=Ke;vu?Xi-=Q-_e:Xi=pt.x-ft.x-rt;var lh=Wi(Xi,Ue),Jc=Wi(Xi,Ue,Ae);lh>ai||lh===ai&&(!it||Jc>=Ge)?(p.current.rl=!0,Ke=Xi,rt=-rt,ot.points=[$m(ei,1),$m(Ii,1)]):p.current.rl=!1}if(Qc&&ei[1]==="r"&&(Ki<We.left||p.current.lr)){var yu=Ke;vu?yu+=Q-_e:yu=Ci.x-Xt.x-rt;var Bl=Wi(yu,Ue),_u=Wi(yu,Ue,Ae);Bl>ai||Bl===ai&&(!it||_u>=Ge)?(p.current.lr=!0,Ke=yu,rt=-rt,ot.points=[$m(ei,1),$m(Ii,1)]):p.current.lr=!1}Lf();var Ao=Dt===!0?0:Dt;typeof Ao=="number"&&(Ki<Ae.left&&(Ke-=Ki-Ae.left-rt,N.x+_e<Ae.left+Ao&&(Ke+=N.x-Ae.left+_e-Ao)),Nn>Ae.right&&(Ke-=Nn-Ae.right-rt,N.x>Ae.right-Ao&&(Ke+=N.x-Ae.right+Ao)));var $a=Ri===!0?0:Ri;typeof $a=="number"&&(Bi<Ae.top&&(Ue-=Bi-Ae.top-dt,N.y+se<Ae.top+$a&&(Ue+=N.y-Ae.top+se-$a)),wn>Ae.bottom&&(Ue-=wn-Ae.bottom-dt,N.y>Ae.bottom-$a&&(Ue+=N.y-Ae.bottom+$a)));var _s=G.x+Ke,ed=_s+Q,is=G.y+Ue,nc=is+te,$l=N.x,so=$l+_e,ni=N.y,gn=ni+se,cr=Math.max(_s,$l),er=Math.min(ed,so),bs=(cr+er)/2,Ss=bs-_s,Rs=Math.max(is,ni),ao=Math.min(nc,gn),Na=(Rs+ao)/2,ha=Na-is;a==null||a(e,ot);var bu=ut.right-G.x-(Ke+G.width),el=ut.bottom-G.y-(Ue+G.height);c({ready:!0,offsetX:Ke/vt,offsetY:Ue/_t,offsetR:bu/vt,offsetB:el/_t,arrowX:Ss/vt,arrowY:ha/_t,scaleX:vt,scaleY:_t,align:ot})}}),v=function(){d.current+=1;var b=d.current;Promise.resolve().then(function(){d.current===b&&g()})},m=function(){c(function(b){return Re(Re({},b),{},{ready:!1})})};return cs(m,[n]),cs(function(){i||m()},[i]),[u.ready,u.offsetX,u.offsetY,u.offsetR,u.offsetB,u.arrowX,u.arrowY,u.scaleX,u.scaleY,u.align,v]}function ZKe(i,e,t,n,r){cs(function(){if(i&&e&&t){let d=function(){n(),r()};var s=e,a=t,o=hV(s),l=hV(a),u=G2(a),c=new Set([u].concat(Bt(o),Bt(l)));return c.forEach(function(h){h.addEventListener("scroll",d,{passive:!0})}),u.addEventListener("resize",d,{passive:!0}),n(),function(){c.forEach(function(h){h.removeEventListener("scroll",d),u.removeEventListener("resize",d)})}}},[i,e,t])}var yre=oe(ge());function QKe(i,e,t,n,r,s,a,o){var l=yre.useRef(i);l.current=i,yre.useEffect(function(){if(e&&n&&(!r||s)){var u=function(h){var p=h.target;l.current&&!a(p)&&o(!1)},c=G2(n);c.addEventListener("mousedown",u,!0),c.addEventListener("contextmenu",u,!0);var d=XR(t);return d&&(d.addEventListener("mousedown",u,!0),d.addEventListener("contextmenu",u,!0)),function(){c.removeEventListener("mousedown",u,!0),c.removeEventListener("contextmenu",u,!0),d&&(d.removeEventListener("mousedown",u,!0),d.removeEventListener("contextmenu",u,!0))}}},[e,t,n,r,s])}var JKe=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function eXe(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zbe,e=Fr.forwardRef(function(t,n){var r=t.prefixCls,s=r===void 0?"rc-trigger-popup":r,a=t.children,o=t.action,l=o===void 0?"hover":o,u=t.showAction,c=t.hideAction,d=t.popupVisible,h=t.defaultPopupVisible,p=t.onPopupVisibleChange,f=t.afterPopupVisibleChange,g=t.mouseEnterDelay,v=t.mouseLeaveDelay,m=v===void 0?.1:v,b=t.focusDelay,_=t.blurDelay,S=t.mask,C=t.maskClosable,k=C===void 0?!0:C,E=t.getPopupContainer,A=t.forceRender,P=t.autoDestroy,O=t.destroyPopupOnHide,M=t.popup,D=t.popupClassName,L=t.popupStyle,H=t.popupPlacement,B=t.builtinPlacements,F=B===void 0?{}:B,z=t.popupAlign,N=t.zIndex,U=t.stretch,G=t.getPopupClassNameFromAlign,j=t.fresh,K=t.alignPoint,ie=t.onPopupClick,ae=t.onPopupAlign,re=t.arrow,J=t.popupMotion,ne=t.maskMotion,te=t.popupTransitionName,Q=t.popupAnimation,se=t.maskTransitionName,_e=t.maskAnimation,le=t.className,ve=t.getTriggerDOMNode,pe=gr(t,JKe),Fe=P||O||!1,Ee=Fr.useState(!1),it=ze(Ee,2),Qe=it[0],Ae=it[1];cs(function(){Ae(wK())},[]);var je=Fr.useRef({}),We=Fr.useContext(dre),ut=Fr.useMemo(function(){return{registerSubPopup:function(Lt,zi){je.current[Lt]=zi,We==null||We.registerSubPopup(Lt,zi)}}},[We]),vt=nGe(),_t=Fr.useState(null),zt=ze(_t,2),Ft=zt[0],Ye=zt[1],Je=Oc(function(Lt){VR(Lt)&&Ft!==Lt&&Ye(Lt),We==null||We.registerSubPopup(vt,Lt)}),rt=Fr.useState(null),dt=ze(rt,2),at=dt[0],Gt=dt[1],ii=Fr.useRef(null),ci=Oc(function(Lt){VR(Lt)&&at!==Lt&&(Gt(Lt),ii.current=Lt)}),qt=Fr.Children.only(a),Zt=(qt==null?void 0:qt.props)||{},xi={},Ai=Oc(function(Lt){var zi,Ls,Fs=at;return(Fs==null?void 0:Fs.contains(Lt))||((zi=XR(Fs))===null||zi===void 0?void 0:zi.host)===Lt||Lt===Fs||(Ft==null?void 0:Ft.contains(Lt))||((Ls=XR(Ft))===null||Ls===void 0?void 0:Ls.host)===Lt||Lt===Ft||Object.values(je.current).some(function(dr){return(dr==null?void 0:dr.contains(Lt))||Lt===dr})}),Ii=pre(s,J,Q,te),ei=pre(s,ne,_e,se),di=Fr.useState(h||!1),vi=ze(di,2),ot=vi[0],Ke=vi[1],Ue=d??ot,ai=Oc(function(Lt){d===void 0&&Ke(Lt)});cs(function(){Ke(d||!1)},[d]);var Ge=Fr.useRef(Ue);Ge.current=Ue;var pt=Fr.useRef([]);pt.current=[];var Xt=Oc(function(Lt){var zi;ai(Lt),((zi=pt.current[pt.current.length-1])!==null&&zi!==void 0?zi:Ue)!==Lt&&(pt.current.push(Lt),p==null||p(Lt))}),Ci=Fr.useRef(),ft=function(){clearTimeout(Ci.current)},lt=function(Lt){var zi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ft(),zi===0?Xt(Lt):Ci.current=setTimeout(function(){Xt(Lt)},zi*1e3)};Fr.useEffect(function(){return ft},[]);var St=Fr.useState(!1),Nt=ze(St,2),Dt=Nt[0],Ri=Nt[1];cs(function(Lt){(!Lt||Ue)&&Ri(!0)},[Ue]);var ki=Fr.useState(null),Bi=ze(ki,2),wn=Bi[0],Ki=Bi[1],Nn=Fr.useState([0,0]),It=ze(Nn,2),ti=It[0],Ei=It[1],Hr=function(Lt){Ei([Lt.clientX,Lt.clientY])},Zs=qKe(Ue,Ft,K?ti:at,H,F,z,ae),Yr=ze(Zs,11),Qs=Yr[0],Zc=Yr[1],Qc=Yr[2],vu=Yr[3],Xi=Yr[4],lh=Yr[5],Jc=Yr[6],yu=Yr[7],Bl=Yr[8],_u=Yr[9],Ao=Yr[10],$a=YKe(Qe,l,u,c),_s=ze($a,2),ed=_s[0],is=_s[1],nc=ed.has("click"),$l=is.has("click")||is.has("contextMenu"),so=Oc(function(){Dt||Ao()}),ni=function(){Ge.current&&K&&$l&&lt(!1)};ZKe(Ue,at,Ft,so,ni),cs(function(){so()},[ti,H]),cs(function(){Ue&&!(F!=null&&F[H])&&so()},[JSON.stringify(z)]);var gn=Fr.useMemo(function(){var Lt=XKe(F,s,_u,K);return(0,Lj.default)(Lt,G==null?void 0:G(_u))},[_u,G,F,s,K]);Fr.useImperativeHandle(n,function(){return{nativeElement:ii.current,forceAlign:so}});var cr=Fr.useState(0),er=ze(cr,2),bs=er[0],Ss=er[1],Rs=Fr.useState(0),ao=ze(Rs,2),Na=ao[0],ha=ao[1],bu=function(){if(U&&at){var Lt=at.getBoundingClientRect();Ss(Lt.width),ha(Lt.height)}},el=function(){bu(),so()},Wi=function(Lt){Ri(!1),Ao(),f==null||f(Lt)},Lf=function(){return new Promise(function(Lt){bu(),Ki(function(){return Lt})})};cs(function(){wn&&(Ao(),wn(),Ki(null))},[wn]);function Ds(Lt,zi,Ls,Fs){xi[Lt]=function(dr){var vp;Fs==null||Fs(dr),lt(zi,Ls);for(var Ff=arguments.length,yp=new Array(Ff>1?Ff-1:0),id=1;id<Ff;id++)yp[id-1]=arguments[id];(vp=Zt[Lt])===null||vp===void 0||vp.call.apply(vp,[Zt,dr].concat(yp))}}(nc||$l)&&(xi.onClick=function(Lt){var zi;Ge.current&&$l?lt(!1):!Ge.current&&nc&&(Hr(Lt),lt(!0));for(var Ls=arguments.length,Fs=new Array(Ls>1?Ls-1:0),dr=1;dr<Ls;dr++)Fs[dr-1]=arguments[dr];(zi=Zt.onClick)===null||zi===void 0||zi.call.apply(zi,[Zt,Lt].concat(Fs))}),QKe(Ue,$l,at,Ft,S,k,Ai,lt);var rc=ed.has("hover"),uh=is.has("hover"),oo,mp;rc&&(Ds("onMouseEnter",!0,g,function(Lt){Hr(Lt)}),Ds("onPointerEnter",!0,g,function(Lt){Hr(Lt)}),oo=function(Lt){(Ue||Dt)&&Ft!==null&&Ft!==void 0&&Ft.contains(Lt.target)&&lt(!0,g)},K&&(xi.onMouseMove=function(Lt){var zi;(zi=Zt.onMouseMove)===null||zi===void 0||zi.call(Zt,Lt)})),uh&&(Ds("onMouseLeave",!1,m),Ds("onPointerLeave",!1,m),mp=function(){lt(!1,m)}),ed.has("focus")&&Ds("onFocus",!0,b),is.has("focus")&&Ds("onBlur",!1,_),ed.has("contextMenu")&&(xi.onContextMenu=function(Lt){var zi;Ge.current&&is.has("contextMenu")?lt(!1):(Hr(Lt),lt(!0)),Lt.preventDefault();for(var Ls=arguments.length,Fs=new Array(Ls>1?Ls-1:0),dr=1;dr<Ls;dr++)Fs[dr-1]=arguments[dr];(zi=Zt.onContextMenu)===null||zi===void 0||zi.call.apply(zi,[Zt,Lt].concat(Fs))}),le&&(xi.className=(0,Lj.default)(Zt.className,le));var ch=Re(Re({},Zt),xi),dh={},Su=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Su.forEach(function(Lt){pe[Lt]&&(dh[Lt]=function(){for(var zi,Ls=arguments.length,Fs=new Array(Ls),dr=0;dr<Ls;dr++)Fs[dr]=arguments[dr];(zi=ch[Lt])===null||zi===void 0||zi.call.apply(zi,[ch].concat(Fs)),pe[Lt].apply(pe,Fs)})});var Nl=Fr.cloneElement(qt,Re(Re({},ch),dh)),To={x:lh,y:Jc},td=re?Re({},re!==!0?re:{}):null;return Fr.createElement(Fr.Fragment,null,Fr.createElement(pb,{disabled:!Ue,ref:ci,onResize:el},Fr.createElement(VKe,{getTriggerDOMNode:ve},Nl)),Fr.createElement(dre.Provider,{value:ut},Fr.createElement(zKe,{portal:i,ref:Je,prefixCls:s,popup:M,className:(0,Lj.default)(D,gn),style:L,target:at,onMouseEnter:oo,onMouseLeave:mp,onPointerEnter:oo,zIndex:N,open:Ue,keepDom:Dt,fresh:j,onClick:ie,mask:S,motion:Ii,maskMotion:ei,onVisibleChanged:Wi,onPrepare:Lf,forceRender:A,autoDestroy:Fe,getPopupContainer:E,align:_u,arrow:td,arrowPos:To,ready:Qs,offsetX:Zc,offsetY:Qc,offsetR:vu,offsetB:Xi,onAlign:so,stretch:U,targetWidth:bs/yu,targetHeight:Na/Bl})))});return e}var w1e=eXe(Zbe),tXe=oe(si()),Cy=oe(ge()),iXe=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],nXe=function(i){var e=i===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:e,adjustY:1},htmlRegion:"scroll"}}},rXe=function(i,e){var t=i.prefixCls;i.disabled;var n=i.visible,r=i.children,s=i.popupElement,a=i.animation,o=i.transitionName,l=i.dropdownStyle,u=i.dropdownClassName,c=i.direction,d=c===void 0?"ltr":c,h=i.placement,p=i.builtinPlacements,f=i.dropdownMatchSelectWidth,g=i.dropdownRender,v=i.dropdownAlign,m=i.getPopupContainer,b=i.empty,_=i.getTriggerDOMNode,S=i.onPopupVisibleChange,C=i.onPopupMouseEnter,k=gr(i,iXe),E="".concat(t,"-dropdown"),A=s;g&&(A=g(s));var P=Cy.useMemo(function(){return p||nXe(f)},[p,f]),O=a?"".concat(E,"-").concat(a):o,M=typeof f=="number",D=Cy.useMemo(function(){return M?null:f===!1?"minWidth":"width"},[f,M]),L=l;M&&(L=Re(Re({},L),{},{width:f}));var H=Cy.useRef(null);return Cy.useImperativeHandle(e,function(){return{getPopupElement:function(){return H.current}}}),Cy.createElement(w1e,Si({},k,{showAction:S?["click"]:[],hideAction:S?["click"]:[],popupPlacement:h||(d==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:P,prefixCls:E,popupTransitionName:O,popup:Cy.createElement("div",{ref:H,onMouseEnter:C},A),stretch:D,popupAlign:v,popupVisible:n,getPopupContainer:m,popupClassName:(0,tXe.default)(u,be({},"".concat(E,"-empty"),b)),popupStyle:L,getTriggerDOMNode:_,onPopupVisibleChange:S}),r)},sXe=Cy.forwardRef(rXe),aXe=sXe;function _re(i,e){var t=i.key,n;return"value"in i&&(n=i.value),t??(n!==void 0?n:"rc-index-key-".concat(e))}function pV(i){return typeof i<"u"&&!Number.isNaN(i)}function C1e(i,e){var t=i||{},n=t.label,r=t.value,s=t.options,a=t.groupLabel,o=n||(e?"children":"label");return{label:o,value:r||"value",options:s||"options",groupLabel:a||o}}function oXe(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.fieldNames,n=e.childrenAsData,r=[],s=C1e(t,!1),a=s.label,o=s.value,l=s.options,u=s.groupLabel;function c(d,h){Array.isArray(d)&&d.forEach(function(p){if(h||!(l in p)){var f=p[o];r.push({key:_re(p,r.length),groupOption:h,data:p,label:p[a],value:f})}else{var g=p[u];g===void 0&&n&&(g=p.label),r.push({key:_re(p,r.length),group:!0,data:p,label:g}),c(p[l],!0)}})}return c(i,!1),r}function fV(i){var e=Re({},i);return"props"in e||Object.defineProperty(e,"props",{get:function(){return Vd(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var lXe=function(i,e,t){if(!e||!e.length)return null;var n=!1,r=function a(o,l){var u=A_e(l),c=u[0],d=u.slice(1);if(!c)return[o];var h=o.split(c);return n=n||h.length>1,h.reduce(function(p,f){return[].concat(Bt(p),Bt(a(f,d)))},[]).filter(Boolean)},s=r(i,e);return n?typeof t<"u"?s.slice(0,t):s:null},uXe=oe(ge()),cXe=uXe.createContext(null),CK=cXe,dXe=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],hXe=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],gV=function(i){return i==="tags"||i==="multiple"},pXe=kr.forwardRef(function(i,e){var t,n=i.id,r=i.prefixCls,s=i.className,a=i.showSearch,o=i.tagRender,l=i.direction,u=i.omitDomProps,c=i.displayValues,d=i.onDisplayValuesChange,h=i.emptyOptions,p=i.notFoundContent,f=p===void 0?"Not Found":p,g=i.onClear,v=i.mode,m=i.disabled,b=i.loading,_=i.getInputElement,S=i.getRawInputElement,C=i.open,k=i.defaultOpen,E=i.onDropdownVisibleChange,A=i.activeValue,P=i.onActiveValueChange,O=i.activeDescendantId,M=i.searchValue,D=i.autoClearSearchValue,L=i.onSearch,H=i.onSearchSplit,B=i.tokenSeparators,F=i.allowClear,z=i.suffixIcon,N=i.clearIcon,U=i.OptionList,G=i.animation,j=i.transitionName,K=i.dropdownStyle,ie=i.dropdownClassName,ae=i.dropdownMatchSelectWidth,re=i.dropdownRender,J=i.dropdownAlign,ne=i.placement,te=i.builtinPlacements,Q=i.getPopupContainer,se=i.showAction,_e=se===void 0?[]:se,le=i.onFocus,ve=i.onBlur,pe=i.onKeyUp,Fe=i.onKeyDown,Ee=i.onMouseDown,it=gr(i,dXe),Qe=gV(v),Ae=(a!==void 0?a:Qe)||v==="combobox",je=Re({},it);hXe.forEach(function(ni){delete je[ni]}),u==null||u.forEach(function(ni){delete je[ni]});var We=kr.useState(!1),ut=ze(We,2),vt=ut[0],_t=ut[1];kr.useEffect(function(){_t(wK())},[]);var zt=kr.useRef(null),Ft=kr.useRef(null),Ye=kr.useRef(null),Je=kr.useRef(null),rt=kr.useRef(null),dt=kr.useRef(!1),at=YYe(),Gt=ze(at,3),ii=Gt[0],ci=Gt[1],qt=Gt[2];kr.useImperativeHandle(e,function(){var ni,gn;return{focus:(ni=Je.current)===null||ni===void 0?void 0:ni.focus,blur:(gn=Je.current)===null||gn===void 0?void 0:gn.blur,scrollTo:function(cr){var er;return(er=rt.current)===null||er===void 0?void 0:er.scrollTo(cr)}}});var Zt=kr.useMemo(function(){var ni;if(v!=="combobox")return M;var gn=(ni=c[0])===null||ni===void 0?void 0:ni.value;return typeof gn=="string"||typeof gn=="number"?String(gn):""},[M,v,c]),xi=v==="combobox"&&typeof _=="function"&&_()||null,Ai=typeof S=="function"&&S(),Ii=Q6(Ft,Ai==null||(t=Ai.props)===null||t===void 0?void 0:t.ref),ei=kr.useState(!1),di=ze(ei,2),vi=di[0],ot=di[1];cs(function(){ot(!0)},[]);var Ke=xf(!1,{defaultValue:k,value:C}),Ue=ze(Ke,2),ai=Ue[0],Ge=Ue[1],pt=vi?ai:!1,Xt=!f&&h;(m||Xt&&pt&&v==="combobox")&&(pt=!1);var Ci=Xt?!1:pt,ft=kr.useCallback(function(ni){var gn=ni!==void 0?ni:!pt;m||(Ge(gn),pt!==gn&&(E==null||E(gn)))},[m,pt,Ge,E]),lt=kr.useMemo(function(){return(B||[]).some(function(ni){return[`
`,`\r
`].includes(ni)})},[B]),St=kr.useContext(CK)||{},Nt=St.maxCount,Dt=St.rawValues,Ri=function(ni,gn,cr){if(!(Qe&&pV(Nt)&&(Dt==null?void 0:Dt.size)>=Nt)){var er=!0,bs=ni;P==null||P(null);var Ss=lXe(ni,B,pV(Nt)?Nt-Dt.size:void 0),Rs=cr?null:Ss;return v!=="combobox"&&Rs&&(bs="",H==null||H(Rs),ft(!1),er=!1),L&&Zt!==bs&&L(bs,{source:gn?"typing":"effect"}),er}},ki=function(ni){!ni||!ni.trim()||L(ni,{source:"submit"})};kr.useEffect(function(){!pt&&!Qe&&v!=="combobox"&&Ri("",!1,!1)},[pt]),kr.useEffect(function(){ai&&m&&Ge(!1),m&&!dt.current&&ci(!1)},[m]);var Bi=f1e(),wn=ze(Bi,2),Ki=wn[0],Nn=wn[1],It=function(ni){var gn=Ki(),cr=ni.which;if(cr===un.ENTER&&(v!=="combobox"&&ni.preventDefault(),pt||ft(!0)),Nn(!!Zt),cr===un.BACKSPACE&&!gn&&Qe&&!Zt&&c.length){for(var er=Bt(c),bs=null,Ss=er.length-1;Ss>=0;Ss-=1){var Rs=er[Ss];if(!Rs.disabled){er.splice(Ss,1),bs=Rs;break}}bs&&d(er,{type:"remove",values:[bs]})}for(var ao=arguments.length,Na=new Array(ao>1?ao-1:0),ha=1;ha<ao;ha++)Na[ha-1]=arguments[ha];if(pt){var bu;(bu=rt.current)===null||bu===void 0||bu.onKeyDown.apply(bu,[ni].concat(Na))}Fe==null||Fe.apply(void 0,[ni].concat(Na))},ti=function(ni){for(var gn=arguments.length,cr=new Array(gn>1?gn-1:0),er=1;er<gn;er++)cr[er-1]=arguments[er];if(pt){var bs;(bs=rt.current)===null||bs===void 0||bs.onKeyUp.apply(bs,[ni].concat(cr))}pe==null||pe.apply(void 0,[ni].concat(cr))},Ei=function(ni){var gn=c.filter(function(cr){return cr!==ni});d(gn,{type:"remove",values:[ni]})},Hr=kr.useRef(!1),Zs=function(){ci(!0),m||(le&&!Hr.current&&le.apply(void 0,arguments),_e.includes("focus")&&ft(!0)),Hr.current=!0},Yr=function(){dt.current=!0,ci(!1,function(){Hr.current=!1,dt.current=!1,ft(!1)}),!m&&(Zt&&(v==="tags"?L(Zt,{source:"submit"}):v==="multiple"&&L("",{source:"blur"})),ve&&ve.apply(void 0,arguments))},Qs=[];kr.useEffect(function(){return function(){Qs.forEach(function(ni){return clearTimeout(ni)}),Qs.splice(0,Qs.length)}},[]);var Zc=function(ni){var gn,cr=ni.target,er=(gn=Ye.current)===null||gn===void 0?void 0:gn.getPopupElement();if(er&&er.contains(cr)){var bs=setTimeout(function(){var Na=Qs.indexOf(bs);if(Na!==-1&&Qs.splice(Na,1),qt(),!vt&&!er.contains(document.activeElement)){var ha;(ha=Je.current)===null||ha===void 0||ha.focus()}});Qs.push(bs)}for(var Ss=arguments.length,Rs=new Array(Ss>1?Ss-1:0),ao=1;ao<Ss;ao++)Rs[ao-1]=arguments[ao];Ee==null||Ee.apply(void 0,[ni].concat(Rs))},Qc=kr.useState({}),vu=ze(Qc,2),Xi=vu[1];function lh(){Xi({})}var Jc;Ai&&(Jc=function(ni){ft(ni)}),KYe(function(){var ni;return[zt.current,(ni=Ye.current)===null||ni===void 0?void 0:ni.getPopupElement()]},Ci,ft,!!Ai);var yu=kr.useMemo(function(){return Re(Re({},i),{},{notFoundContent:f,open:pt,triggerOpen:Ci,id:n,showSearch:Ae,multiple:Qe,toggleOpen:ft})},[i,f,Ci,pt,n,Ae,Qe,ft]),Bl=!!z||b,_u;Bl&&(_u=kr.createElement(vB,{className:(0,ire.default)("".concat(r,"-arrow"),be({},"".concat(r,"-arrow-loading"),b)),customizeIcon:z,customizeIconProps:{loading:b,searchValue:Zt,open:pt,focused:ii,showSearch:Ae}}));var Ao=function(){var ni;g==null||g(),(ni=Je.current)===null||ni===void 0||ni.focus(),d([],{type:"clear",values:c}),Ri("",!1,!1)},$a=UYe(r,Ao,c,F,N,m,Zt,v),_s=$a.allowClear,ed=$a.clearIcon,is=kr.createElement(U,{ref:rt}),nc=(0,ire.default)(r,s,be(be(be(be(be(be(be(be(be(be({},"".concat(r,"-focused"),ii),"".concat(r,"-multiple"),Qe),"".concat(r,"-single"),!Qe),"".concat(r,"-allow-clear"),F),"".concat(r,"-show-arrow"),Bl),"".concat(r,"-disabled"),m),"".concat(r,"-loading"),b),"".concat(r,"-open"),pt),"".concat(r,"-customize-input"),xi),"".concat(r,"-show-search"),Ae)),$l=kr.createElement(aXe,{ref:Ye,disabled:m,prefixCls:r,visible:Ci,popupElement:is,animation:G,transitionName:j,dropdownStyle:K,dropdownClassName:ie,direction:l,dropdownMatchSelectWidth:ae,dropdownRender:re,dropdownAlign:J,placement:ne,builtinPlacements:te,getPopupContainer:Q,empty:h,getTriggerDOMNode:function(){return Ft.current},onPopupVisibleChange:Jc,onPopupMouseEnter:lh},Ai?kr.cloneElement(Ai,{ref:Ii}):kr.createElement(MKe,Si({},i,{domRef:Ft,prefixCls:r,inputElement:xi,ref:Je,id:n,showSearch:Ae,autoClearSearchValue:D,mode:v,activeDescendantId:O,tagRender:o,values:c,open:pt,onToggleOpen:ft,activeValue:A,searchValue:Zt,onSearch:Ri,onSearchSubmit:ki,onRemove:Ei,tokenWithEnter:lt}))),so;return Ai?so=$l:so=kr.createElement("div",Si({className:nc},je,{ref:zt,onMouseDown:Zc,onKeyDown:It,onKeyUp:ti,onFocus:Zs,onBlur:Yr}),ii&&!pt&&kr.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(c.map(function(ni){var gn=ni.label,cr=ni.value;return["number","string"].includes(hn(gn))?gn:cr}).join(", "))),$l,_u,_s&&ed),kr.createElement(p1e.Provider,{value:yu},so)}),fXe=pXe,k1e=function(){return null};k1e.isSelectOptGroup=!0;var E1e=k1e,A1e=function(){return null};A1e.isSelectOption=!0;var T1e=A1e,bre=oe(si()),vc=oe(ge()),Sh=oe(ge()),Sre=oe(hb()),gXe=oe(si()),FM=oe(ge()),mXe=oe(si()),P1e=FM.forwardRef(function(i,e){var t=i.height,n=i.offsetY,r=i.offsetX,s=i.children,a=i.prefixCls,o=i.onInnerResize,l=i.innerProps,u=i.rtl,c=i.extra,d={},h={display:"flex",flexDirection:"column"};return n!==void 0&&(d={height:t,position:"relative",overflow:"hidden"},h=Re(Re({},h),{},be(be(be(be(be({transform:"translateY(".concat(n,"px)")},u?"marginRight":"marginLeft",-r),"position","absolute"),"left",0),"right",0),"top",0))),FM.createElement("div",{style:d},FM.createElement(pb,{onResize:function(p){var f=p.offsetHeight;f&&o&&o()}},FM.createElement("div",Si({style:h,className:(0,mXe.default)(be({},"".concat(a,"-holder-inner"),a)),ref:e},l),s,c)))});P1e.displayName="Filler";var vXe=P1e,po=oe(ge()),xre=oe(si());function wre(i,e){var t="touches"in i?i.touches[0]:i;return t[e?"pageX":"pageY"]}var yXe=po.forwardRef(function(i,e){var t=i.prefixCls,n=i.rtl,r=i.scrollOffset,s=i.scrollRange,a=i.onStartMove,o=i.onStopMove,l=i.onScroll,u=i.horizontal,c=i.spinSize,d=i.containerSize,h=i.style,p=i.thumbStyle,f=po.useState(!1),g=ze(f,2),v=g[0],m=g[1],b=po.useState(null),_=ze(b,2),S=_[0],C=_[1],k=po.useState(null),E=ze(k,2),A=E[0],P=E[1],O=!n,M=po.useRef(),D=po.useRef(),L=po.useState(!1),H=ze(L,2),B=H[0],F=H[1],z=po.useRef(),N=function(){clearTimeout(z.current),F(!0),z.current=setTimeout(function(){F(!1)},3e3)},U=s-d||0,G=d-c||0,j=po.useMemo(function(){if(r===0||U===0)return 0;var se=r/U;return se*G},[r,U,G]),K=function(se){se.stopPropagation(),se.preventDefault()},ie=po.useRef({top:j,dragging:v,pageY:S,startTop:A});ie.current={top:j,dragging:v,pageY:S,startTop:A};var ae=function(se){m(!0),C(wre(se,u)),P(ie.current.top),a(),se.stopPropagation(),se.preventDefault()};po.useEffect(function(){var se=function(ve){ve.preventDefault()},_e=M.current,le=D.current;return _e.addEventListener("touchstart",se),le.addEventListener("touchstart",ae),function(){_e.removeEventListener("touchstart",se),le.removeEventListener("touchstart",ae)}},[]);var re=po.useRef();re.current=U;var J=po.useRef();J.current=G,po.useEffect(function(){if(v){var se,_e=function(ve){var pe=ie.current,Fe=pe.dragging,Ee=pe.pageY,it=pe.startTop;if(fs.cancel(se),Fe){var Qe=wre(ve,u)-Ee,Ae=it;!O&&u?Ae-=Qe:Ae+=Qe;var je=re.current,We=J.current,ut=We?Ae/We:0,vt=Math.ceil(ut*je);vt=Math.max(vt,0),vt=Math.min(vt,je),se=fs(function(){l(vt,u)})}},le=function(){m(!1),o()};return window.addEventListener("mousemove",_e),window.addEventListener("touchmove",_e),window.addEventListener("mouseup",le),window.addEventListener("touchend",le),function(){window.removeEventListener("mousemove",_e),window.removeEventListener("touchmove",_e),window.removeEventListener("mouseup",le),window.removeEventListener("touchend",le),fs.cancel(se)}}},[v]),po.useEffect(function(){N()},[r]),po.useImperativeHandle(e,function(){return{delayHidden:N}});var ne="".concat(t,"-scrollbar"),te={position:"absolute",visibility:B?null:"hidden"},Q={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return u?(te.height=8,te.left=0,te.right=0,te.bottom=0,Q.height="100%",Q.width=c,O?Q.left=j:Q.right=j):(te.width=8,te.top=0,te.bottom=0,O?te.right=0:te.left=0,Q.width="100%",Q.height=c,Q.top=j),po.createElement("div",{ref:M,className:(0,xre.default)(ne,be(be(be({},"".concat(ne,"-horizontal"),u),"".concat(ne,"-vertical"),!u),"".concat(ne,"-visible"),B)),style:Re(Re({},te),h),onMouseDown:K,onMouseMove:N},po.createElement("div",{ref:D,className:(0,xre.default)("".concat(ne,"-thumb"),be({},"".concat(ne,"-thumb-moving"),v)),style:Re(Re({},Q),p),onMouseDown:ae}))}),Cre=yXe,_Xe=oe(ge()),kre=oe(ge());function bXe(i){var e=i.children,t=i.setRef,n=kre.useCallback(function(r){t(r)},[]);return kre.cloneElement(e,{ref:n})}function SXe(i,e,t,n,r,s,a){var o=a.getKey;return i.slice(e,t+1).map(function(l,u){var c=e+u,d=s(l,c,{style:{width:n}}),h=o(l);return _Xe.createElement(bXe,{key:h,setRef:function(p){return r(l,p)}},d)})}var xXe=oe(ge()),BM=oe(ge()),wXe=function(){function i(){Rl(this,i),be(this,"maps",void 0),be(this,"id",0),this.maps=Object.create(null)}return Dl(i,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}}]),i}(),CXe=wXe;function kXe(i,e,t){var n=xXe.useState(0),r=ze(n,2),s=r[0],a=r[1],o=(0,BM.useRef)(new Map),l=(0,BM.useRef)(new CXe),u=(0,BM.useRef)();function c(){fs.cancel(u.current)}function d(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;c();var f=function(){o.current.forEach(function(g,v){if(g&&g.offsetParent){var m=xE(g),b=m.offsetHeight;l.current.get(v)!==b&&l.current.set(v,m.offsetHeight)}}),a(function(g){return g+1})};p?f():u.current=fs(f)}function h(p,f){var g=i(p);o.current.get(g),f?(o.current.set(g,f),d()):o.current.delete(g)}return(0,BM.useEffect)(function(){return c},[]),[h,d,l.current,s]}var Ere=oe(ge()),EXe=10;function AXe(i,e,t,n,r,s,a,o){var l=Ere.useRef(),u=Ere.useState(null),c=ze(u,2),d=c[0],h=c[1];return cs(function(){if(d&&d.times<EXe){if(!i.current){h(function(U){return Re({},U)});return}s();var p=d.targetAlign,f=d.originAlign,g=d.index,v=d.offset,m=i.current.clientHeight,b=!1,_=p,S=null;if(m){for(var C=p||f,k=0,E=0,A=0,P=Math.min(e.length-1,g),O=0;O<=P;O+=1){var M=r(e[O]);E=k;var D=t.get(M);A=E+(D===void 0?n:D),k=A}for(var L=C==="top"?v:m-v,H=P;H>=0;H-=1){var B=r(e[H]),F=t.get(B);if(F===void 0){b=!0;break}if(L-=F,L<=0)break}switch(C){case"top":S=E-v;break;case"bottom":S=A-m+v;break;default:{var z=i.current.scrollTop,N=z+m;E<z?_="top":A>N&&(_="bottom")}}S!==null&&a(S),S!==d.lastTop&&(b=!0)}b&&h(Re(Re({},d),{},{times:d.times+1,targetAlign:_,lastTop:S}))}},[d,i.current]),function(p){if(p==null){o();return}if(fs.cancel(l.current),typeof p=="number")a(p);else if(p&&hn(p)==="object"){var f,g=p.align;"index"in p?f=p.index:f=e.findIndex(function(b){return r(b)===p.key});var v=p.offset,m=v===void 0?0:v;h({times:0,index:f,offset:m,originAlign:g})}}}var Bj=oe(ge());function TXe(i,e,t){var n=i.length,r=e.length,s,a;if(n===0&&r===0)return null;n<r?(s=i,a=e):(s=e,a=i);var o={__EMPTY_ITEM__:!0};function l(f){return f!==void 0?t(f):o}for(var u=null,c=Math.abs(n-r)!==1,d=0;d<a.length;d+=1){var h=l(s[d]),p=l(a[d]);if(h!==p){u=d,c=c||h!==l(a[d+1]);break}}return u===null?null:{index:u,multiple:c}}function PXe(i,e,t){var n=Bj.useState(i),r=ze(n,2),s=r[0],a=r[1],o=Bj.useState(null),l=ze(o,2),u=l[0],c=l[1];return Bj.useEffect(function(){var d=TXe(s||[],i||[],e);(d==null?void 0:d.index)!==void 0&&c(i[d.index]),a(i)},[i]),[u]}var h1=oe(ge()),OXe=(typeof navigator>"u"?"undefined":hn(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),Are=OXe,$j=oe(ge()),O1e=function(i,e){var t=(0,$j.useRef)(!1),n=(0,$j.useRef)(null);function r(){clearTimeout(n.current),t.current=!0,n.current=setTimeout(function(){t.current=!1},50)}var s=(0,$j.useRef)({top:i,bottom:e});return s.current.top=i,s.current.bottom=e,function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=a<0&&s.current.top||a>0&&s.current.bottom;return o&&l?(clearTimeout(n.current),t.current=!1):(!l||t.current)&&r(),!t.current&&l}};function MXe(i,e,t,n,r){var s=(0,h1.useRef)(0),a=(0,h1.useRef)(null),o=(0,h1.useRef)(null),l=(0,h1.useRef)(!1),u=O1e(e,t);function c(v,m){fs.cancel(a.current),s.current+=m,o.current=m,!u(m)&&(Are||v.preventDefault(),a.current=fs(function(){var b=l.current?10:1;r(s.current*b),s.current=0}))}function d(v,m){r(m,!0),Are||v.preventDefault()}var h=(0,h1.useRef)(null),p=(0,h1.useRef)(null);function f(v){if(i){fs.cancel(p.current),p.current=fs(function(){h.current=null},2);var m=v.deltaX,b=v.deltaY,_=v.shiftKey,S=m,C=b;(h.current==="sx"||!h.current&&_&&b&&!m)&&(S=b,C=0,h.current="sx");var k=Math.abs(S),E=Math.abs(C);h.current===null&&(h.current=n&&k>E?"x":"y"),h.current==="y"?c(v,C):d(v,S)}}function g(v){i&&(l.current=v.detail===o.current)}return[f,g]}var $M=oe(ge()),IXe=14/15;function RXe(i,e,t){var n=(0,$M.useRef)(!1),r=(0,$M.useRef)(0),s=(0,$M.useRef)(null),a=(0,$M.useRef)(null),o,l=function(d){if(n.current){var h=Math.ceil(d.touches[0].pageY),p=r.current-h;r.current=h,t(p)&&d.preventDefault(),clearInterval(a.current),a.current=setInterval(function(){p*=IXe,(!t(p,!0)||Math.abs(p)<=.1)&&clearInterval(a.current)},16)}},u=function(){n.current=!1,o()},c=function(d){o(),d.touches.length===1&&!n.current&&(n.current=!0,r.current=Math.ceil(d.touches[0].pageY),s.current=d.target,s.current.addEventListener("touchmove",l),s.current.addEventListener("touchend",u))};o=function(){s.current&&(s.current.removeEventListener("touchmove",l),s.current.removeEventListener("touchend",u))},cs(function(){return i&&e.current.addEventListener("touchstart",c),function(){var d;(d=e.current)===null||d===void 0||d.removeEventListener("touchstart",c),o(),clearInterval(a.current)}},[i])}var DXe=20;function Tre(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=i/e*i;return isNaN(t)&&(t=0),t=Math.max(t,DXe),Math.floor(t)}var LXe=oe(ge());function FXe(i,e,t,n){var r=LXe.useMemo(function(){return[new Map,[]]},[i,t.id,n]),s=ze(r,2),a=s[0],o=s[1],l=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u,d=a.get(u),h=a.get(c);if(d===void 0||h===void 0)for(var p=i.length,f=o.length;f<p;f+=1){var g,v=i[f],m=e(v);a.set(m,f);var b=(g=t.get(m))!==null&&g!==void 0?g:n;if(o[f]=(o[f-1]||0)+b,m===u&&(d=f),m===c&&(h=f),d!==void 0&&h!==void 0)break}return{top:o[d-1]||0,bottom:o[h]}};return l}var BXe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],$Xe=[],NXe={overflowY:"auto",overflowAnchor:"none"};function jXe(i,e){var t=i.prefixCls,n=t===void 0?"rc-virtual-list":t,r=i.className,s=i.height,a=i.itemHeight,o=i.fullHeight,l=o===void 0?!0:o,u=i.style,c=i.data,d=i.children,h=i.itemKey,p=i.virtual,f=i.direction,g=i.scrollWidth,v=i.component,m=v===void 0?"div":v,b=i.onScroll,_=i.onVirtualScroll,S=i.onVisibleChange,C=i.innerProps,k=i.extraRender,E=i.styles,A=gr(i,BXe),P=!!(p!==!1&&s&&a),O=P&&c&&(a*c.length>s||!!g),M=f==="rtl",D=(0,gXe.default)(n,be({},"".concat(n,"-rtl"),M),r),L=c||$Xe,H=(0,Sh.useRef)(),B=(0,Sh.useRef)(),F=(0,Sh.useState)(0),z=ze(F,2),N=z[0],U=z[1],G=(0,Sh.useState)(0),j=ze(G,2),K=j[0],ie=j[1],ae=(0,Sh.useState)(!1),re=ze(ae,2),J=re[0],ne=re[1],te=function(){ne(!0)},Q=function(){ne(!1)},se=vc.useCallback(function(It){return typeof h=="function"?h(It):It==null?void 0:It[h]},[h]),_e={getKey:se};function le(It){U(function(ti){var Ei;typeof It=="function"?Ei=It(ti):Ei=It;var Hr=ei(Ei);return H.current.scrollTop=Hr,Hr})}var ve=(0,Sh.useRef)({start:0,end:L.length}),pe=(0,Sh.useRef)(),Fe=PXe(L,se),Ee=ze(Fe,1),it=Ee[0];pe.current=it;var Qe=kXe(se),Ae=ze(Qe,4),je=Ae[0],We=Ae[1],ut=Ae[2],vt=Ae[3],_t=vc.useMemo(function(){if(!P)return{scrollHeight:void 0,start:0,end:L.length-1,offset:void 0};if(!O){var It;return{scrollHeight:((It=B.current)===null||It===void 0?void 0:It.offsetHeight)||0,start:0,end:L.length-1,offset:void 0}}for(var ti=0,Ei,Hr,Zs,Yr=L.length,Qs=0;Qs<Yr;Qs+=1){var Zc=L[Qs],Qc=se(Zc),vu=ut.get(Qc),Xi=ti+(vu===void 0?a:vu);Xi>=N&&Ei===void 0&&(Ei=Qs,Hr=ti),Xi>N+s&&Zs===void 0&&(Zs=Qs),ti=Xi}return Ei===void 0&&(Ei=0,Hr=0,Zs=Math.ceil(s/a)),Zs===void 0&&(Zs=L.length-1),Zs=Math.min(Zs+1,L.length-1),{scrollHeight:ti,start:Ei,end:Zs,offset:Hr}},[O,P,N,L,vt,s]),zt=_t.scrollHeight,Ft=_t.start,Ye=_t.end,Je=_t.offset;ve.current.start=Ft,ve.current.end=Ye;var rt=vc.useState({width:0,height:s}),dt=ze(rt,2),at=dt[0],Gt=dt[1],ii=function(It){Gt({width:It.width||It.offsetWidth,height:It.height||It.offsetHeight})},ci=(0,Sh.useRef)(),qt=(0,Sh.useRef)(),Zt=vc.useMemo(function(){return Tre(at.width,g)},[at.width,g]),xi=vc.useMemo(function(){return Tre(at.height,zt)},[at.height,zt]),Ai=zt-s,Ii=(0,Sh.useRef)(Ai);Ii.current=Ai;function ei(It){var ti=It;return Number.isNaN(Ii.current)||(ti=Math.min(ti,Ii.current)),ti=Math.max(ti,0),ti}var di=N<=0,vi=N>=Ai,ot=O1e(di,vi),Ke=function(){return{x:M?-K:K,y:N}},Ue=(0,Sh.useRef)(Ke()),ai=Oc(function(){if(_){var It=Ke();(Ue.current.x!==It.x||Ue.current.y!==It.y)&&(_(It),Ue.current=It)}});function Ge(It,ti){var Ei=It;ti?((0,Sre.flushSync)(function(){ie(Ei)}),ai()):le(Ei)}function pt(It){var ti=It.currentTarget.scrollTop;ti!==N&&le(ti),b==null||b(It),ai()}var Xt=function(It){var ti=It,Ei=g-at.width;return ti=Math.max(ti,0),ti=Math.min(ti,Ei),ti},Ci=Oc(function(It,ti){ti?((0,Sre.flushSync)(function(){ie(function(Ei){var Hr=Ei+(M?-It:It);return Xt(Hr)})}),ai()):le(function(Ei){var Hr=Ei+It;return Hr})}),ft=MXe(P,di,vi,!!g,Ci),lt=ze(ft,2),St=lt[0],Nt=lt[1];RXe(P,H,function(It,ti){return ot(It,ti)?!1:(St({preventDefault:function(){},deltaY:It}),!0)}),cs(function(){function It(Ei){P&&Ei.preventDefault()}var ti=H.current;return ti.addEventListener("wheel",St),ti.addEventListener("DOMMouseScroll",Nt),ti.addEventListener("MozMousePixelScroll",It),function(){ti.removeEventListener("wheel",St),ti.removeEventListener("DOMMouseScroll",Nt),ti.removeEventListener("MozMousePixelScroll",It)}},[P]),cs(function(){g&&ie(function(It){return Xt(It)})},[at.width,g]);var Dt=function(){var It,ti;(It=ci.current)===null||It===void 0||It.delayHidden(),(ti=qt.current)===null||ti===void 0||ti.delayHidden()},Ri=AXe(H,L,ut,a,se,function(){return We(!0)},le,Dt);vc.useImperativeHandle(e,function(){return{getScrollInfo:Ke,scrollTo:function(It){function ti(Ei){return Ei&&hn(Ei)==="object"&&("left"in Ei||"top"in Ei)}ti(It)?(It.left!==void 0&&ie(Xt(It.left)),Ri(It.top)):Ri(It)}}}),cs(function(){if(S){var It=L.slice(Ft,Ye+1);S(It,L)}},[Ft,Ye,L]);var ki=FXe(L,se,ut,a),Bi=k==null?void 0:k({start:Ft,end:Ye,virtual:O,offsetX:K,offsetY:Je,rtl:M,getSize:ki}),wn=SXe(L,Ft,Ye,g,je,d,_e),Ki=null;s&&(Ki=Re(be({},l?"height":"maxHeight",s),NXe),P&&(Ki.overflowY="hidden",g&&(Ki.overflowX="hidden"),J&&(Ki.pointerEvents="none")));var Nn={};return M&&(Nn.dir="rtl"),vc.createElement("div",Si({style:Re(Re({},u),{},{position:"relative"}),className:D},Nn,A),vc.createElement(pb,{onResize:ii},vc.createElement(m,{className:"".concat(n,"-holder"),style:Ki,ref:H,onScroll:pt,onMouseEnter:Dt},vc.createElement(vXe,{prefixCls:n,height:zt,offsetX:K,offsetY:Je,scrollWidth:g,onInnerResize:We,ref:B,innerProps:C,rtl:M,extra:Bi},wn))),O&&zt>s&&vc.createElement(Cre,{ref:ci,prefixCls:n,scrollOffset:N,scrollRange:zt,rtl:M,onScroll:Ge,onStartMove:te,onStopMove:Q,spinSize:xi,containerSize:at.height,style:E==null?void 0:E.verticalScrollBar,thumbStyle:E==null?void 0:E.verticalScrollBarThumb}),O&&g>at.width&&vc.createElement(Cre,{ref:qt,prefixCls:n,scrollOffset:K,scrollRange:g,rtl:M,onScroll:Ge,onStartMove:te,onStopMove:Q,spinSize:Zt,containerSize:at.width,horizontal:!0,style:E==null?void 0:E.horizontalScrollBar,thumbStyle:E==null?void 0:E.horizontalScrollBarThumb}))}var M1e=vc.forwardRef(jXe);M1e.displayName="List";var zXe=M1e,HXe=zXe,go=oe(ge()),Pre=oe(ge());function VXe(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var WXe=["disabled","title","children","style","className"];function Ore(i){return typeof i=="string"||typeof i=="number"}var UXe=function(i,e){var t=GYe(),n=t.prefixCls,r=t.id,s=t.open,a=t.multiple,o=t.mode,l=t.searchValue,u=t.toggleOpen,c=t.notFoundContent,d=t.onPopupScroll,h=go.useContext(CK),p=h.maxCount,f=h.flattenOptions,g=h.onActiveValue,v=h.defaultActiveFirstOption,m=h.onSelect,b=h.menuItemSelectedIcon,_=h.rawValues,S=h.fieldNames,C=h.virtual,k=h.direction,E=h.listHeight,A=h.listItemHeight,P=h.optionRender,O="".concat(n,"-item"),M=Z6(function(){return f},[s,f],function(Q,se){return se[0]&&Q[1]!==se[1]}),D=go.useRef(null),L=go.useMemo(function(){return a&&pV(p)&&(_==null?void 0:_.size)>=p},[a,p,_==null?void 0:_.size]),H=function(Q){Q.preventDefault()},B=function(Q){var se;(se=D.current)===null||se===void 0||se.scrollTo(typeof Q=="number"?{index:Q}:Q)},F=function(Q){for(var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,_e=M.length,le=0;le<_e;le+=1){var ve=(Q+le*se+_e)%_e,pe=M[ve]||{},Fe=pe.group,Ee=pe.data;if(!Fe&&!(Ee!=null&&Ee.disabled)&&!L)return ve}return-1},z=go.useState(function(){return F(0)}),N=ze(z,2),U=N[0],G=N[1],j=function(Q){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;G(Q);var _e={source:se?"keyboard":"mouse"},le=M[Q];if(!le){g(null,-1,_e);return}g(le.value,Q,_e)};(0,Pre.useEffect)(function(){j(v!==!1?F(0):-1)},[M.length,l]);var K=go.useCallback(function(Q){return _.has(Q)&&o!=="combobox"},[o,Bt(_).toString(),_.size]);(0,Pre.useEffect)(function(){var Q=setTimeout(function(){if(!a&&s&&_.size===1){var _e=Array.from(_)[0],le=M.findIndex(function(ve){var pe=ve.data;return pe.value===_e});le!==-1&&(j(le),B(le))}});if(s){var se;(se=D.current)===null||se===void 0||se.scrollTo(void 0)}return function(){return clearTimeout(Q)}},[s,l]);var ie=function(Q){Q!==void 0&&m(Q,{selected:!_.has(Q)}),a||u(!1)};if(go.useImperativeHandle(e,function(){return{onKeyDown:function(Q){var se=Q.which,_e=Q.ctrlKey;switch(se){case un.N:case un.P:case un.UP:case un.DOWN:{var le=0;if(se===un.UP?le=-1:se===un.DOWN?le=1:VXe()&&_e&&(se===un.N?le=1:se===un.P&&(le=-1)),le!==0){var ve=F(U+le,le);B(ve),j(ve,!0)}break}case un.ENTER:{var pe,Fe=M[U];Fe&&!(Fe!=null&&(pe=Fe.data)!==null&&pe!==void 0&&pe.disabled)&&!L?ie(Fe.value):ie(void 0),s&&Q.preventDefault();break}case un.ESC:u(!1),s&&Q.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Q){B(Q)}}}),M.length===0)return go.createElement("div",{role:"listbox",id:"".concat(r,"_list"),className:"".concat(O,"-empty"),onMouseDown:H},c);var ae=Object.keys(S).map(function(Q){return S[Q]}),re=function(Q){return Q.label};function J(Q,se){var _e=Q.group;return{role:_e?"presentation":"option",id:"".concat(r,"_list_").concat(se)}}var ne=function(Q){var se=M[Q];if(!se)return null;var _e=se.data||{},le=_e.value,ve=se.group,pe=sT(_e,!0),Fe=re(se);return se?go.createElement("div",Si({"aria-label":typeof Fe=="string"&&!ve?Fe:null},pe,{key:Q},J(se,Q),{"aria-selected":K(le)}),le):null},te={role:"listbox",id:"".concat(r,"_list")};return go.createElement(go.Fragment,null,C&&go.createElement("div",Si({},te,{style:{height:0,width:0,overflow:"hidden"}}),ne(U-1),ne(U),ne(U+1)),go.createElement(HXe,{itemKey:"key",ref:D,data:M,height:E,itemHeight:A,fullHeight:!1,onMouseDown:H,onScroll:d,virtual:C,direction:k,innerProps:C?null:te},function(Q,se){var _e=Q.group,le=Q.groupOption,ve=Q.data,pe=Q.label,Fe=Q.value,Ee=ve.key;if(_e){var it,Qe=(it=ve.title)!==null&&it!==void 0?it:Ore(pe)?pe.toString():void 0;return go.createElement("div",{className:(0,bre.default)(O,"".concat(O,"-group"),ve.className),title:Qe},pe!==void 0?pe:Ee)}var Ae=ve.disabled,je=ve.title;ve.children;var We=ve.style,ut=ve.className,vt=gr(ve,WXe),_t=um(vt,ae),zt=K(Fe),Ft=Ae||!zt&&L,Ye="".concat(O,"-option"),Je=(0,bre.default)(O,Ye,ut,be(be(be(be({},"".concat(Ye,"-grouped"),le),"".concat(Ye,"-active"),U===se&&!Ft),"".concat(Ye,"-disabled"),Ft),"".concat(Ye,"-selected"),zt)),rt=re(Q),dt=!b||typeof b=="function"||zt,at=typeof rt=="number"?rt:rt||Fe,Gt=Ore(at)?at.toString():void 0;return je!==void 0&&(Gt=je),go.createElement("div",Si({},sT(_t),C?{}:J(Q,se),{"aria-selected":zt,className:Je,title:Gt,onMouseMove:function(){U===se||Ft||j(se)},onClick:function(){Ft||ie(Fe)},style:We}),go.createElement("div",{className:"".concat(Ye,"-content")},typeof P=="function"?P(Q,{index:se}):at),go.isValidElement(b)||zt,dt&&go.createElement(vB,{className:"".concat(O,"-option-state"),customizeIcon:b,customizeIconProps:{value:Fe,disabled:Ft,isSelected:zt}},zt?"":null))}))},GXe=go.forwardRef(UXe),YXe=GXe,Nj=oe(ge()),KXe=function(i,e){var t=Nj.useRef({values:new Map,options:new Map}),n=Nj.useMemo(function(){var s=t.current,a=s.values,o=s.options,l=i.map(function(d){if(d.label===void 0){var h;return Re(Re({},d),{},{label:(h=a.get(d.value))===null||h===void 0?void 0:h.label})}return d}),u=new Map,c=new Map;return l.forEach(function(d){u.set(d.value,d),c.set(d.value,e.get(d.value)||o.get(d.value))}),t.current.values=u,t.current.options=c,l},[i,e]),r=Nj.useCallback(function(s){return e.get(s)||t.current.options.get(s)},[e]);return[n,r]},XXe=oe(ge());function jj(i,e){return S1e(i).join("").toUpperCase().includes(e)}var qXe=function(i,e,t,n,r){return XXe.useMemo(function(){if(!t||n===!1)return i;var s=e.options,a=e.label,o=e.value,l=[],u=typeof n=="function",c=t.toUpperCase(),d=u?n:function(p,f){return r?jj(f[r],c):f[s]?jj(f[a!=="children"?a:"label"],c):jj(f[o],c)},h=u?function(p){return fV(p)}:function(p){return p};return i.forEach(function(p){if(p[s]){var f=d(t,h(p));if(f)l.push(p);else{var g=p[s].filter(function(v){return d(t,h(v))});g.length&&l.push(Re(Re({},p),{},be({},s,g)))}return}d(t,h(p))&&l.push(p)}),l},[i,n,r,t,e])},Mre=oe(ge()),Ire=0,ZXe=nu();function QXe(){var i;return ZXe?(i=Ire,Ire+=1):i="TEST_OR_SSR",i}function JXe(i){var e=Mre.useState(),t=ze(e,2),n=t[0],r=t[1];return Mre.useEffect(function(){r("rc_select_".concat(QXe()))},[]),i||n}var eqe=oe(ge()),tqe=oe(ge()),iqe=["children","value"],nqe=["children"];function rqe(i){var e=i,t=e.key,n=e.props,r=n.children,s=n.value,a=gr(n,iqe);return Re({key:t,value:s!==void 0?s:t,children:r},a)}function I1e(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return h0(i).map(function(t,n){if(!tqe.isValidElement(t)||!t.type)return null;var r=t,s=r.type.isSelectOptGroup,a=r.key,o=r.props,l=o.children,u=gr(o,nqe);return e||!s?rqe(t):Re(Re({key:"__RC_SELECT_GRP__".concat(a===null?n:a,"__"),label:a},u),{},{options:I1e(l)})}).filter(function(t){return t})}var sqe=function(i,e,t,n,r){return eqe.useMemo(function(){var s=i,a=!i;a&&(s=I1e(e));var o=new Map,l=new Map,u=function(d,h,p){p&&typeof p=="string"&&d.set(h[p],h)},c=function d(h){for(var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=0;f<h.length;f+=1){var g=h[f];!g[t.options]||p?(o.set(g[t.value],g),u(l,g,t.label),u(l,g,n),u(l,g,r)):d(g[t.options],!0)}};return c(s),{options:s,valueOptions:o,labelOptions:l}},[i,e,t,n,r])},aqe=sqe,Rre=oe(ge());function Dre(i){var e=Rre.useRef();e.current=i;var t=Rre.useCallback(function(){return e.current.apply(e,arguments)},[]);return t}oe(ge());var oqe=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],lqe=["inputValue"];function uqe(i){return!i||hn(i)!=="object"}var cqe=ho.forwardRef(function(i,e){var t=i.id,n=i.mode,r=i.prefixCls,s=r===void 0?"rc-select":r,a=i.backfill,o=i.fieldNames,l=i.inputValue,u=i.searchValue,c=i.onSearch,d=i.autoClearSearchValue,h=d===void 0?!0:d,p=i.onSelect,f=i.onDeselect,g=i.dropdownMatchSelectWidth,v=g===void 0?!0:g,m=i.filterOption,b=i.filterSort,_=i.optionFilterProp,S=i.optionLabelProp,C=i.options,k=i.optionRender,E=i.children,A=i.defaultActiveFirstOption,P=i.menuItemSelectedIcon,O=i.virtual,M=i.direction,D=i.listHeight,L=D===void 0?200:D,H=i.listItemHeight,B=H===void 0?20:H,F=i.labelRender,z=i.value,N=i.defaultValue,U=i.labelInValue,G=i.onChange,j=i.maxCount,K=gr(i,oqe),ie=JXe(t),ae=gV(n),re=!!(!C&&E),J=ho.useMemo(function(){return m===void 0&&n==="combobox"?!1:m},[m,n]),ne=ho.useMemo(function(){return C1e(o,re)},[JSON.stringify(o),re]),te=xf("",{value:u!==void 0?u:l,postState:function(ft){return ft||""}}),Q=ze(te,2),se=Q[0],_e=Q[1],le=aqe(C,E,ne,_,S),ve=le.valueOptions,pe=le.labelOptions,Fe=le.options,Ee=ho.useCallback(function(ft){var lt=S1e(ft);return lt.map(function(St){var Nt,Dt,Ri,ki,Bi;if(uqe(St))Nt=St;else{var wn;Ri=St.key,Dt=St.label,Nt=(wn=St.value)!==null&&wn!==void 0?wn:Ri}var Ki=ve.get(Nt);if(Ki){var Nn;Dt===void 0&&(Dt=Ki==null?void 0:Ki[S||ne.label]),Ri===void 0&&(Ri=(Nn=Ki==null?void 0:Ki.key)!==null&&Nn!==void 0?Nn:Nt),ki=Ki==null?void 0:Ki.disabled,Bi=Ki==null?void 0:Ki.title}return{label:Dt,value:Nt,key:Ri,disabled:ki,title:Bi}})},[ne,S,ve]),it=xf(N,{value:z}),Qe=ze(it,2),Ae=Qe[0],je=Qe[1],We=ho.useMemo(function(){var ft,lt=ae&&Ae===null?[]:Ae,St=Ee(lt);return n==="combobox"&&xKe((ft=St[0])===null||ft===void 0?void 0:ft.value)?[]:St},[Ae,Ee,n,ae]),ut=KXe(We,ve),vt=ze(ut,2),_t=vt[0],zt=vt[1],Ft=ho.useMemo(function(){if(!n&&_t.length===1){var ft=_t[0];if(ft.value===null&&(ft.label===null||ft.label===void 0))return[]}return _t.map(function(lt){var St;return Re(Re({},lt),{},{label:(St=typeof F=="function"?F(lt):lt.label)!==null&&St!==void 0?St:lt.value})})},[n,_t,F]),Ye=ho.useMemo(function(){return new Set(_t.map(function(ft){return ft.value}))},[_t]);ho.useEffect(function(){if(n==="combobox"){var ft,lt=(ft=_t[0])===null||ft===void 0?void 0:ft.value;_e(SKe(lt)?String(lt):"")}},[_t]);var Je=Dre(function(ft,lt){var St=lt??ft;return be(be({},ne.value,ft),ne.label,St)}),rt=ho.useMemo(function(){if(n!=="tags")return Fe;var ft=Bt(Fe),lt=function(St){return ve.has(St)};return Bt(_t).sort(function(St,Nt){return St.value<Nt.value?-1:1}).forEach(function(St){var Nt=St.value;lt(Nt)||ft.push(Je(Nt,St.label))}),ft},[Je,Fe,ve,_t,n]),dt=qXe(rt,ne,se,J,_),at=ho.useMemo(function(){return n!=="tags"||!se||dt.some(function(ft){return ft[_||"value"]===se})||dt.some(function(ft){return ft[ne.value]===se})?dt:[Je(se)].concat(Bt(dt))},[Je,_,n,dt,se,ne]),Gt=ho.useMemo(function(){return b?Bt(at).sort(function(ft,lt){return b(ft,lt)}):at},[at,b]),ii=ho.useMemo(function(){return oXe(Gt,{fieldNames:ne,childrenAsData:re})},[Gt,ne,re]),ci=function(ft){var lt=Ee(ft);if(je(lt),G&&(lt.length!==_t.length||lt.some(function(Dt,Ri){var ki;return((ki=_t[Ri])===null||ki===void 0?void 0:ki.value)!==(Dt==null?void 0:Dt.value)}))){var St=U?lt:lt.map(function(Dt){return Dt.value}),Nt=lt.map(function(Dt){return fV(zt(Dt.value))});G(ae?St:St[0],ae?Nt:Nt[0])}},qt=ho.useState(null),Zt=ze(qt,2),xi=Zt[0],Ai=Zt[1],Ii=ho.useState(0),ei=ze(Ii,2),di=ei[0],vi=ei[1],ot=A!==void 0?A:n!=="combobox",Ke=ho.useCallback(function(ft,lt){var St=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Nt=St.source,Dt=Nt===void 0?"keyboard":Nt;vi(lt),a&&n==="combobox"&&ft!==null&&Dt==="keyboard"&&Ai(String(ft))},[a,n]),Ue=function(ft,lt,St){var Nt=function(){var ti,Ei=zt(ft);return[U?{label:Ei==null?void 0:Ei[ne.label],value:ft,key:(ti=Ei==null?void 0:Ei.key)!==null&&ti!==void 0?ti:ft}:ft,fV(Ei)]};if(lt&&p){var Dt=Nt(),Ri=ze(Dt,2),ki=Ri[0],Bi=Ri[1];p(ki,Bi)}else if(!lt&&f&&St!=="clear"){var wn=Nt(),Ki=ze(wn,2),Nn=Ki[0],It=Ki[1];f(Nn,It)}},ai=Dre(function(ft,lt){var St,Nt=ae?lt.selected:!0;Nt?St=ae?[].concat(Bt(_t),[ft]):[ft]:St=_t.filter(function(Dt){return Dt.value!==ft}),ci(St),Ue(ft,Nt),n==="combobox"?Ai(""):(!gV||h)&&(_e(""),Ai(""))}),Ge=function(ft,lt){ci(ft);var St=lt.type,Nt=lt.values;(St==="remove"||St==="clear")&&Nt.forEach(function(Dt){Ue(Dt.value,!1,St)})},pt=function(ft,lt){if(_e(ft),Ai(null),lt.source==="submit"){var St=(ft||"").trim();if(St){var Nt=Array.from(new Set([].concat(Bt(Ye),[St])));ci(Nt),Ue(St,!0),_e("")}return}lt.source!=="blur"&&(n==="combobox"&&ci(ft),c==null||c(ft))},Xt=function(ft){var lt=ft;n!=="tags"&&(lt=ft.map(function(Nt){var Dt=pe.get(Nt);return Dt==null?void 0:Dt.value}).filter(function(Nt){return Nt!==void 0}));var St=Array.from(new Set([].concat(Bt(Ye),Bt(lt))));ci(St),St.forEach(function(Nt){Ue(Nt,!0)})},Ci=ho.useMemo(function(){var ft=O!==!1&&v!==!1;return Re(Re({},le),{},{flattenOptions:ii,onActiveValue:Ke,defaultActiveFirstOption:ot,onSelect:ai,menuItemSelectedIcon:P,rawValues:Ye,fieldNames:ne,virtual:ft,direction:M,listHeight:L,listItemHeight:B,childrenAsData:re,maxCount:j,optionRender:k})},[j,le,ii,Ke,ot,ai,P,Ye,ne,O,v,M,L,B,re,k]);return ho.createElement(CK.Provider,{value:Ci},ho.createElement(fXe,Si({},K,{id:ie,prefixCls:s,ref:e,omitDomProps:lqe,mode:n,displayValues:Ft,onDisplayValuesChange:Ge,direction:M,searchValue:se,onSearch:pt,autoClearSearchValue:h,onSearchSplit:Xt,dropdownMatchSelectWidth:v,OptionList:YXe,emptyOptions:!ii.length,activeValue:xi,activeDescendantId:"".concat(ie,"_list_").concat(di)})))}),kK=cqe;kK.Option=T1e;kK.OptGroup=E1e;var dqe=kK,hqe=dqe,pqe=oe(si());function $x(i,e,t){return(0,pqe.default)({[`${i}-status-success`]:e==="success",[`${i}-status-warning`]:e==="warning",[`${i}-status-error`]:e==="error",[`${i}-status-validating`]:e==="validating",[`${i}-has-feedback`]:t})}var yB=(i,e)=>e||i,NM=oe(ge()),fqe=oe(si()),nv=oe(ge()),dd=oe(ge()),gqe=()=>{let[,i]=Yu(),e=new wo(i.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return dd.createElement("svg",{style:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},dd.createElement("g",{fill:"none",fillRule:"evenodd"},dd.createElement("g",{transform:"translate(24 31.67)"},dd.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),dd.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),dd.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),dd.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),dd.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),dd.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),dd.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},dd.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),dd.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},mqe=gqe,p1=oe(ge()),vqe=oe(ge()),yqe=()=>{let[,i]=Yu(),{colorFill:e,colorFillTertiary:t,colorFillQuaternary:n,colorBgContainer:r}=i,{borderColor:s,shadowColor:a,contentColor:o}=(0,vqe.useMemo)(()=>({borderColor:new wo(e).onBackground(r).toHexShortString(),shadowColor:new wo(t).onBackground(r).toHexShortString(),contentColor:new wo(n).onBackground(r).toHexShortString()}),[e,t,n,r]);return p1.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},p1.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},p1.createElement("ellipse",{fill:a,cx:"32",cy:"33",rx:"32",ry:"7"}),p1.createElement("g",{fillRule:"nonzero",stroke:s},p1.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),p1.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:o}))))},_qe=yqe,bqe=i=>{let{componentCls:e,margin:t,marginXS:n,marginXL:r,fontSize:s,lineHeight:a}=i;return{[e]:{marginInline:n,fontSize:s,lineHeight:a,textAlign:"center",[`${e}-image`]:{height:i.emptyImgHeight,marginBottom:n,opacity:i.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:i.colorText},[`${e}-footer`]:{marginTop:t},"&-normal":{marginBlock:r,color:i.colorTextDescription,[`${e}-description`]:{color:i.colorTextDescription},[`${e}-image`]:{height:i.emptyImgHeightMD}},"&-small":{marginBlock:n,color:i.colorTextDescription,[`${e}-image`]:{height:i.emptyImgHeightSM}}}}},Sqe=qu("Empty",i=>{let{componentCls:e,controlHeightLG:t,calc:n}=i,r=ys(i,{emptyImgCls:`${e}-img`,emptyImgHeight:n(t).mul(2.5).equal(),emptyImgHeightMD:t,emptyImgHeightSM:n(t).mul(.875).equal()});return[bqe(r)]}),xqe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},R1e=nv.createElement(mqe,null),D1e=nv.createElement(_qe,null),EK=i=>{var{className:e,rootClassName:t,prefixCls:n,image:r=R1e,description:s,children:a,imageStyle:o,style:l}=i,u=xqe(i,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);let{getPrefixCls:c,direction:d,empty:h}=nv.useContext(En),p=c("empty",n),[f,g,v]=Sqe(p),[m]=I_e("Empty"),b=typeof s<"u"?s:m==null?void 0:m.description,_=typeof b=="string"?b:"empty",S=null;return typeof r=="string"?S=nv.createElement("img",{alt:_,src:r}):S=r,f(nv.createElement("div",Object.assign({className:(0,fqe.default)(g,v,p,h==null?void 0:h.className,{[`${p}-normal`]:r===D1e,[`${p}-rtl`]:d==="rtl"},e,t),style:Object.assign(Object.assign({},h==null?void 0:h.style),l)},u),nv.createElement("div",{className:`${p}-image`,style:o},S),b&&nv.createElement("div",{className:`${p}-description`},b),a&&nv.createElement("div",{className:`${p}-footer`},a)))};EK.PRESENTED_IMAGE_DEFAULT=R1e;EK.PRESENTED_IMAGE_SIMPLE=D1e;var uk=EK,wqe=i=>{let{componentName:e}=i,{getPrefixCls:t}=(0,NM.useContext)(En),n=t("empty");switch(e){case"Table":case"List":return NM.default.createElement(uk,{image:uk.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return NM.default.createElement(uk,{image:uk.PRESENTED_IMAGE_SIMPLE,className:`${n}-small`});default:return NM.default.createElement(uk,null)}},Cqe=wqe,kqe=oe(ge()),Eqe=["outlined","borderless","filled"],Aqe=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,t=(0,kqe.useContext)(o1e),n;typeof i<"u"?n=i:e===!1?n="borderless":n=t??"outlined";let r=Eqe.includes(n);return[n,r]},_B=Aqe,Tqe=i=>{let e={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:i==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},e),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},e),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},e),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},e),{points:["br","tr"],offset:[0,-4]})}};function Pqe(i,e){return i||Tqe(e)}var Oqe=Pqe,Lre=i=>{let{optionHeight:e,optionFontSize:t,optionLineHeight:n,optionPadding:r}=i;return{position:"relative",display:"block",minHeight:e,padding:r,color:i.colorText,fontWeight:"normal",fontSize:t,lineHeight:n,boxSizing:"border-box"}},Mqe=i=>{let{antCls:e,componentCls:t}=i,n=`${t}-item`,r=`&${e}-slide-up-enter${e}-slide-up-enter-active`,s=`&${e}-slide-up-appear${e}-slide-up-appear-active`,a=`&${e}-slide-up-leave${e}-slide-up-leave-active`,o=`${t}-dropdown-placement-`;return[{[`${t}-dropdown`]:Object.assign(Object.assign({},Qa(i)),{position:"absolute",top:-9999,zIndex:i.zIndexPopup,boxSizing:"border-box",padding:i.paddingXXS,overflow:"hidden",fontSize:i.fontSize,fontVariant:"initial",backgroundColor:i.colorBgElevated,borderRadius:i.borderRadiusLG,outline:"none",boxShadow:i.boxShadowSecondary,[`
          ${r}${o}bottomLeft,
          ${s}${o}bottomLeft
        `]:{animationName:l1e},[`
          ${r}${o}topLeft,
          ${s}${o}topLeft,
          ${r}${o}topRight,
          ${s}${o}topRight
        `]:{animationName:c1e},[`${a}${o}bottomLeft`]:{animationName:u1e},[`
          ${a}${o}topLeft,
          ${a}${o}topRight
        `]:{animationName:d1e},"&-hidden":{display:"none"},[`${n}`]:Object.assign(Object.assign({},Lre(i)),{cursor:"pointer",transition:`background ${i.motionDurationSlow} ease`,borderRadius:i.borderRadiusSM,"&-group":{color:i.colorTextDescription,fontSize:i.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},HH),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${n}-option-disabled)`]:{backgroundColor:i.optionActiveBg},[`&-selected:not(${n}-option-disabled)`]:{color:i.optionSelectedColor,fontWeight:i.optionSelectedFontWeight,backgroundColor:i.optionSelectedBg,[`${n}-option-state`]:{color:i.colorPrimary},[`&:has(+ ${n}-option-selected:not(${n}-option-disabled))`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${n}-option-selected:not(${n}-option-disabled)`]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{[`&${n}-option-selected`]:{backgroundColor:i.colorBgContainerDisabled},color:i.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:i.calc(i.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},Lre(i)),{color:i.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},Qne(i,"slide-up"),Qne(i,"slide-down"),Zne(i,"move-up"),Zne(i,"move-down")]},Iqe=Mqe,nD=2,Rqe=i=>{let{multipleSelectItemHeight:e,paddingXXS:t,lineWidth:n}=i,r=i.max(i.calc(t).sub(n).equal(),0),s=i.max(i.calc(r).sub(nD).equal(),0);return{basePadding:r,containerPadding:s,itemHeight:$t(e),itemLineHeight:$t(i.calc(e).sub(i.calc(i.lineWidth).mul(2)).equal())}},Dqe=i=>{let{multipleSelectItemHeight:e,selectHeight:t,lineWidth:n}=i;return i.calc(t).sub(e).div(2).sub(n).equal()},Lqe=i=>{let{componentCls:e,iconCls:t,borderRadiusSM:n,motionDurationSlow:r,paddingXS:s,multipleItemColorDisabled:a,multipleItemBorderColorDisabled:o,colorIcon:l,colorIconHover:u}=i;return{[`${e}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${e}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:nD,borderRadius:n,cursor:"default",transition:`font-size ${r}, line-height ${r}, height ${r}`,marginInlineEnd:i.calc(nD).mul(2).equal(),paddingInlineStart:s,paddingInlineEnd:i.calc(s).div(2).equal(),[`${e}-disabled&`]:{color:a,borderColor:o,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:i.calc(s).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},aB()),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${t}`]:{verticalAlign:"-0.2em"},"&:hover":{color:u}})}}}},Fqe=(i,e)=>{let{componentCls:t}=i,n=`${t}-selection-overflow`,r=i.multipleSelectItemHeight,s=Dqe(i),a=e?`${t}-${e}`:"",o=Rqe(i);return{[`${t}-multiple${a}`]:Object.assign(Object.assign({},Lqe(i)),{[`${t}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:o.basePadding,paddingBlock:o.containerPadding,borderRadius:i.borderRadius,[`${t}-disabled&`]:{background:i.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${$t(nD)} 0`,lineHeight:$t(r),visibility:"hidden",content:'"\\a0"'}},[`${t}-selection-item`]:{height:o.itemHeight,lineHeight:$t(o.itemLineHeight)},[`${n}-item + ${n}-item`]:{[`${t}-selection-search`]:{marginInlineStart:0}},[`${n}-item-suffix`]:{height:"100%"},[`${t}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:i.calc(i.inputPaddingHorizontalBase).sub(s).equal(),"\n          &-input,\n          &-mirror\n        ":{height:r,fontFamily:i.fontFamily,lineHeight:$t(r),transition:`all ${i.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${t}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:i.inputPaddingHorizontalBase,insetInlineEnd:i.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${i.motionDurationSlow}`}})}};function zj(i,e){let{componentCls:t}=i,n=e?`${t}-${e}`:"",r={[`${t}-multiple${n}`]:{fontSize:i.fontSize,[`${t}-selector`]:{[`${t}-show-search&`]:{cursor:"text"}},[`
        &${t}-show-arrow ${t}-selector,
        &${t}-allow-clear ${t}-selector
      `]:{paddingInlineEnd:i.calc(i.fontSizeIcon).add(i.controlPaddingHorizontal).equal()}}};return[Fqe(i,e),r]}var Bqe=i=>{let{componentCls:e}=i,t=ys(i,{selectHeight:i.controlHeightSM,multipleSelectItemHeight:i.multipleItemHeightSM,borderRadius:i.borderRadiusSM,borderRadiusSM:i.borderRadiusXS}),n=ys(i,{fontSize:i.fontSizeLG,selectHeight:i.controlHeightLG,multipleSelectItemHeight:i.multipleItemHeightLG,borderRadius:i.borderRadiusLG,borderRadiusSM:i.borderRadius});return[zj(i),zj(t,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:i.calc(i.controlPaddingHorizontalSM).sub(i.lineWidth).equal()},[`${e}-selection-search`]:{marginInlineStart:2}}},zj(n,"lg")]},$qe=Bqe;function Hj(i,e){let{componentCls:t,inputPaddingHorizontalBase:n,borderRadius:r}=i,s=i.calc(i.controlHeight).sub(i.calc(i.lineWidth).mul(2)).equal(),a=e?`${t}-${e}`:"";return{[`${t}-single${a}`]:{fontSize:i.fontSize,height:i.controlHeight,[`${t}-selector`]:Object.assign(Object.assign({},Qa(i,!0)),{display:"flex",borderRadius:r,[`${t}-selection-search`]:{position:"absolute",top:0,insetInlineStart:n,insetInlineEnd:n,bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${t}-selection-item,
          ${t}-selection-placeholder
        `]:{padding:0,lineHeight:$t(s),transition:`all ${i.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${t}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${t}-selection-item:empty:after`,`${t}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${t}-show-arrow ${t}-selection-item,
        &${t}-show-arrow ${t}-selection-placeholder
      `]:{paddingInlineEnd:i.showArrowPaddingInlineEnd},[`&${t}-open ${t}-selection-item`]:{color:i.colorTextPlaceholder},[`&:not(${t}-customize-input)`]:{[`${t}-selector`]:{width:"100%",height:"100%",padding:`0 ${$t(n)}`,[`${t}-selection-search-input`]:{height:s},"&:after":{lineHeight:$t(s)}}},[`&${t}-customize-input`]:{[`${t}-selector`]:{"&:after":{display:"none"},[`${t}-selection-search`]:{position:"static",width:"100%"},[`${t}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${$t(n)}`,"&:after":{display:"none"}}}}}}}function Nqe(i){let{componentCls:e}=i,t=i.calc(i.controlPaddingHorizontalSM).sub(i.lineWidth).equal();return[Hj(i),Hj(ys(i,{controlHeight:i.controlHeightSM,borderRadius:i.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selection-search`]:{insetInlineStart:t,insetInlineEnd:t},[`${e}-selector`]:{padding:`0 ${$t(t)}`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:i.calc(t).add(i.calc(i.fontSize).mul(1.5)).equal()},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:i.calc(i.fontSize).mul(1.5).equal()}}}},Hj(ys(i,{controlHeight:i.singleItemHeightLG,fontSize:i.fontSizeLG,borderRadius:i.borderRadiusLG}),"lg")]}var jqe=i=>{let{fontSize:e,lineHeight:t,controlHeight:n,controlHeightSM:r,controlHeightLG:s,paddingXXS:a,controlPaddingHorizontal:o,zIndexPopupBase:l,colorText:u,fontWeightStrong:c,controlItemBgActive:d,controlItemBgHover:h,colorBgContainer:p,colorFillSecondary:f,colorBgContainerDisabled:g,colorTextDisabled:v}=i,m=n-a*2,b=r-a*2,_=s-a*2;return{zIndexPopup:l+50,optionSelectedColor:u,optionSelectedFontWeight:c,optionSelectedBg:d,optionActiveBg:h,optionPadding:`${(n-e*t)/2}px ${o}px`,optionFontSize:e,optionLineHeight:t,optionHeight:n,selectorBg:p,clearBg:p,singleItemHeightLG:s,multipleItemBg:f,multipleItemBorderColor:"transparent",multipleItemHeight:m,multipleItemHeightSM:b,multipleItemHeightLG:_,multipleSelectorBgDisabled:g,multipleItemColorDisabled:v,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(i.fontSize*1.25)}},L1e=(i,e)=>{let{componentCls:t,antCls:n,controlOutlineWidth:r}=i;return{[`&:not(${t}-customize-input) ${t}-selector`]:{border:`${$t(i.lineWidth)} ${i.lineType} ${e.borderColor}`,background:i.selectorBg},[`&:not(${t}-disabled):not(${t}-customize-input):not(${n}-pagination-size-changer)`]:{[`&:hover ${t}-selector`]:{borderColor:e.hoverBorderHover},[`${t}-focused& ${t}-selector`]:{borderColor:e.activeBorderColor,boxShadow:`0 0 0 ${$t(r)} ${e.activeShadowColor}`,outline:0}}}},Fre=(i,e)=>({[`&${i.componentCls}-status-${e.status}`]:Object.assign({},L1e(i,e))}),zqe=i=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},L1e(i,{borderColor:i.colorBorder,hoverBorderHover:i.colorPrimaryHover,activeBorderColor:i.colorPrimary,activeShadowColor:i.controlOutline})),Fre(i,{status:"error",borderColor:i.colorError,hoverBorderHover:i.colorErrorHover,activeBorderColor:i.colorError,activeShadowColor:i.colorErrorOutline})),Fre(i,{status:"warning",borderColor:i.colorWarning,hoverBorderHover:i.colorWarningHover,activeBorderColor:i.colorWarning,activeShadowColor:i.colorWarningOutline})),{[`&${i.componentCls}-disabled`]:{[`&:not(${i.componentCls}-customize-input) ${i.componentCls}-selector`]:{background:i.colorBgContainerDisabled,color:i.colorTextDisabled}},[`&${i.componentCls}-multiple ${i.componentCls}-selection-item`]:{background:i.multipleItemBg,border:`${$t(i.lineWidth)} ${i.lineType} ${i.multipleItemBorderColor}`}})}),F1e=(i,e)=>{let{componentCls:t,antCls:n}=i;return{[`&:not(${t}-customize-input) ${t}-selector`]:{background:e.bg,border:`${$t(i.lineWidth)} ${i.lineType} transparent`,color:e.color},[`&:not(${t}-disabled):not(${t}-customize-input):not(${n}-pagination-size-changer)`]:{[`&:hover ${t}-selector`]:{background:e.hoverBg},[`${t}-focused& ${t}-selector`]:{background:i.selectorBg,borderColor:e.activeBorderColor,outline:0}}}},Bre=(i,e)=>({[`&${i.componentCls}-status-${e.status}`]:Object.assign({},F1e(i,e))}),Hqe=i=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},F1e(i,{bg:i.colorFillTertiary,hoverBg:i.colorFillSecondary,activeBorderColor:i.colorPrimary,color:i.colorText})),Bre(i,{status:"error",bg:i.colorErrorBg,hoverBg:i.colorErrorBgHover,activeBorderColor:i.colorError,color:i.colorError})),Bre(i,{status:"warning",bg:i.colorWarningBg,hoverBg:i.colorWarningBgHover,activeBorderColor:i.colorWarning,color:i.colorWarning})),{[`&${i.componentCls}-disabled`]:{[`&:not(${i.componentCls}-customize-input) ${i.componentCls}-selector`]:{borderColor:i.colorBorder,background:i.colorBgContainerDisabled,color:i.colorTextDisabled}},[`&${i.componentCls}-multiple ${i.componentCls}-selection-item`]:{background:i.colorBgContainer,border:`${$t(i.lineWidth)} ${i.lineType} ${i.colorSplit}`}})}),Vqe=i=>({"&-borderless":{[`${i.componentCls}-selector`]:{background:"transparent",borderColor:"transparent"},[`&${i.componentCls}-disabled`]:{[`&:not(${i.componentCls}-customize-input) ${i.componentCls}-selector`]:{color:i.colorTextDisabled}},[`&${i.componentCls}-multiple ${i.componentCls}-selection-item`]:{background:i.multipleItemBg,border:`${$t(i.lineWidth)} ${i.lineType} ${i.multipleItemBorderColor}`}}}),Wqe=i=>({[i.componentCls]:Object.assign(Object.assign(Object.assign({},zqe(i)),Hqe(i)),Vqe(i))}),Uqe=Wqe,Gqe=i=>{let{componentCls:e}=i;return{position:"relative",transition:`all ${i.motionDurationMid} ${i.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},Yqe=i=>{let{componentCls:e}=i;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},Kqe=i=>{let{antCls:e,componentCls:t,inputPaddingHorizontalBase:n,iconCls:r}=i;return{[t]:Object.assign(Object.assign({},Qa(i)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${t}-customize-input) ${t}-selector`]:Object.assign(Object.assign({},Gqe(i)),Yqe(i)),[`${t}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},HH),{[`> ${e}-typography`]:{display:"inline"}}),[`${t}-selection-placeholder`]:Object.assign(Object.assign({},HH),{flex:1,color:i.colorTextPlaceholder,pointerEvents:"none"}),[`${t}-arrow`]:Object.assign(Object.assign({},aB()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:n,height:i.fontSizeIcon,marginTop:i.calc(i.fontSizeIcon).mul(-1).div(2).equal(),color:i.colorTextQuaternary,fontSize:i.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${i.motionDurationSlow} ease`,[r]:{verticalAlign:"top",transition:`transform ${i.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${t}-suffix)`]:{pointerEvents:"auto"}},[`${t}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${t}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:n,zIndex:1,display:"inline-block",width:i.fontSizeIcon,height:i.fontSizeIcon,marginTop:i.calc(i.fontSizeIcon).mul(-1).div(2).equal(),color:i.colorTextQuaternary,fontSize:i.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${i.motionDurationMid} ease, opacity ${i.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:i.colorTextTertiary}},"&:hover":{[`${t}-clear`]:{opacity:1},[`${t}-arrow:not(:last-child)`]:{opacity:0}}}),[`${t}-has-feedback`]:{[`${t}-clear`]:{insetInlineEnd:i.calc(n).add(i.fontSize).add(i.paddingXS).equal()}}}},Xqe=i=>{let{componentCls:e}=i;return[{[e]:{[`&${e}-in-form-item`]:{width:"100%"}}},Kqe(i),Nqe(i),$qe(i),Iqe(i),{[`${e}-rtl`]:{direction:"rtl"}},mB(i,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},qqe=qu("Select",(i,e)=>{let{rootPrefixCls:t}=e,n=ys(i,{rootPrefixCls:t,inputPaddingHorizontalBase:i.calc(i.paddingSM).sub(1).equal(),multipleSelectItemHeight:i.multipleItemHeight,selectHeight:i.controlHeight});return[Xqe(n),Uqe(n)]},jqe,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}}),Nm=oe(ge()),B1e=oe(ge()),Zqe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},Qqe=Zqe,Jqe=function(i,e){return B1e.createElement(Xc,Si({},i,{ref:e,icon:Qqe}))},eZe=B1e.forwardRef(Jqe),tZe=eZe,$1e=oe(ge()),iZe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},nZe=iZe,rZe=function(i,e){return $1e.createElement(Xc,Si({},i,{ref:e,icon:nZe}))},sZe=$1e.forwardRef(rZe),N1e=sZe,j1e=oe(ge()),aZe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},oZe=aZe,lZe=function(i,e){return j1e.createElement(Xc,Si({},i,{ref:e,icon:oZe}))},uZe=j1e.forwardRef(lZe),z1e=uZe;function cZe(i){let{suffixIcon:e,clearIcon:t,menuItemSelectedIcon:n,removeIcon:r,loading:s,multiple:a,hasFeedback:o,prefixCls:l,showSuffixIcon:u,feedbackIcon:c,showArrow:d,componentName:h}=i,p=t??Nm.createElement(dB,null),f=b=>e===null&&!o&&!d?null:Nm.createElement(Nm.Fragment,null,u!==!1&&b,o&&c),g=null;if(e!==void 0)g=f(e);else if(s)g=f(Nm.createElement(hB,{spin:!0}));else{let b=`${l}-suffix`;g=_=>{let{open:S,showSearch:C}=_;return f(S&&C?Nm.createElement(z1e,{className:b}):Nm.createElement(N1e,{className:b}))}}let v=null;n!==void 0?v=n:a?v=Nm.createElement(tZe,null):v=null;let m=null;return r!==void 0?m=r:m=Nm.createElement(xbe,null),{clearIcon:p,suffixIcon:g,itemIcon:v,removeIcon:m}}function dZe(i,e){return e!==void 0?e:i!==null}var hZe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},H1e="SECRET_COMBOBOX_MODE_DO_NOT_USE",pZe=(i,e)=>{var t;let{prefixCls:n,bordered:r,className:s,rootClassName:a,getPopupContainer:o,popupClassName:l,dropdownClassName:u,listHeight:c=256,placement:d,listItemHeight:h,size:p,disabled:f,notFoundContent:g,status:v,builtinPlacements:m,dropdownMatchSelectWidth:b,popupMatchSelectWidth:_,direction:S,style:C,allowClear:k,variant:E,dropdownStyle:A,transitionName:P,tagRender:O,maxCount:M}=i,D=hZe(i,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:L,getPrefixCls:H,renderEmpty:B,direction:F,virtual:z,popupMatchSelectWidth:N,popupOverflow:U,select:G}=Zm.useContext(En),[,j]=Yu(),K=h??(j==null?void 0:j.controlHeight),ie=H("select",n),ae=H(),re=S??F,{compactSize:J,compactItemClassnames:ne}=V2(ie,re),[te,Q]=_B(E,r),se=qc(ie),[_e,le,ve]=qqe(ie,se),pe=Zm.useMemo(()=>{let{mode:xi}=i;if(xi!=="combobox")return xi===H1e?"combobox":xi},[i.mode]),Fe=pe==="multiple"||pe==="tags",Ee=dZe(i.suffixIcon,i.showArrow),it=(t=_??b)!==null&&t!==void 0?t:N,{status:Qe,hasFeedback:Ae,isFormItemInput:je,feedbackIcon:We}=Zm.useContext(Ku),ut=yB(Qe,v),vt;g!==void 0?vt=g:pe==="combobox"?vt=null:vt=(B==null?void 0:B("Select"))||Zm.createElement(Cqe,{componentName:"Select"});let{suffixIcon:_t,itemIcon:zt,removeIcon:Ft,clearIcon:Ye}=cZe(Object.assign(Object.assign({},D),{multiple:Fe,hasFeedback:Ae,feedbackIcon:We,showSuffixIcon:Ee,prefixCls:ie,componentName:"Select"})),Je=k===!0?{clearIcon:Ye}:k,rt=um(D,["suffixIcon","itemIcon"]),dt=(0,tre.default)(l||u,{[`${ie}-dropdown-${re}`]:re==="rtl"},a,ve,se,le),at=dm(xi=>{var Ai;return(Ai=p??J)!==null&&Ai!==void 0?Ai:xi}),Gt=Zm.useContext(cm),ii=f??Gt,ci=(0,tre.default)({[`${ie}-lg`]:at==="large",[`${ie}-sm`]:at==="small",[`${ie}-rtl`]:re==="rtl",[`${ie}-${te}`]:Q,[`${ie}-in-form-item`]:je},$x(ie,ut,Ae),ne,G==null?void 0:G.className,s,a,ve,se,le),qt=Zm.useMemo(()=>d!==void 0?d:re==="rtl"?"bottomRight":"bottomLeft",[d,re]),[Zt]=Lbe("SelectLike",A==null?void 0:A.zIndex);return _e(Zm.createElement(hqe,Object.assign({ref:e,virtual:z,showSearch:G==null?void 0:G.showSearch},rt,{style:Object.assign(Object.assign({},G==null?void 0:G.style),C),dropdownMatchSelectWidth:it,transitionName:jbe(ae,"slide-up",P),builtinPlacements:Oqe(m,U),listHeight:c,listItemHeight:K,mode:pe,prefixCls:ie,placement:qt,direction:re,suffixIcon:_t,menuItemSelectedIcon:zt,removeIcon:Ft,allowClear:Je,notFoundContent:vt,className:ci,getPopupContainer:o||L,dropdownClassName:dt,disabled:ii,dropdownStyle:Object.assign(Object.assign({},A),{zIndex:Zt}),maxCount:Fe?M:void 0,tagRender:Fe?O:void 0})))},Fw=Zm.forwardRef(pZe),fZe=HYe(Fw);Fw.SECRET_COMBOBOX_MODE_DO_NOT_USE=H1e;Fw.Option=T1e;Fw.OptGroup=E1e;Fw._InternalPanelDoNotUseOrYouWillBeFired=fZe;var jM=Fw,gZe=oe(ge()),dT=["xxl","xl","lg","md","sm","xs"],mZe=i=>({xs:`(max-width: ${i.screenXSMax}px)`,sm:`(min-width: ${i.screenSM}px)`,md:`(min-width: ${i.screenMD}px)`,lg:`(min-width: ${i.screenLG}px)`,xl:`(min-width: ${i.screenXL}px)`,xxl:`(min-width: ${i.screenXXL}px)`}),vZe=i=>{let e=i,t=[].concat(dT).reverse();return t.forEach((n,r)=>{let s=n.toUpperCase(),a=`screen${s}Min`,o=`screen${s}`;if(!(e[a]<=e[o]))throw new Error(`${a}<=${o} fails : !(${e[a]}<=${e[o]})`);if(r<t.length-1){let l=`screen${s}Max`;if(!(e[o]<=e[l]))throw new Error(`${o}<=${l} fails : !(${e[o]}<=${e[l]})`);let u=`screen${t[r+1].toUpperCase()}Min`;if(!(e[l]<=e[u]))throw new Error(`${l}<=${u} fails : !(${e[l]}<=${e[u]})`)}}),i};function yZe(){let[,i]=Yu(),e=mZe(vZe(i));return gZe.default.useMemo(()=>{let t=new Map,n=-1,r={};return{matchHandlers:{},dispatch(s){return r=s,t.forEach(a=>a(r)),t.size>=1},subscribe(s){return t.size||this.register(),n+=1,t.set(n,s),s(r),n},unsubscribe(s){t.delete(s),t.size||this.unregister()},unregister(){Object.keys(e).forEach(s=>{let a=e[s],o=this.matchHandlers[a];o==null||o.mql.removeListener(o==null?void 0:o.listener)}),t.clear()},register(){Object.keys(e).forEach(s=>{let a=e[s],o=u=>{let{matches:c}=u;this.dispatch(Object.assign(Object.assign({},r),{[s]:c}))},l=window.matchMedia(a);l.addListener(o),this.matchHandlers[a]={mql:l,listener:o},o(l)})},responsiveMap:e}},[i])}var hd=oe(ge()),$re=oe(si()),_Ze=oe(si()),Nre=oe(ge());function V1e(i){var e=i.children,t=i.prefixCls,n=i.id,r=i.overlayInnerStyle,s=i.className,a=i.style;return Nre.createElement("div",{className:(0,_Ze.default)("".concat(t,"-content"),s),style:a},Nre.createElement("div",{className:"".concat(t,"-inner"),id:n,role:"tooltip",style:r},typeof e=="function"?e():e))}var jre=oe(ge()),mV=oe(ge()),f1={shiftX:64,adjustY:1},g1={adjustX:1,shiftY:!0},pd=[0,0],bZe={left:{points:["cr","cl"],overflow:g1,offset:[-4,0],targetOffset:pd},right:{points:["cl","cr"],overflow:g1,offset:[4,0],targetOffset:pd},top:{points:["bc","tc"],overflow:f1,offset:[0,-4],targetOffset:pd},bottom:{points:["tc","bc"],overflow:f1,offset:[0,4],targetOffset:pd},topLeft:{points:["bl","tl"],overflow:f1,offset:[0,-4],targetOffset:pd},leftTop:{points:["tr","tl"],overflow:g1,offset:[-4,0],targetOffset:pd},topRight:{points:["br","tr"],overflow:f1,offset:[0,-4],targetOffset:pd},rightTop:{points:["tl","tr"],overflow:g1,offset:[4,0],targetOffset:pd},bottomRight:{points:["tr","br"],overflow:f1,offset:[0,4],targetOffset:pd},rightBottom:{points:["bl","br"],overflow:g1,offset:[4,0],targetOffset:pd},bottomLeft:{points:["tl","bl"],overflow:f1,offset:[0,4],targetOffset:pd},leftBottom:{points:["br","bl"],overflow:g1,offset:[-4,0],targetOffset:pd}},SZe=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],xZe=function(i,e){var t=i.overlayClassName,n=i.trigger,r=n===void 0?["hover"]:n,s=i.mouseEnterDelay,a=s===void 0?0:s,o=i.mouseLeaveDelay,l=o===void 0?.1:o,u=i.overlayStyle,c=i.prefixCls,d=c===void 0?"rc-tooltip":c,h=i.children,p=i.onVisibleChange,f=i.afterVisibleChange,g=i.transitionName,v=i.animation,m=i.motion,b=i.placement,_=b===void 0?"right":b,S=i.align,C=S===void 0?{}:S,k=i.destroyTooltipOnHide,E=k===void 0?!1:k,A=i.defaultVisible,P=i.getTooltipContainer,O=i.overlayInnerStyle;i.arrowContent;var M=i.overlay,D=i.id,L=i.showArrow,H=L===void 0?!0:L,B=gr(i,SZe),F=(0,mV.useRef)(null);(0,mV.useImperativeHandle)(e,function(){return F.current});var z=Re({},B);"visible"in i&&(z.popupVisible=i.visible);var N=function(){return jre.createElement(V1e,{key:"content",prefixCls:d,id:D,overlayInnerStyle:O},M)};return jre.createElement(w1e,Si({popupClassName:t,prefixCls:d,popup:N,action:r,builtinPlacements:bZe,popupPlacement:_,ref:F,popupAlign:C,getPopupContainer:P,onPopupVisibleChange:p,afterPopupVisibleChange:f,popupTransitionName:g,popupAnimation:v,popupMotion:m,defaultPopupVisible:A,autoDestroy:E,mouseLeaveDelay:l,popupStyle:u,mouseEnterDelay:a,arrow:H},z),h)},wZe=(0,mV.forwardRef)(xZe),CZe=wZe;function kZe(i){let{sizePopupArrow:e,borderRadiusXS:t,borderRadiusOuter:n}=i,r=e/2,s=0,a=r,o=n*1/Math.sqrt(2),l=r-n*(1-1/Math.sqrt(2)),u=r-t*(1/Math.sqrt(2)),c=n*(Math.sqrt(2)-1)+t*(1/Math.sqrt(2)),d=2*r-u,h=c,p=2*r-o,f=l,g=2*r-s,v=a,m=r*Math.sqrt(2)+n*(Math.sqrt(2)-2),b=n*(Math.sqrt(2)-1),_=`polygon(${b}px 100%, 50% ${b}px, ${2*r-b}px 100%, ${b}px 100%)`,S=`path('M ${s} ${a} A ${n} ${n} 0 0 0 ${o} ${l} L ${u} ${c} A ${t} ${t} 0 0 1 ${d} ${h} L ${p} ${f} A ${n} ${n} 0 0 0 ${g} ${v} Z')`;return{arrowShadowWidth:m,arrowPath:S,arrowPolygon:_}}var EZe=(i,e,t)=>{let{sizePopupArrow:n,arrowPolygon:r,arrowPath:s,arrowShadowWidth:a,borderRadiusXS:o,calc:l}=i;return{pointerEvents:"none",width:n,height:n,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:n,height:l(n).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[r,s]},content:'""'},"&::after":{content:'""',position:"absolute",width:a,height:a,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${$t(o)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:t,zIndex:0,background:"transparent"}}},W1e=8;function U1e(i){let{contentRadius:e,limitVerticalRadius:t}=i,n=e>12?e+2:12;return{arrowOffsetHorizontal:n,arrowOffsetVertical:t?W1e:n}}function zM(i,e){return i?e:{}}function AZe(i,e,t){let{componentCls:n,boxShadowPopoverArrow:r,arrowOffsetVertical:s,arrowOffsetHorizontal:a}=i,{arrowDistance:o=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}={};return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({[`${n}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},EZe(i,e,r)),{"&:before":{background:e}})]},zM(!!l.top,{[[`&-placement-top > ${n}-arrow`,`&-placement-topLeft > ${n}-arrow`,`&-placement-topRight > ${n}-arrow`].join(",")]:{bottom:o,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${n}-arrow`]:{left:{_skip_check_:!0,value:a}},[`&-placement-topRight > ${n}-arrow`]:{right:{_skip_check_:!0,value:a}}})),zM(!!l.bottom,{[[`&-placement-bottom > ${n}-arrow`,`&-placement-bottomLeft > ${n}-arrow`,`&-placement-bottomRight > ${n}-arrow`].join(",")]:{top:o,transform:"translateY(-100%)"},[`&-placement-bottom > ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft > ${n}-arrow`]:{left:{_skip_check_:!0,value:a}},[`&-placement-bottomRight > ${n}-arrow`]:{right:{_skip_check_:!0,value:a}}})),zM(!!l.left,{[[`&-placement-left > ${n}-arrow`,`&-placement-leftTop > ${n}-arrow`,`&-placement-leftBottom > ${n}-arrow`].join(",")]:{right:{_skip_check_:!0,value:o},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${n}-arrow`]:{top:s},[`&-placement-leftBottom > ${n}-arrow`]:{bottom:s}})),zM(!!l.right,{[[`&-placement-right > ${n}-arrow`,`&-placement-rightTop > ${n}-arrow`,`&-placement-rightBottom > ${n}-arrow`].join(",")]:{left:{_skip_check_:!0,value:o},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${n}-arrow`]:{top:s},[`&-placement-rightBottom > ${n}-arrow`]:{bottom:s}}))}}function TZe(i,e,t,n){if(n===!1)return{adjustX:!1,adjustY:!1};let r=n&&typeof n=="object"?n:{},s={};switch(i){case"top":case"bottom":s.shiftX=e.arrowOffsetHorizontal*2+t,s.shiftY=!0,s.adjustY=!0;break;case"left":case"right":s.shiftY=e.arrowOffsetVertical*2+t,s.shiftX=!0,s.adjustX=!0;break}let a=Object.assign(Object.assign({},s),r);return a.shiftX||(a.adjustX=!0),a.shiftY||(a.adjustY=!0),a}var zre={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},PZe={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},OZe=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function MZe(i){let{arrowWidth:e,autoAdjustOverflow:t,arrowPointAtCenter:n,offset:r,borderRadius:s,visibleFirst:a}=i,o=e/2,l={};return Object.keys(zre).forEach(u=>{let c=n&&PZe[u]||zre[u],d=Object.assign(Object.assign({},c),{offset:[0,0],dynamicInset:!0});switch(l[u]=d,OZe.has(u)&&(d.autoArrow=!1),u){case"top":case"topLeft":case"topRight":d.offset[1]=-o-r;break;case"bottom":case"bottomLeft":case"bottomRight":d.offset[1]=o+r;break;case"left":case"leftTop":case"leftBottom":d.offset[0]=-o-r;break;case"right":case"rightTop":case"rightBottom":d.offset[0]=o+r;break}let h=U1e({contentRadius:s,limitVerticalRadius:!0});if(n)switch(u){case"topLeft":case"bottomLeft":d.offset[0]=-h.arrowOffsetHorizontal-o;break;case"topRight":case"bottomRight":d.offset[0]=h.arrowOffsetHorizontal+o;break;case"leftTop":case"rightTop":d.offset[1]=-h.arrowOffsetHorizontal-o;break;case"leftBottom":case"rightBottom":d.offset[1]=h.arrowOffsetHorizontal+o;break}d.overflow=TZe(u,h,e,t),a&&(d.htmlRegion="visibleFirst")}),l}var IZe=oe(si()),HM=oe(ge()),RZe=i=>{let{componentCls:e,tooltipMaxWidth:t,tooltipColor:n,tooltipBg:r,tooltipBorderRadius:s,zIndexPopup:a,controlHeight:o,boxShadowSecondary:l,paddingSM:u,paddingXS:c}=i;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Qa(i)),{position:"absolute",zIndex:a,display:"block",width:"max-content",maxWidth:t,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":r,[`${e}-inner`]:{minWidth:o,minHeight:o,padding:`${$t(i.calc(u).div(2).equal())} ${$t(c)}`,color:n,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:r,borderRadius:s,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:i.min(s,W1e)}},[`${e}-content`]:{position:"relative"}}),hVe(i,(d,h)=>{let{darkColor:p}=h;return{[`&${e}-${d}`]:{[`${e}-inner`]:{backgroundColor:p},[`${e}-arrow`]:{"--antd-arrow-background-color":p}}}})),{"&-rtl":{direction:"rtl"}})},AZe(i,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:i.sizePopupArrow}}]},DZe=i=>Object.assign(Object.assign({zIndexPopup:i.zIndexPopupBase+70},U1e({contentRadius:i.borderRadius,limitVerticalRadius:!0})),kZe(ys(i,{borderRadiusOuter:Math.min(i.borderRadiusOuter,4)}))),G1e=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return qu("Tooltip",t=>{let{borderRadius:n,colorTextLightSolid:r,colorBgSpotlight:s}=t,a=ys(t,{tooltipMaxWidth:250,tooltipColor:r,tooltipBorderRadius:n,tooltipBg:s});return[RZe(a),LYe(t,"zoom-big-fast")]},DZe,{resetStyle:!1,injectStyle:e})(i)},LZe=oe(si()),FZe=KR.map(i=>`${i}-inverse`);function BZe(i){return!(arguments.length>1&&arguments[1]!==void 0)||arguments[1]?[].concat(Bt(FZe),Bt(KR)).includes(i):KR.includes(i)}function Y1e(i,e){let t=BZe(e),n=(0,LZe.default)({[`${i}-${e}`]:e&&t}),r={},s={};return e&&!t&&(r.background=e,s["--antd-arrow-background-color"]=e),{className:n,overlayStyle:r,arrowStyle:s}}var $Ze=i=>{let{prefixCls:e,className:t,placement:n="top",title:r,color:s,overlayInnerStyle:a}=i,{getPrefixCls:o}=HM.useContext(En),l=o("tooltip",e),[u,c,d]=G1e(l),h=Y1e(l,s),p=h.arrowStyle,f=Object.assign(Object.assign({},a),h.overlayStyle),g=(0,IZe.default)(c,d,l,`${l}-pure`,`${l}-placement-${n}`,t,h.className);return u(HM.createElement("div",{className:g,style:p},HM.createElement("div",{className:`${l}-arrow`}),HM.createElement(V1e,Object.assign({},i,{className:c,prefixCls:l,overlayInnerStyle:f}),r)))},NZe=$Ze,jZe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},K1e=hd.forwardRef((i,e)=>{var t,n;let{prefixCls:r,openClassName:s,getTooltipContainer:a,overlayClassName:o,color:l,overlayInnerStyle:u,children:c,afterOpenChange:d,afterVisibleChange:h,destroyTooltipOnHide:p,arrow:f=!0,title:g,overlay:v,builtinPlacements:m,arrowPointAtCenter:b=!1,autoAdjustOverflow:_=!0}=i,S=!!f,[,C]=Yu(),{getPopupContainer:k,getPrefixCls:E,direction:A}=hd.useContext(En),P=sB(),O=hd.useRef(null),M=()=>{var vt;(vt=O.current)===null||vt===void 0||vt.forceAlign()};hd.useImperativeHandle(e,()=>({forceAlign:M,forcePopupAlign:()=>{P.deprecated(!1,"forcePopupAlign","forceAlign"),M()}}));let[D,L]=xf(!1,{value:(t=i.open)!==null&&t!==void 0?t:i.visible,defaultValue:(n=i.defaultOpen)!==null&&n!==void 0?n:i.defaultVisible}),H=!g&&!v&&g!==0,B=vt=>{var _t,zt;L(H?!1:vt),H||((_t=i.onOpenChange)===null||_t===void 0||_t.call(i,vt),(zt=i.onVisibleChange)===null||zt===void 0||zt.call(i,vt))},F=hd.useMemo(()=>{var vt,_t;let zt=b;return typeof f=="object"&&(zt=(_t=(vt=f.pointAtCenter)!==null&&vt!==void 0?vt:f.arrowPointAtCenter)!==null&&_t!==void 0?_t:b),m||MZe({arrowPointAtCenter:zt,autoAdjustOverflow:_,arrowWidth:S?C.sizePopupArrow:0,borderRadius:C.borderRadius,offset:C.marginXXS,visibleFirst:!0})},[b,f,m,C]),z=hd.useMemo(()=>g===0?g:v||g||"",[v,g]),N=hd.createElement(aT,null,typeof z=="function"?z():z),{getPopupContainer:U,placement:G="top",mouseEnterDelay:j=.1,mouseLeaveDelay:K=.1,overlayStyle:ie,rootClassName:ae}=i,re=jZe(i,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),J=E("tooltip",r),ne=E(),te=i["data-popover-inject"],Q=D;!("open"in i)&&!("visible"in i)&&H&&(Q=!1);let se=hd.isValidElement(c)&&!Ebe(c)?c:hd.createElement("span",null,c),_e=se.props,le=!_e.className||typeof _e.className=="string"?(0,$re.default)(_e.className,s||`${J}-open`):_e.className,[ve,pe,Fe]=G1e(J,!te),Ee=Y1e(J,l),it=Ee.arrowStyle,Qe=Object.assign(Object.assign({},u),Ee.overlayStyle),Ae=(0,$re.default)(o,{[`${J}-rtl`]:A==="rtl"},Ee.className,ae,pe,Fe),[je,We]=Lbe("Tooltip",re.zIndex),ut=hd.createElement(CZe,Object.assign({},re,{zIndex:je,showArrow:S,placement:G,mouseEnterDelay:j,mouseLeaveDelay:K,prefixCls:J,overlayClassName:Ae,overlayStyle:Object.assign(Object.assign({},it),ie),getTooltipContainer:U||a||k,ref:O,builtinPlacements:F,overlay:N,visible:Q,onVisibleChange:B,afterVisibleChange:d??h,overlayInnerStyle:Qe,arrowContent:hd.createElement("span",{className:`${J}-arrow-content`}),motion:{motionName:jbe(ne,"zoom-big-fast",i.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!p}),Q?p0(se,{className:le}):se);return ve(hd.createElement(Ibe.Provider,{value:We},ut))});K1e._InternalPanelDoNotUseOrYouWillBeFired=NZe;var zZe=K1e,ky=oe(ge()),HZe=oe(si()),X1e=oe(ge()),q1e=X1e.createContext(null),VZe=q1e.Provider,WZe=q1e,Z1e=X1e.createContext(null),UZe=Z1e.Provider,Ph=oe(ge()),Hre=oe(si()),GZe=oe(si()),Vj=oe(ge()),Wj=oe(ge()),YZe=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],KZe=(0,Wj.forwardRef)(function(i,e){var t=i.prefixCls,n=t===void 0?"rc-checkbox":t,r=i.className,s=i.style,a=i.checked,o=i.disabled,l=i.defaultChecked,u=l===void 0?!1:l,c=i.type,d=c===void 0?"checkbox":c,h=i.title,p=i.onChange,f=gr(i,YZe),g=(0,Wj.useRef)(null),v=xf(u,{value:a}),m=ze(v,2),b=m[0],_=m[1];(0,Wj.useImperativeHandle)(e,function(){return{focus:function(k){var E;(E=g.current)===null||E===void 0||E.focus(k)},blur:function(){var k;(k=g.current)===null||k===void 0||k.blur()},input:g.current}});var S=(0,GZe.default)(n,r,be(be({},"".concat(n,"-checked"),b),"".concat(n,"-disabled"),o)),C=function(k){o||("checked"in i||_(k.target.checked),p==null||p({target:Re(Re({},i),{},{type:d,checked:k.target.checked}),stopPropagation:function(){k.stopPropagation()},preventDefault:function(){k.preventDefault()},nativeEvent:k.nativeEvent}))};return Vj.createElement("span",{className:S,title:h,style:s},Vj.createElement("input",Si({},f,{className:"".concat(n,"-input"),ref:g,onChange:C,disabled:o,checked:!!b,type:d})),Vj.createElement("span",{className:"".concat(n,"-inner")}))}),Q1e=KZe,XZe=i=>{let{componentCls:e,antCls:t}=i,n=`${e}-group`;return{[n]:Object.assign(Object.assign({},Qa(i)),{display:"inline-block",fontSize:0,[`&${n}-rtl`]:{direction:"rtl"},[`${t}-badge ${t}-badge-count`]:{zIndex:1},[`> ${t}-badge:not(:first-child) > ${t}-button-wrapper`]:{borderInlineStart:"none"}})}},qZe=i=>{let{componentCls:e,wrapperMarginInlineEnd:t,colorPrimary:n,radioSize:r,motionDurationSlow:s,motionDurationMid:a,motionEaseInOutCirc:o,colorBgContainer:l,colorBorder:u,lineWidth:c,colorBgContainerDisabled:d,colorTextDisabled:h,paddingXS:p,dotColorDisabled:f,lineType:g,radioColor:v,radioBgColor:m,calc:b}=i,_=`${e}-inner`,S=4,C=b(r).sub(b(S).mul(2)),k=b(1).mul(r).equal();return{[`${e}-wrapper`]:Object.assign(Object.assign({},Qa(i)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:t,cursor:"pointer",[`&${e}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:i.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${e}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${$t(c)} ${g} ${n}`,borderRadius:"50%",visibility:"hidden",content:'""'},[e]:Object.assign(Object.assign({},Qa(i)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${e}-wrapper:hover &,
        &:hover ${_}`]:{borderColor:n},[`${e}-input:focus-visible + ${_}`]:Object.assign({},oB(i)),[`${e}:hover::after, ${e}-wrapper:hover &::after`]:{visibility:"visible"},[`${e}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:k,height:k,marginBlockStart:b(1).mul(r).div(-2).equal(),marginInlineStart:b(1).mul(r).div(-2).equal(),backgroundColor:v,borderBlockStart:0,borderInlineStart:0,borderRadius:k,transform:"scale(0)",opacity:0,transition:`all ${s} ${o}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:k,height:k,backgroundColor:l,borderColor:u,borderStyle:"solid",borderWidth:c,borderRadius:"50%",transition:`all ${a}`},[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${e}-checked`]:{[_]:{borderColor:n,backgroundColor:m,"&::after":{transform:`scale(${i.calc(i.dotSize).div(r).equal()})`,opacity:1,transition:`all ${s} ${o}`}}},[`${e}-disabled`]:{cursor:"not-allowed",[_]:{backgroundColor:d,borderColor:u,cursor:"not-allowed","&::after":{backgroundColor:f}},[`${e}-input`]:{cursor:"not-allowed"},[`${e}-disabled + span`]:{color:h,cursor:"not-allowed"},[`&${e}-checked`]:{[_]:{"&::after":{transform:`scale(${b(C).div(r).equal({unit:!1})})`}}}},[`span${e} + *`]:{paddingInlineStart:p,paddingInlineEnd:p}})}},ZZe=i=>{let{buttonColor:e,controlHeight:t,componentCls:n,lineWidth:r,lineType:s,colorBorder:a,motionDurationSlow:o,motionDurationMid:l,buttonPaddingInline:u,fontSize:c,buttonBg:d,fontSizeLG:h,controlHeightLG:p,controlHeightSM:f,paddingXS:g,borderRadius:v,borderRadiusSM:m,borderRadiusLG:b,buttonCheckedBg:_,buttonSolidCheckedColor:S,colorTextDisabled:C,colorBgContainerDisabled:k,buttonCheckedBgDisabled:E,buttonCheckedColorDisabled:A,colorPrimary:P,colorPrimaryHover:O,colorPrimaryActive:M,buttonSolidCheckedBg:D,buttonSolidCheckedHoverBg:L,buttonSolidCheckedActiveBg:H,calc:B}=i;return{[`${n}-button-wrapper`]:{position:"relative",display:"inline-block",height:t,margin:0,paddingInline:u,paddingBlock:0,color:e,fontSize:c,lineHeight:$t(B(t).sub(B(r).mul(2)).equal()),background:d,border:`${$t(r)} ${s} ${a}`,borderBlockStartWidth:B(r).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:r,cursor:"pointer",transition:[`color ${l}`,`background ${l}`,`box-shadow ${l}`].join(","),a:{color:e},[`> ${n}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:B(r).mul(-1).equal(),insetInlineStart:B(r).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:r,paddingInline:0,backgroundColor:a,transition:`background-color ${o}`,content:'""'}},"&:first-child":{borderInlineStart:`${$t(r)} ${s} ${a}`,borderStartStartRadius:v,borderEndStartRadius:v},"&:last-child":{borderStartEndRadius:v,borderEndEndRadius:v},"&:first-child:last-child":{borderRadius:v},[`${n}-group-large &`]:{height:p,fontSize:h,lineHeight:$t(B(p).sub(B(r).mul(2)).equal()),"&:first-child":{borderStartStartRadius:b,borderEndStartRadius:b},"&:last-child":{borderStartEndRadius:b,borderEndEndRadius:b}},[`${n}-group-small &`]:{height:f,paddingInline:B(g).sub(r).equal(),paddingBlock:0,lineHeight:$t(B(f).sub(B(r).mul(2)).equal()),"&:first-child":{borderStartStartRadius:m,borderEndStartRadius:m},"&:last-child":{borderStartEndRadius:m,borderEndEndRadius:m}},"&:hover":{position:"relative",color:P},"&:has(:focus-visible)":Object.assign({},oB(i)),[`${n}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${n}-button-wrapper-disabled)`]:{zIndex:1,color:P,background:_,borderColor:P,"&::before":{backgroundColor:P},"&:first-child":{borderColor:P},"&:hover":{color:O,borderColor:O,"&::before":{backgroundColor:O}},"&:active":{color:M,borderColor:M,"&::before":{backgroundColor:M}}},[`${n}-group-solid &-checked:not(${n}-button-wrapper-disabled)`]:{color:S,background:D,borderColor:D,"&:hover":{color:S,background:L,borderColor:L},"&:active":{color:S,background:H,borderColor:H}},"&-disabled":{color:C,backgroundColor:k,borderColor:a,cursor:"not-allowed","&:first-child, &:hover":{color:C,backgroundColor:k,borderColor:a}},[`&-disabled${n}-button-wrapper-checked`]:{color:A,backgroundColor:E,borderColor:a,boxShadow:"none"}}}},QZe=i=>{let{wireframe:e,padding:t,marginXS:n,lineWidth:r,fontSizeLG:s,colorText:a,colorBgContainer:o,colorTextDisabled:l,controlItemBgActiveDisabled:u,colorTextLightSolid:c,colorPrimary:d,colorPrimaryHover:h,colorPrimaryActive:p,colorWhite:f}=i,g=4,v=s,m=e?v-g*2:v-(g+r)*2;return{radioSize:v,dotSize:m,dotColorDisabled:l,buttonSolidCheckedColor:c,buttonSolidCheckedBg:d,buttonSolidCheckedHoverBg:h,buttonSolidCheckedActiveBg:p,buttonBg:o,buttonCheckedBg:o,buttonColor:a,buttonCheckedBgDisabled:u,buttonCheckedColorDisabled:l,buttonPaddingInline:t-r,wrapperMarginInlineEnd:n,radioColor:e?d:f,radioBgColor:e?o:d}},J1e=qu("Radio",i=>{let{controlOutline:e,controlOutlineWidth:t}=i,n=`0 0 0 ${$t(t)} ${e}`,r=ys(i,{radioFocusShadow:n,radioButtonFocusShadow:n});return[XZe(r),qZe(r),ZZe(r)]},QZe,{unitless:{radioSize:!0,dotSize:!0}}),JZe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},eQe=(i,e)=>{var t,n;let r=Ph.useContext(WZe),s=Ph.useContext(Z1e),{getPrefixCls:a,direction:o,radio:l}=Ph.useContext(En),u=Ph.useRef(null),c=ih(e,u),{isFormItemInput:d}=Ph.useContext(Ku),h=H=>{var B,F;(B=i.onChange)===null||B===void 0||B.call(i,H),(F=r==null?void 0:r.onChange)===null||F===void 0||F.call(r,H)},{prefixCls:p,className:f,rootClassName:g,children:v,style:m,title:b}=i,_=JZe(i,["prefixCls","className","rootClassName","children","style","title"]),S=a("radio",p),C=((r==null?void 0:r.optionType)||s)==="button",k=C?`${S}-button`:S,E=qc(S),[A,P,O]=J1e(S,E),M=Object.assign({},_),D=Ph.useContext(cm);r&&(M.name=r.name,M.onChange=h,M.checked=i.value===r.value,M.disabled=(t=M.disabled)!==null&&t!==void 0?t:r.disabled),M.disabled=(n=M.disabled)!==null&&n!==void 0?n:D;let L=(0,Hre.default)(`${k}-wrapper`,{[`${k}-wrapper-checked`]:M.checked,[`${k}-wrapper-disabled`]:M.disabled,[`${k}-wrapper-rtl`]:o==="rtl",[`${k}-wrapper-in-form-item`]:d},l==null?void 0:l.className,f,g,P,O,E);return A(Ph.createElement(pK,{component:"Radio",disabled:M.disabled},Ph.createElement("label",{className:L,style:Object.assign(Object.assign({},l==null?void 0:l.style),m),onMouseEnter:i.onMouseEnter,onMouseLeave:i.onMouseLeave,title:b},Ph.createElement(Q1e,Object.assign({},M,{className:(0,Hre.default)(M.className,!C&&fB),type:"radio",prefixCls:k,ref:c})),v!==void 0?Ph.createElement("span",null,v):null)))},tQe=Ph.forwardRef(eQe),rD=tQe,iQe=ky.forwardRef((i,e)=>{let{getPrefixCls:t,direction:n}=ky.useContext(En),[r,s]=xf(i.defaultValue,{value:i.value}),a=H=>{let B=r,F=H.target.value;"value"in i||s(F);let{onChange:z}=i;z&&F!==B&&z(H)},{prefixCls:o,className:l,rootClassName:u,options:c,buttonStyle:d="outline",disabled:h,children:p,size:f,style:g,id:v,onMouseEnter:m,onMouseLeave:b,onFocus:_,onBlur:S}=i,C=t("radio",o),k=`${C}-group`,E=qc(C),[A,P,O]=J1e(C,E),M=p;c&&c.length>0&&(M=c.map(H=>typeof H=="string"||typeof H=="number"?ky.createElement(rD,{key:H.toString(),prefixCls:C,disabled:h,value:H,checked:r===H},H):ky.createElement(rD,{key:`radio-group-value-options-${H.value}`,prefixCls:C,disabled:H.disabled||h,value:H.value,checked:r===H.value,title:H.title,style:H.style,id:H.id,required:H.required},H.label)));let D=dm(f),L=(0,HZe.default)(k,`${k}-${d}`,{[`${k}-${D}`]:D,[`${k}-rtl`]:n==="rtl"},l,u,P,O,E);return A(ky.createElement("div",Object.assign({},sT(i,{aria:!0,data:!0}),{className:L,style:g,onMouseEnter:m,onMouseLeave:b,onFocus:_,onBlur:S,id:v,ref:e}),ky.createElement(VZe,{value:{onChange:a,value:r,disabled:i.disabled,name:i.name,optionType:i.optionType}},M)))}),nQe=ky.memo(iQe),D3=oe(ge()),rQe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},sQe=(i,e)=>{let{getPrefixCls:t}=D3.useContext(En),{prefixCls:n}=i,r=rQe(i,["prefixCls"]),s=t("radio",n);return D3.createElement(UZe,{value:"button"},D3.createElement(rD,Object.assign({prefixCls:s},r,{type:"radio",ref:e})))},aQe=D3.forwardRef(sQe),bB=rD;bB.Button=aQe;bB.Group=nQe;bB.__ANT_RADIO=!0;var oQe=bB;function eSe(i){return ys(i,{inputAffixPadding:i.paddingXXS})}var tSe=i=>{let{controlHeight:e,fontSize:t,lineHeight:n,lineWidth:r,controlHeightSM:s,controlHeightLG:a,fontSizeLG:o,lineHeightLG:l,paddingSM:u,controlPaddingHorizontalSM:c,controlPaddingHorizontal:d,colorFillAlter:h,colorPrimaryHover:p,colorPrimary:f,controlOutlineWidth:g,controlOutline:v,colorErrorOutline:m,colorWarningOutline:b,colorBgContainer:_}=i;return{paddingBlock:Math.max(Math.round((e-t*n)/2*10)/10-r,0),paddingBlockSM:Math.max(Math.round((s-t*n)/2*10)/10-r,0),paddingBlockLG:Math.ceil((a-o*l)/2*10)/10-r,paddingInline:u-r,paddingInlineSM:c-r,paddingInlineLG:d-r,addonBg:h,activeBorderColor:f,hoverBorderColor:p,activeShadow:`0 0 0 ${g}px ${v}`,errorActiveShadow:`0 0 0 ${g}px ${m}`,warningActiveShadow:`0 0 0 ${g}px ${b}`,hoverBg:_,activeBg:_,inputFontSize:t,inputFontSizeLG:o,inputFontSizeSM:t}},lQe=i=>({borderColor:i.hoverBorderColor,backgroundColor:i.hoverBg}),AK=i=>({color:i.colorTextDisabled,backgroundColor:i.colorBgContainerDisabled,borderColor:i.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},lQe(ys(i,{hoverBorderColor:i.colorBorder,hoverBg:i.colorBgContainerDisabled})))}),iSe=(i,e)=>({background:i.colorBgContainer,borderWidth:i.lineWidth,borderStyle:i.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:i.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:i.activeBg}}),Vre=(i,e)=>({[`&${i.componentCls}-status-${e.status}:not(${i.componentCls}-disabled)`]:Object.assign(Object.assign({},iSe(i,e)),{[`${i.componentCls}-prefix, ${i.componentCls}-suffix`]:{color:e.affixColor}})}),nSe=(i,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},iSe(i,{borderColor:i.colorBorder,hoverBorderColor:i.hoverBorderColor,activeBorderColor:i.activeBorderColor,activeShadow:i.activeShadow})),{[`&${i.componentCls}-disabled, &[disabled]`]:Object.assign({},AK(i))}),Vre(i,{status:"error",borderColor:i.colorError,hoverBorderColor:i.colorErrorBorderHover,activeBorderColor:i.colorError,activeShadow:i.errorActiveShadow,affixColor:i.colorError})),Vre(i,{status:"warning",borderColor:i.colorWarning,hoverBorderColor:i.colorWarningBorderHover,activeBorderColor:i.colorWarning,activeShadow:i.warningActiveShadow,affixColor:i.colorWarning})),e)}),Wre=(i,e)=>({[`&${i.componentCls}-group-wrapper-status-${e.status}`]:{[`${i.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),rSe=i=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${i.componentCls}-group`]:{"&-addon":{background:i.addonBg,border:`${$t(i.lineWidth)} ${i.lineType} ${i.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},Wre(i,{status:"error",addonBorderColor:i.colorError,addonColor:i.colorErrorText})),Wre(i,{status:"warning",addonBorderColor:i.colorWarning,addonColor:i.colorWarningText})),{[`&${i.componentCls}-group-wrapper-disabled`]:{[`${i.componentCls}-group-addon`]:Object.assign({},AK(i))}})}),sSe=(i,e)=>({"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${i.componentCls}-disabled, &[disabled]`]:{color:i.colorTextDisabled}},e)}),aSe=(i,e)=>({background:e.bg,borderWidth:i.lineWidth,borderStyle:i.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:e==null?void 0:e.inputColor},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:i.activeBg}}),Ure=(i,e)=>({[`&${i.componentCls}-status-${e.status}:not(${i.componentCls}-disabled)`]:Object.assign(Object.assign({},aSe(i,e)),{[`${i.componentCls}-prefix, ${i.componentCls}-suffix`]:{color:e.affixColor}})}),oSe=(i,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},aSe(i,{bg:i.colorFillTertiary,hoverBg:i.colorFillSecondary,activeBorderColor:i.colorPrimary})),{[`&${i.componentCls}-disabled, &[disabled]`]:Object.assign({},AK(i))}),Ure(i,{status:"error",bg:i.colorErrorBg,hoverBg:i.colorErrorBgHover,activeBorderColor:i.colorError,inputColor:i.colorErrorText,affixColor:i.colorError})),Ure(i,{status:"warning",bg:i.colorWarningBg,hoverBg:i.colorWarningBgHover,activeBorderColor:i.colorWarning,inputColor:i.colorWarningText,affixColor:i.colorWarning})),e)}),Gre=(i,e)=>({[`&${i.componentCls}-group-wrapper-status-${e.status}`]:{[`${i.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),lSe=i=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${i.componentCls}-group`]:{"&-addon":{background:i.colorFillTertiary},[`${i.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${$t(i.lineWidth)} ${i.lineType} ${i.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${$t(i.lineWidth)} ${i.lineType} ${i.colorSplit}`}}}},Gre(i,{status:"error",addonBg:i.colorErrorBg,addonColor:i.colorErrorText})),Gre(i,{status:"warning",addonBg:i.colorWarningBg,addonColor:i.colorWarningText})),{[`&${i.componentCls}-group-wrapper-disabled`]:{[`${i.componentCls}-group`]:{"&-addon":{background:i.colorFillTertiary,color:i.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${$t(i.lineWidth)} ${i.lineType} ${i.colorBorder}`,borderTop:`${$t(i.lineWidth)} ${i.lineType} ${i.colorBorder}`,borderBottom:`${$t(i.lineWidth)} ${i.lineType} ${i.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${$t(i.lineWidth)} ${i.lineType} ${i.colorBorder}`,borderTop:`${$t(i.lineWidth)} ${i.lineType} ${i.colorBorder}`,borderBottom:`${$t(i.lineWidth)} ${i.lineType} ${i.colorBorder}`}}}})}),uSe=i=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:i,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),cSe=i=>{let{paddingBlockLG:e,lineHeightLG:t,borderRadiusLG:n,paddingInlineLG:r}=i;return{padding:`${$t(e)} ${$t(r)}`,fontSize:i.inputFontSizeLG,lineHeight:t,borderRadius:n}},dSe=i=>({padding:`${$t(i.paddingBlockSM)} ${$t(i.paddingInlineSM)}`,fontSize:i.inputFontSizeSM,borderRadius:i.borderRadiusSM}),SB=i=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${$t(i.paddingBlock)} ${$t(i.paddingInline)}`,color:i.colorText,fontSize:i.inputFontSize,lineHeight:i.lineHeight,borderRadius:i.borderRadius,transition:`all ${i.motionDurationMid}`},uSe(i.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:i.controlHeight,lineHeight:i.lineHeight,verticalAlign:"bottom",transition:`all ${i.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},cSe(i)),"&-sm":Object.assign({},dSe(i)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),hSe=i=>{let{componentCls:e,antCls:t}=i;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:i.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},cSe(i)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},dSe(i)),[`&-lg ${t}-select-single ${t}-select-selector`]:{height:i.controlHeightLG},[`&-sm ${t}-select-single ${t}-select-selector`]:{height:i.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${$t(i.paddingInline)}`,color:i.colorText,fontWeight:"normal",fontSize:i.inputFontSize,textAlign:"center",borderRadius:i.borderRadius,transition:`all ${i.motionDurationSlow}`,lineHeight:1,[`${t}-select`]:{margin:`${$t(i.calc(i.paddingBlock).add(1).mul(-1).equal())} ${$t(i.calc(i.paddingInline).mul(-1).equal())}`,[`&${t}-select-single:not(${t}-select-customize-input):not(${t}-pagination-size-changer)`]:{[`${t}-select-selector`]:{backgroundColor:"inherit",border:`${$t(i.lineWidth)} ${i.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${t}-select-selector`]:{color:i.colorPrimary}}},[`${t}-cascader-picker`]:{margin:`-9px ${$t(i.calc(i.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${t}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[`${e}`]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:i.borderRadius,borderEndStartRadius:i.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},qHe()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:i.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${t}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:i.calc(i.lineWidth).mul(-1).equal(),borderInlineEndWidth:i.lineWidth},[`${e}`]:{float:"none"},[`& > ${t}-select > ${t}-select-selector,
      & > ${t}-select-auto-complete ${e},
      & > ${t}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:i.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${t}-select-focused`]:{zIndex:1},[`& > ${t}-select > ${t}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${t}-select:first-child > ${t}-select-selector,
      & > ${t}-select-auto-complete:first-child ${e},
      & > ${t}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:i.borderRadius,borderEndStartRadius:i.borderRadius},[`& > *:last-child,
      & > ${t}-select:last-child > ${t}-select-selector,
      & > ${t}-cascader-picker:last-child ${e},
      & > ${t}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:i.lineWidth,borderStartEndRadius:i.borderRadius,borderEndEndRadius:i.borderRadius},[`& > ${t}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:i.calc(i.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:i.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:i.borderRadius}}}})}},uQe=i=>{let{componentCls:e,controlHeightSM:t,lineWidth:n,calc:r}=i,s=16,a=r(t).sub(r(n).mul(2)).sub(s).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qa(i)),SB(i)),nSe(i)),oSe(i)),sSe(i)),{'&[type="color"]':{height:i.controlHeight,[`&${e}-lg`]:{height:i.controlHeightLG},[`&${e}-sm`]:{height:t,paddingTop:a,paddingBottom:a}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},cQe=i=>{let{componentCls:e}=i;return{[`${e}-clear-icon`]:{margin:0,color:i.colorTextQuaternary,fontSize:i.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${i.motionDurationSlow}`,"&:hover":{color:i.colorTextTertiary},"&:active":{color:i.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${$t(i.inputAffixPadding)}`}}}},dQe=i=>{let{componentCls:e,inputAffixPadding:t,colorTextDescription:n,motionDurationSlow:r,colorIcon:s,colorIconHover:a,iconCls:o}=i;return{[`${e}-affix-wrapper`]:Object.assign(Object.assign(Object.assign(Object.assign({},SB(i)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${e}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:i.paddingXS}},"&-show-count-suffix":{color:n},"&-show-count-has-suffix":{marginInlineEnd:i.paddingXXS},"&-prefix":{marginInlineEnd:t},"&-suffix":{marginInlineStart:t}}}),cQe(i)),{[`${o}${e}-password-icon`]:{color:s,cursor:"pointer",transition:`all ${r}`,"&:hover":{color:a}}})}},hQe=i=>{let{componentCls:e,borderRadiusLG:t,borderRadiusSM:n}=i;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},Qa(i)),hSe(i)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:t,fontSize:i.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:n}}},rSe(i)),lSe(i)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},pQe=i=>{let{componentCls:e,antCls:t}=i,n=`${e}-search`;return{[n]:{[`${e}`]:{"&:hover, &:focus":{borderColor:i.colorPrimaryHover,[`+ ${e}-group-addon ${n}-button:not(${t}-btn-primary)`]:{borderInlineStartColor:i.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{borderRadius:0},[`${e}-lg`]:{lineHeight:i.calc(i.lineHeightLG).sub(2e-4).equal({unit:!1})},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${n}-button`]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:i.borderRadius,borderEndEndRadius:i.borderRadius,borderEndStartRadius:0,boxShadow:"none"},[`${n}-button:not(${t}-btn-primary)`]:{color:i.colorTextDescription,"&:hover":{color:i.colorPrimaryHover},"&:active":{color:i.colorPrimaryActive},[`&${t}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${n}-button`]:{height:i.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${n}-button`]:{height:i.controlHeightLG},[`&-small ${n}-button`]:{height:i.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:i.calc(i.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},fQe=i=>{let{componentCls:e,paddingLG:t}=i,n=`${e}-textarea`;return{[n]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:i.calc(i.fontSize).mul(i.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:i.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},"&-allow-clear":{[`> ${e}`]:{paddingInlineEnd:t}},[`&-affix-wrapper${n}-has-feedback`]:{[`${e}`]:{paddingInlineEnd:t}},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:i.paddingXS,insetBlockStart:i.paddingXS},[`${n}-suffix`]:{position:"absolute",top:0,insetInlineEnd:i.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}}}}},gQe=i=>{let{componentCls:e}=i;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:i.colorError}}}},TK=qu("Input",i=>{let e=ys(i,eSe(i));return[uQe(e),fQe(e),dQe(e),hQe(e),pQe(e),gQe(e),mB(e)]},tSe);function mQe(i,e,t){var n=t||{},r=n.noTrailing,s=r===void 0?!1:r,a=n.noLeading,o=a===void 0?!1:a,l=n.debounceMode,u=l===void 0?void 0:l,c,d=!1,h=0;function p(){c&&clearTimeout(c)}function f(v){var m=v||{},b=m.upcomingOnly,_=b===void 0?!1:b;p(),d=!_}function g(){for(var v=arguments.length,m=new Array(v),b=0;b<v;b++)m[b]=arguments[b];var _=this,S=Date.now()-h;if(d)return;function C(){h=Date.now(),e.apply(_,m)}function k(){c=void 0}!o&&u&&!c&&C(),p(),u===void 0&&S>i?o?(h=Date.now(),s||(c=setTimeout(u?k:C,i))):C():s!==!0&&(c=setTimeout(u?k:C,u===void 0?i-S:i))}return g.cancel=f,g}function vQe(i,e,t){var n={},r=n.atBegin,s=r===void 0?!1:r;return mQe(i,e,{debounceMode:s!==!1})}var yQe=i=>{let{checkboxCls:e}=i,t=`${e}-wrapper`;return[{[`${e}-group`]:Object.assign(Object.assign({},Qa(i)),{display:"inline-flex",flexWrap:"wrap",columnGap:i.marginXS,[`> ${i.antCls}-row`]:{flex:1}}),[t]:Object.assign(Object.assign({},Qa(i)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${t}`]:{marginInlineStart:0},[`&${t}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[e]:Object.assign(Object.assign({},Qa(i)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:i.borderRadiusSM,alignSelf:"center",[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${e}-inner`]:Object.assign({},oB(i))},[`${e}-inner`]:{boxSizing:"border-box",display:"block",width:i.checkboxSize,height:i.checkboxSize,direction:"ltr",backgroundColor:i.colorBgContainer,border:`${$t(i.lineWidth)} ${i.lineType} ${i.colorBorder}`,borderRadius:i.borderRadiusSM,borderCollapse:"separate",transition:`all ${i.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:i.calc(i.checkboxSize).div(14).mul(5).equal(),height:i.calc(i.checkboxSize).div(14).mul(8).equal(),border:`${$t(i.lineWidthBold)} solid ${i.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${i.motionDurationFast} ${i.motionEaseInBack}, opacity ${i.motionDurationFast}`}},"& + span":{paddingInlineStart:i.paddingXS,paddingInlineEnd:i.paddingXS}})},{[`
        ${t}:not(${t}-disabled),
        ${e}:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{borderColor:i.colorPrimary}},[`${t}:not(${t}-disabled)`]:{[`&:hover ${e}-checked:not(${e}-disabled) ${e}-inner`]:{backgroundColor:i.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${e}-checked:not(${e}-disabled):after`]:{borderColor:i.colorPrimaryHover}}},{[`${e}-checked`]:{[`${e}-inner`]:{backgroundColor:i.colorPrimary,borderColor:i.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${i.motionDurationMid} ${i.motionEaseOutBack} ${i.motionDurationFast}`}}},[`
        ${t}-checked:not(${t}-disabled),
        ${e}-checked:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{backgroundColor:i.colorPrimaryHover,borderColor:"transparent"}}},{[e]:{"&-indeterminate":{[`${e}-inner`]:{backgroundColor:i.colorBgContainer,borderColor:i.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:i.calc(i.fontSizeLG).div(2).equal(),height:i.calc(i.fontSizeLG).div(2).equal(),backgroundColor:i.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${t}-disabled`]:{cursor:"not-allowed"},[`${e}-disabled`]:{[`&, ${e}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${e}-inner`]:{background:i.colorBgContainerDisabled,borderColor:i.colorBorder,"&:after":{borderColor:i.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:i.colorTextDisabled},[`&${e}-indeterminate ${e}-inner::after`]:{background:i.colorTextDisabled}}}]};function _Qe(i,e){let t=ys(e,{checkboxCls:`.${i}`,checkboxSize:e.controlInteractiveSize});return[yQe(t)]}var pSe=qu("Checkbox",(i,e)=>{let{prefixCls:t}=e;return[_Qe(t,i)]}),wd=oe(ge()),Yre=oe(si()),bQe=oe(ge()),SQe=bQe.default.createContext(null),fSe=SQe,xQe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},wQe=(i,e)=>{var t;let{prefixCls:n,className:r,rootClassName:s,children:a,indeterminate:o=!1,style:l,onMouseEnter:u,onMouseLeave:c,skipGroup:d=!1,disabled:h}=i,p=xQe(i,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:f,direction:g,checkbox:v}=wd.useContext(En),m=wd.useContext(fSe),{isFormItemInput:b}=wd.useContext(Ku),_=wd.useContext(cm),S=(t=(m==null?void 0:m.disabled)||h)!==null&&t!==void 0?t:_,C=wd.useRef(p.value);wd.useEffect(()=>{m==null||m.registerValue(p.value)},[]),wd.useEffect(()=>{if(!d)return p.value!==C.current&&(m==null||m.cancelValue(C.current),m==null||m.registerValue(p.value),C.current=p.value),()=>m==null?void 0:m.cancelValue(p.value)},[p.value]);let k=f("checkbox",n),E=qc(k),[A,P,O]=pSe(k,E),M=Object.assign({},p);m&&!d&&(M.onChange=function(){p.onChange&&p.onChange.apply(p,arguments),m.toggleOption&&m.toggleOption({label:a,value:p.value})},M.name=m.name,M.checked=m.value.includes(p.value));let D=(0,Yre.default)(`${k}-wrapper`,{[`${k}-rtl`]:g==="rtl",[`${k}-wrapper-checked`]:M.checked,[`${k}-wrapper-disabled`]:S,[`${k}-wrapper-in-form-item`]:b},v==null?void 0:v.className,r,s,O,E,P),L=(0,Yre.default)({[`${k}-indeterminate`]:o},fB,P),H=o?"mixed":void 0;return A(wd.createElement(pK,{component:"Checkbox",disabled:S},wd.createElement("label",{className:D,style:Object.assign(Object.assign({},v==null?void 0:v.style),l),onMouseEnter:u,onMouseLeave:c},wd.createElement(Q1e,Object.assign({"aria-checked":H},M,{prefixCls:k,className:L,disabled:S,ref:e})),a!==void 0&&wd.createElement("span",null,a))))},CQe=wd.forwardRef(wQe),gSe=CQe,Qf=oe(ge()),kQe=oe(si()),EQe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},AQe=Qf.forwardRef((i,e)=>{let{defaultValue:t,children:n,options:r=[],prefixCls:s,className:a,rootClassName:o,style:l,onChange:u}=i,c=EQe(i,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:d,direction:h}=Qf.useContext(En),[p,f]=Qf.useState(c.value||t||[]),[g,v]=Qf.useState([]);Qf.useEffect(()=>{"value"in c&&f(c.value||[])},[c.value]);let m=Qf.useMemo(()=>r.map(B=>typeof B=="string"||typeof B=="number"?{label:B,value:B}:B),[r]),b=B=>{v(F=>F.filter(z=>z!==B))},_=B=>{v(F=>[].concat(Bt(F),[B]))},S=B=>{let F=p.indexOf(B.value),z=Bt(p);F===-1?z.push(B.value):z.splice(F,1),"value"in c||f(z),u==null||u(z.filter(N=>g.includes(N)).sort((N,U)=>{let G=m.findIndex(K=>K.value===N),j=m.findIndex(K=>K.value===U);return G-j}))},C=d("checkbox",s),k=`${C}-group`,E=qc(C),[A,P,O]=pSe(C,E),M=um(c,["value","disabled"]),D=r.length?m.map(B=>Qf.createElement(gSe,{prefixCls:C,key:B.value.toString(),disabled:"disabled"in B?B.disabled:c.disabled,value:B.value,checked:p.includes(B.value),onChange:B.onChange,className:`${k}-item`,style:B.style,title:B.title,id:B.id,required:B.required},B.label)):n,L={toggleOption:S,value:p,disabled:c.disabled,name:c.name,registerValue:_,cancelValue:b},H=(0,kQe.default)(k,{[`${k}-rtl`]:h==="rtl"},a,o,O,E,P);return A(Qf.createElement("div",Object.assign({className:H,style:l},M,{ref:e}),Qf.createElement(fSe.Provider,{value:L},D)))}),TQe=AQe,PK=gSe;PK.Group=TQe;PK.__ANT_CHECKBOX=!0;var PQe=PK,VM=oe(ge()),OQe=oe(si()),MQe=oe(ge()),IQe=(0,MQe.createContext)({}),mSe=IQe,RQe=i=>{let{componentCls:e}=i;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},DQe=i=>{let{componentCls:e}=i;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},LQe=(i,e)=>{let{prefixCls:t,componentCls:n,gridColumns:r}=i,s={};for(let a=r;a>=0;a--)a===0?(s[`${n}${e}-${a}`]={display:"none"},s[`${n}-push-${a}`]={insetInlineStart:"auto"},s[`${n}-pull-${a}`]={insetInlineEnd:"auto"},s[`${n}${e}-push-${a}`]={insetInlineStart:"auto"},s[`${n}${e}-pull-${a}`]={insetInlineEnd:"auto"},s[`${n}${e}-offset-${a}`]={marginInlineStart:0},s[`${n}${e}-order-${a}`]={order:0}):(s[`${n}${e}-${a}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${a/r*100}%`,maxWidth:`${a/r*100}%`}],s[`${n}${e}-push-${a}`]={insetInlineStart:`${a/r*100}%`},s[`${n}${e}-pull-${a}`]={insetInlineEnd:`${a/r*100}%`},s[`${n}${e}-offset-${a}`]={marginInlineStart:`${a/r*100}%`},s[`${n}${e}-order-${a}`]={order:a});return s[`${n}${e}-flex`]={flex:`var(--${t}${e}-flex)`},s},vV=(i,e)=>LQe(i,e),FQe=(i,e,t)=>({[`@media (min-width: ${$t(e)})`]:Object.assign({},vV(i,t))}),BQe=()=>({}),$Qe=()=>({}),NQe=qu("Grid",RQe,BQe),jQe=qu("Grid",i=>{let e=ys(i,{gridColumns:24}),t={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[DQe(e),vV(e,""),vV(e,"-xs"),Object.keys(t).map(n=>FQe(e,t[n],n)).reduce((n,r)=>Object.assign(Object.assign({},n),r),{})]},$Qe),zQe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};function Kre(i){return typeof i=="number"?`${i} ${i} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(i)?`0 0 ${i}`:i}var HQe=["xs","sm","md","lg","xl","xxl"],VQe=VM.forwardRef((i,e)=>{let{getPrefixCls:t,direction:n}=VM.useContext(En),{gutter:r,wrap:s}=VM.useContext(mSe),{prefixCls:a,span:o,order:l,offset:u,push:c,pull:d,className:h,children:p,flex:f,style:g}=i,v=zQe(i,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),m=t("col",a),[b,_,S]=jQe(m),C={},k={};HQe.forEach(P=>{let O={},M=i[P];typeof M=="number"?O.span=M:typeof M=="object"&&(O=M||{}),delete v[P],k=Object.assign(Object.assign({},k),{[`${m}-${P}-${O.span}`]:O.span!==void 0,[`${m}-${P}-order-${O.order}`]:O.order||O.order===0,[`${m}-${P}-offset-${O.offset}`]:O.offset||O.offset===0,[`${m}-${P}-push-${O.push}`]:O.push||O.push===0,[`${m}-${P}-pull-${O.pull}`]:O.pull||O.pull===0,[`${m}-rtl`]:n==="rtl"}),O.flex&&(k[`${m}-${P}-flex`]=!0,C[`--${m}-${P}-flex`]=Kre(O.flex))});let E=(0,OQe.default)(m,{[`${m}-${o}`]:o!==void 0,[`${m}-order-${l}`]:l,[`${m}-offset-${u}`]:u,[`${m}-push-${c}`]:c,[`${m}-pull-${d}`]:d},h,k,_,S),A={};if(r&&r[0]>0){let P=r[0]/2;A.paddingLeft=P,A.paddingRight=P}return f&&(A.flex=Kre(f),s===!1&&!A.minWidth&&(A.minWidth=0)),b(VM.createElement("div",Object.assign({},v,{style:Object.assign(Object.assign(Object.assign({},A),g),C),className:E,ref:e}),p))}),vSe=VQe,Ih=oe(ge()),WQe=oe(si()),UQe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};function Xre(i,e){let[t,n]=Ih.useState(typeof i=="string"?i:""),r=()=>{if(typeof i=="string"&&n(i),typeof i=="object")for(let s=0;s<dT.length;s++){let a=dT[s];if(!e[a])continue;let o=i[a];if(o!==void 0){n(o);return}}};return Ih.useEffect(()=>{r()},[JSON.stringify(i),e]),t}var GQe=Ih.forwardRef((i,e)=>{let{prefixCls:t,justify:n,align:r,className:s,style:a,children:o,gutter:l=0,wrap:u}=i,c=UQe(i,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:d,direction:h}=Ih.useContext(En),[p,f]=Ih.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[g,v]=Ih.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),m=Xre(r,g),b=Xre(n,g),_=Ih.useRef(l),S=yZe();Ih.useEffect(()=>{let z=S.subscribe(N=>{v(N);let U=_.current||0;(!Array.isArray(U)&&typeof U=="object"||Array.isArray(U)&&(typeof U[0]=="object"||typeof U[1]=="object"))&&f(N)});return()=>S.unsubscribe(z)},[]);let C=()=>{let z=[void 0,void 0];return(Array.isArray(l)?l:[l,void 0]).forEach((N,U)=>{if(typeof N=="object")for(let G=0;G<dT.length;G++){let j=dT[G];if(p[j]&&N[j]!==void 0){z[U]=N[j];break}}else z[U]=N}),z},k=d("row",t),[E,A,P]=NQe(k),O=C(),M=(0,WQe.default)(k,{[`${k}-no-wrap`]:u===!1,[`${k}-${b}`]:b,[`${k}-${m}`]:m,[`${k}-rtl`]:h==="rtl"},s,A,P),D={},L=O[0]!=null&&O[0]>0?O[0]/-2:void 0;L&&(D.marginLeft=L,D.marginRight=L);let[H,B]=O;D.rowGap=B;let F=Ih.useMemo(()=>({gutter:[H,B],wrap:u}),[H,B,u]);return E(Ih.createElement(mSe.Provider,{value:F},Ih.createElement("div",Object.assign({},c,{className:M,style:Object.assign(Object.assign({},D),a),ref:e}),o)))}),YQe=GQe,Wa=oe(ge()),ySe=oe(ge()),KQe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},XQe=KQe,qQe=function(i,e){return ySe.createElement(Xc,Si({},i,{ref:e,icon:XQe}))},ZQe=ySe.forwardRef(qQe),QQe=ZQe,m1=oe(si());function yV(){return typeof BigInt=="function"}function _Se(i){return!i&&i!==0&&!Number.isNaN(i)||!String(i).trim()}function u_(i){var e=i.trim(),t=e.startsWith("-");t&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var n=e||"0",r=n.split("."),s=r[0]||"0",a=r[1]||"0";s==="0"&&a==="0"&&(t=!1);var o=t?"-":"";return{negative:t,negativeStr:o,trimStr:n,integerStr:s,decimalStr:a,fullStr:"".concat(o).concat(n)}}function OK(i){var e=String(i);return!Number.isNaN(Number(e))&&e.includes("e")}function Wy(i){var e=String(i);if(OK(i)){var t=Number(e.slice(e.indexOf("e-")+2)),n=e.match(/\.(\d+)/);return n!=null&&n[1]&&(t+=n[1].length),t}return e.includes(".")&&MK(e)?e.length-e.indexOf(".")-1:0}function xB(i){var e=String(i);if(OK(i)){if(i>Number.MAX_SAFE_INTEGER)return String(yV()?BigInt(i).toString():Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return String(yV()?BigInt(i).toString():Number.MIN_SAFE_INTEGER);e=i.toFixed(Wy(e))}return u_(e).fullStr}function MK(i){return typeof i=="number"?!Number.isNaN(i):i?/^\s*-?\d+(\.\d+)?\s*$/.test(i)||/^\s*-?\d+\.\s*$/.test(i)||/^\s*-?\.\d+\s*$/.test(i):!1}var JQe=function(){function i(e){if(Rl(this,i),be(this,"origin",""),be(this,"negative",void 0),be(this,"integer",void 0),be(this,"decimal",void 0),be(this,"decimalLen",void 0),be(this,"empty",void 0),be(this,"nan",void 0),_Se(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var t=e;if(OK(t)&&(t=Number(t)),t=typeof t=="string"?t:xB(t),MK(t)){var n=u_(t);this.negative=n.negative;var r=n.trimStr.split(".");this.integer=BigInt(r[0]);var s=r[1]||"0";this.decimal=BigInt(s),this.decimalLen=s.length}else this.nan=!0}return Dl(i,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var e=new i(this.toString());return e.negative=!e.negative,e}},{key:"cal",value:function(e,t,n){var r=Math.max(this.getDecimalStr().length,e.getDecimalStr().length),s=this.alignDecimal(r),a=e.alignDecimal(r),o=t(s,a).toString(),l=n(r),u=u_(o),c=u.negativeStr,d=u.trimStr,h="".concat(c).concat(d.padStart(l+1,"0"));return new i("".concat(h.slice(0,-l),".").concat(h.slice(-l)))}},{key:"add",value:function(e){if(this.isInvalidate())return new i(e);var t=new i(e);return t.isInvalidate()?this:this.cal(t,function(n,r){return n+r},function(n){return n})}},{key:"multi",value:function(e){var t=new i(e);return this.isInvalidate()||t.isInvalidate()?new i(NaN):this.cal(t,function(n,r){return n*r},function(n){return n*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(e==null?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e?this.isInvalidate()?"":u_("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),i}(),eJe=function(){function i(e){if(Rl(this,i),be(this,"origin",""),be(this,"number",void 0),be(this,"empty",void 0),_Se(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return Dl(i,[{key:"negate",value:function(){return new i(-this.toNumber())}},{key:"add",value:function(e){if(this.isInvalidate())return new i(e);var t=Number(e);if(Number.isNaN(t))return this;var n=this.number+t;if(n>Number.MAX_SAFE_INTEGER)return new i(Number.MAX_SAFE_INTEGER);if(n<Number.MIN_SAFE_INTEGER)return new i(Number.MIN_SAFE_INTEGER);var r=Math.max(Wy(this.number),Wy(t));return new i(n.toFixed(r))}},{key:"multi",value:function(e){var t=Number(e);if(this.isInvalidate()||Number.isNaN(t))return new i(NaN);var n=this.number*t;if(n>Number.MAX_SAFE_INTEGER)return new i(Number.MAX_SAFE_INTEGER);if(n<Number.MIN_SAFE_INTEGER)return new i(Number.MIN_SAFE_INTEGER);var r=Math.max(Wy(this.number),Wy(t));return new i(n.toFixed(r))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(e==null?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e?this.isInvalidate()?"":xB(this.number):this.origin}}]),i}();function bSe(i){return yV()?new JQe(i):new eJe(i)}function L3(i,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(i==="")return"";var r=u_(i),s=r.negativeStr,a=r.integerStr,o=r.decimalStr,l="".concat(e).concat(o),u="".concat(s).concat(a);if(t>=0){var c=Number(o[t]);if(c>=5&&!n){var d=bSe(i).add("".concat(s,"0.").concat("0".repeat(t)).concat(10-c));return L3(d.toString(),e,t,n)}return t===0?u:"".concat(u).concat(e).concat(o.padEnd(t,"0").slice(0,t))}return l===".0"?u:"".concat(u).concat(l)}var Bp=bSe,tJe=oe(si()),jm=oe(si()),xh=oe(ge());function iJe(i){return!!(i.addonBefore||i.addonAfter)}function nJe(i){return!!(i.prefix||i.suffix||i.allowClear)}function qre(i,e,t){var n=e.cloneNode(!0),r=Object.create(i,{target:{value:n},currentTarget:{value:n}});return n.value=t,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(n.selectionStart=e.selectionStart,n.selectionEnd=e.selectionEnd),r}function sD(i,e,t,n){if(t){var r=e;if(e.type==="click"){r=qre(e,i,""),t(r);return}if(i.type!=="file"&&n!==void 0){r=qre(e,i,n),t(r);return}t(r)}}function SSe(i,e){if(i){i.focus(e);var t=e||{},n=t.cursor;if(n){var r=i.value.length;switch(n){case"start":i.setSelectionRange(0,0);break;case"end":i.setSelectionRange(r,r);break;default:i.setSelectionRange(0,r)}}}}var rJe=function(i){var e,t,n=i.inputElement,r=i.children,s=i.prefixCls,a=i.prefix,o=i.suffix,l=i.addonBefore,u=i.addonAfter,c=i.className,d=i.style,h=i.disabled,p=i.readOnly,f=i.focused,g=i.triggerFocus,v=i.allowClear,m=i.value,b=i.handleReset,_=i.hidden,S=i.classes,C=i.classNames,k=i.dataAttrs,E=i.styles,A=i.components,P=r??n,O=(A==null?void 0:A.affixWrapper)||"span",M=(A==null?void 0:A.groupWrapper)||"span",D=(A==null?void 0:A.wrapper)||"span",L=(A==null?void 0:A.groupAddon)||"span",H=(0,xh.useRef)(null),B=function(le){var ve;(ve=H.current)!==null&&ve!==void 0&&ve.contains(le.target)&&(g==null||g())},F=nJe(i),z=(0,xh.cloneElement)(P,{value:m,className:(0,jm.default)(P.props.className,!F&&(C==null?void 0:C.variant))||null});if(F){var N,U=null;if(v){var G,j=!h&&!p&&m,K="".concat(s,"-clear-icon"),ie=hn(v)==="object"&&v!==null&&v!==void 0&&v.clearIcon?v.clearIcon:"";U=xh.default.createElement("span",{onClick:b,onMouseDown:function(le){return le.preventDefault()},className:(0,jm.default)(K,(G={},be(G,"".concat(K,"-hidden"),!j),be(G,"".concat(K,"-has-suffix"),!!o),G)),role:"button",tabIndex:-1},ie)}var ae="".concat(s,"-affix-wrapper"),re=(0,jm.default)(ae,(N={},be(N,"".concat(s,"-disabled"),h),be(N,"".concat(ae,"-disabled"),h),be(N,"".concat(ae,"-focused"),f),be(N,"".concat(ae,"-readonly"),p),be(N,"".concat(ae,"-input-with-clear-btn"),o&&v&&m),N),S==null?void 0:S.affixWrapper,C==null?void 0:C.affixWrapper,C==null?void 0:C.variant),J=(o||v)&&xh.default.createElement("span",{className:(0,jm.default)("".concat(s,"-suffix"),C==null?void 0:C.suffix),style:E==null?void 0:E.suffix},U,o);z=xh.default.createElement(O,Si({className:re,style:E==null?void 0:E.affixWrapper,onClick:B},k==null?void 0:k.affixWrapper,{ref:H}),a&&xh.default.createElement("span",{className:(0,jm.default)("".concat(s,"-prefix"),C==null?void 0:C.prefix),style:E==null?void 0:E.prefix},a),z,J)}if(iJe(i)){var ne="".concat(s,"-group"),te="".concat(ne,"-addon"),Q="".concat(ne,"-wrapper"),se=(0,jm.default)("".concat(s,"-wrapper"),ne,S==null?void 0:S.wrapper,C==null?void 0:C.wrapper),_e=(0,jm.default)(Q,be({},"".concat(Q,"-disabled"),h),S==null?void 0:S.group,C==null?void 0:C.groupWrapper);z=xh.default.createElement(M,{className:_e},xh.default.createElement(D,{className:se},l&&xh.default.createElement(L,{className:te},l),z,u&&xh.default.createElement(L,{className:te},u)))}return xh.default.cloneElement(z,{className:(0,jm.default)((e=z.props)===null||e===void 0?void 0:e.className,c)||null,style:Re(Re({},(t=z.props)===null||t===void 0?void 0:t.style),d),hidden:_})},IK=rJe,Uj=oe(si()),hc=oe(ge()),sJe=oe(ge()),aJe=["show"];function xSe(i,e){return sJe.useMemo(function(){var t={};e&&(t.show=hn(e)==="object"&&e.formatter?e.formatter:!!e),t=Re(Re({},t),i);var n=t,r=n.show,s=gr(n,aJe);return Re(Re({},s),{},{show:!!r,showFormatter:typeof r=="function"?r:void 0,strategy:s.strategy||function(a){return a.length}})},[i,e])}var oJe=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],lJe=(0,hc.forwardRef)(function(i,e){var t=i.autoComplete,n=i.onChange,r=i.onFocus,s=i.onBlur,a=i.onPressEnter,o=i.onKeyDown,l=i.prefixCls,u=l===void 0?"rc-input":l,c=i.disabled,d=i.htmlSize,h=i.className,p=i.maxLength,f=i.suffix,g=i.showCount,v=i.count,m=i.type,b=m===void 0?"text":m,_=i.classes,S=i.classNames,C=i.styles,k=i.onCompositionStart,E=i.onCompositionEnd,A=gr(i,oJe),P=(0,hc.useState)(!1),O=ze(P,2),M=O[0],D=O[1],L=(0,hc.useRef)(!1),H=(0,hc.useRef)(null),B=function(Ae){H.current&&SSe(H.current,Ae)},F=xf(i.defaultValue,{value:i.value}),z=ze(F,2),N=z[0],U=z[1],G=N==null?"":String(N),j=(0,hc.useState)(null),K=ze(j,2),ie=K[0],ae=K[1],re=xSe(v,g),J=re.max||p,ne=re.strategy(G),te=!!J&&ne>J;(0,hc.useImperativeHandle)(e,function(){return{focus:B,blur:function(){var Ae;(Ae=H.current)===null||Ae===void 0||Ae.blur()},setSelectionRange:function(Ae,je,We){var ut;(ut=H.current)===null||ut===void 0||ut.setSelectionRange(Ae,je,We)},select:function(){var Ae;(Ae=H.current)===null||Ae===void 0||Ae.select()},input:H.current}}),(0,hc.useEffect)(function(){D(function(Ae){return Ae&&c?!1:Ae})},[c]);var Q=function(Ae,je,We){var ut=je;if(!L.current&&re.exceedFormatter&&re.max&&re.strategy(je)>re.max){if(ut=re.exceedFormatter(je,{max:re.max}),je!==ut){var vt,_t;ae([((vt=H.current)===null||vt===void 0?void 0:vt.selectionStart)||0,((_t=H.current)===null||_t===void 0?void 0:_t.selectionEnd)||0])}}else if(We.source==="compositionEnd")return;U(ut),H.current&&sD(H.current,Ae,n,ut)};(0,hc.useEffect)(function(){if(ie){var Ae;(Ae=H.current)===null||Ae===void 0||Ae.setSelectionRange.apply(Ae,Bt(ie))}},[ie]);var se=function(Ae){Q(Ae,Ae.target.value,{source:"change"})},_e=function(Ae){L.current=!1,Q(Ae,Ae.currentTarget.value,{source:"compositionEnd"}),E==null||E(Ae)},le=function(Ae){a&&Ae.key==="Enter"&&a(Ae),o==null||o(Ae)},ve=function(Ae){D(!0),r==null||r(Ae)},pe=function(Ae){D(!1),s==null||s(Ae)},Fe=function(Ae){U(""),B(),H.current&&sD(H.current,Ae,n)},Ee=te&&"".concat(u,"-out-of-range"),it=function(){var Ae=um(i,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames"]);return hc.default.createElement("input",Si({autoComplete:t},Ae,{onChange:se,onFocus:ve,onBlur:pe,onKeyDown:le,className:(0,Uj.default)(u,be({},"".concat(u,"-disabled"),c),S==null?void 0:S.input),style:C==null?void 0:C.input,ref:H,size:d,type:b,onCompositionStart:function(je){L.current=!0,k==null||k(je)},onCompositionEnd:_e}))},Qe=function(){var Ae=Number(J)>0;if(f||re.show){var je=re.showFormatter?re.showFormatter({value:G,count:ne,maxLength:J}):"".concat(ne).concat(Ae?" / ".concat(J):"");return hc.default.createElement(hc.default.Fragment,null,re.show&&hc.default.createElement("span",{className:(0,Uj.default)("".concat(u,"-show-count-suffix"),be({},"".concat(u,"-show-count-has-suffix"),!!f),S==null?void 0:S.count),style:Re({},C==null?void 0:C.count)},je),f)}return null};return hc.default.createElement(IK,Si({},A,{prefixCls:u,className:(0,Uj.default)(h,Ee),handleReset:Fe,value:G,focused:M,triggerFocus:B,suffix:Qe(),disabled:c,classes:_,classNames:S,styles:C}),it())}),uJe=lJe,cJe=uJe,os=oe(ge()),dJe=oe(ge());function hJe(i,e){var t=(0,dJe.useRef)(null);function n(){try{var s=i.selectionStart,a=i.selectionEnd,o=i.value,l=o.substring(0,s),u=o.substring(a);t.current={start:s,end:a,value:o,beforeTxt:l,afterTxt:u}}catch{}}function r(){if(i&&t.current&&e)try{var s=i.value,a=t.current,o=a.beforeTxt,l=a.afterTxt,u=a.start,c=s.length;if(s.endsWith(l))c=s.length-t.current.afterTxt.length;else if(s.startsWith(o))c=o.length;else{var d=o[u-1],h=s.indexOf(d,u-1);h!==-1&&(c=h+1)}i.setSelectionRange(c,c)}catch(p){Vd(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(p.message))}}return[n,r]}var Jf=oe(ge()),Zre=oe(si()),pJe=oe(ge()),fJe=function(){var i=(0,pJe.useState)(!1),e=ze(i,2),t=e[0],n=e[1];return cs(function(){n(wK())},[]),t},gJe=fJe,mJe=200,vJe=600;function yJe(i){var e=i.prefixCls,t=i.upNode,n=i.downNode,r=i.upDisabled,s=i.downDisabled,a=i.onStep,o=Jf.useRef(),l=Jf.useRef([]),u=Jf.useRef();u.current=a;var c=function(){clearTimeout(o.current)},d=function(b,_){b.preventDefault(),c(),u.current(_);function S(){u.current(_),o.current=setTimeout(S,mJe)}o.current=setTimeout(S,vJe)};Jf.useEffect(function(){return function(){c(),l.current.forEach(function(b){return fs.cancel(b)})}},[]);var h=gJe();if(h)return null;var p="".concat(e,"-handler"),f=(0,Zre.default)(p,"".concat(p,"-up"),be({},"".concat(p,"-up-disabled"),r)),g=(0,Zre.default)(p,"".concat(p,"-down"),be({},"".concat(p,"-down-disabled"),s)),v=function(){return l.current.push(fs(c))},m={unselectable:"on",role:"button",onMouseUp:v,onMouseLeave:v};return Jf.createElement("div",{className:"".concat(p,"-wrap")},Jf.createElement("span",Si({},m,{onMouseDown:function(b){d(b,!0)},"aria-label":"Increase Value","aria-disabled":r,className:f}),t||Jf.createElement("span",{unselectable:"on",className:"".concat(e,"-handler-up-inner")})),Jf.createElement("span",Si({},m,{onMouseDown:function(b){d(b,!1)},"aria-label":"Decrease Value","aria-disabled":s,className:g}),n||Jf.createElement("span",{unselectable:"on",className:"".concat(e,"-handler-down-inner")})))}function Qre(i){var e=typeof i=="number"?xB(i):u_(i).fullStr,t=e.includes(".");return t?u_(e.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:i+"0"}var Jre=oe(ge()),_Je=function(){var i=(0,Jre.useRef)(0),e=function(){fs.cancel(i.current)};return(0,Jre.useEffect)(function(){return e},[]),function(t){e(),i.current=fs(function(){t()})}},bJe=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur"],SJe=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],ese=function(i,e){return i||e.isEmpty()?e.toString():e.toNumber()},tse=function(i){var e=Bp(i);return e.isInvalidate()?null:e},xJe=os.forwardRef(function(i,e){var t,n=i.prefixCls,r=n===void 0?"rc-input-number":n,s=i.className,a=i.style,o=i.min,l=i.max,u=i.step,c=u===void 0?1:u,d=i.defaultValue,h=i.value,p=i.disabled,f=i.readOnly,g=i.upHandler,v=i.downHandler,m=i.keyboard,b=i.changeOnWheel,_=b===void 0?!1:b,S=i.controls,C=S===void 0?!0:S;i.classNames;var k=i.stringMode,E=i.parser,A=i.formatter,P=i.precision,O=i.decimalSeparator,M=i.onChange,D=i.onInput,L=i.onPressEnter,H=i.onStep,B=i.changeOnBlur,F=B===void 0?!0:B,z=gr(i,bJe),N="".concat(r,"-input"),U=os.useRef(null),G=os.useState(!1),j=ze(G,2),K=j[0],ie=j[1],ae=os.useRef(!1),re=os.useRef(!1),J=os.useRef(!1),ne=os.useState(function(){return Bp(h??d)}),te=ze(ne,2),Q=te[0],se=te[1];function _e(ot){h===void 0&&se(ot)}var le=os.useCallback(function(ot,Ke){if(!Ke)return P>=0?P:Math.max(Wy(ot),Wy(c))},[P,c]),ve=os.useCallback(function(ot){var Ke=String(ot);if(E)return E(Ke);var Ue=Ke;return O&&(Ue=Ue.replace(O,".")),Ue.replace(/[^\w.-]+/g,"")},[E,O]),pe=os.useRef(""),Fe=os.useCallback(function(ot,Ke){if(A)return A(ot,{userTyping:Ke,input:String(pe.current)});var Ue=typeof ot=="number"?xB(ot):ot;if(!Ke){var ai=le(Ue,Ke);if(MK(Ue)&&(O||ai>=0)){var Ge=O||".";Ue=L3(Ue,Ge,ai)}}return Ue},[A,le,O]),Ee=os.useState(function(){var ot=d??h;return Q.isInvalidate()&&["string","number"].includes(hn(ot))?Number.isNaN(ot)?"":ot:Fe(Q.toString(),!1)}),it=ze(Ee,2),Qe=it[0],Ae=it[1];pe.current=Qe;function je(ot,Ke){Ae(Fe(ot.isInvalidate()?ot.toString(!1):ot.toString(!Ke),Ke))}var We=os.useMemo(function(){return tse(l)},[l,P]),ut=os.useMemo(function(){return tse(o)},[o,P]),vt=os.useMemo(function(){return!We||!Q||Q.isInvalidate()?!1:We.lessEquals(Q)},[We,Q]),_t=os.useMemo(function(){return!ut||!Q||Q.isInvalidate()?!1:Q.lessEquals(ut)},[ut,Q]),zt=hJe(U.current,K),Ft=ze(zt,2),Ye=Ft[0],Je=Ft[1],rt=function(ot){return We&&!ot.lessEquals(We)?We:ut&&!ut.lessEquals(ot)?ut:null},dt=function(ot){return!rt(ot)},at=function(ot,Ke){var Ue=ot,ai=dt(Ue)||Ue.isEmpty();if(!Ue.isEmpty()&&!Ke&&(Ue=rt(Ue)||Ue,ai=!0),!f&&!p&&ai){var Ge=Ue.toString(),pt=le(Ge,Ke);return pt>=0&&(Ue=Bp(L3(Ge,".",pt)),dt(Ue)||(Ue=Bp(L3(Ge,".",pt,!0)))),Ue.equals(Q)||(_e(Ue),M==null||M(Ue.isEmpty()?null:ese(k,Ue)),h===void 0&&je(Ue,Ke)),Ue}return Q},Gt=_Je(),ii=function ot(Ke){if(Ye(),pe.current=Ke,Ae(Ke),!re.current){var Ue=ve(Ke),ai=Bp(Ue);ai.isNaN()||at(ai,!0)}D==null||D(Ke),Gt(function(){var Ge=Ke;E||(Ge=Ke.replace(//g,".")),Ge!==Ke&&ot(Ge)})},ci=function(){re.current=!0},qt=function(){re.current=!1,ii(U.current.value)},Zt=function(ot){ii(ot.target.value)},xi=function(ot){var Ke;if(!(ot&&vt||!ot&&_t)){ae.current=!1;var Ue=Bp(J.current?Qre(c):c);ot||(Ue=Ue.negate());var ai=(Q||Bp(0)).add(Ue.toString()),Ge=at(ai,!1);H==null||H(ese(k,Ge),{offset:J.current?Qre(c):c,type:ot?"up":"down"}),(Ke=U.current)===null||Ke===void 0||Ke.focus()}},Ai=function(ot){var Ke=Bp(ve(Qe)),Ue=Ke;Ke.isNaN()?Ue=at(Q,ot):Ue=at(Ke,ot),h!==void 0?je(Q,!1):Ue.isNaN()||je(Ue,!1)},Ii=function(){ae.current=!0},ei=function(ot){var Ke=ot.key,Ue=ot.shiftKey;ae.current=!0,J.current=Ue,Ke==="Enter"&&(re.current||(ae.current=!1),Ai(!1),L==null||L(ot)),m!==!1&&!re.current&&["Up","ArrowUp","Down","ArrowDown"].includes(Ke)&&(xi(Ke==="Up"||Ke==="ArrowUp"),ot.preventDefault())},di=function(){ae.current=!1,J.current=!1};os.useEffect(function(){if(_&&K){var ot=function(Ue){xi(Ue.deltaY<0),Ue.preventDefault()},Ke=U.current;if(Ke)return Ke.addEventListener("wheel",ot,{passive:!1}),function(){return Ke.removeEventListener("wheel",ot)}}});var vi=function(){F&&Ai(!1),ie(!1),ae.current=!1};return kE(function(){Q.isInvalidate()||je(Q,!1)},[P,A]),kE(function(){var ot=Bp(h);se(ot);var Ke=Bp(ve(Qe));(!ot.equals(Ke)||!ae.current||A)&&je(ot,ae.current)},[h]),kE(function(){A&&Je()},[Qe]),os.createElement("div",{className:(0,tJe.default)(r,s,(t={},be(t,"".concat(r,"-focused"),K),be(t,"".concat(r,"-disabled"),p),be(t,"".concat(r,"-readonly"),f),be(t,"".concat(r,"-not-a-number"),Q.isNaN()),be(t,"".concat(r,"-out-of-range"),!Q.isInvalidate()&&!dt(Q)),t)),style:a,onFocus:function(){ie(!0)},onBlur:vi,onKeyDown:ei,onKeyUp:di,onCompositionStart:ci,onCompositionEnd:qt,onBeforeInput:Ii},C&&os.createElement(yJe,{prefixCls:r,upNode:g,downNode:v,upDisabled:vt,downDisabled:_t,onStep:xi}),os.createElement("div",{className:"".concat(N,"-wrap")},os.createElement("input",Si({autoComplete:"off",role:"spinbutton","aria-valuemin":o,"aria-valuemax":l,"aria-valuenow":Q.isInvalidate()?null:Q.toString(),step:c},z,{ref:ih(U,e),className:N,value:Qe,onChange:Zt,disabled:p,readOnly:f}))))}),wSe=os.forwardRef(function(i,e){var t=i.disabled,n=i.style,r=i.prefixCls,s=i.value,a=i.prefix,o=i.suffix,l=i.addonBefore,u=i.addonAfter,c=i.className,d=i.classNames,h=gr(i,SJe),p=os.useRef(null),f=function(g){p.current&&SSe(p.current,g)};return os.createElement(IK,{className:c,triggerFocus:f,prefixCls:r,value:s,disabled:t,style:n,prefix:a,suffix:o,addonAfter:u,addonBefore:l,classNames:d,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"}},os.createElement(xJe,Si({prefixCls:r,disabled:t,ref:ih(p,e),className:d==null?void 0:d.input},h)))});wSe.displayName="InputNumber";var wJe=wSe,CJe=wJe,kJe=i=>{var e;let t=(e=i.handleVisible)!==null&&e!==void 0?e:"auto";return Object.assign(Object.assign({},tSe(i)),{controlWidth:90,handleWidth:i.controlHeightSM-i.lineWidth*2,handleFontSize:i.fontSize/2,handleVisible:t,handleActiveBg:i.colorFillAlter,handleBg:i.colorBgContainer,filledHandleBg:new wo(i.colorFillSecondary).onBackground(i.colorBgContainer).toHexString(),handleHoverColor:i.colorPrimary,handleBorderColor:i.colorBorder,handleOpacity:t===!0?1:0})},ise=(i,e)=>{let{componentCls:t,borderRadiusSM:n,borderRadiusLG:r}=i,s=e==="lg"?r:n;return{[`&-${e}`]:{[`${t}-handler-wrap`]:{borderStartEndRadius:s,borderEndEndRadius:s},[`${t}-handler-up`]:{borderStartEndRadius:s},[`${t}-handler-down`]:{borderEndEndRadius:s}}}},EJe=i=>{let{componentCls:e,lineWidth:t,lineType:n,borderRadius:r,fontSizeLG:s,controlHeightLG:a,controlHeightSM:o,colorError:l,paddingInlineSM:u,paddingBlockSM:c,paddingBlockLG:d,paddingInlineLG:h,colorTextDescription:p,motionDurationMid:f,handleHoverColor:g,paddingInline:v,paddingBlock:m,handleBg:b,handleActiveBg:_,colorTextDisabled:S,borderRadiusSM:C,borderRadiusLG:k,controlWidth:E,handleOpacity:A,handleBorderColor:P,filledHandleBg:O,lineHeightLG:M,calc:D}=i;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qa(i)),SB(i)),{display:"inline-block",width:E,margin:0,padding:0,borderRadius:r}),nSe(i,{[`${e}-handler-wrap`]:{background:b,[`${e}-handler-down`]:{borderBlockStart:`${$t(t)} ${n} ${P}`}}})),oSe(i,{[`${e}-handler-wrap`]:{background:O,[`${e}-handler-down`]:{borderBlockStart:`${$t(t)} ${n} ${P}`}},"&:focus-within":{[`${e}-handler-wrap`]:{background:b}}})),sSe(i)),{"&-rtl":{direction:"rtl",[`${e}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:s,lineHeight:M,borderRadius:k,[`input${e}-input`]:{height:D(a).sub(D(t).mul(2)).equal(),padding:`${$t(d)} ${$t(h)}`}},"&-sm":{padding:0,borderRadius:C,[`input${e}-input`]:{height:D(o).sub(D(t).mul(2)).equal(),padding:`${$t(c)} ${$t(u)}`}},"&-out-of-range":{[`${e}-input-wrap`]:{input:{color:l}}},"&-group":Object.assign(Object.assign(Object.assign({},Qa(i)),hSe(i)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${e}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${e}-group-addon`]:{borderRadius:k,fontSize:i.fontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:C}}},rSe(i)),lSe(i)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${e}-input`]:{cursor:"not-allowed"},[e]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},Qa(i)),{width:"100%",padding:`${$t(m)} ${$t(v)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:r,outline:0,transition:`all ${f} linear`,appearance:"textfield",fontSize:"inherit"}),uSe(i.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})}})},{[e]:Object.assign(Object.assign(Object.assign({[`&:hover ${e}-handler-wrap, &-focused ${e}-handler-wrap`]:{opacity:1},[`${e}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:i.handleWidth,height:"100%",borderStartStartRadius:0,borderStartEndRadius:r,borderEndEndRadius:r,borderEndStartRadius:0,opacity:A,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`opacity ${f} linear ${f}`,[`${e}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${e}-handler-up-inner,
              ${e}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:i.handleFontSize}}},[`${e}-handler`]:{height:"50%",overflow:"hidden",color:p,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${$t(t)} ${n} ${P}`,transition:`all ${f} linear`,"&:active":{background:_},"&:hover":{height:"60%",[`
              ${e}-handler-up-inner,
              ${e}-handler-down-inner
            `]:{color:g}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},aB()),{color:p,transition:`all ${f} linear`,userSelect:"none"})},[`${e}-handler-up`]:{borderStartEndRadius:r},[`${e}-handler-down`]:{borderEndEndRadius:r}},ise(i,"lg")),ise(i,"sm")),{"&-disabled, &-readonly":{[`${e}-handler-wrap`]:{display:"none"},[`${e}-input`]:{color:"inherit"}},[`
          ${e}-handler-up-disabled,
          ${e}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${e}-handler-up-disabled:hover &-handler-up-inner,
          ${e}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:S}})}]},AJe=i=>{let{componentCls:e,paddingBlock:t,paddingInline:n,inputAffixPadding:r,controlWidth:s,borderRadiusLG:a,borderRadiusSM:o,paddingInlineLG:l,paddingInlineSM:u,paddingBlockLG:c,paddingBlockSM:d}=i;return{[`${e}-affix-wrapper`]:Object.assign(Object.assign({[`input${e}-input`]:{padding:`${$t(t)} 0`}},SB(i)),{position:"relative",display:"inline-flex",width:s,padding:0,paddingInlineStart:n,"&-lg":{borderRadius:a,paddingInlineStart:l,[`input${e}-input`]:{padding:`${$t(c)} 0`}},"&-sm":{borderRadius:o,paddingInlineStart:u,[`input${e}-input`]:{padding:`${$t(d)} 0`}},[`&:not(${e}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${e}-disabled`]:{background:"transparent"},[`> div${e}`]:{width:"100%",border:"none",outline:"none",[`&${e}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${e}-handler-wrap`]:{zIndex:2},[e]:{color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:r},"&-suffix":{position:"absolute",insetBlockStart:0,insetInlineEnd:0,zIndex:1,height:"100%",marginInlineEnd:n,marginInlineStart:r}}})}},TJe=qu("InputNumber",i=>{let e=ys(i,eSe(i));return[EJe(e),AJe(e),mB(e)]},kJe,{unitless:{handleOpacity:!0}}),PJe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},CSe=Wa.forwardRef((i,e)=>{let{getPrefixCls:t,direction:n}=Wa.useContext(En),r=Wa.useRef(null);Wa.useImperativeHandle(e,()=>r.current);let{className:s,rootClassName:a,size:o,disabled:l,prefixCls:u,addonBefore:c,addonAfter:d,prefix:h,bordered:p,readOnly:f,status:g,controls:v,variant:m}=i,b=PJe(i,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls","variant"]),_=t("input-number",u),S=qc(_),[C,k,E]=TJe(_,S),{compactSize:A,compactItemClassnames:P}=V2(_,n),O=Wa.createElement(QQe,{className:`${_}-handler-up-inner`}),M=Wa.createElement(N1e,{className:`${_}-handler-down-inner`}),D=typeof v=="boolean"?v:void 0;typeof v=="object"&&(O=typeof v.upIcon>"u"?O:Wa.createElement("span",{className:`${_}-handler-up-inner`},v.upIcon),M=typeof v.downIcon>"u"?M:Wa.createElement("span",{className:`${_}-handler-down-inner`},v.downIcon));let{hasFeedback:L,status:H,isFormItemInput:B,feedbackIcon:F}=Wa.useContext(Ku),z=yB(H,g),N=dm(ne=>{var te;return(te=o??A)!==null&&te!==void 0?te:ne}),U=Wa.useContext(cm),G=l??U,[j,K]=_B(m,p),ie=L&&Wa.createElement(Wa.Fragment,null,F),ae=(0,m1.default)({[`${_}-lg`]:N==="large",[`${_}-sm`]:N==="small",[`${_}-rtl`]:n==="rtl",[`${_}-in-form-item`]:B},k),re=`${_}-group`,J=Wa.createElement(CJe,Object.assign({ref:r,disabled:G,className:(0,m1.default)(E,S,s,a,P),upHandler:O,downHandler:M,prefixCls:_,readOnly:f,controls:D,prefix:h,suffix:ie,addonAfter:d&&Wa.createElement(aT,null,Wa.createElement(tD,{override:!0,status:!0},d)),addonBefore:c&&Wa.createElement(aT,null,Wa.createElement(tD,{override:!0,status:!0},c)),classNames:{input:ae,variant:(0,m1.default)({[`${_}-${j}`]:K},$x(_,z,L)),affixWrapper:(0,m1.default)({[`${_}-affix-wrapper-sm`]:N==="small",[`${_}-affix-wrapper-lg`]:N==="large",[`${_}-affix-wrapper-rtl`]:n==="rtl"},k),wrapper:(0,m1.default)({[`${re}-rtl`]:n==="rtl"},k),groupWrapper:(0,m1.default)({[`${_}-group-wrapper-sm`]:N==="small",[`${_}-group-wrapper-lg`]:N==="large",[`${_}-group-wrapper-rtl`]:n==="rtl",[`${_}-group-wrapper-${j}`]:K},$x(`${_}-group-wrapper`,z,L),k)}},b));return C(J)}),kSe=CSe,OJe=i=>Wa.createElement(lB,{theme:{components:{InputNumber:{handleVisible:!0}}}},Wa.createElement(CSe,Object.assign({},i)));kSe._InternalPanelDoNotUseOrYouWillBeFired=OJe;var MJe=kSe,nse=oe(ge()),Gj=oe(ge()),IJe=oe(si()),RJe=i=>{let{getPrefixCls:e,direction:t}=(0,Gj.useContext)(En),{prefixCls:n,className:r}=i,s=e("input-group",n),a=e("input"),[o,l]=TK(a),u=(0,IJe.default)(s,{[`${s}-lg`]:i.size==="large",[`${s}-sm`]:i.size==="small",[`${s}-compact`]:i.compact,[`${s}-rtl`]:t==="rtl"},l,r),c=(0,Gj.useContext)(Ku),d=(0,Gj.useMemo)(()=>Object.assign(Object.assign({},c),{isFormItemInput:!1}),[c]);return o(nse.createElement("span",{className:u,style:i.style,onMouseEnter:i.onMouseEnter,onMouseLeave:i.onMouseLeave,onFocus:i.onFocus,onBlur:i.onBlur},nse.createElement(Ku.Provider,{value:d},i.children)))},DJe=RJe,pc=oe(ge()),v1=oe(si()),LJe=oe(ge()),FJe=i=>{let e;return typeof i=="object"&&i!=null&&i.clearIcon?e=i:i&&(e={clearIcon:LJe.default.createElement(dB,null)}),e},ESe=FJe,rse=oe(ge());function ASe(i,e){let t=(0,rse.useRef)([]),n=()=>{t.current.push(setTimeout(()=>{var r,s,a,o;!((r=i.current)===null||r===void 0)&&r.input&&((s=i.current)===null||s===void 0?void 0:s.input.getAttribute("type"))==="password"&&!((a=i.current)===null||a===void 0)&&a.input.hasAttribute("value")&&((o=i.current)===null||o===void 0||o.input.removeAttribute("value"))}))};return(0,rse.useEffect)(()=>(e&&n(),()=>t.current.forEach(r=>{r&&clearTimeout(r)})),[]),n}function BJe(i){return!!(i.prefix||i.suffix||i.allowClear||i.showCount)}var $Je=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};function NJe(i,e){if(!i)return;i.focus(e);let{cursor:t}=e||{};if(t){let n=i.value.length;switch(t){case"start":i.setSelectionRange(0,0);break;case"end":i.setSelectionRange(n,n);break;default:i.setSelectionRange(0,n);break}}}var jJe=(0,pc.forwardRef)((i,e)=>{var t;let{prefixCls:n,bordered:r=!0,status:s,size:a,disabled:o,onBlur:l,onFocus:u,suffix:c,allowClear:d,addonAfter:h,addonBefore:p,className:f,style:g,styles:v,rootClassName:m,onChange:b,classNames:_,variant:S}=i,C=$Je(i,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:k,direction:E,input:A}=pc.default.useContext(En),P=k("input",n),O=(0,pc.useRef)(null),M=qc(P),[D,L,H]=TK(P,M),{compactSize:B,compactItemClassnames:F}=V2(P,E),z=dm(ve=>{var pe;return(pe=a??B)!==null&&pe!==void 0?pe:ve}),N=pc.default.useContext(cm),U=o??N,{status:G,hasFeedback:j,feedbackIcon:K}=(0,pc.useContext)(Ku),ie=yB(G,s),ae=BJe(i)||!!j;(0,pc.useRef)(ae);let re=ASe(O,!0),J=ve=>{re(),l==null||l(ve)},ne=ve=>{re(),u==null||u(ve)},te=ve=>{re(),b==null||b(ve)},Q=(j||c)&&pc.default.createElement(pc.default.Fragment,null,c,j&&K),se=ESe(d??(A==null?void 0:A.allowClear)),[_e,le]=_B(S,r);return D(pc.default.createElement(cJe,Object.assign({ref:ih(e,O),prefixCls:P,autoComplete:A==null?void 0:A.autoComplete},C,{disabled:U,onBlur:J,onFocus:ne,style:Object.assign(Object.assign({},A==null?void 0:A.style),g),styles:Object.assign(Object.assign({},A==null?void 0:A.styles),v),suffix:Q,allowClear:se,className:(0,v1.default)(f,m,H,M,F,A==null?void 0:A.className),onChange:te,addonAfter:h&&pc.default.createElement(aT,null,pc.default.createElement(tD,{override:!0,status:!0},h)),addonBefore:p&&pc.default.createElement(aT,null,pc.default.createElement(tD,{override:!0,status:!0},p)),classNames:Object.assign(Object.assign(Object.assign({},_),A==null?void 0:A.classNames),{input:(0,v1.default)({[`${P}-sm`]:z==="small",[`${P}-lg`]:z==="large",[`${P}-rtl`]:E==="rtl"},_==null?void 0:_.input,(t=A==null?void 0:A.classNames)===null||t===void 0?void 0:t.input,L),variant:(0,v1.default)({[`${P}-${_e}`]:le},$x(P,ie)),affixWrapper:(0,v1.default)({[`${P}-affix-wrapper-sm`]:z==="small",[`${P}-affix-wrapper-lg`]:z==="large",[`${P}-affix-wrapper-rtl`]:E==="rtl"},L),wrapper:(0,v1.default)({[`${P}-group-rtl`]:E==="rtl"},L),groupWrapper:(0,v1.default)({[`${P}-group-wrapper-sm`]:z==="small",[`${P}-group-wrapper-lg`]:z==="large",[`${P}-group-wrapper-rtl`]:E==="rtl",[`${P}-group-wrapper-${_e}`]:le},$x(`${P}-group-wrapper`,ie,j),L)})})))}),RK=jJe,fg=oe(ge()),sse=oe(ge()),TSe=oe(ge()),zJe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},HJe=zJe,VJe=function(i,e){return TSe.createElement(Xc,Si({},i,{ref:e,icon:HJe}))},WJe=TSe.forwardRef(VJe),UJe=WJe,PSe=oe(ge()),GJe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},YJe=GJe,KJe=function(i,e){return PSe.createElement(Xc,Si({},i,{ref:e,icon:YJe}))},XJe=PSe.forwardRef(KJe),qJe=XJe,ZJe=oe(si()),QJe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},JJe=i=>i?fg.createElement(qJe,null):fg.createElement(UJe,null),eet={click:"onClick",hover:"onMouseOver"},tet=fg.forwardRef((i,e)=>{let{visibilityToggle:t=!0}=i,n=typeof t=="object"&&t.visible!==void 0,[r,s]=(0,sse.useState)(()=>n?t.visible:!1),a=(0,sse.useRef)(null);fg.useEffect(()=>{n&&s(t.visible)},[n,t]);let o=ASe(a),l=()=>{let{disabled:C}=i;C||(r&&o(),s(k=>{var E;let A=!k;return typeof t=="object"&&((E=t.onVisibleChange)===null||E===void 0||E.call(t,A)),A}))},u=C=>{let{action:k="click",iconRender:E=JJe}=i,A=eet[k]||"",P=E(r),O={[A]:l,className:`${C}-icon`,key:"passwordIcon",onMouseDown:M=>{M.preventDefault()},onMouseUp:M=>{M.preventDefault()}};return fg.cloneElement(fg.isValidElement(P)?P:fg.createElement("span",null,P),O)},{className:c,prefixCls:d,inputPrefixCls:h,size:p}=i,f=QJe(i,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:g}=fg.useContext(En),v=g("input",h),m=g("input-password",d),b=t&&u(m),_=(0,ZJe.default)(m,c,{[`${m}-${p}`]:!!p}),S=Object.assign(Object.assign({},um(f,["suffix","iconRender","visibilityToggle"])),{type:r?"text":"password",className:_,prefixCls:v,suffix:b});return p&&(S.size=p),fg.createElement(RK,Object.assign({ref:ih(e,a)},S))}),iet=tet,oy=oe(ge()),net=oe(si()),ret=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},set=oy.forwardRef((i,e)=>{let{prefixCls:t,inputPrefixCls:n,className:r,size:s,suffix:a,enterButton:o=!1,addonAfter:l,loading:u,disabled:c,onSearch:d,onChange:h,onCompositionStart:p,onCompositionEnd:f}=i,g=ret(i,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:v,direction:m}=oy.useContext(En),b=oy.useRef(!1),_=v("input-search",t),S=v("input",n),{compactSize:C}=V2(_,m),k=dm(G=>{var j;return(j=s??C)!==null&&j!==void 0?j:G}),E=oy.useRef(null),A=G=>{G&&G.target&&G.type==="click"&&d&&d(G.target.value,G,{source:"clear"}),h&&h(G)},P=G=>{var j;document.activeElement===((j=E.current)===null||j===void 0?void 0:j.input)&&G.preventDefault()},O=G=>{var j,K;d&&d((K=(j=E.current)===null||j===void 0?void 0:j.input)===null||K===void 0?void 0:K.value,G,{source:"input"})},M=G=>{b.current||u||O(G)},D=typeof o=="boolean"?oy.createElement(z1e,null):null,L=`${_}-button`,H,B=o||{},F=B.type&&B.type.__ANT_BUTTON===!0;F||B.type==="button"?H=p0(B,Object.assign({onMouseDown:P,onClick:G=>{var j,K;(K=(j=B==null?void 0:B.props)===null||j===void 0?void 0:j.onClick)===null||K===void 0||K.call(j,G),O(G)},key:"enterButton"},F?{className:L,size:k}:{})):H=oy.createElement(eD,{className:L,type:o?"primary":void 0,size:k,disabled:c,key:"enterButton",onMouseDown:P,onClick:O,loading:u,icon:D},o),l&&(H=[H,p0(l,{key:"addonAfter"})]);let z=(0,net.default)(_,{[`${_}-rtl`]:m==="rtl",[`${_}-${k}`]:!!k,[`${_}-with-button`]:!!o},r),N=G=>{b.current=!0,p==null||p(G)},U=G=>{b.current=!1,f==null||f(G)};return oy.createElement(RK,Object.assign({ref:ih(E,e),onPressEnter:M},g,{size:k,onCompositionStart:N,onCompositionEnd:U,prefixCls:S,addonAfter:H,suffix:a,onChange:A,className:z,disabled:c}))}),aet=set,ly=oe(ge()),oet=oe(ge()),WM=oe(si()),UM=oe(si()),Au=oe(ge()),uet=oe(si()),Pp=oe(ge()),cet=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,det=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],Yj={},fd;function het(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=i.getAttribute("id")||i.getAttribute("data-reactid")||i.getAttribute("name");if(e&&Yj[t])return Yj[t];var n=window.getComputedStyle(i),r=n.getPropertyValue("box-sizing")||n.getPropertyValue("-moz-box-sizing")||n.getPropertyValue("-webkit-box-sizing"),s=parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("padding-top")),a=parseFloat(n.getPropertyValue("border-bottom-width"))+parseFloat(n.getPropertyValue("border-top-width")),o=det.map(function(u){return"".concat(u,":").concat(n.getPropertyValue(u))}).join(";"),l={sizingStyle:o,paddingSize:s,borderSize:a,boxSizing:r};return e&&t&&(Yj[t]=l),l}function pet(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;fd||(fd=document.createElement("textarea"),fd.setAttribute("tab-index","-1"),fd.setAttribute("aria-hidden","true"),document.body.appendChild(fd)),i.getAttribute("wrap")?fd.setAttribute("wrap",i.getAttribute("wrap")):fd.removeAttribute("wrap");var r=het(i,e),s=r.paddingSize,a=r.borderSize,o=r.boxSizing,l=r.sizingStyle;fd.setAttribute("style","".concat(l,";").concat(cet)),fd.value=i.value||i.placeholder||"";var u=void 0,c=void 0,d,h=fd.scrollHeight;if(o==="border-box"?h+=a:o==="content-box"&&(h-=s),t!==null||n!==null){fd.value=" ";var p=fd.scrollHeight-s;t!==null&&(u=p*t,o==="border-box"&&(u=u+s+a),h=Math.max(u,h)),n!==null&&(c=p*n,o==="border-box"&&(c=c+s+a),d=h>c?"":"hidden",h=Math.min(c,h))}var f={height:h,overflowY:d,resize:"none"};return u&&(f.minHeight=u),c&&(f.maxHeight=c),f}var fet=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],Kj=0,Xj=1,qj=2,get=Pp.forwardRef(function(i,e){var t=i,n=t.prefixCls;t.onPressEnter;var r=t.defaultValue,s=t.value,a=t.autoSize,o=t.onResize,l=t.className,u=t.style,c=t.disabled,d=t.onChange;t.onInternalAutoSize;var h=gr(t,fet),p=xf(r,{value:s,postState:function(ie){return ie??""}}),f=ze(p,2),g=f[0],v=f[1],m=function(ie){v(ie.target.value),d==null||d(ie)},b=Pp.useRef();Pp.useImperativeHandle(e,function(){return{textArea:b.current}});var _=Pp.useMemo(function(){return a&&hn(a)==="object"?[a.minRows,a.maxRows]:[]},[a]),S=ze(_,2),C=S[0],k=S[1],E=!!a,A=function(){try{if(document.activeElement===b.current){var ie=b.current,ae=ie.selectionStart,re=ie.selectionEnd,J=ie.scrollTop;b.current.setSelectionRange(ae,re),b.current.scrollTop=J}}catch{}},P=Pp.useState(qj),O=ze(P,2),M=O[0],D=O[1],L=Pp.useState(),H=ze(L,2),B=H[0],F=H[1],z=function(){D(Kj)};cs(function(){E&&z()},[s,C,k,E]),cs(function(){if(M===Kj)D(Xj);else if(M===Xj){var ie=pet(b.current,!1,C,k);D(qj),F(ie)}else A()},[M]);var N=Pp.useRef(),U=function(){fs.cancel(N.current)},G=function(ie){M===qj&&(o==null||o(ie),a&&(U(),N.current=fs(function(){z()})))};Pp.useEffect(function(){return U},[]);var j=E?B:null,K=Re(Re({},u),j);return(M===Kj||M===Xj)&&(K.overflowY="hidden",K.overflowX="hidden"),Pp.createElement(pb,{onResize:G,disabled:!(a||o)},Pp.createElement("textarea",Si({},h,{ref:b,style:K,className:(0,uet.default)(n,l,be({},"".concat(n,"-disabled"),c)),disabled:c,value:g,onChange:m})))}),met=get,vet=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize"],yet=Au.default.forwardRef(function(i,e){var t,n,r=i.defaultValue,s=i.value,a=i.onFocus,o=i.onBlur,l=i.onChange,u=i.allowClear,c=i.maxLength,d=i.onCompositionStart,h=i.onCompositionEnd,p=i.suffix,f=i.prefixCls,g=f===void 0?"rc-textarea":f,v=i.showCount,m=i.count,b=i.className,_=i.style,S=i.disabled,C=i.hidden,k=i.classNames,E=i.styles,A=i.onResize,P=gr(i,vet),O=xf(r,{value:s,defaultValue:r}),M=ze(O,2),D=M[0],L=M[1],H=D==null?"":String(D),B=Au.default.useState(!1),F=ze(B,2),z=F[0],N=F[1],U=Au.default.useRef(!1),G=Au.default.useState(null),j=ze(G,2),K=j[0],ie=j[1],ae=(0,Au.useRef)(null),re=function(){var Je;return(Je=ae.current)===null||Je===void 0?void 0:Je.textArea},J=function(){re().focus()};(0,Au.useImperativeHandle)(e,function(){return{resizableTextArea:ae.current,focus:J,blur:function(){re().blur()}}}),(0,Au.useEffect)(function(){N(function(Je){return!S&&Je})},[S]);var ne=Au.default.useState(null),te=ze(ne,2),Q=te[0],se=te[1];Au.default.useEffect(function(){if(Q){var Je;(Je=re()).setSelectionRange.apply(Je,Bt(Q))}},[Q]);var _e=xSe(m,v),le=(t=_e.max)!==null&&t!==void 0?t:c,ve=Number(le)>0,pe=_e.strategy(H),Fe=!!le&&pe>le,Ee=function(Je,rt){var dt=rt;!U.current&&_e.exceedFormatter&&_e.max&&_e.strategy(rt)>_e.max&&(dt=_e.exceedFormatter(rt,{max:_e.max}),rt!==dt&&se([re().selectionStart||0,re().selectionEnd||0])),L(dt),sD(Je.currentTarget,Je,l,dt)},it=function(Je){U.current=!0,d==null||d(Je)},Qe=function(Je){U.current=!1,Ee(Je,Je.currentTarget.value),h==null||h(Je)},Ae=function(Je){Ee(Je,Je.target.value)},je=function(Je){var rt=P.onPressEnter,dt=P.onKeyDown;Je.key==="Enter"&&rt&&rt(Je),dt==null||dt(Je)},We=function(Je){N(!0),a==null||a(Je)},ut=function(Je){N(!1),o==null||o(Je)},vt=function(Je){L(""),J(),sD(re(),Je,l)},_t=p,zt;_e.show&&(_e.showFormatter?zt=_e.showFormatter({value:H,count:pe,maxLength:le}):zt="".concat(pe).concat(ve?" / ".concat(le):""),_t=Au.default.createElement(Au.default.Fragment,null,_t,Au.default.createElement("span",{className:(0,UM.default)("".concat(g,"-data-count"),k==null?void 0:k.count),style:E==null?void 0:E.count},zt)));var Ft=function(Je){var rt;A==null||A(Je),(rt=re())!==null&&rt!==void 0&&rt.style.height&&ie(!0)},Ye=!P.autoSize&&!v&&!u;return Au.default.createElement(IK,{value:H,allowClear:u,handleReset:vt,suffix:_t,prefixCls:g,classNames:Re(Re({},k),{},{affixWrapper:(0,UM.default)(k==null?void 0:k.affixWrapper,(n={},be(n,"".concat(g,"-show-count"),v),be(n,"".concat(g,"-textarea-allow-clear"),u),n))}),disabled:S,focused:z,className:(0,UM.default)(b,Fe&&"".concat(g,"-out-of-range")),style:Re(Re({},_),K&&!Ye?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof zt=="string"?zt:void 0}},hidden:C},Au.default.createElement(met,Si({},P,{maxLength:c,onKeyDown:je,onChange:Ae,onFocus:We,onBlur:ut,onCompositionStart:it,onCompositionEnd:Qe,className:(0,UM.default)(k==null?void 0:k.textarea),style:Re(Re({},E==null?void 0:E.textarea),{},{resize:_==null?void 0:_.resize}),disabled:S,prefixCls:g,onResize:Ft,ref:ae})))}),_et=yet,bet=_et,xet=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},wet=(0,oet.forwardRef)((i,e)=>{var t,n;let{prefixCls:r,bordered:s=!0,size:a,disabled:o,status:l,allowClear:u,classNames:c,rootClassName:d,className:h,style:p,styles:f,variant:g}=i,v=xet(i,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:m,direction:b,textArea:_}=ly.useContext(En),S=dm(a),C=ly.useContext(cm),k=o??C,{status:E,hasFeedback:A,feedbackIcon:P}=ly.useContext(Ku),O=yB(E,l),M=ly.useRef(null);ly.useImperativeHandle(e,()=>{var G;return{resizableTextArea:(G=M.current)===null||G===void 0?void 0:G.resizableTextArea,focus:j=>{var K,ie;NJe((ie=(K=M.current)===null||K===void 0?void 0:K.resizableTextArea)===null||ie===void 0?void 0:ie.textArea,j)},blur:()=>{var j;return(j=M.current)===null||j===void 0?void 0:j.blur()}}});let D=m("input",r),L=qc(D),[H,B,F]=TK(D,L),[z,N]=_B(g,s),U=ESe(u??(_==null?void 0:_.allowClear));return H(ly.createElement(bet,Object.assign({autoComplete:_==null?void 0:_.autoComplete},v,{style:Object.assign(Object.assign({},_==null?void 0:_.style),p),styles:Object.assign(Object.assign({},_==null?void 0:_.styles),f),disabled:k,allowClear:U,className:(0,WM.default)(F,L,h,d,_==null?void 0:_.className),classNames:Object.assign(Object.assign(Object.assign({},c),_==null?void 0:_.classNames),{textarea:(0,WM.default)({[`${D}-sm`]:S==="small",[`${D}-lg`]:S==="large"},B,c==null?void 0:c.textarea,(t=_==null?void 0:_.classNames)===null||t===void 0?void 0:t.textarea),variant:(0,WM.default)({[`${D}-${z}`]:N},$x(D,O)),affixWrapper:(0,WM.default)(`${D}-textarea-affix-wrapper`,{[`${D}-affix-wrapper-rtl`]:b==="rtl",[`${D}-affix-wrapper-sm`]:S==="small",[`${D}-affix-wrapper-lg`]:S==="large",[`${D}-textarea-show-count`]:i.showCount||((n=i.count)===null||n===void 0?void 0:n.show)},B)}),prefixCls:D,suffix:A&&ly.createElement("span",{className:`${D}-textarea-suffix`},P),ref:M})))}),Cet=wet,Y2=RK;Y2.Group=DJe;Y2.Search=aet;Y2.TextArea=Cet;Y2.Password=iet;var ase=Y2,y1=oe(ge()),ose=oe(si());function lse(i){return["small","middle","large"].includes(i)}function use(i){return i?typeof i=="number"&&!Number.isNaN(i):!1}var ket=oe(ge()),OSe=ket.default.createContext({latestIndex:0}),Eet=OSe.Provider,ck=oe(ge()),Aet=i=>{let{className:e,index:t,children:n,split:r,style:s}=i,{latestIndex:a}=ck.useContext(OSe);return n==null?null:ck.createElement(ck.Fragment,null,ck.createElement("div",{className:e,style:s},n),t<a&&r&&ck.createElement("span",{className:`${e}-split`},r))},Tet=Aet,Pet=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},Oet=y1.forwardRef((i,e)=>{var t,n;let{getPrefixCls:r,space:s,direction:a}=y1.useContext(En),{size:o=(s==null?void 0:s.size)||"small",align:l,className:u,rootClassName:c,children:d,direction:h="horizontal",prefixCls:p,split:f,style:g,wrap:v=!1,classNames:m,styles:b}=i,_=Pet(i,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[S,C]=Array.isArray(o)?o:[o,o],k=lse(C),E=lse(S),A=use(C),P=use(S),O=h0(d,{keepEmpty:!0}),M=l===void 0&&h==="horizontal"?"center":l,D=r("space",p),[L,H,B]=Hbe(D),F=(0,ose.default)(D,s==null?void 0:s.className,H,`${D}-${h}`,{[`${D}-rtl`]:a==="rtl",[`${D}-align-${M}`]:M,[`${D}-gap-row-${C}`]:k,[`${D}-gap-col-${S}`]:E},u,c,B),z=(0,ose.default)(`${D}-item`,(t=m==null?void 0:m.item)!==null&&t!==void 0?t:(n=s==null?void 0:s.classNames)===null||n===void 0?void 0:n.item),N=0,U=O.map((K,ie)=>{var ae,re;K!=null&&(N=ie);let J=K&&K.key||`${z}-${ie}`;return y1.createElement(Tet,{className:z,key:J,index:ie,split:f,style:(ae=b==null?void 0:b.item)!==null&&ae!==void 0?ae:(re=s==null?void 0:s.styles)===null||re===void 0?void 0:re.item},K)}),G=y1.useMemo(()=>({latestIndex:N}),[N]);if(O.length===0)return null;let j={};return v&&(j.flexWrap="wrap"),!E&&P&&(j.columnGap=S),!k&&A&&(j.rowGap=C),L(y1.createElement("div",Object.assign({ref:e,className:F,style:Object.assign(Object.assign(Object.assign({},j),s==null?void 0:s.style),g)},_),y1.createElement(Eet,{value:G},U)))}),MSe=Oet;MSe.Compact=nUe;var _V=MSe,cse=oe(si()),_1=oe(ge()),Met=oe(ge()),dse=oe(ge());function aD(i){let[e,t]=dse.useState(i);return dse.useEffect(()=>{let n=setTimeout(()=>{t(i)},i.length?0:10);return()=>{clearTimeout(n)}},[i]),e}var Iet=i=>{let{componentCls:e}=i,t=`${e}-show-help`,n=`${e}-show-help-item`;return{[t]:{transition:`opacity ${i.motionDurationSlow} ${i.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[n]:{overflow:"hidden",transition:`height ${i.motionDurationSlow} ${i.motionEaseInOut},
                     opacity ${i.motionDurationSlow} ${i.motionEaseInOut},
                     transform ${i.motionDurationSlow} ${i.motionEaseInOut} !important`,[`&${n}-appear, &${n}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${n}-leave-active`]:{transform:"translateY(-5px)"}}}}},Ret=Iet,Det=i=>({legend:{display:"block",width:"100%",marginBottom:i.marginLG,padding:0,color:i.colorTextDescription,fontSize:i.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${$t(i.lineWidth)} ${i.lineType} ${i.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${$t(i.controlOutlineWidth)} ${i.controlOutline}`},output:{display:"block",paddingTop:15,color:i.colorText,fontSize:i.fontSize,lineHeight:i.lineHeight}}),hse=(i,e)=>{let{formItemCls:t}=i;return{[t]:{[`${t}-label > label`]:{height:e},[`${t}-control-input`]:{minHeight:e}}}},Let=i=>{let{componentCls:e}=i;return{[i.componentCls]:Object.assign(Object.assign(Object.assign({},Qa(i)),Det(i)),{[`${e}-text`]:{display:"inline-block",paddingInlineEnd:i.paddingSM},"&-small":Object.assign({},hse(i,i.controlHeightSM)),"&-large":Object.assign({},hse(i,i.controlHeightLG))})}},Fet=i=>{let{formItemCls:e,iconCls:t,componentCls:n,rootPrefixCls:r,labelRequiredMarkColor:s,labelColor:a,labelFontSize:o,labelHeight:l,labelColonMarginInlineStart:u,labelColonMarginInlineEnd:c,itemMarginBottom:d}=i;return{[e]:Object.assign(Object.assign({},Qa(i)),{marginBottom:d,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden.${r}-row`]:{display:"none"},"&-has-warning":{[`${e}-split`]:{color:i.colorError}},"&-has-error":{[`${e}-split`]:{color:i.colorWarning}},[`${e}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:i.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:l,color:a,fontSize:o,[`> ${t}`]:{fontSize:i.fontSize,verticalAlign:"top"},[`&${e}-required:not(${e}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:i.marginXXS,color:s,fontSize:i.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${n}-hide-required-mark &`]:{display:"none"}},[`${e}-optional`]:{display:"inline-block",marginInlineStart:i.marginXXS,color:i.colorTextDescription,[`${n}-hide-required-mark &`]:{display:"none"}},[`${e}-tooltip`]:{color:i.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:i.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:u,marginInlineEnd:c},[`&${e}-no-colon::after`]:{content:'"\\a0"'}}},[`${e}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${r}-col-'"]):not([class*="' ${r}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:i.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[e]:{"&-explain, &-extra":{clear:"both",color:i.colorTextDescription,fontSize:i.fontSize,lineHeight:i.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:i.controlHeightSM,transition:`color ${i.motionDurationMid} ${i.motionEaseOut}`},"&-explain":{"&-error":{color:i.colorError},"&-warning":{color:i.colorWarning}}},[`&-with-help ${e}-explain`]:{height:"auto",opacity:1},[`${e}-feedback-icon`]:{fontSize:i.fontSize,textAlign:"center",visibility:"visible",animationName:xK,animationDuration:i.motionDurationMid,animationTimingFunction:i.motionEaseOutBack,pointerEvents:"none","&-success":{color:i.colorSuccess},"&-error":{color:i.colorError},"&-warning":{color:i.colorWarning},"&-validating":{color:i.colorPrimary}}})}},Bet=i=>{let{componentCls:e,formItemCls:t}=i;return{[`${e}-horizontal`]:{[`${t}-label`]:{flexGrow:0},[`${t}-control`]:{flex:"1 1 0",minWidth:0},[`${t}-label[class$='-24'], ${t}-label[class*='-24 ']`]:{[`& + ${t}-control`]:{minWidth:"unset"}}}}},$et=i=>{let{componentCls:e,formItemCls:t}=i;return{[`${e}-inline`]:{display:"flex",flexWrap:"wrap",[t]:{flex:"none",marginInlineEnd:i.margin,marginBottom:0,"&-row":{flexWrap:"nowrap"},[`> ${t}-label,
        > ${t}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${t}-label`]:{flex:"none"},[`${e}-text`]:{display:"inline-block"},[`${t}-has-feedback`]:{display:"inline-block"}}}}},Z1=i=>({padding:i.verticalLabelPadding,margin:i.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),Net=i=>{let{componentCls:e,formItemCls:t,rootPrefixCls:n}=i;return{[`${t} ${t}-label`]:Z1(i),[`${e}:not(${e}-inline)`]:{[t]:{flexWrap:"wrap",[`${t}-label, ${t}-control`]:{[`&:not([class*=" ${n}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},jet=i=>{let{componentCls:e,formItemCls:t,rootPrefixCls:n}=i;return{[`${e}-vertical`]:{[t]:{"&-row":{flexDirection:"column"},"&-label > label":{height:"auto"},[`${e}-item-control`]:{width:"100%"}}},[`${e}-vertical ${t}-label,
      .${n}-col-24${t}-label,
      .${n}-col-xl-24${t}-label`]:Z1(i),[`@media (max-width: ${$t(i.screenXSMax)})`]:[Net(i),{[e]:{[`.${n}-col-xs-24${t}-label`]:Z1(i)}}],[`@media (max-width: ${$t(i.screenSMMax)})`]:{[e]:{[`.${n}-col-sm-24${t}-label`]:Z1(i)}},[`@media (max-width: ${$t(i.screenMDMax)})`]:{[e]:{[`.${n}-col-md-24${t}-label`]:Z1(i)}},[`@media (max-width: ${$t(i.screenLGMax)})`]:{[e]:{[`.${n}-col-lg-24${t}-label`]:Z1(i)}}}},zet=i=>({labelRequiredMarkColor:i.colorError,labelColor:i.colorTextHeading,labelFontSize:i.fontSize,labelHeight:i.controlHeight,labelColonMarginInlineStart:i.marginXXS/2,labelColonMarginInlineEnd:i.marginXS,itemMarginBottom:i.marginLG,verticalLabelPadding:`0 0 ${i.paddingXS}px`,verticalLabelMargin:0}),ISe=(i,e)=>ys(i,{formItemCls:`${i.componentCls}-item`,rootPrefixCls:e}),DK=qu("Form",(i,e)=>{let{rootPrefixCls:t}=e,n=ISe(i,t);return[Let(n),Fet(n),Ret(n),Bet(n),$et(n),jet(n),BYe(n),xK]},zet,{order:-1e3}),pse=[];function Zj(i,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof i=="string"?i:`${e}-${n}`,error:i,errorStatus:t}}var Het=i=>{let{help:e,helpStatus:t,errors:n=pse,warnings:r=pse,className:s,fieldId:a,onVisibleChanged:o}=i,{prefixCls:l}=_1.useContext(bK),u=`${l}-item-explain`,c=qc(l),[d,h,p]=DK(l,c),f=(0,Met.useMemo)(()=>kne(l),[l]),g=aD(n),v=aD(r),m=_1.useMemo(()=>e!=null?[Zj(e,"help",t)]:[].concat(Bt(g.map((_,S)=>Zj(_,"error","error",S))),Bt(v.map((_,S)=>Zj(_,"warning","warning",S)))),[e,t,g,v]),b={};return a&&(b.id=`${a}_help`),d(_1.createElement(z2,{motionDeadline:f.motionDeadline,motionName:`${l}-show-help`,visible:!!m.length,onVisibleChanged:o},_=>{let{className:S,style:C}=_;return _1.createElement("div",Object.assign({},b,{className:(0,cse.default)(u,S,p,c,s,h),style:C,role:"alert"}),_1.createElement(cbe,Object.assign({keys:m},kne(l),{motionName:`${l}-show-help-item`,component:!1}),k=>{let{key:E,error:A,errorStatus:P,className:O,style:M}=k;return _1.createElement("div",{key:E,className:(0,cse.default)(O,{[`${u}-${P}`]:P}),style:M},A)}))}))},RSe=Het,Oh=oe(ge()),fse=oe(ge()),Vet=oe(si()),gse=oe(ge()),Wet=["parentNode"],Uet="form_item";function PE(i){return i===void 0||i===!1?[]:Array.isArray(i)?i:[i]}function DSe(i,e){if(!i.length)return;let t=i.join("_");return e?`${e}_${t}`:Wet.includes(t)?`${Uet}_${t}`:t}function LSe(i,e,t,n,r,s){let a=n;return s!==void 0?a=s:t.validating?a="validating":i.length?a="error":e.length?a="warning":(t.touched||r&&t.validated)&&(a="success"),a}function mse(i){return PE(i).join("_")}function FSe(i){let[e]=_K(),t=gse.useRef({}),n=gse.useMemo(()=>i??Object.assign(Object.assign({},e),{__INTERNAL__:{itemRef:r=>s=>{let a=mse(r);s?t.current[a]=s:delete t.current[a]}},scrollToField:function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=PE(r),o=DSe(a,n.__INTERNAL__.name),l=o?document.getElementById(o):null;l&&j5e(l,Object.assign({scrollMode:"if-needed",block:"nearest"},s))},getFieldInstance:r=>{let s=mse(r);return t.current[s]}}),[i,e]);return[n]}var Get=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},Yet=(i,e)=>{let t=Oh.useContext(cm),{getPrefixCls:n,direction:r,form:s}=Oh.useContext(En),{prefixCls:a,className:o,rootClassName:l,size:u,disabled:c=t,form:d,colon:h,labelAlign:p,labelWrap:f,labelCol:g,wrapperCol:v,hideRequiredMark:m,layout:b="horizontal",scrollToFirstError:_,requiredMark:S,onFinishFailed:C,name:k,style:E,feedbackIcons:A,variant:P}=i,O=Get(i,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),M=dm(u),D=Oh.useContext(P_e),L=(0,fse.useMemo)(()=>S!==void 0?S:m?!1:s&&s.requiredMark!==void 0?s.requiredMark:!0,[m,S,s]),H=h??(s==null?void 0:s.colon),B=n("form",a),F=qc(B),[z,N,U]=DK(B,F),G=(0,Vet.default)(B,`${B}-${b}`,{[`${B}-hide-required-mark`]:L===!1,[`${B}-rtl`]:r==="rtl",[`${B}-${M}`]:M},U,F,N,s==null?void 0:s.className,o,l),[j]=FSe(d),{__INTERNAL__:K}=j;K.name=k;let ie=(0,fse.useMemo)(()=>({name:k,labelAlign:p,labelCol:g,labelWrap:f,wrapperCol:v,vertical:b==="vertical",colon:H,requiredMark:L,itemRef:K.itemRef,form:j,feedbackIcons:A}),[k,p,g,v,b,H,L,j,A]);Oh.useImperativeHandle(e,()=>j);let ae=(J,ne)=>{if(J){let te={block:"nearest"};typeof J=="object"&&(te=J),j.scrollToField(ne,te)}},re=J=>{if(C==null||C(J),J.errorFields.length){let ne=J.errorFields[0].name;if(_!==void 0){ae(_,ne);return}s&&s.scrollToFirstError!==void 0&&ae(s.scrollToFirstError,ne)}};return z(Oh.createElement(o1e.Provider,{value:P},Oh.createElement(N_e,{disabled:c},Oh.createElement(j2.Provider,{value:M},Oh.createElement(a1e,{validateMessages:D},Oh.createElement(Kg.Provider,{value:ie},Oh.createElement(lYe,Object.assign({id:k},O,{name:k,onFinishFailed:re,form:j,style:Object.assign(Object.assign({},s==null?void 0:s.style),E),className:G}))))))))},Ket=Oh.forwardRef(Yet),Xet=Ket,yc=oe(ge()),qet=oe(si());function Zet(i){if(typeof i=="function")return i;let e=h0(i);return e.length<=1?e[0]:e}var Qet=oe(ge()),BSe=()=>{let{status:i,errors:e=[],warnings:t=[]}=(0,Qet.useContext)(Ku);return{status:i,errors:e,warnings:t}};BSe.Context=Ku;var Jet=BSe,vse=oe(ge()),Qj=oe(ge());function ett(i){let[e,t]=vse.useState(i),n=(0,Qj.useRef)(null),r=(0,Qj.useRef)([]),s=(0,Qj.useRef)(!1);vse.useEffect(()=>(s.current=!1,()=>{s.current=!0,fs.cancel(n.current),n.current=null}),[]);function a(o){s.current||(n.current===null&&(r.current=[],n.current=fs(()=>{n.current=null,t(l=>{let u=l;return r.current.forEach(c=>{u=c(u)}),u})})),r.current.push(o))}return[e,a]}var yse=oe(ge());function ttt(){let{itemRef:i}=yse.useContext(Kg),e=yse.useRef({});function t(n,r){let s=r&&typeof r=="object"&&r.ref,a=n.join("_");return(e.current.name!==a||e.current.originRef!==s)&&(e.current.name=a,e.current.originRef=s,e.current.ref=ih(i(n),s)),e.current.ref}return t}var Op=oe(ge()),itt=oe(si()),Hl=oe(ge()),ntt=oe(si()),rtt=i=>{let{formItemCls:e}=i;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${e}-control`]:{display:"flex"}}}},stt=Z_e(["Form","item-item"],(i,e)=>{let{rootPrefixCls:t}=e,n=ISe(i,t);return[rtt(n)]}),att=i=>{let{prefixCls:e,status:t,wrapperCol:n,children:r,errors:s,warnings:a,_internalItemRender:o,extra:l,help:u,fieldId:c,marginBottom:d,onErrorVisibleChanged:h}=i,p=`${e}-item`,f=Hl.useContext(Kg),g=n||f.wrapperCol||{},v=(0,ntt.default)(`${p}-control`,g.className),m=Hl.useMemo(()=>Object.assign({},f),[f]);delete m.labelCol,delete m.wrapperCol;let b=Hl.createElement("div",{className:`${p}-control-input`},Hl.createElement("div",{className:`${p}-control-input-content`},r)),_=Hl.useMemo(()=>({prefixCls:e,status:t}),[e,t]),S=d!==null||s.length||a.length?Hl.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},Hl.createElement(bK.Provider,{value:_},Hl.createElement(RSe,{fieldId:c,errors:s,warnings:a,help:u,helpStatus:t,className:`${p}-explain-connected`,onVisibleChanged:h})),!!d&&Hl.createElement("div",{style:{width:0,height:d}})):null,C={};c&&(C.id=`${c}_extra`);let k=l?Hl.createElement("div",Object.assign({},C,{className:`${p}-extra`}),l):null,E=o&&o.mark==="pro_table_render"&&o.render?o.render(i,{input:b,errorList:S,extra:k}):Hl.createElement(Hl.Fragment,null,b,S,k);return Hl.createElement(Kg.Provider,{value:m},Hl.createElement(vSe,Object.assign({},g,{className:v}),E),Hl.createElement(stt,{prefixCls:e}))},ott=att,$Se=oe(ge()),ltt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},utt=ltt,ctt=function(i,e){return $Se.createElement(Xc,Si({},i,{ref:e,icon:utt}))},dtt=$Se.forwardRef(ctt),htt=dtt,_se=oe(si()),Cd=oe(ge()),ptt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};function ftt(i){return i?typeof i=="object"&&!Cd.isValidElement(i)?i:{title:i}:null}var gtt=i=>{let{prefixCls:e,label:t,htmlFor:n,labelCol:r,labelAlign:s,colon:a,required:o,requiredMark:l,tooltip:u}=i;var c;let[d]=I_e("Form"),{vertical:h,labelAlign:p,labelCol:f,labelWrap:g,colon:v}=Cd.useContext(Kg);if(!t)return null;let m=r||f||{},b=s||p,_=`${e}-item-label`,S=(0,_se.default)(_,b==="left"&&`${_}-left`,m.className,{[`${_}-wrap`]:!!g}),C=t,k=a===!0||v!==!1&&a!==!1;k&&!h&&typeof t=="string"&&t.trim()!==""&&(C=t.replace(/[:|]\s*$/,""));let E=ftt(u);if(E){let{icon:M=Cd.createElement(htt,null)}=E,D=ptt(E,["icon"]),L=Cd.createElement(zZe,Object.assign({},D),Cd.cloneElement(M,{className:`${e}-item-tooltip`,title:"",onClick:H=>{H.preventDefault()},tabIndex:null}));C=Cd.createElement(Cd.Fragment,null,C,L)}let A=l==="optional",P=typeof l=="function";P?C=l(C,{required:!!o}):A&&!o&&(C=Cd.createElement(Cd.Fragment,null,C,Cd.createElement("span",{className:`${e}-item-optional`,title:""},(d==null?void 0:d.optional)||((c=D_.Form)===null||c===void 0?void 0:c.optional))));let O=(0,_se.default)({[`${e}-item-required`]:o,[`${e}-item-required-mark-optional`]:A||P,[`${e}-item-no-colon`]:!k});return Cd.createElement(vSe,Object.assign({},m,{className:S}),Cd.createElement("label",{htmlFor:n,className:O,title:typeof t=="string"?t:""},C))},mtt=gtt,b1=oe(ge()),vtt=oe(si()),ytt={success:_be,warning:Cbe,error:dB,validating:hB};function NSe(i){let{children:e,errors:t,warnings:n,hasFeedback:r,validateStatus:s,prefixCls:a,meta:o,noStyle:l}=i,u=`${a}-item`,{feedbackIcons:c}=b1.useContext(Kg),d=LSe(t,n,o,null,!!r,s),{isFormItemInput:h,status:p,hasFeedback:f,feedbackIcon:g}=b1.useContext(Ku),v=b1.useMemo(()=>{var m;let b;if(r){let S=r!==!0&&r.icons||c,C=d&&((m=S==null?void 0:S({status:d,errors:t,warnings:n}))===null||m===void 0?void 0:m[d]),k=d&&ytt[d];b=C!==!1&&k?b1.createElement("span",{className:(0,vtt.default)(`${u}-feedback-icon`,`${u}-feedback-icon-${d}`)},C||b1.createElement(k,null)):null}let _={status:d||"",errors:t,warnings:n,hasFeedback:!!r,feedbackIcon:b,isFormItemInput:!0};return l&&(_.status=(d??p)||"",_.isFormItemInput=h,_.hasFeedback=!!(r??f),_.feedbackIcon=r!==void 0?_.feedbackIcon:g),_},[d,r,l,h,p]);return b1.createElement(Ku.Provider,{value:v},e)}var _tt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};function btt(i){let{prefixCls:e,className:t,rootClassName:n,style:r,help:s,errors:a,warnings:o,validateStatus:l,meta:u,hasFeedback:c,hidden:d,children:h,fieldId:p,required:f,isRequired:g,onSubItemMetaChange:v}=i,m=_tt(i,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange"]),b=`${e}-item`,{requiredMark:_}=Op.useContext(Kg),S=Op.useRef(null),C=aD(a),k=aD(o),E=s!=null,A=!!(E||a.length||o.length),P=!!S.current&&hK(S.current),[O,M]=Op.useState(null);cs(()=>{if(A&&S.current){let B=getComputedStyle(S.current);M(parseInt(B.marginBottom,10))}},[A,P]);let D=B=>{B||M(null)},L=function(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,F=B?C:u.errors,z=B?k:u.warnings;return LSe(F,z,u,"",!!c,l)}(),H=(0,itt.default)(b,t,n,{[`${b}-with-help`]:E||C.length||k.length,[`${b}-has-feedback`]:L&&c,[`${b}-has-success`]:L==="success",[`${b}-has-warning`]:L==="warning",[`${b}-has-error`]:L==="error",[`${b}-is-validating`]:L==="validating",[`${b}-hidden`]:d});return Op.createElement("div",{className:H,style:r,ref:S},Op.createElement(YQe,Object.assign({className:`${b}-row`},um(m,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),Op.createElement(mtt,Object.assign({htmlFor:p},i,{requiredMark:_,required:f??g,prefixCls:e})),Op.createElement(ott,Object.assign({},i,u,{errors:C,warnings:k,prefixCls:e,status:L,help:s,marginBottom:O,onErrorVisibleChanged:D}),Op.createElement(s1e.Provider,{value:v},Op.createElement(NSe,{prefixCls:e,meta:u,errors:u.errors,warnings:u.warnings,hasFeedback:c,validateStatus:L},h)))),!!O&&Op.createElement("div",{className:`${b}-margin-offset`,style:{marginBottom:-O}}))}var Stt="__SPLIT__";function xtt(i,e){let t=Object.keys(i),n=Object.keys(e);return t.length===n.length&&t.every(r=>{let s=i[r],a=e[r];return s===a||typeof s=="function"||typeof a=="function"})}var wtt=yc.memo(i=>{let{children:e}=i;return e},(i,e)=>xtt(i.control,e.control)&&i.update===e.update&&i.childProps.length===e.childProps.length&&i.childProps.every((t,n)=>t===e.childProps[n]));function bse(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function Ctt(i){let{name:e,noStyle:t,className:n,dependencies:r,prefixCls:s,shouldUpdate:a,rules:o,children:l,required:u,label:c,messageVariables:d,trigger:h="onChange",validateTrigger:p,hidden:f,help:g}=i,{getPrefixCls:v}=yc.useContext(En),{name:m}=yc.useContext(Kg),b=Zet(l),_=typeof b=="function",S=yc.useContext(s1e),{validateTrigger:C}=yc.useContext(F_),k=p!==void 0?p:C,E=e!=null,A=v("form",s),P=qc(A),[O,M,D]=DK(A,P);sB();let L=yc.useContext(lT),H=yc.useRef(),[B,F]=ett({}),[z,N]=l_(()=>bse()),U=J=>{let ne=L==null?void 0:L.getKey(J.name);if(N(J.destroy?bse():J,!0),t&&g!==!1&&S){let te=J.name;if(J.destroy)te=H.current||te;else if(ne!==void 0){let[Q,se]=ne;te=[Q].concat(Bt(se)),H.current=te}S(J,te)}},G=(J,ne)=>{F(te=>{let Q=Object.assign({},te),se=[].concat(Bt(J.name.slice(0,-1)),Bt(ne)).join(Stt);return J.destroy?delete Q[se]:Q[se]=J,Q})},[j,K]=yc.useMemo(()=>{let J=Bt(z.errors),ne=Bt(z.warnings);return Object.values(B).forEach(te=>{J.push.apply(J,Bt(te.errors||[])),ne.push.apply(ne,Bt(te.warnings||[]))}),[J,ne]},[B,z.errors,z.warnings]),ie=ttt();function ae(J,ne,te){return t&&!f?yc.createElement(NSe,{prefixCls:A,hasFeedback:i.hasFeedback,validateStatus:i.validateStatus,meta:z,errors:j,warnings:K,noStyle:!0},J):yc.createElement(btt,Object.assign({key:"row"},i,{className:(0,qet.default)(n,D,P,M),prefixCls:A,fieldId:ne,isRequired:te,errors:j,warnings:K,meta:z,onSubItemMetaChange:G}),J)}if(!E&&!_&&!r)return O(ae(b));let re={};return typeof c=="string"?re.label=c:e&&(re.label=String(e)),d&&(re=Object.assign(Object.assign({},re),d)),O(yc.createElement(yK,Object.assign({},i,{messageVariables:re,trigger:h,validateTrigger:k,onMetaChange:U}),(J,ne,te)=>{let Q=PE(e).length&&ne?ne.name:[],se=DSe(Q,m),_e=u!==void 0?u:!!(o&&o.some(pe=>{if(pe&&typeof pe=="object"&&pe.required&&!pe.warningOnly)return!0;if(typeof pe=="function"){let Fe=pe(te);return Fe&&Fe.required&&!Fe.warningOnly}return!1})),le=Object.assign({},J),ve=null;if(Array.isArray(b)&&E)ve=b;else if(!(_&&(!(a||r)||E))&&!(r&&!_&&!E))if(yc.isValidElement(b)){let pe=Object.assign(Object.assign({},b.props),le);if(pe.id||(pe.id=se),g||j.length>0||K.length>0||i.extra){let Ee=[];(g||j.length>0)&&Ee.push(`${se}_help`),i.extra&&Ee.push(`${se}_extra`),pe["aria-describedby"]=Ee.join(" ")}j.length>0&&(pe["aria-invalid"]="true"),_e&&(pe["aria-required"]="true"),Ow(b)&&(pe.ref=ie(Q,b)),new Set([].concat(Bt(PE(h)),Bt(PE(k)))).forEach(Ee=>{pe[Ee]=function(){for(var it,Qe,Ae,je,We,ut=arguments.length,vt=new Array(ut),_t=0;_t<ut;_t++)vt[_t]=arguments[_t];(Ae=le[Ee])===null||Ae===void 0||(it=Ae).call.apply(it,[le].concat(vt)),(We=(je=b.props)[Ee])===null||We===void 0||(Qe=We).call.apply(Qe,[je].concat(vt))}});let Fe=[pe["aria-required"],pe["aria-invalid"],pe["aria-describedby"]];ve=yc.createElement(wtt,{control:le,update:b,childProps:Fe},p0(b,pe))}else _&&(a||r)&&!E?ve=b(te):ve=b;return ae(ve,se,_e)}))}var jSe=Ctt;jSe.useStatus=Jet;var ktt=jSe,GM=oe(ge()),Ett=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},Att=i=>{var{prefixCls:e,children:t}=i,n=Ett(i,["prefixCls","children"]);let{getPrefixCls:r}=GM.useContext(En),s=r("form",e),a=GM.useMemo(()=>({prefixCls:s,status:"error"}),[s]);return GM.createElement(t1e,Object.assign({},n),(o,l,u)=>GM.createElement(bK.Provider,{value:a},t(o.map(c=>Object.assign(Object.assign({},c),{fieldKey:c.key})),l,{errors:u.errors,warnings:u.warnings})))},Ttt=Att,Ptt=oe(ge());function Ott(){let{form:i}=(0,Ptt.useContext)(Kg);return i}var hm=Xet;hm.Item=ktt;hm.List=Ttt;hm.ErrorList=RSe;hm.useForm=FSe;hm.useFormInstance=Ott;hm.useWatch=r1e;hm.Provider=a1e;hm.create=()=>{};var gd=hm,Fo=oe(ge()),tx=oe(si()),Mtt=new ur("antSpinMove",{to:{opacity:1}}),Itt=new ur("antRotate",{to:{transform:"rotate(405deg)"}}),Rtt=i=>{let{componentCls:e,calc:t}=i;return{[`${e}`]:Object.assign(Object.assign({},Qa(i)),{position:"absolute",display:"none",color:i.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${i.motionDurationSlow} ${i.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:i.fontSize,paddingTop:t(t(i.dotSize).sub(i.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:i.colorBgMask,zIndex:i.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${i.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[`${e}-dot ${e}-dot-item`]:{backgroundColor:i.colorWhite},[`${e}-text`]:{color:i.colorTextLightSolid}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:i.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:t(i.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${i.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:t(i.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:t(i.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(i.dotSizeSM).sub(i.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(i.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:t(i.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(i.dotSizeLG).sub(i.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(i.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${i.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:i.colorBgContainer,opacity:0,transition:`all ${i.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:i.spinDotDefault},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:i.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:t(i.dotSize).sub(t(i.marginXXS).div(2)).div(2).equal(),height:t(i.dotSize).sub(t(i.marginXXS).div(2)).div(2).equal(),backgroundColor:i.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:Mtt,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:Itt,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${e}-dot`]:{fontSize:i.dotSizeSM,i:{width:t(t(i.dotSizeSM).sub(t(i.marginXXS).div(2))).div(2).equal(),height:t(t(i.dotSizeSM).sub(t(i.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{fontSize:i.dotSizeLG,i:{width:t(t(i.dotSizeLG).sub(i.marginXXS)).div(2).equal(),height:t(t(i.dotSizeLG).sub(i.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},Dtt=i=>{let{controlHeightLG:e,controlHeight:t}=i;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:t}},Ltt=qu("Spin",i=>{let e=ys(i,{spinDotDefault:i.colorTextDescription});return[Rtt(e)]},Dtt),Ftt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t},F3=null;function Btt(i,e){let{indicator:t}=e,n=`${i}-dot`;return t===null?null:Fo.isValidElement(t)?p0(t,{className:(0,tx.default)(t.props.className,n)}):Fo.isValidElement(F3)?p0(F3,{className:(0,tx.default)(F3.props.className,n)}):Fo.createElement("span",{className:(0,tx.default)(n,`${i}-dot-spin`)},Fo.createElement("i",{className:`${i}-dot-item`,key:1}),Fo.createElement("i",{className:`${i}-dot-item`,key:2}),Fo.createElement("i",{className:`${i}-dot-item`,key:3}),Fo.createElement("i",{className:`${i}-dot-item`,key:4}))}function $tt(i,e){return!!i&&!!e&&!isNaN(Number(e))}var zSe=i=>{let{prefixCls:e,spinning:t=!0,delay:n=0,className:r,rootClassName:s,size:a="default",tip:o,wrapperClassName:l,style:u,children:c,fullscreen:d=!1}=i,h=Ftt(i,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen"]),{getPrefixCls:p}=Fo.useContext(En),f=p("spin",e),[g,v,m]=Ltt(f),[b,_]=Fo.useState(()=>t&&!$tt(t,n));Fo.useEffect(()=>{if(t){let D=vQe(n,()=>{_(!0)});return D(),()=>{var L;(L=D==null?void 0:D.cancel)===null||L===void 0||L.call(D)}}_(!1)},[n,t]);let S=Fo.useMemo(()=>typeof c<"u"&&!d,[c,d]),{direction:C,spin:k}=Fo.useContext(En),E=(0,tx.default)(f,k==null?void 0:k.className,{[`${f}-sm`]:a==="small",[`${f}-lg`]:a==="large",[`${f}-spinning`]:b,[`${f}-show-text`]:!!o,[`${f}-fullscreen`]:d,[`${f}-fullscreen-show`]:d&&b,[`${f}-rtl`]:C==="rtl"},r,s,v,m),A=(0,tx.default)(`${f}-container`,{[`${f}-blur`]:b}),P=um(h,["indicator"]),O=Object.assign(Object.assign({},k==null?void 0:k.style),u),M=Fo.createElement("div",Object.assign({},P,{style:O,className:E,"aria-live":"polite","aria-busy":b}),Btt(f,i),o&&(S||d)?Fo.createElement("div",{className:`${f}-text`},o):null);return g(S?Fo.createElement("div",Object.assign({},P,{className:(0,tx.default)(`${f}-nested-loading`,l,v,m)}),b&&Fo.createElement("div",{key:"loading"},M),Fo.createElement("div",{className:A,key:"container"},c)):M)};zSe.setDefaultIndicator=i=>{F3=i};var Ntt=zSe,Zp=oe(ge()),Vp=null,Uy=i=>i(),hT=[],pT={};function Sse(){let{getContainer:i,duration:e,rtl:t,maxCount:n,top:r}=pT,s=(i==null?void 0:i())||document.body;return{getContainer:()=>s,duration:e,rtl:t,maxCount:n,top:r}}var jtt=Zp.default.forwardRef((i,e)=>{let{messageConfig:t,sync:n}=i,{getPrefixCls:r}=(0,Zp.useContext)(En),s=pT.prefixCls||r("message"),a=(0,Zp.useContext)(NYe),[o,l]=$be(Object.assign(Object.assign(Object.assign({},t),{prefixCls:s}),a.message));return Zp.default.useImperativeHandle(e,()=>{let u=Object.assign({},o);return Object.keys(u).forEach(c=>{u[c]=function(){return n(),o[c].apply(o,arguments)}}),{instance:u,sync:n}}),l}),ztt=Zp.default.forwardRef((i,e)=>{let[t,n]=Zp.default.useState(Sse),r=()=>{n(Sse)};Zp.default.useEffect(r,[]);let s=ZVe(),a=s.getRootPrefixCls(),o=s.getIconPrefixCls(),l=s.getTheme(),u=Zp.default.createElement(jtt,{ref:e,sync:r,messageConfig:t});return Zp.default.createElement(lB,{prefixCls:a,iconPrefixCls:o,theme:l},s.holderRender?s.holderRender(u):u)});function wB(){if(!Vp){let i=document.createDocumentFragment(),e={fragment:i};Vp=e,Uy(()=>{Nbe(Zp.default.createElement(ztt,{ref:t=>{let{instance:n,sync:r}=t||{};Promise.resolve().then(()=>{!e.instance&&n&&(e.instance=n,e.sync=r,wB())})}}),i)});return}Vp.instance&&(hT.forEach(i=>{let{type:e,skipped:t}=i;if(!t)switch(e){case"open":{Uy(()=>{let n=Vp.instance.open(Object.assign(Object.assign({},pT),i.config));n==null||n.then(i.resolve),i.setCloseFn(n)});break}case"destroy":Uy(()=>{Vp==null||Vp.instance.destroy(i.key)});break;default:Uy(()=>{var n;let r=(n=Vp.instance)[e].apply(n,Bt(i.args));r==null||r.then(i.resolve),i.setCloseFn(r)})}}),hT=[])}function Htt(i){pT=Object.assign(Object.assign({},pT),i),Uy(()=>{var e;(e=Vp==null?void 0:Vp.sync)===null||e===void 0||e.call(Vp)})}function Vtt(i){let e=dK(t=>{let n,r={type:"open",config:i,resolve:t,setCloseFn:s=>{n=s}};return hT.push(r),()=>{n?Uy(()=>{n()}):r.skipped=!0}});return wB(),e}function Wtt(i,e){let t=dK(n=>{let r,s={type:i,args:e,resolve:n,setCloseFn:a=>{r=a}};return hT.push(s),()=>{r?Uy(()=>{r()}):s.skipped=!0}});return wB(),t}function Utt(i){hT.push({type:"destroy",key:i}),wB()}var Gtt=["success","info","warning","error","loading"],Ytt={open:Vtt,destroy:Utt,config:Htt,useMessage:AWe,_InternalPanelDoNotUseOrYouWillBeFired:_We},HSe=Ytt;Gtt.forEach(i=>{HSe[i]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Wtt(i,t)}});var Ktt=HSe,ui=oe(ge(),1),Jj=oe(o7e(),1),Bw=oe(l$e(),1),Xtt=oe(h7e(),1),qtt=oe(v7e(),1),Ztt=oe(x7e(),1),Qtt=oe(k7e(),1),Jtt=oe(A7e(),1),eit=ui.default.lazy(()=>JBe(()=>import("./RenderMarkDown-AH22ZAK2-C6f-E9GX.js"),[],import.meta.url)),tit=Bw.default.div`
  font-size: 14px;
  margin-bottom: 16px;
`,xse=Bw.default.div`
  margin-bottom: 16px;
`,wse=Bw.default.div`
  color: rgba(0, 0, 0, 0.88);
  font-size: 14px;
  margin-bottom: 8px;
`,iit=Bw.default.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: #fff;
  transition: opacity 0.3s;
  opacity: 0.5;
  z-index: 100;
`,nit=Bw.default.div`
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 101;
  text-align: center;
`,rit=Bw.default.div`
  font-size: 14px;
  padding-top: 5px;
  text-shadow: 0 1px 2px #ffffff;
  color: #1677ff;
`,VSe="ui-builder-container",WSe="ui-builder-loading",e7="ui-builder-form-item",sit=class extends ui.default.PureComponent{componentDidMount(){typeof this.props.callback=="function"&&this.props.callback()}render(){return ui.default.createElement(ui.default.Fragment,null,ui.default.createElement("div",{className:WSe}),ui.default.createElement("div",{className:VSe}))}},ait={tableSelect:(i,e)=>({type:"table",id:i,option:e}),fieldSelect:(i,e)=>({type:"field",id:i,option:e}),viewSelect:(i,e)=>({type:"view",id:i,option:e}),input:(i,e)=>({type:"input",id:i,option:e}),inputNumber:(i,e)=>({type:"inputNumber",id:i,option:e}),textArea:(i,e)=>({type:"textArea",id:i,option:e}),checkboxGroup:(i,e)=>({type:"checkboxGroup",id:i,option:e}),select:(i,e)=>({type:"select",id:i,option:e}),radio:(i,e)=>({type:"radio",id:i,option:e})},Qm=class{constructor(i,e){this.formItemMap=new Map,this.umount=()=>{this.unmount()},this.unmount=()=>{requestAnimationFrame(()=>{this.clear(),this.appElement.unmount(),this.app.remove()})},this.clear=()=>{var t;let n=(t=this.container)==null?void 0:t.querySelectorAll(`.${e7}`);n==null||n.forEach(r=>{this.formItemMap.get(r).unmount(),this.formItemMap.delete(r),r.remove()})},this.clearAfter=t=>{var n;let r=(n=t.closest(`.${e7}`))==null?void 0:n.nextElementSibling;for(;r;){let s=r.nextElementSibling;this.formItemMap.get(r).unmount(),r.remove(),this.formItemMap.delete(r),r=s}},this.rootElement=i,this.options=e,this.init(e.callback)}static getInstance(i,e){console.warn("You are using deprecated UIBuilder.getInstance. Please follow https://bytedance.feishu.cn/docx/Dt2hdGiHtoP7jrx23N7cPqGBnWg#XvFfdKH97o047wxwsP0cunwpnke to upgrade.");let t=document.querySelector(i);return Qm.instance?(Qm.instance.umount(),Qm.instance=new Qm(t,e)):Qm.instance=new Qm(t,e),Qm.instance}get message(){return Ktt}init(i){return ye(this,null,function*(){var e;this.app=document.createElement("div"),this.appElement=(0,Jj.createRoot)(this.app),this.appElement.render(ui.default.createElement(sit,{callback:()=>{this.loadingRoot=(0,Jj.createRoot)(this.app.querySelector(`.${WSe}`)),this.container=this.app.querySelector(`.${VSe}`),i(this,this.options.translation)}})),(e=this.rootElement)==null||e.appendChild(this.app)})}addComponent(i){var e;let t=document.createElement("div");t.classList.add(e7);let n=(0,Jj.createRoot)(t);n.render(i),this.formItemMap.set(t,n),(e=this.container)==null||e.appendChild(t)}showLoading(i){var e;(e=this.loadingRoot)==null||e.render(ui.default.createElement(ui.default.Fragment,null,ui.default.createElement(iit,null),ui.default.createElement(nit,null,ui.default.createElement(Ntt,null),ui.default.createElement(rit,null,i))))}hideLoading(){var i;(i=this.loadingRoot)==null||i.render(null)}text(i){this.addComponent(ui.default.createElement(tit,null,i))}markdown(i){this.addComponent(ui.default.createElement(ui.Suspense,null,ui.default.createElement(eit,{source:i})))}form(i,e){var t,n;let r=i(ait);this.addComponent(ui.default.createElement(lit,wi({clearAfter:this.clearAfter,submitForm:e,bitable:this.options.bitable,locale:this.getLocale((n=(t=this.options.translation)==null?void 0:t.i18n)==null?void 0:n.language)},r)))}getLocale(i){switch(i){case"zh":return Xtt.default;case"zh-HK":return Qtt.default;case"zh-TW":return Jtt.default;case"ja":return Ztt.default;default:return qtt.default}}buttonsSync(i,e){return new Promise(t=>{this.addComponent(ui.default.createElement(xse,null,ui.default.createElement(wse,null,i),ui.default.createElement(_V,null,Array.isArray(e)&&e.map((n,r)=>{let s=typeof n=="string"?n:n.key,a=typeof n=="string"?n:n.label;return ui.default.createElement(eD,{key:r,onClick:()=>t(s)},a)}))))})}buttons(i,e,t){this.addComponent(ui.default.createElement(xse,null,ui.default.createElement(wse,null,i),ui.default.createElement(_V,null,Array.isArray(e)&&e.map((n,r)=>{let s=typeof n=="string"?n:n.key,a=typeof n=="string"?n:n.label;return ui.default.createElement(eD,{key:r,onClick:o=>{this.clearAfter(o.target),t(s)}},a)}))))}reload(){this.clear(),this.options.callback(this,this.options.translation)}},oit=Qm;$e([n7e],oit.prototype,"getLocale",1);function lit(i){let e=(0,ui.useRef)(null),{clearAfter:t,bitable:n,submitForm:r,formItems:s,locale:a}=i,[o]=gd.useForm(),[l,u]=(0,ui.useState)(),[c,d]=(0,ui.useState)({}),h=(0,ui.useMemo)(()=>new i7e(n),[n]),p=(0,ui.useCallback)((_,S,C)=>ye(this,null,function*(){let k=C[_],E=yield h.getTable(S,!0);return yield Object.keys(k).reduce((A,P)=>ye(this,null,function*(){let O=yield A;if(P==="field"){let M=yield E.getFieldMetaList();O[P]=M.map(D=>({label:D.name,value:D.id,meta:D}))}else if(P==="view"){let M=yield E.getViewMetaList();O[P]=M.map(D=>({label:D.name,value:D.id,meta:D}))}return O}),Promise.resolve({}))}),[h]),f=(0,ui.useCallback)((_,S,C)=>ye(this,null,function*(){let k=s.filter(A=>A.option.sourceTable===_).reduce((A,P)=>(A[P.id]=void 0,A),{});o.setFieldsValue(k),d(A=>{let P=A[_],O=Object.keys(P).reduce((M,D)=>(M[D]=[],M),{});return rn(wi({},A),{[_]:O})});let E=yield p(_,S,C);d(A=>rn(wi({},A),{[_]:E}))}),[o,s,p]);(0,ui.useEffect)(()=>{let _=s.reduce((C,k)=>(k.type==="table"&&(C[k.id]={}),C),{}),S=s.reduce((C,k)=>((k.type==="view"||k.type==="field")&&(C[k.option.sourceTable][k.type]=[]),C),_);if(d(S),s.some(C=>C.type==="table")){let C=s.find(k=>k.type==="table");Promise.all([n.base.getTableMetaList(),n.base.getSelection()]).then(([k,E])=>{u(k);let A=s.reduce((P,O)=>(O.type==="table"&&(P[O.id]=E.tableId),P),{});o.setFieldsValue(A),C!=null&&C.id&&E.tableId&&p(C==null?void 0:C.id,E.tableId,S).then(P=>{d(O=>{let M=s.filter(D=>D.type==="table").reduce((D,L)=>(D[L.id]=Object.assign({},P),D),{});return wi(wi({},O),M)})})})}},[n,s,o,p]),(0,ui.useEffect)(()=>{let _=s.reduce((S,C)=>{if(C.option.defaultValue){let k=C.id;S[k]=C.option.defaultValue}return S},{});o.setFieldsValue(_)},[s,o]);let g=_=>ye(this,null,function*(){e.current&&t(e.current);let S=o.getFieldsValue();for(let C of s){if(!S[C.id])continue;let k=S[C.id];if(C.type==="table")S[C.id]=yield h.getTable(k);else if(C.type==="view"||C.type==="field"){let E=o.getFieldValue(C.option.sourceTable),A=yM(C.option),P=A?k:[k],O;C.type==="view"?O=yield Promise.all(P.map(M=>h.getView(M,E))):C.type==="field"&&(O=yield Promise.all(P.map(M=>h.getField(M,E)))),S[C.id]=A?O:O[0]}}r({key:_,values:S})}),v=(0,ui.useCallback)((_,S)=>{f(_,S,c)},[f,c]),m=(0,ui.useCallback)((_,S)=>{let C=o.getFieldValue(S);h.getView(_,C,!0)},[o,h]),b=(0,ui.useCallback)((_,S)=>{let C=o.getFieldValue(S);h.getField(_,C,!0)},[o,h]);return ui.default.createElement("div",{ref:e},ui.default.createElement(lB,{locale:a},ui.default.createElement(gd,{layout:"vertical",form:o},i.formItems.map(_=>{var S,C;switch(_.type){case"table":{let k=_.option,{label:E,onChange:A,defaultValue:P}=k,O=Fp(k,["label","onChange","defaultValue"]);return ui.default.createElement(gd.Item,{key:_.id,name:_.id,label:E},ui.default.createElement(jM,rn(wi({},O),{onChange:(M,D)=>{v(_.id,M),A==null||A(M,D)},options:l==null?void 0:l.map(M=>({label:M.name,value:M.id}))})))}case"input":{let k=_.option,{label:E,defaultValue:A}=k,P=Fp(k,["label","defaultValue"]);return ui.default.createElement(gd.Item,{key:_.id,name:_.id,label:E},ui.default.createElement(ase,wi({},P)))}case"inputNumber":{let k=_.option,{label:E,defaultValue:A}=k,P=Fp(k,["label","defaultValue"]);return ui.default.createElement(gd.Item,{key:_.id,name:_.id,label:E},ui.default.createElement(MJe,wi({},P)))}case"textArea":{let k=_.option,{label:E,defaultValue:A}=k,P=Fp(k,["label","defaultValue"]);return ui.default.createElement(gd.Item,{key:_.id,name:_.id,label:E},ui.default.createElement(ase.TextArea,wi({},P)))}case"field":{let k=_.option,{sourceTable:E,label:A,filter:P,filterByTypes:O,onChange:M,mode:D,multiple:L,tags:H,defaultValue:B}=k,F=Fp(k,["sourceTable","label","filter","filterByTypes","onChange","mode","multiple","tags","defaultValue"]);if(!E)return null;let z=(S=c[E])==null?void 0:S[_.type];Array.isArray(O)&&(z=z==null?void 0:z.filter(U=>O.includes(U.meta.type))),typeof P=="function"&&(z=z==null?void 0:z.filter(U=>P(U.meta)));let N=yM({mode:D,multiple:L,tags:H});return ui.default.createElement(gd.Item,{key:_.id,name:_.id,label:A},ui.default.createElement(jM,rn(wi({},F),{options:z,mode:N,onChange:(U,G)=>{(N?U:[U]).forEach(j=>{b(j,E)}),M==null||M(U,G)}})))}case"view":{let k=_.option,{sourceTable:E,label:A,filter:P,filterByTypes:O,onChange:M,mode:D,multiple:L,tags:H,defaultValue:B}=k,F=Fp(k,["sourceTable","label","filter","filterByTypes","onChange","mode","multiple","tags","defaultValue"]);if(!E)return null;let z=(C=c[E])==null?void 0:C[_.type];Array.isArray(O)&&(z=z==null?void 0:z.filter(U=>O.includes(U.meta.type))),typeof P=="function"&&(z=z==null?void 0:z.filter(U=>P(U.meta)));let N=yM({mode:D,multiple:L,tags:H});return ui.default.createElement(gd.Item,{key:_.id,name:_.id,label:A},ui.default.createElement(jM,rn(wi({},F),{options:z,mode:N,onChange:(U,G)=>{(N?U:[U]).forEach(j=>{m(j,E)}),M==null||M(U,G)}})))}case"checkboxGroup":{let k=_.option,{label:E,defaultValue:A}=k,P=Fp(k,["label","defaultValue"]);return ui.default.createElement(gd.Item,{key:_.id,name:_.id,label:E},ui.default.createElement(PQe.Group,wi({},P)))}case"select":{let k=_.option,{label:E,defaultValue:A,mode:P,multiple:O,tags:M}=k,D=Fp(k,["label","defaultValue","mode","multiple","tags"]),L=yM({mode:P,multiple:O,tags:M});return ui.default.createElement(gd.Item,{key:_.id,name:_.id,label:E},ui.default.createElement(jM,rn(wi({},D),{mode:L})))}case"radio":{let k=_.option,{label:E,defaultValue:A}=k,P=Fp(k,["label","defaultValue"]);return ui.default.createElement(gd.Item,{key:_.id,name:_.id,label:E},ui.default.createElement(oQe.Group,wi({},P)))}default:return null}}),ui.default.createElement(gd.Item,null,ui.default.createElement(_V,null,Array.isArray(i.buttons)&&i.buttons.map((_,S)=>{let C=typeof _=="string"?_:_.key,k=typeof _=="string"?_:_.label;return ui.default.createElement(eD,{type:S===0?"primary":"default",key:S,onClick:()=>g(C)},k)}))))))}var Jm=class extends ub{getModuleName(){return"UI"}getSelectOptionColorInfoList(){return ye(this,null,function*(){throw new tt})}switchBlock(i){return ye(this,null,function*(){throw new tt})}switchToView(i,e){return ye(this,null,function*(){throw new tt})}selectRecordIdList(i,e){return ye(this,null,function*(){throw new tt})}showToast(i){return ye(this,null,function*(){throw new tt})}showRecordDetailDialog(i){return ye(this,null,function*(){throw new tt})}showFieldValueEditor(i){return ye(this,null,function*(){throw new tt})}};$e([et()],Jm.prototype,"getSelectOptionColorInfoList",1),$e([et()],Jm.prototype,"switchBlock",1),$e([et()],Jm.prototype,"switchToView",1),$e([et()],Jm.prototype,"selectRecordIdList",1),$e([et()],Jm.prototype,"showToast",1),$e([et()],Jm.prototype,"showRecordDetailDialog",1),$e([et()],Jm.prototype,"showFieldValueEditor",1);var uit=class extends Jm{switchToTable(i){return this.switchBlock(i)}};function cit(){let i=document.querySelector("#lark-empty-print");i||(i=document.createElement("style"),i.type="text/css",i.id="lark-empty-print",i.innerHTML=`
      @media print {
        body { display: none !important; }
      }
    `,document.head.appendChild(i))}function dit(){let i=document.querySelector("#lark-empty-print");i&&document.head.removeChild(i)}var hit=class{constructor(i,e){this._isPrintable=!0,this._isCopyable=!0,this.permissionChangeHook={},this.base=i,this.permissionChangeHook=e,this.refreshBasePermission(),this.base.onPermissionChange(this.refreshBasePermission.bind(this)),this.listeningPermissionChange()}listeningPermissionChange(){typeof window<"u"&&(window.addEventListener("beforeprint",this.checkPrintPermission.bind(this)),window.addEventListener("copy",this.checkCopyPermission.bind(this)))}refreshBasePermission(){this.base.getBasePermission(lH.Printable).then(i=>this._isPrintable=i),this.base.getBasePermission(lH.Copyable).then(i=>this._isCopyable=i)}checkPrintPermission(){var i,e;(e=(i=this.permissionChangeHook)==null?void 0:i.printablePermissionChangeHook)==null||e.call(i,this._isPrintable),this._isPrintable?dit():cit()}checkCopyPermission(i){var e,t,n;(t=(e=this.permissionChangeHook)==null?void 0:e.copyPermissionChangeHook)==null||t.call(e,this._isCopyable),!this._isCopyable&&(i.preventDefault(),i.stopImmediatePropagation(),(n=i.clipboardData)==null||n.setData("text/plain",""))}},bV=class extends N2{constructor(i){super(),this.permissionControl=new hit(i,{copyPermissionChangeHook:e=>{e||this.showPrivateTips(Cye.NoCopyPermission)},printablePermissionChangeHook:()=>{}})}getModuleName(){return"Private"}setClientVersion(i){return ye(this,null,function*(){throw new tt})}showPrivateTips(i){return ye(this,null,function*(){throw new tt})}};$e([et()],bV.prototype,"setClientVersion",1),$e([et()],bV.prototype,"showPrivateTips",1);var t7=(i,e)=>{let t=new URL(i);return new URLSearchParams(t.hash.slice(t.hash.indexOf("?"))).get(e)},$p=class extends ub{getModuleName(){return"Dashboard"}getTableDataRange(i){throw new tt}getCategories(i){throw new tt}getConfig(){throw new tt}saveConfig(i){throw new tt}getPreviewData(i){throw new tt}getData(){throw new tt}setRendered(){throw new tt}registerDashboardEvent(i){throw new tt}unRegisterDashboardEvent(i){throw new tt}on(i,e){let t=yie(i);this.eventRefCount.add(t,e,()=>this.registerDashboardEvent(i))}off(i,e){let t=yie(i);this.eventRefCount.del(t,e,()=>this.unRegisterDashboardEvent(i))}bind(i,e){return this.on(i,e),()=>this.off(i,e)}};$e([et()],$p.prototype,"getTableDataRange",1),$e([et()],$p.prototype,"getCategories",1),$e([et()],$p.prototype,"getConfig",1),$e([et()],$p.prototype,"saveConfig",1),$e([et()],$p.prototype,"getPreviewData",1),$e([et()],$p.prototype,"getData",1),$e([et()],$p.prototype,"setRendered",1),$e([et()],$p.prototype,"registerDashboardEvent",1),$e([et()],$p.prototype,"unRegisterDashboardEvent",1);var pit={dataConditions:[{tableId:"",dataRange:{type:jY.ALL},groups:[],series:"COUNTA"}],customConfig:{}},USe=class extends $p{constructor(i,e){super(e),this._config=pit,this.base=i}get state(){return t7(location.href,"isCreate")==="1"?K1.Create:t7(location.href,"isFullScreen")==="1"?K1.FullScreen:t7(location.href,"isConfig")==="1"?K1.Config:K1.View}onDataChange(i){return this.bind(oH.DataChange,i)}onConfigChange(i){return this.bind(oH.ConfigChange,i)}genDefaultConfig(){return ye(this,null,function*(){var i;return{dataConditions:[{tableId:(i=(yield this.base.getTableList())[0])==null?void 0:i.id,dataRange:{type:jY.ALL},groups:[],series:"COUNTA"}],customConfig:{}}})}saveConfig(i){return ye(this,null,function*(){let e=yield this.genDefaultConfig();try{this.state===K1.Config&&(e=yield this.getConfig())}catch{e=e}return _y(USe.prototype,this,"saveConfig").call(this,wi(wi({},e),i))})}},Mh=class extends ub{getModuleName(){return"Bridge"}on(i,e){this.eventRefCount.add(vie(i),e,()=>this.registerBridgeEvent(i))}off(i,e){this.eventRefCount.del(vie(i),e,()=>this.unregisterBridgeEvent(i))}bind(i,e){return this.on(i,e),()=>this.off(i,e)}getBitableUrl(i){throw new tt}registerBridgeEvent(i){return ye(this,null,function*(){throw new tt})}unregisterBridgeEvent(i){return ye(this,null,function*(){throw new tt})}getUserId(){return ye(this,null,function*(){throw new tt})}getTheme(){return ye(this,null,function*(){throw new tt})}getLocale(){return ye(this,null,function*(){throw new tt})}getLanguage(){return ye(this,null,function*(){throw new tt})}getTenantKey(){return ye(this,null,function*(){throw new tt})}getEnv(){return ye(this,null,function*(){throw new tt})}getInstanceId(){return ye(this,null,function*(){throw new tt})}};$e([et()],Mh.prototype,"getBitableUrl",1),$e([et()],Mh.prototype,"registerBridgeEvent",1),$e([et()],Mh.prototype,"unregisterBridgeEvent",1),$e([et()],Mh.prototype,"getUserId",1),$e([et()],Mh.prototype,"getTheme",1),$e([et()],Mh.prototype,"getLocale",1),$e([et()],Mh.prototype,"getLanguage",1),$e([et()],Mh.prototype,"getTenantKey",1),$e([et()],Mh.prototype,"getEnv",1),$e([et()],Mh.prototype,"getInstanceId",1);var fit=class extends Mh{onThemeChange(i){return this.bind(aH.ThemeChange,i)}onDataChange(i){return this.bind(aH.DataChange,i)}},Cse=class extends Ms{constructor(){super(...arguments),this.type=fi.User}transform(i){return Array.isArray(i)?i:[i]}getMultiple(){return ye(this,null,function*(){return(yield this.getMeta()).property.multiple})}setMultiple(i){return ye(this,null,function*(){let e=yield this.getMeta(),t=rn(wi({},e),{property:{multiple:i}});return yield this.table.setField(this.id,t)})}};Cse=$e([Wr(fi.User)],Cse);var kse=class extends Ms{constructor(){super(...arguments),this.type=fi.Progress}transform(i){return i}};kse=$e([Wr(fi.Progress)],kse);var Ese=class extends Ms{constructor(){super(...arguments),this.type=fi.Rating}transform(i){return i}getMax(){return ye(this,null,function*(){return(yield this.getMeta()).property.max})}getMin(){return ye(this,null,function*(){return(yield this.getMeta()).property.min})}setMax(i){return ye(this,null,function*(){let e=yield this.getMeta(),t=rn(wi({},e),{property:rn(wi({},e.property),{max:i})});return yield this.table.setField(this.id,t)})}setMin(i){return ye(this,null,function*(){let e=yield this.getMeta(),t=rn(wi({},e),{property:rn(wi({},e.property),{min:i})});return yield this.table.setField(this.id,t)})}getRatingIcon(){return ye(this,null,function*(){return(yield this.getMeta()).property.rating.icon})}setRatingIcon(i){return ye(this,null,function*(){let e=yield this.getMeta(),t=rn(wi({},e),{property:rn(wi({},e.property),{rating:{icon:i}})});return yield this.table.setField(this.id,t)})}};Ese=$e([Wr(fi.Rating)],Ese);var Ase=class extends Ms{constructor(){super(...arguments),this.type=fi.SingleLink}transform(i){return i}setTableId(i){return ye(this,null,function*(){let e=yield this.getMeta(),t=rn(wi({},e),{property:rn(wi({},e.property),{tableId:i})});return yield this.table.setField(this.id,t)})}getTableId(){return ye(this,null,function*(){return(yield this.getMeta()).property.tableId})}setMultiple(i){return ye(this,null,function*(){let e=yield this.getMeta(),t=rn(wi({},e),{property:rn(wi({},e.property),{multiple:i})});return yield this.table.setField(this.id,t)})}getMultiple(){return ye(this,null,function*(){return(yield this.getMeta()).property.multiple})}};Ase=$e([Wr(fi.SingleLink)],Ase);var GSe=class extends Ms{constructor(){super(...arguments),this.type=fi.MultiSelect}addOptions(i){return ye(this,null,function*(){let e=yield this.getMeta(),t=rn(wi({},e),{property:{options:[...e.property.options,...i],optionsType:e.property.optionsType}});return yield this.table.setField(this.id,t)})}addOption(i,e){return ye(this,null,function*(){let t=yield this.getMeta(),n=rn(wi({},t),{property:{options:[...t.property.options,{name:i,color:e}],optionsType:t.property.optionsType}});return yield this.table.setField(this.id,n)})}getOptions(){return ye(this,null,function*(){return(yield this.getMeta()).property.options})}deleteOption(i){return ye(this,null,function*(){let e=yield this.getMeta(),t=Gje(i,e.property.options),n=rn(wi({},e),{property:{options:t,optionsType:e.property.optionsType}});return yield this.table.setField(this.id,n)})}setOption(i,e){return ye(this,null,function*(){let t=yield this.getMeta(),n=Yje(i,e,t.property.options),r=rn(wi({},t),{property:{options:n,optionsType:t.property.optionsType}});return yield this.table.setField(this.id,r)})}setOptionsType(i){return ye(this,null,function*(){let e=yield this.getMeta(),t=rn(wi({},e),{property:rn(wi({},e.property),{optionsType:i})});return yield this.table.setField(this.id,t)})}getOptionsType(){return ye(this,null,function*(){return(yield this.getMeta()).property.optionsType})}},Tse=class extends GSe{constructor(){super(...arguments),this.type=fi.SingleSelect}_prepareOptions(i){return ye(this,null,function*(){let e=yield this.getOptions(),t=[];e.findIndex(r=>r.name===i||r.id===i)===-1&&t.push(i);let n=t.map(r=>({name:r}));yield this.addOptions(n)})}transform(i){return ye(this,null,function*(){if(Hc.isSingleSelect(i))return i;yield this._prepareOptions(i);let e=yield this.getOptions(),t=e.findIndex(r=>r.name===i||r.id===i),n=e[t];return{text:n.name,id:n.id}})}};Tse=$e([Wr(fi.SingleSelect)],Tse);var Pse=class extends Ms{constructor(){super(...arguments),this.type=fi.Text}_convertTextToSegments(i){return[{type:$2.Text,text:i}]}transform(i){return Hc.isSegments(i)?i:Hc.isSegmentItem(i)?[i]:this._convertTextToSegments(i)}};Pse=$e([Wr(fi.Text)],Pse);var Ose=class extends Ms{constructor(){super(...arguments),this.type=fi.Url}transform(i){return Hc.isSegments(i)?i:Hc.isSegmentItem(i)?[i]:Vr(i)?[{type:$2.Url,text:i,link:i}]:[i]}};Ose=$e([Wr(fi.Url)],Ose);var Mse=class extends Ms{constructor(){super(...arguments),this.type=fi.Location}transform(i){return i}getInputType(){return ye(this,null,function*(){return(yield this.getMeta()).property.inputType})}setInputType(i){return ye(this,null,function*(){let e=yield this.getMeta(),t=rn(wi({},e),{property:rn(wi({},e.property),{inputType:i})});return yield this.table.setField(this.id,t)})}};Mse=$e([Wr(fi.Location)],Mse);var Ise=class extends Ms{constructor(){super(...arguments),this.type=fi.Lookup}transform(i){return i}};Ise=$e([Wr(fi.Lookup)],Ise);var LK=class extends Ms{setDateFormat(i){return ye(this,null,function*(){let e=yield this.getMeta(),t={name:e.name,type:this.type,property:rn(wi({},e.property),{dateFormat:i})};return yield this.table.setField(this.id,t)})}getDateFormat(){return ye(this,null,function*(){return(yield this.getMeta()).property.dateFormat})}setDisplayTimeZone(i){return ye(this,null,function*(){let e=yield this.getMeta(),t={name:e.name,type:fi.CreatedTime,property:rn(wi({},e.property),{displayTimeZone:i})};return yield this.table.setField(this.id,t)})}getDisplayTimeZone(){return ye(this,null,function*(){return(yield this.getMeta()).property.displayTimeZone})}},Rse=class extends LK{constructor(){super(...arguments),this.type=fi.ModifiedTime}getEditable(){return!1}transform(i){return i}};Rse=$e([Wr(fi.ModifiedTime)],Rse);var Dse=class extends Ms{constructor(){super(...arguments),this.type=fi.ModifiedUser}getEditable(){return!1}transform(i){return i}getMultiple(){return ye(this,null,function*(){let{property:i}=yield this.getMeta();return i})}};Dse=$e([Wr(fi.ModifiedUser)],Dse);var Lse=class extends GSe{constructor(){super(...arguments),this.type=fi.MultiSelect}_prepareOptions(i){return ye(this,null,function*(){let e=yield this.getOptions(),t=[];for(let r of i)e.findIndex(s=>s.name===r||s.id===r)===-1&&t.push(r);let n=t.map(r=>({name:r}));yield this.addOptions(n)})}transform(i){return ye(this,null,function*(){if(Hc.isMultiSelect(i))return i;if(Hc.isSingleSelect(i))return[i];let e=Vr(i)?[i]:i;yield this._prepareOptions(e);let t=yield this.getOptions(),n=[];for(let r of e){let s=t.findIndex(o=>o.name===r||o.id===r),a=t[s];n.push({text:a.name,id:a.id})}return n})}};Lse=$e([Wr(fi.MultiSelect)],Lse);var Fse=class extends Ms{constructor(){super(...arguments),this.type=fi.Number}transform(i){return i}setFormatter(i){return ye(this,null,function*(){let e=yield this.getMeta(),t=rn(wi({},e),{property:{formatter:i}});return yield this.table.setField(this.id,t)})}getFormatter(){return ye(this,null,function*(){return(yield this.getMeta()).property.formatter})}};Fse=$e([Wr(fi.Number)],Fse);var Bse=class extends Ms{constructor(){super(...arguments),this.type=fi.Phone}transform(i){return oye(i)?i.toString():i}};Bse=$e([Wr(fi.Phone)],Bse);var $se=class extends Ms{constructor(){super(...arguments),this.type=fi.DuplexLink}transform(i){return i}setTableId(i){return ye(this,null,function*(){let e=yield this.getMeta(),t=rn(wi({},e),{property:rn(wi({},e.property),{tableId:i})});return yield this.table.setField(this.id,t)})}getTableId(){return ye(this,null,function*(){return(yield this.getMeta()).property.tableId})}setMultiple(i){return ye(this,null,function*(){let e=yield this.getMeta(),t=rn(wi({},e),{property:rn(wi({},e.property),{multiple:i})});return yield this.table.setField(this.id,t)})}getMultiple(){return ye(this,null,function*(){return(yield this.getMeta()).property.multiple})}};$se=$e([Wr(fi.DuplexLink)],$se);var Nse=class extends Ms{constructor(){super(...arguments),this.type=fi.Email}transform(i){return i}};Nse=$e([Wr(fi.Email)],Nse);var jse=class extends Ms{constructor(){super(...arguments),this.type=fi.Formula}transform(i){return i}getFormula(){return ye(this,null,function*(){var i;return(i=(yield this.getMeta()).property)==null?void 0:i.formula})}setFormula(i){return ye(this,null,function*(){let e=yield this.getMeta();return this.table.setField(this.id,rn(wi({},e),{property:rn(wi({},e.property),{formula:i})}))})}};jse=$e([Wr(fi.Formula)],jse);var zse=class extends Ms{constructor(){super(...arguments),this.type=fi.GroupChat}transform(i){return i}setMultiple(i){return ye(this,null,function*(){let e=yield this.getMeta(),t=rn(wi({},e),{property:rn(wi({},e.property),{multiple:i})});return yield this.table.setField(this.id,t)})}getMultiple(){return ye(this,null,function*(){return(yield this.getMeta()).property.multiple})}};zse=$e([Wr(fi.GroupChat)],zse);var Hse=class extends Ms{constructor(){super(...arguments),this.type=fi.Attachment}_formatAttachmentVal(i){return Array.isArray(i)?i:i instanceof FileList?Array.from(i):[i]}transform(i){return ye(this,null,function*(){if(Hc.isAttachments(i))return i;if(Hc.isAttachment(i))return[i];let e=this._formatAttachmentVal(i),t=[],n=yield this.base.batchUploadFile(e);for(let[r,s]of e.entries())t.push({name:s.name,size:s.size,type:s.type,token:n[r],timeStamp:s.lastModified});return t})}getAttachmentUrls(i){return ye(this,null,function*(){let e=hH(i),t=yield this.table.getCellValue(this.id,e);return yield this.table.getCellAttachmentUrls(t.map(n=>n.token),this.id,e)})}setOnlyMobile(i){return ye(this,null,function*(){let e=yield this.getMeta(),t={name:e.name,type:fi.Attachment,property:rn(wi({},e.property),{onlyMobile:i})};return yield this.table.setField(this.id,t)})}getOnlyMobile(){return ye(this,null,function*(){return(yield this.getMeta()).property.onlyMobile})}};Hse=$e([Wr(fi.Attachment)],Hse);var Vse=class extends Ms{constructor(){super(...arguments),this.type=fi.AutoNumber}getEditable(){return!1}transform(i){return Hc.isAutoNumber(i)?i:{value:i.toString(),status:xye.COMPLETED}}setFormatter(){return ye(this,null,function*(){let i={name:(yield this.table.getFieldMetaById(this.id)).name,type:fi.AutoNumber};return this.table.setField(this.id,i)})}getFormatter(){return ye(this,null,function*(){return(yield this.table.getFieldMetaById(this.id)).property})}};Vse=$e([Wr(fi.AutoNumber)],Vse);var Wse=class extends Ms{constructor(){super(...arguments),this.type=fi.Barcode}transform(i){return Hc.isSegments(i)?i:Hc.isSegmentItem(i)?[i]:[{text:i,type:$2.Text}]}setOnlyMobile(i){return ye(this,null,function*(){let e=yield this.getMeta(),t={name:e.name,type:fi.Barcode,property:rn(wi({},e.property),{onlyMobile:i})};return yield this.table.setField(this.id,t)})}getOnlyMobile(){return ye(this,null,function*(){return(yield this.getMeta()).property.onlyMobile})}};Wse=$e([Wr(fi.Barcode)],Wse);var Use=class extends Ms{constructor(){super(...arguments),this.type=fi.Checkbox}transform(i){return i}};Use=$e([Wr(fi.Checkbox)],Use);var Gse=class extends LK{constructor(){super(...arguments),this.type=fi.CreatedTime}getEditable(){return!1}transform(i){return i}};Gse=$e([Wr(fi.CreatedTime)],Gse);var Yse=class extends Ms{constructor(){super(...arguments),this.type=fi.CreatedUser}transform(i){return i}getEditable(){return!1}};Yse=$e([Wr(fi.CreatedUser)],Yse);var Kse=class extends Ms{constructor(){super(...arguments),this.type=fi.Currency}transform(i){return i}setDecimalDigits(i){return ye(this,null,function*(){let e=yield this.getMeta(),t=rn(wi({},e),{property:rn(wi({},e.property),{decimalDigits:i})});return yield this.table.setField(this.id,t)})}getDecimalDigits(){return ye(this,null,function*(){return(yield this.getMeta()).property.decimalDigits})}setCurrencyCode(i){return ye(this,null,function*(){let e=yield this.getMeta(),t=rn(wi({},e),{property:rn(wi({},e.property),{currencyCode:i})});return yield this.table.setField(this.id,t)})}getCurrencyCode(){return ye(this,null,function*(){return(yield this.getMeta()).property.currencyCode})}};Kse=$e([Wr(fi.Currency)],Kse);var Xse=class extends LK{constructor(){super(...arguments),this.type=fi.DateTime}transform(i){return i}};Xse=$e([Wr(fi.DateTime)],Xse);/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*//*! Bundled license information:

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@babel/runtime/helpers/esm/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)
*/var git=Object.defineProperty,mit=Object.getOwnPropertyDescriptor,xS=(i,e,t,n)=>{for(var r=mit(e,t),s=i.length-1,a;s>=0;s--)(a=i[s])&&(r=a(e,t,r)||r);return r&&git(e,t,r),r},YM=(i,e,t)=>new Promise((n,r)=>{var s=l=>{try{o(t.next(l))}catch(u){r(u)}},a=l=>{try{o(t.throw(l))}catch(u){r(u)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((t=t.apply(i,e)).next())}),Kk=class extends fit{getPersonalBaseToken(){return YM(this,null,function*(){throw new tt})}setData(e,t){return YM(this,null,function*(){throw new tt})}getData(e){return YM(this,null,function*(){throw new tt})}navigateToExtension(e){return YM(this,null,function*(){throw new tt})}};xS([et()],Kk.prototype,"getPersonalBaseToken"),xS([et()],Kk.prototype,"setData"),xS([et()],Kk.prototype,"getData"),xS([et()],Kk.prototype,"navigateToExtension");var SV=class extends uit{setHostContainerSize(e){throw new tt}closeHostContainer(){throw new tt}};xS([et()],SV.prototype,"setHostContainerSize"),xS([et()],SV.prototype,"closeHostContainer");var K2=qBe();jje(K2);var FK=new Kje(K2).withContext([]),vit=new Kk(K2).withContext([]),yit=new SV(K2).withContext([]),_it=new bV(FK).withContext([]),bit=new USe(FK,K2).withContext([]);_it.setClientVersion("0.4.0-alpha.12");var Sit=class{constructor(){this.base=FK,this.bridge=vit,this.ui=yit,this.dashboard=bit}},S1=new Sit,YSe=Object.defineProperty,qse=Object.getOwnPropertySymbols,xit=Object.prototype.hasOwnProperty,wit=Object.prototype.propertyIsEnumerable,Zse=(i,e,t)=>e in i?YSe(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Mp=(i,e)=>{for(var t in e||(e={}))xit.call(e,t)&&Zse(i,t,e[t]);if(qse)for(var t of qse(e))wit.call(e,t)&&Zse(i,t,e[t]);return i},Cit=(i,e)=>{for(var t in e)YSe(i,t,{get:e[t],enumerable:!0})},kit=(i=>(i.Small="small",i.Medium="medium",i.Large="large",i))(kit||{}),Eit=(i=>(i.CALCULATING="calculating",i.COMPLETED="completed",i))(Eit||{}),KSe=(i=>(i.Text="text",i.Url="url",i.Mention="mention",i))(KSe||{}),Ait=(i=>(i[i.User=0]="User",i[i.Doc=1]="Doc",i[i.Folder=2]="Folder",i[i.Sheet=3]="Sheet",i[i.SheetDoc=4]="SheetDoc",i[i.Chat=5]="Chat",i[i.Bitable=8]="Bitable",i[i.Mindnote=11]="Mindnote",i[i.Box=12]="Box",i[i.Slide=15]="Slide",i[i.Wiki=16]="Wiki",i[i.Docx=22]="Docx",i[i.Slides=30]="Slides",i[i.Bitable_Ind=108]="Bitable_Ind",i))(Ait||{}),Tit=(i=>(i.TableAdd="TableAdd",i.TableDelete="TableDelete",i.SelectionChange="SelectionChange",i.PermissionChange="PermissionChange",i.UploadStatusChange="UploadStatusChange",i))(Tit||{}),Pit=(i=>(i.FieldAdd="FieldAdd",i.FieldDelete="FieldDelete",i.FieldModify="FieldModify",i.RecordAdd="RecordAdd",i.RecordModify="RecordModify",i.RecordDelete="RecordDelete",i))(Pit||{}),Oit=(i=>(i.DataChange="DataChange",i.ThemeChange="ThemeChange",i))(Oit||{}),Mit=(i=>(i.DataChange="DataChange",i.ConfigChange="ConfigChange",i))(Mit||{}),cv=(i=>(i[i.NotSupport=0]="NotSupport",i[i.Text=1]="Text",i[i.Number=2]="Number",i[i.SingleSelect=3]="SingleSelect",i[i.MultiSelect=4]="MultiSelect",i[i.DateTime=5]="DateTime",i[i.Checkbox=7]="Checkbox",i[i.User=11]="User",i[i.Phone=13]="Phone",i[i.Url=15]="Url",i[i.Attachment=17]="Attachment",i[i.SingleLink=18]="SingleLink",i[i.Lookup=19]="Lookup",i[i.Formula=20]="Formula",i[i.DuplexLink=21]="DuplexLink",i[i.Location=22]="Location",i[i.GroupChat=23]="GroupChat",i[i.Denied=403]="Denied",i[i.CreatedTime=1001]="CreatedTime",i[i.ModifiedTime=1002]="ModifiedTime",i[i.CreatedUser=1003]="CreatedUser",i[i.ModifiedUser=1004]="ModifiedUser",i[i.AutoNumber=1005]="AutoNumber",i[i.Barcode=99001]="Barcode",i[i.Progress=99002]="Progress",i[i.Currency=99003]="Currency",i[i.Rating=99004]="Rating",i[i.Email=99005]="Email",i))(cv||{}),Iit=(i=>(i[i.NotSupport=0]="NotSupport",i[i.Grid=1]="Grid",i[i.Kanban=2]="Kanban",i[i.Form=3]="Form",i[i.Gallery=4]="Gallery",i[i.Gantt=5]="Gantt",i[i.Hierarchy=6]="Hierarchy",i[i.Calendar=7]="Calendar",i[i.WidgetView=100]="WidgetView",i))(Iit||{}),Rit=(i=>(i[i.Pending=1]="Pending",i[i.Inflight=2]="Inflight",i[i.Success=3]="Success",i[i.Error=4]="Error",i[i.Paused=5]="Paused",i))(Rit||{}),Dit=(i=>(i.ONLY_MOBILE="ONLY_MOBILE",i.NOT_LIMIT="NOT_LIMIT",i))(Dit||{}),Lit=(i=>(i.INTEGER="0",i.DIGITAL_ROUNDED_1="0.0",i.DIGITAL_ROUNDED_2="0.00",i.DIGITAL_ROUNDED_3="0.000",i.DIGITAL_ROUNDED_4="0.0000",i.DIGITAL_THOUSANDS="1,000",i.DIGITAL_THOUSANDS_DECIMALS="1,000.00",i.PERCENTAGE_ROUNDED="0%",i.PERCENTAGE="0.00%",i))(Lit||{}),Fit=(i=>(i.CYN_ROUNDED="#,##0",i.CYN="#,##0.00",i.DOLLAR_ROUNDED="$#,##0",i.DOLLAR="$#,##0.00",i))(Fit||{}),Bit=(i=>(i.DATE_YMD_WITH_SLASH="yyyy/MM/dd",i.DATE_TIME="yyyy/MM/dd HH:mm",i.DATE_TIME_WITH_HYPHEN="yyyy-MM-dd HH:mm",i.DATE_YMD_WITH_HYPHEN="yyyy-MM-dd",i.DATE_MD_WITH_HYPHEN="MM-dd",i.DATE_MMDD_WITH_SLASH="MM/dd/yyyy",i.DATE_DDMM_WITH_SLASH="dd/MM/yyyy",i))(Bit||{}),$it=(i=>(i.CNY="CNY",i.USD="USD",i.EUR="EUR",i.GBP="GBP",i.AED="AED",i.AUD="AUD",i.BRL="BRL",i.CAD="CAD",i.CHF="CHF",i.HKD="HKD",i.INR="INR",i.IDR="IDR",i.JPY="JPY",i.KRW="KRW",i.MOP="MOP",i.MXN="MXN",i.MYR="MYR",i.PHP="PHP",i.PLN="PLN",i.RUB="RUB",i.SGD="SGD",i.THB="THB",i.TRY="TRY",i.TWD="TWD",i.VND="VND",i))($it||{}),Nit=(i=>(i.STAR="star",i.HEART="heart",i.THUMBSUP="thumbsup",i.FIRE="fire",i.SMILE="smile",i.LIGHTNING="lightning",i.FLOWER="flower",i.NUMBER="number",i))(Nit||{}),jit=(i=>(i[i.Low=120]="Low",i[i.Mid=360]="Mid",i[i.HIGH=720]="HIGH",i[i.MAX=1280]="MAX",i))(jit||{}),XSe=(i=>(i.SUM="SUM",i.AVERAGE="AVERAGE",i.MAX="MAX",i.MIN="MIN",i))(XSe||{}),zit=(i=>(i.ALL="ALL",i.ALL_INCLUDE_ARCHIVE="ALL_INCLUDE_ARCHIVE",i.VIEW="VIEW",i.CUSTOM="CUSTOM",i))(zit||{}),Hit=(i=>(i[i.ASCENDING=1]="ASCENDING",i[i.DESCENDING=2]="DESCENDING",i))(Hit||{}),xV=(i=>(i.VALUE="VALUE",i.VIEW="VIEW",i.GROUP="GROUP",i))(xV||{}),qSe=(i=>(i.LIGHT="LIGHT",i.DARK="DARK",i))(qSe||{}),Vit=(i=>(i[i.Short=1]="Short",i[i.Medium=2]="Medium",i[i.Tall=3]="Tall",i[i.ExtraTall=4]="ExtraTall",i))(Vit||{}),Wit=(i=>(i.Enabled="Enabled",i.Disabled="Disabled",i))(Wit||{}),Uit=(i=>(i.NoCopyPermission="no_copy_permission",i))(Uit||{}),Git=(i=>(i.info="info",i.success="success",i.warning="warning",i.error="error",i.loading="loading",i))(Git||{}),wV=(i=>(i.Create="Create",i.Config="Config",i.View="View",i.FullScreen="FullScreen",i))(wV||{}),CV=(i=>(i[i.ASCENDING=1]="ASCENDING",i[i.DESCENDING=2]="DESCENDING",i))(CV||{}),Xk=(i=>(i.ENUMERATED="enumerated",i.INTEGRATED="integrated",i))(Xk||{}),Yit=(i=>(i[i.STATIC=0]="STATIC",i[i.DYNAMIC=1]="DYNAMIC",i))(Yit||{}),Kit=(i=>(i.Today="Today",i.Tomorrow="Tomorrow",i.Yesterday="Yesterday",i.TheLastWeek="TheLastWeek",i.TheNextWeek="TheNextWeek",i.TheLastMonth="TheLastMonth",i.TheNextMonth="TheNextMonth",i.CurrentWeek="CurrentWeek",i.LastWeek="LastWeek",i.CurrentMonth="CurrentMonth",i.LastMonth="LastMonth",i))(Kit||{}),Xit=(i=>(i.Is="is",i.IsNot="isNot",i.Contains="contains",i.DoesNotContain="doesNotContain",i.IsEmpty="isEmpty",i.IsNotEmpty="isNotEmpty",i.IsGreater="isGreater",i.IsGreaterEqual="isGreaterEqual",i.IsLess="isLess",i.IsLessEqual="isLessEqual",i))(Xit||{}),qit=(i=>(i.And="and",i.Or="or",i))(qit||{}),Zit=(i=>(i.AddCondition="AddCondition",i.DeleteCondition="DeleteCondition",i.UpdateCondition="UpdateCondition",i.SetConjunction="SetConjunction",i))(Zit||{}),Qit=(i=>(i.Base="Base",i.Table="Table",i.Record="Record",i.Field="Field",i.Cell="Cell",i))(Qit||{}),Jit=(i=>(i.Visible="visible",i.Editable="editable",i.Addable="addable",i.Deletable="deletable",i.Copyable="copyable",i.Movable="movable",i.Printable="printable",i.Manageable="manageable",i.Submittable="submittable",i))(Jit||{}),ent={};Cit(ent,{isAttachment:()=>ZSe,isAttachments:()=>rnt,isAutoNumber:()=>lnt,isCheckbox:()=>ant,isEmpty:()=>cnt,isGroupChat:()=>exe,isGroupChats:()=>fnt,isLink:()=>pnt,isLocation:()=>nnt,isMultiSelect:()=>unt,isNumber:()=>BK,isPhone:()=>ont,isSegmentItem:()=>JSe,isSegments:()=>hnt,isSingleSelect:()=>QSe,isTimestamp:()=>snt,isUsers:()=>int});function tnt(i){if(!om(i))return!1;let e=Aa(i,"id");return ma(e)&&e.startsWith("ou_")}function int(i){return Af(i)?i.every(tnt):!1}function nnt(i){return om(i)?ma(Aa(i,"address"))&&ma(Aa(i,"adname"))&&ma(Aa(i,"cityname"))&&ma(Aa(i,"fullAddress"))&&ma(Aa(i,"location"))&&ma(Aa(i,"name"))&&ma(Aa(i,"pname")):!1}function ZSe(i){return om(i)?ma(Aa(i,"name"))&&BK(Aa(i,"size"))&&ma(Aa(i,"token"))&&ma(Aa(i,"type")):!1}function rnt(i){return Af(i)?i.every(ZSe):!1}function snt(i){return BK(i)}function ant(i){return zBe(i)}function ont(i){return ma(i)}function lnt(i){return ma(i)||ma(i==null?void 0:i.value)}function BK(i){return WBe(i)}function QSe(i){return om(i)?ma(Aa(i,"id"))&&ma(Aa(i,"text")):!1}function unt(i){return Af(i)?i.every(QSe):!1}function cnt(i){return i===null}var dnt=new Set(Object.values(KSe));function JSe(i){if(!om(i))return!1;let e=Aa(i,"type"),t=Aa(i,"text");return!ma(e)||!ma(t)?!1:dnt.has(e)}function hnt(i){return Af(i)?i.every(JSe):!1}function pnt(i){return om(i)?Af(Aa(i,"recordIds"))&&ma(Aa(i,"tableId")):!1}function exe(i){if(!om(i))return!1;let e=Aa(i,"id"),t=Aa(i,"name");return ma(e)&&e.startsWith("oc_")&&ma(t)}function fnt(i){return Af(i)?i.every(e=>exe(e)):!1}var uy={Unknown:10,Base:11,Table:12,Field:13,Record:14,View:15,Cell:16,Dashboard:17},i7={Action:89,ViewWidget:96,ItemWidget:97,Widget:98,Unknown:99},cy={UnSupportedType:991,ParameterException:992,LowerLimitExceeded:993,UpperLimitExceeded:994,NameRepeated:995,NotSupported:996,PermissionDenied:997,NotFound:998,Unknown:999},n7={HostNotRegistered:997,NotFound:998,Unknown:999};uy.Base+"",Mp({},cy),uy.Table+"",Mp({NotLoaded:1,LastTableDeleteForbidden:2},cy),uy.Field+"",Mp({NotMatch:1,LocationInfoException:20},cy),uy.Record+"",Mp({SingleRecordOperationLimitExceeded:1},cy),uy.Cell+"",Mp({},cy),uy.View+"",Mp({LastViewDeleteForbidden:1,FilterInfoError:2},cy),uy.Dashboard+"",Mp({DataConditionFormatError:1},cy),i7.ItemWidget+"",Mp({},n7),i7.Action+"",Mp({},n7),i7.ViewWidget+"",Mp({},n7);var gnt=(i=>(i[i.TableNotLoadedError=10212001]="TableNotLoadedError",i[i.LastTableDeleteForbiddenError=10212002]="LastTableDeleteForbiddenError",i[i.TableParamExceptionError=10212992]="TableParamExceptionError",i[i.TableNameRepeatedError=10212995]="TableNameRepeatedError",i[i.TablePermissionDeniedError=10212997]="TablePermissionDeniedError",i[i.TableNotFoundError=10212998]="TableNotFoundError",i[i.TableUnknownError=10212999]="TableUnknownError",i[i.FieldTypeUnSupportedError=10213991]="FieldTypeUnSupportedError",i[i.FieldNameRepeatedError=10213995]="FieldNameRepeatedError",i[i.FieldPermissionDeniedError=10213997]="FieldPermissionDeniedError",i[i.FieldNotFoundError=10213998]="FieldNotFoundError",i[i.FieldUnknownError=10213999]="FieldUnknownError",i[i.SingleRecordOperationLimitExceeded=10214001]="SingleRecordOperationLimitExceeded",i[i.RecordPermissionDeniedError=10214997]="RecordPermissionDeniedError",i[i.RecordNotFoundError=10214998]="RecordNotFoundError",i[i.RecordUnknownError=10214999]="RecordUnknownError",i[i.LastViewDeleteForbiddenError=10215001]="LastViewDeleteForbiddenError",i[i.ViewTypeUnSupportedError=10215991]="ViewTypeUnSupportedError",i[i.ViewNameRepeatedError=10215995]="ViewNameRepeatedError",i[i.ViewPermissionDeniedError=10215997]="ViewPermissionDeniedError",i[i.ViewNotFoundError=10215998]="ViewNotFoundError",i[i.ViewUnknownError=10215999]="ViewUnknownError",i[i.CellPermissionDeniedError=10216997]="CellPermissionDeniedError",i[i.CellUnknownError=10216999]="CellUnknownError",i[i.DashDataConditionFormatError=10217001]="DashDataConditionFormatError",i[i.DashPermissionDeniedError=10217997]="DashPermissionDeniedError",i[i.DashDataSizeExceededError=10217994]="DashDataSizeExceededError",i[i.DashUnknownError=10217999]="DashUnknownError",i))(gnt||{});class KM{constructor(e){yh(this,"events",new Set);yh(this,"lastEmitArgs");yh(this,"timer");this.debounce=e}size(){return this.events.size}emitSync(...e){const t=[];return this.events.forEach(n=>{const r=n.lastCall??0,s=n.interval;Date.now()-r<s||(n.lastCall=Date.now(),t.push(n(...e)))}),t}emitLifeCycle(...e){return this.lastEmitArgs=e,Promise.resolve().then(()=>{try{this.emitSync(...e)}catch(t){return Promise.reject(t)}})}emit(...e){return this.lastEmitArgs=void 0,new Promise(t=>{this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>{try{this.emitSync(...e),t()}catch(n){return Promise.reject(n)}},this.debounce)})}on(e,t=0){return e.interval=t,this.lastEmitArgs&&e(...this.lastEmitArgs),this.events.add(e),()=>{this.off(e)}}wait(){return new Promise(e=>{const t=(...r)=>{e(r),n()},n=this.on(t)})}off(e){this.events.delete(e)}destroy(){this.events.clear()}}class mnt{constructor({onSelectionChange:e=!1,immediatelySelectionChange:t=!0,onDashDataChange:n=!1,onDashConfigChange:r=!1,onThemeChange:s=!1}={}){yh(this,"bitable",S1);yh(this,"base",S1.base);yh(this,"activeTable");yh(this,"emSelectionChange",new KM);yh(this,"emThemeChange",new KM);yh(this,"emDashDataChange",new KM);yh(this,"emDashConfigChange",new KM);e&&this.base.onSelectionChange(async a=>{this.activeTable=void 0,this.emSelectionChange.emitLifeCycle(a)}),t&&e&&this.getSelection().then(a=>{this.emSelectionChange.emitSync({data:a})}),n&&this.bitable.dashboard.onDataChange(a=>{this.emDashDataChange.emit(a)}),r&&this.bitable.dashboard.onConfigChange(a=>{this.emDashConfigChange.emit(a)}),s&&(this.bitable.bridge.onThemeChange(a=>{this.emThemeChange.emit(a)}),this.bitable.bridge.getTheme().then(a=>{this.emThemeChange.emitLifeCycle({data:{theme:a}})}))}getTableDataRange(e){return this.bitable.dashboard.getTableDataRange(e)}getTheme(){return this.bitable.bridge.getTheme()}getLang(){return this.bitable.bridge.getLanguage()}saveConfig(e){return this.bitable.dashboard.saveConfig(e)}getConfig(){return this.bitable.dashboard.getConfig()}getData(){return this.bitable.dashboard.getData()}getPreviewData(e){return this.bitable.dashboard.getPreviewData(e)}getDashState(){return this.bitable.dashboard.state}triggerDashRendered(){return this.bitable.dashboard.setRendered()}async getRecordIds(e){return e||(e=await this.getActiveTable()),await e.getRecordIdList()}async getRecordById(e,t){return await e.getRecordById(t)}async getActiveTable(){return this.activeTable?this.activeTable:(this.activeTable=await S1.base.getActiveTable(),this.activeTable)}async getTableList(){return await Promise.all((await S1.base.getTableList()).map(async e=>{const t=await e.getName();return{id:e.id,name:t,raw:e}}))}async getViewList(e){var r;const n=await((r=(await this.getTableById(e)).raw)==null?void 0:r.getViewList())||[];return await Promise.all(n.map(async s=>{const a=await s.getName();return{id:s.id,name:a,raw:s}}))}async getTableById(e){const t=await S1.base.getTableById(e);return{id:t.id,name:await t.getName(),raw:t}}async getFiledListByViewId(e,t){var a;const r=await((a=(await this.getTableById(e)).raw)==null?void 0:a.getViewById(t));return(await(r==null?void 0:r.getFieldMetaList())??[]).map(o=>({name:o.name,id:o.id,type:o.type,raw:o}))}async getSelection(){return await S1.base.getSelection()}async getSelectionQuery(e){const t=e.tableId?await this.base.getTableById(e.tableId):void 0;return{table:t,view:e.viewId?await(t==null?void 0:t.getViewById(e.viewId)):void 0,field:e.fieldId?await(t==null?void 0:t.getFieldById(e.fieldId)):void 0,record:e.recordId?await(t==null?void 0:t.getRecordById(e.recordId)):void 0}}async getSelection2({viewId:e=!1,fieldId:t=!1,recordId:n=!1}={}){const r=await this.getSelection();return await this.getSelectionQuery({viewId:e?r.viewId:void 0,fieldId:t?r.fieldId:void 0,recordId:n?r.recordId:void 0})}async getRecordList(e,t){let n;const r=[];for(;;){const s=await e.getRecords({pageSize:5e3,...t,pageToken:n});if(r.push(...s.records),n=s.pageToken,!s.hasMore)break}return r}}const wl=new mnt({onDashDataChange:!0,onDashConfigChange:!0,onThemeChange:!0}),txe=i=>i;var na;(function(i){i["desktop-browser"]="desktop-browser",i["mobile-browser"]="mobile-browser",i.node="node",i.worker="worker",i.miniApp="miniApp",i.wx="wx",i.tt="tt",i.harmony="harmony",i["desktop-miniApp"]="desktop-miniApp",i.lynx="lynx"})(na||(na={}));var De;(function(i){i.cartesianAxis="cartesianAxis",i.cartesianBandAxis="cartesianAxis-band",i.cartesianLinearAxis="cartesianAxis-linear",i.cartesianTimeAxis="cartesianAxis-time",i.cartesianLogAxis="cartesianAxis-log",i.cartesianSymlogAxis="cartesianAxis-symlog",i.polarAxis="polarAxis",i.polarBandAxis="polarAxis-band",i.polarLinearAxis="polarAxis-linear",i.crosshair="crosshair",i.cartesianCrosshair="cartesianCrosshair",i.polarCrosshair="polarCrosshair",i.dataZoom="dataZoom",i.geoCoordinate="geoCoordinate",i.indicator="indicator",i.discreteLegend="discreteLegend",i.continuousLegend="continuousLegend",i.colorLegend="colorLegend",i.sizeLegend="sizeLegend",i.mapLabel="mapLabel",i.markLine="markLine",i.markArea="markArea",i.markPoint="markPoint",i.polarMarkLine="polarMarkLine",i.polarMarkArea="polarMarkArea",i.polarMarkPoint="polarMarkPoint",i.geoMarkPoint="geoMarkPoint",i.tooltip="tooltip",i.title="title",i.player="player",i.scrollBar="scrollBar",i.label="label",i.totalLabel="totalLabel",i.brush="brush",i.poptip="poptip",i.customMark="customMark"})(De||(De={}));var ixe={exports:{}};(function(i){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function r(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new r(c,d||l,h),f=t?t+u:u;return l._events[f]?l._events[f].fn?l._events[f]=[l._events[f],p]:l._events[f].push(p):(l._events[f]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=t?t+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,f=new Array(p);h<p;h++)f[h]=d[h].fn;return f},o.prototype.listenerCount=function(u){var c=t?t+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,h,p,f){var g=t?t+u:u;if(!this._events[g])return!1;var v=this._events[g],m=arguments.length,b,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),m){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,p),!0;case 6:return v.fn.call(v.context,c,d,h,p,f),!0}for(_=1,b=new Array(m-1);_<m;_++)b[_-1]=arguments[_];v.fn.apply(v.context,b)}else{var S=v.length,C;for(_=0;_<S;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),m){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,c);break;case 3:v[_].fn.call(v[_].context,c,d);break;case 4:v[_].fn.call(v[_].context,c,d,h);break;default:if(!b)for(C=1,b=new Array(m-1);C<m;C++)b[C-1]=arguments[C];v[_].fn.apply(v[_].context,b)}}return!0},o.prototype.on=function(u,c,d){return s(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return s(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,h){var p=t?t+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var f=this._events[p];if(f.fn)f.fn===c&&(!h||f.once)&&(!d||f.context===d)&&a(this,p);else{for(var g=0,v=[],m=f.length;g<m;g++)(f[g].fn!==c||h&&!f[g].once||d&&f[g].context!==d)&&v.push(f[g]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=t?t+u:u,this._events[c]&&a(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,i.exports=o})(ixe);var vnt=ixe.exports;const gb=Li(vnt),$w=(i,e)=>Object.prototype.toString.call(i)===`[object ${e}]`,Ir=(i,e=!1)=>e?typeof i=="boolean":i===!0||i===!1||$w(i,"Boolean"),Pe=i=>typeof i=="function",Y=i=>i==null,X=i=>i!=null,yi=i=>{const e=typeof i;return i!==null&&e==="object"||e==="function"},kV=i=>typeof i=="object"&&i!==null,np=function(i){if(!kV(i)||!$w(i,"Object"))return!1;if(Object.getPrototypeOf(i)===null)return!0;let e=i;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(i)===e},qr=i=>i===void 0,ct=(i,e=!1)=>{const t=typeof i;return e?t==="string":t==="string"||$w(i,"String")},ke=i=>Array.isArray?Array.isArray(i):$w(i,"Array"),CB=function(i){return i!==null&&typeof i!="function"&&Number.isFinite(i.length)},ynt=i=>$w(i,"Date"),Xe=(i,e=!1)=>{const t=typeof i;return e?t==="number":t==="number"||$w(i,"Number")},_nt=i=>typeof i=="string"&&!isNaN(Number(i))&&!isNaN(parseFloat(i)),Ce=i=>Xe(i)&&Number.isFinite(i),nxe=i=>new RegExp(/^(http(s)?:\/\/)\w+[^\s]+(\.[^\s]+){1,}$/).test(i),rxe=i=>new RegExp(/^data:image\/(?:gif|png|jpeg|bmp|webp|svg\+xml)(?:;charset=utf-8)?;base64,(?:[A-Za-z0-9]|[+/])+={0,2}/g).test(i),bnt=i=>({}).toString.call(i).replace(/^\[object /,"").replace(/]$/,""),Snt=Object.prototype,xnt=function(i){const e=i&&i.constructor;return i===(typeof e=="function"&&e.prototype||Snt)},wnt=Object.prototype.hasOwnProperty;function Mt(i){if(Y(i))return!0;if(CB(i))return!i.length;const e=bnt(i);if(e==="Map"||e==="Set")return!i.size;if(xnt(i))return!Object.keys(i).length;for(const t in i)if(wnt.call(i,t))return!1;return!0}const bi=(i,e,t)=>{const n=ct(e)?e.split("."):e;for(let r=0;r<n.length;r++)i=i?i[n[r]]:void 0;return i===void 0?t:i},Cnt=Object.prototype.hasOwnProperty,zh=(i,e)=>i!=null&&Cnt.call(i,e);function su(i){let e;if(!X(i)||typeof i!="object")return i;const t=ke(i),n=i.length;e=t?new Array(n):typeof i=="object"?{}:Ir(i)||Xe(i)||ct(i)?i:ynt(i)?new Date(+i):void 0;const r=t?void 0:Object.keys(Object(i));let s=-1;if(e)for(;++s<(r||i).length;){const a=r?r[s]:s,o=i[a];e[a]=su(o)}return e}function sxe(i,e,t=!1){if(e){if(i===e)return;if(X(e)&&typeof e=="object"){const n=Object(e),r=[];for(const o in n)r.push(o);let{length:s}=r,a=-1;for(;s--;){const o=r[++a];X(n[o])&&typeof n[o]=="object"?knt(i,e,o,t):axe(i,o,n[o])}}}}function knt(i,e,t,n=!1){const r=i[t],s=e[t];let a=e[t],o=!0;if(ke(s)){if(n)a=[];else if(ke(r))a=r;else if(CB(r)){a=new Array(r.length);let l=-1;const u=r.length;for(;++l<u;)a[l]=r[l]}}else np(s)?(a=r,typeof r!="function"&&typeof r=="object"||(a={})):o=!1;o&&sxe(a,s,n),axe(i,t,a)}function axe(i,e,t){(t!==void 0&&!Ent(i[e],t)||t===void 0&&!(e in i))&&(i[e]=t)}function Ent(i,e){return i===e||Number.isNaN(i)&&Number.isNaN(e)}function Ie(i,...e){let t=-1;const n=e.length;for(;++t<n;)sxe(i,e[t],!0);return i}function kB(i,e){if(!i||!np(i))return i;const t={};return Object.keys(i).forEach(n=>{const r=i[n];let s=!1;e.forEach(a=>{(ct(a)&&a===n||a instanceof RegExp&&n.match(a))&&(s=!0)}),s||(t[n]=r)}),t}function Qse(i){return Object.prototype.toString.call(i)}function Jse(i){return Object.keys(i)}function Rr(i,e,t){if(i===e)return!0;if(typeof i!=typeof e||i==null||e==null)return!1;if(Number.isNaN(i)&&Number.isNaN(e))return!0;if(Qse(i)!==Qse(e)||Pe(i)||typeof i!="object")return!1;if(ke(i)){if(i.length!==e.length)return!1;for(let s=i.length-1;s>=0;s--)if(!Rr(i[s],e[s]))return!1;return!0}if(!np(i))return!1;const n=Jse(i),r=Jse(e);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let s=n.length-1;s>=0;s--)if(n[s]!=r[s])return!1;for(let s=n.length-1;s>=0;s--){const a=n[s];if(!Rr(i[a],e[a]))return!1}return!0}function Ant(i){if(!i)return[];if(Object.keys)return Object.keys(i);const e=[];for(const t in i)i.hasOwnProperty(t)&&e.push(t);return e}function Tnt(i,e,t){const n=Ant(e);for(let r=0;r<n.length;r++){const s=n[r];(t?e[s]!=null:i[s]==null)&&(i[s]=e[s])}return i}function wa(i,e,t=!0){if(i="prototype"in i?i.prototype:i,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames){const n=Object.getOwnPropertyNames(e);for(let r=0;r<n.length;r++){const s=n[r];s!=="constructor"&&(t?e[s]!=null:i[s]==null)&&(i[s]=e[s])}}else Tnt(i,e,t)}function we(i){return X(i)?ke(i)?i:[i]:[]}function Hv(i){if(CB(i))return i[i.length-1]}const Os=(i,e)=>{var t;if(i.length===0)return;let n=i[0];for(let r=1;r<i.length;r++){const s=i[r];((t=e==null?void 0:e(s,n))!==null&&t!==void 0?t:s-n>0)&&(n=s)}return n},ca=(i,e)=>{var t;if(i.length===0)return;let n=i[0];for(let r=1;r<i.length;r++){const s=i[r];((t=e==null?void 0:e(s,n))!==null&&t!==void 0?t:s-n<0)&&(n=s)}return n};function XM(i,e){if(!ke(i)||!ke(e)||i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function Pnt(i){return i&&ke(i)?Array.from(new Set(we(i))):i}function oxe(i,e=Math.random){let t,n,r=i.length;for(;r;)t=Math.floor(e()*r),n=i[--r],i[r]=i[t],i[t]=n;return i}function EV(i){if(!ke(i))return[i];const e=[];for(const t of i)e.push(...EV(t));return e}function lxe(i,e,t){X(e)||(e=i,i=0),X(t)||(t=1);let n=-1;const r=0|Math.max(0,Math.ceil((e-i)/t)),s=new Array(r);for(;++n<r;)s[n]=i+n*t;return s}function uxe(i,e){return i<e?-1:i>e?1:i>=e?0:NaN}function lf(i){return Number(i)}function Ont(i,e,t=lf){const n=i.length;if(!n)return;if(n<2)return t(i[0],0,i);const r=(n-1)*e,s=Math.floor(r),a=t(i[s],s,i);return a+(t(i[s+1],s+1,i)-a)*(r-s)}const Mnt=typeof console<"u";function qM(i,e,t){const n=[e].concat([].slice.call(t));Mnt&&console[i].apply(console,n)}var Cc;(function(i){i[i.None=0]="None",i[i.Error=1]="Error",i[i.Warn=2]="Warn",i[i.Info=3]="Info",i[i.Debug=4]="Debug"})(Cc||(Cc={}));let Kn=class _c{static getInstance(e,t){return _c._instance&&Xe(e)?_c._instance.level(e):_c._instance||(_c._instance=new _c(e,t)),_c._instance}static setInstance(e){return _c._instance=e}static setInstanceLevel(e){_c._instance?_c._instance.level(e):_c._instance=new _c(e)}static clearInstance(){_c._instance=null}constructor(e=Cc.None,t){this._onErrorHandler=[],this._level=e,this._method=t}addErrorHandler(e){this._onErrorHandler.find(t=>t===e)||this._onErrorHandler.push(e)}removeErrorHandler(e){const t=this._onErrorHandler.findIndex(n=>n===e);t<0||this._onErrorHandler.splice(t,1)}callErrorHandler(...e){this._onErrorHandler.forEach(t=>t(...e))}canLogInfo(){return this._level>=Cc.Info}canLogDebug(){return this._level>=Cc.Debug}canLogError(){return this._level>=Cc.Error}canLogWarn(){return this._level>=Cc.Warn}level(e){return arguments.length?(this._level=+e,this):this._level}error(...e){var t;return this._level>=Cc.Error&&(this._onErrorHandler.length?this.callErrorHandler(...e):qM((t=this._method)!==null&&t!==void 0?t:"error","ERROR",e)),this}warn(...e){return this._level>=Cc.Warn&&qM(this._method||"warn","WARN",e),this}info(...e){return this._level>=Cc.Info&&qM(this._method||"log","INFO",e),this}debug(...e){return this._level>=Cc.Debug&&qM(this._method||"log","DEBUG",e),this}};Kn._instance=null;function cxe(i,e,t=0,n){for(Y(n)&&(n=i.length);t<n;){const r=t+n>>>1;uxe(i[r],e)>0?n=r:t=r+1}return t}const eae=(i,e)=>dxe(0,i.length,t=>e(i[t])),dxe=(i,e,t)=>{let n=i,r=e;for(;n<r;){const s=Math.floor((n+r)/2);t(s)>=0?r=s:n=s+1}return n},Int=(i,e)=>{let t=i;return t=i.sort(uxe),Ont(t,.5)},Rnt=1e-10,Dnt=1e-10;function Ol(i,e,t=Dnt,n=Rnt){const r=n,s=t*Math.max(i,e);return Math.abs(i-e)<=Math.max(r,s)}function Wp(i,e,t,n){return i>e&&!Ol(i,e,t,n)}function Dh(i,e,t,n){return i<e&&!Ol(i,e,t,n)}const Nw=i=>{let e=null,t=null;return(...n)=>(e&&n.every((r,s)=>r===e[s])||(e=n,t=i(...n)),t)},sa=function(i,e,t){return i<e?e:i>t?t:i},Ey=(i,e,t)=>{let[n,r]=i;r<n&&(n=i[1],r=i[0]);const s=r-n;return s>=t-e?[e,t]:(n=Math.min(Math.max(n,e),t-s),[n,n+s])};function EB(i,e){let t;return i>e&&(t=i,i=e,e=t),n=>Math.max(i,Math.min(e,n))}let oD=!1;try{oD=typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"}catch{oD=!1}function Pf(i,e,t){let n,r,s,a,o,l,u=0,c=!1,d=!1,h=!0;const p=!e&&e!==0&&oD;if(typeof i!="function")throw new TypeError("Expected a function");function f(S){const C=n,k=r;return n=r=void 0,u=S,a=i.apply(k,C),a}function g(S,C){return p?(cancelAnimationFrame(o),requestAnimationFrame(S)):setTimeout(S,C)}function v(S){const C=S-l;return l===void 0||C>=e||C<0||d&&S-u>=s}function m(){const S=Date.now();if(v(S))return b(S);o=g(m,function(C){const k=C-u,E=e-(C-l);return d?Math.min(E,s-k):E}(S))}function b(S){return o=void 0,h&&n?f(S):(n=r=void 0,a)}function _(...S){const C=Date.now(),k=v(C);if(n=S,r=this,l=C,k){if(o===void 0)return function(E){return u=E,o=g(m,e),c?f(E):a}(l);if(d)return o=g(m,e),f(l)}return o===void 0&&(o=g(m,e)),a}return e=+e||0,yi(t)&&(c=!!t.leading,d="maxWait"in t,d&&(s=Math.max(Ce(t.maxWait)?t.maxWait:0,e)),h="trailing"in t?!!t.trailing:h),_.cancel=function(){o!==void 0&&function(S){if(p)return cancelAnimationFrame(S);clearTimeout(S)}(o),u=0,n=l=r=o=void 0},_.flush=function(){return o===void 0?a:b(Date.now())},_.pending=function(){return o!==void 0},_}oD=!1;function P0(i,e,t){let n=!0,r=!0;if(typeof i!="function")throw new TypeError("Expected a function");return yi(t)&&(n="leading"in t?!!t.leading:n,r="trailing"in t?!!t.trailing:r),Pf(i,e,{leading:n,trailing:r,maxWait:e})}function OE(i,e){return t=>i*(1-t)+e*t}function Lnt(i,e){return function(t){return Math.round(i*(1-t)+e*t)}}function Fnt(i,e){const t=i.valueOf(),n=e.valueOf(),r=new Date;return s=>(r.setTime(t*(1-s)+n*s),r)}const AV=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r7=new RegExp(AV.source,"g");function Bnt(i){return function(){return i}}function $nt(i){return function(e){return i(e)+""}}function Nnt(i,e){let t,n,r,s=AV.lastIndex=r7.lastIndex=0,a=-1;const o=[],l=[];for(i+="",e+="";(t=AV.exec(i))&&(n=r7.exec(e));)(r=n.index)>s&&(r=e.slice(s,r),o[a]?o[a]+=r:o[++a]=r),(t=t[0])===(n=n[0])?o[a]?o[a]+=n:o[++a]=n:(o[++a]=null,l.push({i:a,x:OE(t,n)})),s=r7.lastIndex;return s<e.length&&(r=e.slice(s),o[a]?o[a]+=r:o[++a]=r),o.length<2?l[0]?$nt(l[0].x):Bnt(e):(e=l.length,function(u){for(let c,d=0;d<e;++d)o[(c=l[d]).i]=c.x(u);return o.join("")})}function Ly(i){if(Ce(i))return i;const e=+i;return Ce(e)?e:0}function jnt(i){return parseFloat("0."+Math.sin(i).toString().substring(6))}const xn=1e-12,Dn=Math.PI,Id=Dn/2,Ra=2*Dn,Vi=2*Math.PI,dn=Math.abs,zn=Math.atan2,Yn=Math.cos,Jl=Math.max,xo=Math.min,bn=Math.sin,tu=Math.sqrt,x1=Math.pow;function hxe(i){return i>1?0:i<-1?Dn:Math.acos(i)}function tae(i){return i>=1?Id:i<=-1?-Id:Math.asin(i)}function iae(i,e,t,n,r){let s,a;return typeof i=="number"&&typeof t=="number"&&(s=(1-r)*i+r*t),typeof e=="number"&&typeof n=="number"&&(a=(1-r)*e+r*n),{x:s,y:a}}function nae(i,e){return i[0]*e[1]-i[1]*e[0]}function znt(i,e){return dn(i[0]-e[0])+dn(i[1]-e[1])<1e-12}function pxe(i,e=10){return Math.round(i*e)/e}function Nx(i){const e=i.toString().split(/[eE]/),t=(e[0].split(".")[1]||"").length-(+e[1]||0);return t>0?t:0}function fT(i,e){return pxe(i+e,10**Math.max(Nx(i),Nx(e)))}function TV(i,e){return pxe(i-e,10**Math.max(Nx(i),Nx(e)))}class As{constructor(e=0,t=0,n,r){this.x=0,this.y=0,this.x=e,this.y=t,this.x1=n,this.y1=r}clone(){return new As(this.x,this.y)}copyFrom(e){return this.x=e.x,this.y=e.y,this.x1=e.x1,this.y1=e.y1,this.defined=e.defined,this.context=e.context,this}set(e,t){return this.x=e,this.y=t,this}add(e){return Xe(e)?(this.x+=e,void(this.y+=e)):(this.x+=e.x,this.y+=e.y,this)}sub(e){return Xe(e)?(this.x-=e,void(this.y-=e)):(this.x-=e.x,this.y-=e.y,this)}multi(e){throw new Error("")}div(e){throw new Error("")}}class ds{static distancePP(e,t){return tu(x1(e.x-t.x,2)+x1(e.y-t.y,2))}static distanceNN(e,t,n,r){return tu(x1(e-n,2)+x1(t-r,2))}static distancePN(e,t,n){return tu(x1(t-e.x,2)+x1(n-e.y,2))}static pointAtPP(e,t,n){return new As((t.x-e.x)*n+e.x,(t.y-e.y)*n+e.y)}}function PV(i,e,t){const{x1:n,y1:r,x2:s,y2:a}=e;return t.onlyTranslate()?(i!==e&&i.setValue(e.x1,e.y1,e.x2,e.y2),i.translate(t.e,t.f),e):(i.clear(),i.add(t.a*n+t.c*r+t.e,t.b*n+t.d*r+t.f),i.add(t.a*s+t.c*r+t.e,t.b*s+t.d*r+t.f),i.add(t.a*s+t.c*a+t.e,t.b*s+t.d*a+t.f),i.add(t.a*n+t.c*a+t.e,t.b*n+t.d*a+t.f),e)}class Da{constructor(e){e?this.setValue(e.x1,e.y1,e.x2,e.y2):this.clear()}clone(){return new Da(this)}clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this}empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE}equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2}setValue(e=0,t=0,n=0,r=0){return this.x1=e,this.y1=t,this.x2=n,this.y2=r,this}set(e=0,t=0,n=0,r=0){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this}add(e=0,t=0){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this}expand(e=0){return ke(e)?(this.y1-=e[0],this.x2+=e[1],this.y2+=e[2],this.x1-=e[3]):(this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e),this}round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this}translate(e=0,t=0){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this}rotate(e=0,t=0,n=0){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])}scale(e=0,t=0,n=0,r=0){const s=this.scalePoints(e,t,n,r);return this.clear().add(s[0],s[1]).add(s[2],s[3])}union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this}intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this}encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2}alignsWith(e){return e&&(this.x1===e.x1||this.x2===e.x2||this.y1===e.y1||this.y2===e.y2)}intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)}contains(e=0,t=0){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)}containsPoint(e){return!(e.x<this.x1||e.x>this.x2||e.y<this.y1||e.y>this.y2)}width(){return this.empty()?0:this.x2-this.x1}height(){return this.empty()?0:this.y2-this.y1}scaleX(e=0){return this.x1*=e,this.x2*=e,this}scaleY(e=0){return this.y1*=e,this.y2*=e,this}transformWithMatrix(e){return PV(this,this,e),this}copy(e){return this.x1=e.x1,this.y1=e.y1,this.x2=e.x2,this.y2=e.y2,this}rotatedPoints(e,t,n){const{x1:r,y1:s,x2:a,y2:o}=this,l=Math.cos(e),u=Math.sin(e),c=t-t*l+n*u,d=n-t*u-n*l;return[l*r-u*s+c,u*r+l*s+d,l*r-u*o+c,u*r+l*o+d,l*a-u*s+c,u*a+l*s+d,l*a-u*o+c,u*a+l*o+d]}scalePoints(e,t,n,r){const{x1:s,y1:a,x2:o,y2:l}=this;return[e*s+(1-e)*n,t*a+(1-t)*r,e*o+(1-e)*n,t*l+(1-t)*r]}}class zr extends Da{}function Pn(i){return i*(Math.PI/180)}function jx(i){return 180*i/Math.PI}const Hnt=(i=0)=>{if(i<0)for(;i<-Ra;)i+=Ra;else if(i>0)for(;i>Ra;)i-=Ra;return i},Vnt=Hnt;function Us(i,e,t){return e?{x:i.x+e*Math.cos(t),y:i.y+e*Math.sin(t)}:{x:i.x,y:i.y}}function lD(i,e){return Math.atan2(e.y-i.y,e.x-i.x)}function uf(i){for(;i<0;)i+=2*Math.PI;for(;i>=2*Math.PI;)i-=2*Math.PI;return i}function Wnt(i,e){const t=Math.abs(e-i);if(t>=2*Math.PI||2*Math.PI-t<1e-6)return[0,Math.PI/2,Math.PI,1.5*Math.PI];const n=uf(Math.min(i,e)),r=n+t,s=[n,r];let a=Math.floor(n/Math.PI)*Math.PI/2;for(;a<r;)a>n&&s.push(a),a+=Math.PI/2;return s}function Unt(i,e,t,n){const{x:r,y:s}=e,a=Wnt(t,n),{width:o,height:l}=i,u=[];return a.forEach(c=>{const d=Math.sin(c),h=Math.cos(c);d===1?u.push(l-s):d===-1?u.push(s):h===1?u.push(o-r):h===-1?u.push(r):(d>0?u.push(Math.abs((l-s)/h)):u.push(Math.abs(s/h)),h>0?u.push(Math.abs((o-r)/d)):u.push(Math.abs(r/d)))}),Math.min.apply(null,u)}class gs{constructor(e=1,t=0,n=0,r=1,s=0,a=0){this.a=e,this.b=t,this.c=n,this.d=r,this.e=s,this.f=a}equalToMatrix(e){return!(this.e!==e.e||this.f!==e.f||this.a!==e.a||this.d!==e.d||this.b!==e.b||this.c!==e.c)}equalTo(e,t,n,r,s,a){return!(this.e!==s||this.f!==a||this.a!==e||this.d!==r||this.b!==t||this.c!==n)}setValue(e,t,n,r,s,a){return this.a=e,this.b=t,this.c=n,this.d=r,this.e=s,this.f=a,this}reset(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this}getInverse(){const e=this.a,t=this.b,n=this.c,r=this.d,s=this.e,a=this.f,o=new gs,l=e*r-t*n;return o.a=r/l,o.b=-t/l,o.c=-n/l,o.d=e/l,o.e=(n*a-r*s)/l,o.f=-(e*a-t*s)/l,o}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.a*t+this.c*n,s=this.b*t+this.d*n,a=this.a*-n+this.c*t,o=this.b*-n+this.d*t;return this.a=r,this.b=s,this.c=a,this.d=o,this}rotateByCenter(e,t,n){const r=Math.cos(e),s=Math.sin(e),a=(1-r)*t+s*n,o=(1-r)*n-s*t,l=r*this.a-s*this.b,u=s*this.a+r*this.b,c=r*this.c-s*this.d,d=s*this.c+r*this.d,h=r*this.e-s*this.f+a,p=s*this.e+r*this.f+o;return this.a=l,this.b=u,this.c=c,this.d=d,this.e=h,this.f=p,this}scale(e,t){return this.a*=e,this.b*=e,this.c*=t,this.d*=t,this}setScale(e,t){return this.b=this.b/this.a*e,this.c=this.c/this.d*t,this.a=e,this.d=t,this}transform(e,t,n,r,s,a){return this.multiply(e,t,n,r,s,a),this}translate(e,t){return this.e+=this.a*e+this.c*t,this.f+=this.b*e+this.d*t,this}transpose(){const{a:e,b:t,c:n,d:r,e:s,f:a}=this;return this.a=t,this.b=e,this.c=r,this.d=n,this.e=a,this.f=s,this}multiply(e,t,n,r,s,a){const o=this.a,l=this.b,u=this.c,c=this.d,d=o*e+u*t,h=l*e+c*t,p=o*n+u*r,f=l*n+c*r,g=o*s+u*a+this.e,v=l*s+c*a+this.f;return this.a=d,this.b=h,this.c=p,this.d=f,this.e=g,this.f=v,this}interpolate(e,t){const n=new gs;return n.a=this.a+(e.a-this.a)*t,n.b=this.b+(e.b-this.b)*t,n.c=this.c+(e.c-this.c)*t,n.d=this.d+(e.d-this.d)*t,n.e=this.e+(e.e-this.e)*t,n.f=this.f+(e.f-this.f)*t,n}transformPoint(e,t){const{a:n,b:r,c:s,d:a,e:o,f:l}=this,u=n*a-r*s,c=a/u,d=-r/u,h=-s/u,p=n/u,f=(s*l-a*o)/u,g=-(n*l-r*o)/u,{x:v,y:m}=e;t.x=v*c+m*h+f,t.y=v*d+m*p+g}onlyTranslate(e=1){return this.a===e&&this.b===0&&this.c===0&&this.d===e}clone(){return new gs(this.a,this.b,this.c,this.d,this.e,this.f)}toTransformAttrs(){const e=this.a,t=this.b,n=this.c,r=this.d,s=e*r-t*n,a={x:this.e,y:this.f,rotateDeg:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!==0||t!==0){const o=Math.sqrt(e*e+t*t);a.rotateDeg=t>0?Math.acos(e/o):-Math.acos(e/o),a.scaleX=o,a.scaleY=s/o,a.skewX=(e*n+t*r)/s,a.skewY=0}else if(n!==0||r!==0){const o=Math.sqrt(n*n+r*r);a.rotateDeg=Math.PI/2-(r>0?Math.acos(-n/o):-Math.acos(n/o)),a.scaleX=s/o,a.scaleY=o,a.skewX=0,a.skewY=(e*n+t*r)/s}return a.rotateDeg=jx(a.rotateDeg),a}}function Gnt(i,e,t,n,r,s,a,o){const l=e.a,u=e.b,c=e.c,d=e.d,h=e.e,p=e.f,f=Yn(a),g=bn(a);let v,m;o?(v=o[0],m=o[1]):(v=t,m=n);const b=v-t,_=m-n,S=l*f+c*g,C=u*f+d*g,k=c*f-l*g,E=d*f-u*g;i.a=r*S,i.b=r*C,i.c=s*k,i.d=s*E,i.e=h+l*v+c*m-S*b-k*_,i.f=p+u*v+d*m-C*b-E*_}class Ynt{constructor(){this.CLEAN_THRESHOLD=1e3,this.L_TIME=1e3,this.R_COUNT=1,this.R_TIMESTAMP_MAX_SIZE=20}clearCache(e,t){const{CLEAN_THRESHOLD:n=this.CLEAN_THRESHOLD,L_TIME:r=this.L_TIME,R_COUNT:s=this.R_COUNT}=t;if(e.size<n)return 0;let a=0;const o=u=>{a++,e.delete(u)},l=Date.now();return e.forEach((u,c)=>{if(u.timestamp.length<s)return o(c);let d=0;for(;l-u.timestamp[u.timestamp.length-1-d]<r&&(d++,!(d>=s)););if(d<s)return o(c);for(;l-u.timestamp[0]>r;)u.timestamp.shift()}),a}addLimitedTimestamp(e,t,n){const{R_TIMESTAMP_MAX_SIZE:r=this.R_TIMESTAMP_MAX_SIZE}=n;e.timestamp.length>r&&e.timestamp.shift(),e.timestamp.push(t)}clearTimeStamp(e,t){const{L_TIME:n=this.L_TIME}=t,r=Date.now();e.forEach(s=>{for(;r-s.timestamp[0]>n;)s.timestamp.shift()})}clearItemTimestamp(e,t){const{L_TIME:n=this.L_TIME}=t,r=Date.now();for(;r-e.timestamp[0]>n;)e.timestamp.shift()}}function uD(i,e,t){e/=100,t/=100;const n=(1-Math.abs(2*t-1))*e,r=n*(1-Math.abs(i/60%2-1)),s=t-n/2;let a=0,o=0,l=0;return 0<=i&&i<60?(a=n,o=r,l=0):60<=i&&i<120?(a=r,o=n,l=0):120<=i&&i<180?(a=0,o=n,l=r):180<=i&&i<240?(a=0,o=r,l=n):240<=i&&i<300?(a=r,o=0,l=n):300<=i&&i<360&&(a=n,o=0,l=r),a=Math.round(255*(a+s)),o=Math.round(255*(o+s)),l=Math.round(255*(l+s)),{r:a,g:o,b:l}}function AB(i,e,t){i/=255,e/=255,t/=255;const n=Math.min(i,e,t),r=Math.max(i,e,t),s=r-n;let a=0,o=0,l=0;return a=s===0?0:r===i?(e-t)/s%6:r===e?(t-i)/s+2:(i-e)/s+4,a=Math.round(60*a),a<0&&(a+=360),l=(r+n)/2,o=s===0?0:s/(1-Math.abs(2*l-1)),o=+(100*o).toFixed(1),l=+(100*l).toFixed(1),{h:a,s:o,l}}const rae=/^#([0-9a-f]{3,8})$/,sae={transparent:4294967040},B3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ZM(i){return((i=Math.max(0,Math.min(255,Math.round(i)||0)))<16?"0":"")+i.toString(16)}function s7(i){return Xe(i)?new Bo(i>>16,i>>8&255,255&i,1):ke(i)?new Bo(i[0],i[1],i[2]):new Bo(255,255,255)}function Knt(i){return Xe(i)?new Bo(i>>>24,i>>>16&255,i>>>8&255,255&i):ke(i)?new Bo(i[0],i[1],i[2],i[3]):new Bo(255,255,255,1)}function a7(i){return i<.04045?.0773993808*i:Math.pow(.9478672986*i+.0521327014,2.4)}function o7(i){return i<.0031308?12.92*i:1.055*Math.pow(i,.41666)-.055}class oa{static Brighter(e,t=1){return t===1?e:new oa(e).brighter(t).toRGBA()}static SetOpacity(e,t=1){return t===1?e:new oa(e).setOpacity(t).toRGBA()}static getColorBrightness(e,t="hsl"){const n=e instanceof oa?e:new oa(e);switch(t){case"hsv":default:return n.getHSVBrightness();case"hsl":return n.getHSLBrightness();case"lum":return n.getLuminance();case"lum2":return n.getLuminance2();case"lum3":return n.getLuminance3()}}static parseColorString(e){if(X(sae[e]))return Knt(sae[e]);if(X(B3[e]))return s7(B3[e]);const t=`${e}`.trim().toLowerCase(),n=rae.exec(t);if(n){const r=parseInt(n[1],16),s=n[1].length;return s===3?new Bo((r>>8&15)+((r>>8&15)<<4),(r>>4&15)+((r>>4&15)<<4),(15&r)+((15&r)<<4),1):s===6?s7(r):s===8?new Bo(r>>24&255,r>>16&255,r>>8&255,(255&r)/255):void 0}if(/^(rgb|RGB|rgba|RGBA)/.test(t)){const r=t.replace(/(?:\(|\)|rgba|RGBA|rgb|RGB)*/g,"").split(",");return new Bo(parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10),parseFloat(r[3]))}if(/^(hsl|HSL|hsla|HSLA)/.test(t)){const r=t.replace(/(?:\(|\)|hsla|HSLA|hsl|HSL)*/g,"").split(","),s=uD(parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10));return new Bo(s.r,s.g,s.b,parseFloat(r[3]))}}constructor(e){const t=oa.parseColorString(e);t?this.color=t:(console.warn(`Warn: ${e}Color`),this.color=new Bo(255,255,255))}toRGBA(){return this.color.formatRgb()}toString(){return this.color.formatRgb()}toHex(){return this.color.formatHex()}toHsl(){return this.color.formatHsl()}brighter(e){const{r:t,g:n,b:r}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(t*e))),this.color.g=Math.max(0,Math.min(255,Math.floor(n*e))),this.color.b=Math.max(0,Math.min(255,Math.floor(r*e))),this}add(e){const{r:t,g:n,b:r}=this.color;return this.color.r+=Math.min(255,t+e.color.r),this.color.g+=Math.min(255,n+e.color.g),this.color.b+=Math.min(255,r+e.color.b),this}sub(e){return this.color.r=Math.max(0,this.color.r-e.color.r),this.color.g=Math.max(0,this.color.g-e.color.g),this.color.b=Math.max(0,this.color.b-e.color.b),this}multiply(e){const{r:t,g:n,b:r}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(t*e.color.r))),this.color.g=Math.max(0,Math.min(255,Math.floor(n*e.color.g))),this.color.b=Math.max(0,Math.min(255,Math.floor(r*e.color.b))),this}getHSVBrightness(){return Math.max(this.color.r,this.color.g,this.color.b)/255}getHSLBrightness(){return .5*(Math.max(this.color.r,this.color.g,this.color.b)/255+Math.min(this.color.r,this.color.g,this.color.b)/255)}setHsl(e,t,n){const r=this.color.opacity,s=AB(this.color.r,this.color.g,this.color.b),a=uD(Y(e)?s.h:sa(e,0,360),Y(t)?s.s:t>=0&&t<=1?100*t:t,Y(n)?s.l:n<=1&&n>=0?100*n:n);return this.color=new Bo(a.r,a.g,a.b,r),this}setRGB(e,t,n){return!Y(e)&&(this.color.r=e),!Y(t)&&(this.color.g=t),!Y(n)&&(this.color.b=n),this}setHex(e){const t=`${e}`.trim().toLowerCase(),n=rae.exec(t),r=parseInt(n[1],16),s=n[1].length;return s===3?new Bo((r>>8&15)+((r>>8&15)<<4),(r>>4&15)+((r>>4&15)<<4),(15&r)+((15&r)<<4),1):s===6?s7(r):s===8?new Bo(r>>24&255,r>>16&255,r>>8&255,(255&r)/255):this}setColorName(e){const t=B3[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}setScalar(e){return this.color.r=e,this.color.g=e,this.color.b=e,this}setOpacity(e=1){return this.color.opacity=e,this}getLuminance(){return(.2126*this.color.r+.7152*this.color.g+.0722*this.color.b)/255}getLuminance2(){return(.2627*this.color.r+.678*this.color.g+.0593*this.color.b)/255}getLuminance3(){return(.299*this.color.r+.587*this.color.g+.114*this.color.b)/255}clone(){return new oa(this.color.toString())}copyGammaToLinear(e,t=2){return this.color.r=Math.pow(e.color.r,t),this.color.g=Math.pow(e.color.g,t),this.color.b=Math.pow(e.color.b,t),this}copyLinearToGamma(e,t=2){const n=t>0?1/t:1;return this.color.r=Math.pow(e.color.r,n),this.color.g=Math.pow(e.color.g,n),this.color.b=Math.pow(e.color.b,n),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.color.r=a7(e.color.r),this.color.g=a7(e.color.g),this.color.b=a7(e.color.b),this}copyLinearToSRGB(e){return this.color.r=o7(e.color.r),this.color.g=o7(e.color.g),this.color.b=o7(e.color.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}}class Bo{constructor(e,t,n,r){this.r=isNaN(+e)?255:Math.max(0,Math.min(255,+e)),this.g=isNaN(+t)?255:Math.max(0,Math.min(255,+t)),this.b=isNaN(+n)?255:Math.max(0,Math.min(255,+n)),X(r)?this.opacity=isNaN(+r)?1:Math.max(0,Math.min(1,+r)):this.opacity=1}formatHex(){return`#${ZM(this.r)+ZM(this.g)+ZM(this.b)+(this.opacity===1?"":ZM(255*this.opacity))}`}formatRgb(){const e=this.opacity;return`${e===1?"rgb(":"rgba("}${this.r},${this.g},${this.b}${e===1?")":`,${e})`}`}formatHsl(){const e=this.opacity,{h:t,s:n,l:r}=AB(this.r,this.g,this.b);return`${e===1?"hsl(":"hsla("}${t},${n}%,${r}%${e===1?")":`,${e})`}`}toString(){return this.formatHex()}}function fxe(i){let e="",t="",n="";const r=i[0]==="#"?1:0;for(let s=r;s<i.length;s++)i[s]!=="#"&&(s<r+2?e+=i[s]:s<r+4?t+=i[s]:s<r+6&&(n+=i[s]));return[parseInt(e,16),parseInt(t,16),parseInt(n,16)]}function Xnt(i,e,t){return Number((1<<24)+(i<<16)+(e<<8)+t).toString(16).slice(1)}function qnt(i,e){const t=i.r,n=e.r,r=i.g,s=e.g,a=i.b,o=e.b,l=i.opacity,u=e.opacity;return c=>{const d=Math.round(t*(1-c)+n*c),h=Math.round(r*(1-c)+s*c),p=Math.round(a*(1-c)+o*c);return new Bo(d,h,p,l*(1-c)+u*c)}}const Znt=Object.freeze(Object.defineProperty({__proto__:null,Color:oa,DEFAULT_COLORS:B3,RGB:Bo,hexToRgb:fxe,hslToRgb:uD,interpolateRgb:qnt,rgbToHex:Xnt,rgbToHsl:AB},Symbol.toStringTag,{value:"Module"}));function l7(i,e,t){i[0]=e[0]-t[0],i[1]=e[1]-t[1]}let Cl,kl,El,Al,Hh,Vh,Wh,Uh;function gxe(i,e,t,n){let r,s=i[0],a=e[0],o=t[0],l=n[0];return a<s&&(r=a,a=s,s=r),l<o&&(r=l,l=o,o=r),!(a<o||l<s)&&(s=i[1],a=e[1],o=t[1],l=n[1],a<s&&(r=a,a=s,s=r),l<o&&(r=l,l=o,o=r),!(a<o||l<s))}function mxe(i,e,t,n){if(!gxe(i,e,t,n))return!1;const r=[0,0],s=[0,0],a=[0,0];if(l7(r,e,i),l7(s,n,t),znt(r,s))return!0;l7(a,t,i);const o=nae(a,s)/nae(r,s);return o>=0&&o<=1&&[i[0]+r[0]*o,i[1]+r[1]*o]}function vxe(i,e,t){return i===null?e:e===null?i:(Cl=i.x1,kl=i.x2,El=i.y1,Al=i.y2,Hh=e.x1,Vh=e.x2,Wh=e.y1,Uh=e.y2,Cl>=Vh||kl<=Hh||El>=Uh||Al<=Wh?{x1:0,y1:0,x2:0,y2:0}:{x1:Math.max(Cl,Hh),y1:Math.max(El,Wh),x2:Math.min(kl,Vh),y2:Math.min(Al,Uh)})}var wS;(function(i){i[i.NONE=0]="NONE",i[i.BBOX1=1]="BBOX1",i[i.BBOX2=2]="BBOX2"})(wS||(wS={}));function Qnt(i,e,t){return i&&e?(Cl=i.x1,kl=i.x2,El=i.y1,Al=i.y2,Hh=e.x1,Vh=e.x2,Wh=e.y1,Uh=e.y2,Cl>Hh&&kl<Vh&&El>Wh&&Al<Uh?wS.BBOX1:Hh>Cl&&Vh<kl&&Wh>El&&Uh<Al?wS.BBOX2:wS.NONE):wS.NONE}function gT(i,e,t){return!i||!e||(t?(Cl=i.x1,kl=i.x2,El=i.y1,Al=i.y2,Hh=e.x1,Vh=e.x2,Wh=e.y1,Uh=e.y2,Cl>kl&&([Cl,kl]=[kl,Cl]),El>Al&&([El,Al]=[Al,El]),Hh>Vh&&([Hh,Vh]=[Vh,Hh]),Wh>Uh&&([Wh,Uh]=[Uh,Wh]),!(Cl>Vh||kl<Hh||El>Uh||Al<Wh)):!(i.x1>e.x2||i.x2<e.x1||i.y1>e.y2||i.y2<e.y1))}function ME(i,e,t){return!e||(t?(Cl=e.x1,kl=e.x2,El=e.y1,Al=e.y2,Cl>kl&&([Cl,kl]=[kl,Cl]),El>Al&&([El,Al]=[Al,El]),i.x>=Cl&&i.x<=kl&&i.y>=El&&i.y<=Al):i.x>=e.x1&&i.x<=e.x2&&i.y>=e.y1&&i.y<=e.y2)}function u7(i,e){return Math.abs(e[0]*i[0]+e[1]*i[1])}function QM({x:i,y:e},t,n={x:0,y:0}){return{x:(i-n.x)*Math.cos(t)+(e-n.y)*Math.sin(t)+n.x,y:(i-n.x)*Math.sin(t)+(n.y-e)*Math.cos(t)+n.y}}function OV(i){return{x:(i.x1+i.x2)/2,y:(i.y1+i.y2)/2}}function aae(i,e){const t=e?i.angle:Pn(i.angle),n=OV(i);return[QM({x:i.x1,y:i.y1},t,n),QM({x:i.x2,y:i.y1},t,n),QM({x:i.x2,y:i.y2},t,n),QM({x:i.x1,y:i.y2},t,n)]}function Jnt(i,e,t=!1,n){const r=aae(i,t),s=aae(e,t),a=(_,S)=>[S.x-_.x,S.y-_.y],o=OV(i),l=OV(e),u=a(o,l),c=a(r[0],r[1]),d=a(r[1],r[2]),h=a(s[0],s[1]),p=a(s[1],s[2]),f=t?i.angle:Pn(i.angle);let g=t?i.angle+Id:Pn(90-i.angle);const v=t?e.angle:Pn(e.angle);let m=t?e.angle+Id:Pn(90-e.angle);g>Vi&&(g-=Vi),m>Vi&&(m-=Vi);const b=(_,S,C,k)=>{const E=[Math.cos(S),Math.sin(S)];return _+(u7(E,C)+u7(E,k))/2>u7(E,u)};return b((i.x2-i.x1)/2,f,h,p)&&b((i.y2-i.y1)/2,g,h,p)&&b((e.x2-e.x1)/2,v,c,d)&&b((e.y2-e.y1)/2,m,c,d)}let JM,eI,tI,iI;function ert(i){return JM=1/0,eI=1/0,tI=-1/0,iI=-1/0,i.forEach(e=>{JM>e.x&&(JM=e.x),tI<e.x&&(tI=e.x),eI>e.y&&(eI=e.y),iI<e.y&&(iI=e.y)}),{x1:JM,y1:eI,x2:tI,y2:iI}}const trt=1e-8;function irt(i,e,t,n,r){for(let s=0,a=r[r.length-1];s<r.length;s++){const o=r[s];if(gxe([i,e],[t,n],[o.x,o.y],[a.x,a.y]))return!0;a=o}return!1}function Gy(i,e,t){let n=0,r=i[0];if(!r)return!1;for(let a=1;a<i.length;a++){const o=i[a];n+=oae(r.x,r.y,o.x,o.y,e,t),r=o}const s=i[0];return lae(r.x,s.x)&&lae(r.y,s.y)||(n+=oae(r.x,r.y,s.x,s.y,e,t)),n!==0}function oae(i,e,t,n,r,s){if(s>e&&s>n||s<e&&s<n||n===e)return 0;const a=(s-e)/(n-e);let o=n<e?1:-1;a!==1&&a!==0||(o=n<e?.5:-.5);const l=a*(t-i)+i;return l===r?1/0:l>r?o:0}function lae(i,e){return Math.abs(i-e)<trt}function uae(i,e){for(let t=0;t<e.length;t++)if(Gy(i,e[t].x,e[t].y)||t>0&&irt(e[t-1].x,e[t-1].y,e[t].x,e[t].y,i))return!0;return!1}const cae=i=>{let e=i.charCodeAt(0),t=i.length===2?i.charCodeAt(1):0,n=e;return 55296<=e&&e<=56319&&56320<=t&&t<=57343&&(e&=1023,t&=1023,n=e<<10|t,n+=65536),n===12288||65281<=n&&n<=65376||65504<=n&&n<=65510?"F":n===8361||65377<=n&&n<=65470||65474<=n&&n<=65479||65482<=n&&n<=65487||65490<=n&&n<=65495||65498<=n&&n<=65500||65512<=n&&n<=65518?"H":4352<=n&&n<=4447||4515<=n&&n<=4519||4602<=n&&n<=4607||9001<=n&&n<=9002||11904<=n&&n<=11929||11931<=n&&n<=12019||12032<=n&&n<=12245||12272<=n&&n<=12283||12289<=n&&n<=12350||12353<=n&&n<=12438||12441<=n&&n<=12543||12549<=n&&n<=12589||12593<=n&&n<=12686||12688<=n&&n<=12730||12736<=n&&n<=12771||12784<=n&&n<=12830||12832<=n&&n<=12871||12880<=n&&n<=13054||13056<=n&&n<=19903||19968<=n&&n<=42124||42128<=n&&n<=42182||43360<=n&&n<=43388||44032<=n&&n<=55203||55216<=n&&n<=55238||55243<=n&&n<=55291||63744<=n&&n<=64255||65040<=n&&n<=65049||65072<=n&&n<=65106||65108<=n&&n<=65126||65128<=n&&n<=65131||110592<=n&&n<=110593||127488<=n&&n<=127490||127504<=n&&n<=127546||127552<=n&&n<=127560||127568<=n&&n<=127569||131072<=n&&n<=194367||177984<=n&&n<=196605||196608<=n&&n<=262141?"W":32<=n&&n<=126||162<=n&&n<=163||165<=n&&n<=166||n===172||n===175||10214<=n&&n<=10221||10629<=n&&n<=10630?"Na":n===161||n===164||167<=n&&n<=168||n===170||173<=n&&n<=174||176<=n&&n<=180||182<=n&&n<=186||188<=n&&n<=191||n===198||n===208||215<=n&&n<=216||222<=n&&n<=225||n===230||232<=n&&n<=234||236<=n&&n<=237||n===240||242<=n&&n<=243||247<=n&&n<=250||n===252||n===254||n===257||n===273||n===275||n===283||294<=n&&n<=295||n===299||305<=n&&n<=307||n===312||319<=n&&n<=322||n===324||328<=n&&n<=331||n===333||338<=n&&n<=339||358<=n&&n<=359||n===363||n===462||n===464||n===466||n===468||n===470||n===472||n===474||n===476||n===593||n===609||n===708||n===711||713<=n&&n<=715||n===717||n===720||728<=n&&n<=731||n===733||n===735||768<=n&&n<=879||913<=n&&n<=929||931<=n&&n<=937||945<=n&&n<=961||963<=n&&n<=969||n===1025||1040<=n&&n<=1103||n===1105||n===8208||8211<=n&&n<=8214||8216<=n&&n<=8217||8220<=n&&n<=8221||8224<=n&&n<=8226||8228<=n&&n<=8231||n===8240||8242<=n&&n<=8243||n===8245||n===8251||n===8254||n===8308||n===8319||8321<=n&&n<=8324||n===8364||n===8451||n===8453||n===8457||n===8467||n===8470||8481<=n&&n<=8482||n===8486||n===8491||8531<=n&&n<=8532||8539<=n&&n<=8542||8544<=n&&n<=8555||8560<=n&&n<=8569||n===8585||8592<=n&&n<=8601||8632<=n&&n<=8633||n===8658||n===8660||n===8679||n===8704||8706<=n&&n<=8707||8711<=n&&n<=8712||n===8715||n===8719||n===8721||n===8725||n===8730||8733<=n&&n<=8736||n===8739||n===8741||8743<=n&&n<=8748||n===8750||8756<=n&&n<=8759||8764<=n&&n<=8765||n===8776||n===8780||n===8786||8800<=n&&n<=8801||8804<=n&&n<=8807||8810<=n&&n<=8811||8814<=n&&n<=8815||8834<=n&&n<=8835||8838<=n&&n<=8839||n===8853||n===8857||n===8869||n===8895||n===8978||9312<=n&&n<=9449||9451<=n&&n<=9547||9552<=n&&n<=9587||9600<=n&&n<=9615||9618<=n&&n<=9621||9632<=n&&n<=9633||9635<=n&&n<=9641||9650<=n&&n<=9651||9654<=n&&n<=9655||9660<=n&&n<=9661||9664<=n&&n<=9665||9670<=n&&n<=9672||n===9675||9678<=n&&n<=9681||9698<=n&&n<=9701||n===9711||9733<=n&&n<=9734||n===9737||9742<=n&&n<=9743||9748<=n&&n<=9749||n===9756||n===9758||n===9792||n===9794||9824<=n&&n<=9825||9827<=n&&n<=9829||9831<=n&&n<=9834||9836<=n&&n<=9837||n===9839||9886<=n&&n<=9887||9918<=n&&n<=9919||9924<=n&&n<=9933||9935<=n&&n<=9953||n===9955||9960<=n&&n<=9983||n===10045||n===10071||10102<=n&&n<=10111||11093<=n&&n<=11097||12872<=n&&n<=12879||57344<=n&&n<=63743||65024<=n&&n<=65039||n===65533||127232<=n&&n<=127242||127248<=n&&n<=127277||127280<=n&&n<=127337||127344<=n&&n<=127386||917760<=n&&n<=917999||983040<=n&&n<=1048573||1048576<=n&&n<=1114109?"A":"N"};function nrt(i,e={}){const{fontStyle:t=e.fontStyle,fontVariant:n=e.fontVariant,fontWeight:r=e.fontWeight,fontSize:s=e.fontSize,fontFamily:a=e.fontFamily}=i;return(t?t+" ":"")+(n?n+" ":"")+(r?r+" ":"")+s+"px "+(a||"sans-serif")}class Sl{constructor(e,t){this._numberCharSize=null,this._fullCharSize=null,this._letterCharSize=null,this._specialCharSizeMap={},this._canvas=null,this._context=null,this._contextSaved=!1,this._notSupportCanvas=!1,this._notSupportVRender=!1,this._userSpec={},this.specialCharSet=`-/: .,@%'"~`,this._option=e,this._userSpec=t??{},this.textSpec=this._initSpec(),X(e.specialCharSet)&&(this.specialCharSet=e.specialCharSet),this._standardMethod=X(e.getTextBounds)?this.fullMeasure.bind(this):this.measureWithNaiveCanvas.bind(this)}initContext(){if(this._notSupportCanvas)return!1;if(Y(this._canvas)&&(X(this._option.getCanvasForMeasure)&&(this._canvas=this._option.getCanvasForMeasure()),Y(this._canvas)&&typeof window<"u"&&window.document!==void 0&&globalThis&&X(globalThis.document)&&(this._canvas=globalThis.document.createElement("canvas"))),Y(this._context)&&X(this._canvas)){const e=this._canvas.getContext("2d");X(e)&&(e.save(),e.font=nrt(this.textSpec),this._contextSaved=!0,this._context=e)}return!Y(this._context)||(this._notSupportCanvas=!0,!1)}_initSpec(){var e,t,n;const{defaultFontParams:r={}}=this._option,{fontStyle:s=r.fontStyle,fontVariant:a=r.fontVariant,fontWeight:o=(e=r.fontWeight)!==null&&e!==void 0?e:"normal",fontSize:l=(t=r.fontSize)!==null&&t!==void 0?t:12,fontFamily:u=(n=r.fontFamily)!==null&&n!==void 0?n:"sans-serif",align:c,textAlign:d=c??"center",baseline:h,textBaseline:p=h??"middle",ellipsis:f,limit:g}=this._userSpec;let{lineHeight:v=l}=this._userSpec;if(ct(v)&&v[v.length-1]==="%"){const m=Number.parseFloat(v.substring(0,v.length-1))/100;v=l*m}return{fontStyle:s,fontVariant:a,fontFamily:u,fontSize:l,fontWeight:o,textAlign:d,textBaseline:p,ellipsis:f,limit:g,lineHeight:v}}measure(e,t){switch(t){case"vrender":case"canopus":return this.fullMeasure(e);case"canvas":return this.measureWithNaiveCanvas(e);case"simple":return this.quickMeasureWithoutCanvas(e);default:return this.quickMeasure(e)}}fullMeasure(e){if(Y(e))return{width:0,height:0};if(Y(this._option.getTextBounds)||!this._notSupportVRender)return this.measureWithNaiveCanvas(e);const{fontFamily:t,fontSize:n,fontWeight:r,textAlign:s,textBaseline:a,ellipsis:o,limit:l,lineHeight:u}=this.textSpec;let c;try{const d=this._option.getTextBounds({text:e,fontFamily:t,fontSize:n,fontWeight:r,textAlign:s,textBaseline:a,ellipsis:!!o,maxLineWidth:l||1/0,lineHeight:u});c={width:d.width(),height:d.height()}}catch{this._notSupportVRender=!0,c=this.measureWithNaiveCanvas(e)}return c}measureWithNaiveCanvas(e){return this._measureReduce(e,this._measureWithNaiveCanvas.bind(this))}_measureWithNaiveCanvas(e){var t;if(!this.initContext())return this._quickMeasureWithoutCanvas(e);const n=this._context.measureText(e),{fontSize:r,lineHeight:s}=this.textSpec;return{width:n.width,height:(t=s)!==null&&t!==void 0?t:r}}quickMeasure(e){return this._measureReduce(e,this._quickMeasure.bind(this))}_quickMeasure(e){const t={width:0,height:0};for(let n=0;n<e.length;n++){const r=e[n];let s=this._measureSpecialChar(r);Y(s)&&Sl.NUMBERS_CHAR_SET.includes(r)&&(s=this._measureNumberChar()),Y(s)&&["F","W"].includes(cae(r))&&(s=this._measureFullSizeChar()),Y(s)&&(s=this._measureLetterChar()),t.width+=s.width,t.height=Math.max(t.height,s.height)}return t}quickMeasureWithoutCanvas(e){return this._measureReduce(e,this._quickMeasureWithoutCanvas.bind(this))}_quickMeasureWithoutCanvas(e){var t;const n={width:0,height:0},{fontSize:r,lineHeight:s}=this.textSpec;for(let a=0;a<e.length;a++){const o=e[a],l=["F","W"].includes(cae(o))?1:.53;n.width+=l*r}return n.height=(t=s)!==null&&t!==void 0?t:r,n}_measureReduce(e,t){var n;const{fontSize:r,lineHeight:s}=this.textSpec,a={width:0,height:0};if(Y(e))return a;if(ke(e)){const o=e.filter(X).map(l=>l.toString());return o.length===0?a:o.length===1?t(o[0]):{width:o.reduce((l,u)=>Math.max(l,t(u).width),0),height:o.length*(((n=s)!==null&&n!==void 0?n:r)+1)+1}}return t(e.toString())}_measureNumberChar(){if(Y(this._numberCharSize)){const e=this._standardMethod(Sl.NUMBERS_CHAR_SET);this._numberCharSize={width:e.width/Sl.NUMBERS_CHAR_SET.length,height:e.height}}return this._numberCharSize}_measureFullSizeChar(){return Y(this._fullCharSize)&&(this._fullCharSize=this._standardMethod(Sl.FULL_SIZE_CHAR)),this._fullCharSize}_measureLetterChar(){if(Y(this._letterCharSize)){const e=this._standardMethod(Sl.ALPHABET_CHAR_SET);this._letterCharSize={width:e.width/Sl.ALPHABET_CHAR_SET.length,height:e.height}}return this._letterCharSize}_measureSpecialChar(e){return X(this._specialCharSizeMap[e])?this._specialCharSizeMap[e]:this.specialCharSet.includes(e)?(this._specialCharSizeMap[e]=this._standardMethod(e),this._specialCharSizeMap[e]):null}release(){X(this._canvas)&&(this._canvas=null),X(this._context)&&(this._contextSaved&&(this._context.restore(),this._contextSaved=!1),this._context=null)}}Sl.ALPHABET_CHAR_SET="abcdefghijklmnopqrstuvwxyz",Sl.NUMBERS_CHAR_SET="0123456789",Sl.FULL_SIZE_CHAR="";const yxe=(i,e)=>{const{x1:t,x2:n,y1:r,y2:s}=i,a=Math.abs(n-t),o=Math.abs(s-r);let l=(t+n)/2,u=(r+s)/2,c=0,d=0;switch(e){case"top":case"inside-top":d=-.5;break;case"bottom":case"inside-bottom":d=.5;break;case"left":case"inside-left":c=-.5;break;case"right":case"inside-right":c=.5;break;case"top-right":c=.5,d=-.5;break;case"top-left":c=-.5,d=-.5;break;case"bottom-right":c=.5,d=.5;break;case"bottom-left":c=-.5,d=.5}return l+=c*a,u+=d*o,{x:l,y:u}};function au(i){if(Ce(i))return[i,i,i,i];if(ke(i)){const e=i.length;if(e===1){const t=i[0];return[t,t,t,t]}if(e===2){const[t,n]=i;return[t,n,t,n]}if(e===3){const[t,n,r]=i;return[t,n,r,n]}if(e===4)return i}if(yi(i)){const{top:e=0,right:t=0,bottom:n=0,left:r=0}=i;return[e,t,n,r]}return[0,0,0,0]}function MV(i,e=0,t=0){if(!i)return{width:e,height:t};let n;try{n=window==null?void 0:window.getComputedStyle}catch{n=()=>({})}const r=n(i);if(/^(\d*\.?\d+)(px)$/.exec(r.width)){const s=parseFloat(r.width)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)||i.clientWidth-1,a=parseFloat(r.height)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)||i.clientHeight-1;return{width:s<=0?e:s,height:a<=0?t:a}}return{width:e,height:t}}function rrt(i){const{x:e,y:t}=i.getBoundingClientRect();return{x:e,y:t}}function _xe(i,e){let t=i.parentNode;for(;t!==null;){if(t===e)return!0;t=t.parentNode}return!1}const srt=(i="")=>{const e={};return i.split(";").forEach(t=>{if(t){const n=t.split(":");if(n.length===2){const r=n[0].trim(),s=n[1].trim();r&&s&&(e[r]=s)}}}),e},dae=i=>i.replace(/([A-Z])/g,"-$1").toLowerCase();var Tu=63710088e-1,art={centimeters:Tu*100,centimetres:Tu*100,degrees:Tu/111325,feet:Tu*3.28084,inches:Tu*39.37,kilometers:Tu/1e3,kilometres:Tu/1e3,meters:Tu,metres:Tu,miles:Tu/1609.344,millimeters:Tu*1e3,millimetres:Tu*1e3,nauticalmiles:Tu/1852,radians:1,yards:Tu*1.0936};function hae(i,e,t){t===void 0&&(t={});var n={type:"Feature"};return(t.id===0||t.id)&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.properties=e||{},n.geometry=i,n}function bxe(i,e){e===void 0&&(e={});var t={type:"FeatureCollection"};return e.id&&(t.id=e.id),e.bbox&&(t.bbox=e.bbox),t.features=i,t}function ort(i,e){e===void 0&&(e="kilometers");var t=art[e];if(!t)throw new Error(e+" units is invalid");return i/t}function lrt(i){return!!i&&i.constructor===Object}function urt(i){return i.type==="Feature"?i.geometry:i}function crt(i,e){if(!i||!e)return!1;const t=urt(e),n=t.type,r=e.bbox;let s=t.coordinates;if(r&&ME(i,{x1:r[0],x2:r[1],y1:r[1],y2:r[3]},!0)===!0)return!1;n==="Polygon"&&(s=[s]);let a=!1;for(let o=0;o<s.length;++o)for(let l=0;l<s[o].length;++l)if(Gy(s[o][l].map(u=>({x:u[0],y:u[1]})),i.x,i.y))return a=!0,a;return a}function drt(i,e,t,n={}){const r=Pn(i[0]),s=Pn(i[1]),a=Pn(t),o=ort(e,n.units),l=Math.asin(Math.sin(s)*Math.cos(o)+Math.cos(s)*Math.sin(o)*Math.cos(a)),u=r+Math.atan2(Math.sin(a)*Math.sin(o)*Math.cos(s),Math.cos(o)-Math.sin(s)*Math.sin(l));return{x:jx(u),y:jx(l)}}class Yh{static getInstance(){return Yh.instance||(Yh.instance=new Yh),Yh.instance}constructor(){this.locale_shortWeekdays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.locale_periods=["AM","PM"],this.locale_weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.locale_shortMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.numberRe=/^\s*\d+/,this.pads={"-":"",_:" ",0:"0"},this.requoteRe=/[\\^$*+?|[\]().{}]/g,this.locale_months=["January","February","March","April","May","June","July","August","September","October","November","December"],this.formatShortWeekday=e=>this.locale_shortWeekdays[e.getDay()],this.formatWeekday=e=>this.locale_weekdays[e.getDay()],this.formatShortMonth=e=>this.locale_shortMonths[e.getMonth()],this.formatMonth=e=>this.locale_months[e.getMonth()],this.formatDayOfMonth=(e,t)=>this.pad(e.getDate(),t,2),this.formatHour24=(e,t)=>this.pad(e.getHours(),t,2),this.formatHour12=(e,t)=>this.pad(e.getHours()%12||12,t,2),this.formatMilliseconds=(e,t)=>this.pad(e.getMilliseconds(),t,3),this.formatMonthNumber=(e,t)=>this.pad(e.getMonth()+1,t,2),this.formatMinutes=(e,t)=>this.pad(e.getMinutes(),t,2),this.formatPeriod=e=>this.locale_periods[+(e.getHours()>=12)],this.formatSeconds=(e,t)=>this.pad(e.getSeconds(),t,2),this.formatFullYear=(e,t)=>this.pad(e.getFullYear()%1e4,t,4),this.formatUTCShortWeekday=e=>this.locale_shortWeekdays[e.getUTCDay()],this.formatUTCWeekday=e=>this.locale_weekdays[e.getUTCDay()],this.formatUTCShortMonth=e=>this.locale_shortMonths[e.getUTCMonth()],this.formatUTCMonth=e=>this.locale_months[e.getUTCMonth()],this.formatUTCDayOfMonth=(e,t)=>this.pad(e.getUTCDate(),t,2),this.formatUTCHour24=(e,t)=>this.pad(e.getUTCHours(),t,2),this.formatUTCHour12=(e,t)=>this.pad(e.getUTCHours()%12||12,t,2),this.formatUTCMilliseconds=(e,t)=>this.pad(e.getUTCMilliseconds(),t,3),this.formatUTCMonthNumber=(e,t)=>this.pad(e.getUTCMonth()+1,t,2),this.formatUTCMinutes=(e,t)=>this.pad(e.getUTCMinutes(),t,2),this.formatUTCPeriod=e=>this.locale_periods[+(e.getUTCHours()>=12)],this.formatUTCSeconds=(e,t)=>this.pad(e.getUTCSeconds(),t,2),this.formatUTCFullYear=(e,t)=>this.pad(e.getUTCFullYear()%1e4,t,4),this.formats={a:this.formatShortWeekday,A:this.formatWeekday,b:this.formatShortMonth,B:this.formatMonth,d:this.formatDayOfMonth,e:this.formatDayOfMonth,H:this.formatHour24,I:this.formatHour12,L:this.formatMilliseconds,m:this.formatMonthNumber,M:this.formatMinutes,p:this.formatPeriod,S:this.formatSeconds,Y:this.formatFullYear},this.utcFormats={a:this.formatUTCShortWeekday,A:this.formatUTCWeekday,b:this.formatUTCShortMonth,B:this.formatUTCMonth,d:this.formatUTCDayOfMonth,e:this.formatUTCDayOfMonth,H:this.formatUTCHour24,I:this.formatUTCHour12,L:this.formatUTCMilliseconds,m:this.formatUTCMonthNumber,M:this.formatUTCMinutes,p:this.formatUTCPeriod,S:this.formatUTCSeconds,Y:this.formatUTCFullYear},this.parseShortWeekday=(e,t,n)=>{const r=this.shortWeekdayRe.exec(t.slice(n));return r?(e.w=this.shortWeekdayLookup.get(r[0].toLowerCase()),n+r[0].length):-1},this.parseWeekday=(e,t,n)=>{const r=this.weekdayRe.exec(t.slice(n));return r?(e.w=this.weekdayLookup.get(r[0].toLowerCase()),n+r[0].length):-1},this.parseShortMonth=(e,t,n)=>{const r=this.shortMonthRe.exec(t.slice(n));return r?(e.m=this.shortMonthLookup.get(r[0].toLowerCase()),n+r[0].length):-1},this.parseMonth=(e,t,n)=>{const r=this.monthRe.exec(t.slice(n));return r?(e.m=this.monthLookup.get(r[0].toLowerCase()),n+r[0].length):-1},this.parseDayOfMonth=(e,t,n)=>{const r=this.numberRe.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1},this.parseHour24=(e,t,n)=>{const r=this.numberRe.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1},this.parseMilliseconds=(e,t,n)=>{const r=this.numberRe.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1},this.parseMonthNumber=(e,t,n)=>{const r=this.numberRe.exec(t.slice(n,n+2));return r?(e.m=r-1,n+r[0].length):-1},this.parseMinutes=(e,t,n)=>{const r=this.numberRe.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1},this.parsePeriod=(e,t,n)=>{const r=this.periodRe.exec(t.slice(n));return r?(e.p=this.periodLookup.get(r[0].toLowerCase()),n+r[0].length):-1},this.parseSeconds=(e,t,n)=>{const r=this.numberRe.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1},this.parseFullYear=(e,t,n)=>{const r=this.numberRe.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1},this.parses={a:this.parseShortWeekday,A:this.parseWeekday,b:this.parseShortMonth,B:this.parseMonth,d:this.parseDayOfMonth,e:this.parseDayOfMonth,H:this.parseHour24,I:this.parseHour24,L:this.parseMilliseconds,m:this.parseMonthNumber,M:this.parseMinutes,p:this.parsePeriod,S:this.parseSeconds,Y:this.parseFullYear},this.timeFormat=(e,t)=>this.newFormat(e,this.formats)(new Date(this.getFullTimeStamp(t))),this.timeUTCFormat=(e,t)=>this.newFormat(e,this.utcFormats)(new Date(this.getFullTimeStamp(t))),this.timeParse=(e,t)=>this.newParse(e,!1)(t+""),this.requoteF=this.requote.bind(this),this.periodRe=this.formatRe(this.locale_periods),this.periodLookup=this.formatLookup(this.locale_periods),this.weekdayRe=this.formatRe(this.locale_weekdays),this.weekdayLookup=this.formatLookup(this.locale_weekdays),this.shortWeekdayRe=this.formatRe(this.locale_shortWeekdays),this.shortWeekdayLookup=this.formatLookup(this.locale_shortWeekdays),this.monthRe=this.formatRe(this.locale_months),this.monthLookup=this.formatLookup(this.locale_months),this.shortMonthRe=this.formatRe(this.locale_shortMonths),this.shortMonthLookup=this.formatLookup(this.locale_shortMonths)}requote(e){return e.replace(this.requoteRe,"\\$&")}localDate(e){if(0<=e.y&&e.y<100){const t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}utcDate(e){if(0<=e.y&&e.y<100){const t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}newDate(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}formatRe(e){return new RegExp("^(?:"+e.map(this.requoteF).join("|")+")","i")}formatLookup(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}pad(e,t,n){const r=e<0?"-":"",s=(r?-e:e)+"",a=s.length;return r+(a<n?new Array(n-a+1).join(t)+s:s)}parseSpecifier(e,t,n,r){let s=0;const a=t.length,o=n.length;let l,u;for(;s<a;){if(r>=o)return-1;if(l=t.charCodeAt(s++),l===37){if(l=t.charAt(s++),u=this.parses[l in this.pads?t.charAt(s++):l],!u||(r=u(e,n,r))<0)return-1}else if(l!==n.charCodeAt(r++))return-1}return r}newParse(e,t){const n=this;return function(r){const s=n.newDate(1900,void 0,1);return n.parseSpecifier(s,e,r+="",0)!==r.length?null:"Q"in s?new Date(s.Q):"s"in s?new Date(1e3*s.s+("L"in s?s.L:0)):(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),s.m===void 0&&(s.m="q"in s?s.q:0),"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,n.utcDate(s)):n.localDate(s))}}newFormat(e,t){const n=this;return function(r){const s=[];let a=-1,o=0;const l=e.length;let u,c,d;for(r instanceof Date||(r=new Date(+r));++a<l;)e.charCodeAt(a)===37&&(s.push(e.slice(o,a)),(c=n.pads[u=e.charAt(++a)])?u=e.charAt(++a):c=u==="e"?" ":"0",d=t[u],u=d(r,c),s.push(u),o=a+1);return s.push(e.slice(o,a)),s.join("")}}getFullTimeStamp(e){const t=parseInt(e+"",10);return String(t).length===10?1e3*t:t}}function hrt(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function cD(i,e){const t=e?i.toExponential(e-1):i.toExponential(),n=t.indexOf("e");if(n<0)return null;const r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function prt(i,e){return function(t,n){let r=t.length;const s=[];let a=0,o=i[0],l=0;for(;r>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(t.substring(r-=o,r+o)),!((l+=o+1)>n));)o=i[a=(a+1)%i.length];return s.reverse().join(e)}}let Sxe;function frt(i,e){const t=cD(i,e);if(!t)return i+"";const n=t[0],r=t[1],s=r-(Sxe=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+cD(i,Math.max(0,e+s-1))[0]}function pae(i,e){const t=cD(i,e);if(!t)return i+"";const n=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}function grt(i){const e=i.length;let t,n=-1;e:for(let r=1;r<e;++r)switch(i[r]){case".":n=t=r;break;case"0":n===0&&(n=r),t=r;break;default:if(!+i[r])break e;n>0&&(n=0)}return n>0?i.slice(0,n)+i.slice(t+1):i}class mrt{constructor(e={}){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}toString(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}}const xxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fae(i){let e;if(e=xxe.exec(i))return new mrt({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]});Kn.getInstance().error("invalid format: "+i)}const gae=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];class Yy{constructor(){this.locale={thousands:",",grouping:[3],currency:["$",""]},this.group=this.locale.grouping===void 0||this.locale.thousands===void 0?e=>e:prt([...this.locale.grouping].map(Number),`${this.locale.thousands}`),this.currencyPrefix=this.locale.currency===void 0?"":this.locale.currency[0]+"",this.currencySuffix=this.locale.currency===void 0?"":this.locale.currency[1]+"",this.decimal=this.locale.decimal===void 0?".":this.locale.decimal+"",this.numerals=this.locale.numerals===void 0?e=>e:yrt([...this.locale.numerals].map(String)),this.percent=this.locale.percent===void 0?"%":this.locale.percent+"",this.minus=this.locale.minus===void 0?"":this.locale.minus+"",this.nan=this.locale.nan===void 0?"NaN":this.locale.nan+"",this.formatter=e=>this.newFormat(e),this.format=(e,t)=>this.formatter(e)(t),this.formatPrefix=(e,t)=>this._formatPrefix(e,t)}static getInstance(){return Yy.instance||(Yy.instance=new Yy),Yy.instance}newFormat(e){const t=fae(e);let n=t.fill,r=t.align;const s=t.sign,a=t.symbol;let o=t.zero;const l=t.width;let u=t.comma,c=t.precision,d=t.trim,h=t.type;h==="n"?(u=!0,h="g"):mae[h]||(c===void 0&&(c=12),d=!0,h="g"),(o||n==="0"&&r==="=")&&(o=!0,n="0",r="=");const p=a==="$"?this.currencyPrefix:a==="#"&&/[boxX]/.test(h)?"0"+h.toLowerCase():"",f=a==="$"?this.currencySuffix:/[%p]/.test(h)?this.percent:"",g=mae[h],v=/[defgprstz%]/.test(h);c=c===void 0?6:/[gprs]/.test(h)?Math.max(1,Math.min(21,c)):Math.max(0,Math.min(20,c));const{nan:m,minus:b,decimal:_,group:S,numerals:C}=this;function k(E){let A,P,O,M=p,D=f,L=E;if(h==="c")D=g(L)+D,L="";else{L=+L;let F=L<0||1/L<0;if(L=isNaN(L)?m:g(Math.abs(L),c),d&&(L=grt(L)),F&&+L==0&&s!=="+"&&(F=!1),M=(F?s==="("?s:b:s==="-"||s==="("?"":s)+M,D=(h==="s"?gae[8+Sxe/3]:"")+D+(F&&s==="("?")":""),v){for(A=-1,P=L.length;++A<P;)if(O=L.charCodeAt(A),48>O||O>57){D=(O===46?_+L.slice(A+1):L.slice(A))+D,L=L.slice(0,A);break}}}u&&!o&&(L=S(L,1/0));let H=M.length+L.length+D.length,B=H<l?new Array(l-H+1).join(n):"";switch(u&&o&&(L=S(B+L,B.length?l-D.length:1/0),B=""),r){case"<":L=M+L+D+B;break;case"=":L=M+B+L+D;break;case"^":L=B.slice(0,H=B.length>>1)+M+L+D+B.slice(H);break;default:L=B+M+L+D}return C(L)}return k.toString=function(){return e+""},k}_formatPrefix(e,t){const n=fae(e);n.type="f";const r=this.newFormat(n.toString()),s=3*Math.max(-8,Math.min(8,Math.floor(vrt(t)/3))),a=Math.pow(10,-s),o=gae[8+s/3];return function(l){return r(a*l)+o}}}const mae={"%":(i,e)=>(100*i).toFixed(e),b:i=>Math.round(i).toString(2),c:i=>i+"",d:hrt,f:(i,e)=>i.toFixed(e),e:(i,e)=>i.toExponential(e),g:(i,e)=>i.toPrecision(e),o:i=>Math.round(i).toString(8),p:(i,e)=>pae(100*i,e),r:pae,s:frt,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16),t:(i,e)=>Number.isInteger(i)?i.toFixed(2):Math.floor(i*Math.pow(10,e))/Math.pow(10,e)+"",z:(i,e)=>i%1==0?i+"":i.toFixed(e)};function vrt(i){const e=cD(Math.abs(i));return e?e[1]:NaN}function yrt(i){return function(e){return e.replace(/[0-9]/g,t=>i[+t])}}const _rt=(i,e)=>{const{callback:t}=e;return t&&(i=i.filter(t)),i};function TB(){return new dD}function dD(){this.reset()}dD.prototype={constructor:dD,reset:function(){this.s=this.t=0},add:function(i){vae(nI,i,this.t),vae(this,nI.s,this.s),this.s?this.t+=nI.t:this.s=nI.t},valueOf:function(){return this.s}};var nI=new dD;function vae(i,e,t){var n=i.s=e+t,r=n-e,s=n-r;i.t=e-s+(t-r)}var Qi=1e-6,brt=1e-12,mn=Math.PI,la=mn/2,yae=mn/4,Vc=mn*2,fl=180/mn,zs=mn/180,Pr=Math.abs,jw=Math.atan,Xg=Math.atan2,fn=Math.cos,wxe=Math.exp,hD=Math.log,c7=Math.pow,Ji=Math.sin,$d=Math.sign||function(i){return i>0?1:i<0?-1:0},Xu=Math.sqrt,$K=Math.tan;function Cxe(i){return i>1?0:i<-1?mn:Math.acos(i)}function Xd(i){return i>1?la:i<-1?-la:Math.asin(i)}function Nd(){}function pD(i,e){i&&bae.hasOwnProperty(i.type)&&bae[i.type](i,e)}var _ae={Feature:function(i,e){pD(i.geometry,e)},FeatureCollection:function(i,e){for(var t=i.features,n=-1,r=t.length;++n<r;)pD(t[n].geometry,e)}},bae={Sphere:function(i,e){e.sphere()},Point:function(i,e){i=i.coordinates,e.point(i[0],i[1],i[2])},MultiPoint:function(i,e){for(var t=i.coordinates,n=-1,r=t.length;++n<r;)i=t[n],e.point(i[0],i[1],i[2])},LineString:function(i,e){IV(i.coordinates,e,0)},MultiLineString:function(i,e){for(var t=i.coordinates,n=-1,r=t.length;++n<r;)IV(t[n],e,0)},Polygon:function(i,e){Sae(i.coordinates,e)},MultiPolygon:function(i,e){for(var t=i.coordinates,n=-1,r=t.length;++n<r;)Sae(t[n],e)},GeometryCollection:function(i,e){for(var t=i.geometries,n=-1,r=t.length;++n<r;)pD(t[n],e)}};function IV(i,e,t){var n=-1,r=i.length-t,s;for(e.lineStart();++n<r;)s=i[n],e.point(s[0],s[1],s[2]);e.lineEnd()}function Sae(i,e){var t=-1,n=i.length;for(e.polygonStart();++t<n;)IV(i[t],e,1);e.polygonEnd()}function Q1(i,e){i&&_ae.hasOwnProperty(i.type)?_ae[i.type](i,e):pD(i,e)}function RV(i){return[Xg(i[1],i[0]),Xd(i[2])]}function zx(i){var e=i[0],t=i[1],n=fn(t);return[n*fn(e),n*Ji(e),Ji(t)]}function rI(i,e){return i[0]*e[0]+i[1]*e[1]+i[2]*e[2]}function fD(i,e){return[i[1]*e[2]-i[2]*e[1],i[2]*e[0]-i[0]*e[2],i[0]*e[1]-i[1]*e[0]]}function d7(i,e){i[0]+=e[0],i[1]+=e[1],i[2]+=e[2]}function sI(i,e){return[i[0]*e,i[1]*e,i[2]*e]}function DV(i){var e=Xu(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);i[0]/=e,i[1]/=e,i[2]/=e}function LV(i,e){function t(n,r){return n=i(n,r),e(n[0],n[1])}return i.invert&&e.invert&&(t.invert=function(n,r){return n=e.invert(n,r),n&&i.invert(n[0],n[1])}),t}function FV(i,e){return[Pr(i)>mn?i+Math.round(-i/Vc)*Vc:i,e]}FV.invert=FV;function kxe(i,e,t){return(i%=Vc)?e||t?LV(wae(i),Cae(e,t)):wae(i):e||t?Cae(e,t):FV}function xae(i){return function(e,t){return e+=i,[e>mn?e-Vc:e<-mn?e+Vc:e,t]}}function wae(i){var e=xae(i);return e.invert=xae(-i),e}function Cae(i,e){var t=fn(i),n=Ji(i),r=fn(e),s=Ji(e);function a(o,l){var u=fn(l),c=fn(o)*u,d=Ji(o)*u,h=Ji(l),p=h*t+c*n;return[Xg(d*r-p*s,c*t-h*n),Xd(p*r+d*s)]}return a.invert=function(o,l){var u=fn(l),c=fn(o)*u,d=Ji(o)*u,h=Ji(l),p=h*r-d*s;return[Xg(d*r+h*s,c*t+p*n),Xd(p*t-c*n)]},a}function Srt(i){i=kxe(i[0]*zs,i[1]*zs,i.length>2?i[2]*zs:0);function e(t){return t=i(t[0]*zs,t[1]*zs),t[0]*=fl,t[1]*=fl,t}return e.invert=function(t){return t=i.invert(t[0]*zs,t[1]*zs),t[0]*=fl,t[1]*=fl,t},e}function xrt(i,e,t,n,r,s){if(t){var a=fn(e),o=Ji(e),l=n*t;r==null?(r=e+n*Vc,s=e-l/2):(r=kae(a,r),s=kae(a,s),(n>0?r<s:r>s)&&(r+=n*Vc));for(var u,c=r;n>0?c>s:c<s;c-=l)u=RV([a,-o*fn(c),-o*Ji(c)]),i.point(u[0],u[1])}}function kae(i,e){e=zx(e),e[0]-=i,DV(e);var t=Cxe(-e[1]);return((-e[2]<0?-t:t)+Vc-Qi)%Vc}function Exe(){var i=[],e;return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){i.push(e=[])},lineEnd:Nd,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var t=i;return i=[],e=null,t}}}function $3(i,e){return Pr(i[0]-e[0])<Qi&&Pr(i[1]-e[1])<Qi}function aI(i,e,t,n){this.x=i,this.z=e,this.o=t,this.e=n,this.v=!1,this.n=this.p=null}function Axe(i,e,t,n,r){var s=[],a=[],o,l;if(i.forEach(function(f){if(!((g=f.length-1)<=0)){var g,v=f[0],m=f[g],b;if($3(v,m)){if(!v[2]&&!m[2]){for(r.lineStart(),o=0;o<g;++o)r.point((v=f[o])[0],v[1]);r.lineEnd();return}m[0]+=2*Qi}s.push(b=new aI(v,f,null,!0)),a.push(b.o=new aI(v,null,b,!1)),s.push(b=new aI(m,f,null,!1)),a.push(b.o=new aI(m,null,b,!0))}}),!!s.length){for(a.sort(e),Eae(s),Eae(a),o=0,l=a.length;o<l;++o)a[o].e=t=!t;for(var u=s[0],c,d;;){for(var h=u,p=!0;h.v;)if((h=h.n)===u)return;c=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,l=c.length;o<l;++o)r.point((d=c[o])[0],d[1]);else n(h.x,h.n.x,1,r);h=h.n}else{if(p)for(c=h.p.z,o=c.length-1;o>=0;--o)r.point((d=c[o])[0],d[1]);else n(h.x,h.p.x,-1,r);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);r.lineEnd()}}}function Eae(i){if(e=i.length){for(var e,t=0,n=i[0],r;++t<e;)n.n=r=i[t],r.p=n,n=r;n.n=r=i[0],r.p=n}}var h7=TB();function p7(i){return Pr(i[0])<=mn?i[0]:$d(i[0])*((Pr(i[0])+mn)%Vc-mn)}function wrt(i,e){var t=p7(e),n=e[1],r=Ji(n),s=[Ji(t),-fn(t),0],a=0,o=0;h7.reset(),r===1?n=la+Qi:r===-1&&(n=-la-Qi);for(var l=0,u=i.length;l<u;++l)if(d=(c=i[l]).length)for(var c,d,h=c[d-1],p=p7(h),f=h[1]/2+yae,g=Ji(f),v=fn(f),m=0;m<d;++m,p=_,g=C,v=k,h=b){var b=c[m],_=p7(b),S=b[1]/2+yae,C=Ji(S),k=fn(S),E=_-p,A=E>=0?1:-1,P=A*E,O=P>mn,M=g*C;if(h7.add(Xg(M*A*Ji(P),v*k+M*fn(P))),a+=O?E+A*Vc:E,O^p>=t^_>=t){var D=fD(zx(h),zx(b));DV(D);var L=fD(s,D);DV(L);var H=(O^E>=0?-1:1)*Xd(L[2]);(n>H||n===H&&(D[0]||D[1]))&&(o+=O^E>=0?1:-1)}}return(a<-Qi||a<Qi&&h7<-Qi)^o&1}function Txe(i,e){return i<e?-1:i>e?1:i>=e?0:NaN}function Crt(i){return i.length===1&&(i=krt(i)),{left:function(e,t,n,r){for(n==null&&(n=0),r==null&&(r=e.length);n<r;){var s=n+r>>>1;i(e[s],t)<0?n=s+1:r=s}return n},right:function(e,t,n,r){for(n==null&&(n=0),r==null&&(r=e.length);n<r;){var s=n+r>>>1;i(e[s],t)>0?r=s:n=s+1}return n}}}function krt(i){return function(e,t){return Txe(i(e),t)}}Crt(Txe);function Pxe(i){for(var e=i.length,t,n=-1,r=0,s,a;++n<e;)r+=i[n].length;for(s=new Array(r);--e>=0;)for(a=i[e],t=a.length;--t>=0;)s[--r]=a[t];return s}function Oxe(i,e,t,n){return function(r){var s=e(r),a=Exe(),o=e(a),l=!1,u,c,d,h={point:p,lineStart:g,lineEnd:v,polygonStart:function(){h.point=m,h.lineStart=b,h.lineEnd=_,c=[],u=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=v,c=Pxe(c);var S=wrt(u,n);c.length?(l||(r.polygonStart(),l=!0),Axe(c,Art,S,t,r)):S&&(l||(r.polygonStart(),l=!0),r.lineStart(),t(null,null,1,r),r.lineEnd()),l&&(r.polygonEnd(),l=!1),c=u=null},sphere:function(){r.polygonStart(),r.lineStart(),t(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(S,C){i(S,C)&&r.point(S,C)}function f(S,C){s.point(S,C)}function g(){h.point=f,s.lineStart()}function v(){h.point=p,s.lineEnd()}function m(S,C){d.push([S,C]),o.point(S,C)}function b(){o.lineStart(),d=[]}function _(){m(d[0][0],d[0][1]),o.lineEnd();var S=o.clean(),C=a.result(),k,E=C.length,A,P,O;if(d.pop(),u.push(d),d=null,!!E){if(S&1){if(P=C[0],(A=P.length-1)>0){for(l||(r.polygonStart(),l=!0),r.lineStart(),k=0;k<A;++k)r.point((O=P[k])[0],O[1]);r.lineEnd()}return}E>1&&S&2&&C.push(C.pop().concat(C.shift())),c.push(C.filter(Ert))}}return h}}function Ert(i){return i.length>1}function Art(i,e){return((i=i.x)[0]<0?i[1]-la-Qi:la-i[1])-((e=e.x)[0]<0?e[1]-la-Qi:la-e[1])}const Aae=Oxe(function(){return!0},Trt,Ort,[-mn,-la]);function Trt(i){var e=NaN,t=NaN,n=NaN,r;return{lineStart:function(){i.lineStart(),r=1},point:function(s,a){var o=s>0?mn:-mn,l=Pr(s-e);Pr(l-mn)<Qi?(i.point(e,t=(t+a)/2>0?la:-la),i.point(n,t),i.lineEnd(),i.lineStart(),i.point(o,t),i.point(s,t),r=0):n!==o&&l>=mn&&(Pr(e-n)<Qi&&(e-=n*Qi),Pr(s-o)<Qi&&(s-=o*Qi),t=Prt(e,t,s,a),i.point(n,t),i.lineEnd(),i.lineStart(),i.point(o,t),r=0),i.point(e=s,t=a),n=o},lineEnd:function(){i.lineEnd(),e=t=NaN},clean:function(){return 2-r}}}function Prt(i,e,t,n){var r,s,a=Ji(i-t);return Pr(a)>Qi?jw((Ji(e)*(s=fn(n))*Ji(t)-Ji(n)*(r=fn(e))*Ji(i))/(r*s*a)):(e+n)/2}function Ort(i,e,t,n){var r;if(i==null)r=t*la,n.point(-mn,r),n.point(0,r),n.point(mn,r),n.point(mn,0),n.point(mn,-r),n.point(0,-r),n.point(-mn,-r),n.point(-mn,0),n.point(-mn,r);else if(Pr(i[0]-e[0])>Qi){var s=i[0]<e[0]?mn:-mn;r=t*s/2,n.point(-s,r),n.point(0,r),n.point(s,r)}else n.point(e[0],e[1])}function Mrt(i){var e=fn(i),t=6*zs,n=e>0,r=Pr(e)>Qi;function s(c,d,h,p){xrt(p,i,t,h,c,d)}function a(c,d){return fn(c)*fn(d)>e}function o(c){var d,h,p,f,g;return{lineStart:function(){f=p=!1,g=1},point:function(v,m){var b=[v,m],_,S=a(v,m),C=n?S?0:u(v,m):S?u(v+(v<0?mn:-mn),m):0;if(!d&&(f=p=S)&&c.lineStart(),S!==p&&(_=l(d,b),(!_||$3(d,_)||$3(b,_))&&(b[2]=1)),S!==p)g=0,S?(c.lineStart(),_=l(b,d),c.point(_[0],_[1])):(_=l(d,b),c.point(_[0],_[1],2),c.lineEnd()),d=_;else if(r&&d&&n^S){var k;!(C&h)&&(k=l(b,d,!0))&&(g=0,n?(c.lineStart(),c.point(k[0][0],k[0][1]),c.point(k[1][0],k[1][1]),c.lineEnd()):(c.point(k[1][0],k[1][1]),c.lineEnd(),c.lineStart(),c.point(k[0][0],k[0][1],3)))}S&&(!d||!$3(d,b))&&c.point(b[0],b[1]),d=b,p=S,h=C},lineEnd:function(){p&&c.lineEnd(),d=null},clean:function(){return g|(f&&p)<<1}}}function l(c,d,h){var p=zx(c),f=zx(d),g=[1,0,0],v=fD(p,f),m=rI(v,v),b=v[0],_=m-b*b;if(!_)return!h&&c;var S=e*m/_,C=-e*b/_,k=fD(g,v),E=sI(g,S),A=sI(v,C);d7(E,A);var P=k,O=rI(E,P),M=rI(P,P),D=O*O-M*(rI(E,E)-1);if(!(D<0)){var L=Xu(D),H=sI(P,(-O-L)/M);if(d7(H,E),H=RV(H),!h)return H;var B=c[0],F=d[0],z=c[1],N=d[1],U;F<B&&(U=B,B=F,F=U);var G=F-B,j=Pr(G-mn)<Qi,K=j||G<Qi;if(!j&&N<z&&(U=z,z=N,N=U),K?j?z+N>0^H[1]<(Pr(H[0]-B)<Qi?z:N):z<=H[1]&&H[1]<=N:G>mn^(B<=H[0]&&H[0]<=F)){var ie=sI(P,(-O+L)/M);return d7(ie,E),[H,RV(ie)]}}}function u(c,d){var h=n?i:mn-i,p=0;return c<-h?p|=1:c>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return Oxe(a,o,s,n?[0,-i]:[-mn,i-mn])}function Irt(i,e,t,n,r,s){var a=i[0],o=i[1],l=e[0],u=e[1],c=0,d=1,h=l-a,p=u-o,f;if(f=t-a,!(!h&&f>0)){if(f/=h,h<0){if(f<c)return;f<d&&(d=f)}else if(h>0){if(f>d)return;f>c&&(c=f)}if(f=r-a,!(!h&&f<0)){if(f/=h,h<0){if(f>d)return;f>c&&(c=f)}else if(h>0){if(f<c)return;f<d&&(d=f)}if(f=n-o,!(!p&&f>0)){if(f/=p,p<0){if(f<c)return;f<d&&(d=f)}else if(p>0){if(f>d)return;f>c&&(c=f)}if(f=s-o,!(!p&&f<0)){if(f/=p,p<0){if(f>d)return;f>c&&(c=f)}else if(p>0){if(f<c)return;f<d&&(d=f)}return c>0&&(i[0]=a+c*h,i[1]=o+c*p),d<1&&(e[0]=a+d*h,e[1]=o+d*p),!0}}}}}var qk=1e9,oI=-qk;function Mxe(i,e,t,n){function r(u,c){return i<=u&&u<=t&&e<=c&&c<=n}function s(u,c,d,h){var p=0,f=0;if(u==null||(p=a(u,d))!==(f=a(c,d))||l(u,c)<0^d>0)do h.point(p===0||p===3?i:t,p>1?n:e);while((p=(p+d+4)%4)!==f);else h.point(c[0],c[1])}function a(u,c){return Pr(u[0]-i)<Qi?c>0?0:3:Pr(u[0]-t)<Qi?c>0?2:1:Pr(u[1]-e)<Qi?c>0?1:0:c>0?3:2}function o(u,c){return l(u.x,c.x)}function l(u,c){var d=a(u,1),h=a(c,1);return d!==h?d-h:d===0?c[1]-u[1]:d===1?u[0]-c[0]:d===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,d=Exe(),h,p,f,g,v,m,b,_,S,C,k,E={point:A,lineStart:D,lineEnd:L,polygonStart:O,polygonEnd:M};function A(B,F){r(B,F)&&c.point(B,F)}function P(){for(var B=0,F=0,z=p.length;F<z;++F)for(var N=p[F],U=1,G=N.length,j=N[0],K,ie,ae=j[0],re=j[1];U<G;++U)K=ae,ie=re,j=N[U],ae=j[0],re=j[1],ie<=n?re>n&&(ae-K)*(n-ie)>(re-ie)*(i-K)&&++B:re<=n&&(ae-K)*(n-ie)<(re-ie)*(i-K)&&--B;return B}function O(){c=d,h=[],p=[],k=!0}function M(){var B=P(),F=k&&B,z=(h=Pxe(h)).length;(F||z)&&(u.polygonStart(),F&&(u.lineStart(),s(null,null,1,u),u.lineEnd()),z&&Axe(h,o,B,s,u),u.polygonEnd()),c=u,h=p=f=null}function D(){E.point=H,p&&p.push(f=[]),C=!0,S=!1,b=_=NaN}function L(){h&&(H(g,v),m&&S&&d.rejoin(),h.push(d.result())),E.point=A,S&&c.lineEnd()}function H(B,F){var z=r(B,F);if(p&&f.push([B,F]),C)g=B,v=F,m=z,C=!1,z&&(c.lineStart(),c.point(B,F));else if(z&&S)c.point(B,F);else{var N=[b=Math.max(oI,Math.min(qk,b)),_=Math.max(oI,Math.min(qk,_))],U=[B=Math.max(oI,Math.min(qk,B)),F=Math.max(oI,Math.min(qk,F))];Irt(N,U,i,e,t,n)?(S||(c.lineStart(),c.point(N[0],N[1])),c.point(U[0],U[1]),z||c.lineEnd(),k=!1):z&&(c.lineStart(),c.point(B,F),k=!1)}b=B,_=F,S=z}return E}}function mT(i){return i}var f7=TB(),BV=TB(),Ixe,Rxe,$V,NV,Cg={point:Nd,lineStart:Nd,lineEnd:Nd,polygonStart:function(){Cg.lineStart=Rrt,Cg.lineEnd=Lrt},polygonEnd:function(){Cg.lineStart=Cg.lineEnd=Cg.point=Nd,f7.add(Pr(BV)),BV.reset()},result:function(){var i=f7/2;return f7.reset(),i}};function Rrt(){Cg.point=Drt}function Drt(i,e){Cg.point=Dxe,Ixe=$V=i,Rxe=NV=e}function Dxe(i,e){BV.add(NV*i-$V*e),$V=i,NV=e}function Lrt(){Dxe(Ixe,Rxe)}var Hx=1/0,gD=Hx,vT=-Hx,mD=vT,vD={point:Frt,lineStart:Nd,lineEnd:Nd,polygonStart:Nd,polygonEnd:Nd,result:function(){var i=[[Hx,gD],[vT,mD]];return vT=mD=-(gD=Hx=1/0),i}};function Frt(i,e){i<Hx&&(Hx=i),i>vT&&(vT=i),e<gD&&(gD=e),e>mD&&(mD=e)}var jV=0,zV=0,Zk=0,yD=0,_D=0,CS=0,HV=0,VV=0,Qk=0,Lxe,Fxe,Qp,Jp,Rd={point:B_,lineStart:Tae,lineEnd:Pae,polygonStart:function(){Rd.lineStart=Nrt,Rd.lineEnd=jrt},polygonEnd:function(){Rd.point=B_,Rd.lineStart=Tae,Rd.lineEnd=Pae},result:function(){var i=Qk?[HV/Qk,VV/Qk]:CS?[yD/CS,_D/CS]:Zk?[jV/Zk,zV/Zk]:[NaN,NaN];return jV=zV=Zk=yD=_D=CS=HV=VV=Qk=0,i}};function B_(i,e){jV+=i,zV+=e,++Zk}function Tae(){Rd.point=Brt}function Brt(i,e){Rd.point=$rt,B_(Qp=i,Jp=e)}function $rt(i,e){var t=i-Qp,n=e-Jp,r=Xu(t*t+n*n);yD+=r*(Qp+i)/2,_D+=r*(Jp+e)/2,CS+=r,B_(Qp=i,Jp=e)}function Pae(){Rd.point=B_}function Nrt(){Rd.point=zrt}function jrt(){Bxe(Lxe,Fxe)}function zrt(i,e){Rd.point=Bxe,B_(Lxe=Qp=i,Fxe=Jp=e)}function Bxe(i,e){var t=i-Qp,n=e-Jp,r=Xu(t*t+n*n);yD+=r*(Qp+i)/2,_D+=r*(Jp+e)/2,CS+=r,r=Jp*i-Qp*e,HV+=r*(Qp+i),VV+=r*(Jp+e),Qk+=r*3,B_(Qp=i,Jp=e)}function $xe(i){this._context=i}$xe.prototype={_radius:4.5,pointRadius:function(i){return this._radius=i,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(i,e){switch(this._point){case 0:{this._context.moveTo(i,e),this._point=1;break}case 1:{this._context.lineTo(i,e);break}default:{this._context.moveTo(i+this._radius,e),this._context.arc(i,e,this._radius,0,Vc);break}}},result:Nd};var WV=TB(),g7,Nxe,jxe,Jk,eE,yT={point:Nd,lineStart:function(){yT.point=Hrt},lineEnd:function(){g7&&zxe(Nxe,jxe),yT.point=Nd},polygonStart:function(){g7=!0},polygonEnd:function(){g7=null},result:function(){var i=+WV;return WV.reset(),i}};function Hrt(i,e){yT.point=zxe,Nxe=Jk=i,jxe=eE=e}function zxe(i,e){Jk-=i,eE-=e,WV.add(Xu(Jk*Jk+eE*eE)),Jk=i,eE=e}function Hxe(){this._string=[]}Hxe.prototype={_radius:4.5,_circle:Oae(4.5),pointRadius:function(i){return(i=+i)!==this._radius&&(this._radius=i,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(i,e){switch(this._point){case 0:{this._string.push("M",i,",",e),this._point=1;break}case 1:{this._string.push("L",i,",",e);break}default:{this._circle==null&&(this._circle=Oae(this._radius)),this._string.push("M",i,",",e,this._circle);break}}},result:function(){if(this._string.length){var i=this._string.join("");return this._string=[],i}else return null}};function Oae(i){return"m0,"+i+"a"+i+","+i+" 0 1,1 0,"+-2*i+"a"+i+","+i+" 0 1,1 0,"+2*i+"z"}function NK(i,e){var t=4.5,n,r;function s(a){return a&&(typeof t=="function"&&r.pointRadius(+t.apply(this,arguments)),Q1(a,n(r))),r.result()}return s.area=function(a){return Q1(a,n(Cg)),Cg.result()},s.measure=function(a){return Q1(a,n(yT)),yT.result()},s.bounds=function(a){return Q1(a,n(vD)),vD.result()},s.centroid=function(a){return Q1(a,n(Rd)),Rd.result()},s.projection=function(a){return arguments.length?(n=a==null?(i=null,mT):(i=a).stream,s):i},s.context=function(a){return arguments.length?(r=a==null?(e=null,new Hxe):new $xe(e=a),typeof t!="function"&&r.pointRadius(t),s):e},s.pointRadius=function(a){return arguments.length?(t=typeof a=="function"?a:(r.pointRadius(+a),+a),s):t},s.projection(i).context(e)}function PB(i){return function(e){var t=new UV;for(var n in i)t[n]=i[n];return t.stream=e,t}}function UV(){}UV.prototype={constructor:UV,point:function(i,e){this.stream.point(i,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function jK(i,e,t){var n=i.clipExtent&&i.clipExtent();return i.scale(150).translate([0,0]),n!=null&&i.clipExtent(null),Q1(t,i.stream(vD)),e(vD.result()),n!=null&&i.clipExtent(n),i}function OB(i,e,t){return jK(i,function(n){var r=e[1][0]-e[0][0],s=e[1][1]-e[0][1],a=Math.min(r/(n[1][0]-n[0][0]),s/(n[1][1]-n[0][1])),o=+e[0][0]+(r-a*(n[1][0]+n[0][0]))/2,l=+e[0][1]+(s-a*(n[1][1]+n[0][1]))/2;i.scale(150*a).translate([o,l])},t)}function zK(i,e,t){return OB(i,[[0,0],e],t)}function HK(i,e,t){return jK(i,function(n){var r=+e,s=r/(n[1][0]-n[0][0]),a=(r-s*(n[1][0]+n[0][0]))/2,o=-s*n[0][1];i.scale(150*s).translate([a,o])},t)}function VK(i,e,t){return jK(i,function(n){var r=+e,s=r/(n[1][1]-n[0][1]),a=-s*n[0][0],o=(r-s*(n[1][1]+n[0][1]))/2;i.scale(150*s).translate([a,o])},t)}var Mae=16,Vrt=fn(30*zs);function Iae(i,e){return+e?Urt(i,e):Wrt(i)}function Wrt(i){return PB({point:function(e,t){e=i(e,t),this.stream.point(e[0],e[1])}})}function Urt(i,e){function t(n,r,s,a,o,l,u,c,d,h,p,f,g,v){var m=u-n,b=c-r,_=m*m+b*b;if(_>4*e&&g--){var S=a+h,C=o+p,k=l+f,E=Xu(S*S+C*C+k*k),A=Xd(k/=E),P=Pr(Pr(k)-1)<Qi||Pr(s-d)<Qi?(s+d)/2:Xg(C,S),O=i(P,A),M=O[0],D=O[1],L=M-n,H=D-r,B=b*L-m*H;(B*B/_>e||Pr((m*L+b*H)/_-.5)>.3||a*h+o*p+l*f<Vrt)&&(t(n,r,s,a,o,l,M,D,P,S/=E,C/=E,k,g,v),v.point(M,D),t(M,D,P,S,C,k,u,c,d,h,p,f,g,v))}}return function(n){var r,s,a,o,l,u,c,d,h,p,f,g,v={point:m,lineStart:b,lineEnd:S,polygonStart:function(){n.polygonStart(),v.lineStart=C},polygonEnd:function(){n.polygonEnd(),v.lineStart=b}};function m(A,P){A=i(A,P),n.point(A[0],A[1])}function b(){d=NaN,v.point=_,n.lineStart()}function _(A,P){var O=zx([A,P]),M=i(A,P);t(d,h,c,p,f,g,d=M[0],h=M[1],c=A,p=O[0],f=O[1],g=O[2],Mae,n),n.point(d,h)}function S(){v.point=m,n.lineEnd()}function C(){b(),v.point=k,v.lineEnd=E}function k(A,P){_(r=A,P),s=d,a=h,o=p,l=f,u=g,v.point=_}function E(){t(d,h,c,p,f,g,s,a,r,o,l,u,Mae,n),v.lineEnd=S,S()}return v}}var Grt=PB({point:function(i,e){this.stream.point(i*zs,e*zs)}});function Yrt(i){return PB({point:function(e,t){var n=i(e,t);return this.stream.point(n[0],n[1])}})}function Krt(i,e,t,n,r){function s(a,o){return a*=n,o*=r,[e+i*a,t-i*o]}return s.invert=function(a,o){return[(a-e)/i*n,(t-o)/i*r]},s}function Rae(i,e,t,n,r,s){var a=fn(s),o=Ji(s),l=a*i,u=o*i,c=a/i,d=o/i,h=(o*t-a*e)/i,p=(o*e+a*t)/i;function f(g,v){return g*=n,v*=r,[l*g-u*v+e,t-u*g-l*v]}return f.invert=function(g,v){return[n*(c*g-d*v+h),r*(p-d*g-c*v)]},f}function pm(i){return Vxe(function(){return i})()}function Vxe(i){var e,t=150,n=480,r=250,s=0,a=0,o=0,l=0,u=0,c,d=0,h=1,p=1,f=null,g=Aae,v=null,m,b,_,S=mT,C=.5,k,E,A,P,O;function M(B){return A(B[0]*zs,B[1]*zs)}function D(B){return B=A.invert(B[0],B[1]),B&&[B[0]*fl,B[1]*fl]}M.stream=function(B){return P&&O===B?P:P=Grt(Yrt(c)(g(k(S(O=B)))))},M.preclip=function(B){return arguments.length?(g=B,f=void 0,H()):g},M.postclip=function(B){return arguments.length?(S=B,v=m=b=_=null,H()):S},M.clipAngle=function(B){return arguments.length?(g=+B?Mrt(f=B*zs):(f=null,Aae),H()):f*fl},M.clipExtent=function(B){return arguments.length?(S=B==null?(v=m=b=_=null,mT):Mxe(v=+B[0][0],m=+B[0][1],b=+B[1][0],_=+B[1][1]),H()):v==null?null:[[v,m],[b,_]]},M.scale=function(B){return arguments.length?(t=+B,L()):t},M.translate=function(B){return arguments.length?(n=+B[0],r=+B[1],L()):[n,r]},M.center=function(B){return arguments.length?(s=B[0]%360*zs,a=B[1]%360*zs,L()):[s*fl,a*fl]},M.rotate=function(B){return arguments.length?(o=B[0]%360*zs,l=B[1]%360*zs,u=B.length>2?B[2]%360*zs:0,L()):[o*fl,l*fl,u*fl]},M.angle=function(B){return arguments.length?(d=B%360*zs,L()):d*fl},M.reflectX=function(B){return arguments.length?(h=B?-1:1,L()):h<0},M.reflectY=function(B){return arguments.length?(p=B?-1:1,L()):p<0},M.precision=function(B){return arguments.length?(k=Iae(E,C=B*B),H()):Xu(C)},M.fitExtent=function(B,F){return OB(M,B,F)},M.fitSize=function(B,F){return zK(M,B,F)},M.fitWidth=function(B,F){return HK(M,B,F)},M.fitHeight=function(B,F){return VK(M,B,F)};function L(){var B=Rae(t,0,0,h,p,d).apply(null,e(s,a)),F=(d?Rae:Krt)(t,n-B[0],r-B[1],h,p,d);return c=kxe(o,l,u),E=LV(e,F),A=LV(c,E),k=Iae(E,C),H()}function H(){return P=O=null,M}return function(){return e=i.apply(this,arguments),M.invert=e.invert&&D,L()}}function WK(i){var e=0,t=mn/3,n=Vxe(i),r=n(e,t);return r.parallels=function(s){return arguments.length?n(e=s[0]*zs,t=s[1]*zs):[e*fl,t*fl]},r}function Xrt(i){var e=fn(i);function t(n,r){return[n*e,Ji(r)/e]}return t.invert=function(n,r){return[n/e,Xd(r*e)]},t}function qrt(i,e){var t=Ji(i),n=(t+Ji(e))/2;if(Pr(n)<Qi)return Xrt(i);var r=1+t*(2*n-t),s=Xu(r)/n;function a(o,l){var u=Xu(r-2*n*Ji(l))/n;return[u*Ji(o*=n),s-u*fn(o)]}return a.invert=function(o,l){var u=s-l,c=Xg(o,Pr(u))*$d(u);return u*n<0&&(c-=mn*$d(o)*$d(u)),[c/n,Xd((r-(o*o+u*u)*n*n)/(2*n))]},a}function bD(){return WK(qrt).scale(155.424).center([0,33.6442])}function Wxe(){return bD().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Zrt(i){var e=i.length;return{point:function(t,n){for(var r=-1;++r<e;)i[r].point(t,n)},sphere:function(){for(var t=-1;++t<e;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<e;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<e;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<e;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<e;)i[t].polygonEnd()}}}function Qrt(){var i,e,t=Wxe(),n,r=bD().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,a=bD().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,u={point:function(h,p){l=[h,p]}};function c(h){var p=h[0],f=h[1];return l=null,n.point(p,f),l||(s.point(p,f),l)||(o.point(p,f),l)}c.invert=function(h){var p=t.scale(),f=t.translate(),g=(h[0]-f[0])/p,v=(h[1]-f[1])/p;return(v>=.12&&v<.234&&g>=-.425&&g<-.214?r:v>=.166&&v<.234&&g>=-.214&&g<-.115?a:t).invert(h)},c.stream=function(h){return i&&e===h?i:i=Zrt([t.stream(e=h),r.stream(h),a.stream(h)])},c.precision=function(h){return arguments.length?(t.precision(h),r.precision(h),a.precision(h),d()):t.precision()},c.scale=function(h){return arguments.length?(t.scale(h),r.scale(h*.35),a.scale(h),c.translate(t.translate())):t.scale()},c.translate=function(h){if(!arguments.length)return t.translate();var p=t.scale(),f=+h[0],g=+h[1];return n=t.translate(h).clipExtent([[f-.455*p,g-.238*p],[f+.455*p,g+.238*p]]).stream(u),s=r.translate([f-.307*p,g+.201*p]).clipExtent([[f-.425*p+Qi,g+.12*p+Qi],[f-.214*p-Qi,g+.234*p-Qi]]).stream(u),o=a.translate([f-.205*p,g+.212*p]).clipExtent([[f-.214*p+Qi,g+.166*p+Qi],[f-.115*p-Qi,g+.234*p-Qi]]).stream(u),d()},c.fitExtent=function(h,p){return OB(c,h,p)},c.fitSize=function(h,p){return zK(c,h,p)},c.fitWidth=function(h,p){return HK(c,h,p)},c.fitHeight=function(h,p){return VK(c,h,p)};function d(){return i=e=null,c}return c.scale(1070)}function Uxe(i){return function(e,t){var n=fn(e),r=fn(t),s=i(n*r);return[s*r*Ji(e),s*Ji(t)]}}function X2(i){return function(e,t){var n=Xu(e*e+t*t),r=i(n),s=Ji(r),a=fn(r);return[Xg(e*s,n*a),Xd(n&&t*s/n)]}}var Gxe=Uxe(function(i){return Xu(2/(1+i))});Gxe.invert=X2(function(i){return 2*Xd(i/2)});function Jrt(){return pm(Gxe).scale(124.75).clipAngle(180-.001)}var Yxe=Uxe(function(i){return(i=Cxe(i))&&i/Ji(i)});Yxe.invert=X2(function(i){return i});function est(){return pm(Yxe).scale(79.4188).clipAngle(180-.001)}function MB(i,e){return[i,hD($K((la+e)/2))]}MB.invert=function(i,e){return[i,2*jw(wxe(e))-la]};function tst(){return Kxe(MB).scale(961/Vc)}function Kxe(i){var e=pm(i),t=e.center,n=e.scale,r=e.translate,s=e.clipExtent,a=null,o,l,u;e.scale=function(d){return arguments.length?(n(d),c()):n()},e.translate=function(d){return arguments.length?(r(d),c()):r()},e.center=function(d){return arguments.length?(t(d),c()):t()},e.clipExtent=function(d){return arguments.length?(d==null?a=o=l=u=null:(a=+d[0][0],o=+d[0][1],l=+d[1][0],u=+d[1][1]),c()):a==null?null:[[a,o],[l,u]]};function c(){var d=mn*n(),h=e(Srt(e.rotate()).invert([0,0]));return s(a==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:i===MB?[[Math.max(h[0]-d,a),o],[Math.min(h[0]+d,l),u]]:[[a,Math.max(h[1]-d,o)],[l,Math.min(h[1]+d,u)]])}return c()}function lI(i){return $K((la+i)/2)}function ist(i,e){var t=fn(i),n=i===e?Ji(i):hD(t/fn(e))/hD(lI(e)/lI(i)),r=t*c7(lI(i),n)/n;if(!n)return MB;function s(a,o){r>0?o<-la+Qi&&(o=-la+Qi):o>la-Qi&&(o=la-Qi);var l=r/c7(lI(o),n);return[l*Ji(n*a),r-l*fn(n*a)]}return s.invert=function(a,o){var l=r-o,u=$d(n)*Xu(a*a+l*l),c=Xg(a,Pr(l))*$d(l);return l*n<0&&(c-=mn*$d(a)*$d(l)),[c/n,2*jw(c7(r/u,1/n))-la]},s}function nst(){return WK(ist).scale(109.5).parallels([30,30])}function SD(i,e){return[i,e]}SD.invert=SD;function rst(){return pm(SD).scale(152.63)}function sst(i,e){var t=fn(i),n=i===e?Ji(i):(t-fn(e))/(e-i),r=t/n+i;if(Pr(n)<Qi)return SD;function s(a,o){var l=r-o,u=n*a;return[l*Ji(u),r-l*fn(u)]}return s.invert=function(a,o){var l=r-o,u=Xg(a,Pr(l))*$d(l);return l*n<0&&(u-=mn*$d(a)*$d(l)),[u/n,r-$d(n)*Xu(a*a+l*l)]},s}function ast(){return WK(sst).scale(131.154).center([0,13.9389])}var IE=1.340264,RE=-.081106,DE=893e-6,LE=.003796,xD=Xu(3)/2,ost=12;function Xxe(i,e){var t=Xd(xD*Ji(e)),n=t*t,r=n*n*n;return[i*fn(t)/(xD*(IE+3*RE*n+r*(7*DE+9*LE*n))),t*(IE+RE*n+r*(DE+LE*n))]}Xxe.invert=function(i,e){for(var t=e,n=t*t,r=n*n*n,s=0,a,o,l;s<ost&&(o=t*(IE+RE*n+r*(DE+LE*n))-e,l=IE+3*RE*n+r*(7*DE+9*LE*n),t-=a=o/l,n=t*t,r=n*n*n,!(Pr(a)<brt));++s);return[xD*i*(IE+3*RE*n+r*(7*DE+9*LE*n))/fn(t),Xd(Ji(t)/xD)]};function lst(){return pm(Xxe).scale(177.158)}function qxe(i,e){var t=fn(e),n=fn(i)*t;return[t*Ji(i)/n,Ji(e)/n]}qxe.invert=X2(jw);function ust(){return pm(qxe).scale(144.049).clipAngle(60)}function cst(){var i=1,e=0,t=0,n=1,r=1,s=0,a,o,l=null,u,c,d,h=1,p=1,f=PB({point:function(S,C){var k=_([S,C]);this.stream.point(k[0],k[1])}}),g=mT,v,m;function b(){return h=i*n,p=i*r,v=m=null,_}function _(S){var C=S[0]*h,k=S[1]*p;if(s){var E=k*a-C*o;C=C*a+k*o,k=E}return[C+e,k+t]}return _.invert=function(S){var C=S[0]-e,k=S[1]-t;if(s){var E=k*a+C*o;C=C*a-k*o,k=E}return[C/h,k/p]},_.stream=function(S){return v&&m===S?v:v=f(g(m=S))},_.postclip=function(S){return arguments.length?(g=S,l=u=c=d=null,b()):g},_.clipExtent=function(S){return arguments.length?(g=S==null?(l=u=c=d=null,mT):Mxe(l=+S[0][0],u=+S[0][1],c=+S[1][0],d=+S[1][1]),b()):l==null?null:[[l,u],[c,d]]},_.scale=function(S){return arguments.length?(i=+S,b()):i},_.translate=function(S){return arguments.length?(e=+S[0],t=+S[1],b()):[e,t]},_.angle=function(S){return arguments.length?(s=S%360*zs,o=Ji(s),a=fn(s),b()):s*fl},_.reflectX=function(S){return arguments.length?(n=S?-1:1,b()):n<0},_.reflectY=function(S){return arguments.length?(r=S?-1:1,b()):r<0},_.fitExtent=function(S,C){return OB(_,S,C)},_.fitSize=function(S,C){return zK(_,S,C)},_.fitWidth=function(S,C){return HK(_,S,C)},_.fitHeight=function(S,C){return VK(_,S,C)},_}function Zxe(i,e){var t=e*e,n=t*t;return[i*(.8707-.131979*t+n*(-.013791+n*(.003971*t-.001529*n))),e*(1.007226+t*(.015085+n*(-.044475+.028874*t-.005916*n)))]}Zxe.invert=function(i,e){var t=e,n=25,r;do{var s=t*t,a=s*s;t-=r=(t*(1.007226+s*(.015085+a*(-.044475+.028874*s-.005916*a)))-e)/(1.007226+s*(.015085*3+a*(-.044475*7+.028874*9*s-.005916*11*a)))}while(Pr(r)>Qi&&--n>0);return[i/(.8707+(s=t*t)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),t]};function dst(){return pm(Zxe).scale(175.295)}function Qxe(i,e){return[fn(e)*Ji(i),Ji(e)]}Qxe.invert=X2(Xd);function hst(){return pm(Qxe).scale(249.5).clipAngle(90+Qi)}function Jxe(i,e){var t=fn(e),n=1+fn(i)*t;return[t*Ji(i)/n,Ji(e)/n]}Jxe.invert=X2(function(i){return 2*jw(i)});function pst(){return pm(Jxe).scale(250).clipAngle(142)}function ewe(i,e){return[hD($K((la+e)/2)),-i]}ewe.invert=function(i,e){return[-e,2*jw(wxe(i))-la]};function fst(){var i=Kxe(ewe),e=i.center,t=i.rotate;return i.center=function(n){return arguments.length?e([-n[1],n[0]]):(n=e(),[n[1],-n[0]])},i.rotate=function(n){return arguments.length?t([n[0],n[1],n.length>2?n[2]+90:90]):(n=t(),[n[0],n[1],n[2]-90])},t([0,0,90]).scale(159.155)}function gst(i){return i}function mst(i){if(i==null)return gst;var e,t,n=i.scale[0],r=i.scale[1],s=i.translate[0],a=i.translate[1];return function(o,l){l||(e=t=0);var u=2,c=o.length,d=new Array(c);for(d[0]=(e+=o[0])*n+s,d[1]=(t+=o[1])*r+a;u<c;)d[u]=o[u],++u;return d}}function vst(i,e){for(var t,n=i.length,r=n-e;r<--n;)t=i[r],i[r++]=i[n],i[n]=t}function yst(i,e){return typeof e=="string"&&(e=i.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(t){return Dae(i,t)})}:Dae(i,e)}function Dae(i,e){var t=e.id,n=e.bbox,r=e.properties==null?{}:e.properties,s=_st(i,e);return t==null&&n==null?{type:"Feature",properties:r,geometry:s}:n==null?{type:"Feature",id:t,properties:r,geometry:s}:{type:"Feature",id:t,bbox:n,properties:r,geometry:s}}function _st(i,e){var t=mst(i.transform),n=i.arcs;function r(c,d){d.length&&d.pop();for(var h=n[c<0?~c:c],p=0,f=h.length;p<f;++p)d.push(t(h[p],p));c<0&&vst(d,f)}function s(c){return t(c)}function a(c){for(var d=[],h=0,p=c.length;h<p;++h)r(c[h],d);return d.length<2&&d.push(d[0]),d}function o(c){for(var d=a(c);d.length<4;)d.push(d[0]);return d}function l(c){return c.map(o)}function u(c){var d=c.type,h;switch(d){case"GeometryCollection":return{type:d,geometries:c.geometries.map(u)};case"Point":h=s(c.coordinates);break;case"MultiPoint":h=c.coordinates.map(s);break;case"LineString":h=a(c.arcs);break;case"MultiLineString":h=c.arcs.map(a);break;case"Polygon":h=l(c.arcs);break;case"MultiPolygon":h=c.arcs.map(l);break;default:return null}return{type:d,coordinates:h}}return u(e)}var twe={exports:{}},hp=function(i,e){this.p1=i,this.p2=e};hp.prototype.rise=function(){return this.p2[1]-this.p1[1]};hp.prototype.run=function(){return this.p2[0]-this.p1[0]};hp.prototype.slope=function(){return this.rise()/this.run()};hp.prototype.yIntercept=function(){return this.p1[1]-this.p1[0]*this.slope(this.p1,this.p2)};hp.prototype.isVertical=function(){return!isFinite(this.slope())};hp.prototype.isHorizontal=function(){return this.p1[1]==this.p2[1]};hp.prototype._perpendicularDistanceHorizontal=function(i){return Math.abs(this.p1[1]-i[1])};hp.prototype._perpendicularDistanceVertical=function(i){return Math.abs(this.p1[0]-i[0])};hp.prototype._perpendicularDistanceHasSlope=function(i){var e=this.slope(),t=this.yIntercept();return Math.abs(e*i[0]-i[1]+t)/Math.sqrt(Math.pow(e,2)+1)};hp.prototype.perpendicularDistance=function(i){return this.isVertical()?this._perpendicularDistanceVertical(i):this.isHorizontal()?this._perpendicularDistanceHorizontal(i):this._perpendicularDistanceHasSlope(i)};var bst=hp,Sst=bst,GV=function(i,e){for(var t=0,n=0,r=1;r<=i.length-2;r++){var s=new Sst(i[0],i[i.length-1]).perpendicularDistance(i[r]);s>t&&(n=r,t=s)}if(t>e)var a=GV(i.slice(0,n),e),o=GV(i.slice(n,i.length),e),l=a.concat(o);else i.length>1?l=[i[0],i[i.length-1]]:l=[i[0]];return l},xst=GV;(function(i){var e=xst;i.exports=function(r,s,a){return a||(r=JSON.parse(JSON.stringify(r))),r.features?n(r,s):r.type&&r.type==="Feature"?t(r,s):new Error("FeatureCollection or individual Feature required")},i.exports.simplify=function(r,s){return e(r,s)};function t(r,s){var a=r.geometry,o=a.type;if(o==="LineString")a.coordinates=i.exports.simplify(a.coordinates,s);else if(o==="Polygon"||o==="MultiLineString")for(var l=0;l<a.coordinates.length;l++)a.coordinates[l]=i.exports.simplify(a.coordinates[l],s);else if(o==="MultiPolygon")for(var u=0;u<a.coordinates.length;u++)for(var c=0;c<a.coordinates[u].length;c++)a.coordinates[u][c]=i.exports.simplify(a.coordinates[u][c],s);return r}function n(r,s){for(var a=0;a<r.features.length;a++)r.features[a]=t(r.features[a],s);return r}})(twe);var wst=twe.exports;const Cst=Li(wst),IB=function(i,...e){return Est(su(i),...e)};function iwe(i,e,t){const n=e[t];if(n===void 0)i[t]=null;else if(yi(n)){yi(i[t])||(i[t]={});for(const r in n)iwe(i[t],n,r)}else i[t]=n}function kst(i,e){if(yi(e)&&i!==e)for(const t in e)iwe(i,e,t)}function Est(i,...e){i||(i={});let t=-1;const n=e.length;for(;++t<n;)kst(i,e[t]);return i}const Ast={tolerance:.01},Tst=(i,e)=>{const t=IB(Ast,e),{tolerance:n}=t;return Cst(i,n)};var $_;(function(i){i.DSV="dsv",i.TREE="tree",i.GEO="geo",i.BYTE="bytejson",i.HEX="hex",i.GRAPH="graph",i.TABLE="table",i.GEO_GRATICULE="geo-graticule"})($_||($_={}));const Pst=(i,e)=>{const{fields:t,key:n,value:r,retains:s}=e,a=[];for(let o=0;o<i.length;o++)t.forEach(l=>{const u={};if(u[n]=l,u[r]=i[o][l],s)s.forEach(c=>{u[c]=i[o][c]});else for(const c in i[o])t.indexOf(c)===-1&&(u[c]=i[o][c]);a.push(u)});return a},nwe=(i,e)=>{var t,n;if(!(e!=null&&e.fields)||i.length===0)return i;const r=e.fields,s=i[0],a={},o=[];for(const l in r)if(Object.prototype.hasOwnProperty.call(r,l)){const u=r[l];if(!u.type){let d=s;l in s||(d=(t=i.find(h=>l in h))!==null&&t!==void 0?t:s),u.type=typeof d[l]=="number"?"linear":"ordinal"}let c;if(typeof u.sortIndex=="number"&&(c={key:l,type:u.type,index:u.sortIndex,sortIndex:{},sortIndexCount:0,sortReverse:u.sortReverse===!0},o.push(c)),((n=u.domain)===null||n===void 0?void 0:n.length)>0)if(u.type==="ordinal"){u._domainCache={},a[l]=u;const d={};u.domain.forEach((h,p)=>{d[h]=p,u._domainCache[h]=p}),c&&(c.sortIndex=d,c.sortIndexCount=u.domain.length)}else u.domain.length>=2&&(a[l]=u)}return Object.keys(a).length>0&&(i=i.filter(l=>{for(const u in a){const c=a[u];if(c.type==="ordinal"){if(!(l[u]in c._domainCache))return!1}else if(c.domain[0]>l[u]||c.domain[1]<l[u])return!1}return!0})),o.sort((l,u)=>l.index-u.index),i.sort((l,u)=>Ost(l,u,o)),i};function Ost(i,e,t){for(let n=0;n<t.length;n++){const r=t[n];let s=0;if(r.type==="ordinal"?(r.sortIndex[e[r.key]]===void 0&&(r.sortIndex[e[r.key]]=r.sortIndexCount++),r.sortIndex[i[r.key]]===void 0&&(r.sortIndex[i[r.key]]=r.sortIndexCount++),s=r.sortIndex[i[r.key]]-r.sortIndex[e[r.key]]):r.type==="linear"&&(s=i[r.key]-e[r.key]),r.sortReverse&&(s=-s),s!==0)return s}return 0}var Lae={},m7={},v7=34,dk=10,y7=13;function rwe(i){return new Function("d","return {"+i.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function Mst(i,e){var t=rwe(i);return function(n,r){return e(t(n),r,i)}}function Fae(i){var e=Object.create(null),t=[];return i.forEach(function(n){for(var r in n)r in e||t.push(e[r]=r)}),t}function Mu(i,e){var t=i+"",n=t.length;return n<e?new Array(e-n+1).join(0)+t:t}function Ist(i){return i<0?"-"+Mu(-i,6):i>9999?"+"+Mu(i,6):Mu(i,4)}function Rst(i){var e=i.getUTCHours(),t=i.getUTCMinutes(),n=i.getUTCSeconds(),r=i.getUTCMilliseconds();return isNaN(i)?"Invalid Date":Ist(i.getUTCFullYear())+"-"+Mu(i.getUTCMonth()+1,2)+"-"+Mu(i.getUTCDate(),2)+(r?"T"+Mu(e,2)+":"+Mu(t,2)+":"+Mu(n,2)+"."+Mu(r,3)+"Z":n?"T"+Mu(e,2)+":"+Mu(t,2)+":"+Mu(n,2)+"Z":t||e?"T"+Mu(e,2)+":"+Mu(t,2)+"Z":"")}function UK(i){var e=new RegExp('["'+i+`
\r]`),t=i.charCodeAt(0);function n(d,h){var p,f,g=r(d,function(v,m){if(p)return p(v,m-1);f=v,p=h?Mst(v,h):rwe(v)});return g.columns=f||[],g}function r(d,h){var p=[],f=d.length,g=0,v=0,m,b=f<=0,_=!1;d.charCodeAt(f-1)===dk&&--f,d.charCodeAt(f-1)===y7&&--f;function S(){if(b)return m7;if(_)return _=!1,Lae;var k,E=g,A;if(d.charCodeAt(E)===v7){for(;g++<f&&d.charCodeAt(g)!==v7||d.charCodeAt(++g)===v7;);return(k=g)>=f?b=!0:(A=d.charCodeAt(g++))===dk?_=!0:A===y7&&(_=!0,d.charCodeAt(g)===dk&&++g),d.slice(E+1,k-1).replace(/""/g,'"')}for(;g<f;){if((A=d.charCodeAt(k=g++))===dk)_=!0;else if(A===y7)_=!0,d.charCodeAt(g)===dk&&++g;else if(A!==t)continue;return d.slice(E,k)}return b=!0,d.slice(E,f)}for(;(m=S())!==m7;){for(var C=[];m!==Lae&&m!==m7;)C.push(m),m=S();h&&(C=h(C,v++))==null||p.push(C)}return p}function s(d,h){return d.map(function(p){return h.map(function(f){return c(p[f])}).join(i)})}function a(d,h){return h==null&&(h=Fae(d)),[h.map(c).join(i)].concat(s(d,h)).join(`
`)}function o(d,h){return h==null&&(h=Fae(d)),s(d,h).join(`
`)}function l(d){return d.map(u).join(`
`)}function u(d){return d.map(c).join(i)}function c(d){return d==null?"":d instanceof Date?Rst(d):e.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:n,parseRows:r,format:a,formatBody:o,formatRows:l,formatRow:u,formatValue:c}}var Dst=UK(","),Lst=Dst.parse,Fst=UK("	"),Bst=Fst.parse;const $st={delimiter:","},swe=(i,e={},t)=>{t.type=$_.DSV;const n=IB($st,e),{delimiter:r}=n;if(!ct(r))throw new TypeError("Invalid delimiter: must be a string!");return UK(r).parse(i)},awe=(i,e={},t)=>(t.type=$_.DSV,Lst(i)),owe=(i,e={},t)=>(t.type=$_.DSV,Bst(i));function Nst(i){if(!i)throw new Error("geojson is required");switch(i.type){case"Feature":return lwe(i);case"FeatureCollection":return jst(i);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return GK(i);default:throw new Error("unknown GeoJSON type")}}function lwe(i){var e={type:"Feature"};return Object.keys(i).forEach(function(t){switch(t){case"type":case"properties":case"geometry":return;default:e[t]=i[t]}}),e.properties=uwe(i.properties),e.geometry=GK(i.geometry),e}function uwe(i){var e={};return i&&Object.keys(i).forEach(function(t){var n=i[t];typeof n=="object"?n===null?e[t]=null:Array.isArray(n)?e[t]=n.map(function(r){return r}):e[t]=uwe(n):e[t]=n}),e}function jst(i){var e={type:"FeatureCollection"};return Object.keys(i).forEach(function(t){switch(t){case"type":case"features":return;default:e[t]=i[t]}}),e.features=i.features.map(function(t){return lwe(t)}),e}function GK(i){var e={type:i.type};return i.bbox&&(e.bbox=i.bbox),i.type==="GeometryCollection"?(e.geometries=i.geometries.map(function(t){return GK(t)}),e):(e.coordinates=cwe(i.coordinates),e)}function cwe(i){var e=i;return typeof e[0]!="object"?e.slice():e.map(function(t){return cwe(t)})}function tE(i){if(Array.isArray(i))return i;if(i.type==="Feature"){if(i.geometry!==null)return i.geometry.coordinates}else if(i.coordinates)return i.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function YV(i){for(var e=tE(i),t=0,n=1,r,s;n<e.length;)r=s||e[0],s=e[n],t+=(s[0]-r[0])*(s[1]+r[1]),n++;return t>0}function Bae(i,e){if(i.type==="Feature")e(i,0);else if(i.type==="FeatureCollection")for(var t=0;t<i.features.length&&e(i.features[t],t)!==!1;t++);}function YK(i,e){var t,n,r,s,a,o,l,u,c,d,h=0,p=i.type==="FeatureCollection",f=i.type==="Feature",g=p?i.features.length:1;for(t=0;t<g;t++){for(o=p?i.features[t].geometry:f?i.geometry:i,u=p?i.features[t].properties:f?i.properties:{},c=p?i.features[t].bbox:f?i.bbox:void 0,d=p?i.features[t].id:f?i.id:void 0,l=o?o.type==="GeometryCollection":!1,a=l?o.geometries.length:1,r=0;r<a;r++){if(s=l?o.geometries[r]:o,s===null){if(e(null,h,u,c,d)===!1)return!1;continue}switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(s,h,u,c,d)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<s.geometries.length;n++)if(e(s.geometries[n],h,u,c,d)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}h++}}function zst(i,e){YK(i,function(t,n,r,s,a){var o=t===null?null:t.type;switch(o){case null:case"Point":case"LineString":case"Polygon":return e(hae(t,r,{bbox:s,id:a}),n,0)===!1?!1:void 0}var l;switch(o){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon";break}for(var u=0;u<t.coordinates.length;u++){var c=t.coordinates[u],d={type:l,coordinates:c};if(e(hae(d,r),n,u)===!1)return!1}})}function Hst(i,e){if(e=e||{},!lrt(e))throw new Error("options is invalid");var t=e.reverse||!1,n=e.mutate||!1;if(!i)throw new Error("<geojson> is required");if(typeof t!="boolean")throw new Error("<reverse> must be a boolean");if(typeof n!="boolean")throw new Error("<mutate> must be a boolean");n===!1&&(i=Nst(i));var r=[];switch(i.type){case"GeometryCollection":return YK(i,function(s){N3(s,t)}),i;case"FeatureCollection":return Bae(i,function(s){Bae(N3(s,t),function(a){r.push(a)})}),bxe(r)}return N3(i,t)}function N3(i,e){var t=i.type==="Feature"?i.geometry.type:i.type;switch(t){case"GeometryCollection":return YK(i,function(n){N3(n,e)}),i;case"LineString":return $ae(tE(i),e),i;case"Polygon":return Nae(tE(i),e),i;case"MultiLineString":return tE(i).forEach(function(n){$ae(n,e)}),i;case"MultiPolygon":return tE(i).forEach(function(n){Nae(n,e)}),i;case"Point":case"MultiPoint":return i}}function $ae(i,e){YV(i)===e&&i.reverse()}function Nae(i,e){YV(i[0])!==e&&i[0].reverse();for(var t=1;t<i.length;t++)YV(i[t])===e&&i[t].reverse()}function Vst(i){if(!i)throw new Error("geojson is required");var e=[];return zst(i,function(t){e.push(t)}),bxe(e)}const jae=NK(),dwe={centroid:!1,name:!1,bbox:!1,rewind:!1},zae=i=>{if(i.geometry.type.startsWith("Multi")){const e=Vst(i).features[0];return Object.assign(Object.assign({},e),e.properties)}return Object.assign(Object.assign({},i),i.properties)},Wst=i=>{const e=[];return i.forEach(t=>{t.type==="FeatureCollection"?t.features.forEach(n=>{e.push(zae(n))}):e.push(zae(t))}),e},hwe=(i,e={},t)=>{t.type=$_.GEO;const n=IB(dwe,e),{centroid:r,name:s,bbox:a,rewind:o}=n;if(Array.isArray(i))return Wst(i);let l=i.features;return o&&(l=Hst(i,{reverse:!yi(o)||o.reverse}).features),l.forEach(u=>{if(r){const c=jae.centroid(u);u.centroidX=c[0],u.centroidY=c[1]}if(s&&(u.name=u.properties.name),a){const c=jae.bounds(u);u.bbox=c}}),i.features=l,i},Ust={},Gst=(i,e,t)=>{t.type=$_.GEO;const n=IB(dwe,Ust,e),{object:r}=n;if(!ct(r))throw new TypeError("Invalid object: must be a string!");const s=yst(i,i.objects[r]);return hwe(s,n,t)},RB=(i,e,t)=>{const n=!Ir(e==null?void 0:e.dependencyUpdate)||(e==null?void 0:e.dependencyUpdate);if(!i||!ke(i))throw new TypeError("Invalid data: must be DataView array!");return ke(t.rawData)&&t.rawData.forEach(r=>{r.target&&(r.target.removeListener("change",t.reRunAllTransform),r.target.removeListener("markRunning",t.markRunning))}),n&&i.forEach(r=>{r.target.addListener("change",t.reRunAllTransform),r.target.addListener("markRunning",t.markRunning)}),i};let _7=0;const Yst=1e8;function pwe(i="dataset"){return _7>Yst&&(_7=0),i+"_"+_7++}class f0{constructor(e){var t;let n;this.options=e,this.isDataSet=!0,this.transformMap={},this.parserMap={},this.dataViewMap={},this.target=new gb,n=e!=null&&e.name?e.name:pwe("dataset"),this.name=n,this._logger=(t=e==null?void 0:e.logger)!==null&&t!==void 0?t:Kn.getInstance()}setLogger(e){this._logger=e}getDataView(e){return this.dataViewMap[e]}setDataView(e,t){var n;this.dataViewMap[e]&&((n=this._logger)===null||n===void 0||n.error(`Error: dataView ${e} `)),this.dataViewMap[e]=t}removeDataView(e){this.dataViewMap[e]=null,delete this.dataViewMap[e]}registerParser(e,t){var n;this.parserMap[e]&&((n=this._logger)===null||n===void 0||n.warn(`Warn: transform ${e} `)),this.parserMap[e]=t}removeParser(e){this.parserMap[e]=null,delete this.parserMap[e]}getParser(e){return this.parserMap[e]||this.parserMap.default}registerTransform(e,t){var n;this.transformMap[e]&&((n=this._logger)===null||n===void 0||n.warn(`Warn: transform ${e} `)),this.transformMap[e]=t}removeTransform(e){this.transformMap[e]=null,delete this.transformMap[e]}getTransform(e){return this.transformMap[e]}multipleDataViewAddListener(e,t,n){this._callMap||(this._callMap=new Map);let r=this._callMap.get(n);r||(r=()=>{e.some(s=>s.isRunning)||n()}),e.forEach(s=>{s.target.addListener(t,r)}),this._callMap.set(n,r)}allDataViewAddListener(e,t){this.multipleDataViewAddListener(Object.values(this.dataViewMap),e,t)}multipleDataViewRemoveListener(e,t,n){if(this._callMap){const r=this._callMap.get(n);r&&e.forEach(s=>{s.target.removeListener(t,r)}),this._callMap.delete(n)}}multipleDataViewUpdateInParse(e){e.forEach(t=>{var n;return(n=this.getDataView(t.name))===null||n===void 0?void 0:n.markRunning()}),e.forEach(t=>{var n;return(n=this.getDataView(t.name))===null||n===void 0?void 0:n.parseNewData(t.data,t.options)})}multipleDataViewUpdateInRawData(e){e.forEach(t=>{var n;return(n=this.getDataView(t.name))===null||n===void 0?void 0:n.markRunning()}),e.forEach(t=>{var n;return(n=this.getDataView(t.name))===null||n===void 0?void 0:n.updateRawData(t.data,t.options)})}destroy(){this.transformMap=null,this.parserMap=null,this.dataViewMap=null,this._callMap=null,this.target.removeAllListeners()}}const b7="_data-view-diff-rank";let vn=class fwe{constructor(e,t){let n;this.dataSet=e,this.options=t,this.isDataView=!0,this.target=new gb,this.parseOption=null,this.transformsArr=[],this.isRunning=!1,this.rawData={},this.history=!1,this.parserData={},this.latestData={},this._fields=null,this.reRunAllTransform=(r={pushHistory:!0,emitMessage:!0})=>(this.isRunning=!0,this.resetTransformData(),this.transformsArr.forEach(s=>{this.executeTransform(s,{pushHistory:r.pushHistory,emitMessage:!1}),this.isLastTransform(s)&&this.diffLastData()}),this.isRunning=!1,r.emitMessage!==!1&&this.target.emit("change",[]),this),this.markRunning=()=>{this.isRunning=!0,this.target.emit("markRunning",[])},n=t!=null&&t.name?t.name:pwe("dataview"),this.name=n,t!=null&&t.history&&(this.history=t.history,this.historyData=[]),this.dataSet.setDataView(n,this),this.setFields(t==null?void 0:t.fields)}parse(e,t,n=!1){var r;this.isRunning=!0,n&&this.target.emit("beforeParse",[]),t&&(this.parseOption=t);const s=this.cloneParseData(e,t);if(t!=null&&t.type){const a=((r=this.dataSet.getParser(t.type))!==null&&r!==void 0?r:this.dataSet.getParser("bytejson"))(s,t.options,this);this.rawData=s,this.parserData=a,this.history&&this.historyData.push(s,a),this.latestData=a}else this.parserData=s,this.rawData=s,this.history&&this.historyData.push(s),this.latestData=s;return this.isRunning=!1,n&&this.target.emit("afterParse",[]),this}transform(e,t=!0){if(this.isRunning=!0,e&&e.type){let n=!0;if(e.type==="fields"){this._fields=e.options.fields;const r=this.transformsArr.findIndex(s=>s.type===e.type);r>=0&&(n=!1,this.transformsArr[r].options.fields=this._fields)}if(n&&this.transformsArr.push(e),t){const r=this.isLastTransform(e);this.executeTransform(e),r&&this.diffLastData()}}return this.sortTransform(),this.isRunning=!1,this}isLastTransform(e){return this.transformsArr[this.transformsArr.length-1]===e}sortTransform(){this.transformsArr.length>=2&&this.transformsArr.sort((e,t)=>{var n,r;return((n=e.level)!==null&&n!==void 0?n:0)-((r=t.level)!==null&&r!==void 0?r:0)})}executeTransform(e,t={pushHistory:!0,emitMessage:!0}){const{pushHistory:n,emitMessage:r}=t,s=this.dataSet.getTransform(e.type)(this.latestData,e.options);this.history&&n!==!1&&this.historyData.push(s),this.latestData=s,r!==!1&&this.target.emit("change",[])}resetTransformData(){this.latestData=this.parserData,this.history&&(this.historyData.length=0,this.historyData.push(this.rawData,this.parserData))}enableDiff(e){this._diffData=!0,this._diffKeys=e,this._diffMap=new Map,this._diffRank=0}disableDiff(){this._diffData=!1,this._diffMap=null,this._diffRank=null}resetDiff(){this._diffMap=new Map,this._diffRank=0}diffLastData(){var e;if(!this._diffData||!this.latestData.forEach||!(!((e=this._diffKeys)===null||e===void 0)&&e.length))return;const t=this._diffRank+1;if(this._diffRank===0)this.latestData.forEach(n=>{n[b7]=t,this._diffMap.set(this._diffKeys.reduce((r,s)=>r+n[s],""),n)}),this.latestDataAUD={add:Array.from(this.latestData),del:[],update:[]};else{let n;this.latestDataAUD={add:[],del:[],update:[]},this.latestData.forEach(r=>{r[b7]=t,n=this._diffKeys.reduce((s,a)=>s+r[a],""),this._diffMap.get(n)?this.latestDataAUD.update.push(r):this.latestDataAUD.add.push(r),this._diffMap.set(n,r)}),this._diffMap.forEach((r,s)=>{r[b7]<t&&(this.latestDataAUD.del.push(r),this._diffMap.delete(s))})}this._diffRank=t}cloneParseData(e,t){let n=!1;return e instanceof fwe||(t==null?void 0:t.clone)!==!0||(n=!0),n?su(e):e}parseNewData(e,t){this.parse(e,t||this.parseOption),this.reRunAllTransform()}updateRawData(e,t){const n=this.cloneParseData(e,t);this.rawData=n,this.parserData=n,this.latestData=n,this.reRunAllTransform()}getFields(){var e;return this._fields?this._fields:((e=this.parseOption)===null||e===void 0?void 0:e.type)==="dataview"&&this.rawData.length===1&&this.rawData[0].getFields?this.rawData[0].getFields():null}setFields(e,t=!1){this._fields=e&&t?Ie({},this._fields,e):e;const n=this.transformsArr.find(r=>r.type==="fields");!Y(this._fields)&&Y(n)?(this.dataSet.registerTransform("fields",nwe),this.transform({type:"fields",options:{fields:this._fields}},!1)):n&&(n.options.fields=this._fields)}destroy(){this.dataSet.removeDataView(this.name),this._diffMap=null,this._diffRank=null,this.latestData=null,this.rawData=null,this.parserData=null,this.transformsArr=null,this.target=null}};class Xs{static GenAutoIncrementId(){return Xs.auto_increment_id++}}Xs.auto_increment_id=0;class mi{constructor(e){this.id=Xs.GenAutoIncrementId(),this.registry=e}}const DB="named",gwe="inject",mwe="multi_inject",vwe="inversify:tagged",ywe="inversify:paramtypes";class KK{constructor(e,t){this.key=e,this.value=t}toString(){return this.key===DB?`named: ${String(this.value).toString()} `:`tagged: { key:${this.key.toString()}, value: ${String(this.value)} }`}}var Hae={};const ix=function(i){var e;return function(t){const n=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",s=r&&Symbol.toPrimitive!==void 0?Symbol.toPrimitive:"@@toPrimitive",a=r&&Symbol.iterator!==void 0?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",l={__proto__:[]}instanceof Array,u=!o&&!l,c={create:o?function(){return re(Object.create(null))}:l?function(){return re({__proto__:null})}:function(){return re({})},has:u?function(J,ne){return n.call(J,ne)}:function(J,ne){return ne in J},get:u?function(J,ne){return n.call(J,ne)?J[ne]:void 0}:function(J,ne){return J[ne]}},d=Object.getPrototypeOf(Function),h=typeof process=="object"&&Hae&&Hae.REFLECT_METADATA_USE_MAP_POLYFILL==="true",p=h||typeof Map!="function"||typeof Map.prototype.entries!="function"?K():Map,f=((h||typeof Set!="function"||typeof Set.prototype.entries!="function")&&ie(),new(h||typeof WeakMap!="function"?ae():WeakMap));function g(J,ne,te,Q){if(!L(te))throw new TypeError;return A(J,ne,te,Q)}function v(J,ne,te){if(!L(ne))throw new TypeError;return O(te)||(te=N(te)),S(J,ne,te)}function m(J,ne,te){if(!L(ne))throw new TypeError;return O(te)||(te=N(te)),C(J,ne,te)}function b(J,ne,te){if(!L(ne))throw new TypeError;return O(te)||(te=N(te)),k(J,ne,te)}function _(J,ne,te){let Q=f.get(J);if(O(Q)){if(!te)return;Q=new p,f.set(J,Q)}let se=Q.get(ne);if(O(se)){if(!te)return;se=new p,Q.set(ne,se)}return se}function S(J,ne,te){if(C(J,ne,te))return!0;const Q=j(ne);return!M(Q)&&S(J,Q,te)}function C(J,ne,te){const Q=_(ne,te,!1);return!O(Q)&&F(Q.has(J))}function k(J,ne,te){if(C(J,ne,te))return E(J,ne,te);const Q=j(ne);return M(Q)?void 0:k(J,Q,te)}function E(J,ne,te){const Q=_(ne,te,!1);if(!O(Q))return Q.get(J)}function A(J,ne,te,Q){_(te,Q,!0).set(J,ne)}function P(J){if(J===null)return 1;switch(typeof J){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return J===null?1:6;default:return 6}}function O(J){return J===void 0}function M(J){return J===null}function D(J){return typeof J=="symbol"}function L(J){return typeof J=="object"?J!==null:typeof J=="function"}function H(J,ne){switch(P(J)){case 0:case 1:case 2:case 3:case 4:case 5:return J}const te="string",Q=G(J,s);if(Q!==void 0){const se=Q.call(J,te);if(L(se))throw new TypeError;return se}return B(J)}function B(J,ne){{const te=J.toString;if(U(te)){const se=te.call(J);if(!L(se))return se}const Q=J.valueOf;if(U(Q)){const se=Q.call(J);if(!L(se))return se}}throw new TypeError}function F(J){return!!J}function z(J){return""+J}function N(J){const ne=H(J);return D(ne)?ne:z(ne)}function U(J){return typeof J=="function"}function G(J,ne){const te=J[ne];if(te!=null){if(!U(te))throw new TypeError;return te}}function j(J){const ne=Object.getPrototypeOf(J);if(typeof J!="function"||J===d||ne!==d)return ne;const te=J.prototype,Q=te&&Object.getPrototypeOf(te);if(Q==null||Q===Object.prototype)return ne;const se=Q.constructor;return typeof se!="function"||se===J?ne:se}function K(){const J={},ne=[],te=function(){function le(ve,pe,Fe){this._index=0,this._keys=ve,this._values=pe,this._selector=Fe}return le.prototype["@@iterator"]=function(){return this},le.prototype[a]=function(){return this},le.prototype.next=function(){const ve=this._index;if(ve>=0&&ve<this._keys.length){const pe=this._selector(this._keys[ve],this._values[ve]);return ve+1>=this._keys.length?(this._index=-1,this._keys=ne,this._values=ne):this._index++,{value:pe,done:!1}}return{value:void 0,done:!0}},le.prototype.throw=function(ve){throw this._index>=0&&(this._index=-1,this._keys=ne,this._values=ne),ve},le.prototype.return=function(ve){return this._index>=0&&(this._index=-1,this._keys=ne,this._values=ne),{value:ve,done:!0}},le}();return function(){function le(){this._keys=[],this._values=[],this._cacheKey=J,this._cacheIndex=-2}return Object.defineProperty(le.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),le.prototype.has=function(ve){return this._find(ve,!1)>=0},le.prototype.get=function(ve){const pe=this._find(ve,!1);return pe>=0?this._values[pe]:void 0},le.prototype.set=function(ve,pe){const Fe=this._find(ve,!0);return this._values[Fe]=pe,this},le.prototype.delete=function(ve){const pe=this._find(ve,!1);if(pe>=0){const Fe=this._keys.length;for(let Ee=pe+1;Ee<Fe;Ee++)this._keys[Ee-1]=this._keys[Ee],this._values[Ee-1]=this._values[Ee];return this._keys.length--,this._values.length--,ve===this._cacheKey&&(this._cacheKey=J,this._cacheIndex=-2),!0}return!1},le.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=J,this._cacheIndex=-2},le.prototype.keys=function(){return new te(this._keys,this._values,Q)},le.prototype.values=function(){return new te(this._keys,this._values,se)},le.prototype.entries=function(){return new te(this._keys,this._values,_e)},le.prototype["@@iterator"]=function(){return this.entries()},le.prototype[a]=function(){return this.entries()},le.prototype._find=function(ve,pe){return this._cacheKey!==ve&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=ve)),this._cacheIndex<0&&pe&&(this._cacheIndex=this._keys.length,this._keys.push(ve),this._values.push(void 0)),this._cacheIndex},le}();function Q(le,ve){return le}function se(le,ve){return ve}function _e(le,ve){return[le,ve]}}function ie(){return function(){function J(){this._map=new p}return Object.defineProperty(J.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),J.prototype.has=function(ne){return this._map.has(ne)},J.prototype.add=function(ne){return this._map.set(ne,ne),this},J.prototype.delete=function(ne){return this._map.delete(ne)},J.prototype.clear=function(){this._map.clear()},J.prototype.keys=function(){return this._map.keys()},J.prototype.values=function(){return this._map.values()},J.prototype.entries=function(){return this._map.entries()},J.prototype["@@iterator"]=function(){return this.keys()},J.prototype[a]=function(){return this.keys()},J}()}function ae(){const ne=c.create(),te=Q();return function(){function pe(){this._key=Q()}return pe.prototype.has=function(Fe){const Ee=se(Fe,!1);return Ee!==void 0&&c.has(Ee,this._key)},pe.prototype.get=function(Fe){const Ee=se(Fe,!1);return Ee!==void 0?c.get(Ee,this._key):void 0},pe.prototype.set=function(Fe,Ee){return se(Fe,!0)[this._key]=Ee,this},pe.prototype.delete=function(Fe){const Ee=se(Fe,!1);return Ee!==void 0&&delete Ee[this._key]},pe.prototype.clear=function(){this._key=Q()},pe}();function Q(){let pe;do pe="@@WeakMap@@"+ve();while(c.has(ne,pe));return ne[pe]=!0,pe}function se(pe,Fe){if(!n.call(pe,te)){if(!Fe)return;Object.defineProperty(pe,te,{value:c.create()})}return pe[te]}function _e(pe,Fe){for(let Ee=0;Ee<Fe;++Ee)pe[Ee]=255*Math.random()|0;return pe}function le(pe){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(pe)):_e(new Uint8Array(pe),pe):_e(new Array(pe),pe)}function ve(){const pe=le(16);pe[6]=79&pe[6]|64,pe[8]=191&pe[8]|128;let Fe="";for(let Ee=0;Ee<16;++Ee){const it=pe[Ee];Ee!==4&&Ee!==6&&Ee!==8||(Fe+="-"),it<16&&(Fe+="0"),Fe+=it.toString(16).toLowerCase()}return Fe}}function re(J){return J.__=void 0,delete J.__,J}t("defineMetadata",g),t("hasMetadata",v),t("hasOwnMetadata",m),t("getMetadata",b)}((e=i,function(t,n){typeof e[t]!="function"&&Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n})})),i}({});function Kst(i,e,t,n){const r=[n];let s={};ix.hasOwnMetadata(i,e)&&(s=ix.getMetadata(i,e));let a=s[t];a===void 0&&(a=[]),a.push(...r),s[t]=a,ix.defineMetadata(i,s,e)}function Xst(i,e,t,n){Kst(vwe,i,t.toString(),n)}function _we(i){return(e,t,n)=>{Xst(e,t,n,i)}}function bwe(i){return e=>(t,n,r)=>_we(new KK(i,e))(t,n,r)}const Fi=bwe(gwe),Swe=bwe(mwe);function Tt(){return function(i){return ix.defineMetadata(ywe,null,i),i}}function eo(i){return _we(new KK(DB,i))}const N_={Singleton:"Singleton",Transient:"Transient"},bv={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};class XK{constructor(e,t){this.id=Xs.GenAutoIncrementId(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=bv.Invalid,this.constraint=n=>!0,this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.dynamicValue=null}clone(){const e=new XK(this.serviceIdentifier,this.scope);return e.activated=e.scope===N_.Singleton&&this.activated,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.provider=this.provider,e.constraint=this.constraint,e.cache=this.cache,e}}class qst{getConstructorMetadata(e){return{compilerGeneratedMetadata:ix.getMetadata(ywe,e),userGeneratedMetadata:ix.getMetadata(vwe,e)||{}}}getPropertiesMetadata(e){throw new Error("")}}const Zst=i=>e=>{const t=n=>{if(n==null)return!1;if(n.key===i&&n.value===e)return!0;if(n.constructorArgsMetadata==null)return!1;const r=n.constructorArgsMetadata;for(let s=0;s<r.length;s++)if(r[s].key===i&&r[s].value===e)return!0;return!1};return t.metaData=new KK(i,e),t},Qst=Zst(DB);class uI{constructor(e){this._binding=e}inRequestScope(){throw new Error("")}inSingletonScope(){return this._binding.scope=N_.Singleton,this}inTransientScope(){return this._binding.scope=N_.Transient,this}whenTargetNamed(e){return this._binding.constraint=Qst(e),this}}class Jst{constructor(e){this._binding=e}to(e){return this._binding.type=bv.Instance,this._binding.implementationType=e,new uI(this._binding)}toSelf(){const e=this._binding.serviceIdentifier;return this.to(e)}toDynamicValue(e){return this._binding.type=bv.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new uI(this._binding)}toConstantValue(e){return this._binding.type=bv.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=N_.Singleton,new uI(this._binding)}toFactory(e){return this._binding.type=bv.Factory,this._binding.factory=e,this._binding.scope=N_.Singleton,new uI(this._binding)}toService(e){this.toDynamicValue(t=>t.container.get(e))}}class eat{constructor(e){const t=e||{};t.defaultScope=t.defaultScope||N_.Transient,this.options=t,this.id=Xs.GenAutoIncrementId(),this._bindingDictionary=new Map,this._metadataReader=new qst}load(e){const t=this._getContainerModuleHelpersFactory()(e.id);e.registry(t.bindFunction,t.unbindFunction,t.isboundFunction,t.rebindFunction)}get(e){const t=this._getNotAllArgs(e,!1);return this._get(t)}getAll(e){const t=this._getAllArgs(e);return this._get(t)}getTagged(e,t,n){const r=this._getNotAllArgs(e,!1,t,n);return this._get(r)}getNamed(e,t){return this.getTagged(e,DB,t)}isBound(e){return this._bindingDictionary.has(e)}bind(e){const t=this.options.defaultScope,n=new XK(e,t),r=this._bindingDictionary.get(e)||[];return r.push(n),this._bindingDictionary.set(e,r),new Jst(n)}unbind(e){this._bindingDictionary.delete(e)}rebind(e){return this.unbind(e),this.bind(e)}_getContainerModuleHelpersFactory(){const e=(a,o)=>{a._binding.moduleId=o},t=a=>o=>{const l=this.bind(o);return e(l,a),l},n=()=>a=>this.unbind(a),r=()=>a=>this.isBound(a),s=a=>o=>{const l=this.rebind(o);return e(l,a),l};return a=>({bindFunction:t(a),isboundFunction:r(),rebindFunction:s(a),unbindFunction:n(),unbindAsyncFunction:o=>null})}_getNotAllArgs(e,t,n,r){return{avoidConstraints:!1,isMultiInject:t,serviceIdentifier:e,key:n,value:r}}_getAllArgs(e){return{avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e}}_get(e){const t=[];return this._bindingDictionary.get(e.serviceIdentifier).filter(n=>n.constraint(e)).forEach(n=>{t.push(this._resolveFromBinding(n))}),e.isMultiInject||t.length!==1?t:t[0]}_getChildRequest(e){const t=e.implementationType,{userGeneratedMetadata:n}=this._metadataReader.getConstructorMetadata(t),r=Object.keys(n),s=[];for(let a=0;a<r.length;a++){const o=n[a],l={};o.forEach(p=>{l[p.key]=p.value});const u={inject:l[gwe],multiInject:l[mwe]},c=u.inject||u.multiInject,d={serviceIdentifier:c,constructorArgsMetadata:o},h={injectIdentifier:c,metadata:o,bindings:this._bindingDictionary.get(c).filter(p=>p.constraint(d))};s.push(h)}return s}_resolveFromBinding(e){const t=this._getResolvedFromBinding(e);return this._saveToScope(e,t),t}_getResolvedFromBinding(e){let t;switch(e.type){case bv.ConstantValue:case bv.Function:t=e.cache;break;case bv.Instance:t=this._resolveInstance(e,e.implementationType);break;default:t=e.dynamicValue({container:this})}return t}_resolveInstance(e,t){if(e.activated)return e.cache;const n=this._getChildRequest(e);return this._createInstance(t,n)}_createInstance(e,t){return t.length?new e(...this._resolveRequests(t)):new e}_resolveRequests(e){return e.map(t=>t.bindings.length>1?t.bindings.map(n=>this._resolveFromBinding(n)):this._resolveFromBinding(t.bindings[0]))}_saveToScope(e,t){e.scope===N_.Singleton&&(e.cache=t,e.activated=!0)}}const Ca=Symbol("ContributionProvider");class xwe{constructor(e,t){this.serviceIdentifier=e,this.container=t}getContributions(){return this.caches||(this.caches=[],this.container&&this.container.isBound(this.serviceIdentifier)&&this.caches.push(...this.container.getAll(this.serviceIdentifier))),this.caches}}function zo(i,e){i(Ca).toDynamicValue(({container:t})=>new xwe(e,t)).inSingletonScope().whenTargetNamed(e)}function tat(i,e){i(Ca).toDynamicValue(({container:t})=>new xwe(e,t)).whenTargetNamed(e)}class iat{constructor(e,t){this._args=e,this.name=t,this.taps=[]}tap(e,t){this._tap("sync",e,t)}unTap(e,t){const n=typeof e=="string"?e.trim():e.name;n&&(this.taps=this.taps.filter(r=>!(r.name===n&&(!t||r.fn===t))))}_parseOptions(e,t,n){let r;if(typeof t=="string")r={name:t.trim()};else if(typeof t!="object"||t===null)throw new Error("Invalid tap options");if(typeof r.name!="string"||r.name==="")throw new Error("Missing name for tap");return r=Object.assign({type:e,fn:n},r),r}_tap(e,t,n){this._insert(this._parseOptions(e,t,n))}_insert(e){let t;typeof e.before=="string"?t=new Set([e.before]):Array.isArray(e.before)&&(t=new Set(e.before));let n=0;typeof e.stage=="number"&&(n=e.stage);let r=this.taps.length;for(;r>0;){r--;const s=this.taps[r];this.taps[r+1]=s;const a=s.stage||0;if(t){if(t.has(s.name)){t.delete(s.name);continue}if(t.size>0)continue}if(!(a>n)){r++;break}}this.taps[r]=e}}class Ec extends iat{call(...e){this.taps.map(t=>t.fn).forEach(t=>t(...e))}}const LB=Symbol.for("EnvContribution"),qK=Symbol.for("VGlobal");var nat=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},rat=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},Vae=function(i,e){return function(t,n){e(t,n,i)}};let KV=class{get env(){return this._env}get devicePixelRatio(){return this._env||this.setEnv("browser"),this.envContribution.getDevicePixelRatio()}get supportEvent(){return this._env||this.setEnv("browser"),this.envContribution.supportEvent}set supportEvent(i){this._env||this.setEnv("browser"),this.envContribution.supportEvent=i}get supportsTouchEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsTouchEvents}set supportsTouchEvents(i){this._env||this.setEnv("browser"),this.envContribution.supportsTouchEvents=i}get supportsPointerEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsPointerEvents}set supportsPointerEvents(i){this._env||this.setEnv("browser"),this.envContribution.supportsPointerEvents=i}get supportsMouseEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsMouseEvents}set supportsMouseEvents(i){this._env||this.setEnv("browser"),this.envContribution.supportsMouseEvents=i}get applyStyles(){return this._env||this.setEnv("browser"),this.envContribution.applyStyles}set applyStyles(i){this._env||this.setEnv("browser"),this.envContribution.applyStyles=i}constructor(i){this.contributions=i,this.id=Xs.GenAutoIncrementId(),this.hooks={onSetEnv:new Ec(["lastEnv","env","global"])},this.measureTextMethod="native",this.optimizeVisible=!1}bindContribution(i){const e=[];if(this.contributions.getContributions().forEach(t=>{const n=t.configure(this,i);n&&n.then&&e.push(n)}),e.length)return Promise.all(e)}getDynamicCanvasCount(){return this._env||this.setEnv("browser"),this.envContribution.getDynamicCanvasCount()}getStaticCanvasCount(){return this._env||this.setEnv("browser"),this.envContribution.getStaticCanvasCount()}setEnv(i,e){if(e&&e.force===!0||this._env!==i)return this.deactiveCurrentEnv(),this.activeEnv(i,e)}deactiveCurrentEnv(){this.envContribution&&this.envContribution.release()}activeEnv(i,e){const t=this._env;this._env=i;const n=this.bindContribution(e);if(n&&n.then)return n.then(()=>{this.envParams=e,this.hooks.onSetEnv.call(t,i,this)});this.envParams=e,this.hooks.onSetEnv.call(t,i,this)}setActiveEnvContribution(i){this.envContribution=i}createCanvas(i){return this._env||this.setEnv("browser"),this.envContribution.createCanvas(i)}createOffscreenCanvas(i){return this._env||this.setEnv("browser"),this.envContribution.createOffscreenCanvas(i)}releaseCanvas(i){return this._env||this.setEnv("browser"),this.envContribution.releaseCanvas(i)}addEventListener(i,e,t){return this._env||this.setEnv("browser"),this.envContribution.addEventListener(i,e,t)}removeEventListener(i,e,t){return this._env||this.setEnv("browser"),this.envContribution.removeEventListener(i,e,t)}dispatchEvent(i){return this._env||this.setEnv("browser"),this.envContribution.dispatchEvent(i)}getRequestAnimationFrame(){return this._env||this.setEnv("browser"),this.envContribution.getRequestAnimationFrame()}getCancelAnimationFrame(){return this._env||this.setEnv("browser"),this.envContribution.getCancelAnimationFrame()}getElementById(i){return this._env||this.setEnv("browser"),this.envContribution.getElementById?this.envContribution.getElementById(i):null}getRootElement(){return this._env||this.setEnv("browser"),this.envContribution.getRootElement?this.envContribution.getRootElement():null}getDocument(){return this._env||this.setEnv("browser"),this.envContribution.getDocument?this.envContribution.getDocument():null}mapToCanvasPoint(i,e){return this._env||this.setEnv("browser"),this.envContribution.mapToCanvasPoint?this.envContribution.mapToCanvasPoint(i,e):null}loadImage(i){return this._env||this.setEnv("browser"),this.envContribution.loadImage(i)}loadSvg(i){return this._env||this.setEnv("browser"),this.envContribution.loadSvg(i)}loadJson(i){return this._env||this.setEnv("browser"),this.envContribution.loadJson(i)}loadArrayBuffer(i){return this._env||this.setEnv("browser"),this.envContribution.loadArrayBuffer(i)}loadBlob(i){return this._env||this.setEnv("browser"),this.envContribution.loadBlob(i)}isChrome(){return this._isChrome!=null||(this._env||this.setEnv("browser"),this._isChrome=this._env==="browser"&&navigator.userAgent.indexOf("Chrome")>-1),this._isChrome}isSafari(){return this._isSafari!=null||(this._env||this.setEnv("browser"),this._isSafari=this._env==="browser"&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)),this._isSafari}getNativeAABBBounds(i){return this._env||this.setEnv("browser"),this.envContribution.getNativeAABBBounds(i)}removeDom(i){return this._env||this.setEnv("browser"),this.envContribution.removeDom(i)}createDom(i){return this._env||this.setEnv("browser"),this.envContribution.createDom(i)}updateDom(i,e){return this._env||this.setEnv("browser"),this.envContribution.updateDom(i,e)}getElementTop(i,e=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementTop(i,e)}getElementLeft(i,e=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementLeft(i,e)}getElementTopLeft(i,e=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementTopLeft(i,e)}};KV=nat([Tt(),Vae(0,Fi(Ca)),Vae(0,eo(LB)),rat("design:paramtypes",[Object])],KV);const sat=Ra-1e-8;class wwe{constructor(e){this.init(e)}init(e){this.bounds=e}arc(e,t,n,r,s,a){if(Math.abs(s-r)>sat)return this.bounds.add(e-n,t-n),void this.bounds.add(e+n,t+n);let o,l,u,c,d=1/0,h=-1/0,p=1/0,f=-1/0;function g(v){u=n*Math.cos(v),c=n*Math.sin(v),u<d&&(d=u),u>h&&(h=u),c<p&&(p=c),c>f&&(f=c)}if(g(r),g(s),s!==r)if((r%=Ra)<0&&(r+=Ra),(s%=Ra)<0&&(s+=Ra),s<r&&(a=!a,o=r,r=s,s=o),a)for(s-=Ra,o=r-r%Id,l=0;l<4&&o>s;++l,o-=Id)g(o);else for(o=r-r%Id+Id,l=0;l<4&&o<s;++l,o+=Id)g(o);this.bounds.add(e+d,t+p),this.bounds.add(e+h,t+f)}arcTo(e,t,n,r,s){throw new Error("arcTo")}bezierCurveTo(e,t,n,r,s,a){this.bounds.add(e,t),this.bounds.add(n,r),this.bounds.add(s,a)}closePath(){}ellipse(){throw new Error("ellipse")}lineTo(e,t){this.bounds.add(e,t)}moveTo(e,t){this.bounds.add(e,t)}quadraticCurveTo(e,t,n,r){this.bounds.add(e,t),this.bounds.add(n,r)}rect(e,t,n,r){this.bounds.add(e,t),this.bounds.add(e+n,t+r)}clear(){this.bounds.clear()}release(...e){}}class aat{constructor(){this.curves=[],this.bounds=new zr}getCurveLengths(){return this.curves.map(e=>e.getLength())}getPointAt(e){return{x:0,y:0}}getLength(){return 0}getBounds(){return this.bounds}}const oat=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,lat={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7},Ni={A:0,AT:1,C:2,Z:3,E:4,L:5,M:6,Q:7,R:8};let S7,Wae,cI,Uae,x7,dI;function uat(i){if(!i)return[];const e=i.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);if(e===null)return[];let t,n;const r=[];for(let s=0,a=e.length;s<a;s++)if(S7=e[s],Wae=S7.slice(1),cI=S7[0],t=[cI],n=Wae.match(oat),n!==null){for(let o=0,l=n.length;o<l;o++)Uae=n[o],x7=parseFloat(Uae),Number.isNaN(x7)||t.push(x7);if(dI=lat[cI],t.length-1>dI){let o;for(let l=1,u=t.length;l<u;l+=dI){o=[cI];for(let c=l,d=l+dI;c<d;c++)o.push(t[c]);r.push(o)}}else r.push(t)}else r.push(t);return r}var ar;(function(i){i[i.NONE=0]="NONE",i[i.UPDATE_BOUNDS=1]="UPDATE_BOUNDS",i[i.UPDATE_SHAPE=2]="UPDATE_SHAPE",i[i.CLEAR_SHAPE=253]="CLEAR_SHAPE",i[i.UPDATE_SHAPE_AND_BOUNDS=3]="UPDATE_SHAPE_AND_BOUNDS",i[i.INIT=179]="INIT",i[i.CLEAR_BOUNDS=254]="CLEAR_BOUNDS",i[i.UPDATE_GLOBAL_MATRIX=32]="UPDATE_GLOBAL_MATRIX",i[i.CLEAR_GLOBAL_MATRIX=223]="CLEAR_GLOBAL_MATRIX",i[i.UPDATE_LOCAL_MATRIX=16]="UPDATE_LOCAL_MATRIX",i[i.CLEAR_LOCAL_MATRIX=239]="CLEAR_LOCAL_MATRIX",i[i.UPDATE_GLOBAL_LOCAL_MATRIX=48]="UPDATE_GLOBAL_LOCAL_MATRIX",i[i.UPDATE_LAYOUT=128]="UPDATE_LAYOUT",i[i.CLEAR_LAYOUT=127]="CLEAR_LAYOUT"})(ar||(ar={}));var _T;(function(i){i[i.GLOBAL=1]="GLOBAL",i[i.LOCAL=16]="LOCAL",i[i.GLOBAL_ACCURATE=3]="GLOBAL_ACCURATE",i[i.LOCAL_ACCURATE=48]="LOCAL_ACCURATE"})(_T||(_T={}));var us;(function(i){i[i.INIT=0]="INIT",i[i.DEFAULT=1]="DEFAULT",i[i.STATE=2]="STATE",i[i.ANIMATE_BIND=10]="ANIMATE_BIND",i[i.ANIMATE_PLAY=11]="ANIMATE_PLAY",i[i.ANIMATE_START=12]="ANIMATE_START",i[i.ANIMATE_UPDATE=13]="ANIMATE_UPDATE",i[i.ANIMATE_END=14]="ANIMATE_END",i[i.TRANSLATE=20]="TRANSLATE",i[i.TRANSLATE_TO=21]="TRANSLATE_TO",i[i.SCALE=22]="SCALE",i[i.SCALE_TO=23]="SCALE_TO",i[i.ROTATE=24]="ROTATE",i[i.ROTATE_TO=25]="ROTATE_TO"})(us||(us={}));var pl;(function(i){i[i.INITIAL=0]="INITIAL",i[i.RUNNING=1]="RUNNING",i[i.PAUSED=2]="PAUSED",i[i.END=3]="END"})(pl||(pl={}));var Vx;(function(i){i[i.NORMAL=0]="NORMAL",i[i.SET_ATTR_IMMEDIATELY=1]="SET_ATTR_IMMEDIATELY"})(Vx||(Vx={}));var kS;(function(i){i.wait="wait",i.from="from",i.to="to",i.customAnimate="customAnimate"})(kS||(kS={}));var jr;(function(i){i[i.ROW=1]="ROW",i[i.COLUMN=2]="COLUMN"})(jr||(jr={}));var wD;(function(i){i[i.CubicBezierCurve=0]="CubicBezierCurve",i[i.QuadraticBezierCurve=1]="QuadraticBezierCurve",i[i.ArcCurve=2]="ArcCurve",i[i.LineCurve=3]="LineCurve",i[i.EllipseCurve=4]="EllipseCurve",i[i.MoveCurve=5]="MoveCurve"})(wD||(wD={}));var Fa;(function(i){i[i.beforeFillStroke=0]="beforeFillStroke",i[i.afterFillStroke=1]="afterFillStroke"})(Fa||(Fa={}));function cat(i,e,t,n,r,s,a,o,l){const u=Pn(a),c=Math.sin(u),d=Math.cos(u),h=d*(o-i)*.5+c*(l-e)*.5,p=d*(l-e)*.5-c*(o-i)*.5;let f=h*h/((t=Math.abs(t))*t)+p*p/((n=Math.abs(n))*n);f>1&&(f=Math.sqrt(f),t*=f,n*=f);const g=d/t,v=c/t,m=-c/n,b=d/n,_=g*o+v*l,S=m*o+b*l,C=g*i+v*e,k=m*i+b*e;let E=1/((C-_)*(C-_)+(k-S)*(k-S))-.25;E<0&&(E=0);let A=Math.sqrt(E);s===r&&(A=-A);const P=.5*(_+C)-A*(k-S),O=.5*(S+k)+A*(C-_),M=Math.atan2(S-O,_-P);let D=Math.atan2(k-O,C-P)-M;D<0&&s===1?D+=Ra:D>0&&s===0&&(D-=Ra);const L=Math.ceil(Math.abs(D/(Id+.001))),H=[];for(let B=0;B<L;++B){const F=M+B*D/L,z=M+(B+1)*D/L;H[B]=[P,O,F,z,t,n,c,d]}return H}function dat(i){const e=i[0],t=i[1],n=i[2],r=i[3],s=i[4],a=i[5],o=i[6],l=i[7],u=l*s,c=-o*a,d=o*s,h=l*a,p=Math.cos(n),f=Math.sin(n),g=Math.cos(r),v=Math.sin(r),m=.5*(r-n),b=Math.sin(.5*m),_=8/3*b*b/Math.sin(m),S=e+p-_*f,C=t+f+_*p,k=e+g,E=t+v,A=k+_*v,P=E-_*g;return[u*S+c*C,d*S+h*C,u*A+c*P,d*A+h*P,u*k+c*E,d*k+h*E]}function Gae(i,e,t,n){const r=cat(n[5],n[6],n[0],n[1],n[3],n[4],n[2],e,t);for(let s=0;s<r.length;++s){const a=dat(r[s]);i.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}const j3=(i,e,t,n,r,s,a)=>{const o=Math.abs(t-e),l=4*Math.tan(o/4)/3,u=t<e?-1:1,c=Math.cos(e),d=Math.sin(e),h=Math.cos(t),p=Math.sin(t),f=c*s+n,g=d*a+r,v=h*s+n,m=p*a+r,b=s*l*u,_=a*l*u;i.push(f-b*d,g+_*c,v+b*p,m-_*h,v,m)},hat=[(i,e,t,n,r,s,a)=>e.arc(i[1]*r+t,i[2]*s+n,i[3]*(r+s)/2,i[4],i[5],i[6],a),(i,e,t,n,r,s,a)=>e.arcTo(i[1]*r+t,i[2]*s+n,i[3]*r+t,i[4]*s+n,i[5]*(r+s)/2,a),(i,e,t,n,r,s,a)=>e.bezierCurveTo(i[1]*r+t,i[2]*s+n,i[3]*r+t,i[4]*s+n,i[5]*r+t,i[6]*s+n,a),(i,e,t,n)=>e.closePath(),(i,e,t,n,r,s)=>e.ellipse(i[1]*r+t,i[2]*s+n,i[3]*r,i[4]*s,i[5],i[6],i[7],i[8]),(i,e,t,n,r,s,a)=>e.lineTo(i[1]*r+t,i[2]*s+n,a),(i,e,t,n,r,s,a)=>e.moveTo(i[1]*r+t,i[2]*s+n,a),(i,e,t,n,r,s,a)=>e.quadraticCurveTo(i[1]*r+t,i[2]*s+n,i[3]*r+t,i[4]*s+n,a),(i,e,t,n,r,s,a)=>e.rect(i[1]*r+t,i[2]*s+n,i[3]*r,i[4]*s,a)];function Pg(i,e,t=0,n=0,r=1,s=1,a){for(let o=0;o<i.length;o++){const l=i[o];hat[l[0]](l,e,t,n,r,s,a)}}class Cwe{getLength(e){return e!=null?this.calcProjLength(e):(Number.isFinite(this.length)||(this.length=this.calcLength()),this.length)}}function pat(i,e){let t=0;const n=i.length;for(let r=0;r<n;r++){const s=i[r],a=e[r],o=i[(r+1)%n],l=e[(r+1)%n];t+=ds.distanceNN(s,a,o,l)}return t/2}function fat(i,e,t,n,r){return pat([i.x,e.x,t.x,n.x],[i.y,e.y,t.y,n.y])}function Yae(i,e,t,n,r){const s=1-r;return s*s*s*i+3*e*r*s*s+3*t*r*r*s+n*r*r*r}function kwe(i,e,t,n,r){const s=Yae(i.x,e.x,t.x,n.x,r),a=Yae(i.y,e.y,t.y,n.y,r);return new As(s,a)}function XV(i,e){const{p0:t,p1:n,p2:r,p3:s}=i,a=kwe(t,n,r,s,e),o=ds.pointAtPP(t,n,e),l=ds.pointAtPP(n,r,e),u=ds.pointAtPP(r,s,e),c=ds.pointAtPP(o,l,e),d=ds.pointAtPP(l,u,e);return[new qV(t,o,c,a),new qV(a,d,u,s)]}class qV extends Cwe{constructor(e,t,n,r){super(),this.type=wD.CubicBezierCurve,this.p0=e,this.p1=t,this.p2=n,this.p3=r}_validPoint(){return Number.isFinite(this.p0.x+this.p0.y+this.p1.x+this.p1.y+this.p2.x+this.p2.y+this.p3.x+this.p3.y)}getPointAt(e){if(this.defined!==!1)return kwe(this.p0,this.p1,this.p2,this.p3,e);throw new Error("definedfalsegetPointAt")}calcLength(){return this._validPoint()?fat(this.p0,this.p1,this.p2,this.p3):60}calcProjLength(e){return e===jr.ROW?dn(this.p0.x-this.p3.x):e===jr.COLUMN?dn(this.p0.y-this.p3.y):0}getAngleAt(e){const t=Jl(e-.01,0),n=xo(e+.01,1),r=this.getPointAt(t),s=this.getPointAt(n);return zn(s.y-r.y,s.x-r.x)}}function Kae(i,e){const{p0:t,p1:n}=i,r=ds.pointAtPP(t,n,e);return[new ZV(t,r),new ZV(r,n)]}class ZV extends Cwe{constructor(e,t){super(),this.type=wD.LineCurve,this.p0=e,this.p1=t}getPointAt(e){if(this.defined!==!1)return ds.pointAtPP(this.p0,this.p1,e);throw new Error("definedfalsegetPointAt")}getAngleAt(e){return this.angle==null&&(this.angle=zn(this.p1.y-this.p0.y,this.p1.x-this.p0.x)),this.angle}_validPoint(){return Number.isFinite(this.p0.x+this.p0.y+this.p1.x+this.p1.y)}calcLength(){return this._validPoint()?ds.distancePP(this.p0,this.p1):60}calcProjLength(e){return e===jr.ROW?dn(this.p0.x-this.p1.x):e===jr.COLUMN?dn(this.p0.y-this.p1.y):0}}class ZK{get endX(){return this._lastX}get endY(){return this._lastY}constructor(e,t){this.init(e,t)}init(e,t){this._lastX=this._lastY=this._startX=this._startY=0,this.curveType=e,this.direction=t,this.curves=[]}bezierCurveTo(e,t,n,r,s,a,o,l){const u=new qV(new As(this._lastX,this._lastY),new As(e,t),new As(n,r),new As(s,a));u.originP1=this._lastOriginP,u.originP2=l,u.defined=o,this.curves.push(u),this._lastX=s,this._lastY=a,this._lastOriginP=l}closePath(){if(this.curves.length<2)return;const e=this.curves[this.curves.length-1];this.lineTo(this._startX,this._startY,e.defined,this._startOriginP)}ellipse(){throw new Error("SegContextellipse")}lineTo(e,t,n,r){const s=this.addLinearCurve(e,t,n,this._lastOriginP,r);this.curves.push(s),this._lastX=e,this._lastY=t,this._lastOriginP=r}moveTo(e,t,n){return this._lastX=this._startX=e,this._lastY=this._startY=t,this._lastOriginP=n,this._startOriginP=n,this}quadraticCurveTo(e,t,n,r){throw new Error("SegContextquadraticCurveTo")}clear(){this.curves=[],this.length=NaN}tryUpdateLength(e){return this.getLength(e)}addLinearCurve(e,t,n,r,s){const a=new ZV(new As(this._lastX,this._lastY),new As(e,t));return a.originP1=r,a.originP2=s,a.defined=n,a}getPointAt(e){throw new Error("")}getCurveLengths(){return[]}getLength(e){var t,n;if(e===jr.COLUMN){if(!this.curves.length)return 0;const r=this.curves[0],s=this.curves[this.curves.length-1],a=(t=s.p3)!==null&&t!==void 0?t:s.p1;return dn(r.p0.y-a.y)}if(e===jr.ROW){if(!this.curves.length)return 0;const r=this.curves[0],s=this.curves[this.curves.length-1],a=(n=s.p3)!==null&&n!==void 0?n:s.p1;return dn(r.p0.x-a.x)}return Number.isFinite(this.length)||(this.length=this.curves.reduce((r,s)=>r+s.getLength(),0)),this.length}}class gat extends ZK{bezierCurveTo(e,t,n,r,s,a,o,l){return super.bezierCurveTo(t,e,r,n,a,s,o,l)}lineTo(e,t,n,r){return super.lineTo(t,e,n,r)}moveTo(e,t,n){return super.moveTo(t,e,n)}clear(){return super.clear()}}function zw(i,e,t=1){let n=!1;for(let r=0,s=e.length;r<=s;r++)r>=s===n&&((n=!n)?i.lineStart():i.lineEnd()),n&&i.point(e[r])}function q2(i,e,t){const n=e??(dn(t[t.length-1].x-t[0].x)>dn(t[t.length-1].y-t[0].y)?jr.ROW:jr.COLUMN);return i==="monotoneY"?new gat(i,n):new ZK(i,n)}class Ewe{constructor(e,t){this.context=e,t&&(this.startPoint=t)}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this.context.closePath(),this._line=1-this._line}point(e){const t=e.x,n=e.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(t,n,this._lastDefined!==!1&&e.defined!==!1,e):this.context.moveTo(t,n,e);break;case 1:this._point=2;default:this.context.lineTo(t,n,this._lastDefined!==!1&&e.defined!==!1,e)}this._lastDefined=e.defined}tryUpdateLength(){return this.context.tryUpdateLength()}}function Z2(i,e={}){const{direction:t,startPoint:n}=e;if(i.length<2-+!!n)return null;const r=q2("linear",t,i);return mat(new Ewe(r,n),i),r}function mat(i,e){return zw(i,e,1)}function Xae(i,e,t,n,r){i.context.bezierCurveTo((2*i._x0+i._x1)/3,(2*i._y0+i._y1)/3,(i._x0+2*i._x1)/3,(i._y0+2*i._y1)/3,(i._x0+4*i._x1+e)/6,(i._y0+4*i._y1+t)/6,n,i.lastPoint1)}class vat{constructor(e,t){this.context=e,this.startPoint=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){this._point===2&&Xae(this,6*this._x1-(this._x0+4*this._x1),6*this._y1-(this._y0+4*this._y1),this._lastDefined1!==!1&&this._lastDefined2!==!1,this.lastPoint1),(this._line||this._line!==0&&this._point===1)&&this.context.closePath(),this._line=1-this._line}point(e){const t=e.x,n=e.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(t,n,this._lastDefined1!==!1&&this._lastDefined2!==!1,e):this.context.moveTo(t,n,e);break;case 1:this._point=2;break;default:Xae(this,t,n,this._lastDefined1!==!1&&this._lastDefined2!==!1)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._lastDefined1=this._lastDefined2,this._lastDefined2=e.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=e}tryUpdateLength(){return this.context.tryUpdateLength()}}function yat(i,e){return zw(i,e,2)}function Awe(i,e={}){const{direction:t,startPoint:n}=e;if(i.length<2-+!!n)return null;if(i.length<3-+!!n)return Z2(i,e);const r=q2("basis",t,i);return yat(new vat(r,n),i),r}function qae(i){return i<0?-1:1}function Zae(i,e,t){const n=i._x1-i._x0,r=e-i._x1,s=(i._y1-i._y0)/(n||Number(r<0&&-0)),a=(t-i._y1)/(r||Number(n<0&&-0)),o=(s*r+a*n)/(n+r);return(qae(s)+qae(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function Qae(i,e){const t=i._x1-i._x0;return t?(3*(i._y1-i._y0)/t-e)/2:e}function w7(i,e,t,n,r){const s=i._x0,a=i._y0,o=i._x1,l=i._y1,u=(o-s)/3;i.context.bezierCurveTo(s+u,a+u*e,o-u,l-u*t,o,l,n,i.lastPoint1)}class Twe{constructor(e,t){this.context=e,this.startPoint=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){switch(this._point){case 2:this.context.lineTo(this._x1,this._y1,this._lastDefined1!==!1&&this._lastDefined2!==!1,this.lastPoint1);break;case 3:w7(this,this._t0,Qae(this,this._t0),this._lastDefined1!==!1&&this._lastDefined2!==!1,this.lastPoint1)}(this._line||this._line!==0&&this._point===1)&&this.context.closePath(),this._line=1-this._line}point(e){let t=NaN;const n=e.x,r=e.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(n,r,this._lastDefined1!==!1&&this._lastDefined2!==!1,e):this.context.moveTo(n,r,e);break;case 1:this._point=2;break;case 2:this._point=3,w7(this,Qae(this,t=Zae(this,n,r)),t,this._lastDefined1!==!1&&this._lastDefined2!==!1);break;default:w7(this,this._t0,t=Zae(this,n,r),this._lastDefined1!==!1&&this._lastDefined2!==!1)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=r,this._t0=t,this._lastDefined1=this._lastDefined2,this._lastDefined2=e.defined!==!1,this.lastPoint0=this.lastPoint1,this.lastPoint1=e}tryUpdateLength(){return this.context.tryUpdateLength()}}class _at extends Twe{constructor(e,t){super(e,t)}point(e){return super.point({y:e.x,x:e.y,defined:e.defined})}}function bat(i,e){return zw(i,e,2)}function Pwe(i,e={}){const{direction:t,startPoint:n}=e;if(i.length<2-+!!n)return null;if(i.length<3-+!!n)return Z2(i,e);const r=q2("monotoneX",t,i);return bat(new Twe(r,n),i),r}function Sat(i,e){return zw(i,e,2)}function Owe(i,e={}){const{direction:t,startPoint:n}=e;if(i.length<2-+!!n)return null;if(i.length<3-+!!n)return Z2(i,e);const r=q2("monotoneY",t,i);return Sat(new _at(r,n),i),r}let xat=class{constructor(e,t=.5,n){this.context=e,this._t=t,this.startPoint=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x=this._y=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){0<this._t&&this._t<1&&this._point===2&&this.context.lineTo(this._x,this._y,this._lastDefined!==!1,this.lastPoint),(this._line||this._line!==0&&this._point===1)&&this.context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)}point(e){const t=e.x,n=e.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(t,n,this._lastDefined!==!1&&e.defined!==!1,e):this.context.moveTo(t,n,e);break;case 1:this._point=2;default:if(this._t<=0)this.context.lineTo(this._x,n,this._lastDefined!==!1&&e.defined!==!1,this.lastPoint),this.context.lineTo(t,n,this._lastDefined!==!1&&e.defined!==!1,e);else{const r=this._x*(1-this._t)+t*this._t;this.context.lineTo(r,this._y,this._lastDefined!==!1&&e.defined!==!1,this.lastPoint),this.context.lineTo(r,n,this._lastDefined!==!1&&e.defined!==!1,e)}}this._lastDefined=e.defined,this._x=t,this._y=n,this.lastPoint=e}tryUpdateLength(){return this.context.tryUpdateLength()}};function nx(i,e,t={}){const{direction:n,startPoint:r}=t;if(i.length<2-+!!r)return null;const s=new ZK("step",n??(dn(i[i.length-1].x-i[0].x)>dn(i[i.length-1].y-i[0].y)?jr.ROW:jr.COLUMN));return wat(new xat(s,e,r),i),s}function wat(i,e){return zw(i,e,1)}class Cat extends Ewe{lineEnd(){this.context.closePath()}}function Mwe(i,e={}){const{direction:t,startPoint:n}=e;if(i.length<2-+!!n)return null;const r=q2("linear",t,i);return kat(new Cat(r,n),i),r}function kat(i,e){return zw(i,e,1)}function QV(i,e,t){switch(e){case"linear":default:return Z2(i,t);case"basis":return Awe(i,t);case"monotoneX":return Pwe(i,t);case"monotoneY":return Owe(i,t);case"step":return nx(i,.5,t);case"stepBefore":return nx(i,0,t);case"stepAfter":return nx(i,1,t);case"linearClosed":return Mwe(i,t)}}class ba extends aat{constructor(e){super(),this.commandList=[],e&&(this._ctx=e),this._boundsContext=new wwe(this.bounds)}setCtx(e){this._ctx=e}moveTo(e,t){return this.commandList.push([Ni.M,e,t]),this._ctx&&this._ctx.moveTo(e,t),this}lineTo(e,t){return this.commandList.push([Ni.L,e,t]),this._ctx&&this._ctx.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.commandList.push([Ni.Q,e,t,n,r]),this._ctx&&this._ctx.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,s,a){return this.commandList.push([Ni.C,e,t,n,r,s,a]),this._ctx&&this._ctx.bezierCurveTo(e,t,n,r,s,a),this}arcTo(e,t,n,r,s){return this.commandList.push([Ni.AT,e,t,n,r,s]),this._ctx&&this._ctx.arcTo(e,t,n,r,s),this}ellipse(e,t,n,r,s,a,o,l){return this.commandList.push([Ni.E,e,t,n,r,s,a,o,l]),this._ctx&&this._ctx.ellipse(e,t,n,r,s,a,o,l),this}rect(e,t,n,r){return this.commandList.push([Ni.R,e,t,n,r]),this._ctx&&this._ctx.rect(e,t,n,r),this}arc(e,t,n,r,s,a){return this.commandList.push([Ni.A,e,t,n,r,s,a]),this._ctx&&this._ctx.arc(e,t,n,r,s,a),this}closePath(){return this.commandList.push([Ni.Z]),this._ctx&&this._ctx.closePath(),this}addCurve(e){this.curves.push(e)}clear(){this.transformCbList=null,this.commandList.length=0,this.curves.length=0}beginPath(){this.clear()}toString(){if(!this.toStringCbList){const n=[];n[Ni.M]=r=>`M${r[1]} ${r[2]}`,n[Ni.L]=r=>`L${r[1]} ${r[2]}`,n[Ni.Q]=r=>`Q${r[1]} ${r[2]} ${r[3]} ${r[4]}`,n[Ni.C]=r=>`C${r[1]} ${r[2]} ${r[3]} ${r[4]} ${r[5]} ${r[6]}`,n[Ni.A]=r=>{const s=[];j3(s,r[4],r[5],r[1],r[2],r[3],r[3]);let a="";for(let o=0;o<s.length;o+=6)a+=`C${s[o]} ${s[o+1]} ${s[o+2]} ${s[o+3]} ${s[o+4]} ${s[o+5]}`;return a},n[Ni.R]=r=>`M${r[1]} ${r[2]} h${r[3]} v${r[4]} H${r[1]}Z`,n[Ni.Z]=r=>"Z",this.toStringCbList=n}const e=this.toStringCbList;let t="";return this.commandList.forEach(n=>{t+=e[n[0]](n)}),t}fromString(e,t,n,r,s){this.clear();const a=uat(e);return this._runCommandStrList(a,t,n,r,s),this._updateBounds(),this}fromLine(e){const{points:t,curveType:n,clipRangeByDimension:r}=e.attribute;if(!t)return;const s=QV(t,n);r==="x"?this.direction=jr.ROW:r==="y"?this.direction=jr.COLUMN:r==="auto"&&(this.direction=s.direction),this.curves=s.curves}fromCustomPath2D(e,t,n,r,s){return this.clear(),this._runCommandList(e.commandList,t,n,r,s),this._updateBounds(),this}transform(e,t,n,r){const s=this.commandList;if(!this.transformCbList){const a=[];a[Ni.M]=this.moveToTransform,a[Ni.L]=this.lineToTransform,a[Ni.Q]=this.quadraticCurveToTransform,a[Ni.C]=this.bezierCurveToTransform,a[Ni.AT]=this.arcToTransform,a[Ni.E]=this.ellipseTransform,a[Ni.R]=this.rectTransform,a[Ni.A]=this.arcTransform,a[Ni.Z]=this.closePathTransform,this.transformCbList=a}s.forEach(a=>{this.transformCbList[a[0]](a,e,t,n,r)}),this._updateBounds()}moveToTransform(e,t,n,r,s){e[1]=e[1]*r+t,e[2]=e[2]*s+n}lineToTransform(e,t,n,r,s){e[1]=e[1]*r+t,e[2]=e[2]*s+n}quadraticCurveToTransform(e,t,n,r,s){e[1]=e[1]*r+t,e[2]=e[2]*s+n,e[3]=e[3]*r+t,e[4]=e[4]*s+n}bezierCurveToTransform(e,t,n,r,s){e[1]=e[1]*r+t,e[2]=e[2]*s+n,e[3]=e[3]*r+t,e[4]=e[4]*s+n,e[5]=e[5]*r+t,e[6]=e[6]*s+n}arcToTransform(e,t,n,r,s){e[1]=e[1]*r+t,e[2]=e[2]*s+n,e[3]=e[3]*r+t,e[4]=e[4]*s+n,e[5]=e[5]*(r+s)/2}ellipseTransform(e,t,n,r,s){e[1]=e[1]*r+t,e[2]=e[2]*s+n,e[3]=e[3]*r,e[4]=e[4]*s}rectTransform(e,t,n,r,s){e[1]=e[1]*r+t,e[2]=e[2]*s+n,e[3]=e[3]*r,e[4]=e[4]*s}arcTransform(e,t,n,r,s){e[1]=e[1]*r+t,e[2]=e[2]*s+n,e[3]=e[3]*(r+s)/2}closePathTransform(){}_runCommandStrList(e,t=0,n=0,r=1,s=1){let a,o,l,u,c,d=null,h=0,p=0,f=0,g=0;for(let v=0,m=e.length;v<m;++v){switch(a=e[v],r===1&&s===1||(a=Eat(a,r,s)),a[0]){case"l":h+=a[1],p+=a[2],this.lineTo(h+t,p+n);break;case"L":h=a[1],p=a[2],this.lineTo(h+t,p+n);break;case"h":h+=a[1],this.lineTo(h+t,p+n);break;case"H":h=a[1],this.lineTo(h+t,p+n);break;case"v":p+=a[1],this.lineTo(h+t,p+n);break;case"V":p=a[1],this.lineTo(h+t,p+n);break;case"m":h+=a[1],p+=a[2],this.moveTo(h+t,p+n);break;case"M":h=a[1],p=a[2],this.moveTo(h+t,p+n);break;case"c":o=h+a[5],l=p+a[6],f=h+a[3],g=p+a[4],this.bezierCurveTo(h+a[1]+t,p+a[2]+n,f+t,g+n,o+t,l+n),h=o,p=l;break;case"C":h=a[5],p=a[6],f=a[3],g=a[4],this.bezierCurveTo(a[1]+t,a[2]+n,f+t,g+n,h+t,p+n);break;case"s":o=h+a[3],l=p+a[4],f=2*h-f,g=2*p-g,this.bezierCurveTo(f+t,g+n,h+a[1]+t,p+a[2]+n,o+t,l+n),f=h+a[1],g=p+a[2],h=o,p=l;break;case"S":o=a[3],l=a[4],f=2*h-f,g=2*p-g,this.bezierCurveTo(f+t,g+n,a[1]+t,a[2]+n,o+t,l+n),h=o,p=l,f=a[1],g=a[2];break;case"q":o=h+a[3],l=p+a[4],f=h+a[1],g=p+a[2],this.quadraticCurveTo(f+t,g+n,o+t,l+n),h=o,p=l;break;case"Q":o=a[3],l=a[4],this.quadraticCurveTo(a[1]+t,a[2]+n,o+t,l+n),h=o,p=l,f=a[1],g=a[2];break;case"t":o=h+a[1],l=p+a[2],d[0].match(/[QqTt]/)===null?(f=h,g=p):d[0]==="t"?(f=2*h-u,g=2*p-c):d[0]==="q"&&(f=2*h-f,g=2*p-g),u=f,c=g,this.quadraticCurveTo(f+t,g+n,o+t,l+n),h=o,p=l,f=h+a[1],g=p+a[2];break;case"T":o=a[1],l=a[2],f=2*h-f,g=2*p-g,this.quadraticCurveTo(f+t,g+n,o+t,l+n),h=o,p=l;break;case"a":Gae(this,h+t,p+n,[a[1],a[2],a[3],a[4],a[5],a[6]+h+t,a[7]+p+n]),h+=a[6],p+=a[7];break;case"A":Gae(this,h+t,p+n,[a[1],a[2],a[3],a[4],a[5],a[6]+t,a[7]+n]),h=a[6],p=a[7];break;case"z":case"Z":this.closePath()}d=a}}_runCommandList(e,t=0,n=0,r=1,s=1){if(t!==0||n!==0||r!==1||s!==1)for(let a=0,o=e.length;a<o;++a){const l=e[a].slice();switch(l[0]){case Ni.L:this.lineToTransform(l,t,n,r,s);break;case Ni.M:this.moveToTransform(l,t,n,r,s);break;case Ni.C:this.bezierCurveToTransform(l,t,n,r,s);break;case Ni.Q:this.quadraticCurveToTransform(l,t,n,r,s);break;case Ni.A:this.arcToTransform(l,t,n,r,s);break;case Ni.E:this.ellipseTransform(l,t,n,r,s);break;case Ni.R:this.rectTransform(l,t,n,r,s);break;case Ni.AT:this.arcToTransform(l,t,n,r,s);break;case Ni.Z:this.closePath()}}else this.commandList=e.map(a=>a.slice())}_updateBounds(){this.bounds.clear(),Pg(this.commandList,this._boundsContext)}release(){this.commandList=[],this._boundsContext=null,this._ctx=null}getLength(){if(this.direction===jr.COLUMN){if(!this.curves.length)return 0;const e=this.curves[0],t=this.curves[this.curves.length-1];return dn(e.p0.y-t.p1.y)}if(this.direction===jr.ROW){if(!this.curves.length)return 0;const e=this.curves[0],t=this.curves[this.curves.length-1];return dn(e.p0.x-t.p1.x)}return this.curves.reduce((e,t)=>e+t.getLength(),0)}getAttrAt(e){if(!this.curves)return{pos:{x:0,y:0},angle:0};let t,n=0;for(let s=0;s<this.curves.length;s++){t=this.curves[s];const a=t.getLength(this.direction);if(n+a>=e)break;n+=a}const r=(e-n)/t.getLength(this.direction);return{pos:t.getPointAt(r),angle:t.getAngleAt(r)}}}const md=["l",0,0,0,0,0,0,0];function Eat(i,e,t){const n=md[0]=i[0];if(n==="a"||n==="A")md[1]=e*i[1],md[2]=t*i[2],md[3]=i[3],md[4]=i[4],md[5]=i[5],md[6]=e*i[6],md[7]=t*i[7];else if(n==="h"||n==="H")md[1]=e*i[1];else if(n==="v"||n==="V")md[1]=t*i[1];else for(let r=1,s=i.length;r<s;++r)md[r]=(r%2==1?e:t)*i[r];return md}const Aat={alignSelf:"auto"},Ya={x:0,y:0,z:0,dx:0,dy:0,dz:0,scrollX:0,scrollY:0,scaleX:1,scaleY:1,scaleZ:1,angle:0,alpha:0,beta:0,scaleCenter:[0,0],anchor:[0,0],anchor3d:[0,0],postMatrix:new gs},Iwe={fillOpacity:1,fill:!1,shadowBlur:0,shadowColor:"black",shadowOffsetX:0,shadowOffsetY:0},C7={strokeOpacity:1,lineDash:[],lineDashOffset:0,lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,strokeBoundsBuffer:2,stroke:!1},Rwe=Object.assign({outerBorder:Object.assign(Object.assign({},C7),{distance:0}),innerBorder:Object.assign(Object.assign({},C7),{distance:0})},C7),vf={text:"",maxLineWidth:1/0,textAlign:"left",textBaseline:"alphabetic",fontSize:16,fontFamily:`PingFang SC,Microsoft Yahei,system-ui,-apple-system,segoe ui,
    Roboto,Helvetica,Arial,sans-serif, apple color emoji,segoe ui emoji,segoe ui symbol`,fontWeight:"",ellipsis:"",fontVariant:"",fontStyle:"",lineHeight:void 0,underline:0,lineThrough:0,scaleIn3d:!1,direction:"horizontal",wordBreak:"break-all",ignoreBuf:!1,verticalMode:0,wrap:!1,whiteSpace:"no-wrap",heightLimit:1/0,lineClamp:1/0,suffixPosition:"end",underlineDash:[],underlineOffset:0,disableAutoClipedPoptip:void 0},Tat={pickStrokeBuffer:0},Pat=Object.assign(Object.assign(Object.assign(Object.assign({forceBoundsWidth:void 0,forceBoundsHeight:void 0,opacity:1,background:null,backgroundOpacity:1,backgroundCornerRadius:0,texture:null,textureColor:"black",textureSize:10,texturePadding:2,backgroundMode:"no-repeat",backgroundFit:!0,blur:0,cursor:null,html:null,react:null},Iwe),Rwe),Aat),Tat),Dwe={connectedType:"none",connectedStyle:{},connectedX:NaN,connectedY:NaN},Oat={_debug_bounds:!1},ms=Object.assign(Object.assign(Object.assign({strokeSeg:null,renderable:!0,pickable:!0,shadowGraphic:void 0,childrenPickable:!0,fillPickable:!0,strokePickable:!0,visible:!0,zIndex:0,layout:null,boundsPadding:0,renderStyle:"default",pickMode:"accurate",customPickShape:null,boundsMode:"accurate",keepDirIn3d:!0,shadowRootIdx:1,globalZIndex:1,globalCompositeOperation:"",overflow:"hidden"},Oat),Pat),Ya),Mat=Object.assign(Object.assign({},ms),{startAngle:0,endAngle:Vi,innerRadius:0,outerRadius:1,innerPadding:0,outerPadding:0,cornerRadius:0,padRadius:0,padAngle:0,cap:!1,forceShowCap:!1}),Iat=Object.assign(Object.assign(Object.assign({},ms),Dwe),{points:[],segments:[],curveType:"linear",clipRange:1,closePath:!1}),Rat=Object.assign(Object.assign({},ms),{radius:1,startAngle:0,endAngle:Vi}),Dat=Object.assign(Object.assign({},ms),{width:0,height:0,cornerRadius:0,path:[],clip:!1,visibleAll:!0,display:"relative",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"flex-start",alignContent:"flex-start",baseOpacity:1}),Lat=Object.assign(Object.assign({},ms),{path:"",width:0,height:0,cornerRadius:0,clip:!1}),Fat=Object.assign(Object.assign(Object.assign({},ms),Dwe),{points:[],segments:[],curveType:"linear",clipRange:1,clipRangeByDimension:"default",closePath:!1}),Bat=Object.assign(Object.assign({},ms),{path:new ba,customPath:()=>{Kn.getInstance().warn("")}}),$at=Object.assign(Object.assign({},ms),{points:[],cornerRadius:0,closePath:!0}),Nat=Object.assign(Object.assign({},ms),{width:0,height:0,x1:0,y1:0,strokeBoundsBuffer:0,cornerRadius:0});Object.assign(Object.assign({},ms),{width:0,height:0,x1:0,y1:0,cornerRadius:0,length:0});const jat=Object.assign(Object.assign({},ms),{symbolType:"circle",size:10,keepDirIn3d:!0}),Lwe=Object.assign(Object.assign(Object.assign({},ms),vf),{strokeBoundsBuffer:0,keepDirIn3d:!0}),Np=Object.assign(Object.assign(Object.assign({},ms),vf),{width:300,height:300,ellipsis:!0,wordBreak:"break-word",verticalDirection:"top",textAlign:"left",textBaseline:"top",layoutDirection:"horizontal",textConfig:[],disableAutoWrapLine:!1,maxHeight:void 0,maxWidth:void 0,singleLine:!1}),bT=Object.assign(Object.assign({repeatX:"no-repeat",repeatY:"no-repeat",image:"",width:0,height:0},ms),{fill:!0,cornerRadius:0}),zat=Object.assign(Object.assign({},bT),{backgroundShowMode:"never",backgroundWidth:0,backgroundHeight:0,textAlign:"left",textBaseline:"middle",direction:"horizontal",margin:0,id:"",width:20,height:20,backgroundFill:"rgba(101, 117, 168, 0.1)",backgroundFillOpacity:1,backgroundStroke:!1,backgroundStrokeOpacity:1,backgroundRadius:4,opacity:1});class Hat{}const Ne=new Hat,QK={horizontal:{width:"width",height:"height",left:"left",top:"top",x:"x",y:"y",bottom:"bottom"},vertical:{width:"height",height:"width",left:"top",top:"left",x:"y",y:"x",bottom:"right"}},Fwe={fontSize:16,fontFamily:"sans-serif",fill:!0,stroke:!1,fontWeight:"normal",lineHeight:"normal",fontStyle:"normal",textDecoration:"none",textAlign:"left",script:"normal"},Jae=/\w|\(|\)|-/,Vat=/[.?!,;:/]/,Wat=/\S/;function Uat(i,e){const t=e&&e.fill||Fwe.fill;if(!t)return void(i.globalAlpha=0);const{fillOpacity:n=1,opacity:r=1}=e;i.globalAlpha=n*r,i.fillStyle=t;let s=e.fontSize||16;switch(e.script){case"super":case"sub":s*=.8}i.setTextStyle({textAlign:"left",textBaseline:e.textBaseline||"alphabetic",fontStyle:e.fontStyle||"",fontWeight:e.fontWeight||"",fontSize:s,fontFamily:e.fontFamily||"sans-serif"})}function Gat(i,e){const t=e&&e.stroke||Fwe.stroke;if(!t)return void(i.globalAlpha=0);const{strokeOpacity:n=1,opacity:r=1}=e;i.globalAlpha=n*r,i.lineWidth=e&&typeof e.lineWidth=="number"?e.lineWidth:1,i.strokeStyle=t;let s=e.fontSize||16;switch(e.script){case"super":case"sub":s*=.8}i.setTextStyle({textAlign:"left",textBaseline:e.textBaseline||"alphabetic",fontStyle:e.fontStyle||"",fontWeight:e.fontWeight||"",fontSize:s,fontFamily:e.fontFamily||"sans-serif"})}function JV(i,e,t,n,r){if(!e||e<=0)return 0;const s=Ne.graphicUtil.textMeasure;let a=n,o=i.slice(0,a),l=Math.floor(s.measureText(o,t).width),u=i.slice(0,a+1),c=Math.floor(s.measureText(u,t).width);for(;l>e||c<=e;){if(l>e?a--:a++,a>i.length){a=i.length;break}if(a<0){a=0;break}o=i.slice(0,a),l=Math.floor(s.measureText(o,t).width),u=i.slice(0,a+1),c=Math.floor(s.measureText(u,t).width)}return r&&(a=z3(i,a)),a}function z3(i,e){let t=e;for(;Jae.test(i[t-1])&&Jae.test(i[t])||Vat.test(i[t]);)if(t--,t<=0)return e;return t}function ES(i,e){const t=Ne.graphicUtil.textMeasure.measureText(i,e),n={ascent:0,height:0,descent:0,width:0};return typeof t.actualBoundingBoxAscent!="number"||typeof t.actualBoundingBoxDescent!="number"?(n.width=Math.floor(t.width),n.height=e.fontSize||0,n.ascent=n.height,n.descent=0):(n.width=Math.floor(t.width),n.height=Math.floor(t.actualBoundingBoxAscent+t.actualBoundingBoxDescent),n.ascent=Math.floor(t.actualBoundingBoxAscent),n.descent=n.height-n.ascent),n}var Yat=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let e5=class{configure(i,e){this.canvas=i.canvas,this.context=i.context,i.bindTextMeasure(this)}measureTextWidth(i,e){return this.context?(this.context.setTextStyleWithoutAlignBaseline(e),this.context.measureText(i).width):this.estimate(i,e).width}estimate(i,{fontSize:e=Lwe.fontSize}){let t=0,n=0;for(let r=0;r<i.length;r++)i.charCodeAt(r)<128?t++:n++;return{width:~~(.8*t*e+n*e),height:e}}measureTextPixelHeight(i,e){var t;if(!this.context)return(t=e.fontSize)!==null&&t!==void 0?t:vf.fontSize;this.context.setTextStyleWithoutAlignBaseline(e);const n=this.context.measureText(i);return Math.abs(n.actualBoundingBoxAscent-n.actualBoundingBoxDescent)}measureTextBoundHieght(i,e){var t;if(!this.context)return(t=e.fontSize)!==null&&t!==void 0?t:vf.fontSize;this.context.setTextStyleWithoutAlignBaseline(e);const n=this.context.measureText(i);return Math.abs(n.fontBoundingBoxAscent-n.fontBoundingBoxDescent)}measureText(i,e){return this.context?(this.context.setTextStyleWithoutAlignBaseline(e),this.context.measureText(i)):this.estimate(i,e)}clipTextVertical(i,e,t,n){if(i.length===0)return{verticalList:i,width:0};const{fontSize:r=12}=e;i.forEach(l=>{l.width=l.direction===0?r:this.measureTextWidth(l.text,e)});const s=[];let a=0,o=0;for(;o<i.length&&a+i[o].width<t;o++)a+=i[o].width,s.push(i[o]);if(i[o]&&i[o].text.length>1){const l=this._clipText(i[o].text,e,t-a,0,i[o].text.length-1,"end",!1);if(n&&l.str!==i[o].text){let u="",c=0;for(let p=0;p<o;p++){const f=i[p];u+=f.text,c+=f.text.length}u+=i[o].text;const d=c+l.str.length;let h=z3(u,d);h-=c,h!==l.str.length-1&&(l.str=l.str.substring(0,h),l.width=this.measureTextWidth(l.str,e))}s.push(Object.assign(Object.assign({},i[o]),{text:l.str,width:l.width})),a+=l.width}return{verticalList:s,width:a}}clipText(i,e,t,n){if(i.length===0)return{str:"",width:0};let r=this.measureTextWidth(i,e);if(r<=t)return{str:i,width:r};if(r=this.measureTextWidth(i[0],e),r>t)return{str:"",width:0};const s=this._clipText(i,e,t,0,i.length-1,"end",!1);if(n&&s.str!==i){const a=z3(i,s.str.length);a!==s.str.length&&(s.str=i.substring(0,a),s.width=this.measureTextWidth(s.str,e))}return s}_clipText(i,e,t,n,r,s,a){let o;if(s==="start")o=this._clipTextStart(i,e,t,n,r),a&&(o.result=a+o.str);else if(s==="middle"){const l=this._clipTextMiddle(i,e,t,"","",0,0,1);o={str:"none",width:l.width,result:l.left+a+l.right}}else o=this._clipTextEnd(i,e,t,n,r),a&&(o.result=o.str+a);return o}_clipTextEnd(i,e,t,n,r){const s=Math.floor((n+r)/2),a=i.substring(0,s+1),o=this.measureTextWidth(a,e);let l;if(o>t){if(a.length<=1)return{str:"",width:0};const u=i.substring(0,s);return l=this.measureTextWidth(u,e),l<=t?{str:u,width:l}:this._clipTextEnd(i,e,t,n,s)}if(o<t){if(s>=i.length-1)return{str:i,width:this.measureTextWidth(i,e)};const u=i.substring(0,s+2);return l=this.measureTextWidth(u,e),l>=t?{str:a,width:o}:this._clipTextEnd(i,e,t,s,r)}return{str:a,width:o}}_clipTextStart(i,e,t,n,r){const s=Math.ceil((n+r)/2),a=i.substring(s-1,i.length-1),o=this.measureTextWidth(a,e);let l;if(o>t){if(a.length<=1)return{str:"",width:0};const u=i.substring(s,i.length-1);return l=this.measureTextWidth(u,e),l<=t?{str:u,width:l}:this._clipTextStart(i,e,t,s,i.length-1)}if(o<t){if(s<=0)return{str:i,width:this.measureTextWidth(i,e)};const u=i.substring(s-2,i.length-1);return l=this.measureTextWidth(u,e),l>=t?{str:a,width:o}:this._clipTextStart(i,e,t,n,s)}return{str:a,width:o}}_clipTextMiddle(i,e,t,n,r,s,a,o){const l=i.substring(0,o),u=this.measureTextWidth(l,e);if(u+a>t)return{left:n,right:r,width:s+a};const c=i.substring(i.length-o,i.length),d=this.measureTextWidth(c,e);return u+d>t?{left:l,right:r,width:u+a}:this._clipTextMiddle(i,e,t,l,c,u,d,o+1)}clipTextWithSuffixVertical(i,e,t,n,r,s){if(n==="")return this.clipTextVertical(i,e,t,r);if(i.length===0)return{verticalList:i,width:0};const a=this.clipTextVertical(i,e,t,r);if(a.verticalList.length===i.length&&a.verticalList[a.verticalList.length-1].width===i[i.length-1].width)return a;const o=this.measureTextWidth(n,e);if(o>t)return a;let l;if(t-=o,s==="start"){const u=this.revertVerticalList(i);l=this.clipTextVertical(u,e,t,r);const c=this.revertVerticalList(l.verticalList);c.unshift({text:n,direction:1,width:o}),l.verticalList=c}else if(s==="middle"){const u=this.clipTextVertical(i,e,t/2,r),c=this.revertVerticalList(i),d=this.clipTextVertical(c,e,t/2,r);u.verticalList.push({text:n,direction:1,width:o}),this.revertVerticalList(d.verticalList).forEach(h=>u.verticalList.push(h)),l={verticalList:u.verticalList,width:u.width+d.width}}else l=this.clipTextVertical(i,e,t,r),l.verticalList.push({text:n,direction:1,width:o});return l.width+=o,l}revertVerticalList(i){return i.reverse().map(e=>{const t=e.text.split("").reverse().join("");return Object.assign(Object.assign({},e),{text:t})})}clipTextWithSuffix(i,e,t,n,r,s,a=!1){if(n==="")return this.clipText(i,e,t,r);if(i.length===0)return{str:"",width:0};const o=this.measureTextWidth(i,e);if(!a&&o<=t)return{str:i,width:o};const l=this.measureTextWidth(n,e);if(l>t)return{str:"",width:0};if(a&&o+l<=t)return{str:i+n,width:o+l};t-=l;const u=this._clipText(i,e,t,0,i.length-1,s,n);if(r&&u.str!==i){const c=z3(i,u.str.length);c!==u.str.length&&(u.result=i.substring(0,c),u.width=this.measureTextWidth(u.str,e))}else a&&u.str===i&&(u.result=i+n);return u.str=u.result,u.width+=l,u}};e5=Yat([Tt()],e5);var Kat=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};const t5=Symbol.for("TextMeasureContribution");let i5=class extends e5{};i5=Kat([Tt()],i5);const gi=new eat,Bwe=Symbol.for("CanvasFactory"),Xat=Symbol.for("Context2dFactory");function CD(i){return gi.getNamed(Bwe,Ne.global.env)(i)}class qat{constructor(){this.pools=[],this.allocatedCanvas=[]}shareCanvas(){return this.allocatedCanvas.length?this.allocatedCanvas[0]:this.getCommonCanvas()}getCommonCanvas(){return this._commonCanvas||(this._commonCanvas=this.allocate({width:100,height:100,dpr:2})),this._commonCanvas}allocate(e){if(!this.pools.length){const n=CD(Object.assign({nativeCanvas:Ne.global.createCanvas(e)},e));return this.allocatedCanvas.push(n),n}const t=this.pools.pop();return t.resize(e.width,e.height),t.dpr=e.dpr,t}allocateByObj(e){if(!this.pools.length){const n={width:e.width/e.dpr,height:e.height/e.dpr,dpr:e.dpr},r=CD(Object.assign({nativeCanvas:Ne.global.createCanvas(n)},n));return this.allocatedCanvas.push(r),r}const t=this.pools.pop();return t.width=e.width,t.height=e.height,t}free(e){this.pools.push(e)}get length(){return this.pools.length}release(...e){this.pools=[]}}const Wx=new qat;var Zat=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Qat=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};const kD=Symbol.for("VWindow"),JK=Symbol.for("WindowHandlerContribution");let n5=class{get width(){if(this._handler){const i=this._handler.getWH();return this._width=i.width}return this._width}get height(){if(this._handler){const i=this._handler.getWH();return this._height=i.height}return this._height}get dpr(){return this._handler.getDpr()}constructor(){this.hooks={onChange:new Ec(["x","y","width","height"])},this.active=()=>{const i=this.global;!i.env||this.actived||(gi.getNamed(JK,i.env).configure(this,i),this.actived=!0)},this._uid=Xs.GenAutoIncrementId(),this.global=Ne.global,this.postInit()}postInit(){this.global.hooks.onSetEnv.tap("window",this.active),this.active()}get style(){var i;return(i=this._handler.getStyle())!==null&&i!==void 0?i:{}}set style(i){this._handler.setStyle(i)}create(i){var e,t;this._handler.createWindow(i);const n=this._handler.getWH();this._width=n.width,this._height=n.height,i.viewBox?this.setViewBox(i.viewBox):i.canvasControled!==!1?this.setViewBox({x1:0,y1:0,x2:this._width,y2:this._height}):this.setViewBox({x1:0,y1:0,x2:(e=i.width)!==null&&e!==void 0?e:this._width,y2:(t=i.height)!==null&&t!==void 0?t:this._height}),this.title=this._handler.getTitle(),this.resizable=!0}setWindowHandler(i){this._handler=i}setDpr(i){return this._handler.setDpr(i)}resize(i,e){return this._handler.resizeWindow(i,e)}configure(){throw new Error("")}release(){return this.global.hooks.onSetEnv.unTap("window",this.active),this._handler.releaseWindow()}getContext(){return this._handler.getContext()}getNativeHandler(){return this._handler.getNativeHandler()}getImageBuffer(i){return this._handler.getImageBuffer?this._handler.getImageBuffer(i):null}addEventListener(i,e,t){return this._handler.addEventListener(i,e,t)}removeEventListener(i,e,t){return this._handler.removeEventListener(i,e,t)}dispatchEvent(i){return this._handler.dispatchEvent(i)}getBoundingClientRect(){return this._handler.getBoundingClientRect()}getContainer(){return this._handler.container}clearViewBox(i){this._handler.clearViewBox(i)}setViewBox(i){this._handler.setViewBox(i)}setViewBoxTransform(i,e,t,n,r,s){this._handler.setViewBoxTransform(i,e,t,n,r,s)}getViewBox(){return this._handler.getViewBox()}getViewBoxTransform(){return this._handler.getViewBoxTransform()}pointTransform(i,e){const t=this._handler.getViewBox(),n={x:i,y:e};return this._handler.getViewBoxTransform().transformPoint({x:i,y:e},n),n.x-=t.x1,n.y-=t.y1,n}hasSubView(){const i=this._handler.getViewBox();return!(i.x1===0&&i.y1===0&&this.width===i.width()&&this.height===i.height())}isVisible(i){return this._handler.isVisible(i)}onVisibleChange(i){return this._handler.onVisibleChange(i)}getTopLeft(i){return this._handler.getTopLeft(i)}};n5=Zat([Tt(),Qat("design:paramtypes",[])],n5);var $we=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Nwe=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},eoe=function(i,e){return function(t,n){e(t,n,i)}};let r5=class{get canvas(){return this.tryInitCanvas(),this._canvas}get context(){return this.tryInitCanvas(),this._context}constructor(i){this.contributions=i,this.configured=!1,this.global=Ne.global,this.global.hooks.onSetEnv.tap("graphic-util",(e,t,n)=>{this.configured=!1,this.configure(n,t)})}get textMeasure(){return this._textMeasure||this.configure(this.global,this.global.env),this._textMeasure}configure(i,e){this.configured||(this.contributions.getContributions().forEach(t=>{t.configure(this,e)}),this.configured=!0)}tryInitCanvas(){if(!this._canvas){const i=Wx.shareCanvas();this._canvas=i,this._context=i.getContext("2d")}}bindTextMeasure(i){this._textMeasure=i}measureText(i,e,t="native"){var n;this.configure(this.global,this.global.env);const r=this.global.measureTextMethod;this.global.measureTextMethod=t;const s={width:this._textMeasure.measureTextWidth(i,e),height:(n=e.fontSize)!==null&&n!==void 0?n:vf.fontSize};return this.global.measureTextMethod=r,s}createTextMeasureInstance(i,e,t){return this.configure(this.global,this.global.env),new Sl(Object.assign({defaultFontParams:{fontFamily:vf.fontFamily,fontSize:vf.fontSize},getCanvasForMeasure:t||(()=>this.canvas),getTextBounds:void 0,specialCharSet:`-/: .,@%'"~`+Sl.ALPHABET_CHAR_SET+Sl.ALPHABET_CHAR_SET.toUpperCase()},e??{}),i)}drawGraphicToCanvas(i,e,t){if(!e.defaultLayer)return null;const n=gi.get(kD),r=i.AABBBounds,s=r.width(),a=r.height(),o=-r.x1,l=-r.y1;n.create({viewBox:{x1:o,y1:l,x2:r.x2,y2:r.y2},width:s,height:a,canvas:t,dpr:e.window.dpr,canvasControled:!0,offscreen:!0,title:""});const u=e.params.optimize.disableCheckGraphicWidthOutRange;e.params.optimize.disableCheckGraphicWidthOutRange=!0,e.defaultLayer.getNativeHandler().drawTo(n,[i],{transMatrix:n.getViewBoxTransform(),viewBox:n.getViewBox(),stage:e,layer:e.defaultLayer,renderService:e.renderService,background:"transparent",clear:!0,updateBounds:!1}),e.params.optimize.disableCheckGraphicWidthOutRange=u;const c=n.getNativeHandler();return c.nativeCanvas?c.nativeCanvas:null}};r5=$we([Tt(),eoe(0,Fi(Ca)),eoe(0,eo(t5)),Nwe("design:paramtypes",[Object])],r5);var rv;(function(i){i[i.transform=0]="transform",i[i.matrix=1]="matrix"})(rv||(rv={}));const fa=new gs;let s5=class{constructor(){this.matrix=new gs}init(i){return this.mode=rv.transform,this.originTransform=i,this.matrix.reset(),this}fromMatrix(i,e){return this.mode=rv.matrix,this.outSourceMatrix=i,this.outTargetMatrix=e,this}scaleMatrix(i,e,t){const n=this.outSourceMatrix;if(fa.setValue(n.a,n.b,n.c,n.d,n.e,n.f),this.outTargetMatrix.reset(),t){const{x:r,y:s}=t;this.outTargetMatrix.translate(r,s),this.outTargetMatrix.scale(i,e),this.outTargetMatrix.translate(-r,-s)}else this.outTargetMatrix.scale(i,e);return this.outTargetMatrix.multiply(fa.a,fa.b,fa.c,fa.d,fa.e,fa.f),this}rotateMatrix(i,e){const t=this.outSourceMatrix;if(fa.setValue(t.a,t.b,t.c,t.d,t.e,t.f),this.outTargetMatrix.reset(),e){const{x:n,y:r}=e;this.outTargetMatrix.translate(n,r),this.outTargetMatrix.rotate(i),this.outTargetMatrix.translate(-n,-r)}else this.outTargetMatrix.rotate(i);return this.outTargetMatrix.multiply(fa.a,fa.b,fa.c,fa.d,fa.e,fa.f),this}scale(i,e,t){return this.mode===rv.matrix?this.scaleMatrix(i,e,t):this}rotate(i,e){return this.mode===rv.matrix?this.rotateMatrix(i,e):this}translateMatrix(i,e){const t=this.outSourceMatrix;return fa.setValue(t.a,t.b,t.c,t.d,t.e,t.f),this.outTargetMatrix.reset(),this.outTargetMatrix.translate(i,e),this.outTargetMatrix.multiply(fa.a,fa.b,fa.c,fa.d,fa.e,fa.f),this}translate(i,e){return this.mode===rv.matrix?this.translateMatrix(i,e):this}simplify(i){return this.mode===rv.matrix?this.simplifyMatrix(i):this}simplifyMatrix(i){return this}};s5=$we([Tt(),Nwe("design:paramtypes",[])],s5);const Ul={arc:Mat,area:Iat,circle:Rat,line:Fat,path:Bat,symbol:jat,text:Lwe,rect:Nat,polygon:$at,richtext:Np,richtextIcon:zat,image:bT,group:Dat,glyph:Lat},k7=Object.keys(Ul);function Jat(){return{arc:Object.assign({},Ul.arc),area:Object.assign({},Ul.area),circle:Object.assign({},Ul.circle),line:Object.assign({},Ul.line),path:Object.assign({},Ul.path),symbol:Object.assign({},Ul.symbol),text:Object.assign({},Ul.text),rect:Object.assign({},Ul.rect),polygon:Object.assign({},Ul.polygon),richtext:Object.assign({},Ul.richtext),richtextIcon:Object.assign({},Ul.richtextIcon),image:Object.assign({},Ul.image),group:Object.assign({},Ul.group),glyph:Object.assign({},Ul.glyph)}}function hI(i,e){Object.keys(e).forEach(t=>{i[t]=e[t]})}const toe=Jat();let ST=class{constructor(){this.initTheme(),this.dirty=!1}initTheme(){this._defaultTheme={},k7.forEach(e=>{this._defaultTheme[e]=Object.create(toe[e])}),this.combinedTheme=this._defaultTheme}getTheme(e){if(!e)return this.combinedTheme;if(!this.dirty)return this.combinedTheme;let t={};const n=this.getParentWithTheme(e);return n&&(t=n.theme),this.applyTheme(e,t),this.combinedTheme}getParentWithTheme(e){for(;e.parent;)if((e=e.parent).theme)return e;return null}applyTheme(e,t,n=!1){if(this.dirty){const r=this.getParentWithTheme(e);if(r){const s=r.theme;(s.dirty||n)&&s.applyTheme(r,t,!0)}this.userTheme?this.doCombine(r&&r.theme.combinedTheme):(r?this.combinedTheme=r.theme.combinedTheme:(this.combinedTheme=this._defaultTheme,Kn.getInstance().warn("")),this.dirty=!1)}return this.combinedTheme}doCombine(e){const t=this.userTheme,n=this.combinedTheme;k7.forEach(r=>{const s=Object.create(toe[r]);e&&e[r]&&hI(s,e[r]),n[r]&&hI(s,n[r]),t[r]&&hI(s,t[r]),this.combinedTheme[r]=s}),t.common&&k7.forEach(r=>{hI(this.combinedTheme[r],t.common)}),this.dirty=!1}setTheme(e,t){let n=this.userTheme;n?Object.keys(e).forEach(r=>{n[r]?Object.assign(n[r],e[r]):n[r]=Object.assign({},e[r])}):n=e,this.userTheme=n,this.dirty=!0,this.dirtyChildren(t)}resetTheme(e,t){this.userTheme=e,this.dirty=!0,this.dirtyChildren(t)}dirtyChildren(e){e.forEachChildren(t=>{t.isContainer&&(t.theme&&(t.theme.dirty=!0),this.dirtyChildren(t))})}};const jwe=new ST;function qe(i,e){return i.glyphHost?qe(i.glyphHost):e?(i.isContainer,e):eot(i)||i.attachedThemeGraphic&&qe(i.attachedThemeGraphic)||jwe.getTheme()}function eot(i){let e;if(e=i.isContainer?i:i.parent,e){for(;e&&!e.theme;)e=e.parent;return e?(e.theme||e.createTheme(),e.theme.getTheme(e)):jwe.getTheme()}return null}var tot=function(i,e,t,n){return new(t||(t=Promise))(function(r,s){function a(u){try{l(n.next(u))}catch(c){s(c)}}function o(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((n=n.apply(i,e||[])).next())})};class iot extends gb{get previousSibling(){return this._prev}get nextSibling(){return this._next}get children(){return this.getChildren()}get firstChild(){return this._firstChild}get lastChild(){return this._lastChild}get count(){return this._count}get childrenCount(){return this._idMap?this._idMap.size:0}constructor(){super(),this._uid=Xs.GenAutoIncrementId(),this._firstChild=null,this._lastChild=null,this.parent=null,this._count=1}forEachChildren(e,t=!1){if(t){let n=this._lastChild,r=0;for(;n;){if(e(n,r++))return;n=n._prev}}else{let n=this._firstChild,r=0;for(;n;){if(e(n,r++))return;n=n._next}}}forEachChildrenAsync(e,t=!1){return tot(this,void 0,void 0,function*(){if(t){let n=this._lastChild,r=0;for(;n;){let s=e(n,r++);if(s.then&&(s=yield s),s)return;n=n._prev}}else{let n=this._firstChild,r=0;for(;n;){let s=e(n,r++);if(s.then&&(s=yield s),s)return;n=n._next}}})}forEach(e){return this.forEachChildren(e)}appendChild(e,t=!0){if(this._uid===e._uid)return null;if(!t&&e.isAncestorsOf(this))throw new Error("Node::appendChildappend");return e.parent&&e.parent.removeChild(e),e.parent=this,this._lastChild?(this._lastChild._next=e,e._prev=this._lastChild,this._lastChild=e):(this._firstChild=this._lastChild=e,e._prev=e._next=null),this._idMap||(this._idMap=new Map),this._idMap.set(e._uid,e),this.setCount(e.count),this._structEdit=!0,e}appendChildArrHighPerformance(e,t=!1){return console.error(""),e}insertBefore(e,t){if(!t)return this.appendChild(e);if(this._uid===e._uid)return null;if(e.isAncestorsOf(this))throw new Error("Node::insertBeforeinsert");return t.parent!==this?null:(e.parent&&e.parent.removeChild(e),e.parent=this,e._prev=t._prev,t._prev?t._prev._next=e:this._firstChild=e,t._prev=e,e._next=t,this._idMap||(this._idMap=new Map),this._idMap.set(e._uid,e),this._structEdit=!0,this.setCount(e.count),e)}insertAfter(e,t){if(!t)return this.appendChild(e);if(this._uid===e._uid)return null;if(e.isAncestorsOf(this))throw new Error("Node::insertAfterinsert");return t.parent!==this?null:(e.parent&&e.parent.removeChild(e),e.parent=this,t._next?(t._next._prev=e,e._next=t._next):this._lastChild=e,t._next=e,e._prev=t,this._idMap||(this._idMap=new Map),this._idMap.set(e._uid,e),this._structEdit=!0,this.setCount(e.count),e)}insertInto(e,t){if(!this._ignoreWarn&&this._nodeList&&Kn.getInstance().warn("insertIntoKeepIdxinsertInto"),t>=this.childrenCount)return this.appendChild(e);if(this._uid===e._uid)return null;if(e.isAncestorsOf(this))throw new Error("Node::insertBeforeinsert");if(e.parent&&e.parent.removeChild(e),e.parent=this,t===0)e._next=this._firstChild,this._firstChild&&(this._firstChild._prev=e),e._prev=null,this._firstChild=e;else{let n=this._firstChild;for(let r=0;r<t;r++){if(!n)return null;r>0&&(n=n._next)}if(!n)return null;e._next=n._next,e._prev=n,n._next=e,e._next&&(e._next._prev=e)}return this._idMap||(this._idMap=new Map),this._idMap.set(e._uid,e),this._structEdit=!0,this.setCount(e.count),e}insertIntoKeepIdx(e,t){if(this._nodeList||(this._nodeList=this.children),this._nodeList[t]){const s=this._nodeList[t];return this._nodeList.splice(t,0,e),this.insertBefore(e,s)}let n;this._nodeList[t]=e;for(let s=t-1;s>=0&&(n=this._nodeList[s],!n);s--);if(n)return n._next?this.insertBefore(e,n._next):this.appendChild(e);this._ignoreWarn=!0;const r=this.insertInto(e,0);return this._ignoreWarn=!1,r}removeChild(e){if(!this._idMap||!this._idMap.has(e._uid))return null;if(this._idMap.delete(e._uid),this._nodeList){const t=this._nodeList.findIndex(n=>n===e);t>=0&&this._nodeList.splice(t,1)}return e._prev?e._prev._next=e._next:this._firstChild=e._next,e._next?e._next._prev=e._prev:this._lastChild=e._prev,e.parent=null,e._prev=null,e._next=null,this._structEdit=!0,this.setCount(-e.count),e}delete(){this.parent&&this.parent.removeChild(this)}removeAllChild(e){if(!this._idMap)return;this._nodeList&&(this._nodeList.length=0);let t=this._firstChild;for(;t;){const n=t._next;t.parent=null,t._prev=null,t._next=null,t=t._next,t=n}this._firstChild=null,this._lastChild=null,this._idMap.clear(),this._structEdit=!0,this.setCount(1-this._count)}replaceChild(e,t){throw new Error("")}find(e,t=!1){let n=null;return this.forEachChildren((r,s)=>!(r===this||!e(r,s))&&(n=r,!0)),t&&this.forEachChildren(r=>{if(r.isContainer){const s=r.find(e,!0);if(s)return n=s,!0}return!1}),n}findAll(e,t=!1){let n=[];return this.forEachChildren((r,s)=>{r!==this&&e(r,s)&&n.push(r)}),t&&this.forEachChildren(r=>{if(r.isContainer){const s=r.findAll(e,!0);s.length&&(n=n.concat(s))}}),n}getElementById(e){return this.find(t=>t.id===e,!0)}findChildById(e){return this.getElementById(e)}findChildByUid(e){return this._idMap&&this._idMap.get(e)||null}getElementsByName(e){return this.findAll(t=>t.name===e,!0)}findChildrenByName(e){return this.getElementsByName(e)}getElementsByType(e){return this.findAll(t=>t.type===e,!0)}getChildByName(e,t=!1){return this.find(n=>n.name===e,t)}getChildAt(e){let t=this._firstChild;if(!t)return null;for(let n=0;n<e;n++){if(!t._next)return null;t=t._next}return t}at(e){return this.getChildAt(e)}containNode(e){if(!this._idMap)return!1;if(this._idMap.has(e._uid))return!0;let t=this._firstChild;for(;t;){if(t.containNode(e))return!0;t=t._next}return!1}getRootNode(){let e=this.parent;for(;e!=null&&e.parent;)e=e.parent;return e||this}hasChildNodes(){return this._firstChild!==null}addChild(e){return this.appendChild(e)}add(e){return this.appendChild(e)}getChildren(){const e=[];let t=this._firstChild;for(;t;)e.push(t),t=t._next;return e}isChildOf(e){return!!this.parent&&this.parent._uid===e._uid}isParentOf(e){return e.isChildOf(this)}isDescendantsOf(e){let t=this.parent;if(!t)return!1;do{if(t._uid===e._uid)return!0;t=t.parent}while(t!==null);return!1}isAncestorsOf(e){return e.isDescendantsOf(this)}getAncestor(e){throw new Error("")}setAllDescendantsProps(e,t){let n=this._firstChild;for(;n;)n[e]=t,n.setAllDescendantsProps(e,t),n=n._next}setCount(e){this._count+=e;let t=this.parent;if(t)do t._count+=e,t=t.parent;while(t!==null)}clone(){throw new Error("")}cloneTo(e){throw new Error("")}getParent(){return this.parent}del(e){return this.removeChild(e)}addEventListener(e,t,n){const r=Ir(n,!0)&&n||yi(n)&&n.capture,s=yi(n)&&n.once,a=Pe(t)?void 0:t;return e=r?`${e}capture`:e,t=Pe(t)?t:t.handleEvent,s?super.once(e,t,a):super.on(e,t,a),this}on(e,t,n){return this.addEventListener(e,t,n)}removeEventListener(e,t,n){const r=Ir(n,!0)&&n||yi(n)&&n.capture,s=Pe(t)?void 0:t;e=r?`${e}capture`:e,t=Pe(t)?t:t.handleEvent;const a=yi(n)&&n.once;return super.off(e,t,s,a),this}off(e,t,n){return this.removeEventListener(e,t,n)}once(e,t,n){return yi(n)?(n.once=!0,this.addEventListener(e,t,n)):this.addEventListener(e,t,{once:!0})}removeAllEventListeners(){return super.removeAllListeners(),this}removeAllListeners(){return this.removeAllEventListeners()}dispatchEvent(e,...t){return super.emit(e.type,e,...t),!e.defaultPrevented}emit(e,t){return this.dispatchEvent(e,t)}release(){this.removeAllListeners()}}class Q2{get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get x(){return this.canvas.x}get y(){return this.canvas.y}get canvasX(){return this.canvas.x}get canvasY(){return this.canvas.y}get viewX(){return this.viewport.x}get viewY(){return this.viewport.y}constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Q2.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer={x:0,y:0},this.page={x:0,y:0},this.canvas={x:0,y:0},this.viewport={x:0,y:0},this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}composedPath(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.composedDetailPath(),this.path}composedDetailPath(){return this.pickParams&&this.pickParams.graphic?(this.detailPath=this.path.slice(),this._composedDetailPath(this.pickParams)):this.detailPath=this.path.slice(),this.detailPath}_composedDetailPath(e){if(e&&e.graphic){const t=this.pickParams.graphic;if(t.stage){const n=t.stage.eventSystem.manager.propagationPath(t);this.detailPath.push(n),this._composedDetailPath(e.params)}}}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.stopPropagation(),this.propagationStopped=!0}initEvent(){}initUIEvent(){}clone(){throw new Error("Method not implemented.")}}class ED extends Q2{constructor(){super(...arguments),this.client={x:0,y:0},this.movement={x:0,y:0},this.offset={x:0,y:0},this.global={x:0,y:0},this.screen={x:0,y:0}}get clientX(){return this.client.x}get clientY(){return this.client.y}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,n,r,s,a,o,l,u,c,d,h,p,f,g){throw new Error("Method not implemented.")}}class xc extends ED{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}clone(){var e,t,n;const r=new xc(this.manager);r.eventPhase=r.NONE,r.currentTarget=null,r.path=[],r.detailPath=[],r.target=null,r.nativeEvent=this.nativeEvent,r.originalEvent=this.originalEvent,(e=this.manager)===null||e===void 0||e.copyPointerData(this,r),(t=this.manager)===null||t===void 0||t.copyMouseData(this,r),(n=this.manager)===null||n===void 0||n.copyData(this,r),r.target=this.target,r.path=this.composedPath().slice();const s=this.composedDetailPath();return r.detailPath=s&&s.slice(),r.type=this.type,r}}class Vv extends ED{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}clone(){var e,t,n;const r=new Vv(this.manager);r.eventPhase=r.NONE,r.currentTarget=null,r.path=[],r.detailPath=[],r.target=null,r.nativeEvent=this.nativeEvent,r.originalEvent=this.originalEvent,(e=this.manager)===null||e===void 0||e.copyWheelData(this,r),(t=this.manager)===null||t===void 0||t.copyMouseData(this,r),(n=this.manager)===null||n===void 0||n.copyData(this,r),r.target=this.target,r.path=this.composedPath().slice();const s=this.composedDetailPath();return r.detailPath=s&&s.slice(),r.type=this.type,r}}Vv.DOM_DELTA_PIXEL=0,Vv.DOM_DELTA_LINE=1,Vv.DOM_DELTA_PAGE=2;class FB extends Q2{constructor(e,t){super(),this.type=e,this.detail=t}}const zwe="*",Ky=typeof performance=="object"&&performance.now?performance:Date;function zm(i){return i==="mouse"||i==="pen"}class not{constructor(e,t){this.dispatch=new gb,this.cursorTarget=null,this.pauseNotify=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.onPointerDown=(n,r)=>{if(!(n instanceof xc))return void Kn.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const s=this.createPointerEvent(n,n.type,r);if(this.dispatchEvent(s,"pointerdown"),s.pointerType==="touch")this.dispatchEvent(s,"touchstart");else if(zm(s.pointerType)){const a=s.button===2;this.dispatchEvent(s,a?"rightdown":"mousedown")}this.trackingData(n.pointerId).pressTargetsByButton[n.button]=s.composedPath(),this.freeEvent(s)},this.onPointerMove=(n,r)=>{var s,a;if(!(n instanceof xc))return void Kn.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const o=this.createPointerEvent(n,n.type,r),l=zm(o.pointerType),u=this.trackingData(n.pointerId),c=this.findMountedTarget(u.overTargets);if(u.overTargets&&c&&c!==this.rootTarget&&c!==o.target){const d=n.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(n,d,c||void 0);if(this.dispatchEvent(h,"pointerout"),l&&this.dispatchEvent(h,"mouseout"),!o.composedPath().includes(c)){const p=this.createPointerEvent(n,"pointerleave",c||void 0);for(p.eventPhase=p.AT_TARGET;p.target&&!o.composedPath().includes(p.target);)p.currentTarget=p.target,this.notifyTarget(p),l&&this.notifyTarget(p,"mouseleave"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(h)}if(c!==o.target){const d=n.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(o,d);this.dispatchEvent(h,"pointerover"),l&&this.dispatchEvent(h,"mouseover");let p=c==null?void 0:c.parent;for(;p&&p!==this.rootTarget.parent&&p!==o.target;)p=p.parent;if(!p||p===this.rootTarget.parent){const f=this.clonePointerEvent(o,"pointerenter");f.eventPhase=f.AT_TARGET;let g=f.target;const v=new Set;let m=c;for(;m&&m!==this.rootTarget;)v.add(m),m=m.parent;for(;g&&g!==c&&g!==this.rootTarget.parent;)v.has(g)||(f.currentTarget=g,this.notifyTarget(f),l&&this.notifyTarget(f,"mouseenter")),g=g.parent;this.freeEvent(f)}this.freeEvent(h)}this.dispatchEvent(o,"pointermove"),o.pointerType==="touch"&&this.dispatchEvent(o,"touchmove"),l&&(this.dispatchEvent(o,"mousemove"),this.cursorTarget=o.target,this.cursor=((a=(s=o.target)===null||s===void 0?void 0:s.attribute)===null||a===void 0?void 0:a.cursor)||this.rootTarget.getCursor()),u.overTargets=o.composedPath(),this.freeEvent(o)},this.onPointerOver=(n,r)=>{var s,a;if(!(n instanceof xc))return void Kn.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const o=this.trackingData(n.pointerId),l=this.createPointerEvent(n,n.type,r),u=zm(l.pointerType);this.dispatchEvent(l,"pointerover"),u&&this.dispatchEvent(l,"mouseover"),l.pointerType==="mouse"&&(this.cursorTarget=l.target,this.cursor=((a=(s=l.target)===null||s===void 0?void 0:s.attribute)===null||a===void 0?void 0:a.cursor)||this.rootTarget.getCursor());const c=this.clonePointerEvent(l,"pointerenter");for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==this.rootTarget.parent;)c.currentTarget=c.target,this.notifyTarget(c),u&&this.notifyTarget(c,"mouseenter"),c.target=c.target.parent;o.overTargets=l.composedPath(),this.freeEvent(l),this.freeEvent(c)},this.onPointerOut=(n,r)=>{if(!(n instanceof xc))return void Kn.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const s=this.trackingData(n.pointerId);if(s.overTargets){const a=zm(n.pointerType),o=this.findMountedTarget(s.overTargets),l=this.createPointerEvent(n,"pointerout",o||void 0);this.dispatchEvent(l),a&&this.dispatchEvent(l,"mouseout");const u=this.createPointerEvent(n,"pointerleave",o||void 0);for(u.eventPhase=u.AT_TARGET;u.target&&u.target!==this.rootTarget.parent;)u.currentTarget=u.target,this.notifyTarget(u),a&&this.notifyTarget(u,"mouseleave"),u.target=u.target.parent;s.overTargets=[],this.freeEvent(l),this.freeEvent(u)}this.cursorTarget=null,this.cursor=""},this.onPointerUp=(n,r)=>{var s;if(!(n instanceof xc))return void Kn.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const a=Ky.now(),o=this.createPointerEvent(n,n.type,r);if(this.dispatchEvent(o,"pointerup"),o.pointerType==="touch")this.dispatchEvent(o,"touchend");else if(zm(o.pointerType)){const d=o.button===2;this.dispatchEvent(o,d?"rightup":"mouseup")}const l=this.trackingData(n.pointerId),u=this.findMountedTarget(l.pressTargetsByButton[n.button]);let c=u;if(u&&!o.composedPath().includes(u)){let d=u;for(;d&&!o.composedPath().includes(d);){if(o.currentTarget=d,this.notifyTarget(o,"pointerupoutside"),o.pointerType==="touch")this.notifyTarget(o,"touchendoutside");else if(zm(o.pointerType)){const h=o.button===2;this.notifyTarget(o,h?"rightupoutside":"mouseupoutside")}d=d.parent}delete l.pressTargetsByButton[n.button],c=d}if(c){const d=this.clonePointerEvent(o,"click");d.target=c,d.path=[],d.detailPath=[],l.clicksByButton[n.button]||(l.clicksByButton[n.button]={clickCount:0,target:d.target,timeStamp:a});const h=l.clicksByButton[n.button];h.target===d.target&&a-h.timeStamp<((s=this._config.clickInterval)!==null&&s!==void 0?s:200)?++h.clickCount:h.clickCount=1,h.target=d.target,h.timeStamp=a,d.detail=h.clickCount,zm(d.pointerType)?(this.dispatchEvent(d,"click"),h.clickCount===2&&this.dispatchEvent(d,"dblclick")):d.pointerType==="touch"&&(this.dispatchEvent(d,"tap"),h.clickCount===2&&this.dispatchEvent(d,"dbltap")),this.dispatchEvent(d,"pointertap"),this.freeEvent(d)}this.freeEvent(o)},this.onPointerUpOutside=(n,r)=>{if(!(n instanceof xc))return void Kn.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const s=this.trackingData(n.pointerId),a=this.findMountedTarget(s.pressTargetsByButton[n.button]),o=this.createPointerEvent(n,n.type,r);if(a){let l=a;for(;l;)o.currentTarget=l,this.notifyTarget(o,"pointerupoutside"),o.pointerType==="touch"?this.notifyTarget(o,"touchendoutside"):zm(o.pointerType)&&this.notifyTarget(o,o.button===2?"rightupoutside":"mouseupoutside"),l=l.parent;delete s.pressTargetsByButton[n.button]}this.freeEvent(o)},this.onWheel=(n,r)=>{if(!(n instanceof Vv))return void Kn.getInstance().warn("EventManager cannot map a non-wheel event as a wheel event");const s=this.createWheelEvent(n,r);this.dispatchEvent(s),this.freeEvent(s)},this.rootTarget=e,this.mappingTable={},this._config=Object.assign({clickInterval:200},t),this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((n,r)=>n.priority-r.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){var t,n,r,s,a,o,l;if(!this.rootTarget)return;const u=this.mappingTable[e.type];let c;const d=`${e.canvasX}-${e.canvasY}`;if(!((t=this._prePointTargetCache)===null||t===void 0)&&t[d]&&(!((r=(n=this._prePointTargetCache)===null||n===void 0?void 0:n[d])===null||r===void 0)&&r.stage)&&((a=(s=this._prePointTargetCache)===null||s===void 0?void 0:s[d])===null||a===void 0?void 0:a.stage.renderCount)===((o=this._prePointTargetCache)===null||o===void 0?void 0:o.stageRenderCount)?c=this._prePointTargetCache[d]:(c=this.pickTarget(e.viewX,e.viewY,e),e.pickParams||(this._prePointTargetCache={[d]:c,stageRenderCount:(l=c==null?void 0:c.stage.renderCount)!==null&&l!==void 0?l:-1})),u)for(let h=0,p=u.length;h<p;h++)u[h].fn(e,c);else Kn.getInstance().warn(`[EventManager]: Event mapping not defined for ${e.type}`)}propagate(e,t){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let r=0,s=n.length-1;r<s;r++)if(e.currentTarget=n[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(let r=n.length-2;r>=0;r--)if(e.currentTarget=n[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}propagationPath(e){const t=[e];for(let n=0;n<2048&&e!==this.rootTarget&&e.parent;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}notifyTarget(e,t){if(this.pauseNotify)return;t=t??e.type;const n=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,n),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let n=1;n<e.length&&e[n].parent===t;n++)t=e[n];return t}createPointerEvent(e,t,n){var r,s;const a=this.allocateEvent(xc);return this.copyPointerData(e,a),this.copyMouseData(e,a),this.copyData(e,a),a.nativeEvent=e.nativeEvent,a.originalEvent=e,a.target=n||this.pickTarget((r=a.viewX)!==null&&r!==void 0?r:a.global.x,(s=a.viewY)!==null&&s!==void 0?s:a.global.y,a),typeof t=="string"&&(a.type=t),a}createWheelEvent(e,t){var n,r;const s=this.allocateEvent(Vv);return this.copyWheelData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=t||this.pickTarget((n=s.viewX)!==null&&n!==void 0?n:s.global.x,(r=s.viewY)!==null&&r!==void 0?r:s.global.y,s),s}clonePointerEvent(e,t){const n=this.allocateEvent(xc);n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice();const r=e.composedDetailPath();return n.detailPath=r&&r.slice(),n.type=t??n.type,n}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof xc&&t instanceof xc&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof ED&&t instanceof ED&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.ctrlKey=e.ctrlKey,t.shiftKey=e.shiftKey,t.metaKey=e.metaKey,["client","movement","canvas","screen","global","offset","viewport"].forEach(n=>{t[n].x=e[n].x,t[n].y=e[n].y}))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=Ky.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.x=e.layer.x,t.layer.y=e.layer.y,t.page.x=e.page.x,t.page.y=e.page.y,t.pickParams=e.pickParams}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){var t;this.eventPool.has(e)||this.eventPool.set(e,[]);const n=((t=this.eventPool.get(e))===null||t===void 0?void 0:t.pop())||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=[],n.detailPath=[],n.target=null,n}freeEvent(e){var t;if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventManager!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),(t=this.eventPool.get(n))===null||t===void 0||t.push(e)}notifyListeners(e,t){const n=e.currentTarget._events[t];if(n)if("fn"in n)n.once&&e.currentTarget.removeEventListener(t,n.fn,{once:!0}),n.fn.call(n.context,e);else for(let r=0,s=n.length;r<s&&!e.propagationImmediatelyStopped;r++)n[r].once&&e.currentTarget.removeEventListener(t,n[r].fn,{once:!0}),n[r].fn.call(n[r].context,e);this.emitDelegation(e,t)}emitDelegation(e,t){const n=e.currentTarget._events[zwe];if(n)if("fn"in n)n.fn.call(n.context,e,t);else for(let r=0,s=n.length;r<s&&!e.propagationImmediatelyStopped;r++)n[r].fn.call(n[r].context,e,t)}pickTarget(e,t,n){let r;const s=this.rootTarget.pick(e,t);return r=s&&s.graphic?s.graphic:s&&s.group?s.group:this.rootTarget.AABBBounds.contains(e,t)?this.rootTarget:null,n&&(n.pickParams=s.params),r}release(){this.dispatch.removeAllListeners(),this.eventPool.clear(),this.rootTarget=null,this.mappingTable=null,this.mappingState=null,this.cursorTarget=null}}const rot={dispatchEvent(i){var e;if(!(i instanceof Q2))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return i.defaultPrevented=!1,i.path=[],i.detailPath&&(i.detailPath=[]),i.target=this,(e=i==null?void 0:i.manager)===null||e===void 0||e.dispatchEvent(i),!i.defaultPrevented},emit(i,e){return this.dispatchEvent(new FB(i,e))}},sot={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class aot{constructor(e){this.resolution=1,this.onPointerDown=c=>{if(this.supportsTouchEvents&&c.pointerType==="touch")return;const d=this.normalizeToPointerData(c);this.autoPreventDefault&&d[0].isNormalized&&(c.cancelable||!("cancelable"in c))&&c.preventDefault();for(let h=0,p=d.length;h<p;h++){const f=d[h],g=this.bootstrapEvent(this.rootPointerEvent,f);this.manager.mapEvent(g)}this.setCursor(this.manager.cursor,this.manager.cursorTarget)},this.onPointerMove=c=>{if(this.supportsTouchEvents&&c.pointerType==="touch"||this.isEventOutsideOfTargetElement(c))return;const d=this.normalizeToPointerData(c);for(let h=0,p=d.length;h<p;h++){const f=this.bootstrapEvent(this.rootPointerEvent,d[h]);this.manager.mapEvent(f)}this.setCursor(this.manager.cursor,this.manager.cursorTarget)},this.onPointerUp=c=>{if(this.supportsTouchEvents&&c.pointerType==="touch")return;const d=this.isEventOutsideOfTargetViewPort(c)?"outside":"",h=this.normalizeToPointerData(c);for(let p=0,f=h.length;p<f;p++){const g=this.bootstrapEvent(this.rootPointerEvent,h[p]);g.type+=d,this.manager.mapEvent(g)}this.setCursor(this.manager.cursor,this.manager.cursorTarget)},this.onPointerOverOut=c=>{if(this.supportsTouchEvents&&c.pointerType==="touch")return;const d=this.normalizeToPointerData(c);for(let h=0,p=d.length;h<p;h++){const f=this.bootstrapEvent(this.rootPointerEvent,d[h]);this.manager.mapEvent(f)}this.setCursor(this.manager.cursor,this.manager.cursorTarget)},this.onWheel=c=>{const d=this.normalizeWheelEvent(c);this.manager.mapEvent(d)};const{targetElement:t,resolution:n,rootNode:r,global:s,autoPreventDefault:a=!1,clickInterval:o,supportsTouchEvents:l=s.supportsTouchEvents,supportsPointerEvents:u=s.supportsPointerEvents}=e;this.manager=new not(r,{clickInterval:o}),this.globalObj=s,this.supportsPointerEvents=u,this.supportsTouchEvents=l,this.supportsMouseEvents=s.supportsMouseEvents,this.applyStyles=s.applyStyles,this.autoPreventDefault=a,this.eventsAdded=!1,this.rootPointerEvent=new xc,this.rootWheelEvent=new Vv,this.cursorStyles={default:"inherit",pointer:"pointer"},this.resolution=n,this.setTargetElement(t)}release(){this.removeEvents(),this.manager&&this.manager.release(),this.domElement=null,this.manager=null,this.globalObj=null}setCursor(e,t){if(!t&&!this.manager.rootTarget.window._handler.canvas.controled)return;e||(e="default");const{applyStyles:n,domElement:r}=this;if(this.currentCursor===e)return;this.currentCursor=e;const s=this.cursorStyles[e];s?typeof s=="string"&&n?r.style.cursor=s:typeof s=="function"?s(e):typeof s=="object"&&n&&Object.assign(r.style,s):n&&ct(e)&&!zh(this.cursorStyles,e)&&(r.style.cursor=e)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const{globalObj:e,domElement:t}=this;this.supportsPointerEvents?(e.getDocument()?(e.getDocument().addEventListener("pointermove",this.onPointerMove,!0),e.getDocument().addEventListener("pointerup",this.onPointerUp,!0)):(t.addEventListener("pointermove",this.onPointerMove,!0),t.addEventListener("pointerup",this.onPointerUp,!0)),t.addEventListener("pointerdown",this.onPointerDown,!0),t.addEventListener("pointerleave",this.onPointerOverOut,!0),t.addEventListener("pointerover",this.onPointerOverOut,!0)):(e.getDocument()?(e.getDocument().addEventListener("mousemove",this.onPointerMove,!0),e.getDocument().addEventListener("mouseup",this.onPointerUp,!0)):(t.addEventListener("mousemove",this.onPointerMove,!0),t.addEventListener("mouseup",this.onPointerUp,!0)),t.addEventListener("mousedown",this.onPointerDown,!0),t.addEventListener("mouseout",this.onPointerOverOut,!0),t.addEventListener("mouseover",this.onPointerOverOut,!0)),this.supportsTouchEvents&&(t.addEventListener("touchstart",this.onPointerDown,!0),t.addEventListener("touchend",this.onPointerUp,!0),t.addEventListener("touchmove",this.onPointerMove,!0)),t.addEventListener("wheel",this.onWheel,{capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const{globalObj:e,domElement:t}=this;this.supportsPointerEvents?(e.getDocument()?(e.getDocument().removeEventListener("pointermove",this.onPointerMove,!0),e.getDocument().removeEventListener("pointerup",this.onPointerUp,!0)):(t.removeEventListener("pointermove",this.onPointerMove,!0),t.removeEventListener("pointerup",this.onPointerUp,!0)),t.removeEventListener("pointerdown",this.onPointerDown,!0),t.removeEventListener("pointerleave",this.onPointerOverOut,!0),t.removeEventListener("pointerover",this.onPointerOverOut,!0)):(e.getDocument()?(e.getDocument().removeEventListener("mousemove",this.onPointerMove,!0),e.getDocument().removeEventListener("mouseup",this.onPointerUp,!0)):(t.removeEventListener("mousemove",this.onPointerMove,!0),t.removeEventListener("mouseup",this.onPointerUp,!0)),t.removeEventListener("mousedown",this.onPointerDown,!0),t.removeEventListener("mouseout",this.onPointerOverOut,!0),t.removeEventListener("mouseover",this.onPointerOverOut,!0)),this.supportsTouchEvents&&(t.removeEventListener("touchstart",this.onPointerDown,!0),t.removeEventListener("touchend",this.onPointerUp,!0),t.removeEventListener("touchmove",this.onPointerMove,!0)),t.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapToViewportPoint(e){return this.domElement.pointTransform?this.domElement.pointTransform(e.x,e.y):e}mapToCanvasPoint(e){var t,n;const r=(t=this.globalObj)===null||t===void 0?void 0:t.mapToCanvasPoint(e,this.domElement);if(r)return r;let s=0,a=0;if(e.changedTouches){const l=(n=e.changedTouches[0])!==null&&n!==void 0?n:{};s=l.clientX||0,a=l.clientY||0}else s=e.clientX||0,a=e.clientY||0;const o=this.domElement.getBoundingClientRect();return{x:s-o.left,y:a-o.top}}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e.changedTouches&&e.changedTouches.length)for(let n=0,r=e.changedTouches.length;n<r;n++){const s=e.changedTouches[n];qr(s.button)&&(s.button=0),qr(s.buttons)&&(s.buttons=1),qr(s.isPrimary)&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),qr(s.width)&&(s.width=s.radiusX||1),qr(s.height)&&(s.height=s.radiusY||1),qr(s.tiltX)&&(s.tiltX=0),qr(s.tiltY)&&(s.tiltY=0),qr(s.pointerType)&&(s.pointerType="touch"),qr(s.pointerId)&&(s.pointerId=s.identifier||0),qr(s.pressure)&&(s.pressure=s.force||.5),qr(s.twist)&&(s.twist=0),qr(s.tangentialPressure)&&(s.tangentialPressure=0),qr(s.layerX)&&(s.layerX=s.offsetX=s.clientX),qr(s.layerY)&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,t.push(s)}else if(this.globalObj.supportsMouseEvents&&(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof PointerEvent))t.push(e);else{const n=e;qr(n.isPrimary)&&(n.isPrimary=!0),qr(n.width)&&(n.width=1),qr(n.height)&&(n.height=1),qr(n.tiltX)&&(n.tiltX=0),qr(n.tiltY)&&(n.tiltY=0),qr(n.pointerType)&&(n.pointerType="mouse"),qr(n.pointerId)&&(n.pointerId=1),qr(n.pressure)&&(n.pressure=.5),qr(n.twist)&&(n.twist=0),qr(n.tangentialPressure)&&(n.tangentialPressure=0),n.isNormalized=!0,t.push(n)}return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;this.transferMouseData(t,e),t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ;const{x:n,y:r}=this.mapToCanvasPoint(e);t.canvas.x=n,t.canvas.y=r,t.global.x=n,t.global.y=r,t.offset.x=n,t.offset.y=r;const{x:s,y:a}=this.mapToViewportPoint(t);return t.viewport.x=s,t.viewport.y=a,t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t);const{x:n,y:r}=this.mapToCanvasPoint(t);e.canvas.x=n,e.canvas.y=r,e.global.x=n,e.global.y=r,e.offset.x=n,e.offset.y=r;const{x:s,y:a}=this.mapToViewportPoint(e);return e.viewport.x=s,e.viewport.y=a,e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=sot[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=Ky.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.shiftKey=t.shiftKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null}isEventOutsideOfTargetViewPort(e){if(this.isEventOutsideOfTargetElement(e))return!0;if(this.domElement.getViewBox){const t=this.mapToViewportPoint(this.mapToCanvasPoint(e)),n=this.domElement.getViewBox(),r=n.width(),s=n.height();return!(t.x<r&&t.y<s&&t.x>0&&t.y>0)}return!1}isEventOutsideOfTargetElement(e){let t=e.target;return e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]),t!==(this.domElement.getNativeHandler?this.domElement.getNativeHandler().nativeCanvas:this.domElement)}pauseTriggerEvent(){this.manager.pauseNotify=!0}resumeTriggerEvent(){this.manager.pauseNotify=!1}}class AD{constructor(){this.time=0}static Avaliable(){return!0}avaliable(){return AD.Avaliable()}tick(e,t){this.time=Math.max(0,e+this.time),t(this,{once:!0})}tickTo(e,t){this.time=Math.max(0,e),t(this,{once:!0})}release(){this.timerId>0&&(this.timerId=-1)}getTime(){return this.time}}class TD{static Avaliable(){return!0}avaliable(){return TD.Avaliable()}tick(e,t){this.timerId=setTimeout(()=>{t(this)},e)}release(){this.timerId>0&&(clearTimeout(this.timerId),this.timerId=-1)}getTime(){return Date.now()}}class FE{static Avaliable(){return!!Ne.global.getRequestAnimationFrame()}avaliable(){return FE.Avaliable()}tick(e,t){Ne.global.getRequestAnimationFrame()(()=>{this.released||t(this)})}release(){this.released=!0}getTime(){return Date.now()}}var kd;(function(i){i[i.INITIAL=0]="INITIAL",i[i.RUNNING=1]="RUNNING",i[i.PAUSE=2]="PAUSE"})(kd||(kd={}));class oot{set mode(e){this._mode!==e&&(this._mode=e,this.setupTickHandler())}get mode(){return this._mode}constructor(e=[]){this.handleTick=(t,n)=>{const{once:r=!1}=n??{};this.ifCanStop()?this.stop():(this._handlerTick(t),r||t.tick(this.interval,this.handleTick))},this._handlerTick=t=>{const n=this.tickerHandler.getTime();let r=0;this.lastFrameTime>=0&&(r=n-this.lastFrameTime),this.lastFrameTime=n,this.status===kd.RUNNING&&(this.tickCounts++,this.timelines.forEach(s=>{s.tick(r)}))},this.init(),this.lastFrameTime=-1,this.tickCounts=0,this.timelines=e,this.autoStop=!0}init(){this.interval=NaN,this.status=kd.INITIAL,Ne.global.hooks.onSetEnv.tap("default-ticker",()=>{this.initHandler()}),Ne.global.env&&this.initHandler()}addTimeline(e){this.timelines.push(e)}remTimeline(e){this.timelines=this.timelines.filter(t=>t!==e)}initHandler(){if(this._mode)return null;const e=[{mode:"raf",cons:FE},{mode:"timeout",cons:TD},{mode:"manual",cons:AD}];for(let t=0;t<e.length;t++)if(e[t].cons.Avaliable()){this.mode=e[t].mode;break}return null}setupTickHandler(){let e;switch(this._mode){case"raf":e=new FE;break;case"timeout":e=new TD;break;case"manual":e=new AD;break;default:Kn.getInstance().warn(""),e=new FE}return!!e.avaliable()&&(this.tickerHandler&&this.tickerHandler.release(),this.tickerHandler=e,!0)}setInterval(e){this.interval=e}getInterval(){return this.interval}setFPS(e){this.setInterval(1e3/e)}getFPS(){return 1e3/this.interval}tick(e){this.tickerHandler.tick(e,t=>{this.handleTick(t,{once:!0})})}tickTo(e){this.tickerHandler.tickTo&&this.tickerHandler.tickTo(e,t=>{this.handleTick(t,{once:!0})})}pause(){return this.status!==kd.INITIAL&&(this.status=kd.PAUSE,!0)}resume(){return this.status!==kd.INITIAL&&(this.status=kd.RUNNING,!0)}ifCanStop(){return!!(this.autoStop&&(!this.timelines.length||this.timelines.reduce((e,t)=>e+t.animateCount,0)===0))}start(e=!1){return this.status===kd.RUNNING||!this.tickerHandler||!e&&(this.status===kd.PAUSE||!this.timelines.length||this.timelines.reduce((t,n)=>t+n.animateCount,0)===0)?!1:(this.status=kd.RUNNING,this.tickerHandler.tick(0,this.handleTick),!0)}stop(){this.status=kd.INITIAL,this.setupTickHandler(),this.lastFrameTime=-1}}class Zi{constructor(){}static linear(e){return e}static none(){return this.linear}static get(e){return e<-1?e=-1:e>1&&(e=1),function(t){return e===0?t:e<0?t*(t*-e+1+e):t*((2-t)*e+(1-e))}}static getPowIn(e){return function(t){return Math.pow(t,e)}}static getPowOut(e){return function(t){return 1-Math.pow(1-t,e)}}static getPowInOut(e){return function(t){return(t*=2)<1?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}}static getBackIn(e){return function(t){return t*t*((e+1)*t-e)}}static getBackOut(e){return function(t){return--t*t*((e+1)*t+e)+1}}static getBackInOut(e){return e*=1.525,function(t){return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}}static sineIn(e){return 1-Math.cos(e*Math.PI/2)}static sineOut(e){return Math.sin(e*Math.PI/2)}static sineInOut(e){return-(Math.cos(Math.PI*e)-1)/2}static expoIn(e){return e===0?0:Math.pow(2,10*e-10)}static expoOut(e){return e===1?1:1-Math.pow(2,-10*e)}static expoInOut(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}static circIn(e){return-(Math.sqrt(1-e*e)-1)}static circOut(e){return Math.sqrt(1- --e*e)}static circInOut(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}static bounceOut(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}static bounceIn(e){return 1-Zi.bounceOut(1-e)}static bounceInOut(e){return e<.5?.5*Zi.bounceIn(2*e):.5*Zi.bounceOut(2*e-1)+.5}static getElasticIn(e,t){return function(n){if(n===0||n===1)return n;const r=t/Vi*Math.asin(1/e);return-e*Math.pow(2,10*(n-=1))*Math.sin((n-r)*Vi/t)}}static getElasticOut(e,t){return function(n){if(n===0||n===1)return n;const r=t/Vi*Math.asin(1/e);return e*Math.pow(2,-10*n)*Math.sin((n-r)*Vi/t)+1}}static getElasticInOut(e,t){return function(n){const r=t/Vi*Math.asin(1/e);return(n*=2)<1?e*Math.pow(2,10*(n-=1))*Math.sin((n-r)*Vi/t)*-.5:e*Math.pow(2,-10*(n-=1))*Math.sin((n-r)*Vi/t)*.5+1}}}Zi.quadIn=Zi.getPowIn(2),Zi.quadOut=Zi.getPowOut(2),Zi.quadInOut=Zi.getPowInOut(2),Zi.cubicIn=Zi.getPowIn(3),Zi.cubicOut=Zi.getPowOut(3),Zi.cubicInOut=Zi.getPowInOut(3),Zi.quartIn=Zi.getPowIn(4),Zi.quartOut=Zi.getPowOut(4),Zi.quartInOut=Zi.getPowInOut(4),Zi.quintIn=Zi.getPowIn(5),Zi.quintOut=Zi.getPowOut(5),Zi.quintInOut=Zi.getPowInOut(5),Zi.backIn=Zi.getBackIn(1.7),Zi.backOut=Zi.getBackOut(1.7),Zi.backInOut=Zi.getBackInOut(1.7),Zi.elasticIn=Zi.getElasticIn(1,.3),Zi.elasticOut=Zi.getElasticOut(1,.3),Zi.elasticInOut=Zi.getElasticInOut(1,.3*1.5);class Hwe{constructor(){this.id=Xs.GenAutoIncrementId(),this.animateHead=null,this.animateTail=null,this.animateCount=0,this.paused=!1}addAnimate(e){this.animateTail?(this.animateTail.nextAnimate=e,e.prevAnimate=this.animateTail,this.animateTail=e,e.nextAnimate=null):(this.animateHead=e,this.animateTail=e),this.animateCount++}pause(){this.paused=!0}resume(){this.paused=!1}tick(e){if(this.paused)return;let t=this.animateHead;for(this.animateCount=0;t;)t.status===pl.END?this.removeAnimate(t):t.status===pl.RUNNING||t.status===pl.INITIAL?(this.animateCount++,t.advance(e)):t.status===pl.PAUSED&&this.animateCount++,t=t.nextAnimate}clear(){let e=this.animateHead;for(;e;)e.release(),e=e.nextAnimate;this.animateHead=null,this.animateTail=null,this.animateCount=0}removeAnimate(e,t=!0){e._onRemove&&e._onRemove.forEach(n=>n()),e===this.animateHead?(this.animateHead=e.nextAnimate,e===this.animateTail?this.animateTail=null:this.animateHead.prevAnimate=null):e===this.animateTail?(this.animateTail=e.prevAnimate,this.animateTail.nextAnimate=null):(e.prevAnimate.nextAnimate=e.nextAnimate,e.nextAnimate.prevAnimate=e.prevAnimate),t&&e.release()}}const Vwe=new Hwe;class cu{constructor(e,t,n,r,s){this.from=e,this.to=t,this.duration=n,this.easing=r,this.params=s,this.updateCount=0}bind(e,t){this.target=e,this.subAnimate=t,this.onBind()}onBind(){}onFirstRun(){}onStart(){}onEnd(){}getEndProps(){}getFromProps(){return this.from}getMergedEndProps(){var e;const t=this.getEndProps();return t?this._endProps===t?this._mergedEndProps:(this._endProps=t,void(this._mergedEndProps=Object.assign({},(e=this.step.prev.getLastProps())!==null&&e!==void 0?e:{},t))):this.step.prev?this.step.prev.getLastProps():t}update(e,t,n){if(this.updateCount===0){this.onFirstRun();const r=this.step.getLastProps();Object.keys(r).forEach(s=>{this.subAnimate.animate.validAttr(s)&&(n[s]=r[s])})}this.updateCount+=1,this.onUpdate(e,t,n),e&&this.onEnd()}}class lot extends cu{constructor(e){super(null,null,0,"linear"),this.cb=e}onUpdate(e,t,n){}onStart(){this.cb()}}let PD=class iE{constructor(e=Xs.GenAutoIncrementId(),t=Vwe){this.id=e,this.timeline=t,this.status=pl.INITIAL,this.tailAnimate=new ioe(this),this.subAnimates=[this.tailAnimate],this.timeScale=1,this.rawPosition=-1,this._startTime=0,this._duringTime=0,this.timeline.addAnimate(this)}setTimeline(e){e!==this.timeline&&(this.timeline.removeAnimate(this,!1),e.addAnimate(this))}getStartTime(){return this._startTime}getDuration(){return this.subAnimates.reduce((e,t)=>e+t.totalDuration,0)}after(e){const t=e.getDuration();return this._startTime=t,this}afterAll(e){let t=-1/0;return e.forEach(n=>{t=Jl(n.getDuration(),t)}),this._startTime=t,this}parallel(e){return this._startTime=e.getStartTime(),this}static AddInterpolate(e,t){iE.interpolateMap.set(e,t)}play(e){if(this.tailAnimate.play(e),this.target){const t=this.target.stage;t&&t.renderNextFrame()}return this.subAnimates.length===1&&this.tailAnimate.duration===e.duration&&this.trySetAttribute(e.getFromProps(),e.mode),this}trySetAttribute(e,t=iE.mode){e&&t&Vx.SET_ATTR_IMMEDIATELY&&this.target.setAttributes&&this.target.setAttributes(e,!1,{type:us.ANIMATE_PLAY})}runCb(e){const t=new lot(()=>{e(this,t.step.prev)});return this.tailAnimate.play(t),this}customInterpolate(e,t,n,r,s,a){const o=iE.interpolateMap.get(e)||iE.interpolateMap.get("");return!!o&&o(e,t,n,r,s,a)}pause(){this.status===pl.RUNNING&&(this.status=pl.PAUSED)}resume(){this.status===pl.PAUSED&&(this.status=pl.RUNNING)}to(e,t,n,r){if(this.tailAnimate.to(e,t,n,r),this.target){const s=this.target.stage;s&&s.renderNextFrame()}return this}from(e,t,n,r){if(this.tailAnimate.from(e,t,n,r),this.target){const s=this.target.stage;s&&s.renderNextFrame()}return this}wait(e){if(this.tailAnimate.wait(e),this.target){const t=this.target.stage;t&&t.renderNextFrame()}return this}startAt(e){if(this.tailAnimate.startAt(e),this.target){const t=this.target.stage;t&&t.renderNextFrame()}return this}loop(e){if(this.tailAnimate.loop=e,this.target){const t=this.target.stage;t&&t.renderNextFrame()}return this}reversed(e){if(this.tailAnimate.reversed=e,this.target){const t=this.target.stage;t&&t.renderNextFrame()}return this}bounce(e){if(this.tailAnimate.bounce=e,this.target){const t=this.target.stage;t&&t.renderNextFrame()}return this}subAnimate(){const e=new ioe(this,this.tailAnimate);return this.tailAnimate=e,this.subAnimates.push(e),e.bind(this.target),this}getStartProps(){return this.subAnimates[0].getStartProps()}getEndProps(){return this.tailAnimate.getEndProps()}depreventAttr(e){this._preventAttrs&&this._preventAttrs.delete(e)}preventAttr(e){this._preventAttrs||(this._preventAttrs=new Set),this._preventAttrs.add(e)}preventAttrs(e){e.forEach(t=>this.preventAttr(t))}validAttr(e){return!this._preventAttrs||!this._preventAttrs.has(e)}bind(e){return this.target=e,this.target.onAnimateBind&&this.target.onAnimateBind(this),this.subAnimates.forEach(t=>{t.bind(e)}),this}advance(e){if(this._duringTime<this._startTime){if(this._duringTime+e*this.timeScale<this._startTime)return void(this._duringTime+=e*this.timeScale);e=this._duringTime+e*this.timeScale-this._startTime,this._duringTime=this._startTime}this.status===pl.INITIAL&&(this.status=pl.RUNNING,this._onStart&&this._onStart.forEach(t=>t())),this.setPosition(this.rawPosition+e*this.timeScale)&&this.status===pl.RUNNING&&(this.status=pl.END,this._onEnd&&this._onEnd.forEach(t=>t()))}setPosition(e){let t,n=0;const r=this.rawPosition,s=this.subAnimates.reduce((o,l)=>o+l.totalDuration,0);e<0&&(e=0);const a=e>=s;if(a&&(e=s),e===r)return a;for(let o=0;o<this.subAnimates.length&&(t=this.subAnimates[o],!(n+t.totalDuration>=e));o++)n+=t.totalDuration,t=void 0;return this.rawPosition=e,t.setPosition(e-n),a}onStart(e){this._onStart||(this._onStart=[]),this._onStart.push(e)}onEnd(e){this._onEnd||(this._onEnd=[]),this._onEnd.push(e)}onRemove(e){this._onRemove||(this._onRemove=[]),this._onRemove.push(e)}onFrame(e){this._onFrame||(this._onFrame=[]),this._onFrame.push(e)}release(){this.status=pl.END}stop(e){e||this.target.onStop(),e==="start"?this.target.onStop(this.getStartProps()):e==="end"?this.target.onStop(this.getEndProps()):this.target.onStop(e),this.release()}};PD.mode=Vx.NORMAL,PD.interpolateMap=new Map;class ioe{get totalDuration(){return this.calcAttr(),this._totalDuration+this._startAt}constructor(e,t){this.rawPosition=-1,this.position=0,this.loop=0,this.duration=0,this.animate=e,this.stepHead=new noe(0,0,t?Object.assign({},t.stepTail.props):{}),this.stepTail=this.stepHead,this.dirty=!0,this._startAt=0}calcAttr(){this.dirty&&(this._totalDuration=this.duration*(this.loop+1))}bind(e){return this.target=e,this}play(e){let t=e.duration;(t==null||t<0)&&(t=0);const n=e.easing,r=typeof n=="string"?Zi[n]:n,s=this._addStep(t,null,r);return s.type=kS.customAnimate,this._appendProps(e.getEndProps(),s,!1),this._appendCustomAnimate(e,s),this}to(e,t,n,r){(t==null||t<0)&&(t=0);const s=typeof n=="string"?Zi[n]:n,a=this._addStep(t,null,s);return a.type=kS.to,this._appendProps(e,a,!!r&&r.tempProps),a.propKeys||(a.propKeys=Object.keys(a.props)),r&&r.noPreventAttrs||this.target.animates.forEach(o=>{o.id!==this.animate.id&&o.preventAttrs(a.propKeys)}),this}from(e,t,n,r){this.to(e,0,n,r);const s={};this.stepTail.propKeys||(this.stepTail.propKeys=Object.keys(this.stepTail.props)),this.stepTail.propKeys.forEach(a=>{s[a]=this.getLastPropByName(a,this.stepTail)}),this.to(s,t,n,r),this.stepTail.type=kS.from}startAt(e){return e<0&&(e=0),this._startAt=e,this}getStartProps(){var e;return(e=this.stepHead)===null||e===void 0?void 0:e.props}getEndProps(){return this.stepTail.props}getLastStep(){return this._lastStep}wait(e){if(e>0){const t=this._addStep(+e,null);t.type=kS.wait,t.prev.customAnimate?t.props=t.prev.customAnimate.getEndProps():t.props=t.prev.props,this.target.onAddStep&&this.target.onAddStep(t)}return this}_addStep(e,t,n){const r=new noe(this.duration,e,t,n);return this.duration+=e,this.stepTail.append(r),this.stepTail=r,r}_appendProps(e,t,n){t.props=n?e:Object.assign({},e);let r=t.prev;const s=t.props;for(t.propKeys||(t.propKeys=Object.keys(t.props)),t.propKeys.forEach(o=>{t.props[o]===void 0&&(t.props[o]=this.target.getDefaultAttribute(o))});r.prev;)r.props&&(r.propKeys||(r.propKeys=Object.keys(r.props)),r.propKeys.forEach(o=>{s[o]===void 0&&(s[o]=r.props[o])})),t.propKeys=Object.keys(t.props),r=r.prev;const a=this.stepHead.props;t.propKeys||(t.propKeys=Object.keys(s)),t.propKeys.forEach(o=>{if(a[o]===void 0){const l=this.animate.getStartProps();a[o]=l[o]=this.target.getComputedAttribute(o)}}),this.target.onAddStep&&this.target.onAddStep(t)}_appendCustomAnimate(e,t){t.customAnimate=e,e.step=t,e.bind(this.target,this)}setPosition(e){var t;const n=this.duration,r=this.loop,s=this.rawPosition;let a,o,l=!1;const u=(t=this._startAt)!==null&&t!==void 0?t:0;if(e<0&&(e=0),e<u)return this.rawPosition=e,!1;if(e-=u,n<=0)return l=!0,l;if(a=Math.floor(e/n),o=e-a*n,l=e>=r*n+n,l&&(o=n,a=r,e=o*a+n),e===s)return l;const c=!this.reversed!=!(this.bounce&&a%2);return c&&(o=n-o),this._deltaPosition=o-this.position,this.position=o,this.rawPosition=e+u,this.updatePosition(l,c),l}updatePosition(e,t){if(!this.stepHead)return;let n=this.stepHead.next;const r=this.position,s=this.duration;if(this.target&&n){let a=n.next;for(;a&&a.position<=r;)n=a,a=n.next;let o=e?s===0?1:r/s:(r-n.position)/n.duration;n.easing&&(o=n.easing(o)),this.tryCallCustomAnimateLifeCycle(n,this._lastStep||(t?this.stepTail:this.stepHead),t),this.updateTarget(n,o,e),this._lastStep=n,this.animate._onFrame&&this.animate._onFrame.forEach(l=>l(n,o))}}tryCallCustomAnimateLifeCycle(e,t,n){if(e!==t)if(n){let r=t.prev;for(;r&&r!==e;)r.customAnimate&&(r.customAnimate.onStart&&r.customAnimate.onStart(),r.customAnimate.onEnd&&r.customAnimate.onEnd()),r=e.prev;t&&t.customAnimate&&t.customAnimate.onEnd&&t.customAnimate.onEnd(),e&&e.customAnimate&&e.customAnimate.onStart&&e.customAnimate.onStart()}else{let r=t.next;for(;r&&r!==e;)r.customAnimate&&(r.customAnimate.onStart&&r.customAnimate.onStart(),r.customAnimate.onEnd&&r.customAnimate.onEnd()),r=r.next;t&&t.customAnimate&&t.customAnimate.onEnd&&t.customAnimate.onEnd(),e&&e.customAnimate&&e.customAnimate.onStart&&e.customAnimate.onStart()}}getLastPropByName(e,t){let n=t.prev;for(;n;){if(n.props&&n.props[e]!==void 0)return n.props[e];if(n.customAnimate){const r=n.customAnimate.getEndProps()[e];if(r!==void 0)return r}n=n.prev}return Kn.getInstance().warn("step"),t.props[e]}updateTarget(e,t,n){e.props==null&&e.customAnimate==null||this.target.onStep(this,this.animate,e,t,n)}}class noe{constructor(e,t,n,r){this.duration=t,this.position=e,this.props=n,this.easing=r}append(e){e.prev=this,e.next=this.next,this.next=e}getLastProps(){let e=this.prev;for(;e;){if(e.props)return e.props;if(e.customAnimate)return e.customAnimate.getMergedEndProps();e=e.prev}return null}}const roe={duration:200,easing:"cubicOut"},AS={duration:1e3,easing:"quadInOut"};var soe;(function(i){i[i.Top=1]="Top",i[i.Right=2]="Right",i[i.Bottom=4]="Bottom",i[i.Left=8]="Left",i[i.ALL=15]="ALL"})(soe||(soe={}));const eg=[!1,!1,!1,!1],uot=i=>{var e;let t=!0;if(Ir(i,!0)){for(let n=0;n<4;n++)eg[n]=i,t&&(t=!((e=eg[n])!==null&&e!==void 0&&!e));t=i}else if(Array.isArray(i))for(let n=0;n<4;n++)eg[n]=!!i[n],t&&(t=!!eg[n]);else eg[0]=!1,eg[1]=!1,eg[2]=!1,eg[3]=!1;return{isFullStroke:t,stroke:eg}},hk=[0,0,0,0],Yo=i=>i?ke(i)?i.length===0?0:i.length===1?i[0]:i.length===2?(hk[0]=i[0],hk[2]=i[0],hk[1]=i[1],hk[3]=i[1],hk):i:i:0,w1=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],pI=[1,2,3,0,1,2,3,0];function E7(i,e,t,n){for(;i>=Vi;)i-=Vi;for(;i<0;)i+=Vi;for(;i>e;)e+=Vi;w1[0].x=t,w1[1].y=t,w1[2].x=-t,w1[3].y=-t;const r=Math.ceil(i/Id)%4,s=Math.ceil(e/Id)%4;if(n.add(Yn(i)*t,bn(i)*t),n.add(Yn(e)*t,bn(e)*t),r!==s||e-i>Dn){let a=!1;for(let o=0;o<pI.length;o++)if(a||r!==pI[o]){if(a&&s===pI[o])break;if(a){const l=w1[pI[o]];n.add(l.x,l.y)}}else{a=!0;const l=w1[r];n.add(l.x,l.y)}}}function a5(i,e,t){const{x:n,y:r}=iae(i.x,i.y,e.x,e.y,t),{x:s,y:a}=iae(i.x1,i.y1,e.x1,e.y1,t),o=new As(n,r,s,a);return o.defined=e.defined,o}function eX(i,e,t){if(!i||!e)return[];Array.isArray(i)||(i=[i]),Array.isArray(e)||(e=[e]);let n=[];if(i.length>e.length){n=e.map(r=>{const s=new As(r.x,r.y,r.x1,r.y1);return s.defined=r.defined,s});for(let r=0;r<e.length;r++)n[r]=a5(i[r],e[r],t)}else{n=e.map(r=>{const s=new As(r.x,r.y,r.x1,r.y1);return s.defined=r.defined,s});for(let r=0;r<i.length;r++)n[r]=a5(i[r],e[r],t)}return n}const cot=["x","y","dx","dy","scaleX","scaleY","angle","anchor","postMatrix","scrollX","scrollY"],dot=i=>cot.includes(i);function fI(i,e){if(ke(i)){let t;for(let n=0;n<i.length&&t===void 0;n++)t=i[n][e];return t}return i[e]}class BB{constructor(e=BB.TimeOut){this.durations=[],this.timeout=e,this.lastDate=0,this.durationsListThreshold=30}call(e){return this.lastDate=Date.now(),setTimeout(()=>{this.appendDuration(Date.now()-this.lastDate),e(0)},this.timeout,!0)}clear(e){clearTimeout(e)}appendDuration(e){this.durations.push(e),this.durations.length>this.durationsListThreshold&&this.durations.shift(),this.timeout=Math.min(Math.max(this.durations.reduce((t,n)=>t+n,0)/this.durations.length,1e3/60),1e3/30)}}BB.TimeOut=1e3/60;const aoe=new BB,kg=(i,e)=>ct(i)&&i[i.length-1]==="%"?e*(Number.parseFloat(i.substring(0,i.length-1))/100):i;class hot extends cu{constructor(e,t,n,r,s){super(e,t,n,r,s)}getEndProps(){return this.valid===!1?{}:{text:this.to}}onBind(){var e,t,n,r,s,a,o,l;this.fromNumber=Xe((e=this.from)===null||e===void 0?void 0:e.text)?(t=this.from)===null||t===void 0?void 0:t.text:Number.parseFloat((n=this.from)===null||n===void 0?void 0:n.text),this.toNumber=Xe((r=this.to)===null||r===void 0?void 0:r.text)?(s=this.to)===null||s===void 0?void 0:s.text:Number.parseFloat((a=this.to)===null||a===void 0?void 0:a.text),Number.isFinite(this.toNumber)||(this.fromNumber=0),Number.isFinite(this.toNumber)||(this.valid=!1),this.valid!==!1&&(this.decimalLength=(l=(o=this.params)===null||o===void 0?void 0:o.fixed)!==null&&l!==void 0?l:Math.max(Nx(this.fromNumber),Nx(this.toNumber)))}onEnd(){}onUpdate(e,t,n){this.valid!==!1&&(n.text=e?this.toNumber:(this.fromNumber+(this.toNumber-this.fromNumber)*t).toFixed(this.decimalLength))}}var ooe;(function(i){i[i.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",i[i.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT",i[i.TOP_TO_BOTTOM=2]="TOP_TO_BOTTOM",i[i.BOTTOM_TO_TOP=3]="BOTTOM_TO_TOP",i[i.STROKE=4]="STROKE"})(ooe||(ooe={}));class Wwe extends cu{constructor(e,t,n,r,s){super(e,t,n,r,s),this.newPointAnimateType=(s==null?void 0:s.newPointAnimateType)==="appear"?"appear":"grow"}onBind(){var e,t;const n=(e=this.from)===null||e===void 0?void 0:e.points,r=(t=this.to)===null||t===void 0?void 0:t.points;this.fromPoints=n?Array.isArray(n)?n:[n]:[],this.toPoints=r?Array.isArray(r)?r:[r]:[];const s=new Map;this.fromPoints.forEach(d=>{d.context&&s.set(d.context,d)});let a,o,l=1/0,u=-1/0;for(let d=0;d<this.toPoints.length;d+=1)if(s.has(this.toPoints[d].context)){l=d,a=s.get(this.toPoints[d].context);break}for(let d=this.toPoints.length-1;d>=0;d-=1)if(s.has(this.toPoints[d].context)){u=d,o=s.get(this.toPoints[d].context);break}let c=this.toPoints[0];this.interpolatePoints=this.toPoints.map((d,h)=>{const p=s.get(d.context);return p?(c=p,[p,d]):this.newPointAnimateType==="appear"?[d,d]:h<l&&a?[a,d]:h>u&&o?[o,d]:[c,d]}),this.points=this.interpolatePoints.map(d=>{const h=d[0],p=d[1],f=new As(h.x,h.y,h.x1,h.y1);return f.defined=p.defined,f.context=p.context,f})}onUpdate(e,t,n){this.points=this.points.map((r,s)=>{const a=a5(this.interpolatePoints[s][0],this.interpolatePoints[s][1],t);return a.context=r.context,a}),n.points=this.points}}class Uwe extends cu{constructor(e,t,n,r,s){super(null,null,n,r,s),this.clipFromAttribute=e,this.clipToAttribute=t,this._group=s==null?void 0:s.group,this._clipGraphic=s==null?void 0:s.clipGraphic}onBind(){this._group&&this._clipGraphic&&(this._lastClip=this._group.attribute.clip,this._lastPath=this._group.attribute.path,this._group.setAttributes({clip:!0,path:[this._clipGraphic]},!1,{type:us.ANIMATE_BIND}))}onEnd(){this._group&&this._group.setAttributes({clip:this._lastClip,path:this._lastPath},!1,{type:us.ANIMATE_END})}onUpdate(e,t,n){if(!this._clipGraphic)return;const r={};Object.keys(this.clipFromAttribute).forEach(s=>{r[s]=this.clipFromAttribute[s]+(this.clipToAttribute[s]-this.clipFromAttribute[s])*t}),this._clipGraphic.setAttributes(r,!1,{type:us.ANIMATE_UPDATE,animationState:{ratio:t,end:e}})}}class pot extends Uwe{constructor(e,t,n,r,s){var a,o,l,u,c,d,h,p,f,g,v,m;const b=(o=(a=s==null?void 0:s.group)===null||a===void 0?void 0:a.attribute)!==null&&o!==void 0?o:{},_=(l=b.width)!==null&&l!==void 0?l:0,S=(u=b.height)!==null&&u!==void 0?u:0,C=(c=s==null?void 0:s.animationType)!==null&&c!==void 0?c:"in",k=(d=s==null?void 0:s.startAngle)!==null&&d!==void 0?d:0,E=(h=s==null?void 0:s.orient)!==null&&h!==void 0?h:"clockwise";let A=0,P=0;E==="anticlockwise"?(P=C==="in"?k+2*Math.PI:k,P=k+2*Math.PI):(A=k,P=C==="out"?k+2*Math.PI:k);const O=Ne.graphicService.creator.arc({x:(f=(p=s==null?void 0:s.center)===null||p===void 0?void 0:p.x)!==null&&f!==void 0?f:_/2,y:(v=(g=s==null?void 0:s.center)===null||g===void 0?void 0:g.y)!==null&&v!==void 0?v:S/2,outerRadius:(m=s==null?void 0:s.radius)!==null&&m!==void 0?m:(_+S)/2,innerRadius:0,startAngle:A,endAngle:P,fill:!0});let M,D;E==="anticlockwise"?(M={startAngle:k+2*Math.PI},D={startAngle:k}):(M={endAngle:k},D={endAngle:k+2*Math.PI}),super(C==="in"?M:D,C==="in"?D:M,n,r,{group:s==null?void 0:s.group,clipGraphic:O})}}class loe extends Uwe{constructor(e,t,n,r,s){var a,o,l,u,c,d,h,p,f;const g=(o=(a=s==null?void 0:s.group)===null||a===void 0?void 0:a.attribute)!==null&&o!==void 0?o:{},v=(u=(l=s==null?void 0:s.width)!==null&&l!==void 0?l:g.width)!==null&&u!==void 0?u:0,m=(d=(c=s==null?void 0:s.height)!==null&&c!==void 0?c:g.height)!==null&&d!==void 0?d:0,b=(h=s==null?void 0:s.animationType)!==null&&h!==void 0?h:"in",_=(p=s==null?void 0:s.direction)!==null&&p!==void 0?p:"x",S=(f=s==null?void 0:s.orient)!==null&&f!==void 0?f:"positive",C=Ne.graphicService.creator.rect({x:0,y:0,width:b==="in"&&_==="x"?0:v,height:b==="in"&&_==="y"?0:m,fill:!0});let k={},E={};_==="y"?S==="negative"?(k={y:m,height:0},E={y:0,height:m}):(k={height:0},E={height:m}):S==="negative"?(k={x:v,width:0},E={x:0,width:v}):(k={width:0},E={width:v}),super(b==="in"?k:E,b==="in"?E:k,n,r,{group:s==null?void 0:s.group,clipGraphic:C})}}class fot extends cu{onStart(){const{center:e,r:t}=typeof this.params=="function"?this.params():this.params,n=this.target.getComputedAttribute("x"),r=this.target.getComputedAttribute("y"),s=this.target.getComputedAttribute("z"),a=Math.acos((r-e.y)/t);let o=Math.acos((n-e.x)/t/Math.sin(a));s-e.z<0&&(o=Vi-o),this.theta=o,this.phi=a}onBind(){}onEnd(){}onUpdate(e,t,n){if(this.phi==null||this.theta==null)return;const{center:r,r:s,cb:a}=typeof this.params=="function"?this.params():this.params,o=2*Math.PI*t,l=this.theta+o,u=this.phi,c=s*Math.sin(u)*Math.cos(l)+r.x,d=s*Math.cos(u)+r.y,h=s*Math.sin(u)*Math.sin(l)+r.z;for(n.x=c,n.y=d,n.z=h,n.alpha=l+Dn/2;n.alpha>Vi;)n.alpha-=Vi;n.alpha=Vi-n.alpha,n.zIndex=-1e4*n.z,a&&a(n)}}class got extends cu{getEndProps(){return{}}onBind(){this.target.setTheme({common:{opacity:1}})}onEnd(){this.target.setTheme({common:{opacity:0}})}onUpdate(e,t,n){this.target.setTheme({common:{opacity:1-t}})}}class mot extends cu{constructor(e,t){super(null,null,e,"linear"),this.customAnimates=t}initAnimates(){this.customAnimates.forEach(e=>{e.step=this.step,e.subAnimate=this.subAnimate,e.target=this.target})}getEndProps(){const e={};return this.customAnimates.forEach(t=>{Object.assign(e,t.getEndProps())}),e}onBind(){this.initAnimates(),this.customAnimates.forEach(e=>{e.onBind()})}onEnd(){this.customAnimates.forEach(e=>{e.onEnd()})}onStart(){this.customAnimates.forEach(e=>{e.onStart()})}onUpdate(e,t,n){this.updating||(this.updating=!0,this.customAnimates.forEach(r=>{const s=r.easing;t=(typeof s=="string"?Zi[s]:s)(t),r.onUpdate(e,t,n)}),this.updating=!1)}}function uoe(i,e,t,n,r,s){const a=(e-i)*r+i,o=(t-e)*r+e,l=(n-t)*r+t,u=(o-a)*r+a,c=(l-o)*r+o,d=(c-u)*r+u;s[0]=i,s[1]=a,s[2]=u,s[3]=d,s[4]=d,s[5]=c,s[6]=l,s[7]=n}function vot(i,e){const t=i.length,n=e.length;if(t===n)return[i,e];const r=[],s=[],a=t<n?i:e,o=Math.min(t,n),l=Math.abs(n-t)/6,u=(o-2)/6,c=Math.ceil(l/u),d=[a[0],a[1]];let h=l;for(let p=2;p<o;p+=6){let f=a[p-2],g=a[p-1],v=a[p],m=a[p+1],b=a[p+2],_=a[p+3];const S=a[p+4],C=a[p+5];if(h<=0){d.push(v,m,b,_,S,C);continue}const k=Math.min(h,c)+1;for(let E=1;E<=k;E++){const A=E/k;uoe(f,v,b,S,A,r),uoe(g,m,_,C,A,s),f=r[3],g=s[3],d.push(r[1],s[1],r[2],s[2],f,g),v=r[5],m=s[5],b=r[6],_=s[6]}h-=k-1}return a===i?[d,e]:[i,d]}function coe(i,e){const t=i||e,n=t.length,r=t[n-2],s=t[n-1],a=[];for(let o=0;o<e.length;o+=2)a[o]=r,a[o+1]=s;return a}function yot(i){const e=[],t=i.length;for(let n=0;n<t;n+=2)e[n]=i[t-n-2],e[n+1]=i[t-n-1];return e}function doe(i){let e=0,t=0,n=0;const r=i.length;for(let s=0,a=r-2;s<r;a=s,s+=2){const o=i[a],l=i[a+1],u=i[s],c=i[s+1],d=o*c-u*l;e+=d,t+=(o+u)*d,n+=(l+c)*d}return e===0?[i[0]||0,i[1]||0,0]:[t/e/3,n/e/3,e]}function _ot(i,e,t,n){const r=(i.length-2)/6;let s=1/0,a=0;const o=i.length,l=o-2;for(let u=0;u<r;u++){const c=6*u;let d=0;for(let h=0;h<o;h+=2){const p=h===0?c:(c+h-2)%l+2,f=i[p]-t[0],g=i[p+1]-t[1],v=e[h]-n[0]-f,m=e[h+1]-n[1]-g;d+=v*v+m*m}d<s&&(s=d,a=u)}return a}function bot(i,e,t,n){const r=[];let s;for(let a=0;a<i.length;a++){let o=i[a];const l=e[a],u=doe(o),c=doe(l);s==null&&(s=u[2]<0!=c[2]<0);const d=[],h=[];let p=0,f=1/0;const g=[],v=o.length;s&&(o=yot(o));const m=6*_ot(o,l,u,c),b=v-2;for(let _=0;_<b;_+=2){const S=(m+_)%b+2;d[_+2]=o[S]-u[0],d[_+3]=o[S+1]-u[1]}if(d[0]=o[m]-u[0],d[1]=o[m+1]-u[1],t>0){const _=n/t;for(let S=-n/2;S<=n/2;S+=_){const C=Math.sin(S),k=Math.cos(S);let E=0;for(let A=0;A<o.length;A+=2){const P=d[A],O=d[A+1],M=l[A]-c[0],D=l[A+1]-c[1],L=M*k-D*C,H=M*C+D*k;g[A]=L,g[A+1]=H;const B=L-P,F=H-O;E+=B*B+F*F}if(E<f){f=E,p=S;for(let A=0;A<g.length;A++)h[A]=g[A]}}}r.push({from:d,to:h,fromCp:u,toCp:c,rotation:-p})}return r}function Sot(i,e){let t,n;const r=[],s=[];for(let a=0;a<Math.max(i.length,e.length);a++){const o=i[a],l=e[a];let u,c;o?l?([u,c]=vot(o,l),t=u,n=c):(c=coe(n,o),u=o):(u=coe(t,l),c=l),r.push(u),s.push(c)}return[r,s]}const tg=(i,e,t,n,r)=>{Ol(e,n)&&Ol(t,r)||i.push(e,t,n,r,n,r)};function o5(i){const e=i.commandList,t=[];let n,r=0,s=0,a=0,o=0;const l=(p,f)=>{n&&n.length>2&&t.push(n),n=[p,f]};let u,c,d,h;for(let p=0,f=e.length;p<f;p++){const g=e[p],v=p===0;switch(v&&(a=r=g[1],o=s=g[2],[Ni.L,Ni.C,Ni.Q].includes(g[0])&&(n=[a,o])),g[0]){case Ni.M:r=a=g[1],s=o=g[2],l(a,o);break;case Ni.L:u=g[1],c=g[2],tg(n,r,s,u,c),r=u,s=c;break;case Ni.C:n.push(g[1],g[2],g[3],g[4],r=g[5],s=g[6]);break;case Ni.Q:u=g[1],c=g[2],d=g[3],h=g[4],n.push(r+2/3*(u-r),s+2/3*(c-s),d+2/3*(u-d),h+2/3*(c-h),d,h),r=d,s=h;break;case Ni.A:{const m=g[1],b=g[2],_=g[3],S=_,C=g[4],k=g[5],E=!!g[6];u=Math.cos(C)*_+m,c=Math.sin(C)*_+b,v?(a=u,o=c,l(a,o)):tg(n,r,s,u,c),r=Math.cos(k)*_+m,s=Math.sin(k)*_+b;const A=(E?-1:1)*Math.PI/2;for(let P=C;E?P>k:P<k;P+=A){const O=E?Math.max(P+A,k):Math.min(P+A,k);j3(n,P,O,m,b,_,S)}break}case Ni.E:{const m=g[1],b=g[2],_=g[3],S=g[4],C=g[5],k=g[6],E=g[7]+k,A=!!g[8],P=!Ol(C,0),O=Math.cos(C),M=Math.sin(C);let D=Math.cos(k)*_,L=Math.sin(k)*S;P?(u=D*O-L*M+m,c=D*M+L*O+b):(u=D+m,c=L+b),v?(a=u,o=c,l(a,o)):tg(n,r,s,u,c),D=Math.cos(E)*_,L=Math.sin(E)*S,P?(r=D*O-L*M+m,s=D*M+L*O+b):(r=D+m,s=L+b);const H=(A?-1:1)*Math.PI/2;for(let B=k;A?B>E:B<E;B+=H){const F=A?Math.max(B+H,E):Math.min(B+H,E);if(j3(n,B,F,m,b,_,S),P){const z=n.length;for(let N=z-6;N<=z-1;N+=2)D=n[N],L=n[N+1],n[N]=(D-m)*O-(L-b)*M+m,n[N+1]=(D-m)*M+(L-b)*O+b}}break}case Ni.R:a=r=g[1],o=s=g[2],u=a+g[3],c=o+g[4],l(u,o),tg(n,u,o,u,c),tg(n,u,c,a,c),tg(n,a,c,a,o),tg(n,a,o,u,o);break;case Ni.AT:{const m=g[1],b=g[2],_=g[3],S=g[4],C=g[5],k=ds.distancePP({x:r,y:s},{x:m,y:b}),E=ds.distancePP({x:_,y:S},{x:m,y:b}),A=((r-m)*(_-m)+(s-b)*(S-b))/(k*E),P=C/Math.sin(A/2),O=(r+_-2*m)/2,M=(s+S-2*b)/2,D=ds.distancePP({x:O,y:M},{x:0,y:0}),L=m+P*O/D,H=_+P*M/D,B=Math.sqrt(P*P-C*C);a=m+B*(r-m)/k,o=b+B*(s-b)/k,tg(n,r,s,a,o),r=m+B*(_-m)/E,s=b+B*(S-b)/E;const F=lD({x:L,y:H},{x:a,y:o}),z=lD({x:L,y:H},{x:r,y:s});j3(n,F,z,L,H,C,C);break}case Ni.Z:n&&tg(n,r,s,a,o),r=a,s=o}}return n&&n.length>2&&t.push(n),t}function hoe(i,e){for(let t=0;t<i.length;t++){const n=i[t];for(let r=0;r<n.length;r+=2){const s=n[r],a=n[r+1],o={x:s,y:a};e.transformPoint({x:s,y:a},o),n[r]=o.x,n[r+1]=o.y}}}function xot(i){const e=new ba;for(let t=0;t<i.length;t++){const n=i[t];if(n.length>2){e.moveTo(n[0],n[1]);for(let r=2;r<n.length;r+=6)e.bezierCurveTo(n[r],n[r+1],n[r+2],n[r+3],n[r+4],n[r+5])}}return e}const Gwe=i=>{if(!i)return{x:0,y:0,width:0,height:0};let e=Y(i.width)?i.x1-i.x:i.width,t=Y(i.height)?i.y1-i.y:i.height,n=0,r=0;return e<0?(n=e,e=-e):Number.isNaN(e)&&(e=0),t<0?(r=t,t=-t):Number.isNaN(t)&&(t=0),{x:n,y:r,width:e,height:t}};function tX(i,e,t){const n=i/e;let r,s;i>=e?(s=Math.ceil(Math.sqrt(t*n)),r=Math.floor(t/s),r===0&&(r=1,s=t)):(r=Math.ceil(Math.sqrt(t/n)),s=Math.floor(t/r),s===0&&(s=1,r=t));const a=[];for(let l=0;l<r;l++)a.push(s);const o=t-r*s;if(o>0)for(let l=0;l<o;l+=s)l+s<o?a.push(s):a.push(o-l);return a}const wot=(i,e)=>{const{width:t,height:n}=Gwe(i.attribute),r=tX(t,n,e),s=[],a=n/r.length;for(let o=0,l=r.length;o<l;o++){const u=r[o],c=t/u;for(let d=0;d<u;d++)s.push({x:0+d*c,y:0+o*a,width:c,height:a})}return s},Cot=(i,e)=>{const t=i.getParsedAngle(),n=t.startAngle,r=t.endAngle,s=i.getComputedAttribute("innerRadius"),a=i.getComputedAttribute("outerRadius"),o=Math.abs(n-r),l=Math.abs(a-s),u=tX(o*(s+a)/2,l,e),c=[],d=l/u.length,h=a>=s?1:-1,p=r>=n?1:-1;for(let f=0,g=u.length;f<g;f++){const v=u[f],m=o/v;for(let b=0;b<v;b++)c.push({innerRadius:a-d*f*h,outerRadius:a-d*(f+1)*h,startAngle:n+m*b*p,endAngle:n+m*(b+1)*p})}return c},kot=(i,e)=>{const t=i.getComputedAttribute("startAngle"),n=i.getComputedAttribute("endAngle"),r=i.getComputedAttribute("radius"),s=Math.abs(t-n),a=tX(s*r,r,e),o=[],l=s/a[0],u=r/a.length,c=n>=t?1:-1;for(let d=0,h=a.length;d<h;d++)for(let p=0,f=a[d];p<f;p++)o.push({innerRadius:u*d,outerRadius:u*(d+1),startAngle:t+l*p*c,endAngle:t+l*(p+1)*c});return o},poe=(i,e)=>{const t=i.filter(o=>o.defined!==!1&&Xe(o.x)&&Xe(o.y));if(t.length===0)return[];if(t.length===1)return new Array(e).fill(0).map(o=>t[0]);const n=[];if(e<=t.length){const o=t.length/e;let l=0,u=0;for(;l<e;)n.push(t[Math.floor(u)]),u+=o,l++;return n}const r=e-t.length,s=1/(r/(t.length-1)+1);let a=0;for(let o=0,l=i.length;o<l;o++)if(n.push(i[o]),o<l-1){let u=s;const c=i[o].x,d=i[o].y,h=i[o+1].x,p=i[o+1].y;for(;u<1&&a<r;)n.push({x:c+(h-c)*u,y:d+(p-d)*u}),u+=s,a+=1}return n},Eot=(i,e)=>{var t,n;const r=i.attribute;let s=r.points;const a=r.segments;s||(s=a.reduce((c,d)=>{var h;return c.concat((h=d.points)!==null&&h!==void 0?h:[])},[]));const o=s.filter(c=>c.defined!==!1&&Xe(c.x)&&Xe(c.y));if(!o.length)return[];const l=[];o.forEach(c=>{l.push({x:c.x,y:c.y})});for(let c=o.length-1;c>=0;c--){const d=o[c];l.push({x:(t=d.x1)!==null&&t!==void 0?t:d.x,y:(n=d.y1)!==null&&n!==void 0?n:d.y})}const u=[];return xT(s,e,u),u},Aot=(i,e)=>{const t=i.attribute,n=t.points;if(n)return poe(n,e);if(t.segments){const r=t.segments.reduce((s,a)=>{var o;return s.concat((o=a.points)!==null&&o!==void 0?o:[])},[]);return poe(r,e)}return[]};function Tot(i,e){return i[0]*e[1]-i[1]*e[0]}const l5=i=>i.map(e=>({x:e.x,y:e.y})),foe=(i,e,t)=>{const n=i.length,r=[];for(let d=0;d<n;d++){const h=i[d],p=d===n-1?i[0]:i[d+1],f=mxe([e.x,e.y],[t.x,t.y],[h.x,h.y],[p.x,p.y]);f&&typeof f!="boolean"&&r.push({dot:Tot([f[0]-e.x,f[1]-e.x],[t.x-e.x,t.y-e.x]),point:{x:f[0],y:f[1]},edgeIndex:d})}if(r.length<2)return[l5(i),l5(i)];r.sort((d,h)=>d.dot-h.dot);let s=r[0],a=r[r.length-1];s.edgeIndex>a.edgeIndex&&([s,a]=[a,s]);const o=s.point,l=a.point,u=[{x:o.x,y:o.y}];for(let d=s.edgeIndex+1;d<=a.edgeIndex;d++)u.push({x:i[d].x,y:i[d].y});u.push({x:l.x,y:l.y});const c=[{x:l.x,y:l.y}];for(let d=a.edgeIndex+1,h=s.edgeIndex+n;d<=h;d++){const p=i[d%n];c.push({x:p.x,y:p.y})}return c.push({x:o.x,y:o.y}),[u,c]},Pot=i=>{const e=new Da;i.forEach(s=>{e.add(s.x,s.y)});const t=e.width(),n=e.height();if(t>=n){const s=e.x1+t/2;return foe(i,{x:s,y:e.y1},{x:s,y:e.y2})}const r=e.y1+n/2;return foe(i,{x:e.x1,y:r},{x:e.x2,y:r})},xT=(i,e,t)=>{if(e===1)t.push({points:i});else{const n=Math.floor(e/2),r=Pot(i);xT(r[0],n,t),xT(r[1],e-n,t)}},Oot=(i,e)=>{const t=i.attribute.points;if(!t||!t.length)return[];if(e===1)return[{points:l5(t)}];const n=[];return xT(t,e,n),n},Mot=(i,e)=>{const t=i.getParsedPathShape(),n=o5(t);if(!n.length||e<0)return[];const r=n.length;if(n.length>=e){const l=[],u=Math.floor(n.length/e);for(let c=0;c<e;c++){const d=n.slice(c*u,c===e-1?r:(c+1)*u);l.push({path:xot(d)})}return l}const s=[],a=Math.floor(e/r);let o=e;for(let l=0;l<r;l++){const u=[];for(let c=2,d=n[l].length;c<d;c+=2)u.push({x:n[0][c],y:n[0][c+1]});xT(u,l===r-1?o:a,s),o-=a}return s};var Ml;(function(i){i[i.Color255=0]="Color255",i[i.Color1=1]="Color1"})(Ml||(Ml={}));class Jr{static Get(e,t=Ml.Color1,n=[0,0,0,1]){if(t===Ml.Color1){const a=Jr.store1[e];if(a)return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n;const o=oa.parseColorString(e);if(o){const l=[o.r/255,o.g/255,o.b/255,o.opacity];Jr.store1[e]=l,Jr.store255[e]=[o.r,o.g,o.b,o.opacity],n[0]=l[0],n[1]=l[1],n[2]=l[2],n[3]=l[3]}return n}const r=Jr.store255[e];if(r)return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n;const s=oa.parseColorString(e);return s&&(Jr.store1[e]=[s.r/255,s.g/255,s.b/255,s.opacity],Jr.store255[e]=[s.r,s.g,s.b,s.opacity],n[0]=s.r,n[1]=s.g,n[2]=s.b,n[3]=s.opacity),n}static Set(e,t,n){if(t===Ml.Color1){if(Jr.store1[e])return;Jr.store1[e]=n,Jr.store255[e]=[Math.floor(255*n[0]),Math.floor(255*n[1]),Math.floor(255*n[2]),Math.floor(255*n[3])]}else{if(Jr.store255[e])return;Jr.store255[e]=n,Jr.store1[e]=[n[0]/255,n[1]/255,n[2]/255,n[3]]}}}Jr.store255={},Jr.store1={};function gI(i,e=!1){return Array.isArray(i)&&Xe(i[0])?e?`rgb(${Math.round(i[0])},${Math.round(i[1])},${Math.round(i[2])},${i[3].toFixed(2)})`:`rgb(${Math.round(i[0])},${Math.round(i[1])},${Math.round(i[2])})`:i}function c_(i,e,t,n,r){if(!i||!e)return i&&gI(i)||e&&gI(e)||!1;let s,a,o=!1,l=!1;if(Array.isArray(i)?s=i:typeof i=="string"?s=Jr.Get(i,Ml.Color255):o=!0,Array.isArray(e)?a=e:typeof e=="string"?a=Jr.Get(e,Ml.Color255):l=!0,o!==l){const u=o?i:e,c=o?e:i,d=Object.assign(Object.assign({},u),{stops:u.stops.map(h=>Object.assign(Object.assign({},h),{color:gI(c)}))});return o?c_(u,d,t,n,r):c_(d,u,t,n,r)}if(o){if(i.gradient===e.gradient){const u=i,c=e,d=u.stops,h=c.stops;if(d.length!==h.length)return!1;if(u.gradient==="linear")return Iot(u,c,t);if(u.gradient==="radial")return Rot(u,c,t);if(u.gradient==="conical")return Dot(u,c,t)}return!1}return r&&r(s,a),gI(Lot(s,a,t),n)}function Iot(i,e,t){const n=i.stops,r=e.stops;return{gradient:"linear",x0:i.x0+(e.x0-i.x0)*t,x1:i.x1+(e.x1-i.x1)*t,y0:i.y0+(e.y0-i.y0)*t,y1:i.y1+(e.y1-i.y1)*t,stops:new Array(n.length).fill(0).map((s,a)=>({color:iX(n[a].color,r[a].color,t),offset:n[a].offset+(r[a].offset-n[a].offset)*t}))}}function Rot(i,e,t){const n=i.stops,r=e.stops;return{gradient:"radial",x0:i.x0+(e.x0-i.x0)*t,x1:i.x1+(e.x1-i.x1)*t,y0:i.y0+(e.y0-i.y0)*t,y1:i.y1+(e.y1-i.y1)*t,r0:i.r0+(e.r0-i.r0)*t,r1:i.r1+(e.r1-i.r1)*t,stops:new Array(n.length).fill(0).map((s,a)=>({color:iX(n[a].color,r[a].color,t),offset:n[a].offset+(r[a].offset-n[a].offset)*t}))}}function Dot(i,e,t){const n=i.stops,r=e.stops;return{gradient:"conical",startAngle:i.startAngle+(e.startAngle-i.startAngle)*t,endAngle:i.endAngle+(e.endAngle-i.endAngle)*t,x:i.x+(e.x-i.x)*t,y:i.y+(e.y-i.y)*t,stops:new Array(n.length).fill(0).map((s,a)=>({color:iX(n[a].color,r[a].color,t),offset:n[a].offset+(r[a].offset-n[a].offset)*t}))}}function Lot(i,e,t){return[i[0]+(e[0]-i[0])*t,i[1]+(e[1]-i[1])*t,i[2]+(e[2]-i[2])*t,i[3]+(e[3]-i[3])*t]}const ig=[0,0,0,0],pk=[0,0,0,0];function iX(i,e,t){return Jr.Get(i,Ml.Color255,ig),Jr.Get(e,Ml.Color255,pk),`rgba(${Math.round(ig[0]+(pk[0]-ig[0])*t)},${Math.round(ig[1]+(pk[1]-ig[1])*t)},${Math.round(ig[2]+(pk[2]-ig[2])*t)},${ig[3]+(pk[3]-ig[3])*t})`}const Ywe=(i,e,t)=>{i.forEach(n=>{if(Number.isFinite(n.to))e[n.key]=n.from+(n.to-n.from)*t;else if(n.key==="fill"||n.key==="stroke"){const r=c_(n.from,n.to,t,!1);r&&(e[n.key]=r)}})},Kwe=(i,e,t)=>{const n=[],r=[];e.clear();for(let s=0;s<i.length;s++){const a=i[s],o=a.from,l=a.to,u=a.rotation*t,c=a.fromCp,d=a.toCp,h=Math.sin(u),p=Math.cos(u);r[0]=c[0]+(d[0]-c[0])*t,r[1]=c[1]+(d[1]-c[1])*t;for(let v=0;v<o.length;v+=2){const m=o[v],b=o[v+1],_=m*(1-t)+l[v]*t,S=b*(1-t)+l[v+1]*t;n[v]=_*p-S*h+r[0],n[v+1]=_*h+S*p+r[1]}let f=n[0],g=n[1];e.moveTo(f,g);for(let v=2;v<o.length;v+=6){const m=n[v],b=n[v+1],_=n[v+2],S=n[v+3],C=n[v+4],k=n[v+5];f===m&&g===b&&_===C&&S===k?e.lineTo(C,k):e.bezierCurveTo(m,b,_,S,C,k),f=C,g=k}}},Xwe=(i,e,t)=>{const n=i?o5(i):[],r=o5(e);t&&n&&(t.fromTransform&&hoe(n,t.fromTransform.clone().getInverse()),hoe(n,t.toTransfrom));const[s,a]=Sot(n,r);return i?bot(s,a,10,Math.PI):a.map((o,l)=>({from:s[l],to:o,fromCp:[0,0],toCp:[0,0],rotation:0}))},Fot=["fill","fillOpacity","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","lineDashOffset"],qwe=(i,e)=>{if(!i||!e)return null;const t=[];let n=!1;return Object.keys(i).forEach(r=>{if(!Fot.includes(r))return;const s=e[r];Y(s)||Y(i[r])||s===i[r]||(r==="fill"||r==="stroke"?t.push({from:typeof i[r]=="string"?Jr.Get(i[r],Ml.Color255):i[r],to:typeof s=="string"?Jr.Get(s,Ml.Color255):s,key:r}):t.push({from:i[r],to:s,key:r}),n=!0)}),n?t:null};class Zwe extends cu{constructor(e,t,n){super(0,1,t,n),this.morphingData=e.morphingData,this.otherAttrs=e.otherAttrs,this.saveOnEnd=e.saveOnEnd}getEndProps(){return{}}onBind(){this.target.createPathProxy(),this.onUpdate(!1,0,this.target.attribute)}onEnd(){}onUpdate(e,t,n){const r=this.target,s=typeof r.pathProxy=="function"?r.pathProxy(r.attribute):r.pathProxy;Kwe(this.morphingData,s,t),this.otherAttrs&&this.otherAttrs.length&&Ywe(this.otherAttrs,n,t),e&&!this.saveOnEnd&&(this.target.pathProxy=null)}}const Qwe=(i,e,t,n)=>{var r,s,a;if(i&&(!i.valid||!i.toCustomPath))return __DEV__&&console.error(i," is not validate"),null;if(!e.valid||!e.toCustomPath)return __DEV__&&console.error(e," is not validate"),null;let o=i==null?void 0:i.globalTransMatrix;n&&o&&(o=n.clone().multiply(o.a,o.b,o.c,o.d,o.e,o.f));const l=Xwe((r=i==null?void 0:i.toCustomPath)===null||r===void 0?void 0:r.call(i),e.toCustomPath(),{fromTransform:o,toTransfrom:e.globalTransMatrix}),u=qwe(i==null?void 0:i.attribute,e.attribute),c=e.animate(t);return t!=null&&t.delay&&c.wait(t.delay),c.play(new Zwe({morphingData:l,otherAttrs:u},(s=t==null?void 0:t.duration)!==null&&s!==void 0?s:AS.duration,(a=t==null?void 0:t.easing)!==null&&a!==void 0?a:AS.easing)),c},Bot=(i,e,t)=>{var n;const r=e.filter(u=>u&&u.toCustomPath&&u.valid);r.length||__DEV__&&console.error(r," is not validate"),i.valid&&i.toCustomPath||__DEV__&&console.error(i," is not validate");const s=((t==null?void 0:t.splitPath)==="clone"?eCe:(n=t==null?void 0:t.splitPath)!==null&&n!==void 0?n:tCe)(i,r.length,!1),a=t==null?void 0:t.onEnd;let o=r.length;const l=()=>{o--,o===0&&a&&a()};r.forEach((u,c)=>{var d;const h=s[c],p=((d=t==null?void 0:t.delay)!==null&&d!==void 0?d:0)+(t!=null&&t.individualDelay?t.individualDelay(c,r.length,h,u):0);Qwe(h,u,Object.assign({},t,{onEnd:l,delay:p}),i.globalTransMatrix)})};class $ot extends cu{constructor(e,t,n){super(0,1,t,n),this.morphingData=e.morphingData,this.otherAttrs=e.otherAttrs}getEndProps(){return{}}onBind(){this.addPathProxy()}addPathProxy(){this.target.shadowRoot.forEachChildren(e=>{e.createPathProxy()}),this.onUpdate(!1,0,this.target.attribute)}clearPathProxy(){this.target.shadowRoot.forEachChildren(e=>{e.pathProxy=null})}onEnd(){}onUpdate(e,t,n){this.target.shadowRoot.forEachChildren((r,s)=>{var a;Kwe(this.morphingData[s],typeof r.pathProxy=="function"?r.pathProxy(r.attribute):r.pathProxy,t),!((a=this.otherAttrs)===null||a===void 0)&&a[s]&&this.otherAttrs[s].length&&Ywe(this.otherAttrs[s],r.attribute,t)}),e&&(this.clearPathProxy(),this.morphingData=null)}}const nX=i=>{const e={};return Object.keys(i).forEach(t=>{dot(t)||(e[t]=i[t])}),e},Jwe=(i,e,t)=>{const n=nX(i.attribute),r=i.attachShadow();if(e.length)r.setTheme({[e[0].type]:n}),e.forEach(s=>{r.appendChild(s)});else{const s=i.AABBBounds,a=s.width(),o=s.height();r.setTheme({rect:n}),new Array(t).fill(0).forEach(l=>{const u=Ne.graphicService.creator.rect({x:0,y:0,width:a,height:o});r.appendChild(u),e.push(u)})}},eCe=(i,e,t)=>{const n=[],r=t?null:nX(i.attribute),s=i.toCustomPath();for(let a=0;a<e;a++){const o={path:new ba().fromCustomPath2D(s)};n.push(Ne.graphicService.creator.path(t?o:Object.assign({},r,o)))}return t&&Jwe(i,n,e),n},tCe=(i,e,t)=>{const n=[],r=t?null:nX(i.attribute);if(i.type==="rect")wot(i,e).forEach(s=>{n.push(Ne.graphicService.creator.rect(t?s:Object.assign({},r,s)))});else if(i.type==="arc")Cot(i,e).forEach(s=>{n.push(Ne.graphicService.creator.arc(t?s:Object.assign({},r,s)))});else if(i.type==="circle")kot(i,e).forEach(s=>{n.push(Ne.graphicService.creator.arc(t?s:Object.assign({},r,s)))});else if(i.type==="line"){const s=Aot(i,e),a={size:10,symbolType:"circle"};s.forEach(o=>{n.push(Ne.graphicService.creator.symbol(t?Object.assign({},o,a):Object.assign({},r,o,a)))})}else i.type==="polygon"?Oot(i,e).forEach(s=>{n.push(Ne.graphicService.creator.polygon(t?s:Object.assign({},r,s)))}):i.type==="area"?Eot(i,e).forEach(s=>{n.push(Ne.graphicService.creator.polygon(t?s:Object.assign({},r,s)))}):i.type==="path"&&Mot(i,e).forEach(s=>{"path"in s?n.push(Ne.graphicService.creator.path(t?s:Object.assign({},r,s))):n.push(Ne.graphicService.creator.polygon(t?s:Object.assign({},r,s)))});return t&&Jwe(i,n,e),n},Not=(i,e,t)=>{var n,r,s;const a=i.filter(d=>d.toCustomPath&&d.valid);a.length||__DEV__&&console.error(i," is not validate"),e.valid&&e.toCustomPath||__DEV__&&console.error(e," is not validate");const o=((t==null?void 0:t.splitPath)==="clone"?eCe:(n=t==null?void 0:t.splitPath)!==null&&n!==void 0?n:tCe)(e,a.length,!0),l=e.attribute;e.setAttribute("visible",!1);const u=a.map((d,h)=>Xwe(d.toCustomPath(),o[h].toCustomPath(),{fromTransform:d.globalTransMatrix,toTransfrom:o[h].globalTransMatrix})),c=a.map((d,h)=>qwe(d.attribute,l));if(t!=null&&t.individualDelay){const d=t.onEnd;let h=a.length;const p=()=>{h--,h===0&&(e.setAttributes({visible:!0,ratio:null},!1,{type:us.ANIMATE_END}),e.detachShadow(),d&&d())};o.forEach((f,g)=>{var v,m,b;const _=((v=t.delay)!==null&&v!==void 0?v:0)+t.individualDelay(g,a.length,i[g],f),S=f.animate(Object.assign({},t,{onEnd:p}));S.wait(_),S.play(new Zwe({morphingData:u[g],saveOnEnd:!0,otherAttrs:c[g]},(m=t.duration)!==null&&m!==void 0?m:AS.duration,(b=t.easing)!==null&&b!==void 0?b:AS.easing))})}else{const d=t==null?void 0:t.onEnd,h=t?Object.assign({},t):{};h.onEnd=()=>{e.setAttribute("visible",!0,!1,{type:us.ANIMATE_END}),e.detachShadow(),d&&d()};const p=e.animate(h);t!=null&&t.delay&&p.wait(t.delay),p.play(new $ot({morphingData:u,otherAttrs:c},(r=t==null?void 0:t.duration)!==null&&r!==void 0?r:AS.duration,(s=t==null?void 0:t.easing)!==null&&s!==void 0?s:AS.easing))}};class pr{static GetImage(e,t){var n;const r=pr.cache.get(e);r?r.loadState==="fail"?Ne.global.getRequestAnimationFrame()(()=>{t.imageLoadFail(e)}):r.loadState==="init"||r.loadState==="loading"?(n=r.waitingMark)===null||n===void 0||n.push(t):t&&t.imageLoadSuccess(e,r.data):pr.loadImage(e,t)}static GetSvg(e,t){var n;let r=pr.cache.get(e);r?r.loadState==="fail"?Ne.global.getRequestAnimationFrame()(()=>{t.imageLoadFail(e)}):r.loadState==="init"||r.loadState==="loading"?(n=r.waitingMark)===null||n===void 0||n.push(t):t&&t.imageLoadSuccess(e,r.data):(r={type:"image",loadState:"init"},pr.cache.set(e,r),r.dataPromise=Ne.global.loadSvg(e),r.dataPromise?(r.waitingMark=[t],r.dataPromise.then(s=>{var a;r.loadState=s!=null&&s.data?"success":"fail",r.data=s==null?void 0:s.data,(a=r.waitingMark)===null||a===void 0||a.map((o,l)=>{s!=null&&s.data?(r.loadState="success",r.data=s.data,o.imageLoadSuccess(e,s.data)):(r.loadState="fail",o.imageLoadFail(e))})})):(r.loadState="fail",t.imageLoadFail(e)))}static GetFile(e,t){let n=pr.cache.get(e);return n?n.loadState==="init"||n.loadState==="fail"?Promise.reject():n.loadState==="loading"?n.dataPromise.then(r=>r.data):Promise.resolve(n.data):(n={type:t,loadState:"init"},pr.cache.set(e,n),t==="arrayBuffer"?n.dataPromise=Ne.global.loadArrayBuffer(e):t==="blob"?n.dataPromise=Ne.global.loadBlob(e):t==="json"&&(n.dataPromise=Ne.global.loadJson(e)),n.dataPromise.then(r=>r.data))}static loading(){setTimeout(()=>{if(!pr.isLoading&&pr.toLoadAueue.length){pr.isLoading=!0;const e=pr.toLoadAueue.splice(0,10),t=[];e.forEach(n=>{const{url:r,marks:s}=n,a={type:"image",loadState:"init"};if(pr.cache.set(r,a),a.dataPromise=Ne.global.loadImage(r),a.dataPromise){a.waitingMark=s;const o=a.dataPromise.then(l=>{var u;a.loadState=l!=null&&l.data?"success":"fail",a.data=l==null?void 0:l.data,(u=a.waitingMark)===null||u===void 0||u.map((c,d)=>{l!=null&&l.data?(a.loadState="success",a.data=l.data,c.imageLoadSuccess(r,l.data)):(a.loadState="fail",c.imageLoadFail(r))})});t.push(o)}else a.loadState="fail",s.forEach(o=>o.imageLoadFail(r))}),Promise.all(t).then(()=>{pr.isLoading=!1,this.onLoadSuccessCb.forEach(n=>n()),pr.loading()}).catch(n=>{console.error(n),pr.isLoading=!1,this.onLoadSuccessCb.forEach(r=>r()),pr.loading()})}},0)}static loadImage(e,t){const n=goe(e,pr.toLoadAueue);if(n!==-1)return pr.toLoadAueue[n].marks.push(t),void pr.loading();pr.toLoadAueue.push({url:e,marks:[t]}),pr.loading()}static improveImageLoading(e){const t=goe(e,pr.toLoadAueue);if(t!==-1){const n=pr.toLoadAueue.splice(t,1);pr.toLoadAueue.unshift(n[0])}}static onLoadSuccess(e){this.onLoadSuccessCb.push(e)}}function goe(i,e){for(let t=0;t<e.length;t++)if(e[t].url===i)return t;return-1}pr.cache=new Map,pr.isLoading=!1,pr.toLoadAueue=[],pr.onLoadSuccessCb=[];const jot=new gs,moe=new zr,Wc=["lineWidth","scaleX","scaleY","angle","anchor","visible"],voe=["x","y"],yoe=["scaleX","scaleY"],_oe=["angle"],fk=new As,Zo={strokeSeg:1,boundsPadding:2,pickMode:1,boundsMode:1,customPickShape:1,pickable:1,childrenPickable:1,visible:1,zIndex:1,layout:1,keepDirIn3d:1,globalZIndex:1,outerBorder:1,innerBorder:1,lineDash:1,lineCap:1,lineJoin:1,miterLimit:2,strokeBoundsBuffer:2,scaleCenter:1,anchor:1,anchor3d:1,postMatrix:1,backgroundMode:2,background:1,texture:1,cursor:1,html:1};class Ll extends iot{static mixin(e){const t=Object.keys(e);for(let n=0;n<t.length;++n){const r=t[n];Object.defineProperty(Ll.prototype,r,Object.getOwnPropertyDescriptor(e,r))}}get AABBBounds(){return this.tryUpdateAABBBounds(this.attribute.boundsMode==="imprecise")}get OBBBounds(){return this.tryUpdateOBBBounds()}get globalAABBBounds(){return this.tryUpdateGlobalAABBBounds()}get transMatrix(){return this.tryUpdateLocalTransMatrix(!0)}get globalTransMatrix(){return this.tryUpdateGlobalTransMatrix(!0)}constructor(e={}){var t;super(),this._AABBBounds=new zr,this._updateTag=ar.INIT,this.attribute=e,this.valid=this.isValid(),e.background?this.loadImage((t=e.background.background)!==null&&t!==void 0?t:e.background,!0):e.shadowGraphic&&this.setShadowGraphic(e.shadowGraphic)}setMode(e){e==="3d"?this.set3dMode():this.set2dMode()}set3dMode(){this.in3dMode=!0}set2dMode(){this.in3dMode=!1}getOffsetXY(e,t=!1){var n,r;const{dx:s=e.dx,dy:a=e.dy}=this.attribute;if(t&&this.parent){const o=this.parent.attribute;fk.x=s+((n=o.scrollX)!==null&&n!==void 0?n:0),fk.y=a+((r=o.scrollY)!==null&&r!==void 0?r:0)}else fk.x=s,fk.y=a;return fk}onAnimateBind(e){this._emitCustomEvent("animate-bind",e)}tryUpdateAABBBounds(e){if(!this.shouldUpdateAABBBounds())return this._AABBBounds;if(!this.valid)return this._AABBBounds.clear(),this._AABBBounds;Ne.graphicService.beforeUpdateAABBBounds(this,this.stage,!0,this._AABBBounds);const t=this.doUpdateAABBBounds(e);return Ne.graphicService.afterUpdateAABBBounds(this,this.stage,this._AABBBounds,this,!0),t}combindShadowAABBBounds(e){if(this.shadowRoot){const t=this.shadowRoot.AABBBounds.clone();e.union(t)}}tryUpdateGlobalAABBBounds(){const e=this.AABBBounds;return this._globalAABBBounds?this._globalAABBBounds.setValue(e.x1,e.y1,e.x2,e.y2):this._globalAABBBounds=e.clone(),this._globalAABBBounds.empty()||this.parent&&this._globalAABBBounds.transformWithMatrix(this.parent.globalTransMatrix),this._globalAABBBounds}tryUpdateGlobalTransMatrix(e=!0){if(this._globalTransMatrix){if(this.parent){const t=this.parent.globalTransMatrix;this._globalTransMatrix.setValue(t.a,t.b,t.c,t.d,t.e,t.f)}}else this._globalTransMatrix=this.parent?this.parent.globalTransMatrix.clone():this.transMatrix.clone();return this.shouldUpdateGlobalMatrix()&&this.doUpdateGlobalMatrix(),this._globalTransMatrix}shouldUpdateGlobalMatrix(){return!0}tryUpdateLocalTransMatrix(e=!0){return this._transMatrix||(this._transMatrix=new gs),this.shouldUpdateLocalMatrix()&&(this.doUpdateLocalMatrix(),e&&this.clearUpdateLocalPositionTag()),this._transMatrix}shouldUpdateAABBBounds(){return this.shadowRoot?!!(this._updateTag&ar.UPDATE_BOUNDS)||this.shadowRoot.shouldUpdateAABBBounds():!!(this._updateTag&ar.UPDATE_BOUNDS)}shouldSelfChangeUpdateAABBBounds(){return this.shadowRoot?!!(this._updateTag&ar.UPDATE_BOUNDS)||this.shadowRoot.shouldUpdateAABBBounds():!!(this._updateTag&ar.UPDATE_BOUNDS)}shouldUpdateLocalMatrix(){return!!(this._updateTag&ar.UPDATE_LOCAL_MATRIX)}isValid(){var e,t;const n=this.attribute;return Number.isFinite(((e=n.x)!==null&&e!==void 0?e:0)+((t=n.y)!==null&&t!==void 0?t:0))}_validNumber(e){return e==null||Number.isFinite(e)}shouldUpdateShape(){return!!(this._updateTag&ar.UPDATE_SHAPE)}clearUpdateShapeTag(){this._updateTag&=ar.CLEAR_SHAPE}containsPoint(e,t,n,r){if(!r)return!1;if(n===_T.GLOBAL){const s=new As(e,t);this.parent&&this.parent.globalTransMatrix.transformPoint(s,s),e=s.x,t=s.y}return r.containsPoint(this,{x:e,y:t})}setAttributes(e,t=!1,n){(e=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(e,this.attribute,null,n)||e).background?this.loadImage(e.background,!0):e.shadowGraphic&&this.setShadowGraphic(e.shadowGraphic),this._setAttributes(e,t,n)}_setAttributes(e,t=!1,n){const r=Object.keys(e);for(let s=0;s<r.length;s++){const a=r[s];this.attribute[a]=e[a]}this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!t&&!this.needUpdateTags(r)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(n)}setAttribute(e,t,n,r){var s;const a=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({[e]:t},this.attribute,e,r);a?this._setAttributes(a,n,r):Y((s=this.normalAttrs)===null||s===void 0?void 0:s[e])?(this.attribute[e]=t,this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!n&&!this.needUpdateTag(e)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(r)):this.normalAttrs[e]=t,e==="background"?this.loadImage(t,!0):e==="shadowGraphic"&&this.setShadowGraphic(t)}needUpdateTags(e,t=Wc){for(let n=0;n<t.length;n++){const r=t[n];if(e.indexOf(r)!==-1)return!0}return!1}needUpdateTag(e,t=Wc){for(let n=0;n<t.length;n++)if(e===t[n])return!0;return!1}initAttributes(e){const t={type:us.INIT};e=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(e,this.attribute,null,t)||e,this.attribute=e,e.background?this.loadImage(e.background,!0):e.shadowGraphic&&this.setShadowGraphic(e.shadowGraphic),this._updateTag=ar.INIT,this.valid=this.isValid(),this.onAttributeUpdate(t)}translate(e,t){var n,r;if(e===0&&t===0)return this;const s={type:us.TRANSLATE},a=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({x:e,y:t},this.attribute,voe,s);a&&(e=a.x,t=a.y,delete a.x,delete a.y,this._setAttributes(a));const o=this.attribute,l=o.postMatrix;return l?Ne.transformUtil.fromMatrix(l,l).translate(e,t):(o.x=((n=o.x)!==null&&n!==void 0?n:Ya.x)+e,o.y=((r=o.y)!==null&&r!==void 0?r:Ya.y)+t),this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(s),this}translateTo(e,t){const n=this.attribute;if(n.x===e&&n.y===t)return this;const r={type:us.TRANSLATE_TO},s=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({x:e,y:t},this.attribute,voe,r);return s?(this._setAttributes(s,!1,r),this):(n.x=e,n.y=t,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(r),this)}scale(e,t,n){var r,s;if(e===1&&t===1)return this;const a={type:us.SCALE},o=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({scaleX:e,scaleY:t,scaleCenter:n},this.attribute,yoe,a);o&&(e=o.scaleX,t=o.scaleY,delete o.scaleX,delete o.scaleY,this._setAttributes(o));const l=this.attribute;if(n){let{postMatrix:u}=this.attribute;u||(u=new gs,l.postMatrix=u),Ne.transformUtil.fromMatrix(u,u).scale(e,t,n)}else l.scaleX=((r=l.scaleX)!==null&&r!==void 0?r:Ya.scaleX)*e,l.scaleY=((s=l.scaleY)!==null&&s!==void 0?s:Ya.scaleY)*t;return this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(a),this}scaleTo(e,t){const n=this.attribute;if(n.scaleX===e&&n.scaleY===t)return this;const r={type:us.SCALE_TO},s=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({scaleX:e,scaleY:t},this.attribute,yoe,r);return s?(this._setAttributes(s,!1,r),this):(n.scaleX=e,n.scaleY=t,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(r),this)}rotate(e,t){var n;if(e===0)return this;const r={type:us.ROTATE},s=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({angle:e,rotateCenter:t},this.attribute,_oe,r);s&&(delete s.angle,this._setAttributes(s,!1,r));const a=this.attribute;if(t){let{postMatrix:o}=this.attribute;o||(o=new gs,a.postMatrix=o),Ne.transformUtil.fromMatrix(o,o).rotate(e,t)}else a.angle=((n=a.angle)!==null&&n!==void 0?n:Ya.angle)+e;return this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(r),this}rotateTo(e){const t=this.attribute;if(t.angle===e)return this;const n={type:us.ROTATE_TO},r=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(e,this.attribute,_oe,n);return r?(this._setAttributes(r,!1,n),this):(t.angle=e,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(n),this)}skewTo(e,t){return this}animate(e){this.animates||(this.animates=new Map);const t=new PD(e==null?void 0:e.id,this.stage&&this.stage.getTimeline()).bind(this);if(e){const{onStart:n,onFrame:r,onEnd:s,onRemove:a}=e;n!=null&&t.onStart(n),r!=null&&t.onFrame(r),s!=null&&t.onEnd(s),a!=null&&t.onRemove(a),t.interpolateFunc=e.interpolate}return this.animates.set(t.id,t),t.onRemove(()=>{this.animates.delete(t.id)}),t}onAttributeUpdate(e){e&&e.skipUpdateCallback||(Ne.graphicService.onAttributeUpdate(this),this._emitCustomEvent("afterAttributeUpdate",e))}update(e){e?(e.bounds&&this.tryUpdateAABBBounds(this.attribute.boundsMode==="imprecise"),e.trans&&this.tryUpdateLocalTransMatrix()):(this.tryUpdateAABBBounds(this.attribute.boundsMode==="imprecise"),this.tryUpdateLocalTransMatrix())}hasState(e){return!(!this.currentStates||!this.currentStates.length)&&(!!Y(e)||this.currentStates.includes(e))}getState(e){var t;return(t=this.states)===null||t===void 0?void 0:t[e]}applyStateAttrs(e,t,n,r){var s,a,o,l;if(n){const u=Object.keys(e),c=this.getNoWorkAnimateAttr(),d={};let h;u.forEach(f=>{c[f]?(h||(h={}),h[f]=e[f]):d[f]=r&&e[f]===void 0?this.getDefaultAttribute(f):e[f]});const p=this.animate();p.stateNames=t,p.to(d,(a=(s=this.stateAnimateConfig)===null||s===void 0?void 0:s.duration)!==null&&a!==void 0?a:roe.duration,(l=(o=this.stateAnimateConfig)===null||o===void 0?void 0:o.easing)!==null&&l!==void 0?l:roe.easing),h&&this.setAttributes(h,!1,{type:us.STATE})}else this.setAttributes(e,!1,{type:us.STATE})}updateNormalAttrs(e){const t={};this.normalAttrs?(Object.keys(e).forEach(n=>{n in this.normalAttrs?(t[n]=this.normalAttrs[n],delete this.normalAttrs[n]):t[n]=this.getNormalAttribute(n)}),Object.keys(this.normalAttrs).forEach(n=>{e[n]=this.normalAttrs[n]})):Object.keys(e).forEach(n=>{t[n]=this.getNormalAttribute(n)}),this.normalAttrs=t}stopStateAnimates(e="end"){this.animates&&this.animates.forEach(t=>{t.stateNames&&(t.stop(e),this.animates.delete(t.id))})}getNormalAttribute(e){let t=this.attribute[e];return this.animates&&this.animates.forEach(n=>{if(n.stateNames){const r=n.getEndProps();zh(r,e)&&(t=r[e])}}),t}clearStates(e){this.stopStateAnimates(),this.hasState()&&this.normalAttrs?(this.currentStates=[],this.applyStateAttrs(this.normalAttrs,this.currentStates,e,!0)):this.currentStates=[],this.normalAttrs=null}removeState(e,t){if((this.currentStates?this.currentStates.indexOf(e):-1)>=0){const n=this.currentStates.filter(r=>r!==e);this.useStates(n,t)}}toggleState(e,t){if(this.hasState(e))this.removeState(e,t);else if((this.currentStates?this.currentStates.indexOf(e):-1)<0){const n=this.currentStates?this.currentStates.slice():[];n.push(e),this.useStates(n,t)}}addState(e,t,n){var r;if(this.currentStates&&this.currentStates.includes(e)&&(t||this.currentStates.length===1))return;const s=t&&(!((r=this.currentStates)===null||r===void 0)&&r.length)?this.currentStates.concat([e]):[e];this.useStates(s,n)}useStates(e,t){var n;if(!e.length)return void this.clearStates(t);if(!(((n=this.currentStates)===null||n===void 0?void 0:n.length)!==e.length||e.some((s,a)=>this.currentStates[a]!==s)))return;this.stopStateAnimates();const r={};e.forEach(s=>{var a;const o=this.stateProxy?this.stateProxy(s,e):(a=this.states)===null||a===void 0?void 0:a[s];o&&Object.assign(r,o)}),this.updateNormalAttrs(r),this.currentStates=e,this.applyStateAttrs(r,e,t)}addUpdateBoundTag(){this._updateTag|=ar.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag(),this.glyphHost&&this.glyphHost.addUpdateBoundTag()}addUpdateShapeTag(){this._updateTag|=ar.UPDATE_SHAPE}addUpdateShapeAndBoundsTag(){this._updateTag|=ar.UPDATE_SHAPE_AND_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag(),this.glyphHost&&this.glyphHost.addUpdateBoundTag()}updateShapeAndBoundsTagSetted(){return(this._updateTag&ar.UPDATE_SHAPE_AND_BOUNDS)===ar.UPDATE_SHAPE_AND_BOUNDS}clearUpdateBoundTag(){this._updateTag&=ar.CLEAR_BOUNDS}addUpdatePositionTag(){this.shadowRoot&&this.shadowRoot.addUpdateGlobalPositionTag(),this._updateTag|=ar.UPDATE_GLOBAL_LOCAL_MATRIX}addUpdateGlobalPositionTag(){this.shadowRoot&&this.shadowRoot.addUpdateGlobalPositionTag(),this._updateTag|=ar.UPDATE_GLOBAL_MATRIX}clearUpdateLocalPositionTag(){this._updateTag&=ar.CLEAR_LOCAL_MATRIX}clearUpdateGlobalPositionTag(){this._updateTag&=ar.CLEAR_GLOBAL_MATRIX}addUpdateLayoutTag(){this._updateTag|=ar.UPDATE_LAYOUT}clearUpdateLayoutTag(){this._updateTag&=ar.CLEAR_LAYOUT}needUpdateLayout(){return!!(this._updateTag&ar.UPDATE_LAYOUT)}getAnchor(e,t){const n=[0,0],r=()=>{if(t.b)return t.b;const{scaleX:s,scaleY:a,angle:o}=this.attribute;return moe.copy(this._AABBBounds),this.setAttributes({scaleX:1,scaleY:1,angle:0}),t.b=this.AABBBounds.clone(),this._AABBBounds.copy(moe),this.setAttributes({scaleX:s,scaleY:a,angle:o}),t.b};if(typeof e[0]=="string"){const s=parseFloat(e[0])/100,a=r();n[0]=a.x1+(a.x2-a.x1)*s}else n[0]=e[0];if(typeof e[1]=="string"){const s=parseFloat(e[1])/100,a=r();n[1]=a.y1+(a.y2-a.y1)*s}else n[1]=e[1];return n}doUpdateLocalMatrix(){const{x:e=Ya.x,y:t=Ya.y,scaleX:n=Ya.scaleX,scaleY:r=Ya.scaleY,angle:s=Ya.angle,scaleCenter:a,anchor:o,postMatrix:l}=this.attribute;let u=[0,0];const c={};if(o&&(u=this.getAnchor(o,c)),!a||n===1&&r===1)Gnt(this._transMatrix,this._transMatrix.reset(),e,t,n,r,s,o&&u);else{const h=this._transMatrix;h.reset(),h.translate(u[0],u[1]),h.rotate(s),h.translate(-u[0],-u[1]),h.translate(e,t),u=this.getAnchor(a,c),Ne.transformUtil.fromMatrix(h,h).scale(n,r,{x:u[0],y:u[1]})}const d=this.getOffsetXY(Ya);if(this._transMatrix.e+=d.x,this._transMatrix.f+=d.y,l){const h=jot.setValue(l.a,l.b,l.c,l.d,l.e,l.f),p=this._transMatrix;h.multiply(p.a,p.b,p.c,p.d,p.e,p.f),p.setValue(h.a,h.b,h.c,h.d,h.e,h.f)}}doUpdateGlobalMatrix(){if(this.parent){this._globalTransMatrix.multiply(this.transMatrix.a,this.transMatrix.b,this.transMatrix.c,this.transMatrix.d,this.transMatrix.e,this.transMatrix.f);const{scrollX:e=0,scrollY:t=0}=this.parent.attribute;this._globalTransMatrix.translate(e,t)}}setStage(e,t){if(this.stage!==e){if(this.stage=e,this.layer=t,this.setStageToShadowRoot(e,t),this.animates&&this.animates.size){const n=e.getTimeline();this.animates.forEach(r=>{r.setTimeline(n)})}this._onSetStage&&this._onSetStage(this,e,t),Ne.graphicService.onSetStage(this,e)}}setStageToShadowRoot(e,t){this.shadowRoot&&this.shadowRoot.setStage(e,t)}onAddStep(e){}onStop(e){e&&this.setAttributes(e,!1,{type:us.ANIMATE_END})}onStep(e,t,n,r,s){const a={};if(n.customAnimate)n.customAnimate.update(s,r,a);else{const o=n.props,l=n.parsedProps,u=n.propKeys;this.stepInterpolate(e,t,a,n,r,s,o,void 0,l,u)}this.setAttributes(a,!1,{type:us.ANIMATE_UPDATE,animationState:{ratio:r,end:s,step:n,isFirstFrameOfStep:e.getLastStep()!==n}}),this.stage&&this.stage.renderNextFrame()}stepInterpolate(e,t,n,r,s,a,o,l,u,c){c||(c=Object.keys(o),r.propKeys=c),a?r.propKeys.forEach(d=>{t.validAttr(d)&&(n[d]=o[d])}):c.forEach(d=>{var h;if(!t.validAttr(d))return;const p=o[d],f=(h=l&&l[d])!==null&&h!==void 0?h:e.getLastPropByName(d,r);if(p==null||f==null)return void(n[d]=p);let g;g=t.interpolateFunc&&t.interpolateFunc(d,s,f,p,n),g||(g=t.customInterpolate(d,s,f,p,this,n),g||this.defaultInterpolate(p,f,d,n,u,s)||this._interpolate(d,s,f,p,n))}),r.parsedProps=u}defaultInterpolate(e,t,n,r,s,a){if(Number.isFinite(e))return r[n]=t+(e-t)*a,!0;if(n==="fill"){s||(s={});const o=s.fillColorArray,l=c_(t,o??e,a,!1,(u,c)=>{s.fillColorArray=c});return l&&(r[n]=l),!0}if(n==="stroke"){s||(s={});const o=s.strokeColorArray,l=c_(t,o??e,a,!1,(u,c)=>{s.strokeColorArray=c});return l&&(r[n]=l),!0}if(n==="shadowColor"){s||(s={});const o=s.shadowColorArray,l=c_(t,o??e,a,!0,(u,c)=>{s.shadowColorArray=c});return l&&(r[n]=l),!0}return!1}_interpolate(e,t,n,r,s){}getDefaultAttribute(e){return qe(this)[this.type][e]}getComputedAttribute(e){var t;return(t=this.attribute[e])!==null&&t!==void 0?t:this.getDefaultAttribute(e)}onSetStage(e,t=!1){this._onSetStage=e,t&&this.stage&&e(this,this.stage)}attachShadow(e){return e&&(e.shadowHost=this),this.shadowRoot=e??Ne.graphicService.creator.shadowRoot(this),this.addUpdateBoundTag(),this.shadowRoot.setStage(this.stage,this.layer),this.shadowRoot}detachShadow(){this.shadowRoot&&(this.addUpdateBoundTag(),this.shadowRoot=null)}toJson(){return{attribute:this.attribute,_uid:this._uid,type:this.type,name:this.name,children:this.children.map(e=>e.toJson())}}createPathProxy(e){return ct(e,!0)?this.pathProxy=new ba().fromString(e):this.pathProxy=new ba,this.pathProxy}loadImage(e,t=!1){if(!e||t&&zot(e))return;const n=e;this.resources||(this.resources=new Map);const r={data:"init",state:null};this.resources.set(n,r),typeof e=="string"?(r.state="loading",e.startsWith("<svg")?(pr.GetSvg(e,this),this.backgroundImg=this.backgroundImg||t):(nxe(e)||e.includes("/")||rxe(e))&&(pr.GetImage(e,this),this.backgroundImg=this.backgroundImg||t)):yi(e)?(r.state="success",r.data=e,this.backgroundImg=this.backgroundImg||t):r.state="fail"}setShadowGraphic(e){e?this.attachShadow().add(e):this.detachShadow()}imageLoadSuccess(e,t,n){if(!this.resources)return;const r=this.resources.get(e);r&&(r.state="success",r.data=t,n&&n(),this.addUpdateBoundTag(),this.stage&&this.stage.renderNextFrame())}imageLoadFail(e,t){if(!this.resources)return;const n=this.resources.get(e);n&&(n.state="fail",t&&t())}_stopAnimates(e){e&&e.forEach(t=>{t.stop()})}stopAnimates(e=!1){this._stopAnimates(this.animates),this.shadowRoot&&this.shadowRoot.stopAnimates(!0),this.isContainer&&e&&this.forEachChildren(t=>{t.stopAnimates(e)})}release(){this.releaseStatus="released",Ne.graphicService.onRelease(this)}_emitCustomEvent(e,t){var n,r;if(this._events&&e in this._events){const s=new FB(e,t);s.bubbles=!1,s.manager=(r=(n=this.stage)===null||n===void 0?void 0:n.eventSystem)===null||r===void 0?void 0:r.manager,this.dispatchEvent(s)}}}function zot(i){return!(!i.fill&&!i.stroke)}Ll.mixin(rot);function Hot(i,e){const t=[];let n=e.exec(i);for(;n;){const r=[];r.startIndex=e.lastIndex-n[0].length;const s=n.length;for(let a=0;a<s;a++)r.push(n[a]);t.push(r),n=e.exec(i)}return t}class A7{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}function boe(i,e,t,n){const r=i.indexOf(e,t);if(r===-1)throw new Error(n);return r+e.length-1}function Vot(i,e,t=">"){let n,r="";for(let s=e;s<i.length;s++){let a=i[s];if(n)a===n&&(n="");else if(a==='"'||a==="'")n=a;else if(a===t[0]){if(!t[1])return{data:r,index:s};if(i[s+1]===t[1])return{data:r,index:s}}else a==="	"&&(a=" ");r+=a}}function Soe(i,e,t,n=">"){const r=Vot(i,e+1,n);if(!r)return;let s=r.data;const a=r.index,o=s.search(/\s/);let l=s,u=!0;return o!==-1&&(l=s.substr(0,o).replace(/\s\s*$/,""),s=s.substr(o+1)),{tagName:l,tagExp:s,closeIndex:a,attrExpPresent:u,rawTagName:l}}const Wot=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");class Uot{constructor(e){this.currentNode=null,this.options=e,this.tagsNodeStack=[],this.docTypeEntities={}}addChild(e,t,n){const r=t.tagname;typeof r=="string"&&(t.tagname=r),e.addChild(t)}buildAttributesMap(e,t,n){const r={};if(!e)return;const s=Hot(e,Wot),a=s.length;for(let o=0;o<a;o++){const l=s[o][1],u=s[o][4],c=l;l&&(r[c]=u===void 0||(isNaN(u)?u:Number(u)))}return r}parseXml(e){e=e.replace(/\r\n?/g,`
`);const t=new A7("!xml");let n=t,r="",s="";for(let a=0;a<e.length;a++)if(e[a]==="<")if(e[a+1]==="/"){const o=boe(e,">",a,"Closing Tag is not closed."),l=s.lastIndexOf(".");s=s.substring(0,l),n=this.tagsNodeStack.pop(),n&&n.child&&r&&n.child[n.child.length-1][":@"]&&(n.child[n.child.length-1][":@"].text=r),r="",a=o}else if(e[a+1]==="?")a=Soe(e,a,!1,"?>").closeIndex+1;else if(e.substr(a+1,3)==="!--")a=boe(e,"-->",a+4,"Comment is not closed.");else{const o=Soe(e,a);let l=o.tagName,u=o.tagExp;const c=o.attrExpPresent,d=o.closeIndex;if(l!==t.tagname&&(s+=s?"."+l:l),u.length>0&&u.lastIndexOf("/")===u.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),s=s.substr(0,s.length-1),u=l):u=u.substr(0,u.length-1);const h=new A7(l);l!==u&&c&&(h[":@"]=this.buildAttributesMap(u,s,l)),this.addChild(n,h,s),s=s.substr(0,s.lastIndexOf("."))}else{const h=new A7(l);this.tagsNodeStack.push(n),l!==u&&c&&(h[":@"]=this.buildAttributesMap(u,s,l)),this.addChild(n,h,s),n=h}r="",a=d}else r+=e[a];return t.child}}function Got(i,e){return iCe(i)}function iCe(i,e){const t={};for(let n=0;n<i.length;n++){const r=i[n],s=Yot(r);if(s!==void 0&&r[s]){const a=iCe(r[s]);Xot(a),r[":@"]&&Kot(a,r[":@"]),t[s]!==void 0&&t.hasOwnProperty(s)?(Array.isArray(t[s])||(t[s]=[t[s]]),t[s].push(a)):t[s]=a}}return t}function Yot(i){const e=Object.keys(i);for(let t=0;t<e.length;t++){const n=e[t];if(n!==":@")return n}}function Kot(i,e,t){if(e){const n=Object.keys(e),r=n.length;for(let s=0;s<r;s++){const a=n[s];i[a]=e[a]}}}function Xot(i){return Object.keys(i).length===0}class $B{constructor(e){this.options=Object.assign({},$B.defaultOptions,e)}valid(e){return e.startsWith("<")}parse(e){if(!this.valid)return!1;const t=new Uot(this.options).parseXml(e);return Got(t,this.options)}}$B.defaultOptions={};function qot(i){return i.startsWith("<svg")||i.startsWith("<?xml")}var Zot=function(i,e,t,n){return new(t||(t=Promise))(function(r,s){function a(u){try{l(n.next(u))}catch(c){s(c)}}function o(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((n=n.apply(i,e||[])).next())})};function Qot(i){return Zot(this,void 0,void 0,function*(){const e=[],t=i.getChildren();yield new Promise(n=>{Ne.global.getRequestAnimationFrame()(()=>{n(null)})}),t.forEach(n=>{n.subLayers.size&&n.subLayers.forEach(r=>{r.drawContribution&&r.drawContribution.hooks&&r.drawContribution.rendering&&e.push(new Promise(s=>{r.drawContribution.hooks.completeDraw.tap("outWait",()=>{r.drawContribution.hooks.completeDraw.taps=r.drawContribution.hooks.completeDraw.taps.filter(a=>a.name!=="outWait"),s(null)})}))})}),yield Promise.all(e)})}function H3(i,e,t,n=0){return i.expand(e+(n/2+(t?Jot(t,e):0))),i}function Jot(i,e){return i?e:0}let elt=0;function Fl(){return elt++}var d_;(function(i){i[i.HORIZONTAL=0]="HORIZONTAL",i[i.VERTICAL=1]="VERTICAL"})(d_||(d_={}));function xoe(i){const e=[];let t=0,n="";for(let r=0;r<i.length;r++)nlt(i[r])?t?n+=i[r]:(t=1,n=i[r]):(t&&(e.push({text:n,direction:d_.VERTICAL}),n="",t=0),e.push({text:i[r],direction:d_.HORIZONTAL}));return n&&e.push({text:n,direction:d_.VERTICAL}),e}const tlt=["","","","","","","","","",""],nCe=new Map;tlt.forEach(i=>nCe.set(i,!0));const ilt=[""],rCe=new Map;function nlt(i){if(nCe.has(i))return!0;if(rCe.has(i))return!1;let e=!1;return i.codePointAt(0)<256&&(e=!0),e}ilt.forEach(i=>rCe.set(i,!0));const NB=Fl(),J2=Fl(),eP=Fl(),jB=Fl(),zB=Fl(),rX=Fl(),HB=Fl(),tP=Fl(),VB=Fl(),WB=Fl(),sX=Fl(),UB=Fl(),aX=Fl(),oX=Fl(),GB=Fl(),YB=Fl(),sCe=Symbol.for("GraphicService"),aCe=Symbol.for("GraphicCreator"),oCe={"stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-width":"lineWidth","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity",stroke:"stroke",fill:"fill"},rlt=Object.keys(oCe);var woe;(function(i){i[i.LESS_GROUP=0]="LESS_GROUP",i[i.MORE_GROUP=1]="MORE_GROUP"})(woe||(woe={}));let Hw=class u5 extends Ll{constructor(e){super(e),this.type="group",this.parent=null,this.isContainer=!0,this.numberType=rX,this._childUpdateTag=ar.UPDATE_BOUNDS}setMode(e){e==="3d"?this.set3dMode():this.set2dMode()}set3dMode(){this.in3dMode=!0}set2dMode(){this.in3dMode=!1}setTheme(e){return this.theme||(this.theme=new ST),this.theme.setTheme(e,this)}createTheme(){this.theme||(this.theme=new ST)}hideAll(){this.setAttribute("visible",!1),this.forEachChildren(e=>{e.isContainer&&e.hideAll?e.hideAll():e.setAttribute("visible",!1)})}showAll(){this.setAttribute("visible",!0),this.forEachChildren(e=>{e.isContainer&&e.showAll?e.showAll():e.setAttribute("visible",!0)})}containsPoint(e,t,n){if(n===_T.GLOBAL){const r=new As(e,t);return this.parent&&this.parent.globalTransMatrix.transformPoint(r,r),this.AABBBounds.contains(r.x,r.y)}return this.AABBBounds.contains(e,t)}shouldUpdateAABBBounds(){return!!super.shouldUpdateAABBBounds()||!!(this._childUpdateTag&ar.UPDATE_BOUNDS)}tryUpdateAABBBounds(){if(!this.shouldUpdateAABBBounds())return this._AABBBounds;Ne.graphicService.beforeUpdateAABBBounds(this,this.stage,!0,this._AABBBounds);const e=this.shouldSelfChangeUpdateAABBBounds(),t=this.doUpdateAABBBounds();return this.addUpdateLayoutTag(),Ne.graphicService.afterUpdateAABBBounds(this,this.stage,this._AABBBounds,this,e),t}doUpdateLocalMatrix(){const{x:e=Ya.x,y:t=Ya.y,dx:n=Ya.dx,dy:r=Ya.dy,scaleX:s=Ya.scaleX,scaleY:a=Ya.scaleY,angle:o=Ya.angle,postMatrix:l}=this.attribute;if(e!==0||t!==0||n!==0||r!==0||s!==1||a!==1||o!==0||l)return super.doUpdateLocalMatrix();this._transMatrix.reset()}doUpdateAABBBounds(){const e=this.attribute,t=qe(this).group;this._AABBBounds.clear();const n=Ne.graphicService.updateGroupAABBBounds(e,t,this._AABBBounds,this),{boundsPadding:r=t.boundsPadding}=e,s=Yo(r);return s&&n.expand(s),this.parent&&this.parent.addChildUpdateBoundTag(),this.clearUpdateBoundTag(),this._emitCustomEvent("AAABBBoundsChange"),n}clearUpdateBoundTag(){this._updateTag&=ar.CLEAR_BOUNDS,this._childUpdateTag&=ar.CLEAR_BOUNDS}tryUpdateOBBBounds(){throw new Error("")}addUpdateBoundTag(){this._updateTag|=ar.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag()}addChildUpdateBoundTag(){this._childUpdateTag&ar.UPDATE_BOUNDS||(this._childUpdateTag|=ar.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag())}getTheme(){return this.theme.getTheme(this)}incrementalAppendChild(e){const t=super.appendChild(e);return this.stage&&t&&(t.stage=this.stage,t.layer=this.layer),this.addUpdateBoundTag(),Ne.graphicService.onAddIncremental(e,this,this.stage),t}incrementalClearChild(){super.removeAllChild(),this.addUpdateBoundTag(),Ne.graphicService.onClearIncremental(this,this.stage)}appendChild(e,t=!0){const n=super.appendChild(e);return t&&this.stage&&n&&n.setStage(this.stage,this.layer),this.addUpdateBoundTag(),n}insertBefore(e,t){const n=super.insertBefore(e,t);return this.stage&&n&&n.setStage(this.stage,this.layer),this.addUpdateBoundTag(),n}insertAfter(e,t){const n=super.insertAfter(e,t);return this.stage&&n&&n.setStage(this.stage,this.layer),this.addUpdateBoundTag(),n}insertInto(e,t){const n=super.insertInto(e,t);return this.stage&&n&&n.setStage(this.stage,this.layer),this.addUpdateBoundTag(),n}removeChild(e){const t=super.removeChild(e);return e.stage=null,Ne.graphicService.onRemove(e),this.addUpdateBoundTag(),t}removeAllChild(e=!1){this.forEachChildren(t=>{Ne.graphicService.onRemove(t),e&&t.isContainer&&t.removeAllChild(e)}),super.removeAllChild(),this.addUpdateBoundTag()}setStage(e,t){this.stage!==e&&(this.stage=e,this.layer=t,this.setStageToShadowRoot(e,t),this._onSetStage&&this._onSetStage(this,e,t),Ne.graphicService.onSetStage(this,e),this.forEachChildren(n=>{n.setStage(e,this.layer)}))}addUpdatePositionTag(){super.addUpdatePositionTag(),this.forEachChildren(e=>{e.isContainer&&e.addUpdateGlobalPositionTag()})}addUpdateGlobalPositionTag(){super.addUpdateGlobalPositionTag(),this.forEachChildren(e=>{e.isContainer&&e.addUpdateGlobalPositionTag()})}tryUpdateGlobalTransMatrix(e=!0){if(this.shouldUpdateGlobalMatrix()){if(this._globalTransMatrix){if(this.parent){const t=this.parent.globalTransMatrix;this._globalTransMatrix.setValue(t.a,t.b,t.c,t.d,t.e,t.f)}}else this._globalTransMatrix=this.parent?this.parent.globalTransMatrix.clone():this.transMatrix.clone();this.doUpdateGlobalMatrix(),e&&this.clearUpdateGlobalPositionTag()}return this._globalTransMatrix}shouldUpdateGlobalMatrix(){return!!(this._updateTag&ar.UPDATE_GLOBAL_MATRIX)}_getChildByName(e,t){return this.find(n=>n.name===e,t)}createOrUpdateChild(e,t,n){let r=this._getChildByName(e);return r?r.setAttributes(t):(r=Ne.graphicService.creator[n](t),r.name=e,this.add(r)),r}clone(){return new u5(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return u5.NOWORK_ANIMATE_ATTR}};Hw.NOWORK_ANIMATE_ATTR=Zo;function lX(i){return new Hw(i)}class slt extends Hw{get offscreen(){return this.layerHandler.offscreen}get layerMode(){return this.layerHandler.type}get width(){return this.stage?this.stage.width:0}get height(){return this.stage?this.stage.height:0}get viewWidth(){return this.stage?this.stage.viewWidth:0}get viewHeight(){return this.stage?this.stage.viewHeight:0}get dirtyBound(){throw new Error("")}get dpr(){return this._dpr}constructor(e,t,n,r){var s;super({}),this.stage=e,this.global=t,this.window=n,this.main=r.main,this.layerHandler=r.layerHandler,this.layerHandler.init(this,n,{main:r.main,canvasId:r.canvasId,width:this.viewWidth,height:this.viewHeight,zIndex:(s=r.zIndex)!==null&&s!==void 0?s:0}),this.layer=this,this.subLayers=new Map,this.theme=new ST,this.background="rgba(0, 0, 0, 0)",this.afterDrawCbs=[]}combineSubLayer(e=!0){const t=Array.from(this.subLayers.values()).sort((n,r)=>n.zIndex-r.zIndex);this.layerHandler.merge(t.map(n=>(n.layer.subLayers.size&&n.layer.combineSubLayer(e),n.layer.getNativeHandler()))),e&&t.forEach(n=>{n.group&&(n.group.incremental=0)}),t.forEach(n=>{Ne.layerService.releaseLayer(this.stage,n.layer)}),this.subLayers.clear()}getNativeHandler(){return this.layerHandler}setStage(e,t){super.setStage(e,this)}pick(e,t){throw new Error("")}tryRenderSecondaryLayer(e,t){this.layerHandler.secondaryHandlers&&this.layerHandler.secondaryHandlers.length&&this.layerHandler.secondaryHandlers.forEach(n=>{n.layer.renderCount=this.renderCount,n.layer.render(e,t)})}render(e,t){var n;this.layerHandler.render([this],{renderService:e.renderService,stage:this.stage,layer:this,viewBox:e.viewBox,transMatrix:e.transMatrix,background:(n=e.background)!==null&&n!==void 0?n:this.background,updateBounds:e.updateBounds},t),this.afterDrawCbs.forEach(r=>r(this)),this.tryRenderSecondaryLayer(e,t)}resize(e,t){this.layerHandler.resize(e,t)}resizeView(e,t){this.layerHandler.resizeView(e,t)}setDpr(e){this.layerHandler.setDpr(e)}afterDraw(e){this.afterDrawCbs.push(e)}startAnimate(e){throw new Error("")}setToFrame(e){throw new Error("")}prepare(e,t){}release(){super.release(),this.layerHandler.release(),this.subLayers&&this.subLayers.forEach(e=>{Ne.layerService.releaseLayer(this.stage,e.layer)})}drawTo(e,t){var n;this.layerHandler.drawTo(e,[this],Object.assign({background:(n=t.background)!==null&&n!==void 0?n:this.background,renderService:t.renderService,viewBox:t.viewBox,transMatrix:t.transMatrix,stage:this.stage,layer:this},t)),this.afterDrawCbs.forEach(r=>r(this))}}const lCe=Symbol.for("TransformUtil"),uCe=Symbol.for("GraphicUtil"),uX=Symbol.for("LayerService"),cCe=Symbol.for("StaticLayerHandlerContribution"),dCe=Symbol.for("DynamicLayerHandlerContribution"),hCe=Symbol.for("VirtualLayerHandlerContribution");var nE,alt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},olt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let rE=nE=class{static GenerateLayerId(){return`${nE.idprefix}_${nE.prefix_count++}`}constructor(){this.layerMap=new Map,this.global=Ne.global}tryInit(){this.inited||(this.staticLayerCountInEnv=this.global.getStaticCanvasCount(),this.dynamicLayerCountInEnv=this.global.getDynamicCanvasCount(),this.inited=!0)}getStageLayer(i){return this.layerMap.get(i)}getRecommendedLayerType(i){return i||(this.staticLayerCountInEnv!==0?"static":this.dynamicLayerCountInEnv!==0?"dynamic":"virtual")}getLayerHandler(i){let e;return e=i==="static"?gi.get(cCe):i==="dynamic"?gi.get(dCe):gi.get(hCe),e}createLayer(i,e={main:!1}){var t;this.tryInit();let n=this.getRecommendedLayerType(e.layerMode);n=e.main||e.canvasId?"static":n;const r=this.getLayerHandler(n),s=new slt(i,this.global,i.window,Object.assign(Object.assign({main:!1},e),{layerMode:n,canvasId:(t=e.canvasId)!==null&&t!==void 0?t:nE.GenerateLayerId(),layerHandler:r})),a=this.layerMap.get(i)||[];return a.push(s),this.layerMap.set(i,a),this.staticLayerCountInEnv--,s}prepareStageLayer(i){let e;i.forEachChildren(t=>{const n=t.getNativeHandler();n.type==="virtual"?(n.mainHandler=e,e.secondaryHandlers.push(n)):(e=n,e.secondaryHandlers=[])})}releaseLayer(i,e){e.release();const t=this.layerMap.get(i)||[];this.layerMap.set(i,t.filter(n=>n!==e))}layerCount(i){return(this.layerMap.get(i)||[]).length}restLayerCount(i){return this.global.env==="browser"?10:0}releaseStage(i){this.layerMap.delete(i)}};rE.idprefix="visactor_layer",rE.prefix_count=0,rE=nE=alt([Tt(),olt("design:paramtypes",[])],rE);const llt=new mi(i=>{i(qK).to(KV).inSingletonScope(),i(kD).to(n5),i(uCe).to(r5).inSingletonScope(),i(lCe).to(s5).inSingletonScope(),i(uX).to(rE).inSingletonScope()});function mb(i,e){return!(!i&&!e)}function Vw(i,e){let t;return t=ke(i)?i.some(n=>n||n===void 0):!!i,t&&e>0}function j_(i,e,t){return t&&i*e>0}function cX(i,e,t,n,r){return r&&i*e>0&&t!==0&&n!==0}function dX(i,e){return i*e>0}function hX(i,e,t,n){return i*e>0&&t!==0&&n!==0}function ult(i,e,t,n,r,s,a,o){if(!i.pathProxy)return!1;const l=qe(i,s==null?void 0:s.theme)[i.type.replace("3d","")],{fill:u=l.fill,stroke:c=l.stroke,opacity:d=l.opacity,fillOpacity:h=l.fillOpacity,lineWidth:p=l.lineWidth,strokeOpacity:f=l.strokeOpacity,visible:g=l.visible,x:v=l.x,y:m=l.y}=i.attribute,b=j_(d,h,u),_=dX(d,f),S=mb(u),C=Vw(c,p);if(!g||!S&&!C||!(b||_||a||o))return!0;e.beginPath();const k=typeof i.pathProxy=="function"?i.pathProxy(i.attribute):i.pathProxy;return Pg(k.commandList,e,t,n),e.setShadowBlendStyle&&e.setShadowBlendStyle(i,i.attribute,l),C&&_&&(e.setStrokeStyle(i,i.attribute,t-v,n-m,l),e.stroke()),S&&b&&(e.setCommonStyle(i,i.attribute,t-v,n-m,l),e.fill()),!0}function pCe(i,e,t,n,r,s,a,o){const l=t-i,u=n-e,c=a-r,d=o-s;let h=d*l-c*u;return h*h<xn?[]:(h=(c*(e-s)-d*(i-r))/h,[i+h*l,e+h*u])}function Sv(i,e,t,n,r,s,a){const o=i-t,l=e-n,u=(a?s:-s)/Math.sqrt(o*o+l*l),c=u*l,d=-u*o,h=i+c,p=e+d,f=t+c,g=n+d,v=(h+f)/2,m=(p+g)/2,b=f-h,_=g-p,S=b*b+_*_,C=r-s,k=h*g-f*p,E=(_<0?-1:1)*Math.sqrt(Math.max(0,C*C*S-k*k));let A=(k*_-b*E)/S,P=(-k*b-_*E)/S;const O=(k*_+b*E)/S,M=(-k*b+_*E)/S,D=A-v,L=P-m,H=O-v,B=M-m;return D*D+L*L>H*H+B*B&&(A=O,P=M),{cx:A,cy:P,x01:-c,y01:-d,x11:A*(r/C-1),y11:P*(r/C-1)}}function OD(i,e,t,n,r,s,a){const{startAngle:o,endAngle:l}=i.getParsedAngle(),u=dn(l-o),c=l>o;let d=!1;if(r<s){const h=r;r=s,s=h}if(r<=xn)e.moveTo(t,n);else if(u>=Vi-xn)e.moveTo(t+r*Yn(o),n+r*bn(o)),e.arc(t,n,r,o,l,!c),s>xn&&(e.moveTo(t+s*Yn(l),n+s*bn(l)),e.arc(t,n,s,l,o,c));else{const h=i.getParsedCornerRadius(),{outerDeltaAngle:p,innerDeltaAngle:f,outerStartAngle:g,outerEndAngle:v,innerEndAngle:m,innerStartAngle:b}=i.getParsePadAngle(o,l),_=h,S=h,C=h,k=h,E=Math.max(S,_),A=Math.max(C,k);let P=E,O=A;const M=r*Yn(g),D=r*bn(g),L=s*Yn(m),H=s*bn(m);let B,F,z,N;if((A>xn||E>xn)&&(B=r*Yn(v),F=r*bn(v),z=s*Yn(b),N=s*bn(b),u<Dn)){const U=pCe(M,D,z,N,B,F,L,H);if(U){const G=M-U[0],j=D-U[1],K=B-U[0],ie=F-U[1],ae=1/bn(hxe((G*K+j*ie)/(tu(G*G+j*j)*tu(K*K+ie*ie)))/2),re=tu(U[0]*U[0]+U[1]*U[1]);O=xo(A,(s-re)/(ae-1)),P=xo(E,(r-re)/(ae+1))}}if(p<.001)a&&(a[3]||a[1])&&e.moveTo(t+M,n+D),d=!0;else if(P>xn){const U=xo(_,P),G=xo(S,P),j=Sv(z,N,M,D,r,U,Number(c)),K=Sv(B,F,L,H,r,G,Number(c));P<E&&U===G?!a||a[0]?(e.moveTo(t+j.cx+j.x01,n+j.cy+j.y01),e.arc(t+j.cx,n+j.cy,P,zn(j.y01,j.x01),zn(K.y01,K.x01),!c)):e.moveTo(t+j.cx+P*Yn(zn(K.y01,K.x01)),n+j.cy+P*bn(zn(K.y01,K.x01))):!a||a[0]?(e.moveTo(t+j.cx+j.x01,n+j.cy+j.y01),U>0&&e.arc(t+j.cx,n+j.cy,U,zn(j.y01,j.x01),zn(j.y11,j.x11),!c),e.arc(t,n,r,zn(j.cy+j.y11,j.cx+j.x11),zn(K.cy+K.y11,K.cx+K.x11),!c),G>0&&e.arc(t+K.cx,n+K.cy,G,zn(K.y11,K.x11),zn(K.y01,K.x01),!c)):G>0?e.moveTo(t+K.cx+G*Yn(zn(K.y01,K.x01)),n+K.cy+G*bn(zn(K.y01,K.x01))):e.moveTo(t+B,n+r*bn(v))}else!a||a[0]?(e.moveTo(t+M,n+D),e.arc(t,n,r,g,v,!c)):e.moveTo(t+r*Yn(v),n+r*bn(v));if(!(s>xn)||f<.001)!a||a[1]?e.lineTo(t+L,n+H):e.moveTo(t+L,n+H),d=!0;else if(O>xn){const U=xo(k,O),G=xo(C,O),j=Sv(L,H,B,F,s,-G,Number(c)),K=Sv(M,D,z,N,s,-U,Number(c));if(!a||a[1]?e.lineTo(t+j.cx+j.x01,n+j.cy+j.y01):e.moveTo(t+j.cx+j.x01,n+j.cy+j.y01),O<A&&U===G){const ie=zn(K.y01,K.x01);!a||a[2]?e.arc(t+j.cx,n+j.cy,O,zn(j.y01,j.x01),ie,!c):e.moveTo(t+j.cx+Yn(ie),n+j.cy+bn(ie))}else!a||a[2]?(G>0&&e.arc(t+j.cx,n+j.cy,G,zn(j.y01,j.x01),zn(j.y11,j.x11),!c),e.arc(t,n,s,zn(j.cy+j.y11,j.cx+j.x11),zn(K.cy+K.y11,K.cx+K.x11),c),U>0&&e.arc(t+K.cx,n+K.cy,U,zn(K.y11,K.x11),zn(K.y01,K.x01),!c)):U>0?e.moveTo(t+K.cx+U*Yn(zn(K.y01,K.x01)),n+K.cy+U*bn(zn(K.y01,K.x01))):e.moveTo(t+z,n+N)}else!a||a[1]?e.lineTo(t+L,n+H):e.moveTo(t+L,n+H),!a||a[2]?e.arc(t,n,s,m,b,c):e.moveTo(t+s*Yn(b),n+s*bn(b))}return a?a[3]&&e.lineTo(t+r*Yn(o),n+r*bn(o)):e.closePath(),d}class Td{static GetCanvas(){try{return Td.canvas||(Td.canvas=Ne.global.createCanvas({})),Td.canvas}catch{return null}}static GetCtx(){if(!Td.ctx){const e=Td.GetCanvas();Td.ctx=e.getContext("2d")}return Td.ctx}}class Fy extends Ynt{static getInstance(){return Fy._instance||(Fy._instance=new Fy),Fy._instance}constructor(e=[],t=100){super(),this.cacheParams={CLEAN_THRESHOLD:100,L_TIME:1e3},this.dataMap=new Map;const n=Td.GetCanvas(),r=Td.GetCtx();if(n.width=t,n.height=1,!r)return;if(r.translate(0,0),!r)throw new Error("ctx");const s=r.createLinearGradient(0,0,t,0);e.forEach(a=>{s.addColorStop(a[0],a[1])}),r.fillStyle=s,r.fillRect(0,0,t,1),this.rgbaSet=r.getImageData(0,0,t,1).data}getColor(e){const t=this.rgbaSet.slice(4*e,4*e+4);return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]/255})`}GetOrCreate(e,t,n,r,s=[],a=100){let o=`${e}${t}${n}${r}`;s.forEach(u=>o+=u.join()),o+=a;let l=this.dataMap.get(o);return l||(l={data:new Fy(s,a),timestamp:[]},this.addLimitedTimestamp(l,Date.now(),{}),this.dataMap.set(o,l)),this.clearCache(this.dataMap,this.cacheParams),l.data}}class gl{static GetSize(e){for(let t=0;t<gl.ImageSize.length;t++)if(gl.ImageSize[t]>=e)return gl.ImageSize[t];return e}static Get(e,t,n,r,s,a,o){const l=gl.GenKey(e,t,n,r,s),u=gl.cache[l];if(!u||u.length===0)return null;for(let c=0;c<u.length;c++)if(u[c].width>=a&&u[c].height>=o)return u[c].pattern;return null}static Set(e,t,n,r,s,a,o,l){const u=gl.GenKey(e,t,n,r,s);gl.cache[u]?gl.cache[u].push({width:o,height:l,pattern:a}):gl.cache[u]=[{width:o,height:l,pattern:a}]}static GenKey(e,t,n,r,s){return`${t},${n},${r},${s},${e.join()}`}}gl.cache={},gl.ImageSize=[20,40,80,160,320,640,1280,2560];function clt(i,e,t,n){const{stops:r,startAngle:s,endAngle:a}=n;for(;t<0;)t+=Vi;for(;t>Vi;)t-=Vi;if(t<s||t>a)return r[0].color;let o,l,u=(t-s)/(a-s);for(let c=0;c<r.length;c++)if(r[c].offset>=u){o=r[c-1],l=r[c];break}return u=(u-o.offset)/(l.offset-o.offset),c_(o.color,l.color,u,!1)}function dlt(i,e,t,n,r,s,a,o,l){const u=Math.floor(180*r/Math.PI),c=Td.GetCanvas(),d=Td.GetCtx();if(!d)return null;const h=gl.GetSize(o),p=gl.GetSize(l);let f=gl.Get(e,t,n,s,a,h,p);if(f)return f;const g=Math.sqrt(Math.max(Math.max(Math.pow(t,2)+Math.pow(n,2),Math.pow(h-t,2)+Math.pow(n,2)),Math.max(Math.pow(h-t,2)+Math.pow(p-n,2),Math.pow(t,2)+Math.pow(p-n,2)))),v=u+1,m=r/Math.max(1,v-1),b=Fy.getInstance().GetOrCreate(t,n,h,p,e,v),_=2*Math.PI*g/360;c.width=h,c.height=p,d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,h,p),d.translate(t,n),d.rotate(s);for(let C=0,k=v-1;C<k&&!(s+C*m>a);C++){const E=b.getColor(C);d.beginPath(),d.rotate(m),d.moveTo(0,0),d.lineTo(g,-2*_),d.lineTo(g,0),d.fillStyle=E,d.closePath(),d.fill()}const S=d.getImageData(0,0,h,p);return c.width=S.width,c.height=S.height,d.putImageData(S,0,0),f=i.createPattern(c,"no-repeat"),f&&gl.Set(e,t,n,s,a,f,h,p),f}const c5=Symbol.for("ArcRenderContribution"),d5=Symbol.for("AreaRenderContribution"),h5=Symbol.for("CircleRenderContribution"),fCe=Symbol.for("GroupRenderContribution"),p5=Symbol.for("ImageRenderContribution"),f5=Symbol.for("PathRenderContribution"),g5=Symbol.for("PolygonRenderContribution"),sE=Symbol.for("RectRenderContribution"),m5=Symbol.for("SymbolRenderContribution"),v5=Symbol.for("TextRenderContribution"),pX=Symbol.for("InteractiveSubRenderContribution"),Coe=["radius","startAngle","endAngle",...Wc];class wT extends Ll{constructor(e={radius:1}){super(e),this.type="circle",this.numberType=jB}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{startAngle:e,endAngle:t,radius:n}=this.attribute;return this._validNumber(e)&&this._validNumber(t)&&this._validNumber(n)}doUpdateAABBBounds(e){const t=qe(this).circle;this._AABBBounds.clear();const n=this.attribute,r=Ne.graphicService.updateCircleAABBBounds(n,qe(this).circle,this._AABBBounds,e,this),{boundsPadding:s=t.boundsPadding}=n,a=Yo(s);return a&&r.expand(a),this.clearUpdateBoundTag(),r}tryUpdateOBBBounds(){throw new Error("")}getDefaultAttribute(e){return qe(this).circle[e]}needUpdateTags(e){return super.needUpdateTags(e,Coe)}needUpdateTag(e){return super.needUpdateTag(e,Coe)}toCustomPath(){var e,t,n;const r=this.attribute,s=(e=r.radius)!==null&&e!==void 0?e:this.getDefaultAttribute("radius"),a=(t=r.startAngle)!==null&&t!==void 0?t:this.getDefaultAttribute("startAngle"),o=(n=r.endAngle)!==null&&n!==void 0?n:this.getDefaultAttribute("endAngle"),l=new ba;return l.arc(0,0,s,a,o),l}clone(){return new wT(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return wT.NOWORK_ANIMATE_ATTR}}wT.NOWORK_ANIMATE_ATTR=Zo;function hlt(i){return new wT(i)}function y5(i,e={},t){t||(t=1);const{fontStyle:n=e.fontStyle,fontVariant:r=e.fontVariant,fontWeight:s=e.fontWeight,fontSize:a=e.fontSize,fontFamily:o=e.fontFamily}=i;return(n?n+" ":"")+(r?r+" ":"")+(s?s+" ":"")+a*t+"px "+(o||"sans-serif")}function plt(i,e){return i==="top"?Math.ceil(.79*e):i==="middle"?Math.round(.3*e):i==="bottom"?Math.round(-.21*e):0}function Sg(i,e){return i==="end"||i==="right"?-e:i==="center"?-e/2:0}function Up(i,e,t,n=0){return i==="middle"?-e/2:i==="top"?0:i==="bottom"?n-e:i&&i!=="alphabetic"?0:(t||(t=e),-(e-t)/2-.79*t)}function flt(i){const e={};return["textAlign","fontFamily","fontVariant","fontStyle","fontWeight"].forEach(t=>{i[t]&&(e[dae(t)]=i[t])}),["fontSize","lineHeight"].forEach(t=>{const n=dae(t);Y(i[t])||(e[n]=/^[0-9]*$/.test(`${i[t]}`)?`${i[t]}px`:`${i[t]}`)}),i.underline?e["text-decoration"]="underline":i.lineThrough&&(e["text-decoration"]="line-through"),i.fill&&ct(i.fill)&&(e.color=i.fill),e}class koe{constructor(e,t,n){this.fontFamily=e,this.textOptions=t,this.textMeasure=n}LayoutBBox(e,t,n){if(t==="left"||t==="start")e.xOffset=0;else if(t==="center")e.xOffset=e.width/-2;else{if(t!=="right"&&t!=="end")throw new Error("textAlign");e.xOffset=-e.width}return e.yOffset=n==="top"?0:n==="middle"?e.height/-2:n==="alphabetic"?-.79*e.height:-e.height,e}GetLayout(e,t,n,r,s,a,o,l,u){const c=[],d=[t,n],h=[0,0];for(;e.length>0;){const{str:f}=this.textMeasure.clipTextWithSuffix(e,this.textOptions,t,o,l,u);c.push({str:f,width:this.textMeasure.measureTextWidth(f,this.textOptions)}),e=e.substring(f.length)}r==="left"||r==="start"||(r==="center"?h[0]=d[0]/-2:r!=="right"&&r!=="end"||(h[0]=-d[0])),s==="top"||(s==="middle"?h[1]=d[1]/-2:s==="bottom"&&(h[1]=-d[1]));const p={xOffset:h[0],yOffset:h[1],width:d[0],height:d[1]};return this.layoutWithBBox(p,c,r,s,a)}GetLayoutByLines(e,t,n,r,s="",a,o,l="end"){e=e.map(h=>h.toString());const u=[],c=[0,0];if(typeof o=="number"&&o!==1/0){let h;for(let p=0,f=e.length;p<f;p++)h=Math.min(this.textMeasure.measureTextWidth(e[p],this.textOptions),o),u.push({str:this.textMeasure.clipTextWithSuffix(e[p],this.textOptions,h,s,a,l).str,width:h});c[0]=o}else{let h,p;o=0;for(let f=0,g=e.length;f<g;f++)p=e[f],h=this.textMeasure.measureTextWidth(p,this.textOptions),o=Math.max(o,h),u.push({str:p,width:h});c[0]=o}c[1]=u.length*r,c[0]=u.reduce((h,p)=>Math.max(h,p.width),0);const d={xOffset:0,yOffset:0,width:c[0],height:c[1]};return this.LayoutBBox(d,t,n),this.layoutWithBBox(d,u,t,n,r)}layoutWithBBox(e,t,n,r,s){const a=[0,0],o=t.length*s;r==="top"||(r==="middle"?a[1]=(e.height-o)/2:r==="bottom"&&(a[1]=e.height-o));for(let l=0;l<t.length;l++)this.lineOffset(e,t[l],n,r,s,a);return{bbox:e,lines:t,fontFamily:this.fontFamily,fontSize:this.textOptions.fontSize,fontWeight:this.textOptions.fontWeight,lineHeight:s,textAlign:n,textBaseline:r}}lineOffset(e,t,n,r,s,a){return n==="left"||n==="start"?t.leftOffset=0:n==="center"?t.leftOffset=(e.width-t.width)/2:n!=="right"&&n!=="end"||(t.leftOffset=e.width-t.width),t.topOffset=(s-this.textOptions.fontSize)/2+.79*this.textOptions.fontSize+a[1],a[1]+=s,t}}const Eoe=["text","maxLineWidth","textAlign","textBaseline","heightLimit","lineClamp","fontSize","fontFamily","fontWeight","ellipsis","lineHeight","direction","wordBreak","heightLimit","lineClamp",...Wc];let V3=class ug extends Ll{get font(){const e=qe(this).text;return this._font||(this._font=y5(this.attribute,e)),this._font}get clipedText(){var e;const t=this.attribute,n=qe(this).text;if(!this.isSimplify())return;const{maxLineWidth:r=n.maxLineWidth}=t;return Number.isFinite(r)?(this.tryUpdateAABBBounds(),this.cache.clipedText):((e=t.text)!==null&&e!==void 0?e:n.text).toString()}get clipedWidth(){if(this.isSimplify())return this.tryUpdateAABBBounds(),this.cache.clipedWidth}get cliped(){const e=qe(this).text,t=this.attribute;if(this.isMultiLine)return;const{maxLineWidth:n=e.maxLineWidth}=t;return!!Number.isFinite(n)&&(this.tryUpdateAABBBounds(),t.direction==="vertical"&&this.cache.verticalList&&this.cache.verticalList[0]?this.cache.verticalList[0].map(r=>r.text).join("")!==t.text.toString():this.clipedText!=null&&this.clipedText!==t.text.toString())}get multilineLayout(){if(this.isMultiLine)return this.tryUpdateAABBBounds(),this.cache.layoutData}isSimplify(){return!this.isMultiLine&&this.attribute.direction!=="vertical"}get isMultiLine(){return Array.isArray(this.attribute.text)||this.attribute.whiteSpace==="normal"}constructor(e={text:"",fontSize:16}){super(e),this.type="text",this.numberType=YB,this.cache={}}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{text:e}=this.attribute;return ke(e)?!e.every(t=>t==null||t===""):e!=null&&e!==""}doUpdateAABBBounds(){const e=qe(this).text;this._AABBBounds.clear();const t=this.attribute,n=Ne.graphicService.updateTextAABBBounds(t,e,this._AABBBounds,this),{boundsPadding:r=e.boundsPadding}=this.attribute,s=Yo(r);return s&&n.expand(s),this.clearUpdateBoundTag(),n}updateWrapAABBBounds(e){var t,n,r,s;const a=qe(this).text,{fontFamily:o=a.fontFamily,textAlign:l=a.textAlign,textBaseline:u=a.textBaseline,fontSize:c=a.fontSize,ellipsis:d=a.ellipsis,maxLineWidth:h,stroke:p=a.stroke,lineWidth:f=a.lineWidth,wordBreak:g=a.wordBreak,fontWeight:v=a.fontWeight,ignoreBuf:m=a.ignoreBuf,suffixPosition:b=a.suffixPosition,heightLimit:_=0,lineClamp:S}=this.attribute,C=(t=kg(this.attribute.lineHeight,this.attribute.fontSize||a.fontSize))!==null&&t!==void 0?t:this.attribute.fontSize||a.fontSize,k=m?0:2;if(!this.shouldUpdateShape()&&(!((n=this.cache)===null||n===void 0)&&n.layoutData)){const B=this.cache.layoutData.bbox;return this._AABBBounds.set(B.xOffset,B.yOffset,B.xOffset+B.width,B.yOffset+B.height),p&&this._AABBBounds.expand(f/2),this._AABBBounds}const E=Ne.graphicUtil.textMeasure,A=new koe(o,{fontSize:c,fontWeight:v,fontFamily:o},E),P=ke(e)?e.map(B=>B.toString()):[e.toString()],O=[],M=[0,0];let D=1/0;if(_>0&&(D=Math.max(Math.floor(_/C),1)),S&&(D=Math.min(D,S)),typeof h=="number"&&h!==1/0){if(h>0)for(let F=0;F<P.length;F++){const z=P[F];let N=!0;if(F===D-1){const G=A.textMeasure.clipTextWithSuffix(z,A.textOptions,h,d,!1,b,F!==P.length-1);O.push({str:G.str,width:G.width});break}const U=A.textMeasure.clipText(z,A.textOptions,h,g==="break-word");if(z!==""&&U.str===""){if(d){const G=A.textMeasure.clipTextWithSuffix(z,A.textOptions,h,d,!1,b);U.str=(r=G.str)!==null&&r!==void 0?r:"",U.width=(s=G.width)!==null&&s!==void 0?s:0}else U.str="",U.width=0;N=!1}if(O.push({str:U.str,width:U.width}),U.str.length!==z.length){if(N){const G=z.substring(U.str.length);P.splice(F+1,0,G)}}}let B=0;O.forEach(F=>{B=Math.max(B,F.width)}),M[0]=B}else{let B,F,z=0;for(let N=0,U=P.length;N<U;N++){if(N===D-1){const G=A.textMeasure.clipTextWithSuffix(P[N],A.textOptions,h,d,!1,b);O.push({str:G.str,width:G.width}),z=Math.max(z,G.width);break}F=P[N],B=A.textMeasure.measureTextWidth(F,A.textOptions,g==="break-word"),z=Math.max(z,B),O.push({str:F,width:B})}M[0]=z}M[1]=O.length*(C+k);const L={xOffset:0,yOffset:0,width:M[0],height:M[1]};A.LayoutBBox(L,l,u);const H=A.layoutWithBBox(L,O,l,u,C);return this.cache.layoutData=H,this.clearUpdateShapeTag(),this._AABBBounds.set(L.xOffset,L.yOffset,L.xOffset+L.width,L.yOffset+L.height),p&&this._AABBBounds.expand(f/2),this._AABBBounds}updateSingallineAABBBounds(e){const t=qe(this).text,{direction:n=t.direction,underlineOffset:r=t.underlineOffset}=this.attribute,s=n==="horizontal"?this.updateHorizontalSinglelineAABBBounds(e):this.updateVerticalSinglelineAABBBounds(e);return n==="horizontal"&&r&&this._AABBBounds.add(this._AABBBounds.x1,this._AABBBounds.y2+r),s}updateMultilineAABBBounds(e){const t=qe(this).text,{direction:n=t.direction,underlineOffset:r=t.underlineOffset}=this.attribute,s=n==="horizontal"?this.updateHorizontalMultilineAABBBounds(e):this.updateVerticalMultilineAABBBounds(e);return n==="horizontal"&&r&&this._AABBBounds.add(this._AABBBounds.x1,this._AABBBounds.y2+r),s}updateHorizontalSinglelineAABBBounds(e){var t,n;const r=qe(this).text,{wrap:s=r.wrap}=this.attribute;if(s)return this.updateWrapAABBBounds([e]);const a=Ne.graphicUtil.textMeasure;let o,l;const u=this.attribute,{maxLineWidth:c=r.maxLineWidth,ellipsis:d=r.ellipsis,textAlign:h=r.textAlign,textBaseline:p=r.textBaseline,fontFamily:f=r.fontFamily,fontSize:g=r.fontSize,fontWeight:v=r.fontWeight,stroke:m=r.stroke,lineWidth:b=r.lineWidth,ignoreBuf:_=r.ignoreBuf,whiteSpace:S=r.whiteSpace,suffixPosition:C=r.suffixPosition}=u;if(S==="normal")return this.updateWrapAABBBounds(e);const k=_?0:Math.max(2,.075*g),E=u.fontSize||r.fontSize,A=(t=kg(u.lineHeight,E))!==null&&t!==void 0?t:E+k;if(!this.shouldUpdateShape()&&this.cache){o=(n=this.cache.clipedWidth)!==null&&n!==void 0?n:0;const D=Sg(h,o),L=Up(p,A,g);return this._AABBBounds.set(D,L,D+o,L+A),m&&this._AABBBounds.expand(b/2),this._AABBBounds}if(Number.isFinite(c)){if(d){const D=d===!0?r.ellipsis:d,L=a.clipTextWithSuffix(e.toString(),{fontSize:g,fontWeight:v,fontFamily:f},c,D,!1,C);l=L.str,o=L.width}else{const D=a.clipText(e.toString(),{fontSize:g,fontWeight:v,fontFamily:f},c,!1);l=D.str,o=D.width}this.cache.clipedText=l,this.cache.clipedWidth=o}else o=a.measureTextWidth(e.toString(),{fontSize:g,fontWeight:v,fontFamily:f}),this.cache.clipedText=e.toString(),this.cache.clipedWidth=o;this.clearUpdateShapeTag();const P=Sg(h,o);let O=A;Ne.global&&Ne.global.isSafari()&&(O+=.2*g);const M=Up(p,O,g,k);return this._AABBBounds.set(P,M,P+o,M+O),m&&this._AABBBounds.expand(b/2),this._AABBBounds}getBaselineMapAlign(){return ug.baselineMapAlign}getAlignMapBaseline(){return ug.alignMapBaseline}updateVerticalSinglelineAABBBounds(e){var t,n,r;const s=qe(this).text,a=Ne.graphicUtil.textMeasure;let o;const l=this.attribute,{ignoreBuf:u=s.ignoreBuf}=l,c=u?0:2,{maxLineWidth:d=s.maxLineWidth,ellipsis:h=s.ellipsis,fontSize:p=s.fontSize,fontWeight:f=s.fontWeight,fontFamily:g=s.fontFamily,stroke:v=s.stroke,lineWidth:m=s.lineWidth,verticalMode:b=s.verticalMode,suffixPosition:_=s.suffixPosition}=l,S=(t=kg(l.lineHeight,l.fontSize||s.fontSize))!==null&&t!==void 0?t:(l.fontSize||s.fontSize)+c;let{textAlign:C=s.textAlign,textBaseline:k=s.textBaseline}=l;if(!b){const O=C;C=(n=ug.baselineMapAlign[k])!==null&&n!==void 0?n:"left",k=(r=ug.alignMapBaseline[O])!==null&&r!==void 0?r:"top"}if(!this.shouldUpdateShape()&&this.cache){o=this.cache.clipedWidth;const O=Sg(C,o),M=Up(k,S,p);return this._AABBBounds.set(M,O,M+S,O+o),v&&this._AABBBounds.expand(m/2),this._AABBBounds}let E=[xoe(e.toString())];if(Number.isFinite(d)){if(h){const O=h===!0?s.ellipsis:h,M=a.clipTextWithSuffixVertical(E[0],{fontSize:p,fontWeight:f,fontFamily:g},d,O,!1,_);E=[M.verticalList],o=M.width}else{const O=a.clipTextVertical(E[0],{fontSize:p,fontWeight:f,fontFamily:g},d,!1);E=[O.verticalList],o=O.width}this.cache.verticalList=E,this.cache.clipedWidth=o}else o=0,E[0].forEach(O=>{const M=O.direction===d_.HORIZONTAL?p:a.measureTextWidth(O.text,{fontSize:p,fontWeight:f,fontFamily:g});o+=M,O.width=M}),this.cache.verticalList=E,this.cache.clipedWidth=o;this.clearUpdateShapeTag();const A=Sg(C,o),P=Up(k,S,p);return this._AABBBounds.set(P,A,P+S,A+o),v&&this._AABBBounds.expand(m/2),this._AABBBounds}updateHorizontalMultilineAABBBounds(e){var t,n;const r=qe(this).text,{wrap:s=r.wrap}=this.attribute;if(s)return this.updateWrapAABBBounds(e);const a=this.attribute,{fontFamily:o=r.fontFamily,textAlign:l=r.textAlign,textBaseline:u=r.textBaseline,fontSize:c=r.fontSize,fontWeight:d=r.fontWeight,ellipsis:h=r.ellipsis,maxLineWidth:p,stroke:f=r.stroke,lineWidth:g=r.lineWidth,whiteSpace:v=r.whiteSpace,suffixPosition:m=r.suffixPosition}=a,b=(t=kg(a.lineHeight,a.fontSize||r.fontSize))!==null&&t!==void 0?t:a.fontSize||r.fontSize;if(v==="normal")return this.updateWrapAABBBounds(e);if(!this.shouldUpdateShape()&&(!((n=this.cache)===null||n===void 0)&&n.layoutData)){const k=this.cache.layoutData.bbox;return this._AABBBounds.set(k.xOffset,k.yOffset,k.xOffset+k.width,k.yOffset+k.height),f&&this._AABBBounds.expand(g/2),this._AABBBounds}const _=Ne.graphicUtil.textMeasure,S=new koe(o,{fontSize:c,fontWeight:d,fontFamily:o},_).GetLayoutByLines(e,l,u,b,h===!0?r.ellipsis:h||void 0,!1,p,m),{bbox:C}=S;return this.cache.layoutData=S,this.clearUpdateShapeTag(),this._AABBBounds.set(C.xOffset,C.yOffset,C.xOffset+C.width,C.yOffset+C.height),f&&this._AABBBounds.expand(g/2),this._AABBBounds}updateVerticalMultilineAABBBounds(e){var t,n,r;const s=qe(this).text,a=Ne.graphicUtil.textMeasure;let o;const l=this.attribute,{ignoreBuf:u=s.ignoreBuf}=l,c=u?0:2,{maxLineWidth:d=s.maxLineWidth,ellipsis:h=s.ellipsis,fontFamily:p=s.fontFamily,fontSize:f=s.fontSize,fontWeight:g=s.fontWeight,stroke:v=s.stroke,lineWidth:m=s.lineWidth,verticalMode:b=s.verticalMode,suffixPosition:_=s.suffixPosition}=l,S=(t=kg(l.lineHeight,l.fontSize||s.fontSize))!==null&&t!==void 0?t:(l.fontSize||s.fontSize)+c;let{textAlign:C=s.textAlign,textBaseline:k=s.textBaseline}=l;if(!b){const M=C;C=(n=ug.baselineMapAlign[k])!==null&&n!==void 0?n:"left",k=(r=ug.alignMapBaseline[M])!==null&&r!==void 0?r:"top"}if(o=0,!this.shouldUpdateShape()&&this.cache){this.cache.verticalList.forEach(H=>{const B=H.reduce((F,z)=>F+z.width,0);o=Jl(B,o)});const M=Sg(C,o),D=this.cache.verticalList.length*S,L=Up(k,D,f);return this._AABBBounds.set(L,M,L+D,M+o),v&&this._AABBBounds.expand(m/2),this._AABBBounds}const E=e.map(M=>xoe(M.toString()));E.forEach((M,D)=>{if(Number.isFinite(d))if(h){const L=h===!0?s.ellipsis:h,H=a.clipTextWithSuffixVertical(M,{fontSize:f,fontWeight:g,fontFamily:p},d,L,!1,_);E[D]=H.verticalList,o=H.width}else{const L=a.clipTextVertical(M,{fontSize:f,fontWeight:g,fontFamily:p},d,!1);E[D]=L.verticalList,o=L.width}else o=0,M.forEach(L=>{const H=L.direction===d_.HORIZONTAL?f:a.measureTextWidth(L.text,{fontSize:f,fontWeight:g,fontFamily:p});o+=H,L.width=H})}),this.cache.verticalList=E,this.clearUpdateShapeTag(),this.cache.verticalList.forEach(M=>{const D=M.reduce((L,H)=>L+H.width,0);o=Jl(D,o)});const A=Sg(C,o),P=this.cache.verticalList.length*S,O=Up(k,P,f);return this._AABBBounds.set(O,A,O+P,A+o),v&&this._AABBBounds.expand(m/2),this._AABBBounds}tryUpdateOBBBounds(){throw new Error("")}getDefaultAttribute(e){return qe(this).text[e]}needUpdateTags(e,t=Eoe){return super.needUpdateTags(e,t)}needUpdateTag(e,t=Eoe){return super.needUpdateTag(e,t)}clone(){return new ug(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return ug.NOWORK_ANIMATE_ATTR}};V3.NOWORK_ANIMATE_ATTR=Object.assign({ellipsis:1,wordBreak:1,direction:1,textAlign:1,textBaseline:1,fontFamily:1,fontWeight:1},Zo),V3.baselineMapAlign={top:"left",bottom:"right",middle:"center"},V3.alignMapBaseline={left:"top",right:"bottom",center:"middle"};function Ux(i){return new V3(i)}class ka{bounds(e,t){if(Xe(e)){const n=e/2;t.x1=-n,t.x2=n,t.y1=-n,t.y2=n}else t.x1=-e[0]/2,t.x2=e[0]/2,t.y1=-e[1]/2,t.y2=e[1]/2}}function Aoe(i,e,t,n,r){return r?i.arc(t,n,e,0,Ra,!1,r):i.arc(t,n,e,0,Ra),!1}class glt extends ka{constructor(){super(...arguments),this.type="circle",this.pathStr="M0.5,0A0.5,0.5,0,1,1,-0.5,0A0.5,0.5,0,1,1,0.5,0"}draw(e,t,n,r,s){return Aoe(e,t/2,n,r,s)}drawOffset(e,t,n,r,s,a){return Aoe(e,t/2+s,n,r,a)}drawToSvgPath(e,t,n,r){const s=e/2;return`M ${t-s}, ${n} a ${s},${s} 0 1,0 ${2*s},0 a ${s},${s} 0 1,0 -${2*s},0`}}const mlt=new glt;function vlt(i,e,t,n,r){return i.moveTo(-3*e+t,-e+n,r),i.lineTo(-e+t,-e+n,r),i.lineTo(-e+t,-3*e+n,r),i.lineTo(e+t,-3*e+n,r),i.lineTo(e+t,-e+n,r),i.lineTo(3*e+t,-e+n,r),i.lineTo(3*e+t,e+n,r),i.lineTo(e+t,e+n,r),i.lineTo(e+t,3*e+n,r),i.lineTo(-e+t,3*e+n,r),i.lineTo(-e+t,e+n,r),i.lineTo(-3*e+t,e+n,r),i.closePath(),!0}function ylt(i,e,t,n,r,s){return i.moveTo(-3*e+t-r,-e+n-r,s),i.lineTo(-e+t-r,-e+n-r,s),i.lineTo(-e+t-r,-3*e+n-r,s),i.lineTo(e+t+r,-3*e+n-r,s),i.lineTo(e+t+r,-e+n-r,s),i.lineTo(3*e+t+r,-e+n-r,s),i.lineTo(3*e+t+r,e+n+r,s),i.lineTo(e+t+r,e+n+r,s),i.lineTo(e+t+r,3*e+n+r,s),i.lineTo(-e+t-r,3*e+n+r,s),i.lineTo(-e+t-r,e+n+r,s),i.lineTo(-3*e+t-r,e+n+r,s),i.closePath(),!0}class _lt extends ka{constructor(){super(...arguments),this.type="cross",this.pathStr="M-0.5,-0.2L-0.5,0.2L-0.2,0.2L-0.2,0.5L0.2,0.5L0.2,0.2L0.5,0.2L0.5,-0.2L0.2,-0.2L0.2,-0.5L-0.2,-0.5L-0.2,-0.2Z"}draw(e,t,n,r,s){return vlt(e,t/6,n,r,s)}drawOffset(e,t,n,r,s,a){return ylt(e,t/6,n,r,s,a)}}const blt=new _lt;function T7(i,e,t,n,r){return i.moveTo(t,n-e,r),i.lineTo(e+t,n,r),i.lineTo(t,n+e,r),i.lineTo(t-e,n,r),i.closePath(),!0}class Slt extends ka{constructor(){super(...arguments),this.type="diamond",this.pathStr="M-0.5,0L0,-0.5L0.5,0L0,0.5Z"}draw(e,t,n,r,s){return T7(e,t/2,n,r,s)}drawFitDir(e,t,n,r,s){return T7(e,t/2,n,r,s)}drawOffset(e,t,n,r,s,a){return T7(e,t/2+s,n,r,a)}}const xlt=new Slt;function Toe(i,e,t,n){const r=2*e;return i.rect(t-e,n-e,r,r),!1}class wlt extends ka{constructor(){super(...arguments),this.type="square",this.pathStr="M-0.5,-0.5h1v1h-1Z"}draw(e,t,n,r){return Toe(e,t/2,n,r)}drawOffset(e,t,n,r,s){return Toe(e,t/2+s,n,r)}}const Clt=new wlt;function klt(i,e,t,n){return i.moveTo(t+e,e+n),i.lineTo(t-e,e+n),i.lineTo(t,n-e),i.closePath(),!0}function Elt(i,e,t,n,r){return i.moveTo(t+e+2*r,e+n+r),i.lineTo(t-e-2*r,e+n+r),i.lineTo(t,n-e-2*r),i.closePath(),!0}class fX extends ka{constructor(){super(...arguments),this.type="triangleUp",this.pathStr="M0.5,0.5 L-0.5,0.5 L0,-0.5 Z"}draw(e,t,n,r){return klt(e,t/2,n,r)}drawOffset(e,t,n,r,s){return Elt(e,t/2,n,r,s)}}const Alt=new fX;class Tlt extends fX{constructor(){super(...arguments),this.type="triangle"}}const Plt=new Tlt,gCe=Math.sin(Math.PI/10)/Math.sin(7*Math.PI/10),Olt=Math.sin(Ra/10)*gCe,Mlt=-Math.cos(Ra/10)*gCe;function Poe(i,e,t,n){const r=Olt*e,s=Mlt*e;i.moveTo(t,-e+n),i.lineTo(r+t,s+n);for(let a=1;a<5;++a){const o=Ra*a/5,l=Math.cos(o),u=Math.sin(o);i.lineTo(u*e+t,-l*e+n),i.lineTo(l*r-u*s+t,u*r+l*s+n)}return i.closePath(),!0}class Ilt extends ka{constructor(){super(...arguments),this.type="star",this.pathStr="M0 -1L0.22451398828979266 -0.3090169943749474L0.9510565162951535 -0.30901699437494745L0.3632712640026804 0.1180339887498948L0.5877852522924732 0.8090169943749473L8.326672684688674e-17 0.3819660112501051L-0.587785252292473 0.8090169943749476L-0.3632712640026804 0.11803398874989487L-0.9510565162951536 -0.30901699437494723L-0.22451398828979274 -0.30901699437494734Z"}draw(e,t,n,r){return Poe(e,t/2,n,r)}drawOffset(e,t,n,r,s){return Poe(e,t/2+s,n,r)}}const Rlt=new Ilt,Dlt=tu(3);function Ooe(i,e,t,n){const r=e,s=r/Dlt,a=s/5,o=e;return i.moveTo(0+t,-r+n),i.lineTo(s/2+t,n),i.lineTo(a/2+t,n),i.lineTo(a/2+t,o+n),i.lineTo(-a/2+t,o+n),i.lineTo(-a/2+t,n),i.lineTo(-s/2+t,n),i.closePath(),!0}class Llt extends ka{constructor(){super(...arguments),this.type="arrow",this.pathStr="M-0.07142857142857142,0.5L0.07142857142857142,0.5L0.07142857142857142,-0.0625L0.2,-0.0625L0,-0.5L-0.2,-0.0625L-0.07142857142857142,-0.0625Z"}draw(e,t,n,r){return Ooe(e,t/2,n,r)}drawOffset(e,t,n,r,s){return Ooe(e,t/2+s,n,r)}}const Flt=new Llt;function Moe(i,e,t,n){const r=2*e;return i.moveTo(t,-e+n),i.lineTo(r/3/2+t,e+n),i.lineTo(-r/3/2+t,e+n),i.closePath(),!0}class Blt extends ka{constructor(){super(...arguments),this.type="wedge",this.pathStr="M0,-0.5773502691896257L-0.125,0.28867513459481287L0.125,0.28867513459481287Z"}draw(e,t,n,r){return Moe(e,t/2,n,r)}drawOffset(e,t,n,r,s){return Moe(e,t/2+s,n,r)}}const $lt=new Blt;function Ioe(i,e,t,n){return i.moveTo(-e+t,n),i.lineTo(t,e+n),!1}class Nlt extends ka{constructor(){super(...arguments),this.type="stroke",this.pathStr=""}draw(e,t,n,r){return Ioe(e,t/2,n,r)}drawOffset(e,t,n,r,s){return Ioe(e,t/2+s,n,r)}}const jlt=new Nlt,vd=-.5,yd=tu(3)/2,Roe=1/tu(12);function Doe(i,e,t,n){const r=e/2,s=e*Roe,a=r,o=e*Roe+e,l=-a,u=o;return i.moveTo(r+t,s+n),i.lineTo(a+t,o+n),i.lineTo(l+t,u+n),i.lineTo(vd*r-yd*s+t,yd*r+vd*s+n),i.lineTo(vd*a-yd*o+t,yd*a+vd*o+n),i.lineTo(vd*l-yd*u+t,yd*l+vd*u+n),i.lineTo(vd*r+yd*s+t,vd*s-yd*r+n),i.lineTo(vd*a+yd*o+t,vd*o-yd*a+n),i.lineTo(vd*l+yd*u+t,vd*u-yd*l+n),i.closePath(),!1}class zlt extends ka{constructor(){super(...arguments),this.type="wye",this.pathStr="M0.25 0.14433756729740646L0.25 0.6443375672974064L-0.25 0.6443375672974064L-0.25 0.14433756729740643L-0.6830127018922193 -0.10566243270259357L-0.4330127018922193 -0.5386751345948129L0 -0.28867513459481287L0.4330127018922193 -0.5386751345948129L0.6830127018922193 -0.10566243270259357Z"}draw(e,t,n,r){return Doe(e,t/2,n,r)}drawOffset(e,t,n,r,s){return Doe(e,t/2+s,n,r)}}const Hlt=new zlt;function Vlt(i,e,t,n){return i.moveTo(-e+t,n),i.lineTo(e+t,e+n),i.lineTo(e+t,n-e),i.closePath(),!0}function Wlt(i,e,t,n,r){return i.moveTo(-e+t-2*r,n),i.lineTo(e+t+r,e+n+2*r),i.lineTo(e+t+r,n-e-2*r),i.closePath(),!0}class Ult extends ka{constructor(){super(...arguments),this.type="triangleLeft",this.pathStr="M-0.5,0 L0.5,0.5 L0.5,-0.5 Z"}draw(e,t,n,r){return Vlt(e,t/2,n,r)}drawOffset(e,t,n,r,s){return Wlt(e,t/2,n,r,s)}}const Glt=new Ult;function Ylt(i,e,t,n){return i.moveTo(t-e,e+n),i.lineTo(e+t,n),i.lineTo(t-e,n-e),i.closePath(),!0}function Klt(i,e,t,n,r){return i.moveTo(t-e-r,e+n+2*r),i.lineTo(e+t+2*r,n),i.lineTo(t-e-r,n-e-2*r),i.closePath(),!0}class Xlt extends ka{constructor(){super(...arguments),this.type="triangleRight",this.pathStr="M-0.5,0.5 L0.5,0 L-0.5,-0.5 Z"}draw(e,t,n,r){return Ylt(e,t/2,n,r)}drawOffset(e,t,n,r,s){return Klt(e,t/2,n,r,s)}}const qlt=new Xlt;function Zlt(i,e,t,n){return i.moveTo(t-e,n-e),i.lineTo(t+e,n-e),i.lineTo(t,n+e),i.closePath(),!0}function Qlt(i,e,t,n,r){return i.moveTo(t-e-2*r,n-e-r),i.lineTo(t+e+2*r,n-e-r),i.lineTo(t,n+e+2*r),i.closePath(),!0}class Jlt extends ka{constructor(){super(...arguments),this.type="triangleDown",this.pathStr="M-0.5,-0.5 L0.5,-0.5 L0,0.5 Z"}draw(e,t,n,r){return Zlt(e,t/2,n,r)}drawOffset(e,t,n,r,s){return Qlt(e,t/2,n,r,s)}}const eut=new Jlt,_5=tu(3);function Loe(i,e,t,n){const r=e*_5;return i.moveTo(t,n+-r/3*2),i.lineTo(e+t,n+r),i.lineTo(t-e,n+r),i.closePath(),!0}class tut extends fX{constructor(){super(...arguments),this.type="thinTriangle",this.pathStr="M0,-0.5773502691896257L-0.5,0.28867513459481287L0.5,0.28867513459481287Z"}draw(e,t,n,r){return Loe(e,t/2/_5,n,r)}drawOffset(e,t,n,r,s){return Loe(e,t/2/_5+s,n,r)}}const iut=new tut;function Foe(i,e,t,n){const r=2*e;return i.moveTo(e+t,n-r),i.lineTo(t-e,n),i.lineTo(e+t,r+n),!0}class nut extends ka{constructor(){super(...arguments),this.type="arrow2Left",this.pathStr="M 0.25 -0.5 L -0.25 0 l 0.25 0.5"}draw(e,t,n,r){return Foe(e,t/4,n,r)}drawOffset(e,t,n,r,s){return Foe(e,t/4+s,n,r)}}const rut=new nut;function Boe(i,e,t,n){const r=2*e;return i.moveTo(t-e,n-r),i.lineTo(t+e,n),i.lineTo(t-e,r+n),!0}class sut extends ka{constructor(){super(...arguments),this.type="arrow2Right",this.pathStr="M -0.25 -0.5 l 0.25 0 l -0.25 0.5"}draw(e,t,n,r){return Boe(e,t/4,n,r)}drawOffset(e,t,n,r,s){return Boe(e,t/4+s,n,r)}}const aut=new sut;function $oe(i,e,t,n){const r=2*e;return i.moveTo(t-r,n+e),i.lineTo(t,n-e),i.lineTo(t+r,n+e),!0}class out extends ka{constructor(){super(...arguments),this.type="arrow2Up",this.pathStr="M -0.5 0.25 L 0 -0.25 l 0.5 0.25"}draw(e,t,n,r){return $oe(e,t/4,n,r)}drawOffset(e,t,n,r,s){return $oe(e,t/4+s,n,r)}}const lut=new out;function Noe(i,e,t,n){const r=2*e;return i.moveTo(t-r,n-e),i.lineTo(t,n+e),i.lineTo(t+r,n-e),!0}class uut extends ka{constructor(){super(...arguments),this.type="arrow2Down",this.pathStr="M -0.5 -0.25 L 0 0.25 l 0.5 -0.25"}draw(e,t,n,r){return Noe(e,t/4,n,r)}drawOffset(e,t,n,r,s){return Noe(e,t/4+s,n,r)}}const cut=new uut;function joe(i,e,t,n,r){return i.moveTo(t,n-e),i.lineTo(t,n+e),!0}class dut extends ka{constructor(){super(...arguments),this.type="lineV",this.pathStr="M0,-0.5L0,0.5"}draw(e,t,n,r,s){return joe(e,t/2,n,r)}drawOffset(e,t,n,r,s,a){return joe(e,t/2+s,n,r)}drawToSvgPath(e,t,n,r){const s=e/2;return`M ${t}, ${n-s} L ${t},${n+s}`}}const hut=new dut;function zoe(i,e,t,n,r){return i.moveTo(t-e,n),i.lineTo(t+e,n),!0}class put extends ka{constructor(){super(...arguments),this.type="lineH",this.pathStr="M-0.5,0L0.5,0"}draw(e,t,n,r,s){return zoe(e,t/2,n,r)}drawOffset(e,t,n,r,s,a){return zoe(e,t/2+s,n,r)}drawToSvgPath(e,t,n,r){const s=e/2;return`M ${t-s}, ${n} L ${t+s},${n}`}}const fut=new put;function Hoe(i,e,t,n,r){return i.moveTo(t-e,n-e),i.lineTo(t+e,n+e),i.moveTo(t+e,n-e),i.lineTo(t-e,n+e),!0}class gut extends ka{constructor(){super(...arguments),this.type="close",this.pathStr="M-0.5,-0.5L0.5,0.5,M0.5,-0.5L-0.5,0.5"}draw(e,t,n,r,s){return Hoe(e,t/2,n,r)}drawOffset(e,t,n,r,s,a){return Hoe(e,t/2+s,n,r)}drawToSvgPath(e,t,n,r){const s=e/2;return`M ${t-s}, ${n-s} L ${t+s},${n+s} M ${t+s}, ${n-s} L ${t-s},${n+s}`}}const mut=new gut;function Voe(i,e,t,n){return i.rect(t-e[0]/2,n-e[1]/2,e[0],e[1]),!1}function Woe(i,e,t,n){const r=e,s=e/2;return i.rect(t-r/2,n-s/2,r,s),!1}class vut extends ka{constructor(){super(...arguments),this.type="rect",this.pathStr="M -0.5,0.25 L 0.5,0.25 L 0.5,-0.25,L -0.5,-0.25 Z"}draw(e,t,n,r){return Xe(t)?Woe(e,t,n,r):Voe(e,t,n,r)}drawOffset(e,t,n,r,s){return Xe(t)?Woe(e,t+2*s,n,r):Voe(e,[t[0]+2*s,t[1]+2*s],n,r)}}const yut=new vut,gk=new zr;class Uoe{constructor(e,t,n=!1){this.pathStr="",this.type=e,ke(t)?this.svgCache=t:this.path=t,this.isSvg=n}drawOffset(e,t,n,r,s,a,o){return this.isSvg?!!this.svgCache&&(this.svgCache.forEach(l=>{e.beginPath(),Pg(l.path.commandList,e,n,r,t,t),o&&o(l.path,l.attribute)}),!1):(Pg(this.path.commandList,e,n,r,t+s,t+s),!1)}draw(e,t,n,r,s,a){return this.isSvg?!!this.svgCache&&(this.svgCache.forEach(o=>{e.beginPath(),Pg(o.path.commandList,e,n,r,t,t),a&&a(o.path,o.attribute)}),!1):(Pg(this.path.commandList,e,n,r,t,t),!1)}bounds(e,t){if(this.isSvg)return this.svgCache?(t.clear(),void this.svgCache.forEach(({path:n})=>{gk.x1=n.bounds.x1*e,gk.y1=n.bounds.y1*e,gk.x2=n.bounds.x2*e,gk.y2=n.bounds.y2*e,t.union(gk)})):void 0;this.path.bounds&&(t.x1=this.path.bounds.x1*e,t.y1=this.path.bounds.y1*e,t.x2=this.path.bounds.x2*e,t.y2=this.path.bounds.y2*e)}}const _ut=[mlt,blt,xlt,Clt,iut,Plt,Rlt,Flt,$lt,jlt,Hlt,Glt,qlt,Alt,eut,rut,aut,lut,cut,yut,hut,fut,mut],MD={};_ut.forEach(i=>{MD[i.type]=i});const but={arrowLeft:"M 0.25 -0.5 L -0.25 0 l 0.5 0.5",arrowRight:"M -0.25 -0.5 l 0.5 0.5 l -0.5 0.5",rectRound:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",roundLine:"M 1.2392 -0.258 L -1.3432 -0.258 C -1.4784 -0.258 -1.588 -0.1436 -1.588 -0.002 c 0 0.1416 0.1096 0.256 0.2448 0.256 l 2.5824 0 c 0.1352 0 0.2448 -0.1144 0.2448 -0.256 C 1.484 -0.1436 1.3744 -0.258 1.2392 -0.258 z"},mI=new zr,Goe=["symbolType","size",...Wc];let CT=class J1 extends Ll{constructor(e={symbolType:"circle"}){super(e),this.type="symbol",this.numberType=GB}getParsedPath(){return this.shouldUpdateShape()&&(this.doUpdateParsedPath(),this.clearUpdateShapeTag()),this._parsedPath}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{size:e}=this.attribute;return ke(e)?e.length===2&&e.every(this._validNumber):this._validNumber(e)}doUpdateParsedPath(){const e=qe(this).symbol;let{symbolType:t=e.symbolType}=this.attribute,n=MD[t];if(n)return this._parsedPath=n,n;if(n=J1.userSymbolMap[t],n)return this._parsedPath=n,n;if(t=but[t]||t,qot(t)===!0){const l=new $B,{svg:u}=l.parse(t);if(!u)return null;const c=ke(u.path)?u.path:[u.path];mI.clear();const d=[];c.forEach(g=>{const v=new ba().fromString(g.d),m={};rlt.forEach(b=>{g[b]&&(m[oCe[b]]=g[b])}),d.push({path:v,attribute:m}),mI.union(v.bounds)});const h=mI.width(),p=mI.height(),f=1/Jl(h,p);return d.forEach(g=>g.path.transform(0,0,f,f)),this._parsedPath=new Uoe(t,d,!0),J1.userSymbolMap[t]=this._parsedPath,this._parsedPath}const r=new ba().fromString(t),s=r.bounds.width(),a=r.bounds.height(),o=1/Jl(s,a);return r.transform(0,0,o,o),this._parsedPath=new Uoe(t,r),J1.userSymbolMap[t]=this._parsedPath,this._parsedPath}doUpdateAABBBounds(e){const t=qe(this).symbol;this._AABBBounds.clear();const n=this.attribute,r=Ne.graphicService.updateSymbolAABBBounds(n,qe(this).symbol,this._AABBBounds,e,this),{boundsPadding:s=t.boundsPadding}=n,a=Yo(s);return a&&r.expand(a),this.clearUpdateBoundTag(),r}tryUpdateOBBBounds(){throw new Error("")}getDefaultAttribute(e){return qe(this).symbol[e]}needUpdateTags(e){return super.needUpdateTags(e,Goe)}needUpdateTag(e){return super.needUpdateTag(e,Goe)}toCustomPath(){const e=this.getParsedPath(),t=this.attribute.size,n=ke(t)?t:[t,t];return e.path?new ba().fromCustomPath2D(e.path,0,0,n[0],n[1]):new ba().fromString(e.pathStr,0,0,n[0],n[1])}clone(){return new J1(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return J1.NOWORK_ANIMATE_ATTR}};CT.userSymbolMap={},CT.NOWORK_ANIMATE_ATTR=Object.assign({symbolType:1},Zo);function KB(i){return new CT(i)}const Yoe=["segments","points","curveType",...Wc];let mCe=class b5 extends Ll{constructor(e={}){super(e),this.type="line",this.numberType=tP}isValid(){return super.isValid()&&this._isValid()}_isValid(){if(this.pathProxy)return!0;const{points:e,segments:t}=this.attribute;return t?t.length!==0:!!e&&!(e.length<=1)}_interpolate(e,t,n,r,s){e==="points"&&(s.points=eX(n,r,t))}doUpdateAABBBounds(){const e=qe(this).line;this._AABBBounds.clear();const t=this.attribute,n=Ne.graphicService.updateLineAABBBounds(t,qe(this).line,this._AABBBounds,this),{boundsPadding:r=e.boundsPadding}=t,s=Yo(r);return s&&n.expand(s),this.clearUpdateBoundTag(),n}tryUpdateOBBBounds(){throw new Error("")}getDefaultAttribute(e){return qe(this).line[e]}needUpdateTags(e){return super.needUpdateTags(e,Yoe)}needUpdateTag(e){return super.needUpdateTag(e,Yoe)}toCustomPath(){const e=this.attribute,t=new ba,n=e.segments,r=s=>{if(s&&s.length){let a=!0;s.forEach(o=>{o.defined!==!1&&(a?t.moveTo(o.x,o.y):t.lineTo(o.x,o.y),a=!1)})}};return n&&n.length?n.forEach(s=>{r(s.points)}):e.points&&r(e.points),t}clone(){return new b5(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return b5.NOWORK_ANIMATE_ATTR}};mCe.NOWORK_ANIMATE_ATTR=Object.assign({segments:1,curveType:1},Zo);function gX(i){return new mCe(i)}const Koe=["width","x1","y1","height","cornerRadius",...Wc];let mX=class S5 extends Ll{constructor(e){super(e),this.type="rect",this.numberType=UB}isValid(){return super.isValid()&&this._isValid()}_isValid(){return!0}doUpdateAABBBounds(){const e=qe(this).rect;this._AABBBounds.clear();const t=this.attribute,n=Ne.graphicService.updateRectAABBBounds(t,qe(this).rect,this._AABBBounds,this),{boundsPadding:r=e.boundsPadding}=t,s=Yo(r);return s&&n.expand(s),this.clearUpdateBoundTag(),n}tryUpdateOBBBounds(){throw new Error("")}getDefaultAttribute(e){return qe(this).rect[e]}needUpdateTags(e){return super.needUpdateTags(e,Koe)}needUpdateTag(e){return super.needUpdateTag(e,Koe)}toCustomPath(){const e=this.attribute,{x:t,y:n,width:r,height:s}=Gwe(e),a=new ba;return a.moveTo(t,n),a.rect(t,n,r,s),a}clone(){return new S5(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return S5.NOWORK_ANIMATE_ATTR}};mX.NOWORK_ANIMATE_ATTR=Zo;function z_(i){return new mX(i)}const Xoe=[[0,0,0],[1,0,0],[1,1,0],[0,1,0],[0,0,1],[1,0,1],[1,1,1],[0,1,1]];class XB extends mX{constructor(e){super(e),this.type="rect3d",this.numberType=aX}findFace(){const e={polygons:[],vertices:[],edges:[]},t=qe(this).rect,{x1:n,y1:r,x:s,y:a,length:o=xo(t.width,t.height)}=this.attribute;let{width:l,height:u}=this.attribute;l=l??n-s,u=u??r-a;for(let c=0;c<Xoe.length;c++){const d=Xoe[c];e.vertices.push([d[0]*l,d[1]*u,d[2]*o])}return e.polygons.push({polygon:[0,1,5,4],normal:[0,-1,0]}),e.polygons.push({polygon:[2,3,7,6],normal:[0,1,0]}),e.polygons.push({polygon:[4,7,3,0],normal:[-1,0,0]}),e.polygons.push({polygon:[1,2,6,5],normal:[1,0,0]}),e.polygons.push({polygon:[0,1,2,3],normal:[0,0,-1]}),e.polygons.push({polygon:[4,5,6,7],normal:[0,0,1]}),e.edges=[[0,1],[1,2],[2,3],[3,0],[4,5],[5,6],[6,7],[7,4],[0,4],[3,7],[1,5],[2,6]],e}getNoWorkAnimateAttr(){return XB.NOWORK_ANIMATE_ATTR}}XB.NOWORK_ANIMATE_ATTR=Zo;function vCe(i){return new XB(i)}class kT extends Ll{constructor(e){super(e),this.type="glyph",this.numberType=zB,this.subGraphic=[],this._onInit&&this._onInit(this),this.valid=this.isValid()}setSubGraphic(e){this.detachSubGraphic(),this.subGraphic=e,e.forEach(t=>{t.glyphHost=this,Object.setPrototypeOf(t.attribute,this.attribute)}),this.valid=this.isValid(),this.addUpdateBoundTag()}detachSubGraphic(){this.subGraphic.forEach(e=>{e.glyphHost=null,Object.setPrototypeOf(e.attribute,{})})}getSubGraphic(){return this.subGraphic}onInit(e){this._onInit=e}onUpdate(e){this._onUpdate=e}isValid(){return!0}setAttribute(e,t,n,r){super.setAttribute(e,t,n,r),this.subGraphic.forEach(s=>{s.addUpdateShapeAndBoundsTag(),s.addUpdatePositionTag()})}setAttributes(e,t=!1,n){super.setAttributes(e,t,n),this.subGraphic.forEach(r=>{r.addUpdateShapeAndBoundsTag(),r.addUpdatePositionTag()})}translate(e,t){return super.translate(e,t),this.subGraphic.forEach(n=>{n.addUpdatePositionTag(),n.addUpdateBoundTag()}),this}translateTo(e,t){return super.translateTo(e,t),this.subGraphic.forEach(n=>{n.addUpdatePositionTag(),n.addUpdateBoundTag()}),this}scale(e,t,n){return super.scale(e,t,n),this.subGraphic.forEach(r=>{r.addUpdatePositionTag(),r.addUpdateBoundTag()}),this}scaleTo(e,t){return super.scaleTo(e,t),this.subGraphic.forEach(n=>{n.addUpdatePositionTag(),n.addUpdateBoundTag()}),this}rotate(e){return super.rotate(e),this.subGraphic.forEach(t=>{t.addUpdatePositionTag(),t.addUpdateBoundTag()}),this}rotateTo(e){return super.rotate(e),this.subGraphic.forEach(t=>{t.addUpdatePositionTag(),t.addUpdateBoundTag()}),this}doUpdateAABBBounds(){this._AABBBounds.clear();const e=Ne.graphicService.updateGlyphAABBBounds(this.attribute,qe(this).glyph,this._AABBBounds,this);return this.clearUpdateBoundTag(),e}tryUpdateOBBBounds(){throw new Error("")}needUpdateTags(e){return!1}needUpdateTag(e){return!1}useStates(e,t){var n;if(!e.length)return void this.clearStates(t);if(!(((n=this.currentStates)===null||n===void 0?void 0:n.length)!==e.length||e.some((a,o)=>this.currentStates[o]!==a)))return;this.stopStateAnimates();const r={},s=this.subGraphic.map(()=>({}));e.forEach(a=>{var o;const l=this.glyphStateProxy?this.glyphStateProxy(a,e):this.glyphStates[a];l&&(Object.assign(r,l.attributes),!((o=l.subAttributes)===null||o===void 0)&&o.length&&s.forEach((u,c)=>{Object.assign(u,l.subAttributes[c])}))}),this.subGraphic.forEach((a,o)=>{a.updateNormalAttrs(s[o]),a.applyStateAttrs(s[o],e,t)}),this.updateNormalAttrs(r),this.currentStates=e,this.applyStateAttrs(r,e,t)}clearStates(e){this.stopStateAnimates(),this.hasState()&&this.normalAttrs?(this.currentStates=[],this.subGraphic.forEach(t=>{t.applyStateAttrs(t.normalAttrs,this.currentStates,e,!0),t.normalAttrs=null}),this.applyStateAttrs(this.normalAttrs,this.currentStates,e,!0)):this.currentStates=[],this.normalAttrs=null}clone(){const e=new kT(Object.assign({},this.attribute));return e.setSubGraphic(this.subGraphic.map(t=>t.clone())),e}getNoWorkAnimateAttr(){return kT.NOWORK_ANIMATE_ATTR}}kT.NOWORK_ANIMATE_ATTR=Zo;function yCe(i){return new kT(i)}class Sut{constructor(e,t,n,r,s,a,o,l,u,c,d,h,p,f){this.left=e,this.top=t,this.width=n,this.height=r,this.actualHeight=0,this.bottom=t+r,this.right=e+n,this.ellipsis=s,this.wordBreak=a,this.verticalDirection=o,this.lines=[],this.globalAlign=l,this.globalBaseline=u,this.layoutDirection=c,this.directionKey=QK[this.layoutDirection],this.isWidthMax=d,this.isHeightMax=h,this.singleLine=p,f?(f.clear(),this.icons=f):this.icons=new Map}draw(e,t){const{width:n,height:r}=this.getActualSize(),s=this.isWidthMax?Math.min(this.width,n):this.width||n||0;let a=this.isHeightMax?Math.min(this.height,r):this.height||r||0;a=Math.min(a,r);let o=0;switch(this.globalBaseline){case"top":o=0;break;case"middle":o=-a/2;break;case"bottom":o=-a}let l=0;this.globalAlign==="right"||this.globalAlign==="end"?l=-s:this.globalAlign==="center"&&(l=-s/2);let u=this[this.directionKey.height];this.singleLine&&(u=this.lines[0].height+1);let c=!1;if(this.verticalDirection==="middle")if(this.actualHeight>=u&&u!==0)for(let d=0;d<this.lines.length;d++){const{top:h,height:p}=this.lines[d];if(h+p<this[this.directionKey.top]||h+p>this[this.directionKey.top]+u)return c;let f=!1;this.ellipsis&&this.lines[d+1]&&this.lines[d+1].top+this.lines[d+1].height>this[this.directionKey.top]+u&&(f=!0,c=!0),this.lines[d].draw(e,f,this.lines[d][this.directionKey.left]+l,this.lines[d][this.directionKey.top]+o,this.ellipsis,t)}else{const d=Math.floor((u-this.actualHeight)/2);this.layoutDirection==="vertical"?l+=d:o+=d;for(let h=0;h<this.lines.length;h++)this.lines[h].draw(e,!1,this.lines[h][this.directionKey.left]+l,this.lines[h][this.directionKey.top]+o,this.ellipsis,t)}else if(this.verticalDirection==="bottom"&&this.layoutDirection!=="vertical")for(let d=0;d<this.lines.length;d++){const{top:h,height:p}=this.lines[d],f=u-this.lines[d].top-this.lines[d].height;if(u===0)this.lines[d].draw(e,!1,l,f+o,this.ellipsis,t);else{if(f+p>this[this.directionKey.top]+u||f<this[this.directionKey.top])return c;{let g=!1;this.ellipsis&&this.lines[d+1]&&f-this.lines[d+1].height<this[this.directionKey.top]&&(g=!0,c=!0),this.lines[d].draw(e,g,l,f+o,this.ellipsis,t)}}}else{this.verticalDirection==="bottom"&&this.layoutDirection==="vertical"&&this.singleLine&&this.isWidthMax&&(l+=this.lines[0].height+1);for(let d=0;d<this.lines.length;d++){this.verticalDirection==="bottom"&&this.layoutDirection==="vertical"&&(l-=this.lines[d].height+this.lines[d].top);const{top:h,height:p}=this.lines[d];if(u===0)this.lines[d].draw(e,!1,this.lines[d][this.directionKey.left]+l,this.lines[d][this.directionKey.top]+o,this.ellipsis,t);else{if(h+p<this[this.directionKey.top]||h+p>this[this.directionKey.top]+u)return c;{let f=!1;this.ellipsis&&this.lines[d+1]&&this.lines[d+1].top+this.lines[d+1].height>this[this.directionKey.top]+u&&(f=!0,c=!0),this.lines[d].draw(e,f,this.lines[d][this.directionKey.left]+l,this.lines[d][this.directionKey.top]+o,this.ellipsis,t)}}}}return c}getActualSize(){return this.ellipsis?this.getActualSizeWidthEllipsis():this.getRawActualSize()}getRawActualSize(){let e=0,t=0;for(let n=0;n<this.lines.length;n++){const r=this.lines[n];r.actualWidth>e&&(e=r.actualWidth),t+=r.height}return{width:this.layoutDirection==="vertical"?t:e,height:this.layoutDirection==="vertical"?e:t}}getActualSizeWidthEllipsis(){let e=0,t=0;const{width:n,height:r}=this.getRawActualSize();this.width,this.height;let s=this[this.directionKey.height];if(this.singleLine&&(s=this.lines[0].height+1),this.verticalDirection==="middle")if(this.actualHeight>=s&&s!==0)for(let a=0;a<this.lines.length;a++){const{top:o,height:l}=this.lines[a];if(!(o+l<this[this.directionKey.top]||o+l>this[this.directionKey.top]+s))if(this.ellipsis&&this.lines[a+1]&&this.lines[a+1].top+this.lines[a+1].height>this[this.directionKey.top]+s){const u=this.ellipsis===!0?"...":this.ellipsis||"",c=this.lines[a].getWidthWithEllips(u);c>e&&(e=c),t+=this.lines[a].height}else this.lines[a].actualWidth>e&&(e=this.lines[a].actualWidth),t+=this.lines[a].height}else{Math.floor((s-this.actualHeight)/2);for(let a=0;a<this.lines.length;a++)this.lines[a].actualWidth>e&&(e=this.lines[a].actualWidth),t+=this.lines[a].height}else if(this.verticalDirection==="bottom")for(let a=0;a<this.lines.length;a++){const{top:o,height:l}=this.lines[a],u=s-this.lines[a].top-this.lines[a].height;if(s===0)this.lines[a].actualWidth>e&&(e=this.lines[a].actualWidth),t+=this.lines[a].height;else if(!(u+l>this[this.directionKey.top]+s||u<this[this.directionKey.top]))if(this.ellipsis&&this.lines[a+1]&&u-this.lines[a+1].height<this[this.directionKey.top]){const c=this.ellipsis===!0?"...":this.ellipsis||"",d=this.lines[a].getWidthWithEllips(c);d>e&&(e=d),t+=this.lines[a].height}else this.lines[a].actualWidth>e&&(e=this.lines[a].actualWidth),t+=this.lines[a].height}else for(let a=0;a<this.lines.length;a++){const{top:o,height:l}=this.lines[a];if(s===0)this.lines[a].actualWidth>e&&(e=this.lines[a].actualWidth),t+=this.lines[a].height;else if(!(o+l<this[this.directionKey.top]||o+l>this[this.directionKey.top]+s))if(this.ellipsis&&this.lines[a+1]&&this.lines[a+1].top+this.lines[a+1].height>this[this.directionKey.top]+s){const u=this.ellipsis===!0?"...":this.ellipsis||"",c=this.lines[a].getWidthWithEllips(u);c>e&&(e=c),t+=this.lines[a].height}else this.lines[a].actualWidth>e&&(e=this.lines[a].actualWidth),t+=this.lines[a].height}return{width:this.layoutDirection==="vertical"?t:e,height:this.layoutDirection==="vertical"?e:t}}}let ET=class{constructor(e,t,n){this.fontSize=n.fontSize||16,this.textBaseline=n.textBaseline||"alphabetic";const r=kg(n.lineHeight,this.fontSize);this.lineHeight=typeof r=="number"?r>this.fontSize?r:this.fontSize:Math.floor(1.2*this.fontSize),this.height=this.lineHeight;const{ascent:s,height:a,descent:o,width:l}=ES(e,n);let u=0,c=0,d=0;this.height>a&&(u=(this.height-a)/2,c=Math.ceil(u),d=Math.floor(u)),this.textBaseline==="top"?(this.ascent=u,this.descent=a-u):this.textBaseline==="bottom"?(this.ascent=a-u,this.descent=u):this.textBaseline==="middle"?(this.ascent=this.height/2,this.descent=this.height/2):(this.ascent=s+c,this.descent=o+d),this.length=e.length,this.width=l||0,this.text=e||"",this.newLine=t||!1,this.character=n,this.left=0,this.top=0,this.ellipsis="normal",this.ellipsisWidth=0,this.ellipsisOtherParagraphWidth=0,n.direction==="vertical"&&(this.direction=n.direction,this.widthOrigin=this.width,this.heightOrigin=this.height,this.width=this.heightOrigin,this.height=this.widthOrigin,this.lineHeight=this.height),this.ellipsisStr="..."}updateWidth(){const{width:e}=ES(this.text,this.character);this.width=e,this.direction==="vertical"&&(this.widthOrigin=this.width,this.width=this.heightOrigin,this.height=this.widthOrigin)}draw(e,t,n,r,s){let a=this.text,o=this.left+n;t+=this.top;let l=this.direction;if(this.verticalEllipsis)a=this.ellipsisStr,l="vertical",t-=this.ellipsisWidth/2;else{if(this.ellipsis==="hide")return;if(this.ellipsis==="add")a+=this.ellipsisStr,s!=="right"&&s!=="end"||(o-=this.ellipsisWidth);else if(this.ellipsis==="replace"){const u=JV(a,(l==="vertical"?this.height:this.width)-this.ellipsisWidth+this.ellipsisOtherParagraphWidth,this.character,a.length-1);if(a=a.slice(0,u),a+=this.ellipsisStr,s==="right"||s==="end"){const{width:c}=ES(this.text.slice(u),this.character);l==="vertical"||(o-=this.ellipsisWidth-c)}}}switch(this.character.script){case"super":t-=this.ascent*(1/3);break;case"sub":t+=this.descent/2}l==="vertical"&&(e.save(),e.rotateAbout(Math.PI/2,o,t),e.translate(-this.heightOrigin||-this.lineHeight/2,-this.descent/2),e.translate(o,t),o=0,t=0),this.character.stroke&&(Gat(e,this.character),e.strokeText(a,o,t)),Uat(e,this.character),this.character.fill&&e.fillText(a,o,t),this.character.fill&&(typeof this.character.lineThrough=="boolean"||typeof this.character.underline=="boolean"?(this.character.underline&&e.fillRect(o,1+t,this.widthOrigin||this.width,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1),this.character.lineThrough&&e.fillRect(o,1+t-this.ascent/2,this.widthOrigin||this.width,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1)):this.character.textDecoration==="underline"?e.fillRect(o,1+t,this.widthOrigin||this.width,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1):this.character.textDecoration==="line-through"&&e.fillRect(o,1+t-this.ascent/2,this.widthOrigin||this.width,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1)),l==="vertical"&&e.restore()}getWidthWithEllips(e){let t=this.text;const n=e==="vertical"?this.height:this.width;if(this.ellipsis==="hide")return n;if(this.ellipsis==="add")return n+this.ellipsisWidth;if(this.ellipsis==="replace"){const r=JV(t,n-this.ellipsisWidth+this.ellipsisOtherParagraphWidth,this.character,t.length-1);t=t.slice(0,r),t+=this.ellipsisStr;const{width:s}=ES(this.text.slice(r),this.character);return n+this.ellipsisWidth-s}return n}};function xut(i,e){const t=i.text.slice(0,e),n=i.text.slice(e);return[new ET(t,i.newLine,i.character),new ET(n,!0,i.character)]}const qoe=["width","height","image",...Wc];let vX=class x5 extends Ll{constructor(e){super(e),this.type="image",this.numberType=HB,this.loadImage(this.attribute.image)}get width(){var e;return(e=this.attribute.width)!==null&&e!==void 0?e:0}set width(e){this.attribute.width===e&&(this.attribute.width=e,this.addUpdateShapeAndBoundsTag())}get height(){var e;return(e=this.attribute.height)!==null&&e!==void 0?e:0}set height(e){this.attribute.height===e&&(this.attribute.height=e,this.addUpdateShapeAndBoundsTag())}get repeatX(){var e;return(e=this.attribute.repeatX)!==null&&e!==void 0?e:"no-repeat"}set repeatX(e){this.attribute.repeatX===e&&(this.attribute.repeatX=e)}get repeatY(){var e;return(e=this.attribute.repeatY)!==null&&e!==void 0?e:"no-repeat"}set repeatY(e){this.attribute.repeatY===e&&(this.attribute.repeatY=e)}get image(){return this.attribute.image}set image(e){e!==this.attribute.image&&(this.attribute.image=e,this.loadImage(this.attribute.image))}imageLoadSuccess(e,t,n){super.imageLoadSuccess(e,t,()=>{this.successCallback&&this.successCallback()})}imageLoadFail(e,t){super.imageLoadFail(e,()=>{this.failCallback&&this.failCallback()})}setAttributes(e,t,n){return e.image&&this.loadImage(e.image),super.setAttributes(e,t,n)}setAttribute(e,t,n,r){return e==="image"&&this.loadImage(t),super.setAttribute(e,t,n,r)}doUpdateAABBBounds(){const e=qe(this).image;this._AABBBounds.clear();const t=this.attribute,n=Ne.graphicService.updateImageAABBBounds(t,qe(this).image,this._AABBBounds,this),{boundsPadding:r=e.boundsPadding}=t,s=Yo(r);return s&&n.expand(s),this.clearUpdateBoundTag(),n}tryUpdateOBBBounds(){throw new Error("")}getDefaultAttribute(e){return bT[e]}needUpdateTags(e){return super.needUpdateTags(e,qoe)}needUpdateTag(e){return super.needUpdateTag(e,qoe)}clone(){return new x5(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return x5.NOWORK_ANIMATE_ATTR}};vX.NOWORK_ANIMATE_ATTR=Object.assign({image:1,repeatX:1,repeatY:1},Zo);function yX(i){return new vX(i)}class xg extends vX{constructor(e){if(super(e),this._x=0,this._y=0,this._hovered=!1,this._marginArray=[0,0,0,0],e.backgroundShowMode==="always"&&(this._hovered=!0),e.margin){const t=Yo(e.margin);this._marginArray=typeof t=="number"?[t,t,t,t]:t}this.onBeforeAttributeUpdate=(t,n,r)=>{if(ke(r)&&r.indexOf("margin")!==-1||r==="margin")if(n.margin){const s=Yo(n.margin);this._marginArray=typeof s=="number"?[s,s,s,s]:s}else this._marginArray=[0,0,0,0]}}get width(){var e;return((e=this.attribute.width)!==null&&e!==void 0?e:0)+this._marginArray[1]+this._marginArray[3]}get height(){var e;return((e=this.attribute.height)!==null&&e!==void 0?e:0)+this._marginArray[0]+this._marginArray[2]}tryUpdateAABBBounds(){if(!this.shouldUpdateAABBBounds())return this._AABBBounds;this.doUpdateAABBBounds();const{width:e=bT.width,height:t=bT.height}=this.attribute,{backgroundWidth:n=e,backgroundHeight:r=t}=this.attribute,s=(n-e)/2,a=(r-t)/2;return this._AABBBounds.expand([0,2*s,2*a,0]),this._AABBBounds}setHoverState(e){this.attribute.backgroundShowMode==="hover"&&this._hovered!==e&&(this._hovered=e)}}class wut{constructor(e,t,n,r,s,a,o,l){this.left=e,this.width=t,this.baseline=n,this.ascent=r,this.descent=s,this.top=n-r,this.paragraphs=a.map(c=>c),this.textAlign=(this.paragraphs[0]instanceof xg?this.paragraphs[0].attribute.textAlign:this.paragraphs[0].character.textAlign)||"left",this.direction=o,this.directionKey=QK[this.direction],this.actualWidth=0;let u=0;this.paragraphs.forEach((c,d)=>{if(d===0&&c instanceof ET){const h=Wat.exec(c.text);(h==null?void 0:h.index)!==0&&(c.text=c.text.slice(h==null?void 0:h.index),c.updateWidth())}this.actualWidth+=c[this.directionKey.width],u=Math.max(c[this.directionKey.height],u)}),this.height=u,this.blankWidth=l?0:this.width-this.actualWidth,this.calcOffset(t,l)}calcOffset(e,t){const n=this.directionKey,r=this.height;let s=this.left,a=0;this.actualWidth<e&&!t&&(this.textAlign==="right"||this.textAlign==="end"?s=e-this.actualWidth:this.textAlign==="center"?s=(e-this.actualWidth)/2:this.textAlign==="justify"&&(this.paragraphs.length<2?s=(e-this.actualWidth)/2:a=(e-this.actualWidth)/(this.paragraphs.length-1))),this.paragraphs.map(function(o){o instanceof xg?(o["_"+n.x]=s,s+=o[n.width]+a,o["_"+n.y]=o.attribute.textBaseline==="top"?0:o.attribute.textBaseline==="bottom"?r-o.height:(r-o.height)/2):(o[n.left]=s,s+=o[n.width]+a)})}draw(e,t,n,r,s,a){if(s&&(t||this.paragraphs.some(o=>o.overflow))){let o=0;for(let l=this.paragraphs.length-1;l>=0;l--){const u=this.paragraphs[l];if(u.overflow)continue;if(u instanceof xg)break;if(this.direction==="vertical"&&u.direction!=="vertical"){u.verticalEllipsis=!0;break}const c=s===!0?"...":s||"";u.ellipsisStr=c;const{width:d}=ES(c,u.character),h=d||0;if(h<=this.blankWidth+o){t&&(u.ellipsis="add");break}if(h<=this.blankWidth+o+u.width){u.ellipsis="replace",u.ellipsisWidth=h,u.ellipsisOtherParagraphWidth=this.blankWidth+o;break}u.ellipsis="hide",o+=u.width}}this.paragraphs.map((o,l)=>{if(o instanceof xg)return o.setAttributes({x:n+o._x,y:r+o._y}),void a(o,e,n+o._x,r+o._y,this.ascent);o.draw(e,r+this.ascent,n,l===0,this.textAlign)})}getWidthWithEllips(e){let t=0;for(let r=this.paragraphs.length-1;r>=0;r--){const s=this.paragraphs[r];if(s instanceof xg)break;const{width:a}=ES(e,s.character),o=a||0;if(o<=this.blankWidth+t){s.ellipsis="add",s.ellipsisWidth=o;break}if(o<=this.blankWidth+t+s.width){s.ellipsis="replace",s.ellipsisWidth=o,s.ellipsisOtherParagraphWidth=this.blankWidth+t;break}s.ellipsis="hide",t+=s.width}let n=0;return this.paragraphs.map((r,s)=>{n+=r instanceof xg?r.width:r.getWidthWithEllips(this.direction)}),n}}class Cut{constructor(e){this.frame=e,this.width=this.frame.width,this.height=this.frame.height,this.lineWidth=0,this.y=this.frame.top,this.maxAscent=0,this.maxDescent=0,this.maxAscentForBlank=0,this.maxDescentForBlank=0,this.lineBuffer=[],this.direction=e.layoutDirection,this.directionKey=QK[this.direction]}store(e){if(e instanceof xg){this.frame.icons.set(e.richtextId,e),this.lineBuffer.push(e),this.lineWidth+=e[this.directionKey.width];let t=0,n=0;e.attribute.textBaseline==="top"?(t=0,n=e.height):e.attribute.textBaseline==="bottom"?(t=e.height,n=0):(t=e.height/2,n=e.height/2),this.maxAscent=Math.max(this.maxAscent,t),this.maxDescent=Math.max(this.maxDescent,n)}else this.lineBuffer.push(e),e.text.length!==0?(this.lineWidth+=e[this.directionKey.width],this.maxAscent=Math.max(this.maxAscent,e.ascent),this.maxDescent=Math.max(this.maxDescent,e.descent)):(this.maxAscentForBlank=Math.max(this.maxAscentForBlank,e.ascent),this.maxDescentForBlank=Math.max(this.maxDescentForBlank,e.descent))}send(){if(this.lineBuffer.length===0)return;const e=this.maxAscent===0?this.maxAscentForBlank:this.maxAscent,t=this.maxDescent===0?this.maxDescentForBlank:this.maxDescent,n=new wut(this.frame.left,this[this.directionKey.width],this.y+e,e,t,this.lineBuffer,this.direction,this.direction==="horizontal"?this.frame.isWidthMax:this.frame.isHeightMax);this.frame.lines.push(n),this.frame.actualHeight+=n.height,this.y+=n.height,this.lineBuffer.length=0,this.lineWidth=this.maxAscent=this.maxDescent=this.maxAscentForBlank=this.maxDescentForBlank=0}deal(e){e instanceof xg?this.direction==="horizontal"&&this.width===0||this.direction==="vertical"&&this.height===0||this.lineWidth+e[this.directionKey.width]<=this[this.directionKey.width]?this.store(e):this.lineBuffer.length===0?(this.store(e),this.send()):(this.send(),this.deal(e)):typeof this.width!="number"||this.width<0||(e.newLine&&this.send(),e.text.length!==0&&(this.direction==="horizontal"&&this.width===0||this.direction==="vertical"&&this.height===0||this.lineWidth+e[this.directionKey.width]<=this[this.directionKey.width]?this.store(e):this.lineWidth===this[this.directionKey.width]?(this.send(),this.deal(e)):this.cut(e)))}cut(e){const t=this[this.directionKey.width]-this.lineWidth||0,n=Math.ceil(t/e[this.directionKey.width]*e.length)||0,r=JV(e.text,t,e.character,n,this.frame.wordBreak==="break-word");if(r!==0){const[s,a]=xut(e,r);this.store(s),this.deal(a)}else this.lineBuffer.length!==0&&(this.send(),this.deal(e))}}const Zoe=["width","height","ellipsis","wordBreak","verticalDirection","maxHeight","maxWidth","textAlign","textBaseline","textConfig","layoutDirection",...Wc];class AT extends Ll{constructor(e){super(e),this.type="richtext",this._currentHoverIcon=null,this.numberType=oX}get width(){var e;return(e=this.attribute.width)!==null&&e!==void 0?e:Np.width}set width(e){this.attribute.width!==e&&(this.attribute.width=e,this.addUpdateShapeAndBoundsTag())}get height(){var e;return(e=this.attribute.height)!==null&&e!==void 0?e:Np.height}set height(e){this.attribute.height!==e&&(this.attribute.height=e,this.addUpdateShapeAndBoundsTag())}get maxWidth(){return this.attribute.maxWidth}set maxWidth(e){this.attribute.maxWidth!==e&&(this.attribute.maxWidth=e,this.addUpdateShapeAndBoundsTag())}get maxHeight(){return this.attribute.maxHeight}set maxHeight(e){this.attribute.maxHeight!==e&&(this.attribute.maxHeight=e,this.addUpdateShapeAndBoundsTag())}get ellipsis(){var e;return(e=this.attribute.ellipsis)!==null&&e!==void 0?e:Np.ellipsis}set ellipsis(e){this.attribute.ellipsis!==e&&(this.attribute.ellipsis=e,this.addUpdateShapeAndBoundsTag())}get wordBreak(){var e;return(e=this.attribute.wordBreak)!==null&&e!==void 0?e:Np.wordBreak}set wordBreak(e){this.attribute.wordBreak!==e&&(this.attribute.wordBreak=e,this.addUpdateShapeAndBoundsTag())}get verticalDirection(){var e;return(e=this.attribute.verticalDirection)!==null&&e!==void 0?e:Np.verticalDirection}set verticalDirection(e){this.attribute.verticalDirection!==e&&(this.attribute.verticalDirection=e,this.addUpdateShapeAndBoundsTag())}get textAlign(){var e;return(e=this.attribute.textAlign)!==null&&e!==void 0?e:Np.textAlign}set textAlign(e){this.attribute.textAlign!==e&&(this.attribute.textAlign=e,this.addUpdateShapeAndBoundsTag())}get textBaseline(){var e;return(e=this.attribute.textBaseline)!==null&&e!==void 0?e:Np.textBaseline}set textBaseline(e){this.attribute.textBaseline!==e&&(this.attribute.textBaseline=e,this.addUpdateShapeAndBoundsTag())}get textConfig(){var e;return(e=this.attribute.textConfig)!==null&&e!==void 0?e:Np.textConfig}set textConfig(e){this.attribute.textConfig=e,this.addUpdateShapeAndBoundsTag()}doUpdateAABBBounds(){const e=qe(this).richtext;this._AABBBounds.clear();const t=this.attribute,n=Ne.graphicService.updateRichTextAABBBounds(t,qe(this).richtext,this._AABBBounds,this),{boundsPadding:r=e.boundsPadding}=t,s=Yo(r);return s&&n.expand(s),this.clearUpdateBoundTag(),n}tryUpdateOBBBounds(){throw new Error("")}getDefaultAttribute(e){return Np[e]}needUpdateTags(e){return super.needUpdateTags(e,Zoe)}needUpdateTag(e){return super.needUpdateTag(e,Zoe)}getFrameCache(){return this.shouldUpdateShape()&&(this.doUpdateFrameCache(),this.clearUpdateShapeTag()),this._frameCache}combinedStyleToCharacter(e){const{fill:t,stroke:n,fontSize:r,fontFamily:s,fontStyle:a,fontWeight:o,lineWidth:l,opacity:u,fillOpacity:c,strokeOpacity:d}=this.attribute;return Object.assign({fill:t,stroke:n,fontSize:r,fontFamily:s,fontStyle:a,fontWeight:o,lineWidth:l,opacity:u,fillOpacity:c,strokeOpacity:d},e)}doUpdateFrameCache(){var e;const{textConfig:t=[],maxWidth:n,maxHeight:r,width:s,height:a,ellipsis:o,wordBreak:l,verticalDirection:u,textAlign:c,textBaseline:d,layoutDirection:h,singleLine:p,disableAutoWrapLine:f}=this.attribute,g=[];for(let k=0;k<t.length;k++)if("image"in t[k]){const E=this.combinedStyleToCharacter(t[k]),A=E.id&&this._frameCache&&this._frameCache.icons&&this._frameCache.icons.get(E.id);if(A)g.push(A);else{const P=new xg(E);P.successCallback=()=>{var O;this.addUpdateBoundTag(),(O=this.stage)===null||O===void 0||O.renderNextFrame()},P.richtextId=E.id,g.push(P)}}else{const E=this.combinedStyleToCharacter(t[k]);if(Xe(E.text)&&(E.text=`${E.text}`),E.text&&E.text.includes(`
`)){const A=E.text.split(`
`);for(let P=0;P<A.length;P++)g.push(new ET(A[P],P!==0,E))}else E.text&&g.push(new ET(E.text,!1,E))}const v=typeof n=="number"&&Number.isFinite(n)&&n>0,m=typeof r=="number"&&Number.isFinite(r)&&r>0,b=typeof s=="number"&&Number.isFinite(s)&&s>0&&(!v||s<=n),_=typeof a=="number"&&Number.isFinite(a)&&a>0&&(!m||a<=r),S=new Sut(0,0,(b?s:v?n:0)||0,(_?a:m?r:0)||0,o,l,u,c,d,h||"horizontal",!b&&v,!_&&m,p||!1,(e=this._frameCache)===null||e===void 0?void 0:e.icons),C=new Cut(S);if(f){let k=0,E=!1;for(let A=0;A<g.length;A++){const P=g[A];E?(P.overflow=!0,P.left=1/0,P.top=1/0,!P.newLine&&S.lines[S.lines.length-1].paragraphs.push(P)):C.deal(P),S.lines.length!==k&&(k=S.lines.length,C.lineBuffer.length=0,P.overflow=!0,P.left=1e3,P.top=1e3,S.lines[S.lines.length-1].paragraphs.push(P),E=!0),P.newLine&&(E=!1,C.lineWidth=0)}}else for(let k=0;k<g.length;k++)C.deal(g[k]);if(C.send(),!(S.layoutDirection==="horizontal"?b:_)){const k=S.getActualSizeWidthEllipsis();let E=S.layoutDirection==="horizontal"?k.width:k.height;(S.layoutDirection==="horizontal"?v:m)&&(E=Math.min(E,S.layoutDirection==="horizontal"?n:r)),S.lines.forEach(function(A){A.calcOffset(E,!1)})}this._frameCache=S}clone(){return new AT(Object.assign({},this.attribute))}setStage(e,t){super.setStage(e,t),this.getFrameCache().icons.forEach(n=>{n.setStage(e,t)})}bindIconEvent(){this.addEventListener("pointermove",e=>{var t,n,r,s,a;const o=this.pickIcon(e.global);o&&o===this._currentHoverIcon||(o?((t=this._currentHoverIcon)===null||t===void 0||t.setHoverState(!1),this._currentHoverIcon=o,this._currentHoverIcon.setHoverState(!0),(n=this.stage)===null||n===void 0||n.setCursor(o.attribute.cursor),(r=this.stage)===null||r===void 0||r.renderNextFrame()):!o&&this._currentHoverIcon&&(this._currentHoverIcon.setHoverState(!1),this._currentHoverIcon=null,(s=this.stage)===null||s===void 0||s.setCursor(),(a=this.stage)===null||a===void 0||a.renderNextFrame()))}),this.addEventListener("pointerleave",e=>{var t,n;this._currentHoverIcon&&(this._currentHoverIcon.setHoverState(!1),this._currentHoverIcon=null,(t=this.stage)===null||t===void 0||t.setCursor(),(n=this.stage)===null||n===void 0||n.renderNextFrame())})}pickIcon(e){const t=this.getFrameCache(),{e:n,f:r}=this.globalTransMatrix;let s;return t.icons.forEach(a=>{var o,l;a.AABBBounds.containsPoint({x:e.x-n,y:e.y-r})&&(s=a,s.globalX=((o=s.attribute.x)!==null&&o!==void 0?o:0)+n,s.globalY=((l=s.attribute.y)!==null&&l!==void 0?l:0)+r)}),s}getNoWorkAnimateAttr(){return AT.NOWORK_ANIMATE_ATTR}}AT.NOWORK_ANIMATE_ATTR=Object.assign({ellipsis:1,wordBreak:1,verticalDirection:1,textAlign:1,textBaseline:1,textConfig:1,layoutDirection:1},Zo);function _Ce(i){return new AT(i)}const Qoe=["path","customPath",...Wc];class TT extends Ll{constructor(e){super(e),this.type="path",this.numberType=VB}get pathShape(){return this.tryUpdateAABBBounds(),this.getParsedPathShape()}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{path:e}=this.attribute;return e!=null&&e!==""}getParsedPathShape(){const e=qe(this).path;if(!this.valid)return e.path;const t=this.attribute;return t.path instanceof ba?t.path:(Y(this.cache)&&this.doUpdatePathShape(),this.cache instanceof ba?this.cache:e.path)}doUpdateAABBBounds(){const e=qe(this).path;this.doUpdatePathShape(),this._AABBBounds.clear();const t=this.attribute,n=Ne.graphicService.updatePathAABBBounds(t,qe(this).path,this._AABBBounds,this),{boundsPadding:r=e.boundsPadding}=t,s=Yo(r);return s&&n.expand(s),this.clearUpdateBoundTag(),n}doUpdatePathShape(){const e=this.attribute;ct(e.path,!0)?this.cache=new ba().fromString(e.path):e.customPath&&(this.cache=new ba,e.customPath(this.cache,this))}tryUpdateOBBBounds(){throw new Error("")}getDefaultAttribute(e){return qe(this).path[e]}needUpdateTags(e){return super.needUpdateTags(e,Qoe)}needUpdateTag(e){return super.needUpdateTag(e,Qoe)}toCustomPath(){return new ba().fromCustomPath2D(this.getParsedPathShape(),0,0)}clone(){return new TT(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return TT.NOWORK_ANIMATE_ATTR}}TT.NOWORK_ANIMATE_ATTR=Object.assign({path:1,customPath:1},Zo);function bCe(i){return new TT(i)}const Joe=["segments","points","curveType",...Wc];class PT extends Ll{constructor(e){super(e),this.type="area",this.numberType=eP}isValid(){return super.isValid()&&this._isValid()}_isValid(){if(this.pathProxy)return!0;const{points:e,segments:t}=this.attribute;return t?t.length!==0:!!e&&e.length!==0}doUpdateAABBBounds(){const e=qe(this).area;this._AABBBounds.clear();const t=this.attribute,n=Ne.graphicService.updateAreaAABBBounds(t,qe(this).area,this._AABBBounds,this),{boundsPadding:r=e.boundsPadding}=t,s=Yo(r);return s&&n.expand(s),this.clearUpdateBoundTag(),n}tryUpdateOBBBounds(){throw new Error("")}_interpolate(e,t,n,r,s){e==="points"&&(s.points=eX(n,r,t))}getDefaultAttribute(e){return qe(this).area[e]}needUpdateTags(e){return super.needUpdateTags(e,Joe)}needUpdateTag(e){return super.needUpdateTag(e,Joe)}toCustomPath(){const e=new ba,t=this.attribute,n=t.segments,r=s=>{if(s&&s.length){let a=!0;const o=[];if(s.forEach(l=>{var u,c;l.defined!==!1&&(a?e.moveTo(l.x,l.y):e.lineTo(l.x,l.y),o.push({x:(u=l.x1)!==null&&u!==void 0?u:l.x,y:(c=l.y1)!==null&&c!==void 0?c:l.y}),a=!1)}),o.length){for(let l=o.length-1;l>=0;l--)e.lineTo(o[l].x,o[l].y);e.closePath()}}};return t.points?r(t.points):n&&n.length&&n.forEach(s=>{r(s.points)}),e}clone(){return new PT(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return PT.NOWORK_ANIMATE_ATTR}}PT.NOWORK_ANIMATE_ATTR=Object.assign({segments:1,curveType:1},Zo);function SCe(i){return new PT(i)}const ele=["innerRadius","outerRadius","startAngle","endAngle","cornerRadius","padAngle","padRadius","cap",...Wc];class Gx extends Ll{constructor(e){super(e),this.type="arc",this.numberType=NB}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{startAngle:e,endAngle:t,outerRadius:n,innerRadius:r}=this.attribute;return this._validNumber(e)&&this._validNumber(t)&&this._validNumber(n)&&this._validNumber(r)}getParsedCornerRadius(){const e=qe(this).arc,{cornerRadius:t=e.cornerRadius,innerPadding:n=e.innerPadding,outerPadding:r=e.outerPadding}=this.attribute;let{outerRadius:s=e.outerRadius,innerRadius:a=e.innerRadius}=this.attribute;if(s+=r,a-=n,t===0||t==="0%")return 0;const o=Math.abs(s-a);return Math.min(Xe(t,!0)?t:o*parseFloat(t)/100,o/2)}getParsedAngle(){const e=qe(this).arc;let{startAngle:t=e.startAngle,endAngle:n=e.endAngle}=this.attribute;const{cap:r=e.cap}=this.attribute,s=n-t>=0?1:-1,a=n-t;if(t=Vnt(t),n=t+a,r&&dn(a)<Vi-xn){let o=1,l=1;r.length&&(o=Number(r[0]),l=Number(r[1]));let{outerRadius:u=e.outerRadius,innerRadius:c=e.innerRadius}=this.attribute;const{outerPadding:d=e.outerPadding,innerPadding:h=e.innerPadding}=this.attribute;u+=d,c-=h;const p=Math.abs(u-c)/2,f=p/u;if(p>xn&&u>xn)return{startAngle:t-s*f*o,endAngle:n+s*f*l,sc:s*f*o,ec:s*f*l}}return{startAngle:t,endAngle:n}}getParsePadAngle(e,t){const n=qe(this).arc,{innerPadding:r=n.innerPadding,outerPadding:s=n.outerPadding,padAngle:a=n.padAngle}=this.attribute;let{outerRadius:o=n.outerRadius,innerRadius:l=n.innerRadius}=this.attribute;o+=s,l-=r;const{padRadius:u=tu(o*o+l*l)}=this.attribute,c=dn(t-e);let d=e,h=t,p=e,f=t;const g=a/2;let v=c,m=c;if(g>xn&&u>xn){const b=t>e?1:-1;let _=tae(Number(u)/l*bn(g)),S=tae(Number(u)/o*bn(g));return(v-=2*_)>xn?(_*=b,p+=_,f-=_):(v=0,p=f=(e+t)/2),(m-=2*S)>xn?(S*=b,d+=S,h-=S):(m=0,d=h=(e+t)/2),{outerStartAngle:d,outerEndAngle:h,innerStartAngle:p,innerEndAngle:f,innerDeltaAngle:v,outerDeltaAngle:m}}return{outerStartAngle:d,outerEndAngle:h,innerStartAngle:p,innerEndAngle:f,innerDeltaAngle:v,outerDeltaAngle:m}}doUpdateAABBBounds(e){const t=qe(this).arc;this._AABBBounds.clear();const n=this.attribute,r=Ne.graphicService.updateArcAABBBounds(n,qe(this).arc,this._AABBBounds,e,this),{boundsPadding:s=t.boundsPadding}=n,a=Yo(s);return a&&r.expand(a),this.clearUpdateBoundTag(),r}tryUpdateOBBBounds(){throw new Error("")}needUpdateTags(e){return super.needUpdateTags(e,ele)}needUpdateTag(e){return super.needUpdateTag(e,ele)}getDefaultAttribute(e){return qe(this).arc[e]}toCustomPath(){const e=this.attribute,{startAngle:t,endAngle:n}=this.getParsedAngle();let r=e.innerRadius-(e.innerPadding||0),s=e.outerRadius-(e.outerPadding||0);const a=dn(n-t),o=n>t;if(s<r){const u=s;s=r,r=u}const l=new ba;if(s<=xn)l.moveTo(0,0);else if(a>=Vi-xn)l.moveTo(0+s*Yn(t),0+s*bn(t)),l.arc(0,0,s,t,n,!o),r>xn&&(l.moveTo(0+r*Yn(n),0+r*bn(n)),l.arc(0,0,r,n,t,o));else{const u=s*Yn(t),c=s*bn(t),d=r*Yn(n),h=r*bn(n);l.moveTo(0+u,0+c),l.arc(0,0,s,t,n,!o),l.lineTo(0+d,0+h),l.arc(0,0,r,n,t,o),l.closePath()}return l}clone(){return new Gx(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return Gx.NOWORK_ANIMATE_ATTR}}Gx.NOWORK_ANIMATE_ATTR=Object.assign({cap:1},Zo);function _X(i){return new Gx(i)}class qB extends Gx{constructor(e){super(e),this.type="arc3d",this.numberType=J2}doUpdateAABBBounds(){const e=qe(this).arc;this._AABBBounds.clear();const t=this.attribute,n=Ne.graphicService.updateArc3dAABBBounds(t,qe(this).polygon,this._AABBBounds,this),{boundsPadding:r=e.boundsPadding}=t,s=Yo(r);return s&&n.expand(s),this.clearUpdateBoundTag(),this._AABBBounds}getNoWorkAnimateAttr(){return qB.NOWORK_ANIMATE_ATTR}}qB.NOWORK_ANIMATE_ATTR=Object.assign({cap:1},Zo);function xCe(i){return new qB(i)}const tle=["points","cornerRadius",...Wc];class Yx extends Ll{constructor(e){super(e),this.type="polygon",this.numberType=WB}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{points:e}=this.attribute;return e&&e.length>=2}doUpdateAABBBounds(){const e=qe(this).polygon;this._AABBBounds.clear();const t=this.attribute,n=Ne.graphicService.updatePolygonAABBBounds(t,qe(this).polygon,this._AABBBounds,this),{boundsPadding:r=e.boundsPadding}=t,s=Yo(r);return s&&n.expand(s),this.clearUpdateBoundTag(),this._AABBBounds}tryUpdateOBBBounds(){throw new Error("")}_interpolate(e,t,n,r,s){e==="points"&&(s.points=eX(n,r,t))}getDefaultAttribute(e){return qe(this).polygon[e]}needUpdateTags(e){return super.needUpdateTags(e,tle)}needUpdateTag(e){return super.needUpdateTag(e,tle)}toCustomPath(){const e=this.attribute.points,t=new ba;return e.forEach((n,r)=>{r===0?t.moveTo(n.x,n.y):t.lineTo(n.x,n.y)}),t.closePath(),t}clone(){return new Yx(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return Yx.NOWORK_ANIMATE_ATTR}}Yx.NOWORK_ANIMATE_ATTR=Zo;function wCe(i){return new Yx(i)}class ZB extends Yx{constructor(e){super(e),this.type="pyramid3d",this.numberType=sX}doUpdateAABBBounds(){const e=qe(this).polygon;this._AABBBounds.clear();const t=this.attribute,n=Ne.graphicService.updatePyramid3dAABBBounds(t,qe(this).polygon,this._AABBBounds,this),{boundsPadding:r=e.boundsPadding}=t,s=Yo(r);return s&&n.expand(s),this.clearUpdateBoundTag(),this._AABBBounds}findFace(){const{points:e}=this.attribute,t=e.map((o,l)=>{const u=l===3?e[0]:e[l+1],c=o.x-u.x;return c===0?0:(o.y-u.y)/c}),n=e.map(o=>({p:o,d:0}));let r=!1,s=0;for(let o=0;o<t.length-1;o++){for(let l=o+1;l<t.length;l++){if(t[o]===t[l]){r=!0;const u=ds.distancePP(n[o].p,n[o+1].p);n[o].d=u,n[o+1].d=u,s=Jl(s,u);const c=ds.distancePP(n[l].p,n[l+1].p);n[l].d=c,n[l+1].d=c,s=Jl(s,c)}if(r)break}if(r)break}for(let o=e.length-1;o>=0;o--){const l=e[o];n.unshift({p:l,d:0})}for(let o=0;o<e.length;o++){const l=(s-n[o+e.length].d)/2;n[o].d+=l,n[o+e.length].d+=l}const a={polygons:[],vertices:[],edges:[]};return n.forEach(o=>{a.vertices.push([o.p.x,o.p.y,o.d])}),a.polygons.push({polygon:[0,4,5,1],normal:[0,-1,0]}),a.polygons.push({polygon:[7,6,2,3],normal:[0,1,0]}),a.polygons.push({polygon:[0,4,7,3],normal:[-1,0,0]}),a.polygons.push({polygon:[1,5,6,2],normal:[1,0,0]}),a.polygons.push({polygon:[0,1,2,3],normal:[0,0,-1]}),a.polygons.push({polygon:[4,5,6,7],normal:[0,0,1]}),a.edges=[[0,1],[1,2],[2,3],[3,0],[4,5],[5,6],[6,7],[7,4],[0,4],[3,7],[1,5],[2,6]],a}_isValid(){return super._isValid()&&this.attribute.points.length===4}getNoWorkAnimateAttr(){return ZB.NOWORK_ANIMATE_ATTR}}ZB.NOWORK_ANIMATE_ATTR=Zo;function CCe(i){return new ZB(i)}let kut=class extends Hw{constructor(e){super({x:0,y:0}),this.type="shadowroot",this.shadowHost=e}addUpdateBoundTag(){super.addUpdateBoundTag(),this.shadowHost&&this.shadowHost.addUpdateBoundTag()}addUpdateShapeAndBoundsTag(){super.addUpdateShapeAndBoundsTag(),this.shadowHost&&this.shadowHost.addUpdateBoundTag()}tryUpdateGlobalTransMatrix(e=!0){if(this.shouldUpdateGlobalMatrix()){const t=this.transMatrix;this._globalTransMatrix?this._globalTransMatrix.setValue(t.a,t.b,t.c,t.d,t.e,t.f):this._globalTransMatrix=t.clone(),this.doUpdateGlobalMatrix(),e&&this.clearUpdateGlobalPositionTag()}return this._globalTransMatrix}doUpdateGlobalMatrix(){if(this.shadowHost){const e=this.shadowHost.globalTransMatrix;this._globalTransMatrix.multiply(e.a,e.b,e.c,e.d,e.e,e.f)}}tryUpdateGlobalAABBBounds(){return this._globalAABBBounds?this._globalAABBBounds.setValue(this._AABBBounds.x1,this._AABBBounds.y1,this._AABBBounds.x2,this._AABBBounds.y2):this._globalAABBBounds=this._AABBBounds.clone(),this.shadowHost&&this._globalAABBBounds.transformWithMatrix(this.shadowHost.globalTransMatrix),this._globalAABBBounds}};function Eut(i){return new kut(i)}class eS{updateBounds(e,t,n,r){const{outerBorder:s,shadowBlur:a=t.shadowBlur}=e;if(s){const o=t.outerBorder,{distance:l=o.distance,lineWidth:u=o.lineWidth}=s;n.expand(l+(a+u)/2)}return n}}class Aut extends eS{updateBounds(e,t,n,r){const{outerBorder:s,shadowBlur:a=t.shadowBlur,strokeBoundsBuffer:o=t.strokeBoundsBuffer}=e;if(s){const l=t.outerBorder,{distance:u=l.distance,lineWidth:c=l.lineWidth}=s;H3(n,u+(a+c)/2,!0,o)}return n}}function ile(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}class Tut{constructor(){this.pools=[]}allocate(e,t,n,r,s,a){if(!this.pools.length)return new gs(e,t,n,r,s,a);const o=this.pools.pop();return o.a=e,o.b=t,o.c=n,o.d=r,o.e=s,o.f=a,o}allocateByObj(e){if(!this.pools.length)return new gs(e.a,e.b,e.c,e.d,e.e,e.f);const t=this.pools.pop();return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,t}free(e){this.pools.push(e)}get length(){return this.pools.length}release(...e){this.pools=[]}}class QB{constructor(){this.pools=[]}static identity(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}allocate(){if(!this.pools.length)return ile();const e=this.pools.pop();return QB.identity(e),e}allocateByObj(e){let t;t=this.pools.length?this.pools.pop():ile();for(let n=0;n<t.length;n++)t[n]=e[n];return t}free(e){e&&this.pools.push(e)}get length(){return this.pools.length}release(...e){this.pools=[]}}const jd=new Tut,wr=new QB;var Put=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Out=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},Mut=function(i,e){return function(t,n){e(t,n,i)}};function Iut(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function Rut(i,e,t){const n=Math.sin(t),r=Math.cos(t),s=e[4],a=e[5],o=e[6],l=e[7],u=e[8],c=e[9],d=e[10],h=e[11];return e!==i&&(i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15]),i[4]=s*r+u*n,i[5]=a*r+c*n,i[6]=o*r+d*n,i[7]=l*r+h*n,i[8]=u*r-s*n,i[9]=c*r-a*n,i[10]=d*r-o*n,i[11]=h*r-l*n,i}function Dut(i,e,t){const n=Math.sin(t),r=Math.cos(t),s=e[0],a=e[1],o=e[2],l=e[3],u=e[8],c=e[9],d=e[10],h=e[11];return e!==i&&(i[4]=e[4],i[5]=e[5],i[6]=e[6],i[7]=e[7],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15]),i[0]=s*r-u*n,i[1]=a*r-c*n,i[2]=o*r-d*n,i[3]=l*r-h*n,i[8]=s*n+u*r,i[9]=a*n+c*r,i[10]=o*n+d*r,i[11]=l*n+h*r,i}function Lut(i,e,t){const n=Math.sin(t),r=Math.cos(t),s=e[0],a=e[1],o=e[2],l=e[3],u=e[4],c=e[5],d=e[6],h=e[7];return e!==i&&(i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15]),i[0]=s*r+u*n,i[1]=a*r+c*n,i[2]=o*r+d*n,i[3]=l*r+h*n,i[4]=u*r-s*n,i[5]=c*r-a*n,i[6]=d*r-o*n,i[7]=h*r-l*n,i}function mk(i,e,t){const n=t[0],r=t[1],s=t[2];let a,o,l,u,c,d,h,p,f,g,v,m;return e===i?(i[12]=e[0]*n+e[4]*r+e[8]*s+e[12],i[13]=e[1]*n+e[5]*r+e[9]*s+e[13],i[14]=e[2]*n+e[6]*r+e[10]*s+e[14],i[15]=e[3]*n+e[7]*r+e[11]*s+e[15]):(a=e[0],o=e[1],l=e[2],u=e[3],c=e[4],d=e[5],h=e[6],p=e[7],f=e[8],g=e[9],v=e[10],m=e[11],i[0]=a,i[1]=o,i[2]=l,i[3]=u,i[4]=c,i[5]=d,i[6]=h,i[7]=p,i[8]=f,i[9]=g,i[10]=v,i[11]=m,i[12]=a*n+c*r+f*s+e[12],i[13]=o*n+d*r+g*s+e[13],i[14]=l*n+h*r+v*s+e[14],i[15]=u*n+p*r+m*s+e[15]),i}function w5(i,e){i[0]=e.a,i[1]=e.b,i[2]=0,i[3]=0,i[4]=e.c,i[5]=e.d,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=e.e,i[13]=e.f,i[14]=0,i[15]=1}function Fut(i,e,t){const n=t[0],r=t[1],s=t[2];return i[0]=e[0]*n,i[1]=e[1]*n,i[2]=e[2]*n,i[3]=e[3]*n,i[4]=e[4]*r,i[5]=e[5]*r,i[6]=e[6]*r,i[7]=e[7]*r,i[8]=e[8]*s,i[9]=e[9]*s,i[10]=e[10]*s,i[11]=e[11]*s,i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15],i}function iP(i,e,t){const n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],d=e[8],h=e[9],p=e[10],f=e[11],g=e[12],v=e[13],m=e[14],b=e[15];let _=t[0],S=t[1],C=t[2],k=t[3];return i[0]=_*n+S*o+C*d+k*g,i[1]=_*r+S*l+C*h+k*v,i[2]=_*s+S*u+C*p+k*m,i[3]=_*a+S*c+C*f+k*b,_=t[4],S=t[5],C=t[6],k=t[7],i[4]=_*n+S*o+C*d+k*g,i[5]=_*r+S*l+C*h+k*v,i[6]=_*s+S*u+C*p+k*m,i[7]=_*a+S*c+C*f+k*b,_=t[8],S=t[9],C=t[10],k=t[11],i[8]=_*n+S*o+C*d+k*g,i[9]=_*r+S*l+C*h+k*v,i[10]=_*s+S*u+C*p+k*m,i[11]=_*a+S*c+C*f+k*b,_=t[12],S=t[13],C=t[14],k=t[15],i[12]=_*n+S*o+C*d+k*g,i[13]=_*r+S*l+C*h+k*v,i[14]=_*s+S*u+C*p+k*m,i[15]=_*a+S*c+C*f+k*b,i}function kCe(i,e,t){var n;const{x:r=t.x,y:s=t.y,z:a=t.z,dx:o=t.dx,dy:l=t.dy,dz:u=t.dz,scaleX:c=t.scaleX,scaleY:d=t.scaleY,scaleZ:h=t.scaleZ,alpha:p=t.alpha,beta:f=t.beta,angle:g=t.angle,anchor3d:v=e.attribute.anchor,anchor:m}=e.attribute,b=[0,0,0];if(v){if(typeof v[0]=="string"){const _=parseFloat(v[0])/100,S=e.AABBBounds;b[0]=S.x1+(S.x2-S.x1)*_}else b[0]=v[0];if(typeof v[1]=="string"){const _=parseFloat(v[1])/100,S=e.AABBBounds;b[1]=S.x1+(S.x2-S.x1)*_}else b[1]=v[1];b[2]=(n=v[2])!==null&&n!==void 0?n:0}if(Iut(i),mk(i,i,[r+o,s+l,a+u]),mk(i,i,[b[0],b[1],b[2]]),Rut(i,i,f),Dut(i,i,p),mk(i,i,[-b[0],-b[1],b[2]]),Fut(i,i,[c,d,h]),g){const _=wr.allocate(),S=[0,0];if(m){if(typeof v[0]=="string"){const C=parseFloat(v[0])/100,k=e.AABBBounds;S[0]=k.x1+(k.x2-k.x1)*C}else S[0]=v[0];if(typeof v[1]=="string"){const C=parseFloat(v[1])/100,k=e.AABBBounds;S[1]=k.x1+(k.x2-k.x1)*C}else S[1]=v[1]}mk(_,_,[S[0],S[1],0]),Lut(_,_,g),mk(_,_,[-S[0],-S[1],0]),iP(i,i,_)}}function But(i){const{alpha:e,beta:t}=i.attribute;return e||t}let C5=class{constructor(i){this.creator=i,this.hooks={onAttributeUpdate:new Ec(["graphic"]),onSetStage:new Ec(["graphic","stage"]),onRemove:new Ec(["graphic"]),onRelease:new Ec(["graphic"]),onAddIncremental:new Ec(["graphic","group","stage"]),onClearIncremental:new Ec(["graphic","group","stage"]),beforeUpdateAABBBounds:new Ec(["graphic","stage","willUpdate","aabbBounds"]),afterUpdateAABBBounds:new Ec(["graphic","stage","aabbBounds","globalAABBBounds","selfChange"])},this.tempAABBBounds1=new zr,this.tempAABBBounds2=new zr,this._rectBoundsContribitions=[new eS],this._symbolBoundsContribitions=[new Aut],this._imageBoundsContribitions=[new eS],this._circleBoundsContribitions=[new eS],this._arcBoundsContribitions=[new eS],this._pathBoundsContribitions=[new eS]}onAttributeUpdate(i){this.hooks.onAttributeUpdate.taps.length&&this.hooks.onAttributeUpdate.call(i)}onSetStage(i,e){this.hooks.onSetStage.taps.length&&this.hooks.onSetStage.call(i,e)}onRemove(i){this.hooks.onRemove.taps.length&&this.hooks.onRemove.call(i)}onRelease(i){this.hooks.onRelease.taps.length&&this.hooks.onRelease.call(i)}onAddIncremental(i,e,t){this.hooks.onAddIncremental.taps.length&&this.hooks.onAddIncremental.call(i,e,t)}onClearIncremental(i,e){this.hooks.onClearIncremental.taps.length&&this.hooks.onClearIncremental.call(i,e)}beforeUpdateAABBBounds(i,e,t,n){this.hooks.beforeUpdateAABBBounds.taps.length&&this.hooks.beforeUpdateAABBBounds.call(i,e,t,n)}afterUpdateAABBBounds(i,e,t,n,r){this.hooks.afterUpdateAABBBounds.taps.length&&this.hooks.afterUpdateAABBBounds.call(i,e,t,n,r)}updatePathProxyAABBBounds(i,e){const t=typeof e.pathProxy=="function"?e.pathProxy(e.attribute):e.pathProxy;if(!t)return!1;const n=new wwe(i);return Pg(t.commandList,n,0,0),!0}updateRectAABBBounds(i,e,t,n){if(!this._validCheck(i,e,t,n))return t;if(!this.updatePathProxyAABBBounds(t,n)){let{width:a,height:o}=i;const{x1:l,y1:u,x:c,y:d}=i;a=a??l-c,o=o??u-d,t.set(0,0,a||0,o||0)}const r=this.tempAABBBounds1,s=this.tempAABBBounds2;return r.setValue(t.x1,t.y1,t.x2,t.y2),s.setValue(t.x1,t.y1,t.x2,t.y2),this._rectBoundsContribitions.length&&this._rectBoundsContribitions.forEach(a=>{a.updateBounds(i,e,r,n),t.union(r),r.setValue(s.x1,s.y1,s.x2,s.y2)}),this.transformAABBBounds(i,t,e,!1,n),t}updateGroupAABBBounds(i,e,t,n){const r=t;t=t.clone();const{width:s,height:a,path:o,clip:l=e.clip}=i;o&&o.length?o.forEach(d=>{t.union(d.AABBBounds)}):s!=null&&a!=null&&t.set(0,0,Math.max(0,s),Math.max(0,a)),l||n.forEachChildren(d=>{t.union(d.AABBBounds)});const u=this.tempAABBBounds1,c=this.tempAABBBounds2;return u.setValue(t.x1,t.y1,t.x2,t.y2),c.setValue(t.x1,t.y1,t.x2,t.y2),this.transformAABBBounds(i,t,e,!1,n),r.copy(t),r}updateGlyphAABBBounds(i,e,t,n){return this._validCheck(i,e,t,n)&&n.getSubGraphic().forEach(r=>{t.union(r.AABBBounds)}),t}updateHTMLTextAABBBounds(i,e,t,n){const{textAlign:r,textBaseline:s}=i;if(i.forceBoundsHeight!=null){const a=Xe(i.forceBoundsHeight)?i.forceBoundsHeight:i.forceBoundsHeight(),o=Up(s,a,a);t.set(t.x1,o,t.x2,o+a)}if(i.forceBoundsWidth!=null){const a=Xe(i.forceBoundsWidth)?i.forceBoundsWidth:i.forceBoundsWidth(),o=Sg(r,a);t.set(o,t.y1,o+a,t.y2)}}updateRichTextAABBBounds(i,e,t,n){if(!this._validCheck(i,e,t,n)||!n)return t;const{width:r=e.width,height:s=e.height,maxWidth:a=e.maxWidth,maxHeight:o=e.maxHeight,textAlign:l=e.textAlign,textBaseline:u=e.textBaseline}=i;if(r>0&&s>0)t.set(0,0,r,s);else{const f=n.getFrameCache(),{width:g,height:v}=f.getActualSize();let m=r||g||0,b=s||v||0;b=typeof o=="number"&&b>o?o:b||0,m=typeof a=="number"&&m>a?a:m||0,t.set(0,0,m,b)}let c=0;switch(u){case"top":c=0;break;case"middle":c=-t.height()/2;break;case"bottom":c=-t.height()}let d=0;switch(l){case"left":d=0;break;case"center":d=-t.width()/2;break;case"right":d=-t.width()}t.translate(d,c);const h=this.tempAABBBounds1,p=this.tempAABBBounds2;return h.setValue(t.x1,t.y1,t.x2,t.y2),p.setValue(t.x1,t.y1,t.x2,t.y2),i.forceBoundsHeight==null&&i.forceBoundsWidth==null||this.updateHTMLTextAABBBounds(i,e,t),this.transformAABBBounds(i,t,e,!1,n),t}updateTextAABBBounds(i,e,t,n){if(!this._validCheck(i,e,t,n)||!n)return t;const{text:r=e.text}=n.attribute;Array.isArray(r)?n.updateMultilineAABBBounds(r):n.updateSingallineAABBBounds(r);const s=this.tempAABBBounds1,a=this.tempAABBBounds2;s.setValue(t.x1,t.y1,t.x2,t.y2),a.setValue(t.x1,t.y1,t.x2,t.y2);const{scaleX:o=e.scaleX,scaleY:l=e.scaleY,shadowBlur:u=e.shadowBlur,strokeBoundsBuffer:c=e.strokeBoundsBuffer}=i;if(u){const d=u/Math.abs(o+l);H3(s,d,!0,c),t.union(s)}return this.combindShadowAABBBounds(t,n),i.forceBoundsHeight==null&&i.forceBoundsWidth==null||this.updateHTMLTextAABBBounds(i,e,t),PV(t,t,n.transMatrix),t}updatePathAABBBounds(i,e,t,n){if(!this._validCheck(i,e,t,n))return t;this.updatePathProxyAABBBounds(t,n)||this.updatePathAABBBoundsImprecise(i,e,t,n);const r=this.tempAABBBounds1,s=this.tempAABBBounds2;r.setValue(t.x1,t.y1,t.x2,t.y2),s.setValue(t.x1,t.y1,t.x2,t.y2),this._pathBoundsContribitions.length&&this._pathBoundsContribitions.forEach(o=>{o.updateBounds(i,e,r,n),t.union(r),r.setValue(s.x1,s.y1,s.x2,s.y2)});const{lineJoin:a=e.lineJoin}=i;return this.transformAABBBounds(i,t,e,a==="miter",n),t}updatePathAABBBoundsImprecise(i,e,t,n){if(!n)return t;const r=n.getParsedPathShape();return t.union(r.getBounds()),t}updatePyramid3dAABBBounds(i,e,t,n){if(!n)return t;const r=n.stage;if(!r||!r.camera)return t;n.findFace().vertices.forEach(o=>{const l=o[0],u=o[1];t.add(l,u)});const s=this.tempAABBBounds1,a=this.tempAABBBounds2;return s.setValue(t.x1,t.y1,t.x2,t.y2),a.setValue(t.x1,t.y1,t.x2,t.y2),this.transformAABBBounds(i,t,e,!1,n),t}updateArc3dAABBBounds(i,e,t,n){if(!n)return t;const r=n.stage;if(!r||!r.camera)return t;const{outerRadius:s=e.outerRadius,height:a=0}=i,o=s+a;t.setValue(-o,-o,o,o);const l=this.tempAABBBounds1,u=this.tempAABBBounds2;return l.setValue(t.x1,t.y1,t.x2,t.y2),u.setValue(t.x1,t.y1,t.x2,t.y2),this.transformAABBBounds(i,t,e,!1,n),t}updatePolygonAABBBounds(i,e,t,n){if(!this._validCheck(i,e,t,n))return t;this.updatePathProxyAABBBounds(t,n)||this.updatePolygonAABBBoundsImprecise(i,e,t,n);const r=this.tempAABBBounds1,s=this.tempAABBBounds2;r.setValue(t.x1,t.y1,t.x2,t.y2),s.setValue(t.x1,t.y1,t.x2,t.y2);const{lineJoin:a=e.lineJoin}=i;return this.transformAABBBounds(i,t,e,a==="miter",n),t}updatePolygonAABBBoundsImprecise(i,e,t,n){const{points:r=e.points}=i;return r.forEach(s=>{t.add(s.x,s.y)}),t}updateLineAABBBounds(i,e,t,n){if(!this._validCheck(i,e,t,n))return t;this.updatePathProxyAABBBounds(t,n)||(i.segments?this.updateLineAABBBoundsBySegments(i,e,t,n):this.updateLineAABBBoundsByPoints(i,e,t,n));const r=this.tempAABBBounds1,s=this.tempAABBBounds2;r.setValue(t.x1,t.y1,t.x2,t.y2),s.setValue(t.x1,t.y1,t.x2,t.y2);const{lineJoin:a=e.lineJoin}=i;return this.transformAABBBounds(i,t,e,a==="miter",n),t}updateLineAABBBoundsByPoints(i,e,t,n){const{points:r=e.points}=i,s=t;return r.forEach(a=>{s.add(a.x,a.y)}),s}updateLineAABBBoundsBySegments(i,e,t,n){const{segments:r=e.segments}=i,s=t;return r.forEach(a=>{a.points.forEach(o=>{s.add(o.x,o.y)})}),s}updateAreaAABBBounds(i,e,t,n){if(!this._validCheck(i,e,t,n))return t;this.updatePathProxyAABBBounds(t,n)||(i.segments?this.updateAreaAABBBoundsBySegments(i,e,t,n):this.updateAreaAABBBoundsByPoints(i,e,t,n));const r=this.tempAABBBounds1,s=this.tempAABBBounds2;r.setValue(t.x1,t.y1,t.x2,t.y2),s.setValue(t.x1,t.y1,t.x2,t.y2);const{lineJoin:a=e.lineJoin}=i;return this.transformAABBBounds(i,t,e,a==="miter",n),t}updateAreaAABBBoundsByPoints(i,e,t,n){const{points:r=e.points}=i,s=t;return r.forEach(a=>{var o,l;s.add(a.x,a.y),s.add((o=a.x1)!==null&&o!==void 0?o:a.x,(l=a.y1)!==null&&l!==void 0?l:a.y)}),s}updateAreaAABBBoundsBySegments(i,e,t,n){const{segments:r=e.segments}=i,s=t;return r.forEach(a=>{a.points.forEach(o=>{var l,u;s.add(o.x,o.y),s.add((l=o.x1)!==null&&l!==void 0?l:o.x,(u=o.y1)!==null&&u!==void 0?u:o.y)})}),s}updateCircleAABBBounds(i,e,t,n,r){if(!this._validCheck(i,e,t,r))return t;this.updatePathProxyAABBBounds(t,r)||(n?this.updateCircleAABBBoundsImprecise(i,e,t,r):this.updateCircleAABBBoundsAccurate(i,e,t,r));const s=this.tempAABBBounds1,a=this.tempAABBBounds2;return s.setValue(t.x1,t.y1,t.x2,t.y2),a.setValue(t.x1,t.y1,t.x2,t.y2),this._circleBoundsContribitions.length&&this._circleBoundsContribitions.forEach(o=>{o.updateBounds(i,e,s,r),t.union(s),s.setValue(a.x1,a.y1,a.x2,a.y2)}),this.transformAABBBounds(i,t,e,!1,r),t}updateCircleAABBBoundsImprecise(i,e,t,n){const{radius:r=e.radius}=i;return t.set(-r,-r,r,r),t}updateCircleAABBBoundsAccurate(i,e,t,n){const{startAngle:r=e.startAngle,endAngle:s=e.endAngle,radius:a=e.radius}=i;return s-r>Vi-xn?t.set(-a,-a,a,a):E7(r,s,a,t),t}updateArcAABBBounds(i,e,t,n,r){if(!this._validCheck(i,e,t,r))return t;this.updatePathProxyAABBBounds(t,r)||(n?this.updateArcAABBBoundsImprecise(i,e,t,r):this.updateArcAABBBoundsAccurate(i,e,t,r));const s=this.tempAABBBounds1,a=this.tempAABBBounds2;s.setValue(t.x1,t.y1,t.x2,t.y2),a.setValue(t.x1,t.y1,t.x2,t.y2),this._arcBoundsContribitions.length&&this._arcBoundsContribitions.forEach(l=>{l.updateBounds(i,e,s,r),t.union(s),s.setValue(a.x1,a.y1,a.x2,a.y2)});const{lineJoin:o=e.lineJoin}=i;return this.transformAABBBounds(i,t,e,o==="miter",r),t}updateArcAABBBoundsImprecise(i,e,t,n){let{outerRadius:r=e.outerRadius,innerRadius:s=e.innerRadius}=i;const{outerPadding:a=e.outerPadding,innerPadding:o=e.innerPadding}=i;return r+=a,s-=o,r<s&&(r=s),t.set(-r,-r,r,r),t}updateArcAABBBoundsAccurate(i,e,t,n){let{outerRadius:r=e.outerRadius,innerRadius:s=e.innerRadius}=i;const{outerPadding:a=e.outerPadding,innerPadding:o=e.innerPadding}=i;if(r+=a,s-=o,r<s){const c=r;r=s,s=c}let{endAngle:l=e.endAngle,startAngle:u=e.startAngle}=i;if(u>l){const c=u;u=l,l=c}return r<=xn?t.set(0,0,0,0):Math.abs(l-u)>Vi-xn?t.set(-r,-r,r,r):(E7(u,l,r,t),E7(u,l,s,t)),t}updateSymbolAABBBounds(i,e,t,n,r){if(!this._validCheck(i,e,t,r))return t;this.updatePathProxyAABBBounds(t,r)||(n?this.updateSymbolAABBBoundsImprecise(i,e,t,r):this.updateSymbolAABBBoundsAccurate(i,e,t,r));const s=this.tempAABBBounds1,a=this.tempAABBBounds2;s.setValue(t.x1,t.y1,t.x2,t.y2),a.setValue(t.x1,t.y1,t.x2,t.y2),this._symbolBoundsContribitions.length&&this._symbolBoundsContribitions.forEach(l=>{l.updateBounds(i,e,s,r),t.union(s),s.setValue(a.x1,a.y1,a.x2,a.y2)});const{lineJoin:o=e.lineJoin}=i;return this.transformAABBBounds(i,t,e,o==="miter",r),t}updateSymbolAABBBoundsImprecise(i,e,t,n){const{size:r=e.size}=i;if(ke(r))t.set(-r[0]/2,-r[1]/2,r[0]/2,r[1]/2);else{const s=r/2;t.set(-s,-s,s,s)}return t}updateSymbolAABBBoundsAccurate(i,e,t,n){if(!n)return t;const{size:r=e.size}=i;return n.getParsedPath().bounds(r,t),t}updateImageAABBBounds(i,e,t,n){if(!this._validCheck(i,e,t,n))return t;if(!this.updatePathProxyAABBBounds(t,n)){const{width:a=e.width,height:o=e.height}=i;t.set(0,0,a,o)}const r=this.tempAABBBounds1,s=this.tempAABBBounds2;return r.setValue(t.x1,t.y1,t.x2,t.y2),s.setValue(t.x1,t.y1,t.x2,t.y2),this._imageBoundsContribitions.length&&this._imageBoundsContribitions.forEach(a=>{a.updateBounds(i,e,r,n),t.union(r),r.setValue(s.x1,s.y1,s.x2,s.y2)}),this.transformAABBBounds(i,t,e,!1,n),t}combindShadowAABBBounds(i,e){if(e&&e.shadowRoot){const t=e.shadowRoot.AABBBounds;i.union(t)}}transformAABBBounds(i,e,t,n,r){if(!e.empty()){const{scaleX:o=t.scaleX,scaleY:l=t.scaleY,stroke:u=t.stroke,shadowBlur:c=t.shadowBlur,lineWidth:d=t.lineWidth,pickStrokeBuffer:h=t.pickStrokeBuffer,strokeBoundsBuffer:p=t.strokeBoundsBuffer}=i,f=this.tempAABBBounds1,g=this.tempAABBBounds2;if(u&&d){const v=(d+h)/Math.abs(o+l);H3(f,v,n,p),e.union(f),f.setValue(g.x1,g.y1,g.x2,g.y2)}if(c){const{shadowOffsetX:v=t.shadowOffsetX,shadowOffsetY:m=t.shadowOffsetY}=i,b=c/Math.abs(o+l)*2;H3(f,b,!1,p+1),f.translate(v,m),e.union(f)}}if(this.combindShadowAABBBounds(e,r),e.empty())return;let s=!0;const a=r.transMatrix;r&&r.isContainer&&(s=!(a.a===1&&a.b===0&&a.c===0&&a.d===1&&a.e===0&&a.f===0)),s&&PV(e,e,a)}_validCheck(i,e,t,n){if(!n||i.forceBoundsHeight!=null||i.forceBoundsWidth!=null)return!0;if(!n.valid)return t.clear(),!1;const{visible:r=e.visible}=i;return!!r||(t.clear(),!1)}};C5=Put([Tt(),Mut(0,Fi(aCe)),Out("design:paramtypes",[Object])],C5);class $ut{constructor(){this.store=new Map}RegisterGraphicCreator(e,t){this.store.set(e,t),this[e]=t}CreateGraphic(e,t){const n=this.store.get(e);return n?n(t):null}}const Ot=new $ut;let vI,yI;function nP(i){return vI||(vI=Ot.CreateGraphic("text",{})),vI.initAttributes(i),vI.AABBBounds}function Nut(i){return yI||(yI=Ot.CreateGraphic("richtext",{})),yI.setAttributes(i),yI.AABBBounds}const ea={x:0,y:0,z:0,lastModelMatrix:null};class du{init(e){e&&(this._renderContribitions=e.getContributions()),this._renderContribitions||(this._renderContribitions=[]),this.builtinContributions&&this.builtinContributions.forEach(t=>this._renderContribitions.push(t)),this._renderContribitions.length&&(this._renderContribitions.sort((t,n)=>n.order-t.order),this._beforeRenderContribitions=this._renderContribitions.filter(t=>t.time===Fa.beforeFillStroke),this._afterRenderContribitions=this._renderContribitions.filter(t=>t.time===Fa.afterFillStroke))}beforeRenderStep(e,t,n,r,s,a,o,l,u,c,d,h,p){this._beforeRenderContribitions&&this._beforeRenderContribitions.forEach(f=>{f.supportedAppName&&e.stage&&e.stage.params&&e.stage.params.context&&e.stage.params.context.appName&&!(Array.isArray(f.supportedAppName)?f.supportedAppName:[f.supportedAppName]).includes(e.stage.params.context.appName)||f.drawShape(e,t,n,r,s,a,o,l,u,c,d,h,p)})}afterRenderStep(e,t,n,r,s,a,o,l,u,c,d,h,p){this._afterRenderContribitions&&this._afterRenderContribitions.forEach(f=>{f.supportedAppName&&e.stage&&e.stage.params&&e.stage.params.context&&e.stage.params.context.appName&&!(Array.isArray(f.supportedAppName)?f.supportedAppName:[f.supportedAppName]).includes(e.stage.params.context.appName)||f.drawShape(e,t,n,r,s,a,o,l,u,c,d,h,p)})}valid(e,t,n,r){const{fill:s=t.fill,background:a,stroke:o=t.stroke,opacity:l=t.opacity,fillOpacity:u=t.fillOpacity,lineWidth:c=t.lineWidth,strokeOpacity:d=t.strokeOpacity,visible:h=t.visible}=e.attribute,p=j_(l,u,s),f=dX(l,d),g=mb(s,a),v=Vw(o,c);return!(!e.valid||!h)&&!(!g&&!v)&&!!(p||f||n||r||a)&&{fVisible:p,sVisible:f,doFill:g,doStroke:v}}transform(e,t,n,r=!1){const{x:s=t.x,y:a=t.y,z:o=t.z,scaleX:l=t.scaleX,scaleY:u=t.scaleY,angle:c=t.angle,postMatrix:d}=e.attribute,h=n.modelMatrix,p=n.camera;ea.x=s,ea.y=a,ea.z=o,ea.lastModelMatrix=h;const f=p&&(r||But(e)),g=f?e.transMatrix.onlyTranslate()&&!d:l===1&&u===1&&c===0&&!d;if(f){const v=wr.allocate(),m=wr.allocate();kCe(m,e,t),iP(v,h||v,m),ea.x=0,ea.y=0,ea.z=0,n.modelMatrix=v,n.setTransform(1,0,0,1,0,0,!0),wr.free(m)}if(g&&!h){const v=e.getOffsetXY(t);ea.x+=v.x,ea.y+=v.y,ea.z=o,n.setTransformForCurrent()}else if(f)ea.x=0,ea.y=0,ea.z=0,n.setTransform(1,0,0,1,0,0,!0);else if(p&&n.project){const v=e.getOffsetXY(t);ea.x+=v.x,ea.y+=v.y,this.transformWithoutTranslate(n,ea.x,ea.y,ea.z,l,u,c)}else n.transformFromMatrix(e.transMatrix,!0),ea.x=0,ea.y=0,ea.z=0;return ea}transformUseContext2d(e,t,n,r){const s=r.camera;if(this.camera=s,s){const a=e.AABBBounds,o=a.x2-a.x1,l=a.y2-a.y1,u=r.project(0,0,n),c=r.project(o,0,n),d=r.project(o,l,n),h={x:0,y:0},p={x:o,y:0},f={x:o,y:l};r.camera=null;const g=1/(h.x*(f.y-p.y)-p.x*f.y+f.x*p.y+(p.x-f.x)*h.y),v=-(h.y*(d.x-c.x)-p.y*d.x+f.y*c.x+(p.y-f.y)*u.x)*g,m=(p.y*d.y+h.y*(c.y-d.y)-f.y*c.y+(f.y-p.y)*u.y)*g,b=(h.x*(d.x-c.x)-p.x*d.x+f.x*c.x+(p.x-f.x)*u.x)*g,_=-(p.x*d.y+h.x*(c.y-d.y)-f.x*c.y+(f.x-p.x)*u.y)*g,S=(h.x*(f.y*c.x-p.y*d.x)+h.y*(p.x*d.x-f.x*c.x)+(f.x*p.y-p.x*f.y)*u.x)*g,C=(h.x*(f.y*c.y-p.y*d.y)+h.y*(p.x*d.y-f.x*c.y)+(f.x*p.y-p.x*f.y)*u.y)*g;r.setTransform(v,m,b,_,S,C,!0)}}restoreTransformUseContext2d(e,t,n,r){this.camera&&(r.camera=this.camera)}transformWithoutTranslate(e,t,n,r,s,a,o){const l=e.project(t,n,r);e.translate(l.x,l.y,!1),e.scale(s,a,!1),e.rotate(o,!1),e.translate(-l.x,-l.y,!1),e.setTransformForCurrent()}_draw(e,t,n,r,s){const{context:a}=r;if(!a)return;const{renderable:o}=e.attribute;if(o===!1)return;a.highPerformanceSave();const l=this.transform(e,t,a,n),{x:u,y:c,z:d,lastModelMatrix:h}=l;this.z=d,ult(e,a,u,c,r,s)||(this.drawShape(e,a,u,c,r,s),this.z=0,a.modelMatrix!==h&&wr.free(a.modelMatrix),a.modelMatrix=h),a.highPerformanceRestore()}}const jut=function(){const i={linearGradient:/^(linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,fromAngleValue:/^from\s*(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/(^\#[0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^(rgb\(\d{1,3},\s*\d{1,3},\s*\d{1,3}\))/i,rgbaColor:/^(rgba\(\d{1,3},\s*\d{1,3},\s*\d{1,3},\s*((\d\.\d+)|\d{1,3})\))/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/};let e="";function t(S){const C=new Error(e+": "+S);throw C.source=e,C}function n(){const S=p(r);return e.length>0&&t("Invalid input not EOF"),S}function r(){return s("linear",i.linearGradient,a)||s("radial",i.radialGradient,l)||s("conic",i.conicGradient,o)}function s(S,C,k){return function(E,A){const P=b(E);if(P){b(i.startCall)||t("Missing (");const O=A(P);return b(i.endCall)||t("Missing )"),O}}(C,function(E){const A=k();return A&&(b(i.comma)||t("Missing comma before color stops")),{type:S,orientation:A,colorStops:p(f)}})}function a(){return m("directional",i.sideOrCorner,1)||m("angular",i.angleValue,1)}function o(){return m("angular",i.fromAngleValue,1)}function l(){let S,C,k=u();return k&&(S=[],S.push(k),C=e,b(i.comma)&&(k=u(),k?S.push(k):e=C)),S}function u(){let S=function(){const C=m("shape",/^(circle)/i,0);return C&&(C.style=v()||c()),C}()||function(){const C=m("shape",/^(ellipse)/i,0);return C&&(C.style=g()||c()),C}();if(S)S.at=d();else{const C=c();if(C){S=C;const k=d();k&&(S.at=k)}else{const k=h();k&&(S={type:"default-radial",at:k})}}return S}function c(){return m("extent-keyword",i.extentKeywords,1)}function d(){if(m("position",/^at/,0)){const S=h();return S||t("Missing positioning value"),S}}function h(){const S={x:g(),y:g()};if(S.x||S.y)return{type:"position",value:S}}function p(S){let C=S();const k=[];if(C)for(k.push(C);b(i.comma);)C=S(),C?k.push(C):t("One extra comma");return k}function f(){const S=m("hex",i.hexColor,1)||m("rgba",i.rgbaColor,1)||m("rgb",i.rgbColor,1)||m("literal",i.literalColor,0);return S||t("Expected color definition"),S.length=g(),S}function g(){return m("%",i.percentageValue,1)||m("position-keyword",i.positionKeywords,1)||v()}function v(){return m("px",i.pixelValue,1)||m("em",i.emValue,1)}function m(S,C,k){const E=b(C);if(E)return{type:S,value:E[k]}}function b(S){const C=/^[\n\r\t\s]+/.exec(e);C&&_(C[0].length);const k=S.exec(e);return k&&_(k[0].length),k}function _(S){e=e.substr(S)}return function(S){return e=S.toString(),n()}}();class TS{static IsGradient(e){return!(typeof e=="string"&&!e.includes("gradient"))}static IsGradientStr(e){return typeof e=="string"&&e.includes("gradient")}static Parse(e){if(TS.IsGradientStr(e))try{const t=jut(e)[0];if(t){if(t.type==="linear")return TS.ParseLinear(t);if(t.type==="radial")return TS.ParseRadial(t);if(t.type==="conic")return TS.ParseConic(t)}}catch{return e}return e}static ParseConic(e){const{orientation:t,colorStops:n=[]}=e,r=Dn/2,s=parseFloat(t.value)/180*Dn-r;return{gradient:"conical",x:.5,y:.5,startAngle:s,endAngle:s+Vi,stops:n.map(a=>({color:a.value,offset:parseFloat(a.length.value)/100}))}}static ParseRadial(e){const{colorStops:t=[]}=e;return{gradient:"radial",x0:.5,y0:.5,x1:.5,y1:.5,r0:0,r1:1,stops:t.map(n=>({color:n.value,offset:parseFloat(n.length.value)/100}))}}static ParseLinear(e){const{orientation:t,colorStops:n=[]}=e,r=Dn/2;let s=t.type==="angular"?parseFloat(t.value)/180*Dn:0;for(;s<0;)s+=Vi;for(;s>Vi;)s-=Vi;let a=0,o=0,l=0,u=0;return s<r?(a=0,o=1,l=Math.sin(s),u=Math.cos(s)):s<Dn?(a=0,o=0,l=Math.cos(s-r),u=Math.sin(s-r)):s<Dn+r?(a=1,o=0,l=a-Math.sin(s-Dn),u=Math.cos(s-Dn)):(a=1,l=a-Math.cos(s-r-Dn),u-=Math.sin(s-r-Dn)),{gradient:"linear",x0:a,y0:o,x1:l,y1:u,stops:n.map(c=>({color:c.value,offset:parseFloat(c.length.value)/100}))}}}function Ko(i,e,t){let n=e;const{a:r,b:s,c:a,d:o}=i.currentMatrix,l=Math.sign(r)*Math.sqrt(r*r+s*s),u=Math.sign(o)*Math.sqrt(a*a+o*o);return l+u===0?0:(n=n/Math.abs(l+u)*2*t,n)}function k5(i,e,t,n,r){if(!e||e===!0)return"black";let s,a;if(ke(e))for(let o=0;o<e.length&&(a=e[o],!a);o++);else a=e;return a=TS.Parse(a),typeof a=="string"?a:(a.gradient==="linear"?s=zut(i,a,t,n,r):a.gradient==="conical"?s=Vut(i,a,t,n,r):a.gradient==="radial"&&(s=Hut(i,a,t,n,r)),s||"orange")}function zut(i,e,t,n=0,r=0){var s,a,o,l;const u=t.AABBBounds;if(!u)return;let c=u.x2-u.x1,d=u.y2-u.y1,h=u.x1-n,p=u.y1-r;if(t.attribute){const{scaleX:g=1,scaleY:v=1}=t.attribute;if(g*v==0)return;c/=g,d/=v,h/=g,p/=v}const f=i.createLinearGradient(h+((s=e.x0)!==null&&s!==void 0?s:0)*c,p+((a=e.y0)!==null&&a!==void 0?a:0)*d,h+((o=e.x1)!==null&&o!==void 0?o:1)*c,p+((l=e.y1)!==null&&l!==void 0?l:0)*d);return e.stops.forEach(g=>{f.addColorStop(g.offset,g.color)}),f}function Hut(i,e,t,n=0,r=0){var s,a,o,l,u,c;const d=t.AABBBounds;if(!d)return;let h=d.x2-d.x1,p=d.y2-d.y1,f=d.x1-n,g=d.y1-r;if(t.attribute){const{scaleX:m=1,scaleY:b=1}=t.attribute;if(m*b==0)return;f/=m,g/=b,h/=m,p/=b}const v=i.createRadialGradient(f+((s=e.x0)!==null&&s!==void 0?s:.5)*h,g+((a=e.y0)!==null&&a!==void 0?a:.5)*p,Math.max(h,p)*((o=e.r0)!==null&&o!==void 0?o:0),f+((l=e.x1)!==null&&l!==void 0?l:.5)*h,g+((u=e.y1)!==null&&u!==void 0?u:.5)*p,Math.max(h,p)*((c=e.r1)!==null&&c!==void 0?c:.5));return e.stops.forEach(m=>{v.addColorStop(m.offset,m.color)}),v}function Vut(i,e,t,n=0,r=0){var s,a;const o=t.AABBBounds;if(!o)return;let l=o.x2-o.x1,u=o.y2-o.y1,c=o.x1-n,d=o.y1-r;if(t.attribute){const{scaleX:p=1,scaleY:f=1}=t.attribute;if(p*f==0)return;l/=p,u/=f,c/=p,d/=f}const h=i.createConicGradient(c+((s=e.x)!==null&&s!==void 0?s:0)*l,d+((a=e.y)!==null&&a!==void 0?a:0)*u,e.startAngle,e.endAngle);return e.stops.forEach(p=>{h.addColorStop(p.offset,p.color)}),h.GetPattern(l+c,u+d,void 0)}var Wut=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Uut=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},nle=function(i,e){return function(t,n){e(t,n,i)}};class rP{constructor(){this.time=Fa.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,n,r,s,a,o,l,u,c,d,h,p){var f;const{background:g,backgroundOpacity:v=(f=e.attribute.fillOpacity)!==null&&f!==void 0?f:u.backgroundOpacity,opacity:m=u.opacity,backgroundMode:b=u.backgroundMode,backgroundFit:_=u.backgroundFit}=e.attribute;if(g)if(e.backgroundImg&&e.resources){const S=e.resources.get(g);if(S.state!=="success"||!S.data)return;if(t.save(),e.parent&&!e.transMatrix.onlyTranslate()){const k=qe(e.parent).group,{scrollX:E=k.scrollX,scrollY:A=k.scrollY}=e.parent.attribute;t.setTransformFromMatrix(e.parent.globalTransMatrix,!0),t.translate(E,A)}t.clip();const C=e.AABBBounds;t.setCommonStyle(e,e.attribute,n,r,u),t.globalAlpha=v*m,this.doDrawImage(t,S.data,C,b,_),t.restore(),e.transMatrix.onlyTranslate()||t.setTransformForCurrent()}else t.highPerformanceSave(),t.setCommonStyle(e,e.attribute,n,r,u),t.globalAlpha=v*m,t.fillStyle=g,t.fill(),t.highPerformanceRestore()}doDrawImage(e,t,n,r,s){if(r==="no-repeat")e.drawImage(t,n.x1,n.y1,n.width(),n.height());else{const a=n.width(),o=n.height();let l=a,u=o;if(s&&r!=="repeat"&&(t.width||t.height)){const h=t.width,p=t.height;r==="repeat-x"?(l=h*(o/p),u=o):r==="repeat-y"&&(u=p*(a/h),l=a);const f=e.dpr,g=Wx.allocate({width:l,height:u,dpr:f}),v=g.getContext("2d");v&&(v.inuse=!0,v.clearMatrix(),v.setTransformForCurrent(!0),v.clearRect(0,0,l,u),v.drawImage(t,0,0,l,u),t=g.nativeCanvas),Wx.free(g)}const c=e.dpr,d=e.createPattern(t,r);d.setTransform&&d.setTransform(new DOMMatrix([1/c,0,0,1/c,0,0])),e.fillStyle=d,e.translate(n.x1,n.y1),e.fillRect(0,0,a,o),e.translate(-n.x1,-n.y1)}}}const vb=new rP;let qd=class{constructor(i){this.subRenderContribitions=i,this.time=Fa.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(i,e,t,n,r,s,a,o,l,u,c,d,h){this._subRenderContribitions||(this._subRenderContribitions=this.subRenderContribitions.getContributions()),this._subRenderContribitions.forEach(p=>{p.render(i,e,t,n,r,s,a,o,l,u,c,d,h)})}};qd=Wut([Tt(),nle(0,Fi(Ca)),nle(0,eo(pX)),Uut("design:paramtypes",[Object])],qd);class bX{constructor(){this.time=Fa.afterFillStroke,this.useStyle=!0,this.order=10}createCommonPattern(e,t,n,r,s){const a=(e-2*t)/2,o=r.dpr,l=Wx.allocate({width:e,height:e,dpr:o}),u=l.getContext("2d");if(!u)return null;u.inuse=!0,u.clearMatrix(),u.setTransformForCurrent(!0),u.clearRect(0,0,e,e),s(a,u);const c=r.createPattern(l.nativeCanvas,"repeat");return c.setTransform&&c.setTransform(new DOMMatrix([1/o,0,0,1/o,0,0])),Wx.free(l),c}createCirclePattern(e,t,n,r){return this.createCommonPattern(e,t,n,r,(s,a)=>{a.fillStyle=n,a.arc(s,s,s,0,Vi),a.fill()})}createDiamondPattern(e,t,n,r){return this.createCommonPattern(e,t,n,r,(s,a)=>{const o=e/2,l=o;a.fillStyle=n,a.moveTo(o,l-s),a.lineTo(s+o,l),a.lineTo(o,l+s),a.lineTo(o-s,l),a.closePath(),a.fill()})}createRectPattern(e,t,n,r){return this.createCommonPattern(e,t,n,r,(s,a)=>{const o=t,l=o;a.fillStyle=n,a.fillRect(o,l,2*s,2*s)})}createVerticalLinePattern(e,t,n,r){return this.createCommonPattern(e,t,n,r,(s,a)=>{const o=t;a.fillStyle=n,a.fillRect(o,0,2*s,e)})}createHorizontalLinePattern(e,t,n,r){return this.createCommonPattern(e,t,n,r,(s,a)=>{const o=t;a.fillStyle=n,a.fillRect(0,o,e,2*s)})}createBiasLRLinePattern(e,t,n,r){return this.createCommonPattern(e,t,n,r,(s,a)=>{a.strokeStyle=n,a.lineWidth=s,a.moveTo(0,0),a.lineTo(e,e);const o=e/2,l=-o;a.moveTo(o,l),a.lineTo(o+e,l+e),a.moveTo(-o,-l),a.lineTo(-o+e,-l+e),a.stroke()})}createBiasRLLinePattern(e,t,n,r){return this.createCommonPattern(e,t,n,r,(s,a)=>{a.strokeStyle=n,a.lineWidth=s,a.moveTo(e,0),a.lineTo(0,e);const o=e/2,l=o;a.moveTo(e+o,l),a.lineTo(o,l+e),a.moveTo(e-o,-l),a.lineTo(-o,-l+e),a.stroke()})}createGridPattern(e,t,n,r){return this.createCommonPattern(e,t,n,r,(s,a)=>{const o=t,l=o;a.fillStyle=n,a.fillRect(o,l,s,s),a.fillRect(o+s,l+s,s,s)})}initTextureMap(e,t){this.textureMap=new Map}drawShape(e,t,n,r,s,a,o,l,u,c,d,h,p){this.textureMap||this.initTextureMap(t,e.stage);const{texture:f=u.texture,textureColor:g=u.textureColor,textureSize:v=u.textureSize,texturePadding:m=u.texturePadding}=e.attribute;f&&this.drawTexture(f,e,t,n,r,u,g,v,m)}drawTexture(e,t,n,r,s,a,o,l,u){let c=this.textureMap.get(e);if(!c)switch(e){case"circle":c=this.createCirclePattern(l,u,o,n);break;case"diamond":c=this.createDiamondPattern(l,u,o,n);break;case"rect":c=this.createRectPattern(l,u,o,n);break;case"vertical-line":c=this.createVerticalLinePattern(l,u,o,n);break;case"horizontal-line":c=this.createHorizontalLinePattern(l,u,o,n);break;case"bias-lr":c=this.createBiasLRLinePattern(l,u,o,n);break;case"bias-rl":c=this.createBiasRLLinePattern(l,u,o,n);break;case"grid":c=this.createGridPattern(l,u,o,n)}c&&(n.highPerformanceSave(),n.setCommonStyle(t,t.attribute,r,s,a),n.fillStyle=c,n.fill(),n.highPerformanceRestore())}}const Ww=new bX;class Gut{constructor(){this.time=Fa.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,n,r,s,a,o,l,u,c,d,h){const{outerBorder:p,innerBorder:f}=e.attribute,g=p&&p.visible!==!1,v=f&&f.visible!==!1;if(!g&&!v)return;const{innerPadding:m=u.innerPadding,outerPadding:b=u.outerPadding,startAngle:_=u.startAngle,endAngle:S=u.endAngle,opacity:C=u.opacity,x:k=u.x,y:E=u.y,scaleX:A=u.scaleX,scaleY:P=u.scaleY}=e.attribute;let{innerRadius:O=u.innerRadius,outerRadius:M=u.outerRadius}=e.attribute;M+=b,O-=m;const D=!(!p||!p.stroke),L=!(!f||!f.stroke);if(g){const{distance:H=u.outerBorder.distance}=p,B=Ko(t,H,t.dpr),F=H/M;if(e.setAttributes({outerRadius:M+B,innerRadius:O-B,startAngle:_-F,endAngle:S+F}),t.beginPath(),OD(e,t,n,r,M+B,O-B),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,u),h)h(t,p,u.outerBorder);else if(D){const z=u.outerBorder.opacity;u.outerBorder.opacity=C,t.setStrokeStyle(e,p,(k-n)/A,(E-r)/P,u.outerBorder),u.outerBorder.opacity=z,t.stroke()}}if(v){const{distance:H=u.innerBorder.distance}=f,B=Ko(t,H,t.dpr),F=H/M;if(e.setAttributes({outerRadius:M-B,innerRadius:O+B,startAngle:_+F,endAngle:S-F}),t.beginPath(),OD(e,t,n,r,M-B,O+B),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,u),h)h(t,f,u.innerBorder);else if(L){const z=u.innerBorder.opacity;u.innerBorder.opacity=C,t.setStrokeStyle(e,f,(k-n)/A,(E-r)/P,u.innerBorder),u.innerBorder.opacity=z,t.stroke()}}e.setAttributes({outerRadius:M,innerRadius:O,startAngle:_,endAngle:S})}}const Yut=new Gut,Kut=Ww,Xut=vb;class qut{constructor(){this.time=Fa.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,n,r,s,a,o,l,u,c,d,h){const{outerBorder:p,innerBorder:f}=e.attribute,g=p&&p.visible!==!1,v=f&&f.visible!==!1;if(!g&&!v)return;const{radius:m=u.radius,startAngle:b=u.startAngle,endAngle:_=u.endAngle,opacity:S=u.opacity,x:C=u.x,y:k=u.y,scaleX:E=u.scaleX,scaleY:A=u.scaleY}=e.attribute,P=!(!p||!p.stroke),O=!(!f||!f.stroke);if(g){const{distance:M=u.outerBorder.distance}=p,D=Ko(t,M,t.dpr);if(t.beginPath(),t.arc(n,r,m+D,b,_),t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,u),h)h(t,p,u.outerBorder);else if(P){const L=u.outerBorder.opacity;u.outerBorder.opacity=S,t.setStrokeStyle(e,p,(C-n)/E,(k-r)/A,u.outerBorder),u.outerBorder.opacity=L,t.stroke()}}if(v){const{distance:M=u.innerBorder.distance}=f,D=Ko(t,M,t.dpr);if(t.beginPath(),t.arc(n,r,m-D,b,_),t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,u),h)h(t,f,u.innerBorder);else if(O){const L=u.innerBorder.opacity;u.innerBorder.opacity=S,t.setStrokeStyle(e,f,(C-n)/E,(k-r)/A,u.innerBorder),u.innerBorder.opacity=L,t.stroke()}}}}const Zut=new qut,Qut=Ww,Jut=vb;class ect extends rP{constructor(){super(...arguments),this.time=Fa.beforeFillStroke}drawShape(e,t,n,r,s,a,o,l,u,c,d,h){const{background:p,backgroundMode:f=u.backgroundMode,backgroundFit:g=u.backgroundFit}=e.attribute;if(p)if(e.backgroundImg&&e.resources){const v=e.resources.get(p);if(v.state!=="success"||!v.data)return;t.highPerformanceSave(),t.setTransformFromMatrix(e.parent.globalTransMatrix,!0);const m=e.AABBBounds;this.doDrawImage(t,v.data,m,f,g),t.highPerformanceRestore(),t.setTransformForCurrent()}else t.highPerformanceSave(),t.fillStyle=p,t.fill(),t.highPerformanceRestore()}}const tct=new ect,_I=Dn/2;function g0(i,e,t,n,r,s){let a;if(n<0&&(e+=n,n=-n),r<0&&(t+=r,r=-r),Xe(s,!0))a=[s=dn(s),s,s,s];else if(Array.isArray(s)){const C=s;let k,E;switch(C.length){case 0:a=[0,0,0,0];break;case 1:k=dn(C[0]),a=[k,k,k,k];break;case 2:case 3:k=dn(C[0]),E=dn(C[1]),a=[k,E,k,E];break;default:a=C,a[0]=dn(a[0]),a[1]=dn(a[1]),a[2]=dn(a[2]),a[3]=dn(a[3])}}else a=[0,0,0,0];if(n<0||a[0]+a[1]+a[2]+a[3]<1e-12)return i.rect(e,t,n,r);const[o,l,u,c]=[[e,t],[e+n,t],[e+n,t+r],[e,t+r]],d=Math.min(n/2,r/2),h=[Math.min(d,a[0]),Math.min(d,a[1]),Math.min(d,a[2]),Math.min(d,a[3])],p=[o[0]+h[0],o[1]],f=[o[0],o[1]+h[0]],g=[l[0]-h[1],l[1]],v=[l[0],l[1]+h[1]],m=[u[0]-h[2],u[1]],b=[u[0],u[1]-h[2]],_=[c[0]+h[3],c[1]],S=[c[0],c[1]-h[3]];if(i.moveTo(p[0],p[1]),i.lineTo(g[0],g[1]),!XM(g,v)){const C=g[0],k=g[1]+h[1];i.arc(C,k,h[1],-_I,0,!1)}if(i.lineTo(b[0],b[1]),!XM(m,b)){const C=b[0]-h[2],k=b[1];i.arc(C,k,h[2],0,_I,!1)}if(i.lineTo(_[0],_[1]),!XM(_,S)){const C=_[0],k=_[1]-h[3];i.arc(C,k,h[3],_I,Dn,!1)}if(i.lineTo(f[0],f[1]),!XM(p,f)){const C=p[0],k=p[1]+h[0];i.arc(C,k,h[0],Dn,Dn+_I,!1)}return i.closePath(),i}var ECe=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};class ACe{constructor(){this.time=Fa.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,n,r,s,a,o,l,u,c,d,h){const{outerBorder:p,innerBorder:f}=e.attribute,g=p&&p.visible!==!1,v=f&&f.visible!==!1;if(!g&&!v)return;const{cornerRadius:m=u.cornerRadius,opacity:b=u.opacity,x:_=u.x,y:S=u.y,scaleX:C=u.scaleX,scaleY:k=u.scaleY,x1:E,y1:A}=e.attribute;let{width:P,height:O}=e.attribute;P=(P??E-n)||0,O=(O??A-r)||0;const M=!(!p||!p.stroke),D=!(!f||!f.stroke);if(g){const{distance:L=u.outerBorder.distance}=p,H=Ko(t,L,t.dpr),B=n-H,F=r-H,z=2*H;if(m===0||ke(m)&&m.every(N=>N===0)?(t.beginPath(),t.rect(B,F,P+z,O+z)):(t.beginPath(),g0(t,B,F,P+z,O+z,m)),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,u),h)h(t,p,u.outerBorder);else if(M){const N=u.outerBorder.opacity;u.outerBorder.opacity=b,t.setStrokeStyle(e,p,(_-n)/C,(S-r)/k,u.outerBorder),u.outerBorder.opacity=N,t.stroke()}}if(v){const{distance:L=u.innerBorder.distance}=f,H=Ko(t,L,t.dpr),B=n+H,F=r+H,z=2*H;if(m===0||ke(m)&&m.every(N=>N===0)?(t.beginPath(),t.rect(B,F,P-z,O-z)):(t.beginPath(),g0(t,B,F,P-z,O-z,m)),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,u),h)h(t,f,u.innerBorder);else if(D){const N=u.innerBorder.opacity;u.innerBorder.opacity=b,t.setStrokeStyle(e,f,(_-n)/C,(S-r)/k,u.innerBorder),u.innerBorder.opacity=N,t.stroke()}}}}let ID=class{constructor(){this.time=Fa.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(i,e,t,n,r,s,a,o,l,u,c,d,h){const{stroke:p=l.stroke}=i.attribute;Array.isArray(p)&&p.some(f=>f===!1)&&(h.doStroke=!1)}};ID=ECe([Tt()],ID);let RD=class{constructor(){this.time=Fa.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(i,e,t,n,r,s,a,o,l,u,c,d){const{x1:h,y1:p,x:f=l.x,y:g=l.y,stroke:v=l.stroke}=i.attribute;let{width:m,height:b}=i.attribute;if(m=(m??h-f)||0,b=(b??p-g)||0,Array.isArray(v)&&v.some(_=>_===!1)){if(e.setStrokeStyle(i,i.attribute,t,n,l),e.beginPath(),e.moveTo(t,n),v[0]?e.lineTo(t+m,n):e.moveTo(t+m,n),v[1]?e.lineTo(t+m,n+b):e.moveTo(t+m,n+b),v[2]?e.lineTo(t,n+b):e.moveTo(t,n+b),v[3]){const _=v[0]?n-e.lineWidth/2:n;e.lineTo(t,_)}else e.moveTo(t,n);e.stroke()}}};RD=ECe([Tt()],RD);const ict=new ACe,nct=Ww,rct=vb;class sct extends rP{constructor(){super(...arguments),this.time=Fa.beforeFillStroke}drawShape(e,t,n,r,s,a,o,l,u,c,d,h){const{background:p,backgroundMode:f=u.backgroundMode,backgroundFit:g=u.backgroundFit}=e.attribute;if(p)if(e.backgroundImg){const v=e.resources.get(p);if(v.state!=="success"||!v.data)return;if(t.save(),e.parent&&!e.transMatrix.onlyTranslate()){const b=qe(e.parent).group,{scrollX:_=b.scrollX,scrollY:S=b.scrollY}=e.parent.attribute;t.setTransformFromMatrix(e.parent.globalTransMatrix,!0),t.translate(_,S)}const m=e.AABBBounds;this.doDrawImage(t,v.data,m,f,g),t.restore(),e.transMatrix.onlyTranslate()||t.setTransformForCurrent()}else if(yi(p)){const{stroke:v,fill:m,lineWidth:b=1,cornerRadius:_=0,expandX:S=0,expandY:C=0}=p;if(!v&&!m)return;t.beginPath();const{x:k,y:E,width:A,height:P}=act(e);_?g0(t,k-S,E-C,A+2*S,P+2*C,_):t.rect(k-S,E-C,A+2*S,P+2*C),t.globalAlpha=1,m&&(t.fillStyle=m,t.fill()),v&&b>0&&(t.lineWidth=b,t.strokeStyle=v,t.stroke())}else{t.beginPath();const v=e.AABBBounds;t.rect(n,r,v.width(),v.height()),t.fillStyle=p,t.globalAlpha=1,t.fill()}}}function act(i){const e=Yo(i.attribute.boundsPadding),t=i.AABBBounds;let n=t.x1,r=t.y1,s=t.width(),a=t.height();return Xe(e)?(n+=e,r+=e,s-=2*e,a-=2*e):(n+=e[3],r+=e[0],s-=e[1]+e[3],a-=e[0]+e[2]),{x:n,y:r,width:s,height:a}}class oct extends ACe{constructor(){super(...arguments),this.time=Fa.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,n,r,s,a,o,l,u,c,d,h){return super.drawShape(e,t,n,r,s,a,o,l,u,c,d,h)}}const lct=new oct,uct=new sct;class cct{constructor(){this.time=Fa.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,n,r,s,a,o,l,u,c,d,h){const p=e.getParsedPath();if(!p)return;const{outerBorder:f,innerBorder:g}=e.attribute,v=f&&f.visible!==!1,m=g&&g.visible!==!1;if(!v&&!m)return;const{size:b=u.size,opacity:_=u.opacity,x:S=u.x,y:C=u.y,scaleX:k=u.scaleX,scaleY:E=u.scaleY}=e.attribute,A=!(!f||!f.stroke),P=!(!g||!g.stroke);if(v){const{distance:O=u.outerBorder.distance}=f,M=Ko(t,O,t.dpr);if(t.beginPath(),p.drawOffset(t,b,n,r,M)===!1&&t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,u),h)h(t,f,u.outerBorder);else if(A){const D=u.outerBorder.opacity;u.outerBorder.opacity=_,t.setStrokeStyle(e,f,(S-n)/k,(C-r)/E,u.outerBorder),u.outerBorder.opacity=D,t.stroke()}}if(m){const{distance:O=u.innerBorder.distance}=g,M=Ko(t,O,t.dpr);if(t.beginPath(),p.drawOffset(t,b,n,r,-M)===!1&&t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,u),h)h(t,g,u.innerBorder);else if(P){const D=u.innerBorder.opacity;u.innerBorder.opacity=_,t.setStrokeStyle(e,g,(S-n)/k,(C-r)/E,u.innerBorder),u.innerBorder.opacity=D,t.stroke()}}}}const dct=new cct,hct=Ww,pct=vb;class fct extends bX{constructor(){super(...arguments),this.time=Fa.afterFillStroke}drawShape(e,t,n,r,s,a,o,l,u,c,d,h,p){var f,g,v,m;this.textureMap||this.initTextureMap(t,e.stage);const{attribute:b=e.attribute}=p||{},{texture:_=(f=e.attribute.texture)!==null&&f!==void 0?f:fI(u,"texture"),textureColor:S=(g=e.attribute.textureColor)!==null&&g!==void 0?g:fI(u,"textureColor"),textureSize:C=(v=e.attribute.textureSize)!==null&&v!==void 0?v:fI(u,"textureSize"),texturePadding:k=(m=e.attribute.texturePadding)!==null&&m!==void 0?m:fI(u,"texturePadding")}=b;_&&this.drawTexture(_,e,t,n,r,u,S,C,k)}}var gct=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},mct=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},rle=function(i,e){return function(t,n){e(t,n,i)}};let DD=class extends du{constructor(i){super(),this.arcRenderContribitions=i,this.numberType=NB,this.builtinContributions=[Yut,Xut,Kut],this.init(i)}drawArcTailCapPath(i,e,t,n,r,s,a,o){const l=o-a,u=i.getParsedAngle(),c=u.startAngle;let d=u.endAngle;d=o;const h=dn(d-c),p=d>c;let f=!1;if(r<s){const K=r;r=s,s=K}const g=i.getParsedCornerRadius(),{outerDeltaAngle:v,innerDeltaAngle:m,outerStartAngle:b,outerEndAngle:_,innerEndAngle:S,innerStartAngle:C}=i.getParsePadAngle(c,d),k=g,E=g,A=g,P=g,O=Math.max(E,k),M=Math.max(A,P);let D=O,L=M;const H=r*Yn(b),B=r*bn(b),F=s*Yn(S),z=s*bn(S);let N,U,G,j;if((M>xn||O>xn)&&(N=r*Yn(_),U=r*bn(_),G=s*Yn(C),j=s*bn(C),h<Dn)){const K=pCe(H,B,G,j,N,U,F,z);if(K){const ie=H-K[0],ae=B-K[1],re=N-K[0],J=U-K[1],ne=1/bn(hxe((ie*re+ae*J)/(tu(ie*ie+ae*ae)*tu(re*re+J*J)))/2),te=tu(K[0]*K[0]+K[1]*K[1]);L=xo(M,(s-te)/(ne-1)),D=xo(O,(r-te)/(ne+1))}}if(D>xn){const K=xo(k,D),ie=xo(E,D),ae=Sv(G,j,H,B,r,K,Number(p)),re=Sv(N,U,F,z,r,ie,Number(p));if(D<O&&K===ie)e.moveTo(t+ae.cx+ae.x01,n+ae.cy+ae.y01),e.arc(t+ae.cx,n+ae.cy,D,zn(ae.y01,ae.x01),zn(re.y01,re.x01),!p);else{const J=d-l-.03,ne=zn(re.y11,re.x11);e.arc(t,n,r,J,ne,!p),ie>0&&e.arc(t+re.cx,n+re.cy,ie,zn(re.y11,re.x11),zn(re.y01,re.x01),!p)}}else e.moveTo(t+H,n+B);if(!(s>xn)||m<.001)e.lineTo(t+F,n+z),f=!0;else if(L>xn){const K=xo(P,L),ie=xo(A,L),ae=Sv(F,z,N,U,s,-ie,Number(p)),re=Sv(H,B,G,j,s,-K,Number(p));if(e.lineTo(t+ae.cx+ae.x01,n+ae.cy+ae.y01),L<M&&K===ie){const J=zn(re.y01,re.x01);e.arc(t+ae.cx,n+ae.cy,L,zn(ae.y01,ae.x01),J,!p)}else{ie>0&&e.arc(t+ae.cx,n+ae.cy,ie,zn(ae.y01,ae.x01),zn(ae.y11,ae.x11),!p);const J=zn(ae.cy+ae.y11,ae.cx+ae.x11),ne=d-l-.03;e.arc(t,n,s,J,ne,p)}}else e.lineTo(t+s*Yn(C),n+s*bn(C));return f}drawShape(i,e,t,n,r,s,a,o){const l=qe(i,s==null?void 0:s.theme).arc,{fill:u=l.fill,stroke:c=l.stroke,x:d=l.x,y:h=l.y}=i.attribute,p=this.valid(i,l,a,o);if(!p)return;const{fVisible:f,sVisible:g,doFill:v,doStroke:m}=p,{outerPadding:b=l.outerPadding,innerPadding:_=l.innerPadding,cap:S=l.cap,forceShowCap:C=l.forceShowCap}=i.attribute;let{outerRadius:k=l.outerRadius,innerRadius:E=l.innerRadius}=i.attribute;k+=b,E-=_;let A=0;const P=(Ir(S)&&S||S[0])&&u.gradient==="conical";if(P){const{sc:L,startAngle:H,endAngle:B}=i.getParsedAngle();dn(B-H)<Vi-xn&&(A=L||0,u.startAngle-=A,u.endAngle-=A)}let O=!1;const{isFullStroke:M,stroke:D}=uot(c);if((v||M)&&(e.beginPath(),OD(i,e,t,n,k,E),O=!0,e.setShadowBlendStyle&&e.setShadowBlendStyle(i,i.attribute,l),this.beforeRenderStep(i,e,t,n,v,m,f,g,l,r,a,o),v&&(a?a(e,i.attribute,l):f&&(e.setCommonStyle(i,i.attribute,d-t,h-n,l),e.fill())),m&&M&&(o?o(e,i.attribute,l):g&&(e.setStrokeStyle(i,i.attribute,d-t,h-n,l),e.stroke()))),!M&&m&&(e.beginPath(),OD(i,e,t,n,k,E,D),O||this.beforeRenderStep(i,e,t,n,v,m,f,g,l,r,a,o),o?o(e,i.attribute,l):g&&(e.setStrokeStyle(i,i.attribute,t,n,l),e.stroke())),(Ir(S)&&S||S[1])&&C){const{startAngle:L,endAngle:H}=i.getParsedAngle();if(dn(H-L)>=Vi-xn){e.beginPath();const B=Math.abs(k-E)/2/k,{endAngle:F=l.endAngle,fill:z=l.fill}=i.attribute,N=F;if(this.drawArcTailCapPath(i,e,t,n,k,E,N,N+B),O||this.beforeRenderStep(i,e,t,n,v,m,f,g,l,r,a,o),v){const U=z;if(U.gradient==="conical"){const G=clt(0,0,F,U);a||j_&&(e.setCommonStyle(i,i.attribute,t,n,l),e.fillStyle=G,e.fill())}}m&&(o||g&&(e.setStrokeStyle(i,i.attribute,t,n,l),e.stroke()))}}this.afterRenderStep(i,e,t,n,v,m,f,g,l,r,a,o),P&&(u.startAngle+=A,u.endAngle+=A)}draw(i,e,t,n){const r=qe(i,n==null?void 0:n.theme).arc;this._draw(i,r,!1,t,n)}};DD=gct([Tt(),rle(0,Fi(Ca)),rle(0,eo(c5)),mct("design:paramtypes",[Object])],DD);var vct=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},yct=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},sle=function(i,e){return function(t,n){e(t,n,i)}};let LD=class extends du{constructor(i){super(),this.circleRenderContribitions=i,this.numberType=jB,this.builtinContributions=[Zut,Jut,Qut],this.init(i)}drawShape(i,e,t,n,r,s,a,o){const l=qe(i,s==null?void 0:s.theme).circle,{radius:u=l.radius,startAngle:c=l.startAngle,endAngle:d=l.endAngle,x:h=l.x,y:p=l.y}=i.attribute,f=this.valid(i,l,a,o);if(!f)return;const{fVisible:g,sVisible:v,doFill:m,doStroke:b}=f;e.beginPath(),e.arc(t,n,u,c,d),e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(i,i.attribute,l),this.beforeRenderStep(i,e,t,n,m,b,g,v,l,r,a,o),m&&(a?a(e,i.attribute,l):g&&(e.setCommonStyle(i,i.attribute,h-t,p-n,l),e.fill())),b&&(o?o(e,i.attribute,l):v&&(e.setStrokeStyle(i,i.attribute,h-t,p-n,l),e.stroke())),this.afterRenderStep(i,e,t,n,m,b,g,v,l,r,a,o)}draw(i,e,t,n){const r=qe(i,n==null?void 0:n.theme).circle;this._draw(i,r,!1,t,n)}};LD=vct([Tt(),sle(0,Fi(Ca)),sle(0,eo(h5)),yct("design:paramtypes",[Object])],LD);function FD(i,e,t,n){if(!e.p1)return;const{offsetX:r=0,offsetY:s=0,offsetZ:a=0}=n||{};if(t===1)e.p2&&e.p3?i.bezierCurveTo(r+e.p1.x,s+e.p1.y,r+e.p2.x,s+e.p2.y,r+e.p3.x,s+e.p3.y,a):i.lineTo(r+e.p1.x,s+e.p1.y,a);else if(e.p2&&e.p3){const[o]=XV(e,t);i.bezierCurveTo(r+o.p1.x,s+o.p1.y,r+o.p2.x,s+o.p2.y,r+o.p3.x,s+o.p3.y,a)}else{const o=e.getPointAt(t);i.lineTo(r+o.x,s+o.y,a)}}function E5(i,e,t,n,r){var s;const{offsetX:a=0,offsetY:o=0,offsetZ:l=0,mode:u="none",drawConnect:c=!1,zeroX:d=0,zeroY:h=0}=r||{};if(c&&u==="none"||!e)return;let p=!0;const{curves:f}=e;if(t>=1){if(c){let S,C=!0;f.forEach((k,E)=>{var A;let P=k.p0;if(k.originP1!==k.originP2){if(S&&S.originP1===S.originP2&&(P=S.p0),k.defined)C||(i.lineTo(P.x+a,P.y+o,l),C=!C);else{const{originP1:O,originP2:M}=k;let D;if(O&&O.defined!==!1?D=P:O&&M.defined!==!1&&(D=(A=k.p3)!==null&&A!==void 0?A:k.p1),C){C=!C;const L=D?D.x:k.p0.x,H=D?D.y:k.p0.y;i.moveTo(L+a,H+o,l)}else D&&(C=!C,i.lineTo(D.x+a,D.y+o,l))}S=k}else S=k})}else f.forEach(S=>{S.defined?(p&&i.moveTo(S.p0.x+a,S.p0.y+o,l),FD(i,S,1,r),p=!1):p=!0});return}if(t<=0)return;let g;n==="x"?g=jr.ROW:n==="y"?g=jr.COLUMN:n==="auto"&&(g=e.direction);const v=t*e.tryUpdateLength(g);let m=0,b=!0,_=null;for(let S=0,C=f.length;S<C;S++){const k=f[S],E=k.getLength(g),A=(v-m)/E;if(m+=E,A<0)break;if(c){let P=k.p0;if(k.originP1===k.originP2){_=k;continue}if(_&&_.originP1===_.originP2&&(P=_.p0),k.defined)b||(i.lineTo(P.x+a,P.y+o,l),b=!b);else{const{originP1:O,originP2:M}=k;let D;if(O&&O.defined!==!1?D=P:O&&M.defined!==!1&&(D=(s=k.p3)!==null&&s!==void 0?s:k.p1),b){b=!b;const L=D?D.x:k.p0.x,H=D?D.y:k.p0.y;i.moveTo(L+a,H+o,l)}else D&&(b=!b,i.lineTo(D.x+a,D.y+o,l))}_=k}else{if(!k.defined){p=!0;continue}p&&i.moveTo(k.p0.x+a,k.p0.y+o,l),FD(i,k,xo(A,1),r),p=!1}}}function _ct(i,e,t,n){const{offsetX:r=0,offsetY:s=0}=n||{},a=e?e.points[e.points.length-1]:t.points[0];i.moveTo(a.x+r,a.y+s),t.points.forEach(o=>{o.defined!==!1?i.lineTo(o.x+r,o.y+s):i.moveTo(o.x+r,o.y+s)})}function bct(i,e,t,n){const{offsetX:r=0,offsetY:s=0}=n||{},{points:a}=t,o=[];for(let l=0;l<a.length;l++)a[l].defined;o.push(a),o.forEach((l,u)=>{var c,d,h,p;const f=e&&u===0?e.points[e.points.length-1]:l[0];i.moveTo(f.x+r,f.y+s),l.forEach(g=>{g.defined!==!1?i.lineTo(g.x+r,g.y+s):i.moveTo(g.x+r,g.y+s)});for(let g=l.length-1;g>=0;g--){const v=l[g];i.lineTo((c=v.x1)!==null&&c!==void 0?c:v.x,(d=v.y1)!==null&&d!==void 0?d:v.y)}i.lineTo((h=f.x1)!==null&&h!==void 0?h:f.x,(p=f.y1)!==null&&p!==void 0?p:f.y),i.closePath()})}var Sct=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let OT=class extends du{constructor(){super(...arguments),this.numberType=tP}draw(i,e,t,n){const r=qe(i,n==null?void 0:n.theme).line;this._draw(i,r,!1,t,n)}drawSegmentItem(i,e,t,n,r,s,a,o,l,u,c,d,h,p,f){var g,v,m,b,_;if(!e)return;i.beginPath();const S=(g=this.z)!==null&&g!==void 0?g:0;E5(i.camera?i:i.nativeContext,e,l,u,{offsetX:c,offsetY:d,offsetZ:S}),h.cache&&!ke(h.cache)&&h.cache.curves.every(M=>M.defined)&&h.attribute.curveType&&h.attribute.curveType.includes("Closed")&&i.closePath(),i.setShadowBlendStyle&&i.setShadowBlendStyle(h,a,o);const{x:C=0,x:k=0}=a;t!==!1&&(p?p(i,a,o):r&&(i.setCommonStyle(h,a,C-c,k-d,o),i.fill())),n!==!1&&(f?f(i,a,o):s&&(i.setStrokeStyle(h,a,C-c,k-d,o),i.stroke()));let{connectedType:E,connectedX:A,connectedY:P,connectedStyle:O}=a;if(ke(o)?(E=(v=E??o[0].connectedType)!==null&&v!==void 0?v:o[1].connectedType,A=(m=A??o[0].connectedX)!==null&&m!==void 0?m:o[1].connectedX,P=(b=P??o[0].connectedY)!==null&&b!==void 0?b:o[1].connectedY,O=(_=O??o[0].connectedStyle)!==null&&_!==void 0?_:o[1].connectedStyle):(E=E??o.connectedType,A=A??o.connectedX,P=P??o.connectedY,O=O??o.connectedStyle),E!=="connect"&&E!=="zero"&&(E="none"),E!=="none"){i.beginPath(),E5(i.camera?i:i.nativeContext,e,l,u,{offsetX:c,offsetY:d,offsetZ:S,drawConnect:!0,mode:E,zeroX:A,zeroY:P});const M=[];ke(o)?o.forEach(D=>M.push(D)):M.push(o),M.push(a),t!==!1&&(p?p(i,a,o):r&&(i.setCommonStyle(h,O,C-c,k-d,M),i.fill())),n!==!1&&(f?f(i,a,o):s&&(i.setStrokeStyle(h,O,C-c,k-d,M),i.stroke()))}return!1}drawLinearLineHighPerformance(i,e,t,n,r,s,a,o,l,u,c,d,h){var p;e.beginPath();const f=(p=this.z)!==null&&p!==void 0?p:0,{points:g}=i.attribute,v=g[0];e.moveTo(v.x+a,v.y+o,f);for(let _=1;_<g.length;_++){const S=g[_];e.lineTo(S.x+a,S.y+o,f)}e.setShadowBlendStyle&&e.setShadowBlendStyle(i,i.attribute,l);const{x:m=0,x:b=0}=i.attribute;t!==!1&&(d?d(e,i.attribute,l):r&&(e.setCommonStyle(i,i.attribute,m-a,b-o,l),e.fill())),n!==!1&&(h?h(e,i.attribute,l):s&&(e.setStrokeStyle(i,i.attribute,m-a,b-o,l),e.stroke()))}drawShape(i,e,t,n,r,s,a,o){const l=qe(i,s==null?void 0:s.theme).line,{fill:u=l.fill,stroke:c=l.stroke,fillOpacity:d=l.fillOpacity,strokeOpacity:h=l.strokeOpacity,segments:p,points:f,closePath:g}=i.attribute;if(!this.valid(i,l,a,o))return;let{curveType:v=l.curveType}=i.attribute;g&&v==="linear"&&(v="linearClosed");const{clipRange:m=l.clipRange,clipRangeByDimension:b=l.clipRangeByDimension}=i.attribute;if(m===1&&!p&&!f.some(_=>_.defined===!1)&&v==="linear")return this.drawLinearLineHighPerformance(i,e,!!u,!!c,d,h,t,n,l,r,s,a,o);if(i.shouldUpdateShape()){const{points:_,segments:S}=i.attribute,C=_;if(S&&S.length){let k,E;if(i.cache=S.map((A,P)=>{if(A.points.length<=1&&P===0)return A.points[0]&&(E={endX:A.points[0].x,endY:A.points[0].y,curves:[{defined:A.points[0].defined!==!1}]}),null;P===1?k={x:E.endX,y:E.endY,defined:E.curves[E.curves.length-1].defined}:P>1&&(k.x=E.endX,k.y=E.endY,k.defined=E.curves[E.curves.length-1].defined);const O=QV(A.points,v,{startPoint:k});return E=O,O}).filter(A=>!!A),v==="linearClosed"){let A;for(let P=0;P<i.cache.length;P++){const O=i.cache[P];for(let M=0;M<O.curves.length;M++)if(O.curves[M].defined){A=O.curves[M].p0;break}if(A)break}i.cache[i.cache.length-1]&&i.cache[i.cache.length-1].lineTo(A.x,A.y,!0)}}else{if(!_||!_.length)return i.cache=null,void i.clearUpdateShapeTag();i.cache=QV(C,v)}i.clearUpdateShapeTag()}if(Array.isArray(i.cache)){const _=i.attribute.segments.filter(S=>S.points.length);if(_[0].points.length===1&&_.shift(),m===1){let S=!1;i.cache.forEach((C,k)=>{S||(S=this.drawSegmentItem(e,C,!!u,!!c,d,h,_[k],[l,i.attribute],m,b,t,n,i,a,o))})}else{const S=i.cache.reduce((A,P)=>A+P.getLength(),0),C=m*S;let k=0,E=!1;i.cache.forEach((A,P)=>{if(E)return;const O=A.getLength(),M=(C-k)/O;k+=O,M>0&&(E=this.drawSegmentItem(e,A,!!u,!!c,d,h,_[P],[l,i.attribute],xo(M,1),b,t,n,i,a,o))})}}else this.drawSegmentItem(e,i.cache,!!u,!!c,d,h,i.attribute,l,m,b,t,n,i,a,o)}};OT=Sct([Tt()],OT);function xct(i,e,t,n){var r;const{drawConnect:s=!1,mode:a="none"}=n||{};if(s&&a==="none")return;const{top:o,bottom:l}=e;if(o.curves.length!==l.curves.length)return;if(t>=1){const k=[],E=[];let A=!0;if(s){let P,O,M=!0;const D=o.curves.length;o.curves.forEach((L,H)=>{const B=l.curves[D-H-1];let F=L,z=B;if(L.originP1===L.originP2)return P=L,void(O=B);if(P&&P.originP1===P.originP2&&(F=P,z=O),L.defined)M||(k.push(F),E.push(z),C1(i,k,E,n),k.length=0,E.length=0,M=!M);else{const{originP1:N,originP2:U}=L;let G,j;N&&N.defined!==!1?(G=F,j=z):N&&U.defined!==!1&&(G=L,j=B),M?(M=!M,k.push(G||L),E.push(j||B)):G&&(M=!M,k.push(G||L),E.push(j||B),C1(i,k,E,n),k.length=0,E.length=0)}P=L}),C1(i,k,E,n)}else{for(let P=0,O=o.curves.length;P<O;P++){const M=o.curves[P];A!==M.defined?(A?(bI(i,k,E,n),k.length=0,E.length=0):(k.push(M),E.push(l.curves[O-P-1])),A=!A):A&&(k.push(M),E.push(l.curves[O-P-1]))}bI(i,k,E,n)}return}if(t<=0)return;let{direction:u}=n||{};const{curves:c}=o,d=(r=c[c.length-1].p3)!==null&&r!==void 0?r:c[c.length-1].p1,h=dn(d.x-c[0].p0.x),p=dn(d.y-c[0].p0.y);u=u??(h>p?jr.ROW:jr.COLUMN),Number.isFinite(h)||(u=jr.COLUMN),Number.isFinite(p)||(u=jr.ROW);const f=t*(u===jr.ROW?h:p);let g=0,v=!0;const m=[],b=[];let _,S,C=!0;for(let k=0,E=o.curves.length;k<E;k++){const A=o.curves[k],P=A.getLength(u),O=(f-g)/P;if(O<0)break;if(g+=P,s){const M=l.curves[E-k-1];let D=A,L=M;if(A.originP1===A.originP2){_=A,S=M;continue}if(_&&_.originP1===_.originP2&&(D=_,L=S),A.defined)C||(m.push(D),b.push(L),C1(i,m,b,n),m.length=0,b.length=0,C=!C);else{const{originP1:H,originP2:B}=A;let F,z;H&&H.defined!==!1?(F=D,z=L):H&&B.defined!==!1&&(F=A,z=M),C?(C=!C,m.push(F||A),b.push(z||M)):F&&(C=!C,m.push(F||A),b.push(z||M),C1(i,m,b,n),m.length=0,b.length=0)}_=A}else{let M=null,D=null;v!==A.defined?(v?(bI(i,m,b,n),m.length=0,b.length=0):(M=A,D=l.curves[E-k-1]),v=!v):v&&(M=A,D=l.curves[E-k-1]),M&&D&&(O<1&&(M=M.p2&&M.p3?XV(M,O)[0]:Kae(M,O)[0],D=D.p2&&D.p3?XV(D,1-O)[1]:Kae(D,1-O)[1]),M.defined=v,D.defined=v,m.push(M),b.push(D)),M=null,D=null}}s?C1(i,m,b,n):bI(i,m,b,n)}function C1(i,e,t,n){if(e.length<2)return;const{offsetX:r=0,offsetY:s=0,offsetZ:a=0,mode:o}=n||{};let l=e[0];i.moveTo(l.p0.x+r,l.p0.y+s,a),l=e[e.length-1];let u=l.p3||l.p1;i.lineTo(u.x+r,u.y+s,a),l=t[t.length-1],i.lineTo(l.p0.x+r,l.p0.y+s,a),l=t[0],u=l.p3||l.p1,i.lineTo(u.x+r,u.y+s,a),i.closePath()}function bI(i,e,t,n){const{offsetX:r=0,offsetY:s=0,offsetZ:a=0}=n||{};let o=!0;e.forEach(l=>{l.defined?(o&&i.moveTo(l.p0.x+r,l.p0.y+s,a),FD(i,l,1,n),o=!1):o=!0}),o=!0;for(let l=t.length-1;l>=0;l--){const u=t[l];u.defined?(o&&i.lineTo(u.p0.x+r,u.p0.y+s,a),FD(i,u,1,n),o=!1):o=!0}i.closePath()}const wct=new fct,Cct=vb;var kct=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Ect=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},ale=function(i,e){return function(t,n){e(t,n,i)}};function SI(i,e,t){switch(e){case"linear":default:return Z2(i,t);case"basis":return Awe(i,t);case"monotoneX":return Pwe(i,t);case"monotoneY":return Owe(i,t);case"step":return nx(i,.5,t);case"stepBefore":return nx(i,0,t);case"stepAfter":return nx(i,1,t);case"linearClosed":return Mwe(i,t)}}let MT=class extends du{constructor(i){super(),this.areaRenderContribitions=i,this.numberType=eP,this.builtinContributions=[wct,Cct],this.init(i)}drawLinearAreaHighPerformance(i,e,t,n,r,s,a,o,l,u,c,d,h){var p,f,g,v,m;const{points:b}=i.attribute;if(b.length<2)return;e.beginPath();const _=(p=this.z)!==null&&p!==void 0?p:0,S=b[0];e.moveTo(S.x+a,S.y+o,_);for(let E=1;E<b.length;E++){const A=b[E];e.lineTo(A.x+a,A.y+o,_)}for(let E=b.length-1;E>=0;E--){const A=b[E];e.lineTo(((f=A.x1)!==null&&f!==void 0?f:A.x)+a,((g=A.y1)!==null&&g!==void 0?g:A.y)+o,_)}e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(i,i.attribute,l),this.beforeRenderStep(i,e,a,o,!!r,!1,t,!1,l,u,d,null,{attribute:i.attribute});const{x:C=0,x:k=0}=i.attribute;if(t!==!1&&(d?d(e,i.attribute,l):r&&(e.setCommonStyle(i,i.attribute,C-a,k-o,l),e.fill())),this.afterRenderStep(i,e,a,o,!!r,!1,t,!1,l,u,d,null,{attribute:i.attribute}),n){const{stroke:E=l&&l.stroke}=i.attribute;if(ke(E)&&(E[0]||E[2])&&E[1]===!1){if(e.beginPath(),E[0]){e.moveTo(S.x+a,S.y+o,_);for(let A=1;A<b.length;A++){const P=b[A];e.lineTo(P.x+a,P.y+o,_)}}else if(E[2]){const A=b[b.length-1];e.moveTo(A.x+a,A.y+o,_);for(let P=b.length-2;P>=0;P--){const O=b[P];e.lineTo(((v=O.x1)!==null&&v!==void 0?v:O.x)+a,((m=O.y1)!==null&&m!==void 0?m:O.y)+o,_)}}}h?h(e,i.attribute,l):(e.setStrokeStyle(i,i.attribute,C-a,k-o,l),e.stroke())}}drawShape(i,e,t,n,r,s,a,o){var l,u,c,d,h,p;const f=qe(i,s==null?void 0:s.theme).area,{fill:g=f.fill,stroke:v=f.stroke,fillOpacity:m=f.fillOpacity,z:b=f.z,strokeOpacity:_=f.strokeOpacity}=i.attribute,S=this.valid(i,f,a,o);if(!S)return;const{doFill:C,doStroke:k}=S,{clipRange:E=f.clipRange,closePath:A,points:P,segments:O}=i.attribute;let{curveType:M=f.curveType}=i.attribute;if(A&&M==="linear"&&(M="linearClosed"),E===1&&!O&&!P.some(D=>D.defined===!1)&&M==="linear")return this.drawLinearAreaHighPerformance(i,e,!!g,k,m,_,t,n,f,r,s,a,o);if(i.shouldUpdateShape()){if(O&&O.length){let D,L;const H=O.map((z,N)=>{if(z.points.length<=1&&N===0)return z.points[0]&&(L={endX:z.points[0].x,endY:z.points[0].y}),null;N===1?D={x:L.endX,y:L.endY}:N>1&&(D.x=L.endX,D.y=L.endY);const U=SI(z.points,M,{startPoint:D});return L=U,U}).filter(z=>!!z);let B;const F=[];for(let z=O.length-1;z>=0;z--){const N=O[z].points,U=[];for(let G=N.length-1;G>=0;G--)U.push({x:(l=N[G].x1)!==null&&l!==void 0?l:N[G].x,y:(u=N[G].y1)!==null&&u!==void 0?u:N[G].y});if(z!==0){const G=O[z-1].points,j=G[G.length-1];j&&U.push({x:(c=j.x1)!==null&&c!==void 0?c:j.x,y:(d=j.y1)!==null&&d!==void 0?d:j.y})}U.length>1&&(B=SI(U,M==="stepBefore"?"stepAfter":M==="stepAfter"?"stepBefore":M),F.unshift(B))}i.cacheArea=F.map((z,N)=>({top:H[N],bottom:z}))}else{if(!P||!P.length)return i.cacheArea=null,void i.clearUpdateShapeTag();{const D=P,L=[];for(let F=P.length-1;F>=0;F--)L.push({x:(h=P[F].x1)!==null&&h!==void 0?h:P[F].x,y:(p=P[F].y1)!==null&&p!==void 0?p:P[F].y});const H=SI(D,M),B=SI(L,M==="stepBefore"?"stepAfter":M==="stepAfter"?"stepBefore":M);i.cacheArea={top:H,bottom:B}}}i.clearUpdateShapeTag()}if(Array.isArray(i.cacheArea)){const D=i.attribute.segments.filter(L=>L.points.length);if(D[0].points.length===1&&D.shift(),E===1){let L=!1;i.cacheArea.forEach((H,B)=>{L||(L=this.drawSegmentItem(e,H,C,m,k,_,D[B],[f,i.attribute],E,t,n,b,i,r,a,o))})}else{const L=i.cacheArea.reduce((z,N)=>z+N.top.getLength(),0),H=E*L;let B=0,F=!1;i.cacheArea.forEach((z,N)=>{if(F)return;const U=z.top.getLength(),G=(H-B)/U;B+=U,G>0&&(F=this.drawSegmentItem(e,z,C,m,k,_,D[N],[f,i.attribute],xo(G,1),t,n,b,i,r,a,o))})}}else this.drawSegmentItem(e,i.cacheArea,C,m,k,_,i.attribute,f,E,t,n,b,i,r,a,o)}draw(i,e,t,n){const r=qe(i,n==null?void 0:n.theme).area;this._draw(i,r,!1,t,n)}drawSegmentItem(i,e,t,n,r,s,a,o,l,u,c,d,h,p,f,g){let v=!1;return v=v||this._drawSegmentItem(i,e,t,n,r,s,a,o,l,u,c,d,h,p,!1,f,g),v=v||this._drawSegmentItem(i,e,t,n,r,s,a,o,l,u,c,d,h,p,!0,f,g),v}_drawSegmentItem(i,e,t,n,r,s,a,o,l,u,c,d,h,p,f,g,v){var m,b,_,S;if(!(e&&e.top&&e.bottom&&e.top.curves&&e.top.curves.length&&e.bottom.curves&&e.bottom.curves.length))return;let{connectedType:C,connectedX:k,connectedY:E,connectedStyle:A}=a;const P=[];if(f&&(ke(o)?(C=(m=C??o[0].connectedType)!==null&&m!==void 0?m:o[1].connectedType,k=(b=k??o[0].connectedX)!==null&&b!==void 0?b:o[1].connectedX,E=(_=E??o[0].connectedY)!==null&&_!==void 0?_:o[1].connectedY,A=(S=A??o[0].connectedStyle)!==null&&S!==void 0?S:o[1].connectedStyle):(C=C??o.connectedType,k=k??o.connectedX,E=E??o.connectedY,A=A??o.connectedStyle),C!=="connect"&&C!=="zero"&&(C="none"),ke(o)?o.forEach(U=>P.push(U)):P.push(o),P.push(a)),f&&C==="none")return!1;i.beginPath();const{points:O,segments:M}=h.attribute;let D,L,H=jr.ROW;if(M){const U=M[M.length-1];L=M[0].points[0],D=U.points[U.points.length-1]}else L=O[0],D=O[O.length-1];const B=dn(D.x-L.x),F=dn(D.y-L.y);H=Number.isFinite(B+F)?B>F?jr.ROW:jr.COLUMN:jr.ROW,xct(i.camera?i:i.nativeContext,e,l,{offsetX:u,offsetY:c,offsetZ:d,direction:H,drawConnect:f,mode:C,zeroX:k,zeroY:E}),this.beforeRenderStep(h,i,u,c,!!n,!1,t,!1,o,p,g,null,{attribute:a}),i.setShadowBlendStyle&&i.setShadowBlendStyle(h,a,o);const{x:z=0,x:N=0}=a;if(t!==!1&&(g?g(i,a,o):n&&(i.setCommonStyle(h,f?A:a,z-u,N-c,f?P:o),i.fill())),this.afterRenderStep(h,i,u,c,!!n,!1,t,!1,o,p,g,null,{attribute:a}),r!==!1)if(v)v(i,a,o);else{const{stroke:U=o&&o[1]&&o[1].stroke}=a;ke(U)&&(U[0]||U[2])&&U[1]===!1&&(i.beginPath(),E5(i.camera?i:i.nativeContext,U[0]?e.top:e.bottom,l,H===jr.ROW?"x":"y",{offsetX:u,offsetY:c,offsetZ:d,drawConnect:f,mode:C,zeroX:k,zeroY:E})),i.setStrokeStyle(h,f?A:a,z-u,N-c,f?P:o),i.stroke()}return!1}};MT=kct([Tt(),ale(0,Fi(Ca)),ale(0,eo(d5)),Ect("design:paramtypes",[Object])],MT);const Act=Ww,Tct=vb;var Pct=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Oct=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},ole=function(i,e){return function(t,n){e(t,n,i)}};let BD=class extends du{constructor(i){super(),this.pathRenderContribitions=i,this.numberType=VB,this.builtinContributions=[Tct,Act],this.init(i)}drawShape(i,e,t,n,r,s,a,o){var l,u,c;const d=(l=this.tempTheme)!==null&&l!==void 0?l:qe(i,s==null?void 0:s.theme).path,{x:h=d.x,y:p=d.y}=i.attribute,f=(u=this.z)!==null&&u!==void 0?u:0,g=this.valid(i,d,a,o);if(!g)return;const{fVisible:v,sVisible:m,doFill:b,doStroke:_}=g;if(e.beginPath(),i.pathShape)Pg(i.pathShape.commandList,e,t,n,1,1,f);else{const S=(c=i.attribute.path)!==null&&c!==void 0?c:d.path;Pg(S.commandList,e,t,n,1,1,f)}e.setShadowBlendStyle&&e.setShadowBlendStyle(i,i.attribute,d),this.beforeRenderStep(i,e,t,n,b,_,v,m,d,r,a,o),_&&(o?o(e,i.attribute,d):m&&(e.setStrokeStyle(i,i.attribute,h-t,p-n,d),e.stroke())),b&&(a?a(e,i.attribute,d):v&&(e.setCommonStyle(i,i.attribute,h-t,p-n,d),e.fill())),this.afterRenderStep(i,e,t,n,b,_,v,m,d,r,a,o)}draw(i,e,t,n){const r=qe(i,n==null?void 0:n.theme).path;this.tempTheme=r,this._draw(i,r,!1,t,n),this.tempTheme=null}};BD=Pct([Tt(),ole(0,Fi(Ca)),ole(0,eo(f5)),Oct("design:paramtypes",[Object])],BD);var Mct=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Ict=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},lle=function(i,e){return function(t,n){e(t,n,i)}};let $D=class extends du{constructor(i){super(),this.rectRenderContribitions=i,this.type="rect",this.numberType=UB,this.builtinContributions=[ict,rct,nct],this.init(i)}drawShape(i,e,t,n,r,s,a,o){var l;const u=(l=this.tempTheme)!==null&&l!==void 0?l:qe(i,s==null?void 0:s.theme).rect,{fill:c=u.fill,background:d,stroke:h=u.stroke,cornerRadius:p=u.cornerRadius,opacity:f=u.opacity,fillOpacity:g=u.fillOpacity,lineWidth:v=u.lineWidth,strokeOpacity:m=u.strokeOpacity,visible:b=u.visible,x1:_,y1:S,x:C=u.x,y:k=u.y}=i.attribute;let{width:E,height:A}=i.attribute;E=(E??_-C)||0,A=(A??S-k)||0;const P=cX(f,g,E,A,c),O=hX(f,m,E,A),M=mb(c,d),D=Vw(h,v);if(!i.valid||!b||!M&&!D||!(P||O||a||o||d))return;p===0||ke(p)&&p.every(H=>H===0)?(e.beginPath(),e.rect(t,n,E,A)):(e.beginPath(),g0(e,t,n,E,A,p));const L={doFill:M,doStroke:D};e.setShadowBlendStyle&&e.setShadowBlendStyle(i,i.attribute,u),this.beforeRenderStep(i,e,t,n,M,D,P,O,u,r,a,o,L),L.doFill&&(a?a(e,i.attribute,u):P&&(e.setCommonStyle(i,i.attribute,C-t,k-n,u),e.fill())),L.doStroke&&(o?o(e,i.attribute,u):O&&(e.setStrokeStyle(i,i.attribute,C-t,k-n,u),e.stroke())),this.afterRenderStep(i,e,t,n,M,D,P,O,u,r,a,o)}draw(i,e,t,n){const r=qe(i,n==null?void 0:n.theme).rect;this.tempTheme=r,this._draw(i,r,!1,t,n),this.tempTheme=null}};$D=Mct([Tt(),lle(0,Fi(Ca)),lle(0,eo(sE)),Ict("design:paramtypes",[Object])],$D);var Rct=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Dct=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},ule=function(i,e){return function(t,n){e(t,n,i)}};let ND=class extends du{constructor(i){super(),this.symbolRenderContribitions=i,this.numberType=GB,this.builtinContributions=[dct,pct,hct],this.init(i)}drawShape(i,e,t,n,r,s,a,o){var l;const u=qe(i,s==null?void 0:s.theme).symbol,{size:c=u.size,x:d=u.x,y:h=u.y,scaleX:p=u.scaleX,scaleY:f=u.scaleY}=i.attribute,g=this.valid(i,u,a,o);if(!g)return;const{fVisible:v,sVisible:m,doFill:b,doStroke:_}=g,S=i.getParsedPath();if(!S)return;const{keepDirIn3d:C=u.keepDirIn3d}=i.attribute,k=(l=this.z)!==null&&l!==void 0?l:0;if(e.beginPath(),C&&e.camera&&e.project){const E=e.project(t,n,k),A=e.camera;e.camera=null,S.draw(e,ke(c)?[c[0]*p,c[1]*f]:c*p,E.x,E.y,void 0,(P,O)=>{var M,D,L;if(i._parsedPath.svgCache){const H=Object.assign({},O);H.fill=(M=O.fill)!==null&&M!==void 0?M:i.attribute.fill,H.opacity=(D=O.fill)!==null&&D!==void 0?D:i.attribute.opacity,H.fillOpacity=i.attribute.fillOpacity,H.stroke=(L=O.stroke)!==null&&L!==void 0?L:i.attribute.stroke,O=H}O.fill&&(a?a(e,i.attribute,u):(e.setCommonStyle(i,O,d-t,h-n,u),e.fill())),O.stroke&&(o?o(e,i.attribute,u):(e.setStrokeStyle(i,O,(d-t)/p,(h-n)/f,u),e.stroke()))})===!1&&e.closePath(),e.camera=A}else S.draw(e,c,t,n,k,(E,A)=>{var P,O,M;if(i._parsedPath.svgCache){const D=Object.assign({},A);D.fill=(P=A.fill)!==null&&P!==void 0?P:i.attribute.fill,D.opacity=(O=A.opacity)!==null&&O!==void 0?O:i.attribute.opacity,D.fillOpacity=i.attribute.fillOpacity,D.stroke=(M=A.stroke)!==null&&M!==void 0?M:i.attribute.stroke,A=D}A.fill&&(a?a(e,i.attribute,u):(e.setCommonStyle(i,A,d-t,h-n,u),e.fill())),A.stroke&&(o?o(e,i.attribute,u):(e.setStrokeStyle(i,A,(d-t)/p,(h-n)/f,u),e.stroke()))})===!1&&e.closePath();e.setShadowBlendStyle&&e.setShadowBlendStyle(i,i.attribute,u),this.beforeRenderStep(i,e,t,n,b,_,v,m,u,r,a,o),b&&!S.isSvg&&(a?a(e,i.attribute,u):v&&(e.setCommonStyle(i,i.attribute,d-t,h-n,u),e.fill())),_&&!S.isSvg&&(o?o(e,i.attribute,u):m&&(e.setStrokeStyle(i,i.attribute,(d-t)/p,(h-n)/f,u),e.stroke())),this.afterRenderStep(i,e,t,n,b,_,v,m,u,r,a,o)}draw(i,e,t,n){const r=qe(i,n==null?void 0:n.theme).symbol;this._draw(i,r,!1,t,n)}};ND=Rct([Tt(),ule(0,Fi(Ca)),ule(0,eo(m5)),Dct("design:paramtypes",[Object])],ND);class Lct{constructor(){this.pools=[];for(let e=0;e<10;e++)this.pools.push(new zr)}allocate(e,t,n,r){if(!this.pools.length)return new zr().setValue(e,t,n,r);const s=this.pools.pop();return s.x1=e,s.y1=t,s.x2=n,s.y2=r,s}allocateByObj(e){if(!this.pools.length)return new zr(e);const t=this.pools.pop();return t.x1=e.x1,t.y1=e.y1,t.x2=e.x2,t.y2=e.y2,t}free(e){this.pools.push(e)}get length(){return this.pools.length}release(...e){this.pools=[]}}const jD=new Lct;class Fct extends rP{constructor(){super(...arguments),this.time=Fa.beforeFillStroke}drawShape(e,t,n,r,s,a,o,l,u,c,d,h){var p,f,g,v,m,b,_,S,C,k;const{backgroundMode:E=u.backgroundMode,backgroundFit:A=u.backgroundFit}=e.attribute;let P,{background:O}=e.attribute;if(!O)return;const M=()=>{e.type==="richtext"&&(t.restore(),t.save(),P&&t.setTransformFromMatrix(P,!0,1))};let D;e.type==="richtext"&&(P=t.currentMatrix.clone(),t.restore(),t.save(),t.setTransformForCurrent());const L=yi(O)&&O.background,H=e.transMatrix.onlyTranslate();if(L){const B=e.AABBBounds,F=((p=O.x)!==null&&p!==void 0?p:B.x1)+((f=O.dx)!==null&&f!==void 0?f:0),z=((g=O.y)!==null&&g!==void 0?g:B.y1)+((v=O.dy)!==null&&v!==void 0?v:0),N=(m=O.width)!==null&&m!==void 0?m:B.width(),U=(b=O.height)!==null&&b!==void 0?b:B.height();if(D=jD.allocate(F,z,F+N,z+U),O=O.background,!H){const G=D.width(),j=D.height();D.set(((_=O.x)!==null&&_!==void 0?_:0)+((S=O.dx)!==null&&S!==void 0?S:0),((C=O.y)!==null&&C!==void 0?C:0)+((k=O.dy)!==null&&k!==void 0?k:0),G,j)}}else D=e.AABBBounds,H||(D=nP(Object.assign(Object.assign({},e.attribute),{angle:0,scaleX:1,scaleY:1,x:0,y:0,dx:0,dy:0})).clone());if(e.backgroundImg&&e.resources){const B=e.resources.get(O);if(B.state!=="success"||!B.data)return void M();t.highPerformanceSave(),H&&t.setTransformFromMatrix(e.parent.globalTransMatrix,!0),t.setCommonStyle(e,e.attribute,n,r,u),this.doDrawImage(t,B.data,D,E,A),t.highPerformanceRestore(),t.setTransformForCurrent()}else{const{backgroundCornerRadius:B}=e.attribute;t.highPerformanceSave(),t.setCommonStyle(e,e.attribute,n,r,u),t.fillStyle=O,B?(g0(t,D.x1,D.y1,D.width(),D.height(),B),t.fill()):t.fillRect(D.x1,D.y1,D.width(),D.height()),t.highPerformanceRestore()}L&&jD.free(D),M()}}const TCe=new Fct;var Bct=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},$ct=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},cle=function(i,e){return function(t,n){e(t,n,i)}};let A5=class extends du{constructor(i){super(),this.textRenderContribitions=i,this.numberType=YB,this.builtinContributions=[TCe],this.init(i)}drawShape(i,e,t,n,r,s,a,o){var l,u,c;const d=qe(i,s==null?void 0:s.theme).text,{text:h,underline:p=d.underline,lineThrough:f=d.lineThrough,keepDirIn3d:g=d.keepDirIn3d,direction:v=d.direction,whiteSpace:m=d.whiteSpace,fontSize:b=d.fontSize,verticalMode:_=d.verticalMode,x:S=d.x,y:C=d.y}=i.attribute;let{textAlign:k=d.textAlign,textBaseline:E=d.textBaseline}=i.attribute;if(!_&&v==="vertical"){const z=k;k=(l=i.getBaselineMapAlign()[E])!==null&&l!==void 0?l:"left",E=(u=i.getAlignMapBaseline()[z])!==null&&u!==void 0?u:"top"}const A=(c=kg(i.attribute.lineHeight,b))!==null&&c!==void 0?c:b,P=this.valid(i,d,a,o);if(!P)return;const{fVisible:O,sVisible:M,doFill:D,doStroke:L}=P,H=!g,B=this.z||0;e.beginPath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(i,i.attribute,d),this.beforeRenderStep(i,e,t,n,D,L,O,M,d,r,a,o),H&&this.transformUseContext2d(i,d,B,e);const F=(z,N,U,G)=>{let j=t+N;const K=n+U;if(G){e.highPerformanceSave(),j+=b;const ie=jd.allocate(1,0,0,1,0,0);ie.rotateByCenter(Math.PI/2,j,K),e.transformFromMatrix(ie,!0),jd.free(ie)}L&&(o?o(e,i.attribute,d):M&&(e.setStrokeStyle(i,i.attribute,S-t,C-n,d),e.strokeText(z,j,K,B))),D&&(a?a(e,i.attribute,d):O&&(e.setCommonStyle(i,i.attribute,S-t,C-n,d),e.fillText(z,j,K,B),this.drawUnderLine(p,f,i,j,K,B,d,e))),G&&(e.highPerformanceRestore(),e.setTransformForCurrent())};if(i.isMultiLine)if(e.setTextStyleWithoutAlignBaseline(i.attribute,d,B),v==="horizontal"){const{multilineLayout:z}=i;if(!z)return void e.highPerformanceRestore();const{xOffset:N,yOffset:U}=z.bbox;L&&(o?o(e,i.attribute,d):M&&(e.setStrokeStyle(i,i.attribute,S-t,C-n,d),z.lines.forEach(G=>{e.strokeText(G.str,(G.leftOffset||0)+N+t,(G.topOffset||0)+U+n,B)}))),D&&(a?a(e,i.attribute,d):O&&(e.setCommonStyle(i,i.attribute,S-t,C-n,d),z.lines.forEach(G=>{e.fillText(G.str,(G.leftOffset||0)+N+t,(G.topOffset||0)+U+n,B),this.drawMultiUnderLine(p,f,i,(G.leftOffset||0)+N+t,(G.topOffset||0)+U+n-plt("bottom",b)-.05*b,B,G.width,d,e)})))}else{i.tryUpdateAABBBounds();const z=i.cache,{verticalList:N}=z;e.textAlign="left",e.textBaseline="top";const U=A*N.length;let G=0;N.forEach(ie=>{const ae=ie.reduce((re,J)=>re+(J.width||0),0);G=Jl(ae,G)});let j=0,K=0;E==="bottom"?K=-U:E==="middle"&&(K=-U/2),k==="center"?j-=G/2:k==="right"&&(j-=G),N.forEach((ie,ae)=>{const re=ie.reduce((te,Q)=>te+(Q.width||0),0),J=G-re;let ne=j;k==="center"?ne+=J/2:k==="right"&&(ne+=J),ie.forEach(te=>{const{text:Q,width:se,direction:_e}=te;F(Q,U-(ae+1)*A+K,ne,_e),ne+=se})})}else if(v==="horizontal"){e.setTextStyle(i.attribute,d,B);const z=i.clipedText;let N=0;A!==b&&(E==="top"?N=(A-b)/2:E==="middle"||E==="bottom"&&(N=-(A-b)/2)),F(z,0,N,0)}else{i.tryUpdateAABBBounds();const z=i.cache;if(z){e.setTextStyleWithoutAlignBaseline(i.attribute,d,B);const{verticalList:N}=z;let U=0;const G=N[0].reduce((K,ie)=>K+(ie.width||0),0);let j=0;E==="bottom"?j=-A:E==="middle"&&(j=-A/2),k==="center"?U-=G/2:k==="right"&&(U-=G),e.textAlign="left",e.textBaseline="top",N[0].forEach(K=>{const{text:ie,width:ae,direction:re}=K;F(ie,j,U,re),U+=ae})}}H&&this.restoreTransformUseContext2d(i,d,B,e),this.afterRenderStep(i,e,t,n,D,L,O,M,d,r,a,o)}draw(i,e,t,n){const r=qe(i,n==null?void 0:n.theme).text,{keepDirIn3d:s=r.keepDirIn3d}=i.attribute,a=!s;this._draw(i,r,a,t,n)}drawUnderLine(i,e,t,n,r,s,a,o){if(e+i<=0)return;const{textAlign:l=a.textAlign,textBaseline:u=a.textBaseline,fontSize:c=a.fontSize,fill:d=a.fill,opacity:h=a.opacity,underlineOffset:p=a.underlineOffset,underlineDash:f=a.underlineDash,fillOpacity:g=a.fillOpacity}=t.attribute,v=t.clipedWidth,m=Sg(l,v),b=Up(u,c,c),_={lineWidth:0,stroke:d,opacity:h,strokeOpacity:g};if(i){_.lineWidth=i,o.setStrokeStyle(t,_,n,r,a),f&&o.setLineDash(f),o.beginPath();const S=r+b+c+p;o.moveTo(n+m,S,s),o.lineTo(n+m+v,S,s),o.stroke()}if(e){_.lineWidth=e,o.setStrokeStyle(t,_,n,r,a),o.beginPath();const S=r+b+c/2;o.moveTo(n+m,S,s),o.lineTo(n+m+v,S,s),o.stroke()}}drawMultiUnderLine(i,e,t,n,r,s,a,o,l){if(e+i<=0)return;const{fontSize:u=o.fontSize,fill:c=o.fill,opacity:d=o.opacity,underlineOffset:h=o.underlineOffset,underlineDash:p=o.underlineDash,fillOpacity:f=o.fillOpacity}=t.attribute,g=Up("alphabetic",u,u),v={lineWidth:0,stroke:c,opacity:d,strokeOpacity:f};let m=-3;if(i){v.lineWidth=i,l.setStrokeStyle(t,v,n,r,o),p&&l.setLineDash(p),l.beginPath();const b=r+g+u+m+h;l.moveTo(n+0,b,s),l.lineTo(n+0+a,b,s),l.stroke()}if(m=-1,e){v.lineWidth=e,l.setStrokeStyle(t,v,n,r,o),l.beginPath();const b=r+g+u/2+m;l.moveTo(n+0,b,s),l.lineTo(n+0+a,b,s),l.stroke()}}};A5=Bct([Tt(),cle(0,Fi(Ca)),cle(0,eo(v5)),$ct("design:paramtypes",[Object])],A5);function PCe(i,e,t,n){i.moveTo(e[0].x+t,e[0].y+n);for(let r=1;r<e.length;r++)i.lineTo(e[r].x+t,e[r].y+n)}function Nct(i,e,t,n,r,s=!0){var a;if(e.length<3)return void PCe(i,e,t,n);let o=0,l=e.length-1;s||(o+=1,l-=1,i.moveTo(e[0].x+t,e[0].y+n));for(let u=o;u<=l;u++){const c=e[u===0?l:(u-1)%e.length],d=e[u%e.length],h=e[(u+1)%e.length],p=d.x-c.x,f=d.y-c.y,g=d.x-h.x,v=d.y-h.y,m=(Math.atan2(f,p)-Math.atan2(v,g))/2,b=Math.abs(Math.tan(m));let _=Array.isArray(r)?(a=r[u%e.length])!==null&&a!==void 0?a:0:r,S=_/b;const C=xI(p,f),k=xI(g,v),E=Math.min(C,k);S>E&&(S=E,_=E*b);const A=P7(d,S,C,p,f),P=P7(d,S,k,g,v),O=2*d.x-A.x-P.x,M=2*d.y-A.y-P.y,D=xI(O,M),L=P7(d,xI(S,_),D,O,M);let H=Math.atan2(A.y-L.y,A.x-L.x);const B=Math.atan2(P.y-L.y,P.x-L.x);let F=B-H;F<0&&(H=B,F=-F),F>Math.PI&&(F-=Math.PI),u===0?i.moveTo(A.x+t,A.y+n):i.lineTo(A.x+t,A.y+n),F&&i.arcTo(d.x+t,d.y+n,P.x+t,P.y+n,_),i.lineTo(P.x+t,P.y+n)}s||i.lineTo(e[l+1].x+t,e[l+1].y+n)}function xI(i,e){return Math.sqrt(i*i+e*e)}function P7(i,e,t,n,r){const s=e/t;return{x:i.x-n*s,y:i.y-r*s}}const jct=Ww,zct=vb;var Hct=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Vct=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},dle=function(i,e){return function(t,n){e(t,n,i)}};let T5=class extends du{constructor(i){super(),this.polygonRenderContribitions=i,this.numberType=WB,this.builtinContributions=[zct,jct],this.init(i)}drawShape(i,e,t,n,r,s,a,o){const l=qe(i,s==null?void 0:s.theme).polygon,{points:u=l.points,cornerRadius:c=l.cornerRadius,x:d=l.x,y:h=l.y,closePath:p=l.closePath}=i.attribute,f=this.valid(i,l,a,o);if(!f)return;const{fVisible:g,sVisible:v,doFill:m,doStroke:b}=f;e.beginPath(),c<=0||ke(c)&&c.every(_=>_===0)?PCe(e.camera?e:e.nativeContext,u,t,n):Nct(e.camera?e:e.nativeContext,u,t,n,c,p),p&&e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(i,i.attribute,l),this.beforeRenderStep(i,e,t,n,m,b,g,v,l,r,a,o),m&&(a?a(e,i.attribute,l):g&&(e.setCommonStyle(i,i.attribute,d-t,h-n,l),e.fill())),b&&(o?o(e,i.attribute,l):v&&(e.setStrokeStyle(i,i.attribute,d-t,h-n,l),e.stroke())),this.afterRenderStep(i,e,t,n,m,b,g,v,l,r,a,o)}draw(i,e,t,n){const r=qe(i,n==null?void 0:n.theme).polygon;this._draw(i,r,!1,t,n)}};T5=Hct([Tt(),dle(0,Fi(Ca)),dle(0,eo(g5)),Vct("design:paramtypes",[Object])],T5);var Wct=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Uct=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},hle=function(i,e){return function(t,n){e(t,n,i)}};const Gct=["","repeat-x","repeat-y","repeat"];let P5=class extends du{constructor(i){super(),this.imageRenderContribitions=i,this.numberType=HB,this.builtinContributions=[lct,uct],this.init(i)}drawShape(i,e,t,n,r,s,a,o){const l=qe(i).image,{width:u=l.width,height:c=l.height,repeatX:d=l.repeatX,repeatY:h=l.repeatY,x:p=l.x,y:f=l.y,cornerRadius:g=l.cornerRadius,image:v}=i.attribute,m=this.valid(i,l,a);if(!m)return;const{fVisible:b,sVisible:_,doFill:S,doStroke:C}=m;if(e.setShadowBlendStyle&&e.setShadowBlendStyle(i,l),this.beforeRenderStep(i,e,t,n,S,!1,b,!1,l,r,a),S){if(a)a(e,i.attribute,l);else if(b){if(!v||!i.resources)return;const k=i.resources.get(v);if(k.state!=="success")return;let E=!1;g===0||ke(g)&&g.every(P=>P===0)||(e.beginPath(),g0(e,t,n,u,c,g),e.save(),e.clip(),E=!0),e.setCommonStyle(i,i.attribute,t,n,l);let A=0;if(d==="repeat"&&(A|=1),h==="repeat"&&(A|=2),A){const P=e.createPattern(k.data,Gct[A]);e.fillStyle=P,e.translate(t,n,!0),e.fillRect(0,0,u,c),e.translate(-t,-n,!0)}else e.drawImage(k.data,t,n,u,c);E&&e.restore()}}C&&(o?o(e,i.attribute,l):_&&(e.setStrokeStyle(i,i.attribute,p-t,f-n,l),e.stroke())),this.afterRenderStep(i,e,t,n,S,!1,b,!1,l,r,a)}draw(i,e,t){const{image:n}=i.attribute;if(!n||!i.resources)return;const r=i.resources.get(n);if(r.state==="loading"&&ct(n))return void pr.improveImageLoading(n);if(r.state!=="success")return;const{context:s}=e.drawParams;if(!s)return;const a=qe(i).image;this._draw(i,a,!1,t)}};P5=Wct([Tt(),hle(0,Fi(Ca)),hle(0,eo(p5)),Uct("design:paramtypes",[Object])],P5);const OCe=Symbol.for("IncrementalDrawContribution"),zD=Symbol.for("ArcRender"),O5=Symbol.for("Arc3dRender"),HD=Symbol.for("AreaRender"),VD=Symbol.for("CircleRender"),to=Symbol.for("GraphicRender"),ple=Symbol.for("GroupRender"),WD=Symbol.for("LineRender"),UD=Symbol.for("PathRender"),GD=Symbol.for("PolygonRender"),YD=Symbol.for("RectRender"),M5=Symbol.for("Rect3DRender"),KD=Symbol.for("SymbolRender"),I5=Symbol.for("TextRender"),R5=Symbol.for("RichTextRender"),D5=Symbol.for("Pyramid3dRender"),XD=Symbol.for("GlyphRender"),fle=Symbol.for("ImageRender"),SX=Symbol.for("DrawContribution");var Yct=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Kct=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};const qD=Symbol.for("DrawItemInterceptor"),gle=new zr;class Xct{constructor(){this.order=1}afterDrawItem(e,t,n,r,s){return(e.attribute.shadowRootIdx>0||!e.attribute.shadowRootIdx)&&this.drawItem(e,t,n,r,s),!1}beforeDrawItem(e,t,n,r,s){return e.attribute.shadowRootIdx<0&&this.drawItem(e,t,n,r,s),!1}drawItem(e,t,n,r,s){if(!e.shadowRoot)return!1;const{context:a}=n;if(a.highPerformanceSave(),a.transformFromMatrix(e.transMatrix,!0),r.dirtyBounds&&r.backupDirtyBounds){gle.copy(r.dirtyBounds);const o=e.globalTransMatrix.getInverse();r.dirtyBounds.copy(r.backupDirtyBounds).transformWithMatrix(o)}return r.renderGroup(e.shadowRoot,n,e.parent.globalTransMatrix),a.highPerformanceRestore(),r.dirtyBounds&&r.backupDirtyBounds&&r.dirtyBounds.copy(gle),!0}}class qct{constructor(){this.order=1}afterDrawItem(e,t,n,r,s){return e.attribute._debug_bounds&&this.drawItem(e,t,n,r,s),!1}drawItem(e,t,n,r,s){if(!e.attribute._debug_bounds)return!1;const{context:a}=n;a.highPerformanceSave(),e.parent&&a.setTransformFromMatrix(e.parent.globalTransMatrix,!0),e.glyphHost&&e.glyphHost.parent&&a.setTransformFromMatrix(e.glyphHost.parent.globalTransMatrix,!0);const o=e.AABBBounds;return e.attribute._debug_bounds!==!0&&e.attribute._debug_bounds(a,e),a.strokeRect(o.x1,o.y1,o.width(),o.height()),a.highPerformanceRestore(),!0}}let ZD=class{constructor(){this.order=1,this.interceptors=[new Xct,new Qct,new Zct,new qct]}afterDrawItem(i,e,t,n,r){for(let s=0;s<this.interceptors.length;s++)if(this.interceptors[s].afterDrawItem&&this.interceptors[s].afterDrawItem(i,e,t,n,r))return!0;return!1}beforeDrawItem(i,e,t,n,r){if((!i.in3dMode||t.in3dInterceptor)&&!i.shadowRoot&&!(i.baseGraphic||i.attribute.globalZIndex||i.interactiveGraphic))return!1;for(let s=0;s<this.interceptors.length;s++)if(this.interceptors[s].beforeDrawItem&&this.interceptors[s].beforeDrawItem(i,e,t,n,r))return!0;return!1}};ZD=Yct([Tt(),Kct("design:paramtypes",[])],ZD);class Zct{constructor(){this.order=1}beforeDrawItem(e,t,n,r,s){return!this.processing&&(e.baseGraphic?this.beforeDrawInteractive(e,t,n,r,s):this.beforeSetInteractive(e,t,n,r,s))}beforeSetInteractive(e,t,n,r,s){let a=e.interactiveGraphic;if(e.attribute.globalZIndex){a||(a=e.clone(),e.interactiveGraphic=a,a.baseGraphic=e),a.setAttributes({globalZIndex:0,zIndex:e.attribute.globalZIndex},!1,{skipUpdateCallback:!0}),n.stage.tryInitInteractiveLayer();const o=n.stage.getLayer("_builtin_interactive");return o&&this.getShadowRoot(o).add(a),!0}if(a){n.stage.tryInitInteractiveLayer();const o=n.stage.getLayer("_builtin_interactive");o&&this.getShadowRoot(o).removeChild(a),e.interactiveGraphic=null,a.baseGraphic=null}return!1}beforeDrawInteractive(e,t,n,r,s){const a=e.baseGraphic;if(!a.stage){const o=n.stage.getLayer("_builtin_interactive");return o&&this.getShadowRoot(o).removeChild(e),!0}if(a){this.processing=!0;const{context:o}=n;return o.highPerformanceSave(),o.setTransformFromMatrix(a.parent.globalTransMatrix,!0),a.isContainer?r.renderGroup(a,n,a.parent.globalTransMatrix):r.renderItem(a,n),o.highPerformanceRestore(),this.processing=!1,!0}return!1}getShadowRoot(e){var t;let n=e.getElementById("_interactive_group");return n||(n=Ot.CreateGraphic("group",{}),n.id="_interactive_group",e.add(n)),(t=n.shadowRoot)!==null&&t!==void 0?t:n.attachShadow()}}class Qct{constructor(){this.order=1}beforeDrawItem(e,t,n,r,s){if(!e.in3dMode||n.in3dInterceptor)return!1;n.in3dInterceptor=!0;const{context:a,stage:o}=t.drawParams;a.canvas,a.save(),this.initCanvasCtx(a),a.camera=o.camera;const l=a.currentMatrix;l.a/=a.dpr,l.b/=a.dpr,l.c/=a.dpr,l.d/=a.dpr,l.e/=a.dpr,l.f/=a.dpr;const u=wr.allocate();w5(u,l);const c=a.modelMatrix;if(c){if(u){const d=wr.allocate();a.modelMatrix=iP(d,c,u)}}else a.modelMatrix=u;if(a.setTransform(1,0,0,1,0,0,!0),e.isContainer){let d=!1,h=!1;if(e.forEachChildren(p=>(d=p.numberType===J2,!d)),e.forEachChildren(p=>(h=!!p.findFace,!h)),d){const p=e.getChildren(),f=[...p];f.sort((v,m)=>{var b,_,S,C;let k=(((b=v.attribute.startAngle)!==null&&b!==void 0?b:0)+((_=v.attribute.endAngle)!==null&&_!==void 0?_:0))/2,E=(((S=m.attribute.startAngle)!==null&&S!==void 0?S:0)+((C=m.attribute.endAngle)!==null&&C!==void 0?C:0))/2;for(;k<0;)k+=Vi;for(;E<0;)E+=Vi;return E-k}),f.forEach(v=>{v._next=null,v._prev=null}),e.removeAllChild(),e.update(),f.forEach(v=>{e.appendChild(v)});const g=e.parent.globalTransMatrix;n.hack_pieFace="outside",r.renderGroup(e,n,g),n.hack_pieFace="inside",r.renderGroup(e,n,g),n.hack_pieFace="top",r.renderGroup(e,n,g),e.removeAllChild(),p.forEach(v=>{v._next=null,v._prev=null}),p.forEach(v=>{e.appendChild(v)})}else if(h){const p=e.getChildren(),f=p.map(g=>({ave_z:g.findFace().vertices.map(v=>{var m;return a.view(v[0],v[1],(m=v[2]+g.attribute.z)!==null&&m!==void 0?m:0)[2]}).reduce((v,m)=>v+m,0),g}));f.sort((g,v)=>v.ave_z-g.ave_z),e.removeAllChild(),f.forEach(g=>{g.g._next=null,g.g._prev=null}),e.update(),f.forEach(g=>{e.add(g.g)}),r.renderGroup(e,n,e.parent.globalTransMatrix,!0),e.removeAllChild(),p.forEach(g=>{g._next=null,g._prev=null}),e.update(),p.forEach(g=>{e.add(g)})}else r.renderGroup(e,n,e.parent.globalTransMatrix)}else r.renderItem(e,n);return a.camera=null,a.restore(),a.modelMatrix!==c&&wr.free(a.modelMatrix),a.modelMatrix=c,n.in3dInterceptor=!1,!0}initCanvasCtx(e){e.setTransformForCurrent()}}var Jct=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},edt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},tdt=function(i,e){return function(t,n){e(t,n,i)}};const MCe=Symbol.for("RenderService");let L5=class{constructor(i){this.drawContribution=i}prepare(i){i&&this.renderTreeRoots.forEach(e=>{this._prepare(e,i)})}_prepare(i,e){i.forEachChildren(t=>{this._prepare(t,e)}),i.update({bounds:e,trans:!0})}prepareRenderList(){}beforeDraw(i){}draw(i){this.drawContribution.draw(this,Object.assign({},this.drawParams))}afterDraw(i){this.drawContribution.afterDraw&&this.drawContribution.afterDraw(this,Object.assign({},this.drawParams))}render(i,e){this.renderTreeRoots=i,this.drawParams=e;const t=e.updateBounds;this.prepare(t),this.prepareRenderList(),this.beforeDraw(e),this.draw(e),this.afterDraw(e),this.drawParams=null}};L5=Jct([Tt(),tdt(0,Fi(SX)),edt("design:paramtypes",[Object])],L5);const idt=new mi(i=>{i(MCe).to(L5)}),rx=Symbol.for("PickerService"),mle=Symbol.for("GlobalPickerService");var xX=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};const PS=Symbol.for("PickItemInterceptor");let QD=class{constructor(){this.order=1}afterPickItem(i,e,t,n,r){return i.attribute.shadowRootIdx>0||!i.attribute.shadowRootIdx?this._pickItem(i,e,t,n,r):null}beforePickItem(i,e,t,n,r){return i.attribute.shadowRootIdx<0?this._pickItem(i,e,t,n,r):null}_pickItem(i,e,t,n,r){if(!i.shadowRoot)return null;const{parentMatrix:s}=r||{};if(!s)return null;const a=e.pickContext;a.highPerformanceSave();const o=i.shadowRoot,l=jd.allocateByObj(s),u=new As(l.a*t.x+l.c*t.y+l.e,l.b*t.x+l.d*t.y+l.f),c=e.pickGroup(o,u,l,n);return a.highPerformanceRestore(),c}};QD=xX([Tt()],QD);let JD=class{constructor(){this.order=1}beforePickItem(i,e,t,n,r){const s=i.baseGraphic;if(s&&s.parent){const a=new As(t.x,t.y),o=e.pickContext;o.highPerformanceSave();const l=s.parent.globalTransMatrix;l.transformPoint(a,a);const u=s.isContainer?e.pickGroup(s,a.clone(),l,n):e.pickItem(s,a.clone(),l,n);return o.highPerformanceRestore(),u}return null}};JD=xX([Tt()],JD);let eL=class{constructor(){this.order=1}beforePickItem(i,e,t,n,r){if(!i.in3dMode||n.in3dInterceptor)return null;const s=e.pickContext,a=i.stage;if(!s||!a)return null;if(n.in3dInterceptor=!0,s.save(),this.initCanvasCtx(s),s.camera=a.camera,i.isContainer){let o,l=!1,u=!1;if(i.forEachChildren(c=>(l=c.numberType===J2,!l)),i.forEachChildren(c=>(u=!!c.findFace,!u)),l){const c=i.getChildren(),d=[...c];d.sort((h,p)=>{var f,g,v,m;let b=((g=(f=h.attribute.startAngle)!==null&&f!==void 0?f:0+h.attribute.endAngle)!==null&&g!==void 0?g:0)/2,_=((m=(v=p.attribute.startAngle)!==null&&v!==void 0?v:0+p.attribute.endAngle)!==null&&m!==void 0?m:0)/2;for(;b<0;)b+=Vi;for(;_<0;)_+=Vi;return _-b}),d.forEach(h=>{h._next=null,h._prev=null}),i.removeAllChild(),i.update(),d.forEach(h=>{i.appendChild(h)}),n.hack_pieFace="outside",o=e.pickGroup(i,t,r.parentMatrix,n),o.graphic||(n.hack_pieFace="inside",o=e.pickGroup(i,t,r.parentMatrix,n)),o.graphic||(n.hack_pieFace="top",o=e.pickGroup(i,t,r.parentMatrix,n)),i.removeAllChild(),c.forEach(h=>{h._next=null,h._prev=null}),c.forEach(h=>{i.appendChild(h)})}else if(u){const c=i.getChildren(),d=c.map(h=>({ave_z:h.findFace().vertices.map(p=>{var f;return s.view(p[0],p[1],(f=p[2]+h.attribute.z)!==null&&f!==void 0?f:0)[2]}).reduce((p,f)=>p+f,0),g:h}));d.sort((h,p)=>p.ave_z-h.ave_z),i.removeAllChild(),d.forEach(h=>{h.g._next=null,h.g._prev=null}),i.update(),d.forEach(h=>{i.add(h.g)}),o=e.pickGroup(i,t,r.parentMatrix,n),i.removeAllChild(),c.forEach(h=>{h._next=null,h._prev=null}),i.update(),c.forEach(h=>{i.add(h)})}else o=e.pickGroup(i,t,r.parentMatrix,n);return s.camera=null,n.in3dInterceptor=!1,s.restore(),o}return s.restore(),null}initCanvasCtx(i){i.setTransformForCurrent()}};eL=xX([Tt()],eL);const ndt=new mi((i,e,t)=>{t(rx)||(i(mle).toSelf(),i(rx).toService(mle)),i(eL).toSelf().inSingletonScope(),i(PS).toService(eL),i(QD).toSelf().inSingletonScope(),i(PS).toService(QD),i(JD).toSelf().inSingletonScope(),i(PS).toService(JD),zo(i,PS)}),rdt=new mi(i=>{i(sCe).to(C5).inSingletonScope(),i(aCe).toConstantValue(Ot)}),IT=Symbol.for("AutoEnablePlugins"),ICe=Symbol.for("PluginService");var sdt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},adt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},vle=function(i,e){return function(t,n){e(t,n,i)}};let F5=class{constructor(i){this.autoEnablePlugins=i,this.onStartupFinishedPlugin=[],this.onRegisterPlugin=[],this.actived=!1}active(i,e){this.stage=i,this.actived=!0;const{pluginList:t}=e;t&&gi.isBound(IT)&&this.autoEnablePlugins.getContributions().forEach(n=>{t.includes(n.name)&&this.register(n)})}findPluginsByName(i){const e=[];return this.onStartupFinishedPlugin.forEach(t=>{t.name===i&&e.push(t)}),this.onRegisterPlugin.forEach(t=>{t.name===i&&e.push(t)}),e}register(i){i.activeEvent==="onStartupFinished"?this.onStartupFinishedPlugin.push(i):i.activeEvent==="onRegister"&&(this.onRegisterPlugin.push(i),i.activate(this))}unRegister(i){i.activeEvent==="onStartupFinished"?this.onStartupFinishedPlugin.splice(this.onStartupFinishedPlugin.indexOf(i),1):i.activeEvent==="onRegister"&&this.onRegisterPlugin.splice(this.onStartupFinishedPlugin.indexOf(i),1),i.deactivate(this)}release(...i){this.onStartupFinishedPlugin.forEach(e=>{e.deactivate(this)}),this.onStartupFinishedPlugin=[],this.onRegisterPlugin.forEach(e=>{e.deactivate(this)}),this.onRegisterPlugin=[]}};F5=sdt([Tt(),vle(0,Fi(Ca)),vle(0,eo(IT)),adt("design:paramtypes",[Object])],F5);const odt=new mi(i=>{i(ICe).to(F5),tat(i,IT)}),ldt=new mi(i=>{zo(i,LB)}),udt=new mi(i=>{i(t5).to(i5).inSingletonScope(),zo(i,t5)});var cdt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},ddt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let tL=class{constructor(){this.type="static",this.offscreen=!1,this.global=Ne.global}setDpr(i){this.canvas.dpr=i}init(i,e,t){if(this.layer=i,this.window=e,t.main)this.main=!0,this.context=e.getContext(),this.canvas=this.context.getCanvas();else{let n;this.main=!1,t.canvasId&&(n=this.global.getElementById(t.canvasId)),n||(n=this.global.createCanvas({width:e.width,height:e.height})),n.style&&(n.style["pointer-events"]="none");const r=e.getContext().getCanvas().nativeCanvas,s=CD({nativeCanvas:n,width:e.width,height:e.height,dpr:e.dpr,id:t.canvasId,canvasControled:!0,container:e.getContainer(),x:r.offsetLeft,y:r.offsetTop});s.applyPosition(),this.canvas=s,this.context=s.getContext()}}resize(i,e){this.canvas.resize(i,e)}resizeView(i,e){}render(i,e,t){var n;if(!this.main){const r=this.window.getContext().getCanvas().nativeCanvas;!r||this.canvas.x===r.offsetLeft&&this.canvas.y===r.offsetTop||(this.canvas.x=r.offsetLeft,this.canvas.y=r.offsetTop,this.canvas.applyPosition())}e.renderService.render(i,Object.assign(Object.assign({context:this.context,clear:(n=e.background)!==null&&n!==void 0?n:"#ffffff"},e),t))}merge(i){i.forEach(e=>{const t=e.getContext().canvas.nativeCanvas;this.context.drawImage(t,0,0)})}prepare(i,e){}drawTo(i,e,t){var n;const r=i.getContext();t.renderService.render(e,Object.assign(Object.assign({context:r},t),{clear:t.clear?(n=t.background)!==null&&n!==void 0?n:"#fff":void 0}))}getContext(){return this.context}release(){this.canvas.release()}};tL=cdt([Tt(),ddt("design:paramtypes",[])],tL);var hdt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},pdt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let iL=class{constructor(){this.offscreen=!1,this.type="virtual",this.global=Ne.global}setDpr(i){}init(i,e,t){if(this.layer=i,this.window=e,t.main)throw new Error("virtual layermain layer");this.main=!1,this.canvas=null,this.context=null}resize(i,e){}resizeView(i,e){}render(i,e,t){this.mainHandler.render(i,e,Object.assign(Object.assign({},t),{clear:!1}))}merge(i){}prepare(i,e){}drawTo(i,e,t){var n;const r=i.getContext();t.renderService.render(e,Object.assign(Object.assign({context:r},t),{clear:t.clear?(n=t.background)!==null&&n!==void 0?n:"#fff":void 0}))}getContext(){return null}release(){}};iL=hdt([Tt(),pdt("design:paramtypes",[])],iL);var fdt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},gdt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let nL=class{constructor(){this.offscreen=!0,this.type="dynamic",this.global=Ne.global}setDpr(i){this.canvas.dpr=i}init(i,e,t){this.layer=i;const n=this.global.createOffscreenCanvas({width:t.width,height:t.height,dpr:e.dpr}),r=CD({nativeCanvas:n,width:t.width,height:t.height,dpr:e.dpr,canvasControled:!0});this.canvas=r,this.context=r.getContext()}resize(i,e){this.canvas.resize(i,e)}resizeView(i,e){this.canvas.resize(i,e)}render(i,e){var t;e.renderService.render(i,Object.assign(Object.assign({context:this.context,viewBox:e.stage.window.getViewBox(),transMatrix:e.stage.window.getViewBoxTransform()},e),{clear:(t=e.background)!==null&&t!==void 0?t:"#ffffff"}))}prepare(i,e){}release(){this.canvas.release()}getContext(){return this.context}drawTo(i,e,t){const n=i.getContext(),r=i.dpr,{viewBox:s}=t,a=s.x1,o=s.y1,l=s.width(),u=s.height();n.nativeContext.save(),n.nativeContext.setTransform(r,0,0,r,0,0),t.clear&&n.clearRect(a,o,l,u),n.drawImage(this.canvas.nativeCanvas,0,0,this.canvas.width,this.canvas.height,a,o,l,u),n.nativeContext.restore()}merge(i){}};nL=fdt([Tt(),gdt("design:paramtypes",[])],nL);const mdt=new mi(i=>{i(tL).toSelf(),i(nL).toSelf(),i(iL).toSelf(),i(cCe).toService(tL),i(dCe).toService(nL),i(hCe).toService(iL)});function vdt(i){i.load(ldt),i.load(udt),i.load(mdt)}var ydt=function(i,e,t,n){return new(t||(t=Promise))(function(r,s){function a(u){try{l(n.next(u))}catch(c){s(c)}}function o(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((n=n.apply(i,e||[])).next())})};function RCe(i,e,t,n=!1,r=!1){const s={},a=[];let o=!1;if(r)o=!0;else{let l;i.forEachChildren((u,c)=>{const{zIndex:d=e}=u.attribute;if(c===0)l=d;else if(l!==d)return o=!0,!0;return!1},n)}if(o){i.forEachChildren(u=>{const{zIndex:c=e}=u.attribute;s[c]?s[c].push(u):(s[c]=[u],a.push(c))},n),a.sort((u,c)=>n?c-u:u-c);let l=!1;for(let u=0;u<a.length&&!l;u++){const c=a[u],d=s[c];r&&d.sort((h,p)=>{var f,g;return(n?-1:1)*(((f=p.attribute.z)!==null&&f!==void 0?f:0)-((g=h.attribute.z)!==null&&g!==void 0?g:0))});for(let h=0;h<d.length;h++)if(t(d[h],h)){l=!0;break}}}else i.forEachChildren(t,n)}function yle(i,e,t,n=!1){return ydt(this,void 0,void 0,function*(){yield i.forEachChildrenAsync(t,n)})}function _dt(i,e,t,n=!1){const r={},s=[];let a=!1;i.forEachChildren((u,c)=>{const{zIndex:d=t}=u.attribute;if(c!==0){if(d!==void 0)return a=!0,!0}return!1},n);let o=null,l=!1;if(a){i.forEachChildren(c=>{const{zIndex:d=t}=c.attribute;r[d]?r[d].push(c):(r[d]=[c],s.push(d))},n),s.sort((c,d)=>n?d-c:c-d);let u=!1;for(let c=0;c<s.length&&!u;c++){const d=s[c],h=r[d];for(let p=0;p<h.length;p++){if(l){u=!0,o=h[p];break}h[p]._uid!==e||(l=!0)}}}else i.forEachChildren(u=>l?(o=u,!0):(u._uid===e&&(l=!0),!1),n);return o}var bdt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Sdt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},O7=function(i,e){return function(t,n){e(t,n,i)}};let rL=class{constructor(i,e){this.contributions=i,this.drawItemInterceptorContributions=e,this.currentRenderMap=new Map,this.defaultRenderMap=new Map,this.styleRenderMap=new Map,this.dirtyBounds=new Da,this.backupDirtyBounds=new Da,this.global=Ne.global,this.layerService=Ne.layerService,this.init()}init(){this.contributions.forEach(i=>{if(i.style){const e=this.styleRenderMap.get(i.style)||new Map;e.set(i.numberType,i),this.styleRenderMap.set(i.style,e)}else this.defaultRenderMap.set(i.numberType,i)}),this.InterceptorContributions=this.drawItemInterceptorContributions.getContributions().sort((i,e)=>i.order-e.order)}prepareForDraw(i,e){e.updateBounds?this.useDirtyBounds=!0:this.useDirtyBounds=!e.stage.params.optimize.disableCheckGraphicWidthOutRange}draw(i,e){this.prepareForDraw(i,e),e.drawContribution=this,this.currentRenderMap=this.styleRenderMap.get(e.renderStyle)||this.defaultRenderMap,this.currentRenderService=i;const{context:t,stage:n,viewBox:r,transMatrix:s}=e;if(!t)return;const a=this.dirtyBounds.setValue(0,0,r.width(),r.height());if(n.dirtyBounds&&!n.dirtyBounds.empty()){const l=vxe(a,n.dirtyBounds);a.x1=Math.floor(l.x1),a.y1=Math.floor(l.y1),a.x2=Math.ceil(l.x2),a.y2=Math.ceil(l.y2)}const o=t.dpr%1;(o||o!==.5)&&(a.x1=Math.floor(a.x1*t.dpr)/t.dpr,a.y1=Math.floor(a.y1*t.dpr)/t.dpr,a.x2=Math.ceil(a.x2*t.dpr)/t.dpr,a.y2=Math.ceil(a.y2*t.dpr)/t.dpr),this.backupDirtyBounds.copy(a),t.inuse=!0,t.setClearMatrix(s.a,s.b,s.c,s.d,s.e,s.f),t.clearMatrix(),t.setTransformForCurrent(!0),t.translate(r.x1,r.y1,!0),t.beginPath(),t.rect(a.x1,a.y1,a.width(),a.height()),t.clip(),n.camera&&(this.dirtyBounds.setValue(-1/0,-1/0,1/0,1/0),this.backupDirtyBounds.setValue(-1/0,-1/0,1/0,1/0)),this.clearScreen(i,t,e),t.save(),i.renderTreeRoots.sort((l,u)=>{var c,d;return((c=l.attribute.zIndex)!==null&&c!==void 0?c:ms.zIndex)-((d=u.attribute.zIndex)!==null&&d!==void 0?d:ms.zIndex)}).forEach(l=>{l.isContainer?this.renderGroup(l,e,jd.allocate(1,0,0,1,0,0)):this.renderItem(l,e)}),t.restore(),t.setClearMatrix(1,0,0,1,0,0),t.inuse=!1,t.draw()}doRegister(){throw new Error("")}_findNextGraphic(i){let e=i.parent,t=i._uid;for(;e;){const n=_dt(e,t,ms.zIndex);if(n)return n;t=e._uid,e=e.parent}return null}renderGroup(i,e,t,n){if(e.break||i.attribute.visibleAll===!1)return;if(i.incremental&&(e.startAtId==null||e.startAtId===i._uid))return e.break=!0,void this._increaseRender(i,e);if(this.useDirtyBounds&&!gT(i.AABBBounds,this.dirtyBounds,!1))return;let r,s=t;if(this.useDirtyBounds){r=jD.allocateByObj(this.dirtyBounds);const a=i.transMatrix;s=jd.allocateByObj(t).multiply(a.a,a.b,a.c,a.d,a.e,a.f),this.dirtyBounds.copy(this.backupDirtyBounds).transformWithMatrix(s.getInverse())}this.renderItem(i,e,{drawingCb:()=>{var a;n?i.forEachChildren(o=>{e.break||(o.isContainer?this.renderGroup(o,e,s):this.renderItem(o,e))}):RCe(i,ms.zIndex,o=>{e.break||(o.isContainer?this.renderGroup(o,e,s):this.renderItem(o,e))},!1,!!(!((a=e.context)===null||a===void 0)&&a.camera))}}),this.useDirtyBounds&&(this.dirtyBounds.copy(r),jD.free(r),jd.free(s))}_increaseRender(i,e){const{layer:t,stage:n}=e,{subLayers:r}=t;let s=r.get(i._uid);s||(s={layer:this.layerService.createLayer(n),zIndex:r.size,group:i},r.set(i._uid,s));const a=s.layer.getNativeHandler().getContext(),o=s.drawContribution||gi.get(OCe);o.dirtyBounds.setValue(-1/0,-1/0,1/0,1/0),o.backupDirtyBounds.setValue(-1/0,-1/0,1/0,1/0),o.draw(this.currentRenderService,Object.assign(Object.assign({},e),{drawContribution:o,clear:"transparent",layer:s.layer,context:a,startAtId:i._uid,break:!1})),s.drawContribution=o;const l=this._findNextGraphic(i);if(l)if(l.isContainer&&l.incremental)this._increaseRender(l,e);else{let u=r.get(l._uid);u||(u={layer:this.layerService.createLayer(n),zIndex:r.size},r.set(l._uid,u));const c=u.layer.getNativeHandler().getContext();this.draw(this.currentRenderService,Object.assign(Object.assign({},e),{drawContribution:o,clear:"transparent",layer:u.layer,context:c,startAtId:l._uid,break:!1}))}}getRenderContribution(i){let e;return e||(e=this.selectRenderByNumberType(i.numberType,i)),e||(e=this.selectRenderByType(i.type)),e}renderItem(i,e,t){if(this.InterceptorContributions.length)for(let o=0;o<this.InterceptorContributions.length;o++){const l=this.InterceptorContributions[o];if(l.beforeDrawItem&&l.beforeDrawItem(i,this.currentRenderService,e,this,t))return}const n=this.getRenderContribution(i);if(!n)return;let r,s=!1;if(i.parent){const{scrollX:o=0,scrollY:l=0}=i.parent.attribute;if(s=!(!o&&!l),s){r=this.dirtyBounds.clone();const u=i.globalTransMatrix.getInverse();this.dirtyBounds.copy(this.backupDirtyBounds).transformWithMatrix(u),this.dirtyBounds.translate(-o,-l)}}if(this.useDirtyBounds&&!i.isContainer&&!gT(i.AABBBounds,this.dirtyBounds,!1))return void(s&&this.dirtyBounds.copy(r));const a=e.startAtId!=null&&i._uid!==e.startAtId;if(i._uid===e.startAtId&&(e.startAtId=null),t&&(t.skipDraw=a),a?i.isContainer&&n.draw(i,this.currentRenderService,e,t):n.draw(i,this.currentRenderService,e,t),s&&this.dirtyBounds.copy(r),this.InterceptorContributions.length)for(let o=0;o<this.InterceptorContributions.length;o++){const l=this.InterceptorContributions[o];if(l.afterDrawItem&&l.afterDrawItem(i,this.currentRenderService,e,this))return}}selectRenderByType(i){return Kn.getInstance().warn(""),null}selectRenderByNumberType(i,e){let t;if(e.attribute.renderStyle){const n=this.styleRenderMap.get(e.attribute.renderStyle);t=n&&n.get(i)}return t||this.currentRenderMap.get(i)||this.defaultRenderMap.get(i)}clearScreen(i,e,t){var n,r;const{clear:s,viewBox:a}=t,o=a.width(),l=a.height();if(s){e.clearRect(0,0,o,l);const u=(n=i.drawParams)===null||n===void 0?void 0:n.stage;if(u&&(e.globalAlpha=(r=u.attribute.opacity)!==null&&r!==void 0?r:1),u&&u.backgroundImg&&u.resources){const c=u.resources.get(s);c&&c.state==="success"&&c.data&&e.drawImage(c.data,0,0,o,l)}else e.fillStyle=k5(e,s,{AABBBounds:{x1:0,y1:0,x2:0+o,y2:0+l}},0,0),e.fillRect(0,0,o,l)}}afterDraw(i,e){}};rL=bdt([Tt(),O7(0,Swe(to)),O7(1,Fi(Ca)),O7(1,eo(qD)),Sdt("design:paramtypes",[Array,Object])],rL);var xdt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},wdt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},_le=function(i,e){return function(t,n){e(t,n,i)}};let B5=class{constructor(i){this.groupRenderContribitions=i,this.numberType=rX}drawShape(i,e,t,n,r,s,a,o){const l=qe(i,s==null?void 0:s.theme).group,{fill:u=l.fill,background:c,stroke:d=l.stroke,opacity:h=l.opacity,width:p=l.width,height:f=l.height,clip:g=l.clip,fillOpacity:v=l.fillOpacity,strokeOpacity:m=l.strokeOpacity,cornerRadius:b=l.cornerRadius,path:_=l.path,lineWidth:S=l.lineWidth,visible:C=l.visible}=i.attribute,k=cX(h,v,p,f,u),E=hX(h,m,p,f),A=mb(u,c),P=Vw(d,S);if(!i.valid||!C||!g&&(!A&&!P||!(k||E||a||o||c)))return;if(_&&_.length&&r.drawContribution){const M=e.disableFill,D=e.disableStroke,L=e.disableBeginPath;e.disableFill=!0,e.disableStroke=!0,e.disableBeginPath=!0,_.forEach(H=>{r.drawContribution.getRenderContribution(H).draw(H,r.renderService,r,s)}),e.disableFill=M,e.disableStroke=D,e.disableBeginPath=L}else b===0||ke(b)&&b.every(M=>M===0)?(e.beginPath(),e.rect(t,n,p,f)):(e.beginPath(),g0(e,t,n,p,f,b));this._groupRenderContribitions||(this._groupRenderContribitions=this.groupRenderContribitions.getContributions()||[],this._groupRenderContribitions.push(tct));const O={doFill:A,doStroke:P};this._groupRenderContribitions.forEach(M=>{M.time===Fa.beforeFillStroke&&M.drawShape(i,e,t,n,A,P,k,E,l,r,a,o,O)}),g&&e.clip(),e.setShadowBlendStyle&&e.setShadowBlendStyle(i,i.attribute,l),O.doFill&&(a?a(e,i.attribute,l):k&&(e.setCommonStyle(i,i.attribute,t,n,l),e.fill())),O.doStroke&&(o?o(e,i.attribute,l):E&&(e.setStrokeStyle(i,i.attribute,t,n,l),e.stroke())),this._groupRenderContribitions.forEach(M=>{M.time===Fa.afterFillStroke&&M.drawShape(i,e,t,n,A,P,k,E,l,r,a,o)})}draw(i,e,t,n){const{context:r}=t;if(!r)return;const{clip:s,baseOpacity:a=1}=i.attribute;s?r.save():r.highPerformanceSave(),r.baseGlobalAlpha*=a;const o=qe(i,n==null?void 0:n.theme).group,l=r.modelMatrix;if(r.camera){const h=wr.allocate(),p=wr.allocate();kCe(p,i,o),iP(h,l||h,p),r.modelMatrix=h,wr.free(p),r.setTransform(1,0,0,1,0,0,!0)}else r.transformFromMatrix(i.transMatrix,!0);r.beginPath(),n.skipDraw?this.drawShape(i,r,0,0,t,n,()=>!1,()=>!1):this.drawShape(i,r,0,0,t);const{scrollX:u=o.scrollX,scrollY:c=o.scrollY}=i.attribute;let d;(u||c)&&r.translate(u,c),n&&n.drawingCb&&(d=n.drawingCb()),r.modelMatrix!==l&&wr.free(r.modelMatrix),r.modelMatrix=l,r.baseGlobalAlpha/=a,d&&d.then?d.then(()=>{s?r.restore():r.highPerformanceRestore()}):s?r.restore():r.highPerformanceRestore()}};B5=xdt([Tt(),_le(0,Fi(Ca)),_le(0,eo(fCe)),wdt("design:paramtypes",[Object])],B5);var Cdt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let sL=class extends OT{constructor(){super(...arguments),this.numberType=tP}drawShape(i,e,t,n,r,s,a,o){if(i.incremental&&r.multiGraphicOptions){const{startAtIdx:l,length:u}=r.multiGraphicOptions,{segments:c=[]}=i.attribute;if(l>c.length)return;const d=qe(i).line,{fill:h=d.fill,stroke:p=d.stroke,opacity:f=d.opacity,fillOpacity:g=d.fillOpacity,strokeOpacity:v=d.strokeOpacity,lineWidth:m=d.lineWidth,visible:b=d.visible}=i.attribute,_=j_(f,g,h),S=dX(f,v),C=mb(h),k=Vw(p,m);if(!i.valid||!b||!C&&!k||!(_||S||a||o))return;const{context:E}=r;for(let A=l;A<l+u;A++)this.drawIncreaseSegment(i,E,c[A-1],c[A],i.attribute.segments[A],[d,i.attribute],t,n)}else super.drawShape(i,e,t,n,r,s,a,o)}drawIncreaseSegment(i,e,t,n,r,s,a,o){n&&(e.beginPath(),_ct(e.nativeContext,t,n,{offsetX:a,offsetY:o}),e.setShadowBlendStyle&&e.setShadowBlendStyle(i,r,s),e.setStrokeStyle(i,r,a,o,s),e.stroke())}};sL=Cdt([Tt()],sL);var kdt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let aL=class extends MT{constructor(){super(...arguments),this.numberType=eP}drawShape(i,e,t,n,r,s,a){if(i.incremental&&r.multiGraphicOptions){const{startAtIdx:o,length:l}=r.multiGraphicOptions,{segments:u=[]}=i.attribute;if(o>u.length)return;const c=qe(i).area,{fill:d=c.fill,fillOpacity:h=c.fillOpacity,opacity:p=c.opacity,visible:f=c.visible}=i.attribute,g=j_(p,h,d),v=mb(d);if(!i.valid||!f||!v||!g&&!a)return;for(let m=o;m<o+l;m++)this.drawIncreaseSegment(i,e,u[m-1],u[m],i.attribute.segments[m],[c,i.attribute],t,n)}else super.drawShape(i,e,t,n,r,s,a)}drawIncreaseSegment(i,e,t,n,r,s,a,o){n&&(e.beginPath(),bct(e.camera?e:e.nativeContext,t,n,{offsetX:a,offsetY:o}),e.setShadowBlendStyle&&e.setShadowBlendStyle(i,r,s),e.setCommonStyle(i,r,a,o,s),e.fill())}};aL=kdt([Tt()],aL);var OS,Edt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Adt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},vk=function(i,e){return function(t,n){e(t,n,i)}},Ip=function(i,e,t,n){return new(t||(t=Promise))(function(r,s){function a(u){try{l(n.next(u))}catch(c){s(c)}}function o(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((n=n.apply(i,e||[])).next())})};(function(i){i[i.NORMAL=0]="NORMAL",i[i.STOP=1]="STOP"})(OS||(OS={}));let $5=class extends rL{constructor(i,e,t,n){super(i,n),this.contributions=i,this.lineRender=e,this.areaRender=t,this.drawItemInterceptorContributions=n,this.rendering=!1,this.currFrameStartAt=0,this.currentIdx=0,this.status=OS.NORMAL,this.checkingForDrawPromise=null,this.hooks={completeDraw:new Ec([])},this.defaultRenderMap.set(this.lineRender.numberType,this.lineRender),this.defaultRenderMap.set(this.areaRender.numberType,this.areaRender)}draw(i,e){return Ip(this,void 0,void 0,function*(){if(this.checkingForDrawPromise)return;this.lastRenderService=i,this.lastDrawContext=e,this.checkingForDrawPromise=this.checkForDraw(e);const t=yield this.checkingForDrawPromise;if(this.checkingForDrawPromise=null,t)return;this.currentRenderService=i;const{context:n,viewBox:r}=e;n&&(n.inuse=!0,n.clearMatrix(),n.setTransformForCurrent(!0),n.save(),e.restartIncremental&&this.clearScreen(this.currentRenderService,n,e),n.translate(r.x1,r.y1,!0),n.save(),i.renderTreeRoots.sort((s,a)=>{var o,l;return((o=s.attribute.zIndex)!==null&&o!==void 0?o:ms.zIndex)-((l=a.attribute.zIndex)!==null&&l!==void 0?l:ms.zIndex)}).forEach(s=>{this.renderGroup(s,e)}),this.hooks.completeDraw.tap("top-draw",()=>{n.restore(),n.restore(),n.draw(),n.inuse=!1,this.rendering=!1}))})}_increaseRender(i,e){return Ip(this,void 0,void 0,function*(){this.rendering=!0,yield this._renderIncrementalGroup(i,e)})}_renderIncrementalGroup(i,e){return Ip(this,void 0,void 0,function*(){this.count=i.count,yield new Promise(t=>{this.renderItem(i,e,{drawingCb:()=>Ip(this,void 0,void 0,function*(){if(i.count!==2)yield yle(i,ms.zIndex,(n,r)=>{if(this.status===OS.STOP)return!0;if(n.isContainer||r<this.currentIdx)return!1;const s=this.currFrameStartAt+i.incremental;return r<s&&(this.currentIdx=r+1,this.renderItem(n,e)),r===s-1&&(this.currFrameStartAt=this.currentIdx,this.waitToNextFrame())}),t(!1);else{const n=i.getChildAt(0);if(n.incremental&&n.attribute.segments)for(n.incrementalAt||(n.incrementalAt=0);n.incrementalAt<n.attribute.segments.length;)e.multiGraphicOptions={startAtIdx:n.incrementalAt,length:n.incremental},this.renderItem(n,e),n.incrementalAt+=n.incremental,yield this.waitToNextFrame();else this.renderItem(n,e);t(!1)}})})}),this.hooks.completeDraw.call()})}waitToNextFrame(){return Ip(this,void 0,void 0,function*(){return new Promise(i=>{this.global.getRequestAnimationFrame()(()=>{i(!1)})})})}checkForDraw(i){return Ip(this,void 0,void 0,function*(){let e=this.rendering;return i.restartIncremental&&(e=!1,yield this.forceStop(),this.resetToInit()),e})}forceStop(){return Ip(this,void 0,void 0,function*(){this.rendering&&(this.status=OS.STOP,yield new Promise(i=>{this.hooks.completeDraw.tap("stopCb",()=>{this.status=OS.NORMAL,this.hooks.completeDraw.taps=this.hooks.completeDraw.taps.filter(e=>e.name!=="stopCb"),i(!1)})}))})}resetToInit(){this.currFrameStartAt=0,this.currentIdx=0}renderGroup(i,e){return Ip(this,void 0,void 0,function*(){if(!e.break&&i.attribute.visibleAll!==!1)return i.incremental&&e.startAtId===i._uid?(yield this._increaseRender(i,e),void(e.break=!0)):void(yield new Promise(t=>{this.renderItem(i,e,{drawingCb:()=>Ip(this,void 0,void 0,function*(){yield yle(i,ms.zIndex,n=>Ip(this,void 0,void 0,function*(){e.break||n.isContainer&&(yield this.renderGroup(n,e))})),t(!1)})})}))})}};$5=Edt([Tt(),vk(0,Swe(to)),vk(1,Fi(sL)),vk(2,Fi(aL)),vk(3,Fi(Ca)),vk(3,eo(qD)),Adt("design:paramtypes",[Array,Object,Object,Object])],$5);const Tdt=new mi(i=>{i(rP).toSelf().inSingletonScope(),i(bX).toSelf().inSingletonScope(),i(SX).to(rL),i(OCe).to($5),i(ple).to(B5).inSingletonScope(),i(to).toService(ple),zo(i,fCe),i(qd).toSelf().inSingletonScope(),zo(i,pX),zo(i,to),i(ZD).toSelf().inSingletonScope(),i(qD).toService(ZD),zo(i,qD)});function Pdt(i){i.load(Tdt)}function oL(){oL.__loaded||(oL.__loaded=!0,gi.load(llt),gi.load(rdt),gi.load(idt),gi.load(ndt),gi.load(odt),vdt(gi),Pdt(gi))}oL.__loaded=!1,oL();const ji=gi.get(qK);Ne.global=ji;const Odt=gi.get(uCe);Ne.graphicUtil=Odt;const Mdt=gi.get(lCe);Ne.transformUtil=Mdt;const Idt=gi.get(sCe);Ne.graphicService=Idt;const Rdt=gi.get(uX);Ne.layerService=Rdt;class Ddt{constructor(){this.name="AutoRenderPlugin",this.activeEvent="onRegister",this._uid=Xs.GenAutoIncrementId(),this.key=this.name+this._uid}activate(e){this.pluginService=e,Ne.graphicService.hooks.onAttributeUpdate.tap(this.key,t=>{t.glyphHost&&(t=t.glyphHost),t.stage===e.stage&&t.stage!=null&&t.stage.renderNextFrame()}),Ne.graphicService.hooks.onSetStage.tap(this.key,t=>{t.glyphHost&&(t=t.glyphHost),t.stage===e.stage&&t.stage!=null&&t.stage.renderNextFrame()})}deactivate(e){Ne.graphicService.hooks.onAttributeUpdate.taps=Ne.graphicService.hooks.onAttributeUpdate.taps.filter(t=>t.name!==this.key),Ne.graphicService.hooks.onSetStage.taps=Ne.graphicService.hooks.onSetStage.taps.filter(t=>t.name!==this.key)}}class Ldt{constructor(){this.name="ViewTransform3dPlugin",this.activeEvent="onRegister",this._uid=Xs.GenAutoIncrementId(),this.key=this.name+this._uid,this.onMouseDown=e=>{this.option3d||(this.option3d=this.pluginService.stage.option3d),this.option3d&&(this.mousedown=!0,this.pageX=e.page.x,this.pageY=e.page.y)},this.onMouseUp=e=>{this.option3d||(this.option3d=this.pluginService.stage.option3d),this.option3d&&(this.mousedown=!1)},this.onMouseMove=e=>{var t,n;const r=this.pluginService.stage;if(this.option3d||(this.option3d=r.option3d),this.option3d&&this.mousedown)if(this.pageX&&this.pageY){const s=e.page.x-this.pageX,a=e.page.y-this.pageY;this.pageX=e.page.x,this.pageY=e.page.y;const o=s/100,l=a/100;this.option3d.alpha=((t=this.option3d.alpha)!==null&&t!==void 0?t:0)+o,this.option3d.beta=((n=this.option3d.beta)!==null&&n!==void 0?n:0)+l,r.set3dOptions(this.option3d),r.renderNextFrame()}else this.pageX=e.page.x,this.pageY=e.page.y}}activate(e){this.pluginService=e;const t=e.stage;this.option3d=t.option3d,t.addEventListener("mousedown",this.onMouseDown),t.addEventListener("mouseup",this.onMouseUp),t.addEventListener("mousemove",this.onMouseMove)}deactivate(e){const t=e.stage;t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("mousemove",this.onMouseMove)}}class Fdt{constructor(){this.name="IncrementalAutoRenderPlugin",this.activeEvent="onRegister",this.nextFrameRenderGroupSet=new Set,this.willNextFrameRender=!1,this.nextUserParams={},this._uid=Xs.GenAutoIncrementId(),this.key=this.name+this._uid}activate(e){this.pluginService=e,Ne.graphicService.hooks.onAddIncremental.tap(this.key,(t,n,r)=>{t.glyphHost&&(t=t.glyphHost),t.stage===e.stage&&t.stage!=null&&(this.nextUserParams.startAtId=n._uid,this.renderNextFrame(n))}),Ne.graphicService.hooks.onClearIncremental.tap(this.key,(t,n)=>{t.stage===e.stage&&t.stage!=null&&(this.nextUserParams.startAtId=t._uid,this.nextUserParams.restartIncremental=!0,this.renderNextFrame(t))})}deactivate(e){Ne.graphicService.hooks.onAddIncremental.taps=Ne.graphicService.hooks.onAddIncremental.taps.filter(t=>t.name!==this.key),Ne.graphicService.hooks.onClearIncremental.taps=Ne.graphicService.hooks.onClearIncremental.taps.filter(t=>t.name!==this.key)}renderNextFrame(e){this.nextFrameRenderGroupSet.add(e),this.willNextFrameRender||(this.willNextFrameRender=!0,Ne.global.getRequestAnimationFrame()(()=>{this._doRenderInThisFrame(),this.willNextFrameRender=!1}))}_doRenderInThisFrame(){const e=this.pluginService.stage;this.nextFrameRenderGroupSet.size&&(this.nextFrameRenderGroupSet.forEach(t=>{const n=t.layer;if(!n||!t.layer.subLayers)return;const r=t.layer.subLayers.get(t._uid);r&&r.drawContribution&&r.drawContribution.draw(e.renderService,Object.assign({stage:e,layer:n,viewBox:e.window.getViewBox(),transMatrix:e.window.getViewBoxTransform(),clear:"transparent",renderService:e.renderService,updateBounds:!1,startAtId:t._uid,context:r.layer.getNativeHandler().getContext()},this.nextUserParams))}),this.nextUserParams={},this.nextFrameRenderGroupSet.clear())}}class DCe{constructor(){this.name="HtmlAttributePlugin",this.activeEvent="onRegister",this._uid=Xs.GenAutoIncrementId(),this.key=this.name+this._uid,this.htmlMap={},this.renderId=0}activate(e){this.pluginService=e,e.stage.hooks.afterRender.tap(this.key,t=>{t&&t===this.pluginService.stage&&this.drawHTML(e.stage.renderService)})}deactivate(e){e.stage.hooks.afterRender.taps=e.stage.hooks.afterRender.taps.filter(t=>t.name!==this.key),Ne.graphicService.hooks.onRemove.unTap(this.key),Ne.graphicService.hooks.onRelease.unTap(this.key),this.release()}getWrapContainer(e,t,n){let r;return r=t?typeof t=="string"?Ne.global.getElementById(t):t:e.window.getContainer(),{wrapContainer:Ne.global.createDom(Object.assign({tagName:"div",parent:r},n)),nativeContainer:r}}parseDefaultStyleFromGraphic(e){const t=e.type==="text"&&e.attribute?e.attribute:qe(e).text;return flt(t)}getTransformOfText(e){const t=qe(e).text,{textAlign:n=t.textAlign,textBaseline:r=t.textBaseline}=e.attribute,s=e.globalTransMatrix.toTransformAttrs(),{rotateDeg:a,scaleX:o,scaleY:l}=s,u={left:"0",start:"0",end:"-100%",center:"-50%",right:"-100%",top:"0",middle:"-50%",bottom:"-100%",alphabetic:"-79%"},c={left:"0",start:"0",end:"100%",center:"50%",right:"100%",top:"0",middle:"50%",bottom:"100%",alphabetic:"79%"};return{textAlign:n,transform:`translate(${u[n]},${u[r]}) rotate(${a}deg) scaleX(${o}) scaleY(${l})`,transformOrigin:`${c[n]} ${c[r]}`}}updateStyleOfWrapContainer(e,t,n,r,s){const{pointerEvents:a}=s;let o=this.parseDefaultStyleFromGraphic(e);o.display=e.attribute.visible!==!1?"block":"none",o.pointerEvents=a===!0?"all":a||"none",n.style.position||(n.style.position="absolute",r.style.position="relative");let l=0,u=0;const c=e.globalAABBBounds;let d=s.anchorType;if(Y(d)&&(d=e.type==="text"?"position":"boundsLeftTop"),d==="boundsLeftTop"&&(d="top-left"),d==="position"||c.empty()){const v=e.globalTransMatrix;l=v.e,u=v.f}else{const v=yxe(c,d);l=v.x,u=v.y}const h=Ne.global.getElementTopLeft(r,!1),p=t.window.getTopLeft(!1),f=l+p.left-h.left,g=u+p.top-h.top;if(o.left=`${f}px`,o.top=`${g}px`,e.type==="text"&&d==="position"&&(o=Object.assign(Object.assign({},o),this.getTransformOfText(e))),Pe(s.style)){const v=s.style({top:g,left:f,width:c.width(),height:c.height()},e,n);v&&(o=Object.assign(Object.assign({},o),v))}else yi(s.style)?o=Object.assign(Object.assign({},o),s.style):ct(s.style)&&s.style&&(o=Object.assign(Object.assign({},o),srt(s.style)));Ne.global.updateDom(n,{width:s.width,height:s.width,style:o})}clearCacheContainer(){this.htmlMap&&Object.keys(this.htmlMap).forEach(e=>{this.htmlMap[e]&&this.htmlMap[e].renderId!==this.renderId&&this.removeElement(e)}),this.renderId+=1}drawHTML(e){Ne.global.env==="browser"&&(e.renderTreeRoots.sort((t,n)=>{var r,s;return((r=t.attribute.zIndex)!==null&&r!==void 0?r:ms.zIndex)-((s=n.attribute.zIndex)!==null&&s!==void 0?s:ms.zIndex)}).forEach(t=>{this.renderGroupHTML(t)}),this.clearCacheContainer())}renderGroupHTML(e){this.renderGraphicHTML(e),e.forEachChildren(t=>{t.isContainer?this.renderGroupHTML(t):this.renderGraphicHTML(t)})}removeElement(e){if(!this.htmlMap||!this.htmlMap[e])return;const{wrapContainer:t}=this.htmlMap[e];t&&Ne.global.removeDom(t),this.htmlMap[e]=null}renderGraphicHTML(e){var t;const{html:n}=e.attribute;if(!n)return;const r=e.stage;if(!r)return;const{dom:s,container:a}=n;if(!s)return;const o=Y(n.id)?`${(t=e.id)!==null&&t!==void 0?t:e._uid}_react`:n.id;if(this.htmlMap&&this.htmlMap[o]&&a&&a!==this.htmlMap[o].container&&this.removeElement(o),this.htmlMap&&this.htmlMap[o])typeof s=="string"?this.htmlMap[o].wrapContainer.innerHTML=s:s!==this.htmlMap[o].wrapContainer.firstChild&&(this.htmlMap[o].wrapContainer.removeChild(this.htmlMap[o].wrapContainer.firstChild),this.htmlMap[o].wrapContainer.appendChild(s));else{const{wrapContainer:c,nativeContainer:d}=this.getWrapContainer(r,a);c&&(typeof s=="string"?c.innerHTML=s:c.appendChild(s),this.htmlMap||(this.htmlMap={}),this.htmlMap[o]={wrapContainer:c,nativeContainer:d,container:a,renderId:this.renderId})}if(!this.htmlMap||!this.htmlMap[o])return;const{wrapContainer:l,nativeContainer:u}=this.htmlMap[o];this.updateStyleOfWrapContainer(e,r,l,u,n),this.htmlMap[o].renderId=this.renderId}release(){Ne.global.env==="browser"&&this.removeAllDom(this.pluginService.stage.defaultLayer)}removeAllDom(e){this.htmlMap&&(Object.keys(this.htmlMap).forEach(t=>{this.removeElement(t)}),this.htmlMap=null)}}const ble=new zr;class Bdt{constructor(){this.name="DirtyBoundsPlugin",this.activeEvent="onRegister",this._uid=Xs.GenAutoIncrementId(),this.key=this.name+this._uid}activate(e){this.pluginService=e,e.stage.hooks.afterRender.tap(this.key,t=>{t&&t===this.pluginService.stage&&t.dirtyBounds.clear()}),Ne.graphicService.hooks.beforeUpdateAABBBounds.tap(this.key,(t,n,r,s)=>{t.glyphHost&&(t=t.glyphHost),n&&n===this.pluginService.stage&&n.renderCount&&(t.isContainer&&!t.shouldSelfChangeUpdateAABBBounds()||r&&(ble.setValue(s.x1,s.y1,s.x2,s.y2),n.dirty(ble,t.parent&&t.parent.globalTransMatrix)))}),Ne.graphicService.hooks.afterUpdateAABBBounds.tap(this.key,(t,n,r,s,a)=>{n&&n===this.pluginService.stage&&n.renderCount&&(t.isContainer&&!a||n.dirty(s.globalAABBBounds))}),Ne.graphicService.hooks.onRemove.tap(this.key,t=>{const n=t.stage;n&&n===this.pluginService.stage&&n.renderCount&&n&&n.dirty(t.globalAABBBounds)})}deactivate(e){Ne.graphicService.hooks.beforeUpdateAABBBounds.taps=Ne.graphicService.hooks.beforeUpdateAABBBounds.taps.filter(t=>t.name!==this.key),Ne.graphicService.hooks.afterUpdateAABBBounds.taps=Ne.graphicService.hooks.afterUpdateAABBBounds.taps.filter(t=>t.name!==this.key),e.stage.hooks.afterRender.taps=e.stage.hooks.afterRender.taps.filter(t=>t.name!==this.key),Ne.graphicService.hooks.onRemove.taps=Ne.graphicService.hooks.onRemove.taps.filter(t=>t.name!==this.key)}}const Sle=new zr;class $dt{constructor(){this.name="FlexLayoutPlugin",this.activeEvent="onRegister",this.id=Xs.GenAutoIncrementId(),this.key=this.name+this.id,this.tempBounds=new zr}pauseLayout(e){this.pause=e}tryLayoutChildren(e){e.firstChild&&this.tryLayout(e.firstChild)}tryLayout(e,t=!0){if(this.pause)return;const n=e.parent;if(!(t||n&&e.needUpdateLayout()))return;const r=qe(n).group,{display:s=r.display}=n.attribute;if(s!=="flex")return;const{flexDirection:a=r.flexDirection,flexWrap:o=r.flexWrap,alignItems:l=r.alignItems,clip:u=r.clip}=n.attribute,{alignContent:c=l??r.alignContent}=n.attribute;let{width:d,height:h,justifyContent:p=r.justifyContent}=n.attribute;const f=n.getChildren();if(d==null||h==null){let A=0,P=0,O=0;if(f.forEach(M=>{const D=this.getAABBBounds(M);D.empty()||(a==="column"||a==="column-reverse"?(P+=D.height(),A=Math.max(A,D.width())):(A+=D.width(),P=Math.max(P,D.height())),O+=D.x1,O+=D.y1,O+=D.x2,O+=D.y2)}),!isFinite(O))return;d=A,h=P}n.attribute.width==null?n.attribute.width=d:d=n.attribute.width,n.attribute.height==null?n.attribute.height=h:h=n.attribute.height,this.tempBounds.copy(n._AABBBounds);const g={main:{len:d,field:"x"},cross:{len:h,field:"y"}},v=g.main,m=g.cross;a!=="column"&&a!=="column-reverse"||(v.len=h,m.len=d,v.field="y",m.field="x"),a!=="row-reverse"&&a!=="column-reverse"||(p==="flex-start"?p="flex-end":p==="flex-end"?p="flex-start":f.reverse());let b=0,_=0;const S=[];f.forEach(A=>{const P=this.getAABBBounds(A);if(P.empty())return;const O=v.field==="x"?P.width():P.height(),M=m.field==="x"?P.width():P.height();S.push({mainLen:O,crossLen:M}),b+=O,_=Math.max(_,M)});const C=[];if(b>v.len&&o==="wrap"){let A=0,P=0;S.forEach(({mainLen:O,crossLen:M},D)=>{A+O>v.len?A===0?(C.push({idx:D,mainLen:A+O,crossLen:M}),A=0,P=0):(C.push({idx:D-1,mainLen:A,crossLen:P}),A=O,P=M):(A+=O,P=Math.max(P,M))}),C.push({idx:S.length-1,mainLen:A,crossLen:P})}else C.push({idx:S.length-1,mainLen:b,crossLen:_});let k=0;if(C.forEach(A=>{this.layoutMain(n,f,p,v,S,k,A),k=A.idx+1}),_=C.reduce((A,P)=>A+P.crossLen,0),C.length===1){const A={"flex-start":0,"flex-end":m.len,center:m.len/2};this.layoutCross(f,l,m,A,S,C[0],0)}else if(c==="flex-start"){k=0;let A=0;C.forEach((P,O)=>{const M={"flex-start":A,"flex-end":A+P.crossLen,center:A+P.crossLen/2};this.layoutCross(f,"flex-start",m,M,S,C[O],k),k=P.idx+1,A+=P.crossLen})}else if(c==="center"){k=0;let A=Math.max(0,(m.len-_)/2);C.forEach((P,O)=>{const M={"flex-start":A,"flex-end":A+P.crossLen,center:A+P.crossLen/2};this.layoutCross(f,"center",m,M,S,C[O],k),k=P.idx+1,A+=P.crossLen})}else if(c==="space-around"){k=0;const A=Math.max(0,(m.len-_)/C.length/2);let P=A;C.forEach((O,M)=>{const D={"flex-start":P,"flex-end":P+O.crossLen,center:P+O.crossLen/2};this.layoutCross(f,"flex-start",m,D,S,C[M],k),k=O.idx+1,P+=O.crossLen+2*A})}else if(c==="space-between"){k=0;const A=Math.max(0,(m.len-_)/(2*C.length-2));let P=0;C.forEach((O,M)=>{const D={"flex-start":P,"flex-end":P+O.crossLen,center:P+O.crossLen/2};this.layoutCross(f,"flex-start",m,D,S,C[M],k),k=O.idx+1,P+=O.crossLen+2*A})}f.forEach((A,P)=>{A.addUpdateBoundTag(),A.addUpdatePositionTag(),A.clearUpdateLayoutTag()}),n.addUpdateLayoutTag();const E=this.getAABBBounds(n);u||this.tempBounds.equals(E)||this.tryLayout(n,!1)}getAABBBounds(e){this.skipBoundsTrigger=!0;const t=e.AABBBounds;return this.skipBoundsTrigger=!1,t}updateChildPos(e,t,n){return e+(t??0)-n}layoutMain(e,t,n,r,s,a,o){if(n==="flex-start"){let l=0;for(let u=a;u<=o.idx;u++){const c=l+Rp(t[u],r.field),d=this.getAABBBounds(t[u]);!d.empty()&&(t[u].attribute[r.field]=this.updateChildPos(c,t[u].attribute[r.field],d[`${r.field}1`])),l+=s[u].mainLen}}else if(n==="flex-end"){let l=r.len;for(let u=o.idx;u>=a;u--){l-=s[u].mainLen;const c=l+Rp(t[u],r.field),d=this.getAABBBounds(t[u]);!d.empty()&&(t[u].attribute[r.field]=this.updateChildPos(c,t[u].attribute[r.field],d[`${r.field}1`]))}}else if(n==="space-around")if(o.mainLen>=r.len){let l=0;for(let u=a;u<=o.idx;u++){const c=l+Rp(t[u],r.field),d=this.getAABBBounds(t[u]);!d.empty()&&(t[u].attribute[r.field]=this.updateChildPos(c,t[u].attribute[r.field],d[`${r.field}1`])),l+=s[u].mainLen}}else{const l=o.idx-a+1,u=(r.len-o.mainLen)/l/2;let c=u;for(let d=a;d<=o.idx;d++){const h=c+Rp(t[d],r.field),p=this.getAABBBounds(t[d]);!p.empty()&&(t[d].attribute[r.field]=this.updateChildPos(h,t[d].attribute[r.field],p[`${r.field}1`])),c+=s[d].mainLen+2*u}}else if(n==="space-between")if(o.mainLen>=r.len){let l=0;for(let u=a;u<=o.idx;u++){const c=l+Rp(t[u],r.field),d=this.getAABBBounds(t[u]);!d.empty()&&(t[u].attribute[r.field]=this.updateChildPos(c,t[u].attribute[r.field],d[`${r.field}1`])),l+=s[u].mainLen}}else{const l=o.idx-a+1,u=(r.len-o.mainLen)/(2*l-2);let c=0;for(let d=a;d<=o.idx;d++){const h=c+Rp(t[d],r.field),p=this.getAABBBounds(t[d]);!p.empty()&&(t[d].attribute[r.field]=this.updateChildPos(h,t[d].attribute[r.field],p[`${r.field}1`])),c+=s[d].mainLen+2*u}}else if(n==="center"){let l=(r.len-o.mainLen)/2;for(let u=a;u<=o.idx;u++){const c=l+Rp(t[u],r.field),d=this.getAABBBounds(t[u]);!d.empty()&&(t[u].attribute[r.field]=this.updateChildPos(c,t[u].attribute[r.field],d[`${r.field}1`])),l+=s[u].mainLen}}}layoutCross(e,t,n,r,s,a,o){var l;for(let u=o;u<=a.idx;u++){const c=e[u];let{alignSelf:d}=c.attribute;d&&d!=="auto"||(d=t);const h=this.getAABBBounds(c),p=(l=r[d])!==null&&l!==void 0?l:r["flex-start"];d==="flex-end"?!h.empty()&&(c.attribute[n.field]=this.updateChildPos(p-s[u].crossLen+Rp(c,n.field),c.attribute[n.field],h[`${n.field}1`])):d==="center"?!h.empty()&&(c.attribute[n.field]=this.updateChildPos(p-s[u].crossLen/2+Rp(c,n.field),c.attribute[n.field],h[`${n.field}1`])):!h.empty()&&(c.attribute[n.field]=this.updateChildPos(p+Rp(c,n.field),c.attribute[n.field],h[`${n.field}1`]))}}activate(e){this.pluginService=e,Ne.graphicService.hooks.onAttributeUpdate.tap(this.key,t=>{t.glyphHost&&(t=t.glyphHost),t.stage&&t.stage===this.pluginService.stage&&this.tryLayout(t,!1)}),Ne.graphicService.hooks.beforeUpdateAABBBounds.tap(this.key,(t,n,r,s)=>{t.glyphHost&&(t=t.glyphHost),n&&n===this.pluginService.stage&&t.isContainer&&!this.skipBoundsTrigger&&Sle.copy(s)}),Ne.graphicService.hooks.afterUpdateAABBBounds.tap(this.key,(t,n,r,s,a)=>{n&&n===this.pluginService.stage&&t.isContainer&&!this.skipBoundsTrigger&&(Sle.equals(r)||this.tryLayout(t,!1))}),Ne.graphicService.hooks.onSetStage.tap(this.key,t=>{t.glyphHost&&(t=t.glyphHost),this.tryLayout(t,!1)})}deactivate(e){Ne.graphicService.hooks.onAttributeUpdate.taps=Ne.graphicService.hooks.onAttributeUpdate.taps.filter(t=>t.name!==this.key),Ne.graphicService.hooks.beforeUpdateAABBBounds.taps=Ne.graphicService.hooks.beforeUpdateAABBBounds.taps.filter(t=>t.name!==this.key),Ne.graphicService.hooks.afterUpdateAABBBounds.taps=Ne.graphicService.hooks.afterUpdateAABBBounds.taps.filter(t=>t.name!==this.key),Ne.graphicService.hooks.onSetStage.taps=Ne.graphicService.hooks.onSetStage.taps.filter(t=>t.name!==this.key)}}function Rp(i,e){return 0}const wX=new oot;wX.addTimeline(Vwe);wX.setFPS(60);class Ndt{constructor(e,t,n=.8){this.dir=e,this.color=t,this.colorRgb=Jr.Get(t,Ml.Color1),this.ambient=n;const r=tu(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);this.formatedDir=[e[0]/r,e[1]/r,e[2]/r]}computeColor(e,t){const n=this.formatedDir,r=xo(Jl((e[0]*n[0]+e[1]*n[1]+e[2]*n[2])*(1-this.ambient/2),0)+this.ambient,1);let s;s=ct(t)?Jr.Get(t,Ml.Color1):t;const a=this.colorRgb;return`rgb(${a[0]*s[0]*r}, ${a[1]*s[1]*r}, ${a[2]*s[2]*r})`}}function jdt(i,e,t,n){let r,s,a,o,l,u,c,d,h,p;const f=e[0],g=e[1],v=e[2],m=n[0],b=n[1],_=n[2],S=t[0],C=t[1],k=t[2];return Math.abs(f-S)<xn&&Math.abs(g-C)<xn&&Math.abs(v-k)<xn?QB.identity(i):(c=f-S,d=g-C,h=v-k,p=1/Math.hypot(c,d,h),c*=p,d*=p,h*=p,r=b*h-_*d,s=_*c-m*h,a=m*d-b*c,p=Math.hypot(r,s,a),p?(p=1/p,r*=p,s*=p,a*=p):(r=0,s=0,a=0),o=d*a-h*s,l=h*r-c*a,u=c*s-d*r,p=Math.hypot(o,l,u),p?(p=1/p,o*=p,l*=p,u*=p):(o=0,l=0,u=0),i[0]=r,i[1]=o,i[2]=c,i[3]=0,i[4]=s,i[5]=l,i[6]=d,i[7]=0,i[8]=a,i[9]=u,i[10]=h,i[11]=0,i[12]=-(r*f+s*g+a*v),i[13]=-(o*f+l*g+u*v),i[14]=-(c*f+d*g+h*v),i[15]=1,i)}function zdt(i,e,t,n,r,s,a){const o=1/(e-t),l=1/(n-r),u=1/(s-a);return i[0]=-2*o,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*l,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*u,i[11]=0,i[12]=(e+t)*o,i[13]=(r+n)*l,i[14]=(a+s)*u,i[15]=1,i}function xle(i,e,t){const n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],d=e[8],h=e[9],p=e[10],f=e[11],g=e[12],v=e[13],m=e[14],b=e[15];let _=t[0],S=t[1],C=t[2],k=t[3];return i[0]=_*n+S*o+C*d+k*g,i[1]=_*r+S*l+C*h+k*v,i[2]=_*s+S*u+C*p+k*m,i[3]=_*a+S*c+C*f+k*b,_=t[4],S=t[5],C=t[6],k=t[7],i[4]=_*n+S*o+C*d+k*g,i[5]=_*r+S*l+C*h+k*v,i[6]=_*s+S*u+C*p+k*m,i[7]=_*a+S*c+C*f+k*b,_=t[8],S=t[9],C=t[10],k=t[11],i[8]=_*n+S*o+C*d+k*g,i[9]=_*r+S*l+C*h+k*v,i[10]=_*s+S*u+C*p+k*m,i[11]=_*a+S*c+C*f+k*b,_=t[12],S=t[13],C=t[14],k=t[15],i[12]=_*n+S*o+C*d+k*g,i[13]=_*r+S*l+C*h+k*v,i[14]=_*s+S*u+C*p+k*m,i[15]=_*a+S*c+C*f+k*b,i}function Sc(i,e,t){const n=e[0],r=e[1],s=e[2];let a=t[3]*n+t[7]*r+t[11]*s+t[15];return a=a||1,i[0]=(t[0]*n+t[4]*r+t[8]*s+t[12])/a,i[1]=(t[1]*n+t[5]*r+t[9]*s+t[13])/a,i[2]=(t[2]*n+t[6]*r+t[10]*s+t[14])/a,i}class Hdt{set params(e){this._params=Object.assign({},e),this._projectionMatrixCached=this.forceGetProjectionMatrix(),this._viewMatrixCached=this.forceGetViewMatrix()}get params(){return Object.assign({},this._params)}constructor(e){this.params=e}getViewMatrix(){return this._viewMatrixCached||(this._viewMatrixCached=wr.allocate()),this._viewMatrixCached}forceGetViewMatrix(){this._viewMatrixCached||(this._viewMatrixCached=wr.allocate());const{pos:e,center:t,up:n}=this.params.viewParams;return jdt(this._viewMatrixCached,e,t,n),this._vp||(this._vp=wr.allocate()),this._vp=xle(this._vp,this.getProjectionMatrix(),this.getViewMatrix()),this._viewMatrixCached}getProjectionMatrix(){return this._projectionMatrixCached||(this._projectionMatrixCached=wr.allocate()),this._projectionMatrixCached}forceGetProjectionMatrix(){this._projectionMatrixCached||(this._projectionMatrixCached=wr.allocate());const{left:e,top:t,right:n,bottom:r}=this._params;return zdt(this._projectionMatrixCached,e,n,r,t,0,-2e6),this._vp||(this._vp=wr.allocate()),this._vp=xle(this._vp,this.getProjectionMatrix(),this.getViewMatrix()),this._projectionMatrixCached}getField(){const{fieldRatio:e=.8,fieldDepth:t,left:n,right:r}=this._params;return(t??r-n)*e}getProjectionScale(e){const t=this.getField();return t/(t+e)}view(e,t,n){const r=[0,0,0];return Sc(r,[e,t,n],this._viewMatrixCached),r}vp(e,t,n){const r=[0,0,0],{pos:s}=this._params.viewParams;Sc(r,[e,t,n],this._viewMatrixCached),e=r[0],t=r[1],n=r[2];const a=this.getProjectionScale(n);return{x:e*a+s[0],y:t*a+s[1]}}}let tS;function Vdt(){if(tS==null)try{const i=document.createElement("canvas"),e=i.getContext("2d");tS=!!(window&&i.getBoundingClientRect&&requestAnimationFrame&&window.devicePixelRatio&&e&&e.isPointInPath&&e.isPointInStroke),tS&&(tS=!!document.createElement)}catch{tS=!1}}function CX(){Vdt();const i=Ne.global&&Ne.global.env;return i?i==="browser":tS}class Wdt extends DCe{constructor(){super(...arguments),this.name="ReactAttributePlugin",this.activeEvent="onRegister",this._uid=Xs.GenAutoIncrementId(),this.key=this.name+this._uid,this.htmlMap={}}removeElement(e){if(!this.htmlMap||!this.htmlMap[e])return;const{root:t,wrapContainer:n}=this.htmlMap[e];t&&Ne.global.getRequestAnimationFrame()(()=>{t.unmount()}),n&&Ne.global.removeDom(n),this.htmlMap[e]=null}renderGraphicHTML(e){var t;const{react:n}=e.attribute;if(!n)return;const r=e.stage;if(!r)return;const s=r.params.ReactDOM,{element:a,container:o}=n;if(!(a&&s&&s.createRoot))return;const l=Y(n.id)?`${(t=e.id)!==null&&t!==void 0?t:e._uid}_react`:n.id;if(this.htmlMap&&this.htmlMap[l]&&o&&o!==this.htmlMap[l].container&&this.removeElement(l),this.htmlMap&&this.htmlMap[l])this.htmlMap[l].root.render(a);else{const{wrapContainer:d,nativeContainer:h}=this.getWrapContainer(r,o);if(d){const p=s.createRoot(d);p.render(a),this.htmlMap||(this.htmlMap={}),this.htmlMap[l]={root:p,wrapContainer:d,nativeContainer:h,container:o,renderId:this.renderId}}}if(!this.htmlMap||!this.htmlMap[l])return;const{wrapContainer:u,nativeContainer:c}=this.htmlMap[l];this.updateStyleOfWrapContainer(e,r,u,c,n),this.htmlMap[l].renderId=this.renderId}}const wle={WIDTH:500,HEIGHT:500,X:0,Y:0,BACKGROUND:"white"};class Udt extends Hw{set viewBox(e){this.window.setViewBox(e)}get viewBox(){return this.window.getViewBox()}get x(){return this.window.getViewBox().x1}set x(e){const t=this.window.getViewBox();t.translate(e-t.x1,0),this.window.setViewBox(t)}get y(){return this.window.getViewBox().y1}set y(e){const t=this.window.getViewBox();t.translate(0,e-t.y1),this.window.setViewBox(t)}get width(){return this.window.width}set width(e){this.resize(e,this.height)}get viewWidth(){return this.window.getViewBox().width()}set viewWidth(e){this.resizeView(e,this.viewHeight)}get viewHeight(){return this.window.getViewBox().height()}set viewHeight(e){this.resizeView(this.viewWidth,e)}get height(){return this.window.height}set height(e){this.resize(this.width,e)}get dpr(){return this.window.dpr}set dpr(e){this.setDpr(e)}get background(){var e;return(e=this._background)!==null&&e!==void 0?e:wle.BACKGROUND}set background(e){this._background=e}get defaultLayer(){return this.at(0)}get eventSystem(){return this._eventSystem}constructor(e={}){var t;super({}),this._onVisibleChange=n=>{if(!(this._skipRender<0))if(n){if(this.dirtyBounds){const r=this.window.getViewBox();this.dirtyBounds.setValue(r.x1,r.y1,r.width(),r.height())}this._skipRender>1&&this.renderNextFrame(),this._skipRender=0}else this._skipRender=1},this.beforeRender=n=>{this._beforeRender&&this._beforeRender(n)},this.afterRender=n=>{this.renderCount++,this._afterRender&&this._afterRender(n),this._afterNextRenderCbs&&this._afterNextRenderCbs.forEach(r=>r(n)),this._afterNextRenderCbs=null},this.params=e,this.theme=new ST,this.hooks={beforeRender:new Ec(["stage"]),afterRender:new Ec(["stage"])},this.global=Ne.global,!this.global.env&&CX()&&this.global.setEnv("browser"),this.window=gi.get(kD),this.renderService=gi.get(MCe),this.pluginService=gi.get(ICe),this.layerService=gi.get(uX),this.pluginService.active(this,e),this.window.create({width:e.width,height:e.height,viewBox:e.viewBox,container:e.container,dpr:e.dpr||this.global.devicePixelRatio,canvasControled:e.canvasControled!==!1,title:e.title||"",canvas:e.canvas}),this.state="normal",this.renderCount=0,this.tryInitEventSystem(),this._background=(t=e.background)!==null&&t!==void 0?t:wle.BACKGROUND,this.appendChild(this.layerService.createLayer(this,{main:!0})),this.nextFrameRenderLayerSet=new Set,this.willNextFrameRender=!1,this.stage=this,this.renderStyle=e.renderStyle,e.autoRender&&this.enableAutoRender(),e.disableDirtyBounds===!1&&this.enableDirtyBounds(),e.enableHtmlAttribute&&this.enableHtmlAttribute(e.enableHtmlAttribute),e.ReactDOM&&this.enableReactAttribute(e.ReactDOM),e.enableLayout&&this.enableLayout(),this.hooks.beforeRender.tap("constructor",this.beforeRender),this.hooks.afterRender.tap("constructor",this.afterRender),this._beforeRender=e.beforeRender,this._afterRender=e.afterRender,this.ticker=e.ticker||wX,this.supportInteractiveLayer=e.interactiveLayer!==!1,this.timeline=new Hwe,this.ticker.addTimeline(this.timeline),this.timeline.pause(),e.optimize||(e.optimize={}),this.optmize(e.optimize),e.background&&ct(this._background)&&this._background.includes("/")&&this.setAttributes({background:this._background})}pauseRender(){this._skipRender=-1}resumeRender(){this._skipRender=0}tryInitEventSystem(){this.global.supportEvent&&!this._eventSystem&&(this._eventSystem=new aot(Object.assign({targetElement:this.window,resolution:this.window.dpr||this.global.devicePixelRatio,rootNode:this,global:this.global,supportsPointerEvents:this.params.supportsPointerEvents,supportsTouchEvents:this.params.supportsTouchEvents},this.params.event)))}preventRender(e){e?this._skipRender=-1/0:this.params.optimize.skipRenderWithOutRange!==!1?this._skipRender=this.window.isVisible()?0:1:this._skipRender=0}optmize(e){this.optmizeRender(e.skipRenderWithOutRange),this.params.optimize=e}optmizeRender(e=!1){e&&(this._skipRender=this._skipRender<0?this._skipRender:this.window.isVisible()?0:1,this.window.onVisibleChange(this._onVisibleChange))}getTimeline(){return this.timeline}get3dOptions(e){const{center:t={x:this.width/2,y:this.height/2,z:0,dx:0,dy:0,dz:0},light:n={},alpha:r=0,beta:s=0,camera:a,fieldRatio:o=1,fieldDepth:l}=e;return Object.assign(Object.assign({},e),{center:t,light:n,alpha:r,beta:s,camera:a,fieldRatio:o,fieldDepth:l})}set3dOptions(e){var t,n,r,s,a,o;this.option3d=e;const l=this.get3dOptions(e),{light:u,center:c,camera:d,alpha:h,beta:p,fieldRatio:f,fieldDepth:g}=l,{dir:v=[1,1,-1],color:m="white",ambient:b}=u,_=((t=c.x)!==null&&t!==void 0?t:this.width/2)+((n=c.dx)!==null&&n!==void 0?n:0),S=((r=c.y)!==null&&r!==void 0?r:this.height/2)+((s=c.dy)!==null&&s!==void 0?s:0),C=[_,S,((a=c.z)!==null&&a!==void 0?a:0)+((o=c.dz)!==null&&o!==void 0?o:0)];let k=0,E=0,A=0;d||(k=Math.sin(h)+_,E=Math.sin(p)+S,A=Math.cos(h)*Math.cos(p)*1),this.light=new Ndt(v,m,b);const P={left:0,right:this.width,top:0,bottom:this.height,fieldRatio:f,fieldDepth:g,viewParams:{pos:[k,E,A],center:C,up:[0,1,0]}};this.camera?this.camera.params=P:this.camera=new Hdt(P),e.enableView3dTransform&&this.enableView3dTransform()}setBeforeRender(e){this._beforeRender=e}setAfterRender(e){this._afterRender=e}afterNextRender(e){this._afterNextRenderCbs||(this._afterNextRenderCbs=[]),this._afterNextRenderCbs.push(e)}enableView3dTransform(){this.view3dTranform||(this.view3dTranform=!0,this.pluginService.register(new Ldt))}disableView3dTranform(){this.view3dTranform&&(this.view3dTranform=!1,this.pluginService.findPluginsByName("ViewTransform3dPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableAutoRender(){this.autoRender||(this.autoRender=!0,this.pluginService.register(new Ddt))}disableAutoRender(){this.autoRender&&(this.autoRender=!1,this.pluginService.findPluginsByName("AutoRenderPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableIncrementalAutoRender(){this.increaseAutoRender||(this.increaseAutoRender=!0,this.pluginService.register(new Fdt))}disableIncrementalAutoRender(){this.increaseAutoRender&&(this.increaseAutoRender=!1,this.pluginService.findPluginsByName("IncrementalAutoRenderPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableDirtyBounds(){if(this.dirtyBounds)return;this.dirtyBounds=new Da;let e=this.pluginService.findPluginsByName("DirtyBoundsPlugin")[0];e?e.activate(this.pluginService):(e=new Bdt,this.pluginService.register(e))}disableDirtyBounds(){this.dirtyBounds&&(this.dirtyBounds=null,this.pluginService.findPluginsByName("DirtyBoundsPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableLayout(){this._enableLayout||(this._enableLayout=!0,this.pluginService.register(new $dt))}disableLayout(){this._enableLayout&&(this._enableLayout=!1,this.pluginService.findPluginsByName("FlexLayoutPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableHtmlAttribute(e){this.htmlAttribute||(this.htmlAttribute=e,this.pluginService.register(new DCe))}disableHtmlAttribute(){this.htmlAttribute&&(this.htmlAttribute=!1,this.pluginService.findPluginsByName("HtmlAttributePlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableReactAttribute(e){this.reactAttribute||(this.reactAttribute=e,this.pluginService.register(new Wdt))}disableReactAttribute(){this.reactAttribute&&(this.reactAttribute=!1,this.pluginService.findPluginsByName("ReactAttributePlugin").forEach(e=>{this.pluginService.unRegister(e)}))}getPluginsByName(e){return this.pluginService.findPluginsByName(e)}tryUpdateAABBBounds(){const e=this.window.getViewBox();return this._AABBBounds.setValue(e.x1,e.y1,e.x2,e.y2),this._AABBBounds}combineLayer(e,t){throw new Error("")}createLayer(e,t){const n=this.layerService.createLayer(this,{main:!1,layerMode:t,canvasId:e});return this.appendChild(n),n}sortLayer(e){const t=this.children;t.sort(e),this.removeAllChild(),t.forEach(n=>{this.appendChild(n)})}removeLayer(e){return this.removeChild(this.findChildByUid(e))}tryInitInteractiveLayer(){this.supportInteractiveLayer&&!this.interactiveLayer&&(this.interactiveLayer=this.createLayer(),this.interactiveLayer.name="_builtin_interactive",this.interactiveLayer.attribute.pickable=!1,this.nextFrameRenderLayerSet.add(this.interactiveLayer))}clearViewBox(e){this.window.clearViewBox(e)}render(e,t){this.ticker.start(),this.timeline.resume();const n=this.state;this.state="rendering",this.layerService.prepareStageLayer(this),this._skipRender||(this.lastRenderparams=t,this.hooks.beforeRender.call(this),this._skipRender||(this.renderLayerList(this.children),this.combineLayersToWindow(),this.nextFrameRenderLayerSet.clear()),this.hooks.afterRender.call(this)),this.state=n,this._skipRender&&this._skipRender++}combineLayersToWindow(){if(this.global.env==="harmony"){const e=this.window.getContext().nativeContext;this.forEachChildren((t,n)=>{if(n>0){const r=t.getNativeHandler().getContext().canvas.nativeCanvas.nativeCanvas._c.transferToImageBitmap();e.transferFromImageBitmap(r)}})}}renderNextFrame(e,t){this.nextFrameRenderLayerSet.size!==this.childrenCount&&(e||this).forEach(n=>{this.nextFrameRenderLayerSet.add(n)}),this.willNextFrameRender||(this.willNextFrameRender=!0,this.global.getRequestAnimationFrame()(()=>{this._doRenderInThisFrame(),this.willNextFrameRender=!1}))}_doRenderInThisFrame(){this.timeline.resume(),this.ticker.start();const e=this.state;this.state="rendering",this.layerService.prepareStageLayer(this),this.nextFrameRenderLayerSet.size&&!this._skipRender&&(this.hooks.beforeRender.call(this),this._skipRender||(this.renderLayerList(Array.from(this.nextFrameRenderLayerSet.values()),this.lastRenderparams||{}),this.combineLayersToWindow(),this.nextFrameRenderLayerSet.clear()),this.hooks.afterRender.call(this)),this.state=e,this._skipRender&&this._skipRender++}renderLayerList(e,t){const n=[];for(let r=0;r<e.length;r++){let s=e[r];s.layerMode==="virtual"&&(s=s.getNativeHandler().mainHandler.layer),n.includes(s)||n.push(s)}n.forEach(r=>{r.renderCount>this.renderCount||(r.renderCount=this.renderCount+1,r.render({renderService:this.renderService,background:r===this.defaultLayer?this.background:void 0,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty()),viewBox:this.window.getViewBox(),transMatrix:this.window.getViewBoxTransform()},Object.assign({renderStyle:this.renderStyle},t)))}),this.interactiveLayer&&!e.includes(this.interactiveLayer)&&this.interactiveLayer.render({renderService:this.renderService,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty()),viewBox:this.window.getViewBox(),transMatrix:this.window.getViewBoxTransform()},Object.assign({renderStyle:this.renderStyle},t))}resizeWindow(e,t,n=!0){this.window.resize(e,t),n&&this.render()}resize(e,t,n=!0){this.window.hasSubView()||this.viewBox.setValue(this.viewBox.x1,this.viewBox.y1,this.viewBox.x1+e,this.viewBox.y1+t),this.window.resize(e,t),this.forEachChildren(r=>{r.resize(e,t)}),this.camera&&this.option3d&&this.set3dOptions(this.option3d),n&&this.render()}resizeView(e,t,n=!0){this.viewBox.setValue(this.viewBox.x1,this.viewBox.y1,this.viewBox.x1+e,this.viewBox.y1+t),this.forEachChildren(r=>{r.resizeView(e,t)}),this.camera&&(this.camera.params=Object.assign(Object.assign({},this.camera.params),{right:this.width,bottom:this.height})),n&&this.render()}setViewBox(e,t,n,r,s){let a=!0;typeof e=="object"?(this.viewBox.setValue(e.x1,e.y1,e.x2,e.y2),t===!1&&(a=!1)):(this.viewBox.setValue(e,t,e+n,t+r),s===!1&&(a=!1)),this.forEachChildren(o=>{o.resizeView(this.viewBox.width(),this.viewBox.height())}),a&&this.render()}setDpr(e,t=!0){this.forEachChildren(n=>{n.setDpr(e)}),t&&this.render()}setOrigin(e,t){throw new Error("")}export(e){throw new Error("")}pick(e,t){this.pickerService||(this.pickerService=gi.get(rx));const n=this.pickerService.pick(this.children,new As(e,t),{bounds:this.AABBBounds});return!(!(n!=null&&n.graphic)&&!(n!=null&&n.group))&&n}startAnimate(e){throw new Error("")}setToFrame(e){throw new Error("")}release(){super.release(),this.hooks.beforeRender.unTap("constructor",this.beforeRender),this.hooks.afterRender.unTap("constructor",this.afterRender),this.eventSystem&&this.eventSystem.release(),this.layerService.releaseStage(this),this.pluginService.release(),this.forEach(e=>{e.release()}),this.interactiveLayer&&this.interactiveLayer.release(),this.window.release(),this.ticker.remTimeline(this.timeline),this.renderService.renderTreeRoots=[]}setStage(e){}dirty(e,t){t&&e.transformWithMatrix(t),this.dirtyBounds.empty()&&this.dirtyBounds.setValue(e.x1,e.y1,e.x2,e.y2),this.dirtyBounds.union(e)}getLayer(e){return this.children.filter(t=>t.name===e)[0]}renderTo(e){this.forEachChildren((t,n)=>{t.drawTo(e,{renderService:this.renderService,viewBox:e.getViewBox(),transMatrix:e.getViewBoxTransform(),background:t===this.defaultLayer?this.background:void 0,clear:n===0,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty())})})}renderToNewWindow(e=!0,t){const n=gi.get(kD),r=t?-t.x1:0,s=t?-t.y1:0,a=t?t.x2:this.viewWidth,o=t?t.y2:this.viewHeight,l=t?t.width():this.viewWidth,u=t?t.height():this.viewHeight;return n.create({viewBox:{x1:r,y1:s,x2:a,y2:o},width:l,height:u,dpr:this.window.dpr,canvasControled:!0,offscreen:!0,title:""}),this.renderTo(n),n}toCanvas(e=!0,t){const n=this.renderToNewWindow(e,t).getNativeHandler();return n.nativeCanvas?n.nativeCanvas:null}setCursor(e){this._cursor=e,this.eventSystem.setCursor(e,"ignore")}getCursor(){return this._cursor}eventPointTransform(e){const t=this.global.mapToCanvasPoint(e,this.window.getContext().canvas.nativeCanvas);return this.stage.window.pointTransform(t.x,t.y)}pauseTriggerEvent(){this._eventSystem&&this._eventSystem.pauseTriggerEvent()}resumeTriggerEvent(){this._eventSystem&&this._eventSystem.resumeTriggerEvent()}}function Gdt(i){return new Udt(i)}var Ydt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Kdt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};const M7={WIDTH:500,HEIGHT:500,DPR:1};let BE=class{get displayWidth(){return this._pixelWidth/this._dpr}get displayHeight(){return this._pixelHeight/this._dpr}get id(){return this._id}get x(){return this._x}set x(i){this._x=i}get y(){return this._y}set y(i){this._y=i}get nativeCanvas(){return this._nativeCanvas}get width(){return this._pixelWidth}set width(i){this._pixelWidth=i,this._displayWidth=i/(this._dpr||1)}get height(){return this._pixelHeight}set height(i){this._pixelHeight=i,this._displayHeight=i/(this._dpr||1)}getContext(i){return this._context}get visiable(){return this._visiable}set visiable(i){this._visiable=i,i?this.show():this.hide()}get dpr(){return this._dpr}set dpr(i){this._dpr=i,this.resize(this._displayWidth,this._displayHeight)}constructor(i){var e;const{nativeCanvas:t,width:n=M7.WIDTH,height:r=M7.HEIGHT,dpr:s=M7.DPR,x:a,y:o,id:l,canvasControled:u=!0}=i;this._x=a??0,this._y=o??0,this._pixelWidth=n*s,this._pixelHeight=r*s,this._visiable=i.visiable!==!1,this.controled=u,this._displayWidth=n,this._displayHeight=r,this._dpr=s,this._nativeCanvas=t,this._id=(e=t.id)!==null&&e!==void 0?e:l,l&&(t.id=l),this.init(i)}getNativeCanvas(){return this._nativeCanvas}hide(){}show(){}applyPosition(){}resetStyle(i){}resize(i,e){}toDataURL(i,e){return""}readPixels(i,e,t,n){return this._context.getImageData(i,e,t,n)}convertToBlob(i){throw new Error("")}transferToImageBitmap(){throw new Error("")}release(...i){this.controled&&this._nativeCanvas.parentElement&&this._nativeCanvas.parentElement.removeChild(this._nativeCanvas)}};BE.env="browser",BE=Ydt([Tt(),Kdt("design:paramtypes",[Object])],BE);var Xdt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let lL=class{configure(i,...e){i.env===this.type&&i.setActiveEnvContribution(this)}getNativeAABBBounds(i){return new zr}removeDom(i){return!1}createDom(i){return null}updateDom(i,e){return!1}getDynamicCanvasCount(){return 999}getStaticCanvasCount(){return 999}getElementById(i){return document.getElementById(i)}getRootElement(){return document.body}loadJson(i){const e=fetch(i).then(t=>t.json());return e.then(t=>({data:t,state:"success"})).catch(()=>({data:null,state:"fail"})),e}loadArrayBuffer(i){return fetch(i).then(e=>e.arrayBuffer()).then(e=>({data:e,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}loadBlob(i){return fetch(i).then(e=>e.blob()).then(e=>({data:e,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}getElementTop(i,e){return 0}getElementLeft(i,e){return 0}getElementTopLeft(i,e){return{top:0,left:0}}};lL=Xdt([Tt()],lL);var qdt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Zdt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let uL=class{constructor(){this._uid=Xs.GenAutoIncrementId(),this.viewBox=new zr,this.modelMatrix=new gs(1,0,0,1,0,0)}onChange(i){this._onChangeCb=i}configure(i,e){e.env===this.type&&i.setWindowHandler(this)}release(...i){this.releaseWindow()}isVisible(i){return!0}onVisibleChange(i){}getTopLeft(i){return{top:0,left:0}}setViewBox(i){this.viewBox.setValue(i.x1,i.y1,i.x2,i.y2)}getViewBox(){return this.viewBox}setViewBoxTransform(i,e,t,n,r,s){this.modelMatrix.setValue(i,e,t,n,r,s)}getViewBoxTransform(){return this.modelMatrix}};uL=qdt([Tt(),Zdt("design:paramtypes",[])],uL);var Qdt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Jdt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},Cle=function(i,e){return function(t,n){e(t,n,i)}};let N5=class{constructor(i){this.pickItemInterceptorContributions=i,this.type="default",this.global=Ne.global}_init(){this.InterceptorContributions=this.pickItemInterceptorContributions.getContributions().sort((i,e)=>i.order-e.order)}pick(i,e,t){let n={graphic:null,group:null};t.pickerService=this;const r=t.bounds.width(),s=t.bounds.height();if(!new zr().setValue(0,0,r,s).containsPoint(e))return n;this.pickContext&&(this.pickContext.inuse=!0),t.pickContext=this.pickContext,this.pickContext&&this.pickContext.clearMatrix(!0,1);const a=new gs(1,0,0,1,0,0);let o;for(let l=i.length-1;l>=0&&(n=i[l].isContainer?this.pickGroup(i[l],e,a,t):this.pickItem(i[l],e,a,t),!n.graphic);l--)o||(o=n.group);if(n.graphic||(n.group=o),this.pickContext&&(this.pickContext.inuse=!1),n.graphic){let l=n.graphic;for(;l.parent;)l=l.parent;l.shadowHost&&(n.params={shadowTarget:n.graphic},n.graphic=l.shadowHost)}return n}containsPoint(i,e,t){var n;return!!(!((n=this.pickItem(i,e,null,t??{pickContext:this.pickContext,pickerService:this}))===null||n===void 0)&&n.graphic)}pickGroup(i,e,t,n){let r={group:null,graphic:null};if(i.attribute.visibleAll===!1)return r;const s=n.pickContext,a=s.modelMatrix;if(s.camera){const p=i.transMatrix,f=wr.allocate();if(w5(f,p),a){if(f){const g=wr.allocate();s.modelMatrix=iP(g,a,f),wr.free(f)}}else w5(f,i.globalTransMatrix),s.modelMatrix=f}if(this.InterceptorContributions.length)for(let p=0;p<this.InterceptorContributions.length;p++){const f=this.InterceptorContributions[p];if(f.beforePickItem){const g=f.beforePickItem(i,this,e,n,{parentMatrix:t});if(g)return s.modelMatrix!==a&&wr.free(s.modelMatrix),s.modelMatrix=a,g}}const o=i.transMatrix,l=jd.allocateByObj(t),u=new As(e.x,e.y);l.transformPoint(u,u);const c=i.AABBBounds.containsPoint(u);if(!c&&!i.stage.camera)return r;const d=this.pickItem(i,u.clone(),t,n);d&&d.graphic&&(r.graphic=d.graphic,r.params=d.params);const h=i.attribute.pickable!==!1&&c;return l.multiply(o.a,o.b,o.c,o.d,o.e,o.f),i.attribute.childrenPickable===!1||d&&d.graphic||RCe(i,ms.zIndex,p=>{if(p.isContainer){const f=new As(e.x,e.y),g=qe(i).group,{scrollX:v=g.scrollX,scrollY:m=g.scrollY}=i.attribute;f.x-=v,f.y-=m,r=this.pickGroup(p,f,l,n)}else{const f=new As(e.x,e.y);l.transformPoint(f,f);const g=qe(i).group,{scrollX:v=g.scrollX,scrollY:m=g.scrollY}=i.attribute;f.x-=v,f.y-=m;const b=this.pickItem(p,f,t,n);b&&b.graphic&&(r.graphic=b.graphic,r.params=b.params)}return!!r.graphic||!!r.group},!0,!!s.camera),s.modelMatrix!==a&&wr.free(s.modelMatrix),s.modelMatrix=a,r.graphic||r.group||!h||i.stage.camera||(r.group=i),jd.free(l),r}selectPicker(i){return this.pickerMap.get(i.numberType)||null}};N5=Qdt([Tt(),Cle(0,Fi(Ca)),Cle(0,eo(PS)),Jdt("design:paramtypes",[Object])],N5);function eht(i,e){let t,n,r=i[0].x,s=i[0].y;const a=[i[0]];for(let o=1,l=i.length;o<l;o++)t=i[o].x-r,n=i[o].y-s,t*t+n*n>e&&(r=i[o].x,s=i[o].y,a.push(i[o]));return i[i.length-1].x===r&&i[i.length-1].y===s||a.push(i[i.length-1]),a}function j5(i,e,t,n,r){let s=n,a=e;const o=i[e].x,l=i[e].y,u=i[t].x-o,c=i[t].y-l,d=u*u+c*c;let h,p,f,g,v;for(let m=e+1,b=t-1;m<b;m++)g=i[m].x-o,v=i[m].y-l,h=g*c-u*v,p=h*h,f=p/d,f>s&&(s=f,a=m);s>n&&(a-e>2&&j5(i,e,a,n,r),r.push(i[a],i[a+1]),t-a>2&&j5(i,a,t,n,r))}function tht(i,e){const t=i.length-1,n=[i[0]];return j5(i,0,t,e,n),n.push(i[t]),n}function iht(i,e,t){if(i.length<=10)return i;const n=e!==void 0?e*e:1;return i=tht(i=eht(i,n),n)}let kle=!1;const nht=new mi(i=>{kle||(kle=!0,i(DD).toSelf().inSingletonScope(),i(zD).to(DD).inSingletonScope(),i(to).toService(zD),i(c5).toService(qd),zo(i,c5))});let Ele=!1;const rht=new mi(i=>{Ele||(Ele=!0,i($D).toSelf().inSingletonScope(),i(YD).to($D).inSingletonScope(),i(to).toService(YD),i(RD).toSelf(),i(ID).toSelf(),i(sE).toService(RD),i(sE).toService(ID),i(sE).toService(qd),zo(i,sE))});let Ale=!1;const sht=new mi(i=>{Ale||(Ale=!0,i(OT).toSelf().inSingletonScope(),i(sL).toSelf().inSingletonScope(),i(WD).to(OT).inSingletonScope(),i(to).toService(WD))});let Tle=!1;const aht=new mi(i=>{Tle||(Tle=!0,i(MT).toSelf().inSingletonScope(),i(HD).to(MT).inSingletonScope(),i(to).toService(HD),i(d5).toService(qd),zo(i,d5),i(aL).toSelf().inSingletonScope())});let Ple=!1;const oht=new mi(i=>{Ple||(Ple=!0,i(ND).toSelf().inSingletonScope(),i(KD).to(ND).inSingletonScope(),i(to).toService(KD),i(m5).toService(qd),zo(i,m5))});let Ole=!1;const lht=new mi(i=>{Ole||(Ole=!0,i(LD).toSelf().inSingletonScope(),i(VD).to(LD).inSingletonScope(),i(to).toService(VD),i(h5).toService(qd),zo(i,h5))});let Mle=!1;const uht=new mi(i=>{Mle||(Mle=!0,i(I5).to(A5).inSingletonScope(),i(to).toService(I5),i(v5).toService(qd),zo(i,v5))});let Ile=!1;const cht=new mi(i=>{Ile||(Ile=!0,i(BD).toSelf().inSingletonScope(),i(UD).to(BD).inSingletonScope(),i(to).toService(UD),i(f5).toService(qd),zo(i,f5))});let Rle=!1;const dht=new mi(i=>{Rle||(Rle=!0,i(GD).to(T5).inSingletonScope(),i(to).toService(GD),i(g5).toService(qd),zo(i,g5))});var hht=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let z5=class{constructor(){this.numberType=zB}drawShape(i,e,t,n,r,s,a,o){r.drawContribution&&i.getSubGraphic().forEach(l=>{const u=r.drawContribution.getRenderContribution(l);u&&u.drawShape&&u.drawShape(l,e,t,n,r,s,a,o)})}draw(i,e,t,n){const{context:r}=t;if(!r||(r.highPerformanceSave(),!t.drawContribution))return;const s=qe(i),a=i.getSubGraphic();a.length&&a.forEach(o=>{t.drawContribution.renderItem(o,t,{theme:s})}),r.highPerformanceRestore()}};z5=hht([Tt()],z5);let Dle=!1;const pht=new mi(i=>{Dle||(Dle=!0,i(XD).to(z5).inSingletonScope(),i(to).toService(XD))});var fht=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},ght=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let H5=class extends du{constructor(){super(),this.numberType=oX,this.builtinContributions=[TCe],this.init()}drawShape(i,e,t,n,r){const s=qe(i).richtext,{strokeOpacity:a=s.strokeOpacity,opacity:o=s.opacity,fillOpacity:l=s.fillOpacity,visible:u=s.visible}=i.attribute;if(!i.valid||!u)return;const c=j_(o,l,!0),d=j_(o,a,!0);c&&(e.translate(t,n),this.beforeRenderStep(i,e,t,n,c,d,c,d,s,r),i.getFrameCache().draw(e,this.drawIcon),this.afterRenderStep(i,e,t,n,c,d,c,d,s,r))}drawIcon(i,e,t,n,r){var s;const a=qe(i).richtextIcon,{width:o=a.width,height:l=a.height,opacity:u=a.opacity,image:c,backgroundFill:d=a.backgroundFill,backgroundFillOpacity:h=a.backgroundFillOpacity,backgroundStroke:p=a.backgroundStroke,backgroundStrokeOpacity:f=a.backgroundStrokeOpacity,backgroundRadius:g=a.backgroundRadius,margin:v}=i.attribute,{backgroundWidth:m=o,backgroundHeight:b=l}=i.attribute;if(v&&(t+=i._marginArray[3],n+=i._marginArray[0]),i._hovered){const S=(m-o)/2,C=(b-l)/2;g===0?(e.beginPath(),e.rect(t-S,n-C,m,b)):(e.beginPath(),g0(e,t-S,n-C,m,b,g)),d&&(e.globalAlpha=h,e.fillStyle=d,e.fill()),p&&(e.globalAlpha=f,e.strokeStyle=p,e.stroke())}const _=c&&((s=i==null?void 0:i.resources)===null||s===void 0?void 0:s.get(c));_&&_.state==="success"&&(e.globalAlpha=u,e.drawImage(_.data,t,n,o,l))}draw(i,e,t){const n=qe(i).richtext;this._draw(i,n,!1,t)}};H5=fht([Tt(),ght("design:paramtypes",[])],H5);let Lle=!1;const mht=new mi(i=>{Lle||(Lle=!0,i(R5).to(H5).inSingletonScope(),i(to).toService(R5))});let Fle=!1;const vht=new mi(i=>{Fle||(Fle=!0,i(fle).to(P5).inSingletonScope(),i(to).toService(fle),i(p5).toService(qd),zo(i,p5))});var yht=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let V5=class extends du{constructor(){super(...arguments),this.type="rect3d",this.numberType=aX}drawShape(i,e,t,n,r,s,a,o){var l;const u=qe(i,s==null?void 0:s.theme).rect,{fill:c=u.fill,stroke:d=u.stroke,x1:h,y1:p,x:f,y:g,opacity:v=u.opacity,fillOpacity:m=u.fillOpacity,lineWidth:b=u.lineWidth,strokeOpacity:_=u.strokeOpacity,visible:S=u.visible}=i.attribute;let{width:C,height:k}=i.attribute;C=(C??h-f)||0,k=(k??p-g)||0;const E=(l=this.z)!==null&&l!==void 0?l:0,A=cX(v,m,C,k,c),P=hX(v,_,C,k),O=mb(c),M=Vw(d,b);if(!i.valid||!S||!O&&!M||!(A||P||a||o))return;const{light:D,camera:L}=r.stage||{},H=i.findFace();if(c!==!1){e.setCommonStyle(i,i.attribute,t,n,u);let B=c;typeof B!="string"&&(B="black"),this.fill(t,n,E,H,B,e,D,a)}d!==!1&&(e.setStrokeStyle(i,i.attribute,t,n,u),this.stroke(t,n,E,H,e))}stroke(i,e,t,n,r){const s=n.vertices;n.edges.forEach(a=>{const o=s[a[0]],l={x:i+o[0],y:e+o[1],z:t+o[2]},u=s[a[1]],c={x:i+u[0],y:e+u[1],z:t+u[2]};r.beginPath(),r.moveTo(l.x,l.y,l.z),r.lineTo(c.x,c.y,c.z),r.stroke()})}fill(i,e,t,n,r,s,a,o){const l=Jr.Get(r,Ml.Color255),u=n.vertices,c=u.map(h=>s.view(h[0],h[1],h[2])[2]),d=[];n.polygons.forEach((h,p)=>{d.push({faceIdx:p,polygon:h});const{polygon:f,normal:g}=h,v=c[f[0]],m=c[f[1]],b=c[f[2]],_=c[f[3]];h.ave_z=v+m+b+_}),d.sort((h,p)=>p.polygon.ave_z-h.polygon.ave_z),d.forEach(h=>{const{polygon:p,normal:f}=h.polygon,g=u[p[0]],v=u[p[1]],m=u[p[2]],b=u[p[3]],_={x:i+g[0],y:e+g[1],z:t+g[2]},S={x:i+v[0],y:e+v[1],z:t+v[2]},C={x:i+m[0],y:e+m[1],z:t+m[2]},k={x:i+b[0],y:e+b[1],z:t+b[2]};s.beginPath(),s.moveTo(_.x,_.y,_.z),s.lineTo(S.x,S.y,S.z),s.lineTo(C.x,C.y,C.z),s.lineTo(k.x,k.y,k.z),s.closePath(),o?o(s,null,null):(s.fillStyle=a?a.computeColor(f,l):r,s.fill())})}draw(i,e,t){const n=qe(i).rect;this._draw(i,n,!1,t)}};V5=yht([Tt()],V5);let Ble=!1;const _ht=new mi(i=>{Ble||(Ble=!0,i(M5).to(V5).inSingletonScope(),i(to).toService(M5))});var bht=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};function Sht(i,e,t,n,r,s,a){const{startAngle:o,endAngle:l}=i.getParsedAngle(),u=dn(l-o),c=l>o;let d=!1;if(s<a){const h=s;s=a,a=h}if(s<=xn)e.moveTo(t,n,r);else if(u>=Vi-xn)e.moveTo(t+s*Yn(o),n+s*bn(o),r),e.arc(t,n,s,o,l,!c,r),a>xn&&(e.moveTo(t+a*Yn(l),n+a*bn(l),r),e.arc(t,n,a,l,o,c,r));else{const{outerDeltaAngle:h,innerDeltaAngle:p,outerStartAngle:f,outerEndAngle:g,innerEndAngle:v,innerStartAngle:m}=i.getParsePadAngle(o,l),b=s*Yn(f),_=s*bn(f),S=a*Yn(v),C=a*bn(v);h<.001?d=!0:(e.moveTo(t+b,n+_,r),e.arc(t,n,s,f,g,!c,r)),!(a>xn)||p<.001?(e.lineTo(t+S,n+C,r),d=!0):(e.lineTo(t+S,n+C,r),e.arc(t,n,a,v,m,c,r))}return e.closePath(),d}function xht(i,e,t,n,r,s,a,o){const{startAngle:l,endAngle:u}=i.getParsedAngle(),c=dn(u-l),d=u>l;let h=!1;if(a<=xn)e.moveTo(t,n,r);else if(c>=Vi-xn)e.moveTo(t+a*Yn(l),n+a*bn(l),r),e.arc(t,n,a,l,u,!d,r),e.lineTo(t+a*Yn(u),n+a*bn(u),s),e.arc(t,n,a,u,l,d,s);else{const{innerouterDeltaAngle:p,innerouterStartAngle:f,innerouterEndAngle:g}=o(l,u),v=a*Yn(f),m=a*bn(f),b=a*Yn(g),_=a*bn(g);p<.001?h=!0:(e.moveTo(t+v,n+m,r),e.arc(t,n,a,f,g,!d,r),e.lineTo(t+b,n+_,s),e.arc(t,n,a,g,f,d,s))}return e.closePath(),h}let W5=class extends du{constructor(){super(...arguments),this.numberType=J2}drawShape(i,e,t,n,r,s,a,o){var l;const u=qe(i,s==null?void 0:s.theme).arc,{fill:c=u.fill}=i.attribute,d=this.valid(i,u,a,o);if(!d)return;const{fVisible:h,sVisible:p,doFill:f,doStroke:g}=d,v=(l=this.z)!==null&&l!==void 0?l:0,{outerPadding:m=u.outerPadding,innerPadding:b=u.innerPadding,height:_=10}=i.attribute;let{outerRadius:S=u.outerRadius,innerRadius:C=u.innerRadius}=i.attribute;S+=m,C-=b;const k=Jr.Get(c,Ml.Color255),{light:E}=r.stage||{},A=r.hack_pieFace,P={top:v,bottom:v+_},O={top:[0,1,0],bottom:[0,-1,0],outside:[1,0,-1],inside:[1,0,-1]};A==="bottom"||A==="top"?(e.beginPath(),Sht(i,e,t,n,P[A],S,C),e.setShadowBlendStyle&&e.setShadowBlendStyle(i,i.attribute,u),f&&(a?a(e,i.attribute,u):h&&(e.setCommonStyle(i,i.attribute,t,n,u),e.fillStyle=E?E.computeColor(O[A],k):c,e.fill())),g&&(o?o(e,i.attribute,u):p&&(e.setStrokeStyle(i,i.attribute,t,n,u),e.stroke()))):A!=="outside"&&A!=="inside"||(A==="inside"&&(e.save(),e.beginPath(),e.arc(t,n,C,0,Vi,!0,P.top),e.clip()),e.beginPath(),xht(i,e,t,n,P.top,P.bottom,A==="outside"?S:C,(M,D)=>{const{outerDeltaAngle:L,innerDeltaAngle:H,outerStartAngle:B,outerEndAngle:F,innerEndAngle:z,innerStartAngle:N}=i.getParsePadAngle(M,D);return A==="outside"?{innerouterDeltaAngle:L,innerouterEndAngle:F,innerouterStartAngle:B}:{innerouterDeltaAngle:H,innerouterEndAngle:z,innerouterStartAngle:N}}),e.setShadowBlendStyle&&e.setShadowBlendStyle(i,i.attribute,u),f&&(a?a(e,i.attribute,u):h&&(e.setCommonStyle(i,i.attribute,t,n,u),e.fillStyle=E?E.computeColor(O[A],k):c,e.fill())),g&&(o?o(e,i.attribute,u):p&&(e.setStrokeStyle(i,i.attribute,t,n,u),e.stroke())),A==="inside"&&e.restore())}draw(i,e,t,n){const r=qe(i,n==null?void 0:n.theme).arc;this._draw(i,r,!1,t,n)}};W5=bht([Tt()],W5);let $le=!1;const wht=new mi(i=>{$le||($le=!0,i(O5).to(W5).inSingletonScope(),i(to).toService(O5))});var Cht=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let U5=class extends du{constructor(){super(...arguments),this.type="pyramid3d",this.numberType=sX}drawShape(i,e,t,n,r,s,a,o){var l;const u=qe(i,s==null?void 0:s.theme).polygon,{fill:c=u.fill,stroke:d=u.stroke,face:h=[!0,!0,!0,!0,!0,!0]}=i.attribute,p=(l=this.z)!==null&&l!==void 0?l:0;if(!this.valid(i,u,a,o))return;const{light:f,camera:g}=r.stage||{},v=i.findFace();if(c!==!1){e.setCommonStyle(i,i.attribute,t,n,u);let m=c;typeof m!="string"&&(m="black"),this.fill(t,n,p,v,h,m,e,f,g,i,u,a)}d!==!1&&(e.setStrokeStyle(i,i.attribute,t,n,u),this.stroke(t,n,p,v,e))}stroke(i,e,t,n,r){const s=n.vertices;n.edges.forEach(a=>{const o=s[a[0]],l=s[a[1]],u={x:i+o[0],y:e+o[1],z:t+o[2]},c={x:i+l[0],y:e+l[1],z:t+l[2]};r.beginPath(),r.moveTo(u.x,u.y,u.z),r.lineTo(c.x,c.y,c.z),r.stroke()})}fill(i,e,t,n,r,s,a,o,l,u,c,d){const h=Jr.Get(s,Ml.Color255),p=n.vertices,f=p.map(v=>a.view(v[0],v[1],v[2])[2]),g=[];n.polygons.forEach((v,m)=>{if(!r[m])return;g.push({faceIdx:m,polygon:v});const{polygon:b,normal:_}=v,S=f[b[0]],C=f[b[1]],k=f[b[2]],E=f[b[3]];v.ave_z=S+C+k+E}),g.sort((v,m)=>m.polygon.ave_z-v.polygon.ave_z),g.forEach(v=>{const{polygon:m,normal:b}=v.polygon,_=p[m[0]],S=p[m[1]],C=p[m[2]],k=p[m[3]],E={x:i+_[0],y:e+_[1],z:t+_[2]},A={x:i+S[0],y:e+S[1],z:t+S[2]},P={x:i+C[0],y:e+C[1],z:t+C[2]},O={x:i+k[0],y:e+k[1],z:t+k[2]};a.beginPath(),a.moveTo(E.x,E.y,E.z),a.lineTo(A.x,A.y,A.z),a.lineTo(P.x,P.y,P.z),a.lineTo(O.x,O.y,O.z),a.closePath(),d?d(a,u.attribute,c):(a.fillStyle=o?o.computeColor(b,h):s,a.fill())})}draw(i,e,t){const n=qe(i).polygon;this._draw(i,n,!1,t)}};U5=Cht([Tt()],U5);let Nle=!1;const kht=new mi(i=>{Nle||(Nle=!0,i(D5).to(U5).inSingletonScope(),i(to).toService(D5))});function Eht(){Ot.RegisterGraphicCreator("arc",_X)}function Aht(){Ot.RegisterGraphicCreator("arc3d",xCe)}function Tht(){Ot.RegisterGraphicCreator("area",SCe)}function Pht(){Ot.RegisterGraphicCreator("circle",hlt)}function Oht(){Ot.RegisterGraphicCreator("glyph",yCe)}function Mht(){Ot.RegisterGraphicCreator("group",lX)}function Iht(){Ot.RegisterGraphicCreator("image",yX)}function Rht(){Ot.RegisterGraphicCreator("line",gX)}function Dht(){Ot.RegisterGraphicCreator("path",bCe)}function Lht(){Ot.RegisterGraphicCreator("polygon",wCe)}function Fht(){Ot.RegisterGraphicCreator("pyramid3d",CCe)}function Bht(){Ot.RegisterGraphicCreator("rect",z_)}function $ht(){Ot.RegisterGraphicCreator("rect3d",vCe)}function Nht(){Ot.RegisterGraphicCreator("richtext",_Ce)}function jht(){Ot.RegisterGraphicCreator("symbol",KB)}function zht(){Ot.RegisterGraphicCreator("text",Ux)}function Hht(){Ot.RegisterGraphicCreator("shadowRoot",Eut)}const wf=(i,e)=>(Pe(cL.warnHandler)&&cL.warnHandler.call(null,i,e),Kn.getInstance().warn(`[VChart warn]: ${i}`)),H_=(i,e,t)=>{{if(!Pe(cL.errorHandler))throw new Error(i);cL.errorHandler.call(null,i,e)}},cL={silent:!1,warnHandler:!1,errorHandler:!1},LCe=CX(),xv=LCe&&globalThis?globalThis.document:void 0;function Dc(i){return(i==="desktop-browser"||i==="mobile-browser")&&LCe}function m0(i){return O0(i)||i==="mobile-browser"}function O0(i){return i.includes("miniApp")||i==="lynx"||i==="wx"}let I7=0;function yb(){return I7>=9999999&&(I7=0),I7++}function Kx(i){return i!=null&&i!==""&&(!!Xe(i)||+i==+i)}function Vht(i){if(Ce(i))return i;const e=+i;return Ce(e)?e:0}function MS(i){return!(!i||i.length===0)&&!Y(i[0])&&!Y(i[0].dataId)&&ke(i[0].fields)}const _b=(i,e,t)=>(i.fields=e||[],i.fname=t,i),Wht=i=>e=>bi(e,i),h_=i=>{Kn.getInstance().error(i)},Uht=i=>{const e=[],t=i.length;let n,r,s,a=null,o=0,l="";i+="";const u=()=>{e.push(l+i.substring(n,r)),l="",n=r+1};for(n=0,r=0;r<t;r+=1)if(s=i[r],s==="\\")l+=i.substring(n,r),l+=i.substring(++r,++r),n=r;else if(s===a)u(),a=null,o=-1;else{if(a)continue;n===o&&s==='"'||n===o&&s==="'"?(n=r+1,a=s):s!=="."||o?s==="["?(r>n&&u(),n=r+1,o=n):s==="]"&&(o||h_("Access path missing open bracket: "+i),o>0&&u(),o=0,n=r+1):r>n?u():n=r+1}return o&&h_("Access path missing closing bracket: "+i),a&&h_("Access path missing closing quote: "+i),r>n&&(r+=1,u()),e},jle=(i,e,t={})=>{if(Pe(i))return i;const n=Uht(i),r=n.length===1?n[0]:i;return _b((t&&t.get||Wht)(n),[r],r)},lp=(i,e,t={})=>{if(ke(i)){const n=i.map(r=>jle(r,e,t));return r=>n.map(s=>s(r))}return jle(i,e,t)};lp("id");const Ght=_b(function(i){return i},[],"identity"),Yht=_b(function(){return 0},[],"zero");_b(function(){return 1},[],"one");_b(function(){return!0},[],"true");_b(function(){return!1},[],"false");_b(function(){return{}},[],"emptyObject");const G5=(i,e)=>{const t=Pe(e)?e:s=>s;let n,r;if(i&&i.length){const s=i.length;for(let a=0;a<s;a+=1){let o=t(i[a]);Y(o)||!Xe(o=+o)||Number.isNaN(o)||(Y(n)?(n=o,r=o):(n=Math.min(n,o),r=Math.max(r,o)))}return[n,r]}return[n,r]},JB=(i,e,t,n=!0)=>{if(e===t)return!0;if(Y(e)||Y(t))return Y(e)&&Y(t);if(!kV(e)&&!kV(t))return e===t;const r=ke(e)?e:e[i],s=ke(t)?t:t[i];return r===s||n!==!1&&(ke(s)?!(!ke(r)||s.length!==r.length||!s.every((a,o)=>a===r[o])):!!yi(s)&&!(!yi(r)||Object.keys(s).length!==Object.keys(r).length||!Object.keys(s).every(a=>JB(a,s,r))))},Pc=(i,e)=>Y(i)?e:ct(i)?e*parseFloat(i)/100:i;function Kht(i,e,t,n){const r=n-i*i,s=Math.abs(r)<1e-24?0:(t-i*e)/r;return[e-s*i,s]}function FCe(i,e,t,n){let r,s,a=-1;i.forEach(o=>{r=e(o),s=t(o),!Y(r)&&(r=+r)>=r&&!Y(s)&&(s=+s)>=s&&n(r,s,++a)})}function Xht(i,e,t,n,r){let s=0,a=0;return FCe(i,e,t,(o,l)=>{const u=l-r(o),c=l-n;s+=u*u,a+=c*c}),1-s/a}function qht(i,e=n=>n.x,t=n=>n.y){let n=0,r=0,s=0,a=0,o=0;FCe(i,e,t,(c,d)=>{++o,n+=(c-n)/o,r+=(d-r)/o,s+=(c*d-s)/o,a+=(c*c-a)/o});const l=Kht(n,r,s,a),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:Xht(i,e,t,r,u)}}function $o(i){return i==="horizontal"}function zle(i){return i==="vertical"}const Hle=["x","y","dx","dy","scaleX","scaleY","angle","anchor","postMatrix","visible","clip","pickable","childrenPickable","zIndex","cursor"];class Ba extends Hw{constructor(e,t){super(e),t!=null&&t.mode&&(this.mode=t.mode,this.setMode(t.mode)),t!=null&&t.skipDefault&&(this.skipDefault=!0),this.setTheme({common:{strokeBoundsBuffer:0}}),this.attribute=e,this.onSetStage(()=>{this.render(),this.bindEvents()})}setAttribute(e,t,n){np(this.attribute[e])&&np(t)&&!Pe(this.attribute[e])&&!Pe(t)?Ie(this.attribute[e],t):this.attribute[e]=t,Hle.includes(e)||this.render(),this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!n&&!this.needUpdateTag(e)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.onAttributeUpdate()}setAttributes(e,t){const n=Object.keys(e);this._mergeAttributes(e,n),n.every(r=>Hle.includes(r))||this.render(),this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!t&&!this.needUpdateTags(n)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.onAttributeUpdate()}_mergeAttributes(e,t){Y(t)&&(t=Object.keys(e));for(let n=0;n<t.length;n++){const r=t[n];!np(this.attribute[r])||Pe(this.attribute[r])||Pe(e[r])?this.attribute[r]=e[r]:Ie(this.attribute[r],e[r])}}bindEvents(){}_getNodeId(e){var t;return`${(t=this.id)!==null&&t!==void 0?t:this._uid}-${this.name}-${e}`}_dispatchEvent(e,t){var n;const r=new FB(e,t);r.manager=(n=this.stage)===null||n===void 0?void 0:n.eventSystem.manager,this.dispatchEvent(r)}}const fm=Symbol.for("MathPickerContribution"),Vle=Symbol.for("MathArcPicker"),Wle=Symbol.for("MathAreaPicker"),Ule=Symbol.for("MathCirclePicker"),dL=Symbol.for("MathImagePicker"),Gle=Symbol.for("MathLinePicker"),Yle=Symbol.for("MathPathPicker"),Kle=Symbol.for("MathRectPicker"),Xle=Symbol.for("MathSymbolPicker"),qle=Symbol.for("MathTextPicker"),Zle=Symbol.for("MathPolygonPicker"),Qle=Symbol.for("MathGlyphPicker"),Jle=Symbol.for("CanvasArcPicker"),eue=Symbol.for("CanvasArc3dPicker"),tue=Symbol.for("CanvasAreaPicker"),iue=Symbol.for("CanvasCirclePicker"),nue=Symbol.for("CanvasImagePicker"),rue=Symbol.for("CanvasLinePicker"),sue=Symbol.for("CanvasPathPicker"),aue=Symbol.for("CanvasRectPicker"),oue=Symbol.for("CanvasRect3dPicker"),lue=Symbol.for("CanvasSymbolPicker"),uue=Symbol.for("CanvasTextPicker"),cue=Symbol.for("CanvasPolygonPicker"),due=Symbol.for("CanvasPyramid3dPicker"),hue=Symbol.for("CanvasRichTextPicker"),pue=Symbol.for("CanvasGlyphPicker"),fue=Symbol.for("CanvasGroupPicker"),ko=Symbol.for("CanvasPickerContribution");class Zht{constructor(e){this.onPointerDown=t=>{const n=t.target,r=this.rootNode,s=n===r;if(n&&!s){let l=function(c){if(o||(c.type="dragstart",n==null||n.dispatchEvent(c),o=!0),c.type="drag",n==null||n.dispatchEvent(c),!s){n.attribute.pickable=!1;const d=(r==null?void 0:r.pick(c.global.x,c.global.y)).graphic;n.attribute.pickable=!0,a!==d&&(a&&(c.type="dragleave",c.target=a,a.dispatchEvent(c)),d&&(c.type="dragenter",c.target=d,d.dispatchEvent(c)),a=d,a&&(c.type="dragover",c.target=a,a.dispatchEvent(c)))}},a,o=!1;r==null||r.addEventListener("pointermove",l);const u=function(){o&&(a&&(t.type="drop",t.target=a,a.dispatchEvent(t)),t.type="dragend",n.dispatchEvent(t),o=!1),r==null||r.removeEventListener("pointermove",l)};n.addEventListener("pointerup",u,{once:!0}),n.addEventListener("pointerupoutside",u,{once:!0})}},this.rootNode=e,this.initEvents()}initEvents(){var e;(e=this.rootNode)===null||e===void 0||e.addEventListener("pointerdown",this.onPointerDown)}removeEvents(){var e;(e=this.rootNode)===null||e===void 0||e.removeEventListener("pointerdown",this.onPointerDown)}release(){this.removeEvents(),this.rootNode=null}}const gue=(i,e)=>{const t=e.x-i.x,n=e.y-i.y;return Math.abs(t)>Math.abs(n)?t>0?"right":"left":n>0?"down":"up"},wI=(i,e)=>{const t=Math.abs(e.x-i.x),n=Math.abs(e.y-i.y);return Math.sqrt(t*t+n*n)},Qht=i=>{const e=i.length;if(e===1)return{x:Math.round(i[0].x),y:Math.round(i[0].y)};let t=0,n=0,r=0;for(;r<e;)t+=i[r].x,n+=i[r].y,r++;return{x:Math.round(t/e),y:Math.round(n/e)}};class Jht extends gb{constructor(e,t={}){var n,r,s,a,o,l,u,c,d,h;super(),this.cachedEvents=[],this.startPoints=[],this.processEvent={},this.throttleTimer=0,this.emitThrottles=[],this.lastTapTarget=null,this.onStart=p=>{this.reset(),this.startTime=Ky.now();const{cachedEvents:f,startPoints:g}=this;p&&f.push(p.clone()),g.length=f.length;for(let v=0;v<f.length;v++){const{x:m,y:b}=f[v],_={x:m,y:b};g[v]=_}if(g.length!==1)this.startDistance=wI(g[0],g[1]),this.center=Qht([g[0],g[1]]);else{const v=f[0];this.pressTimeout=setTimeout(()=>{v.direction="none",v.deltaX=0,v.deltaY=0,v.points=g,this.triggerStartEvent("press",v),this.triggerEvent("press",v),this.eventType="press",this.direction="none"},this.config.press.time)}},this.onMove=p=>{this.clearPressTimeout();const{startPoints:f,cachedEvents:g}=this;if(!f.length)return;const v=p.clone(),{x:m,y:b,pointerId:_}=v;for(let P=0,O=g.length;P<O;P++)if(_===g[P].pointerId){g[P]=v;break}const S={x:m,y:b},C=g.map(P=>({x:P.x,y:P.y})),k=Ky.now();if(this.prevMoveTime=this.lastMoveTime,this.prevMovePoint=this.lastMovePoint,this.lastMoveTime=k,this.lastMovePoint=S,f.length===1){const P=f[0],O=m-P.x,M=b-P.y,D=this.direction||gue(P,S);this.direction=D;const L=this.getEventType(S);return v.direction=D,v.deltaX=O,v.deltaY=M,v.points=C,this.triggerStartEvent(L,v),void this.triggerEvent(L,v)}const{startDistance:E}=this,A=wI(C[0],C[1]);v.scale=A/E,v.center=this.center,v.points=C,this.triggerStartEvent("pinch",v),this.triggerEvent("pinch",v)},this.onEnd=p=>{const f=p.clone(),{cachedEvents:g,startPoints:v}=this,m=g.map(b=>({x:b.x,y:b.y}));if(f.points=m,this.triggerEndEvent(f),g.length===1){const b=Ky.now(),_=this.lastMoveTime;if(b-_<100){const S=_-(this.prevMoveTime||this.startTime);if(S>0){const C=this.prevMovePoint||v[0],k=this.lastMovePoint||v[0],E=wI(C,k),A=E/S;A>this.config.swipe.velocity&&E>this.config.swipe.threshold&&(f.velocity=A,f.direction=gue(C,k),this.triggerEvent("swipe",f))}}b-this.lastTapTime<this.config.tap.interval&&p.target===this.lastTapTarget?this.tapCount++:this.tapCount=1,this.lastTapTime=b,this.lastTapTarget=p.target,this.tapCount===1?this.triggerEvent("tap",f):this.tapCount===2&&(this.triggerEvent("doubletap",f),this.tapCount=0)}for(let b=0,_=g.length;b<_;b++)if(g[b].pointerId===f.pointerId){g.splice(b,1),v.splice(b,1);break}this.reset(),g.length>0&&this.onStart()},this.element=e,this.tapCount=0,this.lastTapTime=0,this.config={press:{time:(r=(n=t==null?void 0:t.press)===null||n===void 0?void 0:n.time)!==null&&r!==void 0?r:251,threshold:(a=(s=t==null?void 0:t.press)===null||s===void 0?void 0:s.threshold)!==null&&a!==void 0?a:9},swipe:{threshold:(l=(o=t==null?void 0:t.swipe)===null||o===void 0?void 0:o.threshold)!==null&&l!==void 0?l:10,velocity:(c=(u=t==null?void 0:t.swipe)===null||u===void 0?void 0:u.velocity)!==null&&c!==void 0?c:.3},tap:{interval:(h=(d=t==null?void 0:t.tap)===null||d===void 0?void 0:d.interval)!==null&&h!==void 0?h:300}},this.initEvents()}initEvents(){const{element:e}=this;e&&(e.addEventListener("pointerdown",this.onStart),e.addEventListener("pointermove",this.onMove),e.addEventListener("pointerup",this.onEnd),e.addEventListener("pointerupoutside",this.onEnd))}removeEvents(){const{element:e}=this;e&&(e.removeEventListener("pointerdown",this.onStart),e.removeEventListener("pointermove",this.onMove),e.removeEventListener("pointerup",this.onEnd),e.removeEventListener("pointerupoutside",this.onEnd))}release(){this.removeEvents(),this.element=null}getEventType(e){const{eventType:t,startTime:n,startPoints:r}=this;if(t)return t;let s;return s=Ky.now()-n>this.config.press.time&&wI(r[0],e)<this.config.press.threshold?"press":"pan",this.eventType=s,s}enable(e){this.processEvent[e]=!0}isProcess(e){return this.processEvent[e]}pushEvent(e,t){const{emitThrottles:n}=this,r={type:e,ev:t};for(let s=0,a=n.length;s<a;s++)if(n[s].type===e)return void n.splice(s,1,r);n.push(r)}clearPressTimeout(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=null)}reset(){this.clearPressTimeout(),this.startTime=0,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoint=null,this.lastMoveTime=0,this.lastMovePoint=null}triggerEvent(e,t){this.pushEvent(e,t);const{throttleTimer:n,emitThrottles:r}=this;n||(this.throttleTimer=Ne.global.getRequestAnimationFrame()(()=>{for(let s=0,a=r.length;s<a;s++){const{type:o,ev:l}=r[s];this.emitEvent(o,l)}this.throttleTimer=0,this.emitThrottles.length=0}))}triggerStartEvent(e,t){this.isProcess(e)||(this.enable(e),this.triggerEvent(`${e}start`,t))}triggerEndEvent(e){const t=this.processEvent;Object.keys(t).forEach(n=>{this.triggerEvent(`${n}end`,e),n==="press"&&this.triggerEvent(`${n}up`,e),delete t[n]})}emitEvent(e,t){const n=this.element._events[zwe];if(n)if("fn"in n)n.fn.call(n.context,t,e);else for(let r=0,s=n.length;r<s&&!t.propagationImmediatelyStopped;r++)n[r].fn.call(n[r].context,t,e);this.emit(e,t)}}var ept=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},tpt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};const Gi=[0,0,0],ipt=(i,e,t,n,r,s,a,o)=>{if(o)for(;t>e;)t-=Vi;else for(;t<e;)t+=Vi;const l=Dn/3*(t>e?1:-1);let u=e,c=u;for(;c!==t;){c=l>0?Math.min(c+l,t):Math.max(c+l,t);const d=Math.abs(c-u),h=4*Math.tan(d/4)/3,p=c<u?-1:1,f=Math.cos(u),g=Math.sin(u),v=Math.cos(c),m=Math.sin(c),b=f*s+n,_=g*a+r,S=v*s+n,C=m*a+r,k=s*h*p,E=a*h*p;i.push([b-k*g,_+E*f,S+k*m,C-E*v,S,C]),u=c}};let sx=class{set fillStyle(i){this.nativeContext.fillStyle=i}get fillStyle(){return this.nativeContext.fillStyle}set font(i){this.nativeContext.font=i}get font(){return this.nativeContext.font}set globalAlpha(i){this.nativeContext.globalAlpha=i*this.baseGlobalAlpha}get globalAlpha(){return this.nativeContext.globalAlpha}set lineCap(i){this.nativeContext.lineCap=i}get lineCap(){return this.nativeContext.lineCap}set lineDashOffset(i){this.nativeContext.lineDashOffset=i}get lineDashOffset(){return this.nativeContext.lineDashOffset}set lineJoin(i){this.nativeContext.lineJoin=i}get lineJoin(){return this.nativeContext.lineJoin}set lineWidth(i){this.nativeContext.lineWidth=i}get lineWidth(){return this.nativeContext.lineWidth}set miterLimit(i){this.nativeContext.miterLimit=i}get miterLimit(){return this.nativeContext.miterLimit}set shadowBlur(i){this.nativeContext.shadowBlur=i}get shadowBlur(){return this.nativeContext.shadowBlur}set shadowColor(i){this.nativeContext.shadowColor=i}get shadowColor(){return this.nativeContext.shadowColor}set shadowOffsetX(i){this.nativeContext.shadowOffsetX=i}get shadowOffsetX(){return this.nativeContext.shadowOffsetX}set shadowOffsetY(i){this.nativeContext.shadowOffsetY=i}get shadowOffsetY(){return this.nativeContext.shadowOffsetY}set strokeStyle(i){this.nativeContext.strokeStyle=i}get strokeStyle(){return this.nativeContext.strokeStyle}set textAlign(i){this.nativeContext.textAlign=i}get textAlign(){return this.nativeContext.textAlign}set textBaseline(i){this.nativeContext.textBaseline=i}get textBaseline(){return this.nativeContext.textBaseline}get inuse(){return!!this._inuse}set inuse(i){i!==!!this._inuse&&(this._inuse=i,i?(this.nativeContext.save(),this.reset()):this.nativeContext.restore())}constructor(i,e){this.fillAttributes=Object.assign(Object.assign({},Iwe),{opacity:1}),this.strokeAttributes=Object.assign(Object.assign({},Rwe),{opacity:1}),this.textAttributes=Object.assign(Object.assign({},vf),{opacity:1}),this._clearShadowStyle=!1,this._clearFilterStyle=!1,this._clearGlobalCompositeOperationStyle=!1;const t=i.nativeCanvas.getContext("2d");if(!t)throw new Error("2d");this.nativeContext=t,this.canvas=i,this.matrix=new gs(1,0,0,1,0,0),this.stack=[],this.dpr=e,this.applyedMatrix=new gs(1,0,0,1,0,0),this._clearMatrix=new gs(1,0,0,1,0,0),this.baseGlobalAlpha=1}reset(){this.stack.length&&Kn.getInstance().warn("bugmatrix"),this.matrix.setValue(1,0,0,1,0,0),this.applyedMatrix=new gs(1,0,0,1,0,0),this.stack.length=0,this.nativeContext.setTransform(1,0,0,1,0,0)}getCanvas(){return this.canvas}getContext(){return this.nativeContext}setTransformForCurrent(i=!1){!i&&this.applyedMatrix.equalToMatrix(this.matrix)||(this.applyedMatrix.setValue(this.matrix.a,this.matrix.b,this.matrix.c,this.matrix.d,this.matrix.e,this.matrix.f),this.nativeContext.setTransform(this.matrix.a,this.matrix.b,this.matrix.c,this.matrix.d,this.matrix.e,this.matrix.f))}get currentMatrix(){return this.matrix}cloneMatrix(i){return jd.allocateByObj(i)}clear(){this.save(),this.resetTransform(),this.nativeContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.restore()}restore(){this.nativeContext.restore(),this.stack.length>0&&(jd.free(this.matrix),this.matrix=this.stack.pop(),this.setTransformForCurrent(!0))}highPerformanceRestore(){this.stack.length>0&&(jd.free(this.matrix),this.matrix=this.stack.pop())}rotate(i,e=!0){this.matrix.rotate(i),e&&this.setTransformForCurrent()}save(){const i=this.cloneMatrix(this.matrix);this.stack.push(i),this.nativeContext.save()}highPerformanceSave(){const i=this.cloneMatrix(this.matrix);this.stack.push(i)}scale(i,e,t=!0){this.matrix.scale(i,e),t&&this.setTransformForCurrent()}setScale(i,e,t=!0){this.matrix.setScale(i,e),t&&this.setTransformForCurrent()}scalePoint(i,e,t,n,r=!0){this.translate(t,n,!1),this.scale(i,e,!1),this.translate(-t,-n,!1),r&&this.setTransformForCurrent()}setTransform(i,e,t,n,r,s,a=!0,o=this.dpr){this.matrix.setValue(o*i,o*e,o*t,o*n,o*r,o*s),a&&this.setTransformForCurrent()}setTransformFromMatrix(i,e=!0,t=this.dpr){this.matrix.setValue(i.a*t,i.b*t,i.c*t,i.d*t,i.e*t,i.f*t),e&&this.setTransformForCurrent()}resetTransform(i=!0,e=this.dpr){this.setTransform(e,0,0,e,0,0),i&&this.setTransformForCurrent()}transform(i,e,t,n,r,s,a=!0){this.matrix.multiply(i,e,t,n,r,s),a&&this.setTransformForCurrent()}transformFromMatrix(i,e){this.matrix.multiply(i.a,i.b,i.c,i.d,i.e,i.f),e&&this.setTransformForCurrent()}translate(i,e,t=!0){this.matrix.translate(i,e),t&&this.setTransformForCurrent()}rotateDegrees(i,e=!0){const t=i*Math.PI/180;this.rotate(t,e)}rotateAbout(i,e,t,n=!0){this.translate(e,t,!1),this.rotate(i,!1),this.translate(-e,-t,!1),n&&this.setTransformForCurrent()}rotateDegreesAbout(i,e,t,n=!0){this.translate(e,t,!1),this.rotateDegrees(i,!1),this.translate(-e,-t,!1),n&&this.setTransformForCurrent()}beginPath(){this.disableBeginPath||this.nativeContext.beginPath()}clip(i,e){i?typeof i=="string"?this.nativeContext.clip(i):this.nativeContext.clip(i,e):this.nativeContext.clip()}arc(i,e,t,n,r,s,a){if(a=a||0,this.camera){const o=[];ipt(o,n,r,i,e,t,t,s);for(let l=0;l<o.length;++l){const u=o[l];this.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5],a)}}else this.nativeContext.arc(i,e,t,n,r,s)}arcTo(i,e,t,n,r){this.nativeContext.arcTo(i,e,t,n,r)}bezierCurveTo(i,e,t,n,r,s,a){if(a=a||0,this.camera){let o=a,l=a;this.modelMatrix&&(Sc(Gi,[i,e,a],this.modelMatrix),i=Gi[0],e=Gi[1],o=Gi[2],Sc(Gi,[t,n,a],this.modelMatrix),t=Gi[0],n=Gi[1],l=Gi[2],Sc(Gi,[r,s,a],this.modelMatrix),r=Gi[0],s=Gi[1],a=Gi[2]);let u=this.camera.vp(r,s,a);r=u.x,s=u.y,u=this.camera.vp(i,e,o),i=u.x,e=u.y,u=this.camera.vp(t,n,l),t=u.x,n=u.y}this.nativeContext.bezierCurveTo(i,e,t,n,r,s)}closePath(){this.nativeContext.closePath()}ellipse(i,e,t,n,r,s,a,o){o==null?this.nativeContext.ellipse(i,e,t,n,r,s,a):this.nativeContext.ellipse(i,e,t,n,r,s,a,o)}lineTo(i,e,t){if(t=t||0,this.camera){this.modelMatrix&&(Sc(Gi,[i,e,t],this.modelMatrix),i=Gi[0],e=Gi[1],t=Gi[2]);const n=this.camera.vp(i,e,t);i=n.x,e=n.y}this.nativeContext.lineTo(i,e)}moveTo(i,e,t){if(t=t||0,this.camera){this.modelMatrix&&(Sc(Gi,[i,e,t],this.modelMatrix),i=Gi[0],e=Gi[1],t=Gi[2]);const n=this.camera.vp(i,e,t);i=n.x,e=n.y}this.nativeContext.moveTo(i,e)}quadraticCurveTo(i,e,t,n,r){if(r=r||0,this.camera){let s=r;this.modelMatrix&&(Sc(Gi,[i,e,r],this.modelMatrix),i=Gi[0],e=Gi[1],s=Gi[2],Sc(Gi,[t,n,r],this.modelMatrix),t=Gi[0],n=Gi[1],r=Gi[2]);let a=this.camera.vp(t,n,r);t=a.x,n=a.y,a=this.camera.vp(i,e,s),i=a.x,e=a.y}this.nativeContext.quadraticCurveTo(i,e,t,n)}rect(i,e,t,n,r){r=r||0,this.camera?(this.moveTo(i,e,r),this.lineTo(i+t,e,r),this.lineTo(i+t,e+n,r),this.lineTo(i,e+n,r),this.closePath()):this.nativeContext.rect(i,e,t,n)}createImageData(){const i=arguments;return i.length===2?this.nativeContext.createImageData(i[0],i[1]):i.length===1?this.nativeContext.createImageData(i[0]):null}createLinearGradient(i,e,t,n){return this.nativeContext.createLinearGradient(i,e,t,n)}createPattern(i,e){return i.width===0||i.height===0?null:this.nativeContext.createPattern(i,e)}createRadialGradient(i,e,t,n,r,s){return this.nativeContext.createRadialGradient(i,e,t,n,r,s)}createConicGradient(i,e,t,n){let r,s=!1;const a=this;return{stops:[],addColorStop(o,l){this.stops.push([o,l]),s=!0},GetPattern(o,l,u){return s&&(u||(u=n-t),r=dlt(a,this.stops,i,e,u,t,n,o,l),s=!1),r}}}fill(i,e){this.disableFill||(i?this.nativeContext.fill(i):this.nativeContext.fill())}fillRect(i,e,t,n){this.nativeContext.fillRect(i,e,t,n)}clearRect(i,e,t,n){this.nativeContext.clearRect(i,e,t,n)}project(i,e,t){if(t=t||0,this.camera){this.modelMatrix&&(Sc(Gi,[i,e,t],this.modelMatrix),i=Gi[0],e=Gi[1],t=Gi[2]);const n=this.camera.vp(i,e,t);i=n.x,e=n.y}return{x:i,y:e}}view(i,e,t){return t=t||0,this.camera?(this.modelMatrix&&(Sc(Gi,[i,e,t],this.modelMatrix),i=Gi[0],e=Gi[1],t=Gi[2]),this.camera.view(i,e,t)):[i,e,t]}fillText(i,e,t,n){if(n=n||0,this.camera){this.modelMatrix&&(Sc(Gi,[e,t,n],this.modelMatrix),e=Gi[0],t=Gi[1],n=Gi[2]);const r=this.camera.vp(e,t,n);e=r.x,t=r.y}this.nativeContext.fillText(i,e,t)}getImageData(i,e,t,n){return this.nativeContext.getImageData(i,e,t,n)}getLineDash(){return this.nativeContext.getLineDash()}isPointInPath(i,e){return this.nativeContext.isPointInPath(i,e)}isPointInStroke(i,e){return this.nativeContext.isPointInStroke(i,e)}measureText(i,e=Ne.global.measureTextMethod){var t,n;if(!e||e==="native")return this.nativeContext.measureText(i);this.mathTextMeasure||(this.mathTextMeasure=Ne.graphicUtil.createTextMeasureInstance({},{},()=>this.canvas.nativeCanvas));const r=(t=this.fontFamily)!==null&&t!==void 0?t:vf.fontFamily,s=(n=this.fontSize)!==null&&n!==void 0?n:vf.fontSize;return this.mathTextMeasure.textSpec.fontFamily===r&&this.mathTextMeasure.textSpec.fontSize===s||(this.mathTextMeasure.textSpec.fontFamily=r,this.mathTextMeasure.textSpec.fontSize=s,this.mathTextMeasure._numberCharSize=null,this.mathTextMeasure._fullCharSize=null,this.mathTextMeasure._letterCharSize=null,this.mathTextMeasure._specialCharSizeMap={}),this.mathTextMeasure.measure(i,e)}putImageData(i,e,t){this.nativeContext.putImageData(i,e,t)}setLineDash(i){const e=arguments,t=this.nativeContext;this.nativeContext.setLineDash?e[0]&&t.setLineDash(e[0]):"mozDash"in t?t.mozDash=e[0]:"webkitLineDash"in t&&(t.webkitLineDash=e[0])}stroke(i){this.disableStroke||(i?this.nativeContext.stroke(i):this.nativeContext.stroke())}strokeRect(i,e,t,n){this.nativeContext.strokeRect(i,e,t,n)}strokeText(i,e,t,n){if(n=n||0,this.camera){this.modelMatrix&&(Sc(Gi,[e,t,n],this.modelMatrix),e=Gi[0],t=Gi[1],n=Gi[2]);const r=this.camera.vp(e,t,n);e=r.x,t=r.y}this.nativeContext.strokeText(i,e,t)}drawImage(){const i=this.nativeContext,e=arguments;e.length===3?i.drawImage(e[0],e[1],e[2]):e.length===5?i.drawImage(e[0],e[1],e[2],e[3],e[4]):e.length===9&&i.drawImage(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}setCommonStyle(i,e,t,n,r){if(Array.isArray(r)){if(r.length<=1)return this._setCommonStyle(i,e,t,n,r[0]);const s=Object.create(r[0]);return r.forEach((a,o)=>{o!==0&&Object.assign(s,a)}),this._setCommonStyle(i,e,t,n,s)}return this._setCommonStyle(i,e,t,n,r)}_setCommonStyle(i,e,t,n,r){const s=this.nativeContext;r||(r=this.fillAttributes);const{fillOpacity:a=r.fillOpacity,opacity:o=r.opacity,fill:l=r.fill}=e;a>1e-12&&o>1e-12?(s.globalAlpha=a*o*this.baseGlobalAlpha,s.fillStyle=k5(this,l,i,t,n)):s.globalAlpha=a*o*this.baseGlobalAlpha}setShadowBlendStyle(i,e,t){if(Array.isArray(t)){if(t.length<=1)return this._setShadowBlendStyle(i,t[0]);const n=Object.create(t[0]);return t.forEach((r,s)=>{s!==0&&Object.assign(n,r)}),this._setShadowBlendStyle(i,e,n)}return this._setShadowBlendStyle(i,e,t)}_setShadowBlendStyle(i,e,t){const n=this.nativeContext;t||(t=this.fillAttributes);const{opacity:r=t.opacity,shadowBlur:s=t.shadowBlur,shadowColor:a=t.shadowColor,shadowOffsetX:o=t.shadowOffsetX,shadowOffsetY:l=t.shadowOffsetY,blur:u=t.blur,globalCompositeOperation:c=t.globalCompositeOperation}=e;r<=1e-12||(s||o||l?(n.shadowBlur=s*this.dpr,n.shadowColor=a,n.shadowOffsetX=o*this.dpr,n.shadowOffsetY=l*this.dpr,this._clearShadowStyle=!0):this._clearShadowStyle&&(n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0),u?(n.filter=`blur(${u}px)`,this._clearFilterStyle=!0):this._clearFilterStyle&&(n.filter="blur(0px)",this._clearFilterStyle=!1),c?(n.globalCompositeOperation=c,this._clearGlobalCompositeOperationStyle=!0):this._clearGlobalCompositeOperationStyle&&(n.globalCompositeOperation="source-over",this._clearGlobalCompositeOperationStyle=!1))}setStrokeStyle(i,e,t,n,r){if(Array.isArray(r)){if(r.length<=1)return this._setStrokeStyle(i,e,t,n,r[0]);const s=Object.create(r[0]);return r.forEach((a,o)=>{o!==0&&Object.assign(s,a)}),this._setStrokeStyle(i,e,t,n,s)}return this._setStrokeStyle(i,e,t,n,r)}_setStrokeStyle(i,e,t,n,r){const s=this.nativeContext;r||(r=this.strokeAttributes);const{strokeOpacity:a=r.strokeOpacity,opacity:o=r.opacity}=e;if(a>1e-12&&o>1e-12){const{lineWidth:l=r.lineWidth,stroke:u=r.stroke,lineJoin:c=r.lineJoin,lineDash:d=r.lineDash,lineCap:h=r.lineCap,miterLimit:p=r.miterLimit}=e;s.globalAlpha=a*o*this.baseGlobalAlpha,s.lineWidth=Ko(this,l,this.dpr),s.strokeStyle=k5(this,u,i,t,n),s.lineJoin=c,d&&s.setLineDash(d),s.lineCap=h,s.miterLimit=p}}setTextStyleWithoutAlignBaseline(i,e,t){const n=this.nativeContext;e||(e=this.textAttributes);const{scaleIn3d:r=e.scaleIn3d}=i;i.font?n.font=i.font:n.font=y5(i,e,r&&this.camera&&this.camera.getProjectionScale(t));const{fontFamily:s=e.fontFamily,fontSize:a=e.fontSize}=i;this.fontFamily=s,this.fontSize=a,n.textAlign="left",n.textBaseline="alphabetic"}setTextStyle(i,e,t){var n,r;const s=this.nativeContext;e||(e=this.textAttributes),i.font?s.font=i.font:s.font=y5(i,e,this.camera&&this.camera.getProjectionScale(t));const{fontFamily:a=e.fontFamily,fontSize:o=e.fontSize}=i;this.fontFamily=a,this.fontSize=o,s.textAlign=(n=i.textAlign)!==null&&n!==void 0?n:e.textAlign,s.textBaseline=(r=i.textBaseline)!==null&&r!==void 0?r:e.textBaseline}draw(){}clearMatrix(i=!0,e=this.dpr){this.setTransformFromMatrix(this._clearMatrix,i,e)}setClearMatrix(i,e,t,n,r,s){this._clearMatrix.setValue(i,e,t,n,r,s)}onlyTranslate(i=this.dpr){return this.matrix.a===i&&this.matrix.b===0&&this.matrix.c===0&&this.matrix.d===i}release(...i){this.stack.forEach(e=>jd.free(e)),this.stack.length=0}};sx.env="browser",sx=ept([Tt(),tpt("design:paramtypes",[Object,Number])],sx);var npt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},rpt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let ax=class extends BE{constructor(i){super(i)}init(i){const{container:e}=i;if(typeof e=="string"){const t=Ne.global.getElementById(e);t&&(this._container=t)}else this._container=e;this._context=new sx(this,this._dpr),this.initStyle()}initStyle(){if(!this.controled)return;const{nativeCanvas:i}=this;i.width=this._pixelWidth,i.height=this._pixelHeight,!i.style||this.setCanvasStyle(i,this._x,this._y,this._displayWidth,this._displayHeight),this._container&&this._container.appendChild(i),this.visiable||this.hide()}hide(){this._nativeCanvas&&(this._nativeCanvas.style.display="none")}show(){this._nativeCanvas&&(this._nativeCanvas.style.display="block")}applyPosition(){const i=this._nativeCanvas;i.style.position="absolute",i.style.top=`${this._y}px`,i.style.left=`${this._x}px`}resetStyle(i){if(!this.controled)return;const{width:e=this._displayWidth,height:t=this._displayHeight,dpr:n=this._dpr,x:r=this._x,y:s=this._y}=i,{nativeCanvas:a}=this;a.width=e*n,a.height=t*n,!a.style||this.setCanvasStyle(a,r,s,e,t),i.id&&(a.id=i.id),this.visiable||this.hide()}setCanvasStyle(i,e,t,n,r){this.controled&&(i.style.width=`${n}px`,i.style.height=`${r}px`)}toDataURL(i,e){return i==="image/jpeg"?this._nativeCanvas.toDataURL(i,e):i==="image/png"?this._nativeCanvas.toDataURL(i):this._nativeCanvas.toDataURL(i,e)}resize(i,e){this.controled&&(this._pixelWidth=i*this._dpr,this._pixelHeight=e*this._dpr,this._displayWidth=i,this._displayHeight=e,this._nativeCanvas.style&&(this._nativeCanvas.style.width=`${i}px`,this._nativeCanvas.style.height=`${e}px`),this._nativeCanvas.width=this._pixelWidth,this._nativeCanvas.height=this._pixelHeight,this._context.dpr=this._dpr)}};ax.env="browser",ax=npt([Tt(),rpt("design:paramtypes",[Object])],ax);function BCe(i,e){return new mi(t=>{t(Bwe).toDynamicValue(()=>n=>new i(n)).whenTargetNamed(i.env),t(Xat).toDynamicValue(()=>(n,r)=>new e(n,r)).whenTargetNamed(e.env)})}const spt=BCe(ax,sx);var apt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},opt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},yk=function(i,e){return function(t,n){e(t,n,i)}};let IS=class extends N5{constructor(i,e,t){super(t),this.contributions=i,this.drawContribution=e,this.pickItemInterceptorContributions=t,this.global.hooks.onSetEnv.tap("canvas-picker-service",(n,r,s)=>{this.configure(s,r)}),this.configure(this.global,this.global.env),this.pickerMap=new Map,this.init()}init(){this.contributions.getContributions().forEach(i=>{this.pickerMap.set(i.numberType,i)}),super._init()}configure(i,e){this.pickCanvas=Wx.shareCanvas(),this.pickContext=this.pickCanvas.getContext("2d")}pickItem(i,e,t,n){if(i.attribute.pickable===!1)return null;if(this.InterceptorContributions.length)for(let l=0;l<this.InterceptorContributions.length;l++){const u=this.InterceptorContributions[l];if(u.beforePickItem){const c=u.beforePickItem(i,this,e,n,{parentMatrix:t});if(c)return c}}const r=this.pickerMap.get(i.numberType);if(!r)return null;const s=r.contains(i,e,n),a=s?i:null,o={graphic:a,params:s};if(a)return o;if(this.InterceptorContributions.length)for(let l=0;l<this.InterceptorContributions.length;l++){const u=this.InterceptorContributions[l];if(u.afterPickItem){const c=u.afterPickItem(i,this,e,n,{parentMatrix:t});if(c)return c}}return o}};IS=apt([Tt(),yk(0,Fi(Ca)),yk(0,eo(ko)),yk(1,Fi(SX)),yk(2,Fi(Ca)),yk(2,eo(PS)),opt("design:paramtypes",[Object,Object,Object])],IS);var lpt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let Y5=class{constructor(){this.type="group",this.numberType=rX}contains(i,e,t){return!1}};Y5=lpt([Tt()],Y5);const hL=new mi((i,e,t,n)=>{hL.__vloaded||(hL.__vloaded=!0,i(fue).to(Y5).inSingletonScope(),i(ko).toService(fue),zo(i,ko))});hL.__vloaded=!1;const upt=new mi((i,e,t,n)=>{t(IS)||i(IS).toSelf().inSingletonScope(),t(rx)?n(rx).toService(IS):i(rx).toService(IS)});function cpt(i){i.load(hL),i.load(upt)}var aE,dpt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},hpt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let dv=aE=class extends uL{get container(){return this.canvas.nativeCanvas.parentElement}static GenerateCanvasId(){return`${aE.idprefix}_${aE.prefix_count++}`}constructor(){super(),this.type="browser",this._canvasIsIntersecting=!0,this.global=Ne.global,this.viewBox=new zr,this.modelMatrix=new gs(1,0,0,1,0,0)}getTitle(){return this.canvas.id&&this.canvas.id.toString()}getWH(){return{width:this.canvas.width/(this.canvas.dpr||1),height:this.canvas.height/(this.canvas.dpr||1)}}getXY(){return this.canvas.nativeCanvas.getBoundingClientRect()}createWindow(i){i.canvas?this.createWindowByCanvas(i):this.createWindowByConfig(i),this.postInit()}postInit(){if(this.global.optimizeVisible)try{this.observerCanvas()}catch{console.error("IntersectionObserver")}}isElementVisible(i){const e=i.getBoundingClientRect(),t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight;return!(e.right<0||e.bottom<0||e.left>t||e.top>n)}observerCanvas(){this._canvasIsIntersecting=this.isElementVisible(this.canvas.nativeCanvas);const i=new IntersectionObserver((e,t)=>{e.forEach(n=>{this._canvasIsIntersecting!==n.isIntersecting?(this._canvasIsIntersecting=n.isIntersecting,this._onVisibleChangeCb&&this._onVisibleChangeCb(n.isIntersecting)):this._canvasIsIntersecting=n.isIntersecting})});i&&i.observe(this.canvas.nativeCanvas)}createWindowByConfig(i){const e=this.global.createCanvas({width:i.width,height:i.height});let t;if(t=typeof i.container=="string"?this.global.getElementById(i.container):i.container?i.container:this.global.getRootElement(),!t)throw new Error("containerId");i.offscreen?t=null:t.appendChild(e);const n={width:i.width,height:i.height,dpr:i.dpr,nativeCanvas:e,container:t,id:aE.GenerateCanvasId(),canvasControled:!0};this.canvas=new ax(n)}createWindowByCanvas(i){var e;let t;if(typeof i.canvas=="string"){if(t=this.global.getElementById(i.canvas),!t)throw new Error("canvasId canvasdom")}else t=i.canvas;if(!t)throw new Error("canvas");let n=i.width,r=i.height;if(n==null||r==null||!i.canvasControled){const a=t.getBoundingClientRect();n=a.width,r=a.height}let s=i.dpr;s==null&&(s=(e=t.getContext("2d").pixelRatio)!==null&&e!==void 0?e:t.width/n),this.canvas=new ax({width:n,height:r,dpr:s,nativeCanvas:t,canvasControled:i.canvasControled})}releaseWindow(){this.canvas.release()}resizeWindow(i,e){this.canvas.resize(i,e)}setDpr(i){this.canvas.dpr=i}getContext(){return this.canvas.getContext()}getNativeHandler(){return this.canvas}getDpr(){return this.canvas.dpr}addEventListener(i,e,t){return this.canvas.nativeCanvas.addEventListener(i,e,t)}removeEventListener(i,e,t){return this.canvas.nativeCanvas.removeEventListener(i,e,t)}dispatchEvent(i){return this.canvas.nativeCanvas.dispatchEvent(i)}getStyle(){var i;return(i=this.canvas.nativeCanvas.style)!==null&&i!==void 0?i:{}}setStyle(i){this.canvas.nativeCanvas.style=i}getBoundingClientRect(){const i=this.canvas.nativeCanvas,e=this.getWH();return i.parentElement?this.canvas.nativeCanvas.getBoundingClientRect():{x:0,y:0,width:e.width,height:e.height,left:0,top:0,right:0,bottom:0}}clearViewBox(i){const e=this.viewBox,t=this.getContext(),n=this.getDpr();t.nativeContext.save(),t.nativeContext.setTransform(n,0,0,n,0,0),t.clearRect(e.x1,e.y1,e.x2-e.x1,e.y2-e.y1),i&&(t.fillStyle=i,t.fillRect(e.x1,e.y1,e.x2-e.x1,e.y2-e.y1)),t.nativeContext.restore()}isVisible(i){return this._canvasIsIntersecting}onVisibleChange(i){this._onVisibleChangeCb=i}getTopLeft(i){return this.global.getElementTopLeft(this.canvas.nativeCanvas,i)}};dv.env="browser",dv.idprefix="visactor_window",dv.prefix_count=0,dv=aE=dpt([Tt(),hpt("design:paramtypes",[])],dv);const ppt=new mi(i=>{i(dv).toSelf(),i(JK).toDynamicValue(e=>e.container.get(dv)).whenTargetNamed(dv.env)});var fpt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},gpt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};class mpt{get x1(){return this.dom.getBoundingClientRect().left}get x2(){return this.dom.getBoundingClientRect().right}get y1(){return this.dom.getBoundingClientRect().top}get y2(){return this.dom.getBoundingClientRect().bottom}get width(){return this.dom.getBoundingClientRect().width}get height(){return this.dom.getBoundingClientRect().height}constructor(e){this.dom=e}}function mue(i,e=!1){const t=document.createElement("img");if(t.crossOrigin="anonymous",e){const n=new Blob([i],{type:"image/svg+xml"});i=window.URL.createObjectURL(n)}return t.src=i,t.complete?Promise.resolve(t):new Promise((n,r)=>{t.onload=()=>{n(t)},t.onerror=()=>{r(new Error(""))}})}let pL=class extends lL{constructor(){super(),this.type="browser",this.supportEvent=!0;try{this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.supportsMouseEvents=!!globalThis.MouseEvent}catch{this.supportsTouchEvents=!1,this.supportsPointerEvents=!1,this.supportsPointerEvents=!1}this.applyStyles=!0}mapToCanvasPoint(i,e){var t,n;let r=0,s=0,a=0,o=0;if(i.changedTouches){const l=(t=i.changedTouches[0])!==null&&t!==void 0?t:{};r=l.clientX||0,s=l.clientY||0,a=r,o=s}else r=i.clientX||0,s=i.clientY||0,a=i.offsetX||0,o=i.offsetY||0;if(e){const l=r,u=s,c=e.getBoundingClientRect(),d=(n=e.getNativeHandler)===null||n===void 0?void 0:n.call(e).nativeCanvas;let h,p;return d&&(h=c.width/d.offsetWidth,p=c.height/d.offsetHeight),{x:(l-c.left)/(Ce(h)?h:1),y:(u-c.top)/(Ce(p)?p:1)}}return{x:a,y:o}}getNativeAABBBounds(i){let e=i;if(typeof i=="string"&&(e=new DOMParser().parseFromString(i,"text/html").firstChild,e.lastChild&&(e=e.lastChild.firstChild)),e.getBoundingClientRect){const t=e.getBoundingClientRect();return new mpt(t)}return new zr}removeDom(i){return i.parentElement.removeChild(i),!0}updateDom(i,e){const{width:t,height:n,style:r}=e;return r&&(ct(r)?i.setAttribute("style",r):Object.keys(r).forEach(s=>{i.style[s]=r[s]})),t!=null&&(i.style.width=`${t}px`),n!=null&&(i.style.height=`${n}px`),!0}createDom(i){const{tagName:e="div",parent:t}=i,n=document.createElement(e);if(this.updateDom(n,i),t){const r=ct(t)?this.getElementById(t):t;r&&r.appendChild&&r.appendChild(n)}return n}loadImage(i){return mue(i,!1).then(e=>({data:e,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}loadSvg(i){return mue(i,!0).then(e=>({data:e,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}createCanvas(i){var e,t;const n=document.createElement("canvas");i.id&&(n.id=(e=i.id)!==null&&e!==void 0?e:Xs.GenAutoIncrementId().toString());const r=(t=i.dpr)!==null&&t!==void 0?t:window.devicePixelRatio;return i.width&&i.height&&(n.style.width=`${i.width}px`,n.style.height=`${i.height}px`,n.width=i.width*r,n.height=i.height*r),n}createOffscreenCanvas(i){var e;const t=(e=i.dpr)!==null&&e!==void 0?e:window.devicePixelRatio;return new OffscreenCanvas(i.width*t,i.height*t)}releaseCanvas(i){let e;e=typeof i=="string"?document.getElementById(i):i,e&&e.parentElement&&e.parentElement.removeChild(e)}getDevicePixelRatio(){return window.devicePixelRatio}getRequestAnimationFrame(){return window.requestAnimationFrame}getCancelAnimationFrame(){return window.cancelAnimationFrame}addEventListener(i,e,t){return document.addEventListener(i,e,t)}removeEventListener(i,e,t){return document.removeEventListener(i,e,t)}dispatchEvent(i){return document.dispatchEvent(i)}getElementById(i){return document.getElementById(i)}getRootElement(){return document.body}getDocument(){return document}release(...i){}getElementTop(i,e){let t=i.offsetTop,n=i.offsetParent;for(;n!==null;)t+=n.offsetTop,n=n.offsetParent;return t}getElementLeft(i,e){let t=i.offsetLeft,n=i.offsetParent;for(;n!==null;)t+=n.offsetLeft,n=n.offsetParent;return t}getElementTopLeft(i,e){let t=i.offsetTop,n=i.offsetLeft,r=i.offsetParent;for(;r!==null;)t+=r.offsetTop,n+=r.offsetLeft,r=r.offsetParent;return{top:t,left:n}}};pL=fpt([Tt(),gpt("design:paramtypes",[])],pL);const fL=new mi(i=>{fL.isBrowserBound||(fL.isBrowserBound=!0,i(pL).toSelf().inSingletonScope(),i(LB).toService(pL))});fL.isBrowserBound=!1;function gL(i,e=!0){gL.__loaded||(gL.__loaded=!0,i.load(fL),i.load(spt),i.load(ppt),e&&cpt(i))}gL.__loaded=!1;var vpt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},ypt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},_pt=function(i,e){return function(t,n){e(t,n,i)}};let K5=class{constructor(i){this.canvasRenderer=i,this.type="arc",this.numberType=NB}contains(i,e,t){if(!i.AABBBounds.containsPoint(e))return!1;if(i.attribute.pickMode==="imprecise")return!0;const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).arc;n.highPerformanceSave();let{x:s=r.x,y:a=r.y}=i.attribute;if(i.transMatrix.onlyTranslate()){const l=i.getOffsetXY(r);s+=l.x,a+=l.y,n.setTransformForCurrent()}else s=0,a=0,n.transformFromMatrix(i.transMatrix,!0);let o=!1;return this.canvasRenderer.drawShape(i,n,s,a,{},null,(l,u,c)=>!!o||(o=l.isPointInPath(e.x,e.y),o),(l,u,c)=>{if(o)return!0;const d=u.lineWidth||c.lineWidth,h=u.pickStrokeBuffer||c.pickStrokeBuffer;return n.lineWidth=d+h,o=l.isPointInStroke(e.x,e.y),o}),n.highPerformanceRestore(),o}};K5=vpt([Tt(),_pt(0,Fi(zD)),ypt("design:paramtypes",[Object])],K5);let vue=!1;const bpt=new mi((i,e,t,n)=>{vue||(vue=!0,i(Vle).to(K5).inSingletonScope(),i(fm).toService(Vle))});var Spt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},xpt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},wpt=function(i,e){return function(t,n){e(t,n,i)}};let X5=class{constructor(i){this.canvasRenderer=i,this.type="area",this.numberType=eP}contains(i,e,t){if(!i.AABBBounds.containsPoint(e))return!1;if(i.attribute.pickMode==="imprecise")return!0;const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).area;let{x:s=r.x,y:a=r.y}=i.attribute;if(n.highPerformanceSave(),i.transMatrix.onlyTranslate()){const l=i.getOffsetXY(r);s+=l.x,a+=l.y,n.setTransformForCurrent()}else s=0,a=0,n.transformFromMatrix(i.transMatrix,!0);let o=!1;return this.canvasRenderer.drawShape(i,n,s,a,{},null,l=>!!o||(o=l.isPointInPath(e.x,e.y),o)),n.highPerformanceRestore(),o}};X5=Spt([Tt(),wpt(0,Fi(HD)),xpt("design:paramtypes",[Object])],X5);let yue=!1;const Cpt=new mi((i,e,t,n)=>{yue||(yue=!0,i(Wle).to(X5).inSingletonScope(),i(fm).toService(Wle))});var kpt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Ept=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},Apt=function(i,e){return function(t,n){e(t,n,i)}};let q5=class{constructor(i){this.canvasRenderer=i,this.type="circle",this.numberType=jB}contains(i,e,t){if(!i.AABBBounds.containsPoint(e))return!1;if(i.attribute.pickMode==="imprecise")return!0;const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).circle;let{x:s=r.x,y:a=r.y}=i.attribute;if(n.highPerformanceSave(),i.transMatrix.onlyTranslate()){const l=i.getOffsetXY(r);s+=l.x,a+=l.y,n.setTransformForCurrent()}else s=0,a=0,n.transformFromMatrix(i.transMatrix,!0);let o=!1;return this.canvasRenderer.drawShape(i,n,s,a,{},null,(l,u,c)=>!!o||(o=l.isPointInPath(e.x,e.y),o),(l,u,c)=>{if(o)return!0;const d=u.lineWidth||c.lineWidth,h=u.pickStrokeBuffer||c.pickStrokeBuffer;return n.lineWidth=d+h,o=l.isPointInStroke(e.x,e.y),o}),n.highPerformanceRestore(),o}};q5=kpt([Tt(),Apt(0,Fi(VD)),Ept("design:paramtypes",[Object])],q5);let _ue=!1;const Tpt=new mi((i,e,t,n)=>{_ue||(_ue=!0,i(Ule).to(q5).inSingletonScope(),i(fm).toService(Ule))});var Ppt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Opt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},Mpt=function(i,e){return function(t,n){e(t,n,i)}};let mL=class{constructor(i){this.canvasRenderer=i,this.type="glyph",this.numberType=zB}contains(i,e,t){if(!i.AABBBounds.containsPoint(e))return!1;if(i.attribute.pickMode==="imprecise")return!0;const{pickContext:n}=t??{};if(!n)return!1;const r=t==null?void 0:t.pickerService;if(r){let s=!1;return i.getSubGraphic().forEach(a=>{s||(s=!!r.pickItem(a,e,null,t))}),s}return!1}};mL=Ppt([Tt(),Mpt(0,Fi(XD)),Opt("design:paramtypes",[Object])],mL);let bue=!1;const Ipt=new mi((i,e,t,n)=>{bue||(bue=!0,i(Qle).to(mL).inSingletonScope(),i(mL).toService(Qle))});var Rpt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let Xx=class{constructor(){this.type="image",this.numberType=HB}contains(i,e,t){const{pickContext:n}=t??{};return!!n&&!!i.AABBBounds.containsPoint(e)}};Xx=Rpt([Tt()],Xx);let Sue=!1;const Dpt=new mi((i,e,t,n)=>{Sue||(Sue=!0,i(dL).to(Xx).inSingletonScope(),i(Xx).toService(dL))});var Lpt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Fpt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},Bpt=function(i,e){return function(t,n){e(t,n,i)}};let Z5=class{constructor(i){this.canvasRenderer=i,this.type="line",this.numberType=tP}contains(i,e,t){if(!i.AABBBounds.containsPoint(e))return!1;if(i.attribute.pickMode==="imprecise")return!0;const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).line;let{x:s=r.x,y:a=r.y}=i.attribute;if(n.highPerformanceSave(),i.transMatrix.onlyTranslate()){const l=i.getOffsetXY(r);s+=l.x,a+=l.y,n.setTransformForCurrent()}else s=0,a=0,n.transformFromMatrix(i.transMatrix,!0);let o=!1;return this.canvasRenderer.drawShape(i,n,s,a,{},null,l=>!!o||(o=l.isPointInPath(e.x,e.y),o),(l,u,c)=>{if(o)return!0;const d=u.lineWidth||c.lineWidth,h=u.pickStrokeBuffer||c.pickStrokeBuffer;return n.lineWidth=d+h,o=l.isPointInStroke(e.x,e.y),o}),n.highPerformanceRestore(),o}};Z5=Lpt([Tt(),Bpt(0,Fi(WD)),Fpt("design:paramtypes",[Object])],Z5);let xue=!1;const $pt=new mi((i,e,t,n)=>{xue||(xue=!0,i(Gle).to(Z5).inSingletonScope(),i(fm).toService(Gle))});var Npt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},jpt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},zpt=function(i,e){return function(t,n){e(t,n,i)}};let Q5=class{constructor(i){this.canvasRenderer=i,this.type="polygon",this.numberType=WB}contains(i,e,t){if(!i.AABBBounds.contains(e.x,e.y))return!1;const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).polygon;let{x:s=r.x,y:a=r.y}=i.attribute;if(n.highPerformanceSave(),i.transMatrix.onlyTranslate()){const l=i.getOffsetXY(r);s+=l.x,a+=l.y,n.setTransformForCurrent()}else s=0,a=0,n.transformFromMatrix(i.transMatrix,!0);let o=!1;return this.canvasRenderer.drawShape(i,n,s,a,{},null,(l,u,c)=>!!o||(o=l.isPointInPath(e.x,e.y),o),(l,u,c)=>{if(o)return!0;const d=u.lineWidth||c.lineWidth,h=u.pickStrokeBuffer||c.pickStrokeBuffer;return n.lineWidth=d+h,o=l.isPointInStroke(e.x,e.y),o}),n.highPerformanceRestore(),o}};Q5=Npt([Tt(),zpt(0,Fi(GD)),jpt("design:paramtypes",[Object])],Q5);let wue=!1;const Hpt=new mi((i,e,t,n)=>{wue||(wue=!0,i(Zle).to(Q5).inSingletonScope(),i(fm).toService(Zle))});var Vpt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Wpt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},Upt=function(i,e){return function(t,n){e(t,n,i)}};let J5=class{constructor(i){this.canvasRenderer=i,this.type="path",this.numberType=VB}contains(i,e,t){if(!i.AABBBounds.containsPoint(e))return!1;if(i.attribute.pickMode==="imprecise")return!0;const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).path;let{x:s=r.x,y:a=r.y}=i.attribute;if(n.highPerformanceSave(),i.transMatrix.onlyTranslate()){const l=i.getOffsetXY(r);s+=l.x,a+=l.y,n.setTransformForCurrent()}else s=0,a=0,n.transformFromMatrix(i.transMatrix,!0);let o=!1;return this.canvasRenderer.drawShape(i,n,s,a,{},null,(l,u,c)=>!!o||(o=l.isPointInPath(e.x,e.y),o),(l,u,c)=>{if(o)return!0;const d=u.lineWidth||c.lineWidth,h=u.pickStrokeBuffer||c.pickStrokeBuffer;return n.lineWidth=d+h,o=l.isPointInStroke(e.x,e.y),o}),n.highPerformanceRestore(),o}};J5=Vpt([Tt(),Upt(0,Fi(UD)),Wpt("design:paramtypes",[Object])],J5);let Cue=!1;const Gpt=new mi((i,e,t,n)=>{Cue||(Cue=!0,i(Yle).to(J5).inSingletonScope(),i(fm).toService(Yle))});var Ypt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Kpt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},Xpt=function(i,e){return function(t,n){e(t,n,i)}};const R7=new zr;let eW=class{constructor(i){this.canvasRenderer=i,this.type="rect",this.numberType=UB}contains(i,e,t){if(!i.AABBBounds.containsPoint(e))return!1;if(i.attribute.pickMode==="imprecise")return!0;const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).rect,{cornerRadius:s=r.cornerRadius}=i.attribute;let{x:a=r.x,y:o=r.y}=i.attribute;n.highPerformanceSave();let l=!0;if(i.transMatrix.onlyTranslate()){const c=i.getOffsetXY(r);a+=c.x,o+=c.y,n.setTransformForCurrent()}else a=0,o=0,l=!1,n.transformFromMatrix(i.transMatrix,!0);let u=!0;if(!l||Xe(s,!0)&&s!==0||ke(s)&&s.some(c=>c!==0))u=!1,this.canvasRenderer.drawShape(i,n,a,o,{},null,(c,d,h)=>!!u||(u=c.isPointInPath(e.x,e.y),u),(c,d,h)=>{if(u)return!0;const p=d.lineWidth||h.lineWidth,f=d.pickStrokeBuffer||h.pickStrokeBuffer;return n.lineWidth=p+f,u=c.isPointInStroke(e.x,e.y),u});else if(u){const{fill:c=r.fill,stroke:d=r.stroke,lineWidth:h=r.lineWidth}=i.attribute;if(c)u=!0;else if(d){const p=i.AABBBounds;R7.setValue(p.x1,p.y1,p.x2,p.y2),R7.expand(-h/2),u=!R7.containsPoint(e)}}return n.highPerformanceRestore(),u}};eW=Ypt([Tt(),Xpt(0,Fi(YD)),Kpt("design:paramtypes",[Object])],eW);let kue=!1;const qpt=new mi((i,e,t,n)=>{kue||(kue=!0,i(Kle).to(eW).inSingletonScope(),i(fm).toService(Kle))});let Eue=!1;const Zpt=new mi((i,e,t,n)=>{Eue||(Eue=!0,i(dL).to(Xx).inSingletonScope(),i(Xx).toService(dL))});var Qpt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Jpt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},eft=function(i,e){return function(t,n){e(t,n,i)}};let tW=class{constructor(i){this.canvasRenderer=i,this.type="symbol",this.numberType=GB}contains(i,e,t){if(!i.AABBBounds.containsPoint(e))return!1;if(i.attribute.pickMode==="imprecise")return!0;const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).symbol;let{x:s=r.x,y:a=r.y}=i.attribute;if(n.highPerformanceSave(),i.transMatrix.onlyTranslate()){const l=i.getOffsetXY(r);s+=l.x,a+=l.y,n.setTransformForCurrent()}else s=0,a=0,n.transformFromMatrix(i.transMatrix,!0);let o=!1;return this.canvasRenderer.drawShape(i,n,s,a,{},null,(l,u,c)=>!!o||(o=l.isPointInPath(e.x,e.y),o),(l,u,c)=>{if(o)return!0;const d=u.lineWidth||c.lineWidth,h=u.pickStrokeBuffer||c.pickStrokeBuffer;return n.lineWidth=d+h,o=l.isPointInStroke(e.x,e.y),o}),n.highPerformanceRestore(),o}};tW=Qpt([Tt(),eft(0,Fi(KD)),Jpt("design:paramtypes",[Object])],tW);let Aue=!1;const tft=new mi((i,e,t,n)=>{Aue||(Aue=!0,i(Xle).to(tW).inSingletonScope(),i(fm).toService(Xle))});var ift=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let iW=class{constructor(){this.type="text",this.numberType=YB}contains(i,e,t){return!!i.AABBBounds.containsPoint(e)}};iW=ift([Tt()],iW);let Tue=!1;const nft=new mi((i,e,t,n)=>{Tue||(Tue=!0,i(qle).to(iW).inSingletonScope(),i(fm).toService(qle))});var rft=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},sft=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let $E=class extends sx{constructor(i,e){super(i,e);const t=i.nativeCanvas.getContext("2d");if(!t)throw new Error("2d");this.nativeContext=t,this.canvas=i,this.matrix=new gs(1,0,0,1,0,0),this.stack=[],this.dpr=e??1}release(...i){}};$E.env="node",$E=rft([Tt(),sft("design:paramtypes",[Object,Number])],$E);var aft=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},oft=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)};let ox=class extends BE{constructor(i){super(i)}init(){this._context=new $E(this,this._dpr),this.nativeCanvas.width=this._pixelWidth,this.nativeCanvas.height=this._pixelHeight}release(...i){this._nativeCanvas.release&&Pe(this._nativeCanvas.release)&&this._nativeCanvas.release()}};ox.env="node",ox=aft([Tt(),oft("design:paramtypes",[Object])],ox);const lft=BCe(ox,$E);var uft=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},cft=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},dft=function(i,e){return function(t,n){e(t,n,i)}};let lx=class extends uL{get container(){return null}constructor(i){super(),this.global=i,this.type="node"}getTitle(){return""}getWH(){return{width:this.canvas.displayWidth,height:this.canvas.displayHeight}}getXY(){return{x:0,y:0}}createWindow(i){i.canvas?this.createWindowByCanvas(i):this.createWindowByConfig(i)}createWindowByConfig(i){const e=this.global.createCanvas({width:i.width,height:i.height}),t={width:i.width,height:i.height,dpr:i.dpr,nativeCanvas:e,id:Xs.GenAutoIncrementId().toString(),canvasControled:!0};this.canvas=new ox(t)}createWindowByCanvas(i){const e=i.canvas;let t=i.width,n=i.height;t!=null&&n!=null&&i.canvasControled||(t=e.width,n=e.height),this.canvas=new ox({width:t,height:n,dpr:1,nativeCanvas:e,canvasControled:i.canvasControled})}releaseWindow(){this.canvas.release()}resizeWindow(i,e){this.canvas.resize(i,e)}setDpr(i){this.canvas.dpr=i}getContext(){return this.canvas.getContext()}getNativeHandler(){return this.canvas}getDpr(){return this.canvas.dpr}getImageBuffer(i="image/png"){return this.canvas.nativeCanvas.toBuffer(i)}addEventListener(i,e,t){}dispatchEvent(i){return!0}removeEventListener(i,e,t){}getStyle(){}setStyle(i){}getBoundingClientRect(){return null}clearViewBox(i){}};lx.env="node",lx=uft([Tt(),dft(0,Fi(qK)),cft("design:paramtypes",[Object])],lx);const hft=new mi(i=>{i(lx).toSelf(),i(JK).toDynamicValue(e=>e.container.get(lx)).whenTargetNamed(lx.env)});var pft=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let vL=class extends lL{constructor(){super(...arguments),this.type="node",this._lastTime=0,this.supportEvent=!1}configure(i,e){i.env===this.type&&(i.setActiveEnvContribution(this),this.pkg=e)}getDynamicCanvasCount(){return 0}getStaticCanvasCount(){return 999}loadJson(i){const e=fetch(i).then(t=>t.json());return e.then(t=>({data:t,state:"success"})).catch(()=>({data:null,state:"fail"})),e}loadArrayBuffer(i){return fetch(i).then(e=>e.arrayBuffer()).then(e=>({data:e,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}loadImage(i){const{loadImage:e}=this.pkg;return e?e(i).then(t=>({loadState:t?"success":"fail",data:t})).catch(()=>({loadState:"fail",data:null})):Promise.reject(new Error("node-canvas loadImage could not be found!"))}loadSvg(i){const e=this.pkg.Resvg;if(!e)return Promise.reject(new Error("@resvg/resvg-js svgParser could not be found!"));const t=new e(i).render().asPng();return this.loadImage(t)}createCanvas(i){return this.pkg.createCanvas(i.width,i.height)}releaseCanvas(i){}getDevicePixelRatio(){return 1}getRequestAnimationFrame(){return function(i){return aoe.call(i)}}getCancelAnimationFrame(){return i=>{aoe.clear(i)}}addEventListener(i,e,t){}removeEventListener(i,e,t){}getElementById(i){return null}getRootElement(){return null}dispatchEvent(i){}release(...i){}createOffscreenCanvas(i){}};vL=pft([Tt()],vL);const yL=new mi(i=>{yL.isNodeBound||(yL.isNodeBound=!0,i(vL).toSelf().inSingletonScope(),i(LB).toService(vL))});yL.isNodeBound=!1;function _L(i,e=!0){_L.__loaded||(_L.__loaded=!0,i.load(yL),i.load(lft),i.load(hft))}_L.__loaded=!1;var fft=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},gft=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},mft=function(i,e){return function(t,n){e(t,n,i)}};let nW=class{constructor(i){this.canvasRenderer=i,this.type="arc",this.numberType=NB}contains(i,e,t){if(!i.AABBBounds.containsPoint(e))return!1;if(i.attribute.pickMode==="imprecise")return!0;const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).arc;n.highPerformanceSave();let{x:s=r.x,y:a=r.y}=i.attribute;if(i.transMatrix.onlyTranslate()){const l=i.getOffsetXY(r);s+=l.x,a+=l.y,n.setTransformForCurrent()}else s=0,a=0,n.transformFromMatrix(i.transMatrix,!0);let o=!1;return this.canvasRenderer.drawShape(i,n,s,a,{},null,(l,u,c)=>!!o||(o=l.isPointInPath(e.x,e.y),o),(l,u,c)=>{if(o)return!0;const d=u.lineWidth||c.lineWidth,h=u.pickStrokeBuffer||c.pickStrokeBuffer;return n.lineWidth=Ko(n,d+h,n.dpr),o=l.isPointInStroke(e.x,e.y),o}),n.highPerformanceRestore(),o}};nW=fft([Tt(),mft(0,Fi(zD)),gft("design:paramtypes",[Object])],nW);let Pue=!1;const vft=new mi((i,e,t,n)=>{Pue||(Pue=!0,i(Jle).to(nW).inSingletonScope(),i(ko).toService(Jle))});var yft=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},_ft=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},bft=function(i,e){return function(t,n){e(t,n,i)}};const D7=new zr;let rW=class{constructor(i){this.canvasRenderer=i,this.type="rect",this.numberType=UB}contains(i,e,t){if(!i.AABBBounds.containsPoint(e))return!1;if(i.attribute.pickMode==="imprecise")return!0;const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).rect,{cornerRadius:s=r.cornerRadius}=i.attribute;let{x:a=r.x,y:o=r.y}=i.attribute;n.highPerformanceSave();let l=!0;if(i.transMatrix.onlyTranslate()){const c=i.getOffsetXY(r);a+=c.x,o+=c.y,n.setTransformForCurrent()}else a=0,o=0,l=!1,n.transformFromMatrix(i.transMatrix,!0);let u=!0;if(!l||i.shadowRoot||Xe(s,!0)&&s!==0||ke(s)&&s.some(c=>c!==0))u=!1,this.canvasRenderer.drawShape(i,n,a,o,{},null,(c,d,h)=>!!u||(u=c.isPointInPath(e.x,e.y),u),(c,d,h)=>{if(u)return!0;const p=d.lineWidth||h.lineWidth,f=d.pickStrokeBuffer||h.pickStrokeBuffer;return n.lineWidth=Ko(n,p+f,n.dpr),u=c.isPointInStroke(e.x,e.y),u});else{const{fill:c=r.fill,stroke:d=r.stroke,lineWidth:h=r.lineWidth}=i.attribute;if(c)u=!0;else if(d){const p=i.AABBBounds;D7.setValue(p.x1,p.y1,p.x2,p.y2),D7.expand(-h/2),u=!D7.containsPoint(e)}}return n.highPerformanceRestore(),u}};rW=yft([Tt(),bft(0,Fi(YD)),_ft("design:paramtypes",[Object])],rW);let Oue=!1;const Sft=new mi((i,e,t,n)=>{Oue||(Oue=!0,i(aue).to(rW).inSingletonScope(),i(ko).toService(aue))});var xft=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let qg=class extends du{};qg=xft([Tt()],qg);var wft=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Cft=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},kft=function(i,e){return function(t,n){e(t,n,i)}};let sW=class extends qg{constructor(i){super(),this.canvasRenderer=i,this.type="line",this.numberType=tP}contains(i,e,t){if(!i.AABBBounds.containsPoint(e))return!1;if(i.attribute.pickMode==="imprecise")return!0;const{pickContext:n}=t??{};if(!n)return!1;n.highPerformanceSave();const r=qe(i).line,s=this.transform(i,r,n),{x:a,y:o,z:l,lastModelMatrix:u}=s;let c=e;if(n.camera){c=e.clone();const h=i.parent.globalTransMatrix;c.x=h.a*e.x+h.c*e.y+h.e,c.y=h.b*e.x+h.d*e.y+h.f}this.canvasRenderer.z=l;let d=!1;return this.canvasRenderer.drawShape(i,n,a,o,{},null,h=>!!d||(d=h.isPointInPath(c.x,c.y),d),(h,p,f)=>{if(d)return!0;const g=p.lineWidth||f.lineWidth,v=p.pickStrokeBuffer||f.pickStrokeBuffer;return n.lineWidth=Ko(n,g+v,n.dpr),d=h.isPointInStroke(c.x,c.y),d}),this.canvasRenderer.z=0,n.modelMatrix!==u&&wr.free(n.modelMatrix),n.modelMatrix=u,n.highPerformanceRestore(),d}};sW=wft([Tt(),kft(0,Fi(WD)),Cft("design:paramtypes",[Object])],sW);let Mue=!1;const Eft=new mi((i,e,t,n)=>{Mue||(Mue=!0,i(rue).to(sW).inSingletonScope(),i(ko).toService(rue))});var Aft=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Tft=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},Pft=function(i,e){return function(t,n){e(t,n,i)}};let aW=class{constructor(i){this.canvasRenderer=i,this.type="area",this.numberType=eP}contains(i,e,t){if(!i.AABBBounds.containsPoint(e))return!1;if(i.attribute.pickMode==="imprecise")return!0;const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).area;let{x:s=r.x,y:a=r.y}=i.attribute;const{fillPickable:o=r.fillPickable,strokePickable:l=r.strokePickable}=i.attribute;if(n.highPerformanceSave(),i.transMatrix.onlyTranslate()){const c=i.getOffsetXY(r);s+=c.x,a+=c.y,n.setTransformForCurrent()}else s=0,a=0,n.transformFromMatrix(i.transMatrix,!0);let u=!1;return this.canvasRenderer.drawShape(i,n,s,a,{},null,c=>!!u||!!o&&(u=c.isPointInPath(e.x,e.y),u),(c,d,h)=>{if(u)return!0;if(!l)return!1;const p=d.lineWidth||h.lineWidth,f=d.pickStrokeBuffer||h.pickStrokeBuffer;return n.lineWidth=Ko(n,p+f,n.dpr),u=c.isPointInStroke(e.x,e.y),u}),n.highPerformanceRestore(),u}};aW=Aft([Tt(),Pft(0,Fi(HD)),Tft("design:paramtypes",[Object])],aW);let Iue=!1;const Oft=new mi((i,e,t,n)=>{Iue||(Iue=!0,i(tue).to(aW).inSingletonScope(),i(ko).toService(tue))});var Mft=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Ift=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},Rft=function(i,e){return function(t,n){e(t,n,i)}};let oW=class extends qg{constructor(i){super(),this.canvasRenderer=i,this.type="symbol",this.numberType=GB}contains(i,e,t){const{pickContext:n}=t??{};if(!n)return!1;const r=i.getParsedPath();if(!n.camera){if(!i.AABBBounds.containsPoint(e))return!1;if(r.isSvg||i.attribute.pickMode==="imprecise")return!0}n.highPerformanceSave();const s=qe(i).symbol,a=this.transform(i,s,n),{x:o,y:l,z:u,lastModelMatrix:c}=a;let d=e;if(n.camera){d=e.clone();const p=i.parent.globalTransMatrix;d.x=p.a*e.x+p.c*e.y+p.e,d.y=p.b*e.x+p.d*e.y+p.f}this.canvasRenderer.z=u;let h=!1;return this.canvasRenderer.drawShape(i,n,o,l,{},null,(p,f,g)=>!!h||(h=p.isPointInPath(d.x,d.y),h),(p,f,g)=>{if(h)return!0;const v=f.lineWidth||g.lineWidth,m=f.pickStrokeBuffer||g.pickStrokeBuffer;return n.lineWidth=Ko(n,v+m,n.dpr),h=p.isPointInStroke(d.x,d.y),h}),this.canvasRenderer.z=0,n.modelMatrix!==c&&wr.free(n.modelMatrix),n.modelMatrix=c,n.highPerformanceRestore(),h}};oW=Mft([Tt(),Rft(0,Fi(KD)),Ift("design:paramtypes",[Object])],oW);let Rue=!1;const Dft=new mi((i,e,t,n)=>{Rue||(Rue=!0,i(lue).to(oW).inSingletonScope(),i(ko).toService(lue))});var Lft=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Fft=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},Bft=function(i,e){return function(t,n){e(t,n,i)}};let lW=class{constructor(i){this.canvasRenderer=i,this.type="circle",this.numberType=jB}contains(i,e,t){if(!i.AABBBounds.containsPoint(e))return!1;if(i.attribute.pickMode==="imprecise")return!0;const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).circle;let{x:s=r.x,y:a=r.y}=i.attribute;if(n.highPerformanceSave(),i.transMatrix.onlyTranslate()){const l=i.getOffsetXY(r);s+=l.x,a+=l.y,n.setTransformForCurrent()}else s=0,a=0,n.transformFromMatrix(i.transMatrix,!0);let o=!1;return this.canvasRenderer.drawShape(i,n,s,a,{},null,(l,u,c)=>!!o||(o=l.isPointInPath(e.x,e.y),o),(l,u,c)=>{if(o)return!0;const d=u.lineWidth||c.lineWidth,h=u.pickStrokeBuffer||c.pickStrokeBuffer;return n.lineWidth=Ko(n,d+h,n.dpr),o=l.isPointInStroke(e.x,e.y),o}),n.highPerformanceRestore(),o}};lW=Lft([Tt(),Bft(0,Fi(VD)),Fft("design:paramtypes",[Object])],lW);let Due=!1;const $ft=new mi((i,e,t,n)=>{Due||(Due=!0,i(iue).to(lW).inSingletonScope(),i(ko).toService(iue))});var Nft=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},jft=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},zft=function(i,e){return function(t,n){e(t,n,i)}};let uW=class extends qg{constructor(i){super(),this.canvasRenderer=i,this.type="text",this.numberType=YB}contains(i,e,t){const{pickContext:n}=t??{};if(!n)return!1;const r=i.AABBBounds;if(!n.camera)return!!r.containsPoint(e);n.highPerformanceSave();const s=qe(i).text,{keepDirIn3d:a=s.keepDirIn3d}=i.attribute,o=!a,l=this.transform(i,s,n,o),{x:u,y:c,z:d,lastModelMatrix:h}=l;this.canvasRenderer.z=d;let p=e;if(n.camera){p=e.clone();const g=i.parent.globalTransMatrix;p.x=g.a*e.x+g.c*e.y+g.e,p.y=g.b*e.x+g.d*e.y+g.f}let f=!1;return this.canvasRenderer.drawShape(i,n,u,c,{},null,(g,v,m)=>{if(f)return!0;const{fontSize:b=s.fontSize,textBaseline:_=s.textBaseline,textAlign:S=s.textAlign}=i.attribute,C=i.AABBBounds,k=C.height(),E=C.width(),A=Up(_,k,b),P=Sg(S,E);return g.rect(P+u,A+c,E,k,d),f=g.isPointInPath(p.x,p.y),f},(g,v,m)=>f),this.canvasRenderer.z=0,n.modelMatrix!==h&&wr.free(n.modelMatrix),n.modelMatrix=h,n.highPerformanceRestore(),f}};uW=Nft([Tt(),zft(0,Fi(I5)),jft("design:paramtypes",[Object])],uW);let Lue=!1;const Hft=new mi((i,e,t,n)=>{Lue||(Lue=!0,i(uue).to(uW).inSingletonScope(),i(ko).toService(uue))});var Vft=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Wft=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},Uft=function(i,e){return function(t,n){e(t,n,i)}};let cW=class extends qg{constructor(i){super(),this.canvasRenderer=i,this.type="path",this.numberType=VB}contains(i,e,t){if(!i.AABBBounds.containsPoint(e))return!1;if(i.attribute.pickMode==="imprecise")return!0;const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).path;n.highPerformanceSave();const s=this.transform(i,r,n),{x:a,y:o,z:l,lastModelMatrix:u}=s;let c=e;if(n.camera){c=e.clone();const h=i.parent.globalTransMatrix;c.x=h.a*e.x+h.c*e.y+h.e,c.y=h.b*e.x+h.d*e.y+h.f}this.canvasRenderer.z=l;let d=!1;return this.canvasRenderer.drawShape(i,n,a,o,{},null,(h,p,f)=>!!d||(d=h.isPointInPath(c.x,c.y),d),(h,p,f)=>{if(d)return!0;const g=p.lineWidth||f.lineWidth,v=p.pickStrokeBuffer||f.pickStrokeBuffer;return n.lineWidth=Ko(n,g+v,n.dpr),d=h.isPointInStroke(c.x,c.y),d}),this.canvasRenderer.z=0,n.modelMatrix!==u&&wr.free(n.modelMatrix),n.modelMatrix=u,n.highPerformanceRestore(),d}};cW=Vft([Tt(),Uft(0,Fi(UD)),Wft("design:paramtypes",[Object])],cW);let Fue=!1;const Gft=new mi((i,e,t,n)=>{Fue||(Fue=!0,i(sue).to(cW).inSingletonScope(),i(ko).toService(sue))});var Yft=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Kft=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},Xft=function(i,e){return function(t,n){e(t,n,i)}};let dW=class{constructor(i){this.canvasRenderer=i,this.type="polygon",this.numberType=WB}contains(i,e,t){if(!i.AABBBounds.contains(e.x,e.y))return!1;if(i.attribute.pickMode==="imprecise")return!0;const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).polygon;let{x:s=r.x,y:a=r.y}=i.attribute;if(n.highPerformanceSave(),i.transMatrix.onlyTranslate()){const l=i.getOffsetXY(r);s+=l.x,a+=l.y,n.setTransformForCurrent()}else s=0,a=0,n.transformFromMatrix(i.transMatrix,!0);let o=!1;return this.canvasRenderer.drawShape(i,n,s,a,{},null,(l,u,c)=>!!o||(o=l.isPointInPath(e.x,e.y),o),(l,u,c)=>{if(o)return!0;const d=u.lineWidth||c.lineWidth,h=u.pickStrokeBuffer||c.pickStrokeBuffer;return n.lineWidth=Ko(n,d+h,n.dpr),o=l.isPointInStroke(e.x,e.y),o}),n.highPerformanceRestore(),o}};dW=Yft([Tt(),Xft(0,Fi(GD)),Kft("design:paramtypes",[Object])],dW);let Bue=!1;const qft=new mi((i,e,t,n)=>{Bue||(Bue=!0,i(cue).to(dW).inSingletonScope(),i(ko).toService(cue))});var Zft=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},Qft=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},Jft=function(i,e){return function(t,n){e(t,n,i)}};let hW=class{constructor(i){this.canvasRenderer=i,this.type="glyph",this.numberType=zB}contains(i,e,t){if(!i.AABBBounds.containsPoint(e))return!1;if(i.attribute.pickMode==="imprecise")return!0;const{pickContext:n}=t??{};if(!n)return!1;const r=t==null?void 0:t.pickerService;if(r){let s=!1;return i.getSubGraphic().forEach(a=>{if(s)return;const o=r.pickItem(a,e,null,t);s=!(!o||!o.graphic)}),s}return!1}};hW=Zft([Tt(),Jft(0,Fi(XD)),Qft("design:paramtypes",[Object])],hW);let $ue=!1;const egt=new mi((i,e,t,n)=>{$ue||($ue=!0,i(pue).to(hW).inSingletonScope(),i(ko).toService(pue))});var tgt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},igt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},ngt=function(i,e){return function(t,n){e(t,n,i)}};let pW=class{constructor(i){this.canvasRenderer=i,this.type="richtext",this.numberType=oX}contains(i,e,t){return!!i.AABBBounds.containsPoint(e)}};pW=tgt([Tt(),ngt(0,Fi(R5)),igt("design:paramtypes",[Object])],pW);let Nue=!1;const rgt=new mi((i,e,t,n)=>{Nue||(Nue=!0,i(hue).to(pW).inSingletonScope(),i(ko).toService(hue))});var sgt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let fW=class{constructor(){this.type="image",this.numberType=HB}contains(i,e,t){const{pickContext:n}=t??{};return!!n&&!!i.AABBBounds.containsPoint(e)}};fW=sgt([Tt()],fW);let jue=!1;const agt=new mi((i,e,t,n)=>{jue||(jue=!0,i(nue).to(fW).inSingletonScope(),i(ko).toService(nue))});var ogt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},lgt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},ugt=function(i,e){return function(t,n){e(t,n,i)}};new zr;let gW=class extends qg{constructor(i){super(),this.canvasRenderer=i,this.type="rect3d",this.numberType=aX}contains(i,e,t){const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).rect;n.highPerformanceSave();const s=this.transform(i,r,n),{x:a,y:o,z:l,lastModelMatrix:u}=s;let c=e;if(n.camera){c=e.clone();const h=i.parent.globalTransMatrix;c.x=h.a*e.x+h.c*e.y+h.e,c.y=h.b*e.x+h.d*e.y+h.f}this.canvasRenderer.z=l;let d=!1;return this.canvasRenderer.drawShape(i,n,a,o,t,null,(h,p,f)=>!!d||(d=h.isPointInPath(c.x,c.y),d)),this.canvasRenderer.z=0,n.modelMatrix!==u&&wr.free(n.modelMatrix),n.modelMatrix=u,n.highPerformanceRestore(),d}};gW=ogt([Tt(),ugt(0,Fi(M5)),lgt("design:paramtypes",[Object])],gW);let zue=!1;const cgt=new mi((i,e,t,n)=>{zue||(zue=!0,i(oue).to(gW).inSingletonScope(),i(ko).toService(oue))});var dgt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},hgt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},pgt=function(i,e){return function(t,n){e(t,n,i)}};let mW=class extends qg{constructor(i){super(),this.canvasRenderer=i,this.type="arc3d",this.numberType=J2}contains(i,e,t){const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).arc;n.highPerformanceSave();const s=this.transform(i,r,n),{x:a,y:o,z:l,lastModelMatrix:u}=s;let c=e;if(n.camera){c=e.clone();const h=i.parent.globalTransMatrix;c.x=h.a*e.x+h.c*e.y+h.e,c.y=h.b*e.x+h.d*e.y+h.f}this.canvasRenderer.z=l;let d=!1;return this.canvasRenderer.drawShape(i,n,a,o,t,null,(h,p,f)=>!!d||(d=h.isPointInPath(c.x,c.y),d)),this.canvasRenderer.z=0,n.modelMatrix!==u&&wr.free(n.modelMatrix),n.modelMatrix=u,n.highPerformanceRestore(),d}};mW=dgt([Tt(),pgt(0,Fi(O5)),hgt("design:paramtypes",[Object])],mW);let Hue=!1;const fgt=new mi((i,e,t,n)=>{Hue||(Hue=!0,i(eue).to(mW).inSingletonScope(),i(ko).toService(eue))});var ggt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},mgt=function(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)},vgt=function(i,e){return function(t,n){e(t,n,i)}};let vW=class extends qg{constructor(i){super(),this.canvasRenderer=i,this.type="pyramid3d",this.numberType=sX}contains(i,e,t){const{pickContext:n}=t??{};if(!n)return!1;const r=qe(i).polygon;n.highPerformanceSave();const s=this.transform(i,r,n),{x:a,y:o,z:l,lastModelMatrix:u}=s;let c=e;if(n.camera){c=e.clone();const h=i.parent.globalTransMatrix;c.x=h.a*e.x+h.c*e.y+h.e,c.y=h.b*e.x+h.d*e.y+h.f}this.canvasRenderer.z=l;let d=!1;return this.canvasRenderer.drawShape(i,n,a,o,{},null,(h,p,f)=>!!d||(d=h.isPointInPath(c.x,c.y),d),(h,p,f)=>!1),this.canvasRenderer.z=0,n.modelMatrix!==u&&wr.free(n.modelMatrix),n.modelMatrix=u,n.highPerformanceRestore(),d}};vW=ggt([Tt(),vgt(0,Fi(D5)),mgt("design:paramtypes",[Object])],vW);let Vue=!1;const ygt=new mi((i,e,t,n)=>{Vue||(Vue=!0,i(due).to(vW).inSingletonScope(),i(ko).toService(due))}),nh=CX();function bL(){bL.__loaded||(bL.__loaded=!0,Eht(),gi.load(nht),gi.load(nh?vft:bpt))}bL.__loaded=!1;const Uw=bL;function SL(){SL.__loaded||(SL.__loaded=!0,Aht(),gi.load(wht),gi.load(fgt))}SL.__loaded=!1;const _gt=SL;function xL(){xL.__loaded||(xL.__loaded=!0,Tht(),gi.load(aht),gi.load(nh?Oft:Cpt))}xL.__loaded=!1;const $Ce=xL;function wL(){wL.__loaded||(wL.__loaded=!0,Pht(),gi.load(lht),gi.load(nh?$ft:Tpt))}wL.__loaded=!1;const bgt=wL;function CL(){CL.__loaded||(CL.__loaded=!0,Oht(),gi.load(pht),gi.load(nh?egt:Ipt))}CL.__loaded=!1;const Sgt=CL;function kL(){kL.__loaded||(kL.__loaded=!0,Mht())}kL.__loaded=!1;const Is=kL;function EL(){EL.__loaded||(EL.__loaded=!0,Iht(),gi.load(vht),gi.load(nh?agt:Dpt))}EL.__loaded=!1;const NCe=EL;function AL(){AL.__loaded||(AL.__loaded=!0,Rht(),gi.load(sht),gi.load(nh?Eft:$pt))}AL.__loaded=!1;const gm=AL;function TL(){TL.__loaded||(TL.__loaded=!0,Dht(),gi.load(cht),gi.load(nh?Gft:Gpt))}TL.__loaded=!1;const sP=TL;function PL(){PL.__loaded||(PL.__loaded=!0,Lht(),gi.load(dht),gi.load(nh?qft:Hpt))}PL.__loaded=!1;const e$=PL;function OL(){OL.__loaded||(OL.__loaded=!0,Fht(),gi.load(kht),gi.load(ygt))}OL.__loaded=!1;const xgt=OL;function ML(){ML.__loaded||(ML.__loaded=!0,Bht(),gi.load(rht),gi.load(nh?Sft:qpt))}ML.__loaded=!1;const mm=ML;function IL(){IL.__loaded||(IL.__loaded=!0,$ht(),gi.load(_ht),gi.load(cgt))}IL.__loaded=!1;const wgt=IL;function RL(){RL.__loaded||(RL.__loaded=!0,Nht(),gi.load(mht),gi.load(nh?rgt:Zpt))}RL.__loaded=!1;const M0=RL;function DL(){DL.__loaded||(DL.__loaded=!0,Hht())}DL.__loaded=!1;const Qo=DL;function LL(){LL.__loaded||(LL.__loaded=!0,jht(),gi.load(oht),gi.load(nh?Dft:tft))}LL.__loaded=!1;const rh=LL;function FL(){FL.__loaded||(FL.__loaded=!0,zht(),gi.load(uht),gi.load(nh?Hft:nft))}FL.__loaded=!1;const Of=FL;function jCe(){Is(),mm()}const qx=-.5*Math.PI,Zx=1.5*Math.PI,NE="PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",Cgt=14;var Vs;(function(i){i.selected="selected",i.selectedReverse="selected_reverse",i.hover="hover",i.hoverReverse="hover_reverse"})(Vs||(Vs={}));const Mi={[Vs.selectedReverse]:{},[Vs.selected]:{},[Vs.hover]:{},[Vs.hoverReverse]:{}},BL={container:"",width:30,height:30,style:{}},kgt="scrollDrag",Wue={debounce:Pf,throttle:P0};jCe();let $L=class zCe extends Ba{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},zCe.defaultAttributes,e)),this.name="scrollbar",this._onRailPointerDown=n=>{const{viewX:r,viewY:s}=n,{direction:a,width:o,height:l,range:u}=this.attribute,c=this._sliderSize,[d,h]=this._getScrollRange();let p;if(a==="vertical"){const f=s-this._viewPosition.y,g=sa(f-c/2,d,h);p=f/l,this._slider.setAttribute("y",g,!0)}else{const f=r-this._viewPosition.x,g=sa(f-c/2,d,h);p=f/o,this._slider.setAttribute("x",g,!0)}this.setScrollRange([p-(u[1]-u[0])/2,p+(u[1]-u[0])/2],!1),this.stage&&!this.stage.autoRender&&this.stage.renderNextFrame()},this._onSliderPointerDown=n=>{const{stopSliderDownPropagation:r=!0}=this.attribute;r&&n.stopPropagation();const{direction:s}=this.attribute,{x:a,y:o}=this.stage.eventPointTransform(n);this._prePos=s==="horizontal"?a:o,this._dispatchEvent("scrollDown",{pos:this._prePos,event:n}),ji.env==="browser"?(ji.addEventListener("pointermove",this._onSliderPointerMoveWithDelay,{capture:!0}),ji.addEventListener("pointerup",this._onSliderPointerUp)):(this.stage.addEventListener("pointermove",this._onSliderPointerMoveWithDelay,{capture:!0}),this.stage.addEventListener("pointerup",this._onSliderPointerUp),this.stage.addEventListener("pointerupoutside",this._onSliderPointerUp))},this._computeScrollValue=n=>{const{direction:r}=this.attribute,{x:s,y:a}=this.stage.eventPointTransform(n);let o,l,u=0;const{width:c,height:d}=this._getSliderRenderBounds();return r==="vertical"?(l=a,u=l-this._prePos,o=u/d):(l=s,u=l-this._prePos,o=u/c),[l,o]},this._onSliderPointerMove=n=>{const{stopSliderMovePropagation:r=!0}=this.attribute;r&&n.stopPropagation();const s=this.getScrollRange(),[a,o]=this._computeScrollValue(n);this.setScrollRange([s[0]+o,s[1]+o],!0),this._prePos=a},this._onSliderPointerMoveWithDelay=this.attribute.delayTime===0?this._onSliderPointerMove:Wue[this.attribute.delayType](this._onSliderPointerMove,this.attribute.delayTime),this._onSliderPointerUp=n=>{n.preventDefault();const{realTime:r=!0,range:s,limitRange:a=[0,1]}=this.attribute,o=this.getScrollRange(),[l,u]=this._computeScrollValue(n),c=[o[0]+u,o[1]+u];this._dispatchEvent("scrollUp",{pre:s,value:Ey(c,a[0],a[1])}),ji.env==="browser"?(ji.removeEventListener("pointermove",this._onSliderPointerMoveWithDelay,{capture:!0}),ji.removeEventListener("pointerup",this._onSliderPointerUp)):(this.stage.removeEventListener("pointermove",this._onSliderPointerMoveWithDelay,{capture:!0}),this.stage.removeEventListener("pointerup",this._onSliderPointerUp),this.stage.removeEventListener("pointerupoutside",this._onSliderPointerUp))}}setScrollRange(e,t=!0){const{direction:n="horizontal",limitRange:r=[0,1],range:s,realTime:a=!0}=this.attribute,o=Ey(e,r[0],r[1]);if(t){const l=this._getSliderPos(o);if(this._slider){const u=l[1]-l[0];this._sliderSize=u,n==="horizontal"?this._slider.setAttributes({x:l[0],width:u},!0):this._slider.setAttributes({y:l[0],height:u},!0),this.stage&&!this.stage.autoRender&&this.stage.renderNextFrame()}}this.attribute.range=o,a&&this._dispatchEvent(kgt,{pre:s,value:o})}getScrollRange(){return this.attribute.range}bindEvents(){if(this.attribute.disableTriggerEvent)return;const{delayType:e="throttle",delayTime:t=0}=this.attribute;this._rail&&this._rail.addEventListener("pointerdown",Wue[e](this._onRailPointerDown,t)),this._slider&&this._slider.addEventListener("pointerdown",this._onSliderPointerDown)}render(){this._reset();const{direction:e="horizontal",width:t,height:n,range:r,limitRange:s=[0,1],railStyle:a,sliderStyle:o,padding:l=2}=this.attribute,u=this.createOrUpdateChild("scrollbar-container",{},"group"),c=u.createOrUpdateChild("scrollbar-rail",Object.assign({x:0,y:0,width:t,height:n},a),"rect");this._rail=c;const d=this._getSliderRenderBounds(),h=this._getSliderPos(Ey(r,s[0],s[1])),p=h[1]-h[0];let f;this._sliderSize=p,f=e==="horizontal"?{x:h[0],y:d.y1,width:p,height:d.height}:{x:d.x1,y:h[0],width:d.width,height:p};const g=u.createOrUpdateChild("slider",Object.assign(Object.assign(Object.assign(Object.assign({},f),{cornerRadius:this._getDefaultSliderCornerRadius()}),o),{boundsPadding:au(l),pickMode:"imprecise"}),"rect");this._slider=g,this._container=u;const v=this._container.AABBBounds;this._viewPosition={x:v.x1,y:v.y1}}_getSliderRenderBounds(){if(this._sliderRenderBounds)return this._sliderRenderBounds;const{width:e,height:t,padding:n=2}=this.attribute,[r,s,a,o]=au(n),l={x1:o,y1:r,x2:e-s,y2:t-a,width:Math.max(0,e-(o+s)),height:Math.max(0,t-(r+a))};return this._sliderRenderBounds=l,l}_getDefaultSliderCornerRadius(){const{direction:e,round:t}=this.attribute;if(t){const{width:n,height:r}=this._getSliderRenderBounds();return e==="horizontal"?r:n}return 0}_getSliderPos(e){const{direction:t}=this.attribute,{width:n,height:r,x1:s,y1:a}=this._getSliderRenderBounds();return t==="horizontal"?[n*e[0]+s,n*e[1]+s]:[r*e[0]+a,r*e[1]+a]}_getScrollRange(){if(this._sliderLimitRange)return this._sliderLimitRange;const{limitRange:e=[0,1],direction:t}=this.attribute,[n,r]=Ey(e,0,1),{width:s,height:a,x1:o,y1:l}=this._getSliderRenderBounds(),u=this._sliderSize;return t==="horizontal"?Ey([o+n*s,o+r*s],o,s-u):Ey([l+n*a,l+r*a],l,a-u)}_reset(){this._sliderRenderBounds=null,this._sliderLimitRange=null}};$L.defaultAttributes={direction:"horizontal",round:!0,sliderSize:20,sliderStyle:{fill:"rgba(0, 0, 0, .5)"},railStyle:{fill:"rgba(0, 0, 0, .0)"},padding:2,scrollRange:[0,1],delayType:"throttle",delayTime:0,realTime:!0};function Kh(i,e){i.forEachChildren(t=>{const n=e(t);t.isContainer&&!n&&Kh(t,e)})}const ta=i=>!Y(i)&&i.visible!==!1;function Egt(i,e){if(!e)return[];const t=i.find(n=>n.name===e,!0);return t?t.getChildren():[]}function Agt(i,e){if(!e)return[];const t=i.find(n=>n.name===e,!0);return t?t.findAll(n=>n.type!=="group",!0):[]}function Tgt(i){const e=[i[0]];for(let t=1;t<i.length;t++)i[t].x===i[t-1].x&&i[t].y===i[t-1].y||e.push(i[t]);return e}function NL(i){return i>=0&&i<Math.PI/2||i>3*Math.PI/2&&i<=2*Math.PI}function zp(i,e,t){return Math.abs(i-e)<t}function HCe(i,e,t){return i?{textAlign:"right",textBaseline:"middle"}:{textAlign:e<Math.PI&&t.toLocaleLowerCase().includes("top")||e>Math.PI&&t.toLocaleLowerCase().includes("bottom")?"left":e<Math.PI&&t.toLocaleLowerCase().includes("bottom")||e>Math.PI&&t.toLocaleLowerCase().includes("top")?"right":"center",textBaseline:e<Math.PI&&t.includes("inside")||e>Math.PI&&!t.includes("inside")?"bottom":"top"}}const Pgt=["#ffffff","#000000"];function Uue(i,e,t,n,r,s){if(typeof i!="string"||typeof e!="string")return i;const a=new oa(i).toHex(),o=new oa(e).toHex();return kX(a,o,t,n,s)?a:Ogt(a,o,t,n,r,s)}function Ogt(i,e,t,n,r,s){const a=[];r&&(r instanceof Array?a.push(...r):a.push(r)),a.push(...Pgt);for(const o of a)if(i!==o&&kX(o,e,t,n,s))return o}function kX(i,e,t,n,r){if(r==="lightness"){const s=oa.getColorBrightness(new oa(e));return oa.getColorBrightness(new oa(i))<.5?s>=.5:s<.5}return n?L7(i,e)>n:t==="largeText"?L7(i,e)>3:L7(i,e)>4.5}function L7(i,e){const t=Gue(i),n=Gue(e);return((t>n?t:n)+.05)/((t>n?n:t)+.05)}function Gue(i){const e=fxe(i),t=e[0]/255,n=e[1]/255,r=e[2]/255;let s,a,o;return s=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),a=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),o=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),.2126*s+.7152*a+.0722*o}function k1(i,e,t,n){let r;switch(i){case"base":r=e;break;case"invertBase":r=t;break;case"similarBase":r=n}return r}function VCe(i,e){return[i[0]*e,i[1]*e]}function Mgt(i){const[e,t]=i;return Math.sqrt(e*e+t*t)}function Igt(i){const[e,t]=i;let n=e*e+t*t;return n>0&&(n=1/Math.sqrt(n)),[i[0]*n,i[1]*n]}function Rgt(i,e){const[t,n]=i,[r,s]=e,a=Math.sqrt((t*t+n*n)*(r*r+s*s)),o=a&&(t*r+n*s)/a;return Math.acos(Math.min(Math.max(o,-1),1))}function Dgt(i,e){return i[0]*e[1]-e[0]*i[1]}function Lgt(i,e,t){const n=Rgt(i,e),r=Dgt(i,e)>=0;return t?r?2*Math.PI-n:n:r?n:2*Math.PI-n}const ux=(i,e,t,n)=>new Sl(Object.assign({defaultFontParams:Object.assign({fontFamily:NE,fontSize:Cgt},n),getTextBounds:t?void 0:nP,specialCharSet:`-/: .,@%'"~`+Sl.ALPHABET_CHAR_SET+Sl.ALPHABET_CHAR_SET.toUpperCase()},e??{}),i);function t$(i,e,t={}){if(!i)return{width:0,height:0};const n=nP({text:i,fontFamily:e.fontFamily||t.fontFamily||NE,fontSize:e.fontSize||t.fontSize||12,fontWeight:e.fontWeight||t.fontWeight,textAlign:e.textAlign||"center",textBaseline:e.textBaseline,ellipsis:!!e.ellipsis,maxLineWidth:e.maxLineWidth||1/0,lineHeight:e.fontSize||t.fontSize||12});return{width:n.width(),height:n.height()}}function yW(i,e="type"){return WCe(i,e)==="rich"}function WCe(i,e="type"){var t,n;return yi(i.text)&&"type"in i.text?(t=i.text.type)!==null&&t!==void 0?t:"text":e in i&&(n=i[e])!==null&&n!==void 0?n:"text"}function jL(i){var e,t;return i.width=(e=i.width)!==null&&e!==void 0?e:0,i.height=(t=i.height)!==null&&t!==void 0?t:0,i.maxWidth=i.maxLineWidth,i.textConfig=i.text.text||i.text,i}function Fgt(i){const{text:e,_originText:t}=i,{text:n}=e;return i.html=n,i.text=t,i.renderable=!1,i}function Bgt(i){const{text:e,_originText:t}=i,{text:n}=e;return i.react=n,i.text=t,i.renderable=!1,i}function zL(i,e="type"){const t=WCe(i,e);return t==="rich"?Ot.richtext(jL(i)):(t==="html"?i=Fgt(i):t==="react"&&(i=Bgt(i)),Ot.text(i))}const F7=(i,e)=>{const t=Math.atan2(i,e);return t<0?t+2*Math.PI:t};function i$(){Is(),mm(),rh(),M0(),Of()}var B7=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};i$();let Mf=class UCe extends Ba{getBgRect(){return this._bgRect}getTextShape(){return this._textShape}constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},UCe.defaultAttributes,e)),this.name="tag"}render(){var e,t,n;const{text:r="",textStyle:s={},shape:a={},panel:o={},space:l=4,minWidth:u,maxWidth:c,padding:d=4,visible:h,state:p,type:f,textAlwaysCenter:g,containerTextAlign:v}=this.attribute,m=au(d),b=this.createOrUpdateChild("tag-content",{x:0,y:0,zIndex:1},"group");let _,S=m[1]+m[3],C=m[0]+m[2],k=0,E=0;const{visible:A}=a,P=B7(a,["visible"]);if(Ir(A)){const M=(P==null?void 0:P.size)||10,D=Xe(M)?M:Math.max(M[0],M[1]);_=b.createOrUpdateChild("tag-shape",Object.assign(Object.assign({symbolType:"circle",size:M,strokeBoundsBuffer:0},P),{visible:A,x:D/2,y:D/2}),"symbol"),Mt(p==null?void 0:p.shape)||(_.states=p.shape),A&&(E=D+l)}let O;if(S+=E,k+=E,yW({text:r})||f==="rich"){const M=Object.assign(Object.assign(Object.assign({},jL(Object.assign({type:f,text:r},s))),s),{visible:X(r)&&h!==!1,x:k,y:0});O=b.createOrUpdateChild("tag-text",M,"richtext");const{visible:D}=o,L=B7(o,["visible"]);if(h&&Ir(D)){const H=this.createOrUpdateChild("tag-panel",Object.assign(Object.assign({},L),{visible:D&&!!r,x:O.AABBBounds.x1,y:O.AABBBounds.y1,width:O.AABBBounds.width(),height:O.AABBBounds.height()}),"rect");Mt(p==null?void 0:p.panel)||(H.states=p.panel),this._bgRect=H}}else{const M=Object.assign(Object.assign({text:yi(r)&&"type"in r&&r.type==="text"?r.text:r,visible:X(r)&&h!==!1,lineHeight:s==null?void 0:s.fontSize},s),{x:k,y:0});Y(M.lineHeight)&&(M.lineHeight=s.fontSize),O=b.createOrUpdateChild("tag-text",M,"text"),Mt(p==null?void 0:p.text)||(O.states=p.text);const D=t$(M.text,s,(t=(e=this.stage)===null||e===void 0?void 0:e.getTheme())===null||t===void 0?void 0:t.text),L=D.width,H=D.height;S+=L;const B=(n=a.size)!==null&&n!==void 0?n:10,F=Xe(B)?B:Math.max(B[0],B[1]);C+=Math.max(H,a.visible?F:0);const{textAlign:z,textBaseline:N}=s;(X(u)||X(c))&&(X(u)&&S<u&&(S=u),X(c)&&S>c&&(S=c,O.setAttribute("maxLineWidth",c-m[1]-m[2])));let U=0,G=0,j=0;z==="left"||z==="start"?j=1:z==="right"||z==="end"?j=-1:z==="center"&&(j=0),j?j<0?(U-=S,_&&_.setAttribute("x",(_.attribute.x||0)-L),b.setAttribute("x",-m[1]-E)):j>0&&b.setAttribute("x",m[3]):(U-=S/2,_&&_.setAttribute("x",(_.attribute.x||0)-L/2),b.setAttribute("x",-E/2));const K=v==="right"||v==="end",ie=v==="left"||v==="start";if((v?v==="center":g)&&j){const J=S-m[1]-m[3],ne=L+E,te=j===1?(J-ne)/2+E+L/2:m[0]+E-(S/2+ne/2-E)+L/2;if(O.setAttributes({x:te,textAlign:"center"}),_){const Q=te-L/2-E+F/2;_.setAttributes({x:Q})}}if(ie&&j!==1){const J=S-m[1]-m[3],ne=j===0?-J/2+E/2:-S+m[3]+m[1]+E,te=ne+E;if(O.setAttributes({x:te,textAlign:"left"}),_){const Q=ne+F/2;_.setAttributes({x:Q})}}if(K&&j!==-1){const J=S-m[1]-m[3],ne=j===0?J/2+E/2:J;if(O.setAttributes({x:ne,textAlign:"right"}),_){const te=ne-L-E+F/2;_.setAttributes({x:te})}}N==="middle"?(G-=C/2,_&&_.setAttribute("y",0)):N==="bottom"?(G-=C,_&&_.setAttribute("y",-H/2),b.setAttribute("y",-m[2])):N==="top"&&(b.setAttribute("y",m[0]),_&&_.setAttribute("y",H/2));const{visible:ae}=o,re=B7(o,["visible"]);if(h&&Ir(ae)){const J=this.createOrUpdateChild("tag-panel",Object.assign(Object.assign({},re),{visible:ae&&!!r,x:U,y:G,width:S,height:C}),"rect");Mt(p==null?void 0:p.panel)||(J.states=p.panel),this._bgRect=J}}this._textShape=O}};Mf.defaultAttributes={visible:!0,textStyle:{fontSize:12,fill:"#000",textAlign:"left",textBaseline:"top"},space:4,padding:4,shape:{fill:"#000"}};const GCe={visible:!0,position:"auto",titleStyle:{fontSize:16,fill:"#08979c"},contentStyle:{fontSize:12,fill:"green"},panel:{visible:!0,fill:"#e6fffb",size:12,space:0,stroke:"#87e8de",lineWidth:1,cornerRadius:4}},YCe={poptip:Ie({},GCe)};function $gt(){Is(),Of(),rh(),mm()}function Ngt(i){Ie(YCe.poptip,GCe,i)}var jgt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};const Yue=new zr;$gt();class RT extends Ba{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},RT.defaultAttributes,e)),this.name="poptip",this.positionList=["top","tl","tr","bottom","bl","br","left","lt","lb","right","rt","rb"]}render(){var e,t,n,r,s,a,o,l;const{titleStyle:u={},position:c,contentStyle:d={},panel:h={},space:p=4,minWidth:f=0,maxWidth:g=1/0,padding:v=4,maxWidthPercent:m,visible:b,state:_,dx:S=0,dy:C=0}=this.attribute;let{title:k="",content:E=""}=this.attribute;k=this.attribute.titleFormatMethod?this.attribute.titleFormatMethod(k):k,E=this.attribute.contentFormatMethod?this.attribute.contentFormatMethod(E):E;const A=au(v),P=this.createOrUpdateChild("poptip-content",{x:0,y:0,zIndex:1},"group"),O=g-A[1]-A[3],M=X(k)&&b!==!1,D=Object.assign(Object.assign({text:ke(k)?k:[k],visible:M,wrap:!0},u),{x:A[3],y:A[0],maxLineWidth:O,textAlign:"left",textBaseline:"top"}),L=P.createOrUpdateChild("poptip-title",D,"text");Mt(_==null?void 0:_.title)||(L.states=_.title);const H=L.AABBBounds,B=H.height(),F=H.width();let z=B+p;M||(z=0);const N=X(E)&&b!==!1,U=Object.assign(Object.assign({text:ke(E)?E:[E],visible:N,wrap:!0},d),{x:A[3],y:A[0]+z,maxLineWidth:O,textAlign:"left",textBaseline:"top"}),G=P.createOrUpdateChild("poptip-content",U,"text");Mt(_==null?void 0:_.content)||(G.states=_.content);const j=G.AABBBounds,K=j.height(),ie=j.width();N&&(z+=K);let ae=Jl(F+A[1]+A[3],ie+A[1]+A[3]);ae>g?ae=g:ae<f&&(ae=f);let re=A[0]+A[2]+z;const{visible:J}=h,ne=jgt(h,["visible"]),te=(e=ne.size)!==null&&e!==void 0?e:12,Q=ke(te)?[te[0]+((t=ne.space)!==null&&t!==void 0?t:0),te[1]+((n=ne.space)!==null&&n!==void 0?n:0)]:te+((r=ne.space)!==null&&r!==void 0?r:0),se=(s=ne.lineWidth)!==null&&s!==void 0?s:1,_e=this.stage?[(a=this.stage.viewWidth)!==null&&a!==void 0?a:this.stage.width,(o=this.stage.viewHeight)!==null&&o!==void 0?o:this.stage.height]:void 0;if(_e){const Fe=this.AABBBounds,Ee=(l=this.attribute.x)!==null&&l!==void 0?l:Fe.x1,it=_e[0]-Fe.x1;let Qe=Math.max(Ee,it);const Ae=(ke(te)?te[0]:12)+3;if(Qe=Math.min(Qe-Ae,Qe*m),Qe<ae){ae=Qe;const je=A[1]+A[3];L.setAttribute("maxLineWidth",Qe-je),G.setAttribute("maxLineWidth",Qe-je),re=A[0]+A[2],M&&(re+=L.AABBBounds.height()+p),re+=G.AABBBounds.height()}}const le=c==="auto";let ve,pe=-1/0;for(let Fe=0;Fe<this.positionList.length+1;Fe++){const Ee=le?this.positionList[Fe===this.positionList.length?ve:Fe]:c,{angle:it,offset:Qe,rectOffset:Ae}=this.getAngleAndOffset(Ee,ae,re,ke(Q)?Q:[Q,Q-se]);if(Ir(J)){const je=(ke(te)?te[0]:te)/4,We=P.createOrUpdateChild("poptip-symbol-panel",Object.assign(Object.assign({},ne),{visible:J&&(N||M),x:je,y:0,strokeBoundsBuffer:-1,boundsPadding:-2,anchor:[0,0],symbolType:"arrow2Left",angle:it,dx:Qe[0],dy:Qe[1],size:te,zIndex:-9}),"symbol");Mt(_==null?void 0:_.panel)||(We.states=_.panel);const ut=P.createOrUpdateChild("poptip-rect-panel",Object.assign(Object.assign({},ne),{visible:J&&(N||M),x:0,y:0,width:ae,height:re,zIndex:-8}),"rect");Mt(_==null?void 0:_.panel)||(ut.states=_.panel)}if(P.setAttributes({x:-Qe[0]+S,y:-Qe[1]+C}),!le||!_e)break;{Yue.setValue(0,0,ae,re).transformWithMatrix(P.globalTransMatrix);const je=Yue,We=new Da().setValue(0,0,_e[0],_e[1]);if(Qnt(je,We))break;{const ut=vxe(je,We),vt=(ut.x2-ut.x1)*(ut.y2-ut.y1);vt>pe&&(pe=vt,ve=Fe)}}}}getAngleAndOffset(e,t,n,r){const s=r[1]/2;switch(e){case"tl":return{angle:Dn/2*3,offset:[t/4,n+s],rectOffset:[-t/4,-n-r[1]]};case"top":return{angle:Dn/2*3,offset:[t/2,n+s],rectOffset:[0,-n-r[1]]};case"tr":return{angle:Dn/2*3,offset:[t/4*3,n+s],rectOffset:[t/4*3,-n-r[1]]};case"rt":return{angle:0,offset:[-s,n/5],rectOffset:[t/4*3,-n-r[1]]};case"right":return{angle:0,offset:[-s,n/2],rectOffset:[t/4*3,-n-r[1]]};case"rb":return{angle:0,offset:[-s,n/5*4],rectOffset:[t/4*3,-n-r[1]]};case"bl":return{angle:Dn/2,offset:[t/4,-s],rectOffset:[-t/4,-n-r[1]]};case"bottom":return{angle:Dn/2,offset:[t/2,-s],rectOffset:[0,-n-r[1]]};case"br":return{angle:Dn/2,offset:[t/4*3,-s],rectOffset:[t/4*3,-n-r[1]]};case"lt":return{angle:Dn,offset:[t+s,n/5],rectOffset:[-t/4,-n-r[1]]};case"left":return{angle:Dn,offset:[t+s,n/2],rectOffset:[0,-n-r[1]]};case"lb":return{angle:Dn,offset:[t+s,n/5*4],rectOffset:[t/4*3,-n-r[1]]}}}}RT.defaultAttributes={position:"rt",visible:!0,title:null,content:null,titleStyle:{fontSize:12,fill:"#000",textAlign:"left",textBaseline:"top"},contentStyle:{fontSize:12,fill:"#000",textAlign:"left",textBaseline:"top"},maxWidthPercent:.8,space:8,padding:10};var zgt=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};function Hgt(i,e){return Ie(i,YCe.poptip,e),i}let jE=class{render(i,e,t,n,r,s,a,o,l,u,c,d,h){var p;if(i._showPoptip===1){const{visible:f,visibleCb:g}=i.attribute.poptip||{};if(f===!1||g&&g(i)===!1)return;const v={};Ie(v,RT.defaultAttributes,i.attribute.poptip?i.attribute.poptip:{}),this.poptipComponent?this.poptipComponent.initAttributes(v):this.poptipComponent=new RT(v);let m=i.attribute.poptip||{};if(i.type==="text"&&m.title==null&&m.content==null){const S={};Hgt(S,m),m=S,m.content=(p=m.content)!==null&&p!==void 0?p:i.attribute.text}const b=i.globalTransMatrix;this.poptipComponent.setAttributes(Object.assign(Object.assign({visibleAll:!0,pickable:!1,childrenPickable:!1},m),{x:b.e,y:b.f})),u.stage.tryInitInteractiveLayer();const _=u.stage.getLayer("_builtin_interactive");_&&_.add(this.poptipComponent)}else i._showPoptip===2&&(i._showPoptip=0,this.poptipComponent&&this.poptipComponent.setAttributes({visibleAll:!1}))}};jE=zgt([Tt()],jE);var KCe=function(i,e,t,n){var r,s=arguments.length,a=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,n);else for(var o=i.length-1;o>=0;o--)(r=i[o])&&(a=(s<3?r(a):s>3?r(e,t,a):r(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a};let zE=class{constructor(){this.name="poptip",this.activeEvent="onRegister",this._uid=Xs.GenAutoIncrementId(),this.key=this.name+this._uid,this.poptip=i=>{const e=i.target;if(e.isContainer||!e.attribute)return void this.unpoptip(i);if(e===this.activeGraphic)return;const{poptip:t}=e.attribute;t&&(e.setAttributes({}),e._showPoptip=1),this.activeGraphic&&(this.activeGraphic.setAttributes({}),this.activeGraphic._showPoptip=2),this.setActiveGraphic(e,!0)},this.unpoptip=i=>{this.activeGraphic&&(this.activeGraphic.setAttributes({}),this.activeGraphic._showPoptip=2,this.setActiveGraphic(null,!0))}}activate(i){this.pluginService=i;const{stage:e}=this.pluginService;e.addEventListener("pointerover",this.poptip)}setActiveGraphic(i,e){this.activeGraphic=i,this.pluginService.stage.renderNextFrame()}deactivate(i){const{stage:e}=this.pluginService;e.removeEventListener("pointerover",this.poptip)}};zE=KCe([Tt()],zE);let HE=class{constructor(){this.name="poptipForText",this.activeEvent="onRegister",this._uid=Xs.GenAutoIncrementId(),this.key=this.name+this._uid,this.pointerlave=i=>{const{stage:e}=this.pluginService;i.target===e&&this.unpoptip(i)},this.poptip=i=>{const e=i.target;if(e.type!=="text"||!e.cliped||e.isContainer||!e.attribute||e.attribute.disableAutoClipedPoptip)return void this.unpoptip(i);if(e===this.activeGraphic)return;const{poptip:t={}}=e.attribute;t&&(e.setAttributes({}),e._showPoptip=1),this.activeGraphic&&(this.activeGraphic.setAttributes({}),this.activeGraphic._showPoptip=2),this.setActiveGraphic(e,!0)},this.unpoptip=i=>{this.activeGraphic&&(this.activeGraphic.setAttributes({}),this.activeGraphic._showPoptip=2,this.setActiveGraphic(null,!0))}}activate(i){this.pluginService=i;const{stage:e}=this.pluginService;e.addEventListener("pointerover",this.poptip),e.addEventListener("pointerleave",this.pointerlave)}setActiveGraphic(i,e){this.activeGraphic=i,this.pluginService.stage.renderNextFrame()}deactivate(i){const{stage:e}=this.pluginService;e.removeEventListener("pointerover",this.poptip),e.removeEventListener("pointerleave",this.pointerlave)}};HE=KCe([Tt()],HE);const Vgt=new mi((i,e,t,n)=>{t(jE)||(i(jE).toSelf().inSingletonScope(),i(pX).toService(jE)),t(zE)||(i(zE).toSelf(),i(IT).toService(zE)),t(HE)||(i(HE).toSelf(),i(IT).toService(HE))});function Wgt(){gi.load(Vgt)}class aP extends Ba{constructor(){super(...arguments),this.name="crosshair"}render(){this.renderCrosshair(this)}}function Ugt(){Is(),gm()}function Ggt(){Is(),Uw()}function Ygt(){Is(),sP()}function Kgt(){Is(),mm()}function Xgt(){Is(),Uw()}Ugt();class oP extends aP{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},oP.defaultAttributes,e))}renderCrosshair(e){const{start:t,end:n,lineStyle:r}=this.attribute;return e.createOrUpdateChild("crosshair-line",Object.assign({points:[t,n]},r),"line")}setLocation(e){const{start:t,end:n}=e;this.setAttributes({start:t,end:n})}}oP.defaultAttributes={lineStyle:{stroke:"#b2bacf",lineWidth:1,lineDash:[2]}};Kgt();class n$ extends aP{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},n$.defaultAttributes,e))}renderCrosshair(e){const{start:t,end:n,rectStyle:r}=this.attribute;return e.createOrUpdateChild("crosshair-rect",Object.assign({x:t.x,y:t.y,width:n.x-t.x,height:n.y-t.y},r),"rect")}setLocation(e){const{start:t,end:n}=e;this.setAttributes({start:t,end:n})}}n$.defaultAttributes={rectStyle:{fill:"#b2bacf",opacity:.2}};Ggt();class r$ extends aP{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},r$.defaultAttributes,e))}renderCrosshair(e){const{center:t,radius:n,lineStyle:r}=this.attribute;return e.createOrUpdateChild("crosshair-circle",Object.assign(Object.assign(Object.assign(Object.assign({},t),{outerRadius:n}),this.attribute),r),"arc")}setLocation(e){const{center:t}=this.attribute,n=ds.distancePP(e,t);this.setAttribute("radius",n)}}r$.defaultAttributes={lineStyle:{stroke:["#b2bacf",!1,!1,!1],lineWidth:1,lineDash:[2]}};Xgt();class s$ extends aP{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},s$.defaultAttributes,e))}renderCrosshair(e){const{center:t,radius:n,innerRadius:r=0,sectorStyle:s}=this.attribute,{startAngle:a,endAngle:o}=this.attribute;return e.createOrUpdateChild("crosshair-sector",Object.assign(Object.assign(Object.assign({},t),{outerRadius:n,innerRadius:r,startAngle:a,endAngle:o}),s),"arc")}setLocation(e){const{center:t,startAngle:n=qx,endAngle:r=Zx}=this.attribute,s=r-n,a=jx(lD(t,e));this.setAttributes({startAngle:a-s/2,endAngle:a+s/2})}}s$.defaultAttributes={sectorStyle:{fill:"#b2bacf",opacity:.2}};Ygt();class a$ extends aP{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},a$.defaultAttributes,e))}renderCrosshair(e){const{center:t,radius:n,sides:r=6,lineStyle:s}=this.attribute,{startAngle:a,endAngle:o}=this.attribute,l=(o-a)%(2*Math.PI)==0,u=(o-a)/r;let c;for(let d=0;d<=r;d++){const h=Us(t,n,a+u*d);d===0?c=`M${h.x},${h.y}`:c+=`L${h.x},${h.y}`,d===r&&l&&(c+="Z")}return e.createOrUpdateChild("crosshair-polygon",Object.assign({path:c},s),"path")}setLocation(e){const{center:t}=this.attribute,n=ds.distancePP(e,t);this.setAttribute("radius",n)}}a$.defaultAttributes={lineStyle:{stroke:"#b2bacf",lineWidth:1,lineDash:[2]}};const sv=new Uint32Array(33),Nh=new Uint32Array(33);Nh[0]=0,sv[0]=~Nh[0];for(let i=1;i<=32;++i)Nh[i]=Nh[i-1]<<1|1,sv[i]=~Nh[i];function qgt(i,e){const t=new Uint32Array(~~((i*e+32)/32));function n(s,a){t[s]|=a}function r(s,a){t[s]&=a}return{array:t,get:(s,a)=>{const o=a*i+s;return t[o>>>5]&1<<(31&o)},set:(s,a)=>{const o=a*i+s;n(o>>>5,1<<(31&o))},clear:(s,a)=>{const o=a*i+s;r(o>>>5,~(1<<(31&o)))},getRange:({x1:s,y1:a,x2:o,y2:l})=>{if(o<0||l<0||s>i||a>e)return!0;let u,c,d,h,p=l;for(;p>=a;--p)if(u=p*i+s,c=p*i+o,d=u>>>5,h=c>>>5,d===h){if(t[d]&sv[31&u]&Nh[1+(31&c)])return!0}else{if(t[d]&sv[31&u]||t[h]&Nh[1+(31&c)])return!0;for(let f=d+1;f<h;++f)if(t[f])return!0}return!1},setRange:({x1:s,y1:a,x2:o,y2:l})=>{if(o<0||l<0||s>i||a>e)return;let u,c,d,h,p;for(;a<=l;++a)if(u=a*i+s,c=a*i+o,d=u>>>5,h=c>>>5,d===h)n(d,sv[31&u]&Nh[1+(31&c)]);else for(n(d,sv[31&u]),n(h,Nh[1+(31&c)]),p=d+1;p<h;++p)n(p,4294967295)},clearRange:({x1:s,y1:a,x2:o,y2:l})=>{let u,c,d,h,p;for(;a<=l;++a)if(u=a*i+s,c=a*i+o,d=u>>>5,h=c>>>5,d===h)r(d,Nh[31&u]|sv[1+(31&c)]);else for(r(d,Nh[31&u]),r(h,sv[1+(31&c)]),p=d+1;p<h;++p)r(p,0)},outOfBounds:({x1:s,y1:a,x2:o,y2:l})=>s<0||a<0||l>=e||o>=i,toImageData:s=>{const a=s.createImageData(i,e),o=a.data;for(let l=0;l<e;++l)for(let u=0;u<i;++u){const c=l*i+u,d=4*c,h=t[c>>>5]&1<<(31&c);o[d+0]=255*h,o[d+1]=255*h,o[d+2]=255*h,o[d+3]=31}return a}}}function XCe(i,e,t={top:0,left:0,right:0,bottom:0}){const{top:n=0,left:r=0,right:s=0,bottom:a=0}=t,o=Math.max(1,Math.sqrt(i*e/1e6)),l=~~((i+r+s+o)/o),u=~~((e+n+a+o)/o),c=d=>~~(d/o);return c.bitmap=()=>qgt(l,u),c.x=d=>~~((d+r)/o),c.y=d=>~~((d+n)/o),c.ratio=o,c.padding=t,c.width=i,c.height=e,c}function gg(i,e,t=!1){if(t){const{x1:n,x2:r,y1:s,y2:a}=e,o=sa(n,0,i.width),l=sa(r,0,i.width),u=sa(s,0,i.height),c=sa(a,0,i.height);return{x1:i.x(o),x2:i.x(l),y1:i.y(u),y2:i.y(c)}}return{x1:i.x(e.x1),x2:i.x(e.x2),y1:i.y(e.y1),y2:i.y(e.y2)}}function W3(i,e,t,n=!0,r=0){let s=t;return r>0&&(s={x1:t.x1-r,x2:t.x2+r,y1:t.y1-r,y2:t.y2+r}),s=gg(i,s),!(n&&e.outOfBounds(s))&&!e.getRange(s)}function $7(i,e,t,n=[],r=!0,s=0){const a=n.filter(o=>X(o));for(let o=0;o<a.length;o++){const l=t.clone();if(l.setAttributes(a[o]),l.update(),W3(i,e,l.AABBBounds,r,s))return e.setRange(gg(i,l.AABBBounds,!0)),a[o]}return!1}function Zgt(i,e,t,n,r,s,a){var o,l;const u=(o=n.overlap)===null||o===void 0?void 0:o.clampForce,c=(l=n.overlap)===null||l===void 0?void 0:l.overlapPadding;if(t.type==="bound"||t.type==="position"){if(Pe(a)){const d=((Pe(t.position)?t.position(r.attribute):t.position)||emt(n.type)).map(h=>a(r.AABBBounds,s,h,n.offset));return $7(i,e,r,d,u,c)}return!1}if(t.type==="moveY"){const d=(t.offset?Pe(t.offset)?t.offset(r.attribute):t.offset:[]).map(h=>({x:r.attribute.x,y:r.attribute.y+h}));return $7(i,e,r,d,u,c)}if(t.type==="moveX"){const d=(t.offset?Pe(t.offset)?t.offset(r.attribute):t.offset:[]).map(h=>({x:r.attribute.x+h,y:r.attribute.y}));return $7(i,e,r,d,u,c)}return!1}const Qgt=["top","bottom","right","left","top-right","bottom-right","top-left","bottom-left"],Jgt=["top","inside-top","inside"];function emt(i){return i==="rect"?Jgt:Qgt}function tmt(i,e,t){const{x1:n,x2:r,y1:s,y2:a}=i.AABBBounds,o=Math.min(n,r),l=Math.max(n,r),u=Math.min(s,a),c=Math.max(s,a);let d=0,h=0;return o<0&&l-o<=e?d=-o:l>e&&o-(l-e)>=0&&(d=e-l),u<0&&c-u<=t?h=-u:c>t&&u-(c-t)>=0&&(h=t-c),{dx:d,dy:h}}const imt=(i={})=>{var e,t,n;return{from:{opacity:0,fillOpacity:0,strokeOpacity:0},to:{opacity:(e=i.opacity)!==null&&e!==void 0?e:1,fillOpacity:(t=i.fillOpacity)!==null&&t!==void 0?t:1,strokeOpacity:(n=i.strokeOpacity)!==null&&n!==void 0?n:1}}},nmt=(i={})=>{var e,t,n;return{from:{opacity:(e=i.opacity)!==null&&e!==void 0?e:1,fillOpacity:(t=i.fillOpacity)!==null&&t!==void 0?t:1,strokeOpacity:(n=i.strokeOpacity)!==null&&n!==void 0?n:1},to:{opacity:0,fillOpacity:0,strokeOpacity:0}}},Kue={fadeIn:imt,fadeOut:nmt};function Xue(i,e){var t,n;return(n=(t=Kue[e])===null||t===void 0?void 0:t.call(Kue,i))!==null&&n!==void 0?n:{from:{},to:{}}}function rmt(i,e,t){if(!ke(t)){const{duration:n,easing:r,increaseEffect:s=!0}=t;return i.animate().to(e.attribute,n,r),void(s&&que(i,e,n,r))}t.forEach((n,r)=>{const{duration:s,easing:a,increaseEffect:o=!0,channel:l}=n,{from:u,to:c}=smt(i,e,l,n.options);Mt(c)||i.animate().to(c,s,a),"text"in u&&"text"in c&&o&&que(i,e,s,a)})}const smt=(i,e,t,n)=>{const r=Object.assign({},i.attribute),s=Object.assign({},e.attribute);return we(n==null?void 0:n.excludeChannels).forEach(a=>{delete s[a]}),Object.keys(s).forEach(a=>{t&&!t.includes(a)&&delete s[a]}),{from:r,to:s}};function que(i,e,t,n){i.attribute.text!==e.attribute.text&&Ce(Number(i.attribute.text)*Number(e.attribute.text))&&i.animate().play(new hot({text:i.attribute.text},{text:e.attribute.text},t,n))}const N7={mode:"same-time",duration:300,easing:"linear"};function amt(i){return i.radius?{x:Math.cos(i.angle)*i.radius,y:Math.sin(i.angle)*i.radius}:{x:0,y:0}}function CI(i,e,t,n){const r=amt({radius:t,angle:n});return{x:i+r.x,y:e+r.y}}function omt(i){return(i=lmt(i))>0&&i<=Math.PI/2?2:i>Math.PI/2&&i<=Math.PI?3:i>Math.PI&&i<=3*Math.PI/2?4:1}function lmt(i){for(;i<0;)i+=2*Math.PI;for(;i>=2*Math.PI;)i-=2*Math.PI;return i}function dy(i){return i===3||i===4}function umt(i){return i===1||i===2}function cmt(i,e,t,n,r,s){if(i===0&&e===0||s<=0)return[];if(i===0){const h=-t/e,p=s**2-(h-r)**2;return p<0?[]:p===0?[{x:n,y:h}]:[{x:Math.sqrt(p)+n,y:h},{x:-Math.sqrt(p)+n,y:h}]}if(e===0){const h=-t/i,p=s**2-(h-n)**2;return p<0?[]:p===0?[{x:h,y:r}]:[{x:h,y:Math.sqrt(p)+r},{x:h,y:-Math.sqrt(p)+r}]}const a=(e/i)**2+1,o=2*((t/i+n)*(e/i)-r),l=o**2-4*a*((t/i+n)**2+r**2-s**2);if(l<0)return[];const u=(-o+Math.sqrt(l))/(2*a),c=(-o-Math.sqrt(l))/(2*a),d=-(e*u+t)/i;return l===0?[{x:d,y:u}]:[{x:d,y:u},{x:-(e*c+t)/i,y:c}]}function dmt(i,e){return e>2*i?NaN:2*Math.asin(e/2/i)}function hmt(i,e){const{x1:t,y1:n,x2:r,y2:s}=i,{x1:a,y1:o,x2:l,y2:u}=e;return!(t<=a&&r<=a||t>=l&&r>=l||n<=o&&s<=o||n>=u&&s>=u)}const qCe=(i,e,t="top",n=0)=>{if(!i)return;const{x1:r,y1:s,x2:a,y2:o}=i,l=Math.abs(a-r),u=Math.abs(o-s),c=(e.x1+e.x2)/2,d=(e.y1+e.y2)/2;let h=0,p=0,f=0,g=0;e&&(f=Math.abs(e.x1-e.x2)/2,g=Math.abs(e.y1-e.y2)/2);const v={"top-right":-235,"top-left":235,"bottom-right":45,"bottom-left":-45};switch(t){case"top":p=-1;break;case"bottom":p=1;break;case"left":h=-1;break;case"right":h=1;break;case"bottom-left":case"bottom-right":case"top-left":case"top-right":h=Math.sin(v[t]*(Math.PI/180)),p=Math.cos(v[t]*(Math.PI/180));break;case"center":h=0,p=0}return{x:c+h*(n+f)+Math.sign(h)*(l/2),y:d+p*(n+g)+Math.sign(p)*(u/2)}},pmt=i=>{if(!i||!i.attribute)return[];const{points:e,segments:t}=i.attribute;if(t&&t.length){const n=[];return t.forEach(r=>{r.points.forEach(s=>{n.push(s)})}),n}return e};function ZCe(i,e,t="end",n=0){if(!i||!e)return{x:1/0,y:1/0};const{x1:r,x2:s}=i,a=Math.abs(s-r),o=e.x1;let l=o;return t==="end"?l=o+a/2+n:t==="start"&&(l=o-a/2-n),{x:l,y:e.y1}}function fmt(i,e){if(!i||!e||gT(i,e,!0))return;const t=Math.min(i.x1,i.x2),n=Math.min(i.y1,i.y2),r=Math.min(e.x1,e.x2),s=Math.min(e.y1,e.y2),a=Math.abs(i.x2-t)/2,o=Math.abs(i.y2-n)/2,l=Math.abs(e.x2-r)/2,u=Math.abs(e.y2-s)/2,c=t+a,d=n+o,h=r+l,p=s+u,f=h-c,g=p-d;return[Zue(f,g,c,d,a,o),Zue(-f,-g,h,p,l,u)]}function Zue(i,e,t,n,r,s){return Math.abs(e/i)<s/r?{x:t+(i>0?r:-r),y:n+e*r/Math.abs(i)}:{x:t+i*s/Math.abs(e),y:n+(e>0?s:-s)}}function gmt(){Is(),Of(),M0(),gm()}gmt();class If extends Ba{setBitmap(e){this._bitmap=e}setBitmapTool(e){this._bmpTool=e}constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},If.defaultAttributes,e)),this.name="label",this._onHover=n=>{const r=n.target;r===this._lastHover||Mt(r.states)||(r.addState(Vs.hover,!0),Kh(this,s=>{s===r||Mt(s.states)||s.addState(Vs.hoverReverse,!0)}),this._lastHover=r)},this._onUnHover=n=>{this._lastHover&&(Kh(this,r=>{Mt(r.states)||(r.removeState(Vs.hoverReverse),r.removeState(Vs.hover))}),this._lastHover=null)},this._onClick=n=>{const r=n.target;if(this._lastSelect===r&&r.hasState("selected"))return this._lastSelect=null,void Kh(this,s=>{Mt(s.states)||(s.removeState(Vs.selectedReverse),s.removeState(Vs.selected))});Mt(r.states)||(r.addState(Vs.selected,!0),Kh(this,s=>{s===r||Mt(s.states)||s.addState(Vs.selectedReverse,!0)}),this._lastSelect=r)},this._handleRelatedGraphicSetState=n=>{var r,s,a,o,l;if(((r=n.detail)===null||r===void 0?void 0:r.type)===us.STATE||((s=n.detail)===null||s===void 0?void 0:s.type)===us.ANIMATE_UPDATE&&(!((a=n.detail.animationState)===null||a===void 0)&&a.isFirstFrameOfStep)){const u=(l=(o=n.target)===null||o===void 0?void 0:o.currentStates)!==null&&l!==void 0?l:[];(this._isCollectionBase?[...this._graphicToText.values()]:[this._graphicToText.get(n.target)]).forEach(c=>{c&&(c.text&&c.text.useStates(u),c.labelLine&&c.labelLine.useStates(u))})}}}labeling(e,t,n,r){}_createLabelLine(e,t){const n=fmt(e.AABBBounds,t==null?void 0:t.AABBBounds);if(n){const r=Ot.line({points:n});return t&&t.attribute.fill&&r.setAttribute("stroke",t.attribute.fill),this.attribute.line&&!Mt(this.attribute.line.style)&&r.setAttributes(this.attribute.line.style),this._setStatesOfLabelLine(r),r}}render(){if(this._prepare(),Y(this._idToGraphic)||this._isCollectionBase&&Y(this._idToPoint))return;const{overlap:e,smartInvert:t,dataFilter:n,customLayoutFunc:r,customOverlapFunc:s}=this.attribute;let a=this.attribute.data;Pe(n)&&(a=n(a));let o=this._initText(a);o=Pe(r)?r(a,o,this.getRelatedGraphic.bind(this),this._isCollectionBase?l=>this._idToPoint.get(l.id):null):this._layout(o),Pe(s)?o=s(o,this.getRelatedGraphic.bind(this),this._isCollectionBase?l=>this._idToPoint.get(l.id):null):e!==!1&&(o=this._overlapping(o)),o&&o.length&&o.forEach(l=>{this._bindEvent(l),this._setStatesOfText(l)}),t!==!1&&this._smartInvert(o),this._renderLabels(o)}_bindEvent(e){if(this.attribute.disableTriggerEvent||!e)return;const{hover:t,select:n}=this.attribute;t&&(e.addEventListener("pointermove",this._onHover),e.addEventListener("pointerout",this._onUnHover)),n&&e.addEventListener("pointerdown",this._onClick)}_setStatesOfText(e){if(!e)return;const t=this.attribute.state;t&&!Mt(t)&&(e.states=t)}_setStatesOfLabelLine(e){if(!e)return;const t=this.attribute.labelLineState;t&&!Mt(t)&&(e.states=t)}_createLabelText(e){var t,n;const r=Object.assign(Object.assign({},(n=(t=this.stage)===null||t===void 0?void 0:t.getTheme())===null||n===void 0?void 0:n.text),e);return zL(r,"textType")}_prepare(){var e,t,n,r,s;const a=[];let o;if(o=Pe(this.attribute.getBaseMarks)?this.attribute.getBaseMarks():Egt(this.getRootNode(),this.attribute.baseMarkGroupName),o.forEach(u=>{u.releaseStatus!=="willRelease"&&a.push(u)}),(e=this._idToGraphic)===null||e===void 0||e.clear(),(t=this._idToPoint)===null||t===void 0||t.clear(),this._baseMarks=a,this._isCollectionBase=this.attribute.type==="line-data",!a||a.length===0)return;const{data:l}=this.attribute;if(l&&l.length!==0){if(this._idToGraphic||(this._idToGraphic=new Map),this._isCollectionBase){this._idToPoint||(this._idToPoint=new Map);let u=0;for(let c=0;c<a.length;c++){const d=a[c],h=pmt(d);if(h&&h.length)for(let p=0;p<h.length;p++){const f=l[u];f&&h[p]&&(X(f.id)||(f.id=`vrender-component-${this.name}-${u}`),this._idToPoint.set(f.id,h[p]),this._idToGraphic.set(f.id,d)),u++}}}else for(let u=0;u<a.length;u++){const c=l[u],d=a[u];c&&d&&(X(c.id)||(c.id=`vrender-component-${this.name}-${u}`),this._idToGraphic.set(c.id,d))}if(this.attribute.animation!==!1){const u=yi(this.attribute.animation)?this.attribute.animation:{};this._animationConfig={enter:Ie({},N7,u,(n=this.attribute.animationEnter)!==null&&n!==void 0?n:{}),exit:Ie({},N7,u,(r=this.attribute.animationExit)!==null&&r!==void 0?r:{}),update:ke(this.attribute.animationUpdate)?this.attribute.animationUpdate:Ie({},N7,u,(s=this.attribute.animationUpdate)!==null&&s!==void 0?s:{})}}}}getRelatedGraphic(e){return this._idToGraphic.get(e.id)}_initText(e=[]){const{textStyle:t={}}=this.attribute,n=[];for(let r=0;r<e.length;r++){const s=e[r],a=this.getRelatedGraphic(s);if(!a)continue;const o=Object.assign(Object.assign({fill:this._isCollectionBase?ke(a.attribute.stroke)?a.attribute.stroke.find(u=>!!u&&u!==!0):a.attribute.stroke:a.attribute.fill},t),s),l=this._createLabelText(o);n.push(l)}return n}_layout(e){const{position:t,offset:n}=this.attribute;for(let r=0;r<e.length;r++){const s=e[r];if(!s)return;const a=s.attribute,o=this.getRelatedGraphic(a);if(!o)continue;s.attachedThemeGraphic=this;const l=this.getGraphicBounds(s);s.attachedThemeGraphic=null;const u=Pe(t)?t(a):t,c=this._isCollectionBase?this.getGraphicBounds(null,this._idToPoint.get(a.id),u):this.getGraphicBounds(o,{x:a.x,y:a.y},u),d=this.labeling(l,c,u,n);d&&s.setAttributes(d)}return e}_overlapping(e){var t,n,r,s;if(e.length===0)return[];const a=yi(this.attribute.overlap)?this.attribute.overlap:{},o=[],l=this.getBaseMarkGroup(),u=(t=a.size)!==null&&t!==void 0?t:{width:(n=l==null?void 0:l.AABBBounds.width())!==null&&n!==void 0?n:0,height:(r=l==null?void 0:l.AABBBounds.height())!==null&&r!==void 0?r:0};if(u.width===0||u.height===0)return e;const{avoidBaseMark:c,strategy:d=[],hideOnHit:h=!0,clampForce:p=!0,avoidMarks:f=[],overlapPadding:g}=a,v=this._bmpTool||XCe(u.width,u.height),m=this._bitmap||v.bitmap(),b=d.some(_=>_.type==="bound");c&&((s=this._baseMarks)===null||s===void 0||s.forEach(_=>{_.AABBBounds&&m.setRange(gg(v,_.AABBBounds,!0))})),f.length>0&&f.forEach(_=>{ct(_)?Agt(this.getRootNode(),_).forEach(S=>{S.AABBBounds&&m.setRange(gg(v,S.AABBBounds,!0))}):_.AABBBounds&&m.setRange(gg(v,_.AABBBounds,!0))});for(let _=0;_<e.length;_++){if(e[_].visible===!1)continue;const S=e[_],C=this.getRelatedGraphic(S.attribute);if(S.update(),!gT(C.AABBBounds,{x1:0,x2:v.width,y1:0,y2:v.height},!0))continue;if(W3(v,m,S.AABBBounds,p,g)){if(!b){m.setRange(gg(v,S.AABBBounds,!0)),o.push(S);continue}if(b&&C&&C.AABBBounds&&this._canPlaceInside(S.AABBBounds,C.AABBBounds)){m.setRange(gg(v,S.AABBBounds,!0)),o.push(S);continue}}let k=!1;for(let E=0;E<d.length;E++)if(k=Zgt(v,m,d[E],this.attribute,S,this._isCollectionBase?this.getGraphicBounds(null,this._idToPoint.get(e[_].attribute.id)):this.getGraphicBounds(C,e[_].attribute),this.labeling),k!==!1){S.setAttributes({x:k.x,y:k.y}),o.push(S);break}if(!k&&p){const{dx:E=0,dy:A=0}=tmt(S,v.width,v.height);if(E===0&&A===0){if(W3(v,m,S.AABBBounds)){m.setRange(gg(v,S.AABBBounds,!0)),o.push(S);continue}}else if(W3(v,m,{x1:S.AABBBounds.x1+E,x2:S.AABBBounds.x2+E,y1:S.AABBBounds.y1+A,y2:S.AABBBounds.y2+A})){S.setAttributes({x:S.attribute.x+E,y:S.attribute.y+A}),m.setRange(gg(v,S.AABBBounds,!0)),o.push(S);continue}}!k&&!h&&o.push(S)}return Pe(this.onAfterLabelOverlap)&&this.onAfterLabelOverlap(m),o}getBaseMarkGroup(){const{baseMarkGroupName:e}=this.attribute;if(e)return this.getRootNode().find(t=>t.name===e,!0)}getGraphicBounds(e,t={}){if(e){if(e.attribute.visible!==!1)return e.AABBBounds;const{x:s,y:a}=e.attribute;return{x1:s,x2:s,y1:a,y2:a}}const{x:n,y:r}=t;return{x1:n,x2:n,y1:r,y2:r}}_renderLabels(e){this._enableAnimation===!1||this.attribute.animation===!1?this._renderWithOutAnimation(e):this._renderWithAnimation(e)}_renderWithAnimation(e){var t;const n=new Map,r=this._graphicToText||new Map,s=[],a=[],{visible:o}=(t=this.attribute.line)!==null&&t!==void 0?t:{};e&&e.forEach((l,u)=>{const c=this.getRelatedGraphic(l.attribute),d=l.attribute.id,h=this._isCollectionBase?d:c,p=r!=null&&r.get(h)?"update":"enter";let f;if(o&&(f=this._createLabelLine(l,c)),p==="enter"){if(s.push(l),n.set(h,f?{text:l,labelLine:f}:{text:l}),c){const{from:g,to:v}=Xue(l.attribute,"fadeIn");this.add(l),f&&(a.push(f),this.add(f)),this._syncStateWithRelatedGraphic(c),this._animationConfig.enter.duration>0&&c.once("animate-bind",m=>{l.setAttributes(g),f&&f.setAttributes(g);const b=this._afterRelatedGraphicAttributeUpdate(l,s,f,a,u,c,v,this._animationConfig.enter);c.on("afterAttributeUpdate",b)})}}else if(p==="update"){const g=r.get(h);r.delete(h),n.set(h,g);const v=g.text,{duration:m,easing:b}=this._animationConfig.update;rmt(v,l,this._animationConfig.update),g.labelLine&&f&&g.labelLine.animate().to(f.attribute,m,b)}}),r.forEach(l=>{var u;(u=l.text)===null||u===void 0||u.animate().to(Xue(l.text.attribute,"fadeOut").to,this._animationConfig.exit.duration,this._animationConfig.exit.easing).onEnd(()=>{this.removeChild(l.text),l.labelLine&&this.removeChild(l.labelLine)})}),this._graphicToText=n}_renderWithOutAnimation(e){var t;const n=new Map,r=this._graphicToText||new Map,{visible:s}=(t=this.attribute.line)!==null&&t!==void 0?t:{};e&&e.forEach(a=>{const o=this.getRelatedGraphic(a.attribute),l=r!=null&&r.get(o)?"update":"enter",u=this._isCollectionBase?a.attribute.id:o;let c;if(s&&(c=this._createLabelLine(a,o)),l==="enter")n.set(u,c?{text:a,labelLine:c}:{text:a}),this.add(a),c&&this.add(c),this._syncStateWithRelatedGraphic(o);else if(l==="update"){const d=r.get(u);r.delete(u),n.set(u,d),d.text.setAttributes(a.attribute),d.labelLine&&c&&d.labelLine.setAttributes(c.attribute)}}),r.forEach(a=>{this.removeChild(a.text),a.labelLine&&this.removeChild(a.labelLine)}),this._graphicToText=n}_syncStateWithRelatedGraphic(e){this.attribute.syncState&&e.on("afterAttributeUpdate",this._handleRelatedGraphicSetState)}_afterRelatedGraphicAttributeUpdate(e,t,n,r,s,a,o,{mode:l,duration:u,easing:c,delay:d}){const h=p=>{var f,g,v;const{detail:m}=p;if(!m)return{};const b=(f=m.animationState)===null||f===void 0?void 0:f.step;if(!(m.type===us.ANIMATE_UPDATE&&b&&!(b.type==="wait"&&((g=b.prev)===null||g===void 0?void 0:g.type)==null)))return{};if(m.type===us.ANIMATE_END)return e.setAttributes(o),void(n&&n.setAttributes(o));const _=()=>{a&&(a.onAnimateBind=void 0,a.removeEventListener("afterAttributeUpdate",h))};switch(l){case"after":m.animationState.end&&(e.animate({onStart:_}).wait(d).to(o,u,c),n&&n.animate().wait(d).to(o,u,c));break;case"after-all":s===t.length-1&&m.animationState.end&&(t.forEach(S=>{S.animate({onStart:_}).wait(d).to(o,u,c)}),r.forEach(S=>{S.animate().wait(d).to(o,u,c)}));break;default:if(this._isCollectionBase){const S=this._idToPoint.get(e.attribute.id);!S||e.animates&&e.animates.has("label-animate")||!a.containsPoint(S.x,S.y,_T.LOCAL,(v=this.stage)===null||v===void 0?void 0:v.pickerService)||(e.animate({onStart:_}).wait(d).to(o,u,c),n&&n.animate().wait(d).to(o,u,c))}else m.animationState.isFirstFrameOfStep&&(e.animate({onStart:_}).wait(d).to(o,u,c),n&&n.animate().wait(d).to(o,u,c))}};return h}_smartInvert(e){var t,n,r,s,a;const o=yi(this.attribute.smartInvert)?this.attribute.smartInvert:{},{textType:l,contrastRatiosThreshold:u,alternativeColors:c,mode:d}=o,h=(t=o.fillStrategy)!==null&&t!==void 0?t:"invertBase",p=(n=o.strokeStrategy)!==null&&n!==void 0?n:"base",f=(r=o.brightColor)!==null&&r!==void 0?r:"#ffffff",g=(s=o.darkColor)!==null&&s!==void 0?s:"#000000",v=(a=o.outsideEnable)!==null&&a!==void 0&&a;if(h!=="null"||p!=="null")for(let m=0;m<e.length;m++){const b=e[m];if(!b)continue;const _=this.getRelatedGraphic(b.attribute),S=_.attribute.fill,C=b.attribute.fill,k=S,E=Uue(C,S,l,u,c,d),A=kX(E,f)?f:g;if(v){const P=k1(h,k,E,A);if(P&&b.setAttributes({fill:P}),b.attribute.lineWidth===0)continue;const O=k1(p,k,E,A);O&&b.setAttributes({stroke:O})}else if(this._canPlaceInside(b.AABBBounds,_.AABBBounds)){const P=k1(h,k,E,A);if(P&&b.setAttributes({fill:P}),b.attribute.lineWidth===0)continue;const O=k1(p,k,E,A);O&&b.setAttributes({stroke:O})}else{if(b.attribute.lineWidth===0)continue;if(b.attribute.stroke){b.setAttributes({fill:Uue(b.attribute.fill,b.attribute.stroke,l,u,c,d)});continue}const P=k1(h,k,E,A);P&&b.setAttributes({fill:P});const O=k1(p,k,E,A);O&&b.setAttributes({stroke:O})}}}_canPlaceInside(e,t){return!(!e||!t)&&t.encloses(e)}setLocation(e){this.translateTo(e.x,e.y)}disableAnimation(){this._enableAnimation=!1}enableAnimation(){this._enableAnimation=!0}}If.defaultAttributes={textStyle:{fontSize:12,textAlign:"center",textBaseline:"middle",boundsPadding:[-2,-1,-2,-1]},offset:0,pickable:!1};class o$ extends If{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},o$.defaultAttributes,e)),this.name="symbol-label"}labeling(e,t,n="top",r=0){return qCe(e,t,n,r)}}o$.defaultAttributes={textStyle:{fill:"#000"},position:"top",offset:5};class DT extends If{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},DT.defaultAttributes,e))}labeling(e,t,n="top",r=0){if(!e||!t)return;const{x1:s,y1:a,x2:o,y2:l}=e,u=Math.abs(o-s),c=Math.abs(l-a),{x:d,y:h}=yxe(t,n);let p=0,f=0;const g=n.includes("inside");switch(n.includes("top")?f=g?1:-1:n.includes("bottom")?f=g?-1:1:n.includes("left")?p=g?1:-1:n.includes("right")&&(p=g?-1:1),n){case"top-right":case"bottom-right":p=-1;break;case"top-left":case"bottom-left":p=1}return{x:d+p*r+p*u/2,y:h+f*r+f*c/2}}}DT.tag="rect-label",DT.defaultAttributes={textStyle:{fill:"#000"},position:"top",offset:5};let QCe=class JCe extends If{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},JCe.defaultAttributes,e)),this.name="line-label"}getGraphicBounds(e,t={},n="end"){if(!e||e.type!=="line")return super.getGraphicBounds(e,t);const r=e.attribute.points||[t],s=n==="start"?0:r.length-1;return r[s]?{x1:r[s].x,x2:r[s].x,y1:r[s].y,y2:r[s].y}:void 0}labeling(e,t,n="end",r=0){return ZCe(e,t,n,r)}};QCe.defaultAttributes={textStyle:{fill:"#000"},position:"end",offset:6};class mmt{constructor(e,t,n,r,s,a,o,l,u){this.refDatum=e,this.center=t,this.outerCenter=n,this.quadrant=r,this.radian=s,this.middleAngle=a,this.innerRadius=o,this.outerRadius=l,this.circleCenter=u,this.labelVisible=!0,this.labelLimit=0}getLabelBounds(){return this.labelPosition&&this.labelSize?{x1:this.labelPosition.x-this.labelSize.width/2,y1:this.labelPosition.y-this.labelSize.height/2,x2:this.labelPosition.x+this.labelSize.width/2,y2:this.labelPosition.y+this.labelSize.height/2}:{x1:0,x2:0,y1:0,y2:0}}}class l$ extends If{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},l$.defaultAttributes,e)),this.name="arc-label",this._ellipsisWidth=0,this._arcLeft=new Map,this._arcRight=new Map}_overlapping(e){return e}labeling(e,t,n="outside",r=0){if(e&&t)return{x:0,y:0}}_layout(e){if(!e||!e.length)return;const t=super._layout(e),n=t.map(c=>this.getGraphicBounds(c)),r=Object.assign(Object.assign({},this.attribute.textStyle),{text:""}),s=this._createLabelText(r),a=this.getGraphicBounds(s),o=a.x2-a.x1,l=t.map(c=>c.attribute),u=this.layoutArcLabels(this.attribute.position,this.attribute,Array.from(this._idToGraphic.values()),l,n,o);for(let c=0;c<l.length;c++){const d=l[c],h=u.find(p=>{var f;return((f=p.refDatum)===null||f===void 0?void 0:f.id)===d.id});if(h){const p={visible:h.labelVisible,x:h.labelPosition.x,y:h.labelPosition.y,angle:h.angle,maxLineWidth:h.labelLimit,points:h.pointA&&h.pointB&&h.pointC?[h.pointA,h.pointB,h.pointC]:void 0,line:h.labelLine};t[c].setAttributes(p)}}return t}layoutArcLabels(e,t,n,r,s,a){this._arcLeft.clear(),this._arcRight.clear(),this._ellipsisWidth=a;let o=0;n.forEach(d=>{d.attribute.outerRadius>o&&(o=d.attribute.outerRadius)}),r.forEach((d,h)=>{var p,f;const g=this._idToGraphic.get(d.id).attribute,v={x:(p=g==null?void 0:g.x)!==null&&p!==void 0?p:0,y:(f=g==null?void 0:g.y)!==null&&f!==void 0?f:0};if(!Y(r[h])&&!Y(s[h])){const m=r[h]?r[h]:null,b=s[h]?s[h]:{x1:0,x2:0,y1:0,y2:0},_=(g.startAngle+g.endAngle)/2,S=g.endAngle-g.startAngle,C=omt(g.endAngle-S/2),k=CI(v.x,v.y,g.outerRadius,_),E=CI(v.x,v.y,o+t.line.line1MinLength,_),A=new mmt(m,k,E,C,S,_,g.innerRadius,g.outerRadius,v);A.pointA=CI(v.x,v.y,this.computeDatumRadius(2*v.x,2*v.y,g.outerRadius),A.middleAngle),A.labelSize={width:b.x2-b.x1,height:b.y2-b.y1},umt(A.quadrant)?this._arcRight.set(A.refDatum,A):dy(A.quadrant)&&this._arcLeft.set(A.refDatum,A)}});const l=Array.from(this._arcLeft.values()),u=Array.from(this._arcRight.values()),c=[];switch(e){case"inside":case"inside-inner":case"inside-outer":c.push(...this._layoutInsideLabels(u,t,n)),c.push(...this._layoutInsideLabels(l,t,n));break;default:c.push(...this._layoutOutsideLabels(u,t,n)),c.push(...this._layoutOutsideLabels(l,t,n))}return c}_layoutInsideLabels(e,t,n){var r,s;const a=t,o=a.spaceWidth,l=(r=a.position)!==null&&r!==void 0?r:"inside",u=(s=a.offsetRadius)!==null&&s!==void 0?s:-o;return e.forEach(c=>{var d,h,p;const{labelSize:f,radian:g}=c,v=c.innerRadius,m=c.outerRadius;let b;if(g<dmt(m,f.height))b=0;else{let A;A=g>=Math.PI?v:Math.max(v,f.height/2/Math.tan(g/2)),b=m-A-o}a.rotate!==!0&&(b=m-o);const _=this._getFormatLabelText(c.refDatum,b);c.labelText=_;const S=Math.min(b,c.labelSize.width),C=this._computeAlign(c,t);let k,E=0;if(l==="inside"&&(E=C==="left"?S:C==="right"?0:S/2),k=l==="inside-inner"?v-u+E:m+u-E,c.labelPosition=CI(c.circleCenter.x,c.circleCenter.y,k,c.middleAngle),c.labelLimit=S,Wp(S,0)||(c.labelVisible=!1),a.rotate!==!1){c.angle=(h=(d=t.textStyle)===null||d===void 0?void 0:d.angle)!==null&&h!==void 0?h:c.middleAngle;let A=(p=a.offsetAngle)!==null&&p!==void 0?p:0;["inside-inner","inside-outer"].includes(l)&&(A+=Math.PI/2),c.angle+=A}}),e}_layoutOutsideLabels(e,t,n){var r,s,a;const o=(r=n[0].attribute.x)!==null&&r!==void 0?r:0,l=2*((s=n[0].attribute.y)!==null&&s!==void 0?s:0),u=t.line.line2MinLength,c=t.layout,d=t.spaceWidth;if(e.forEach(p=>{const f=dy(p.quadrant)?-1:1;p.labelPosition={x:p.outerCenter.x+f*(p.labelSize.width/2+u+d),y:p.outerCenter.y}}),e.sort((p,f)=>p.labelPosition.y-f.labelPosition.y),t.coverEnable!==!1||c.strategy==="none"){for(const p of e){const{labelPosition:f,labelSize:g}=p;p.labelLimit=g.width,p.pointB=dy(p.quadrant)?{x:f.x+g.width/2+u+d,y:f.y}:{x:f.x-g.width/2-u-d,y:f.y},this._computeX(p,t,n)}t.coverEnable===!1&&c.strategy==="none"&&this._coverLabels(e)}else{const p=l/(((a=t.textStyle)===null||a===void 0?void 0:a.fontSize)||16);this._adjustY(e,p,t,n);const{minY:f,maxY:g}=e.reduce((b,_)=>{const{y1:S,y2:C}=_.getLabelBounds();return b.minY=Math.max(0,Math.min(S,b.minY)),b.maxY=Math.min(l,Math.max(C,b.maxY)),b},{minY:1/0,maxY:-1/0}),v=Math.max(Math.abs(l/2-f),Math.abs(g-l/2)),m=this._computeLayoutRadius(v,t,n);for(const b of e)this._computePointB(b,m,t,n),this._computeX(b,t,n)}const h=2*o;return e.forEach(p=>{var f,g;p.labelVisible&&(Dh(p.pointB.x,u+d)||Wp(p.pointB.x,h-u-d))&&(p.labelVisible=!1),p.angle=(g=(f=t.textStyle)===null||f===void 0?void 0:f.angle)!==null&&g!==void 0?g:0,t.offsetAngle&&(p.angle+=t.offsetAngle),p.labelLine=Object.assign({},t.line)}),e}_computeX(e,t,n){var r;const s=e.circleCenter,a=2*s.x;s.y;let o=0;n.forEach(E=>{E.attribute.outerRadius>o&&(o=E.attribute.outerRadius)});const l=this.computeLayoutOuterRadius(o,t.width,t.height),u=t.line.line1MinLength,c=t.line.line2MinLength,d=(r=t.layout)===null||r===void 0?void 0:r.align,h=t.spaceWidth,{labelPosition:p,quadrant:f,pointB:g}=e;Ce(g.x*g.y)||(e.pointC={x:NaN,y:NaN},p.x=NaN,e.labelLimit=0);const v=this.computeRadius(l,t.width,t.height),m=dy(f)?-1:1;let b=0,_=(m>0?a-g.x:g.x)-c-h;d==="labelLine"&&(b=(v+u+c)*m+s.x,_=(m>0?a-b:b)-h);const S=this._getFormatLabelText(e.refDatum,_);e.labelText=S;let C=Math.min(_,e.labelSize.width);switch(d){case"labelLine":break;case"edge":b=m>0?a-C-h:C+h;break;default:b=g.x+m*c}C=Math.max(this._ellipsisWidth,C),e.labelLimit=C,e.pointC={x:b,y:p.y};const k=.5*(e.labelLimit<e.labelSize.width?e.labelLimit:e.labelSize.width);d==="edge"?p.x=(m>0?a+0:0)-m*k:p.x=b+0+m*(h+k)}_computeAlign(e,t){var n,r,s,a,o,l;const u=t,c=(r=(n=u.textStyle)===null||n===void 0?void 0:n.textAlign)!==null&&r!==void 0?r:(s=u.textStyle)===null||s===void 0?void 0:s.align,d=(o=(a=u.layout)===null||a===void 0?void 0:a.textAlign)!==null&&o!==void 0?o:(l=u.layout)===null||l===void 0?void 0:l.align;return u.position!=="inside"?Y(c)||c==="auto"?d==="edge"?dy(e.quadrant)?"left":"right":dy(e.quadrant)?"right":"left":c:Y(c)||c==="auto"?"center":c}_getFormatLabelText(e,t){var n;return(n=e==null?void 0:e.text)!==null&&n!==void 0?n:""}_adjustY(e,t,n,r){var s;r[0].attribute.x;const a=2*((s=r[0].attribute.y)!==null&&s!==void 0?s:0),o=n.layout;if(o.strategy==="vertical"){let l,u=0;const c=e.length;if(c<=0)return;for(let h=0;h<c;h++){const{y1:p}=e[h].getLabelBounds();if(l=p-u,Dh(l,0)){const g=this._shiftY(e,h,c-1,-l);this._shiftY(e,g,0,l/2)}const{y2:f}=e[h].getLabelBounds();u=f}const{y1:d}=e[0].getLabelBounds();l=d-0,Dh(l,0)&&this._shiftY(e,0,c-1,-l);for(let h=e.length-1;h>=0&&e[h].getLabelBounds().y2>a;h--)e[h].labelVisible=!1}else if(o.strategy!=="none"){const l=e.map((d,h)=>({arc:d,originIndex:h,priorityIndex:0}));l.sort((d,h)=>h.arc.radian-d.arc.radian),l.forEach((d,h)=>{d.priorityIndex=h,d.arc.labelVisible=!1});let u=1/0,c=-1/0;for(let d=0;d<t&&d<e.length;d++){this._storeY(e);const h=l[d].arc;this._computeYRange(h,n,r),h.labelVisible=!0;const p=h.labelPosition.y,{lastIndex:f,nextIndex:g}=this._findNeighborIndex(e,l[d]),v=e[f],m=e[g];if(f===-1&&g!==-1){const C=m.labelPosition.y;p>C?h.labelPosition.y=C-m.labelSize.height/2-h.labelSize.height/2:this._twoWayShift(e,h,m,g)}else if(f!==-1&&g===-1){const C=v.labelPosition.y;p<C?h.labelPosition.y=C+v.labelSize.height/2+h.labelSize.height/2:this._twoWayShift(e,v,h,l[d].originIndex)}else if(f!==-1&&g!==-1){const C=v.labelPosition.y,k=m.labelPosition.y;p>k?(h.labelPosition.y=k-m.labelSize.height/2-h.labelSize.height/2,this._twoWayShift(e,v,h,l[d].originIndex)):p<C?(h.labelPosition.y=C+v.labelSize.height/2+h.labelSize.height/2,this._twoWayShift(e,h,m,g)):(this._twoWayShift(e,v,h,l[d].originIndex),this._twoWayShift(e,h,m,g))}const b=Math.min(u,l[d].originIndex),_=Math.max(c,l[d].originIndex);let S;if(S=e[_].getLabelBounds().y2-a,Wp(S,0)&&this._shiftY(e,_,0,-S),S=e[b].getLabelBounds().y1-0,Dh(S,0)&&this._shiftY(e,b,e.length-1,-S),S=e[_].getLabelBounds().y2-a,Wp(S,0)){h.labelVisible=!1,this._restoreY(e);break}o.tangentConstraint&&!this._checkYRange(e)?(h.labelVisible=!1,this._restoreY(e)):(u=b,c=_)}}}_shiftY(e,t,n,r){const s=t<n?1:-1;let a=t;for(;a!==-1;){e[a].labelPosition.y+=r;const o=this._findNextVisibleIndex(e,a,n,s);if(o>=0&&o<e.length){const{y1:l,y2:u}=e[a].getLabelBounds(),{y1:c,y2:d}=e[o].getLabelBounds();if(s>0&&u<c||s<0&&l>d)return a}a=o}return n}_findNextVisibleIndex(e,t,n,r){const s=(n-t)*r;for(let a=1;a<=s;a++){const o=t+a*r;if(e[o].labelVisible)return o}return-1}_computePointB(e,t,n,r){const s=n;let a=0;r.forEach(u=>{u.attribute.outerRadius>a&&(a=u.attribute.outerRadius)});const o=this.computeLayoutOuterRadius(a,n.width,n.height),l=s.line.line1MinLength;if(s.layout.strategy==="none")e.pointB={x:e.outerCenter.x,y:e.outerCenter.y};else{const u=e.circleCenter,c=this.computeRadius(o,n.width,n.height),{labelPosition:d,quadrant:h}=e,p=t-Math.max(c+l,e.outerRadius),f=Math.sqrt(t**2-Math.abs(u.y-d.y)**2)-p;Ce(f)?e.pointB={x:u.x+f*(dy(h)?-1:1),y:d.y}:e.pointB={x:NaN,y:NaN}}}_storeY(e){for(const t of e)t.labelVisible&&(t.lastLabelY=t.labelPosition.y)}_computeYRange(e,t,n){const r=e.circleCenter,s={width:2*r.x,height:2*r.y};let a=0;n.forEach(C=>{C.attribute.outerRadius>a&&(a=C.attribute.outerRadius)});const o=this.computeLayoutOuterRadius(a,t.width,t.height),l=t.line.line1MinLength,{width:u,height:c}=s,d=this.computeRadius(o,t.width,t.height),h=this._computeLayoutRadius(c/2,t,n),p=Math.abs(e.center.x-u/2),f=e.center.y-c/2;let g,v,m;if(Ol(u/2,p))g=0,v=1,m=-f;else if(Ol(c/2,f))g=1,v=0,m=-p;else{const C=-1/(f/p);g=C,v=-1,m=f-C*p}const b=cmt(g,v,m,l+d-h,0,h);if(b.length<2)return;let _,S;b[0].x>b[1].x&&b.reverse(),b[0].x<0?Ol(b[0].y,b[1].y)?Wp(e.middleAngle,-Math.PI)&&Dh(e.middleAngle,0)||Wp(e.middleAngle,Math.PI)&&Dh(e.middleAngle,2*Math.PI)?(_=0,S=b[1].y+c/2):(_=b[1].y+c/2,S=c):b[0].y<b[1].y?(_=0,S=b[1].y+c/2):(_=b[1].y+c/2,S=s.height):(_=Math.min(b[0].y,b[1].y)+c/2,S=Math.max(b[0].y,b[1].y)+c/2),e.labelYRange=[_,S]}_computeLayoutRadius(e,t,n){const r=t,s=r.layoutArcGap,a=r.line.line1MinLength;let o=0;n.forEach(d=>{d.attribute.outerRadius>o&&(o=d.attribute.outerRadius)});const l=this.computeLayoutOuterRadius(o,t.width,t.height),u=this.computeRadius(l,t.width,t.height)+a,c=u-s;return Math.max((c**2+e**2)/(2*c),u)}_findNeighborIndex(e,t){const n=t.originIndex;let r=-1,s=-1;for(let a=n-1;a>=0;a--)if(e[a].labelVisible){r=a;break}for(let a=n+1;a<e.length;a++)if(e[a].labelVisible){s=a;break}return{lastIndex:r,nextIndex:s}}_twoWayShift(e,t,n,r){const s=n.getLabelBounds().y1-t.getLabelBounds().y2;if(Dh(s,0)){const a=this._shiftY(e,r,e.length-1,-s);this._shiftY(e,a,0,s/2)}}_restoreY(e){for(const t of e)t.labelVisible&&(t.labelPosition.y=t.lastLabelY)}_checkYRange(e){for(const t of e){const{labelYRange:n,labelPosition:r}=t;if(t.labelVisible&&n&&(Dh(r.y,n[0])||Wp(r.y,n[1])))return!1}return!0}_coverLabels(e){if(e.length<=1)return;let t=e[0].getLabelBounds();for(let n=1;n<e.length;n++){const r=e[n].getLabelBounds();hmt(t,r)?e[n].labelVisible=!1:t=r}}_createLabelLine(e,t){var n,r,s,a,o,l,u;const{points:c,line:d={},visible:h,fill:p}=e.attribute,f=e.attribute.points?Ot.line({visible:(s=(n=d.visible&&h)!==null&&n!==void 0?n:(r=e.attribute)===null||r===void 0?void 0:r.visible)===null||s===void 0||s,stroke:(o=(a=d.style)===null||a===void 0?void 0:a.stroke)!==null&&o!==void 0?o:p,lineWidth:(u=(l=d.style)===null||l===void 0?void 0:l.lineWidth)!==null&&u!==void 0?u:1,points:c,curveType:d.smooth?"basis":null}):void 0;return f&&this._setStatesOfLabelLine(f),f}computeRadius(e,t,n,r){return this.computeLayoutRadius(t||0,n||0)*e*(Y(r)?1:r)}computeLayoutRadius(e,t){return Math.min(e/2,t/2)}_canPlaceInside(e,t){return this.attribute.position==="inside"}computeLayoutOuterRadius(e,t,n){return e/(Math.min(t,n)/2)}computeDatumRadius(e,t,n){const r=this.computeLayoutOuterRadius(n,e,t);return this.computeLayoutRadius(e||0,t||0)*r}}l$.defaultAttributes={coverEnable:!1,spaceWidth:5,layoutArcGap:6,textStyle:{visible:!0,fontSize:14,fontWeight:"normal",fillOpacity:1,boundsPadding:[-1,0,-1,0]},position:"outside",line:{visible:!0,line1MinLength:20,line2MinLength:10},layout:{align:"arc",strategy:"priority",tangentConstraint:!0}};class u$ extends If{constructor(e){super(Ie({},u$.defaultAttributes,e)),this.name="line-label"}getGraphicBounds(e,t={},n="end"){var r;if(e.type!=="area")return super.getGraphicBounds(e,t);const s=((r=e==null?void 0:e.attribute)===null||r===void 0?void 0:r.points)||[t],a=n==="start"?0:s.length-1;return{x1:s[a].x,x2:s[a].x,y1:s[a].y,y2:s[a].y}}labeling(e,t,n="end",r=0){return ZCe(e,t,n,r)}}u$.defaultAttributes={textStyle:{fill:"#000"},position:"end",offset:6};class c$ extends If{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},c$.defaultAttributes,e)),this.name="line-data-label"}labeling(e,t,n="top",r=0){return qCe(e,t,n,r)}}c$.defaultAttributes={textStyle:{fill:"#000"},position:"top",offset:5};const vmt={rect:DT,symbol:o$,arc:l$,line:QCe,area:u$,"line-data":c$};class d$ extends Ba{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},d$.defaultAttributes,e)),this.name="data-label"}render(){var e;const{dataLabels:t,size:n}=this.attribute;if(!t||t.length===0)return;const{width:r=0,height:s=0,padding:a}=n||{};if(!r||!s||!Ce(s*r))return;this._componentMap||(this._componentMap=new Map);const o=XCe(r,s,a),l=o.bitmap(),u=new Map,c=this._componentMap;for(let d=0;d<t.length;d++){const h=t[d],p=vmt[h.type]||If;if(p){const{baseMarkGroupName:f,type:g}=h,v=(e=h.id)!==null&&e!==void 0?e:`${f}-${g}-${d}`;let m=this._componentMap.get(v);m?(m.setBitmapTool(o),m.setBitmap(l),m.setAttributes(h),u.set(v,m)):(m=new p(h),m.setBitmap(l),m.setBitmapTool(o),this.add(m),u.set(v,m))}}c.forEach((d,h)=>{u.get(h)||this.removeChild(d)}),this._componentMap=u}setLocation(e){this.translateTo(e.x,e.y)}disableAnimation(){this._componentMap.forEach(e=>{e.disableAnimation()})}enableAnimation(){this._componentMap.forEach(e=>{e.enableAnimation()})}}d$.defaultAttributes={pickable:!1};function EX(){Is(),gm(),e$(),rh()}function AX(){Is(),gm(),Uw(),rh()}EX();class Zg extends Ba{getStartAngle(){return uf(this._startAngle)}getEndAngle(){return uf(this._endAngle)}getMainSegmentPoints(){return this._mainSegmentPoints}constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},Zg.defaultAttributes,e)),this.name="segment",this.key="segment",this.lines=[]}render(){this.removeAllChild(!0),this._reset();const{startSymbol:e,endSymbol:t,lineStyle:n,state:r,visible:s=!0,multiSegment:a,mainSegmentIndex:o}=this.attribute;if(!s)return;this._computeLineAngle();const l=this._getMainSegmentPoints(),u=this._renderSymbol(e,l,"start"),c=this._renderSymbol(t,l,"end");if(this.startSymbol=u,this.endSymbol=c,a){const d=[...this.attribute.points];if(Ce(o))d[o]=this._clipPoints(d[o]);else{const h=this._clipPoints(EV(d));d[0][0]=h[0],d[d.length-1][d[d.length-1].length-1]=h[h.length-1]}d.forEach((h,p)=>{var f,g;const v=Ot.line(Object.assign(Object.assign({points:h},ke(n)?(f=n[p])!==null&&f!==void 0?f:n[n.length-1]:n),{fill:!1}));v.name=`${this.name}-line`,v.id=this._getNodeId("line"+p),Mt(r==null?void 0:r.line)||(v.states=ke(r.line)?(g=r.line[p])!==null&&g!==void 0?g:r.line[r.line.length-1]:r.line),this.add(v),this.lines.push(v)})}else{let d=Ot.line;we(n)[0].cornerRadius&&(d=Ot.polygon);const h=d(Object.assign(Object.assign({points:this._clipPoints(this.attribute.points)},we(n)[0]),{fill:!1,closePath:!1}));h.name=`${this.name}-line`,h.id=this._getNodeId("line"),Mt(r==null?void 0:r.line)||(h.states=[].concat(r.line)[0]),this.add(h),this.lines.push(h)}}_computeStartRotate(e){return e+Math.PI/2}_computeEndRotate(e){return e+Math.PI/2}_renderSymbol(e,t,n){if(!t.length)return;const{autoRotate:r=!0}=e;let s;if(e&&e.visible){const a=this.getStartAngle(),o=this.getEndAngle(),{state:l}=this.attribute,u=t[0],c=t[t.length-1],{refX:d=0,refY:h=0,refAngle:p=0,style:f,symbolType:g,size:v=12}=e;let m,b;n==="start"?(m={x:u.x+(Ce(a)?d*Math.cos(a)+h*Math.cos(a-Math.PI/2):0),y:u.y+(Ce(a)?d*Math.sin(a)+h*Math.sin(a-Math.PI/2):0)},b=this._computeStartRotate(this._startAngle)):(m={x:c.x+(Ce(o)?d*Math.cos(o)+h*Math.cos(o-Math.PI/2):0),y:c.y+(Ce(o)?d*Math.sin(o)+h*Math.sin(o-Math.PI/2):0)},b=this._computeEndRotate(this._endAngle)),s=Ot.symbol(Object.assign(Object.assign(Object.assign({},m),{symbolType:g,size:v,angle:r?b+p:0,strokeBoundsBuffer:0}),f)),s.name=`${this.name}-${n}-symbol`,s.id=this._getNodeId(`${n}-symbol`),Mt(l==null?void 0:l.symbol)||(s.states=l.symbol),n==="start"?Mt(l==null?void 0:l.startSymbol)||(s.states=l.startSymbol):Mt(l==null?void 0:l.endSymbol)||(s.states=l.endSymbol),this.add(s)}return s}_getMainSegmentPoints(){if(this._mainSegmentPoints)return this._mainSegmentPoints;const{points:e,multiSegment:t,mainSegmentIndex:n}=this.attribute;let r;return r=t?Ce(n)?e[n]:EV(e):e,this._mainSegmentPoints=r,r}_clipPoints(e){const{startSymbol:t={},endSymbol:n={}}=this.attribute;let r=e;if(t.visible){const s=t.clip?t.size||10:0;r=[{x:e[0].x-s/2*(Math.cos(this._startAngle)||0),y:e[0].y-s/2*(Math.sin(this._startAngle)||0)},...r.slice(1)]}if(n.visible){const s=n.clip?n.size||10:0,a={x:e[e.length-1].x-s/2*(Math.cos(this._endAngle)||0),y:e[e.length-1].y-s/2*(Math.sin(this._endAngle)||0)};r=[...r.slice(0,r.length-1),a]}return r}_computeLineAngle(){const e=this._getMainSegmentPoints();if(e.length<=1)return;const t=e[0],n=e[1],r=e[e.length-2],s=e[e.length-1],a=[t.x-n.x,t.y-n.y],o=Math.atan2(a[1],a[0]),l=[s.x-r.x,s.y-r.y],u=Math.atan2(l[1],l[0]);this._startAngle=o,this._endAngle=u}_reset(){this.startSymbol=null,this.endSymbol=null,this._startAngle=null,this._endAngle=null,this._mainSegmentPoints=null}}Zg.defaultAttributes={visible:!0,lineStyle:{lineWidth:1,stroke:"#000"},startSymbol:{visible:!1,autoRotate:!0,symbolType:"triangle",size:12,refX:0,refY:0,refAngle:0,style:{fill:"#000",zIndex:1}},endSymbol:{visible:!1,autoRotate:!0,symbolType:"triangle",size:12,refX:0,refY:0,refAngle:0,style:{fill:"#000",zIndex:1}}};AX();class _W extends Zg{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},Zg.defaultAttributes,e)),this.name="arc-segment",this.key="arc-segment",this.isReverseArc=!1}getStartAngle(){const e=this.isReverseArc?this._startAngle+Math.PI/2:this._startAngle-Math.PI/2;return e<0?e+2*Math.PI:e>2*Math.PI?e-2*Math.PI:e}getEndAngle(){const e=this.isReverseArc?this._endAngle-Math.PI/2:this._endAngle+Math.PI/2;return e<0?e+2*Math.PI:e>2*Math.PI?e-2*Math.PI:e}getMainSegmentPoints(){return this._mainSegmentPoints}_computeStartRotate(e){return this.isReverseArc?e+Math.PI:e}_computeEndRotate(e){return this.isReverseArc?e:e+Math.PI}render(){this.removeAllChild(!0),this._reset();const{startSymbol:e,endSymbol:t,lineStyle:n,state:r,visible:s=!0,radius:a,startAngle:o,endAngle:l,center:u}=this.attribute;if(!s)return;this._startAngle=o,this._endAngle=l,this.isReverseArc=o>l;const c={x:u.x+a*Math.cos(this._startAngle),y:u.y+a*Math.sin(this._startAngle)},d={x:u.x+a*Math.cos(this._endAngle),y:u.y+a*Math.sin(this._endAngle)};this._mainSegmentPoints=[c,d];const h=this._renderSymbol(e,this._mainSegmentPoints,"start"),p=this._renderSymbol(t,this._mainSegmentPoints,"end");this.startSymbol=h,this.endSymbol=p;const f=Ot.arc(Object.assign({x:u.x,y:u.y,startAngle:o,endAngle:l,innerRadius:a,outerRadius:a},n));f.name=`${this.name}-line`,f.id=this._getNodeId("arc"),Mt(r==null?void 0:r.line)||(f.states=[].concat(r.line)[0]),this.add(f),this.line=f}}var ml;(function(i){i.innerView="inner-view",i.axisContainer="axis-container",i.labelContainer="axis-label-container",i.tickContainer="axis-tick-container",i.tick="axis-tick",i.subTick="axis-sub-tick",i.label="axis-label",i.title="axis-title",i.gridContainer="axis-grid-container",i.grid="axis-grid",i.gridRegion="axis-grid-region",i.line="axis-line",i.background="axis-background",i.axisLabelBackground="axis-label-background"})(ml||(ml={}));var RS;(function(i){i.selected="selected",i.selectedReverse="selected_reverse",i.hover="hover",i.hoverReverse="hover_reverse"})(RS||(RS={}));const Gp={[RS.selectedReverse]:{},[RS.selected]:{},[RS.hover]:{},[RS.hoverReverse]:{}},HL={title:{space:4,padding:0,textStyle:{fontSize:12,fill:"#333333",fontWeight:"normal",fillOpacity:1}},label:{visible:!0,inside:!1,space:4,padding:0,style:{fontSize:12,fill:"#333",fontWeight:"normal",fillOpacity:1}},tick:{visible:!0,inside:!1,alignWithLabel:!0,length:4,style:{lineWidth:1,stroke:"#000",strokeOpacity:1}},subTick:{visible:!1,inside:!1,count:4,length:2,style:{lineWidth:1,stroke:"#999",strokeOpacity:1}},line:{visible:!0,style:{lineWidth:1,stroke:"#000",strokeOpacity:1}}},Que=(i=0)=>{if(i<0)for(;i<0;)i+=Ra;else if(i>0)for(;i>Ra;)i-=Ra;return i};function kI(i,e,t){return!Dh(i,e,0,1e-6)&&!Wp(i,t,0,1e-6)}function eke(i,e,t,n){const r=nP(Object.assign({text:t},n)),s=r.width(),a=r.height(),o=Que(Math.atan2(e[1],e[0]))-Math.PI,l=3*Math.PI/4,u=Math.PI/4,c=Math.PI/2,d=i.x;let h=0;h=kI(o,-l,-u)?((o+l)/c-.5)*s:kI(o,u,l)?(.5-(o-u)/c)*s:Math.cos(o)>=0?.5*s:.5*-s;const p=d-h,f=i.y;let g=0;return g=kI(o,-l,-u)?.5*-a:kI(o,u,l)?.5*a:Math.cos(o)>=0?(.5-(u-o)/c)*a:(.5-Que(o-l)/c)*a,{x:p,y:f-g}}function tke(i){const e={};return Kh(i,t=>{t.type!=="group"&&t.id&&(e[t.id]=t)}),e}function TX(i,e){return{x:i.x+e[0],y:i.y+e[1]}}function bW(i,e,t,n=!1,r=!1){const s=[e.x-t.x,e.y-t.y];return VCe(s,(n?-1:1)*(r?-1:1)*i/Mgt(s))}function ymt(i){let e="center",t="middle";return e=(i=uf(i))>=Math.PI*(5/3)||i<=Math.PI*(1/3)?"left":i>=Math.PI*(2/3)&&i<=Math.PI*(4/3)?"right":"center",t=i>=Math.PI*(7/6)&&i<=Math.PI*(11/6)?"bottom":i>=Math.PI*(1/6)&&i<=Math.PI*(5/6)?"top":"middle",{align:e,baseline:t}}function _mt(i,e,t,n,r,s,a){const o=Us({x:0,y:0},t,i),l=TX(o,bW(n,o,e,r));return eke(l,bW(n||1,l,e,r),s,a)}const ike=(i,e,t)=>{const n=i.target;return n!==t&&n.name&&!Mt(n.states)?(n.addState(Vs.hover,!0),Kh(e,r=>{r!==n&&r.name&&!Mt(r.states)&&r.addState(Vs.hoverReverse,!0)}),n):t},nke=(i,e,t)=>t&&(Kh(e,n=>{n.name&&!Mt(n.states)&&(n.removeState(Vs.hoverReverse),n.removeState(Vs.hover))}),null),rke=(i,e,t)=>{const n=i.target;return t===n&&n.hasState(Vs.selected)?(Kh(e,r=>{r.name&&!Mt(r.states)&&(r.removeState(Vs.selectedReverse),r.removeState(Vs.selected))}),null):n.name&&!Mt(n.states)?(n.addState(Vs.selected,!0),Kh(e,r=>{r!==n&&r.name&&!Mt(r.states)&&r.addState(Vs.selectedReverse,!0)}),n):t};class ske extends Ba{constructor(){super(...arguments),this.name="axis",this.data=[],this.tickLineItems=[],this.subTickLineItems=[],this.axisLabelLayerSize={},this.axisLabelsContainer=null,this._onHover=e=>{this._lastHover=ike(e,this.axisContainer,this._lastHover)},this._onUnHover=e=>{this._lastHover=nke(e,this.axisContainer,this._lastHover)},this._onClick=e=>{this._lastSelect=rke(e,this.axisContainer,this._lastSelect)}}getInnerView(){return this._innerView}getPrevInnerView(){return this._prevInnerView}getBoundsWithoutRender(e){const t=su(this.attribute);Ie(this.attribute,e);const n=Ot.group({x:this.attribute.x,y:this.attribute.y});return this.add(n),this._renderInner(n),this.removeChild(n),this.attribute=t,n.AABBBounds}render(){this._prevInnerView=this._innerView&&tke(this._innerView),this.removeAllChild(!0),this._innerView=Ot.group({x:0,y:0,pickable:!1}),this.add(this._innerView),this._renderInner(this._innerView),this._bindEvent()}_bindEvent(){if(this.attribute.disableTriggerEvent)return;const{hover:e,select:t}=this.attribute;e&&(this._innerView.addEventListener("pointermove",this._onHover),this._innerView.addEventListener("pointerout",this._onUnHover)),t&&this._innerView.addEventListener("pointerdown",this._onClick)}_renderInner(e){const{title:t,label:n,tick:r,line:s,items:a}=this.attribute,o=Ot.group({x:0,y:0,zIndex:1});if(o.name=ml.axisContainer,o.id=this._getNodeId("container"),o.setMode(this.mode),this.axisContainer=o,e.add(o),s&&s.visible&&this.renderLine(o),a&&a.length&&(this.data=this._transformItems(a[0]),r&&r.visible&&this.renderTicks(o),n&&n.visible)){const l=Ot.group({x:0,y:0,pickable:!1});l.name=ml.labelContainer,l.id=this._getNodeId("label-container"),this.axisLabelsContainer=l,o.add(l),a.forEach((u,c)=>{const d=this.renderLabels(l,u,c),h=d.getChildren();this.beforeLabelsOverlap(h,u,d,c,a.length),this.handleLabelsOverlap(h,u,d,c,a.length),this.afterLabelsOverlap(h,u,d,c,a.length);let p=0,f=0,g="center",v="middle";h.forEach(m=>{var b;const _=m.attribute,S=(b=_.angle)!==null&&b!==void 0?b:0,C=m.AABBBounds;let k=C.width(),E=C.height();S&&(k=Math.abs(k*Math.cos(S)),E=Math.abs(E*Math.sin(S))),p=Math.max(p,k),f=Math.max(f,E),g=_.textAlign,v=_.textBaseline}),this.axisLabelLayerSize[c]={width:p,height:f,textAlign:g,textBaseline:v}})}t&&t.visible&&this.renderTitle(o)}renderTicks(e){const t=this.getTickLineItems(),n=Ot.group({x:0,y:0,pickable:!1});n.name=ml.tickContainer,n.id=this._getNodeId("tick-container"),e.add(n),t.forEach((s,a)=>{var o;const l=Ot.line(Object.assign({},this._getTickLineAttribute("tick",s,a,t)));if(l.name=ml.tick,l.id=this._getNodeId(s.id),Mt((o=this.attribute.tick)===null||o===void 0?void 0:o.state))l.states=Mi;else{const u=this.data[a],c=Ie({},Mi,this.attribute.tick.state);Object.keys(c).forEach(d=>{Pe(c[d])&&(c[d]=c[d](u.rawValue,a,u,this.data))}),l.states=c}n.add(l)}),this.tickLineItems=t;const{subTick:r}=this.attribute;if(r&&r.visible){const s=this.getSubTickLineItems();s.length&&s.forEach((a,o)=>{const l=Ot.line(Object.assign({},this._getTickLineAttribute("subTick",a,o,t)));if(l.name=ml.subTick,l.id=this._getNodeId(`${o}`),Mt(r.state))l.states=Mi;else{const u=Ie({},Mi,r.state);Object.keys(u).forEach(c=>{Pe(u[c])&&(u[c]=u[c](a.value,o,a,t))}),l.states=u}n.add(l)}),this.subTickLineItems=s}}renderLabels(e,t,n){const{dataFilter:r}=this.attribute.label;r&&Pe(r)&&(t=r(t,n));const s=this._transformItems(t),a=Ot.group({x:0,y:0,pickable:!1});return a.name=`${ml.labelContainer}-layer-${n}`,a.id=this._getNodeId(`label-container-layer-${n}`),e.add(a),s.forEach((o,l)=>{var u;const c=this._getLabelAttribute(o,l,s,n),d=zL(c);if(d.name=ml.label,d.id=this._getNodeId(`layer${n}-label-${o.id}`),Mt((u=this.attribute.label)===null||u===void 0?void 0:u.state))d.states=Mi;else{const h=Ie({},Mi,this.attribute.label.state);Object.keys(h).forEach(p=>{Pe(h[p])&&(h[p]=h[p](o,l,s,n))}),d.states=h}a.add(d)}),a}renderTitle(e){const t=this.getTitleAttribute(),n=new Mf(Object.assign({},t));n.name=ml.title,n.id=this._getNodeId("title"),e.add(n)}getVerticalCoord(e,t,n){return TX(e,this.getVerticalVector(t,n,e))}getTextAlign(e){let t="center";return Ol(e[0],0)?Ol(e[1],0)?Object.is(e[1],-0)?t="start":Object.is(e[0],-0)&&(t="end"):t="center":e[0]>0?t="start":e[0]<0&&(t="end"),t}getTickLineItems(){const{tick:e}=this.attribute,t=this.data,n=[],{alignWithLabel:r,inside:s=!1,length:a,dataFilter:o}=e;let l=1;return t.length>=2&&(l=t[1].value-t[0].value),(o&&Pe(o)?o(t):t).forEach(u=>{let c=u.point,d=u.value;if(!r){const p=u.value-l/2;if(this.isInValidValue(p))return;c=this.getTickCoord(p),d=p}const h=this.getVerticalCoord(c,a,s);if(this.mode==="3d"){const p=this.getVerticalVector(a,s,c);let f=0,g=0;dn(p[0])>dn(p[1])?f=Dn/2*(h.x>c.x?1:-1):g=Dn/2*(h.y>c.y?-1:1),n.push({start:c,end:h,value:d,id:`tick-${u.id}`,anchor:[c.x,c.y],alpha:f,beta:g})}else n.push({start:c,end:h,value:d,id:`tick-${u.id}`})}),n}getSubTickLineItems(){const{subTick:e}=this.attribute,t=[],{count:n=4,inside:r=!1,length:s=2}=e,a=this.tickLineItems,o=a.length;if(o>=2)for(let l=0;l<o-1;l++){const u=a[l],c=a[l+1];for(let d=0;d<n;d++){const h=(d+1)/(n+1),p=(1-h)*u.value+h*c.value,f=this.getTickCoord(p),g=this.getVerticalCoord(f,s,r);t.push({start:f,end:g,value:p,id:`sub-tick-${p}`})}}return t}_getTickLineAttribute(e,t,n,r){let s=bi(this.attribute,`${e}.style`);const a=this.data[n];s=Pe(s)?Ie({},bi(HL,`${e}.style`),e==="tick"?s(a.rawValue,n,a,this.data):s(t.value,n,t,r)):s;const{start:o,end:l,anchor:u,alpha:c,beta:d}=t;return Object.assign({points:[o,l],anchor:u,alpha:c,beta:d},s)}_getLabelAttribute(e,t,n,r){var s,a;const{space:o=4,inside:l=!1,formatMethod:u,type:c="text",text:d}=this.attribute.label;let h=o,p=0;!((s=this.attribute.tick)===null||s===void 0)&&s.visible&&this.attribute.tick.inside===l&&(p=this.attribute.tick.length||4),!((a=this.attribute.subTick)===null||a===void 0)&&a.visible&&this.attribute.subTick.inside===l&&(p=Math.max(p,this.attribute.subTick.length||2)),h+=p;const f=this.getRelativeVector(e.point);r>0&&(f[1]===0?h+=(this.axisLabelLayerSize[r-1].height+bi(this.attribute,"label.space",4))*r:h+=(this.axisLabelLayerSize[r-1].width+bi(this.attribute,"label.space",4))*r);const g=this.getVerticalCoord(e.point,h,l),v=this.getVerticalVector(h||1,l,g),m=u?u(`${e.label}`,e,t,n,r):e.label;let{style:b}=this.attribute.label;b=Pe(b)?Ie({},HL.label.style,b(e,t,n,r)):b;const _=this.getLabelAlign(v,l,b.angle);return b=Ie(_,b),Pe(b.text)&&(b.text=b.text({label:e.label,value:e.rawValue,index:e.index,layer:r})),Object.assign(Object.assign(Object.assign({},this.getLabelPosition(g,v,m,b)),{text:d??m,_originText:e.label,lineHeight:b==null?void 0:b.fontSize,type:c}),b)}getLabelPosition(e,t,n,r){return e}_transformItems(e){const t=[];return e.forEach(n=>{var r;t.push(Object.assign(Object.assign({},n),{point:this.getTickCoord(n.value),id:(r=n.id)!==null&&r!==void 0?r:n.label}))}),t}release(){super.release(),this._prevInnerView=null,this._innerView=null}}function bmt(i,e,t,n,r){return{x:(i-n)*Math.cos(t)+(e-r)*Math.sin(t)+n,y:(i-n)*Math.sin(t)+(r-e)*Math.cos(t)+r}}function Smt(i){const e=i.AABBBounds;return{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,centerX:i.attribute.x,centerY:i.attribute.y,angle:i.attribute.angle}}function ake(i){i.forEach(e=>{if(e.rotatedBounds||!e.attribute.angle)return;const t=Smt(e),n=bmt(t.centerX,t.centerY,t.angle,e.attribute.x,e.attribute.y),r=n.x-t.centerX,s=n.y-t.centerY;t.x1+=r,t.x2+=r,t.y1+=s,t.y2+=s,t.centerX+=r,t.centerY+=s,e.rotatedBounds=t})}function xmt(i,e){return gT(i.AABBBounds,e.AABBBounds,!1)&&(!i.rotatedBounds||!e.rotatedBounds||Jnt(i.rotatedBounds,e.rotatedBounds,!0))}const Jue={parity:function(i){return i.filter((e,t)=>t%2?e.setAttribute("opacity",0):1)},greedy:function(i,e){let t;return i.filter((n,r)=>r&&PX(t,n,e)?n.setAttribute("opacity",0):(t=n,1))}};function PX(i,e,t){const n=i.AABBBounds,r=e.AABBBounds;return t>Math.max(r.x1-n.x2,n.x1-r.x2,r.y1-n.y2,n.y1-r.y2)&&(!i.rotatedBounds||!e.rotatedBounds||t>Math.max(e.rotatedBounds.x1-i.rotatedBounds.x2,i.rotatedBounds.x1-e.rotatedBounds.x2,e.rotatedBounds.y1-i.rotatedBounds.y2,i.rotatedBounds.y1-e.rotatedBounds.y2))}function ece(i,e){for(let t,n=1,r=i.length,s=i[0];n<r;s=t,++n)if(PX(s,t=i[n],e))return!0}function wmt(i){const e=i.AABBBounds;return e.width()>1&&e.height()>1}function Cmt(i){return i.forEach(e=>e.setAttribute("opacity",1)),i}function kmt(i,e){if(Mt(i))return;const t=i.filter(wmt);if(Mt(t))return;let n;n=Cmt(t),ake(n);const{method:r="parity",separation:s=0}=e,a=Pe(r)?r:Jue[r]||Jue.parity;if(n.length>=3&&ece(n,s)){do n=a(n,s);while(n.length>=3&&ece(n,s));if(n.length<3||e.lastVisible){const o=Hv(t);if(!o.attribute.opacity){const l=n.length;if(l>1){o.setAttribute("opacity",1);for(let u=l-1;u>=0&&PX(n[u],o,s);u--)n[u].setAttribute("opacity",0)}}}}t.forEach(o=>{o.setAttribute("visible",!!o.attribute.opacity)})}function Emt(i,e){if(Mt(i))return;const{orient:t,labelRotateAngle:n=[0,45,90]}=e;if(n.length===0||i.some(a=>!!a.attribute.angle))return;let r=0,s=0;for(n&&n.length>0&&(s=n.length);r<s;){const a=n[r++];if(i.forEach(o=>{o.attribute.angle=Pn(a)}),Tmt(t,i),!Amt(i))break}}function Amt(i){for(let e=1;e<i.length;e++)if(xmt(i[e-1],i[e]))return!0;return!1}function Tmt(i,e){i!=="bottom"&&i!=="top"||Omt(i,e),i!=="left"&&i!=="right"||Pmt(i,e),ake(e)}function h$(i=0){if(i<0)for(;i<0;)i+=2*Math.PI;if(i>0)for(;i>=2*Math.PI;)i-=2*Math.PI;return i}function Pmt(i,e){e.forEach((t,n)=>{t.attribute.angle&&t.setAttributes(Object.assign(Object.assign({},lke(i,t.attribute.angle)),{angle:h$(t.attribute.angle)}))})}function Omt(i,e){e.forEach(t=>{t.attribute.angle&&t.setAttributes(Object.assign(Object.assign({},oke(i,t.attribute.angle)),{angle:h$(t.attribute.angle)}))})}function oke(i,e=0){let t=["center","left","left","left","center","right","right","right","left"],n=["top","top","middle","bottom","bottom","bottom","middle","top","top"];i==="top"&&(t=["center","right","right","right","center","left","left","left","right"],n=["bottom","bottom","middle","top","top","top","middle","bottom","bottom"]);const r=(e=h$(e))/(.5*Math.PI);let s;return s=r===Math.floor(r)?2*Math.floor(r):2*Math.floor(r)+1,{textAlign:t[s],textBaseline:n[s]}}function lke(i,e=0){let t=["right","right","center","left","center","left","center","right","right"],n=["middle","middle","top","top","middle","middle","bottom","bottom","middle"];i==="right"&&(t=["left","right","right","right","left","left","left","left","right"],n=["middle","bottom","middle","top","top","top","middle","bottom","bottom"]);const r=(e=h$(e))/(.5*Math.PI);let s;return s=r===Math.floor(r)?2*Math.floor(r):2*Math.floor(r)+1,{textAlign:t[s],textBaseline:n[s]}}function Mmt(i,e){const{limitLength:t,verticalLimitLength:n,ellipsis:r="...",orient:s,axisLength:a}=e;if(Mt(i)||!Ce(t))return;const o=Math.sin(Math.PI/10);i.forEach(l=>{var u;const c=l.attribute.angle,d=!Y(c),h=d?Math.cos(c):1,p=d?Math.sin(c):0,f=!d||Math.abs(p)<=o,g=d&&Math.abs(h)<=o,v=s==="top"||s==="bottom";if(v&&(g&&Math.floor(l.AABBBounds.height())<=t||f&&Math.floor(l.AABBBounds.width())<=n))return;const m=l.attribute.direction;if(!v&&(m==="vertical"&&Math.floor(l.AABBBounds.height())<=n||m!=="vertical"&&(f&&Math.floor(l.AABBBounds.width())<=t||g&&Math.floor(l.AABBBounds.height())<=n)))return;let b=null;if(f||g)b=v?f?n:t:m==="vertical"||g?n:t;else if(v){const{x1:_,x2:S}=l.AABBBounds,C=p/h;b=C>0&&_<=a&&t/C+_>a?(a-_)/Math.abs(h):C<0&&S>=0&&t/C+S<0?S/Math.abs(h):Math.abs(t/p)}else b=Math.abs(t/h);Ce(l.attribute.maxLineWidth)&&(b=Ce(b)?Math.min(l.attribute.maxLineWidth,b):l.attribute.maxLineWidth),l.setAttributes({maxLineWidth:b,ellipsis:(u=l.attribute.ellipsis)!==null&&u!==void 0?u:r})})}function Imt(i,e,t,n,r){if(n==="right"||n==="left"){if(r==="left"){const s=n==="right"?0:-1;i.forEach(a=>{a.setAttributes({x:e+t*s,textAlign:"left"})})}else if(r==="right"){const s=n==="right"?1:0;i.forEach(a=>{a.setAttributes({x:e+t*s,textAlign:"right"})})}else if(r==="center"){const s=n==="right"?1:-1;i.forEach(a=>{a.setAttributes({x:e+.5*t*s,textAlign:"center"})})}}else if(n==="bottom"||n==="top"){if(r==="top"){const s=n==="bottom"?0:-1;i.forEach(a=>{a.setAttributes({y:e+t*s,textBaseline:"top"})})}else if(r==="bottom"){const s=n==="bottom"?1:0;i.forEach(a=>{a.setAttributes({y:e+t*s,textBaseline:"bottom"})})}else if(r==="middle"){const s=n==="bottom"?1:-1;i.forEach(a=>{a.setAttributes({y:e+.5*t*s,textBaseline:"middle"})})}}}class uke{isInValidValue(e){return e<0||e>1}getTickCoord(e){const{start:t}=this.attribute,n=this.getRelativeVector();return{x:t.x+n[0]*e,y:t.y+n[1]*e}}getRelativeVector(e){const{start:t,end:n}=this.attribute;return[n.x-t.x,n.y-t.y]}getVerticalVector(e,t=!1,n){const{verticalFactor:r=1}=this.attribute,s=this.getRelativeVector(),a=Igt(s),o=[a[1],-1*a[0]];return VCe(o,e*(t?1:-1)*r)}}function cke(){Is(),gm(),M0(),Of()}function Rmt(){cke(),mm()}function Dmt(){cke(),bgt()}function Lmt(){Is(),sP()}function Fmt(){Is(),sP()}var tce=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};Rmt();class LT extends ske{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},LT.defaultAttributes,e),t)}_renderInner(e){var t;super._renderInner(e);const{panel:n}=this.attribute;if(n&&n.visible){const r=this.axisContainer,s=r.AABBBounds,a=Ot.rect(Object.assign({x:s.x1,y:s.y1,width:s.width(),height:s.height()},n.style));a.name=ml.background,a.id=this._getNodeId("background"),a.states=Ie({},Gp,(t=n.state)!==null&&t!==void 0?t:{}),r.insertBefore(a,r.firstChild)}}renderLine(e){const{start:t,end:n,line:r}=this.attribute,s=r,{startSymbol:a,endSymbol:o,style:l,breakRange:u,breakShape:c,breakShapeStyle:d,state:h}=s,p=tce(s,["startSymbol","endSymbol","style","breakRange","breakShape","breakShapeStyle","state"]),f=Object.assign({points:[t,n],startSymbol:a,endSymbol:o,lineStyle:l},p);Mt(h)||(f.state={line:Ie({},Gp,h),symbol:Ie({},Gp,h)});const g=new Zg(f);g.name=ml.line,g.id=this._getNodeId("line"),e.add(g)}getTitleAttribute(){var e,t,n;const r=this.attribute.title,{position:s="middle",space:a=4,textStyle:o={},autoRotate:l=!0,shape:u,background:c,state:d={},maxWidth:h}=r,p=tce(r,["position","space","textStyle","autoRotate","shape","background","state","maxWidth"]);let f=.5;s==="start"?f=0:s==="end"&&(f=1);const{verticalFactor:g=1}=this.attribute,v=-1*g,m=this.getTickCoord(f),b=this.getRelativeVector();let _=0;if(!((e=this.attribute.label)===null||e===void 0)&&e.visible&&this.attribute.label.inside===!1){const L=+bi(this.attribute,"label.space",4);_+=L;const H=Object.keys(this.axisLabelLayerSize).length;if(b[1]===0){const B=this.axisLabelsContainer?this.axisLabelsContainer.AABBBounds.height():0;isFinite(B)?_+=B+(H-1)*L:_=0}else{if(b[0]===0){const U=this.axisLabelsContainer?this.axisLabelsContainer.AABBBounds.width():0;isFinite(U)?_+=U+(H-1)*L:_=0}else Object.keys(this.axisLabelLayerSize).forEach((U,G)=>{_+=this.axisLabelLayerSize[U].width+(G>0?L:0)});const B=this.axisLabelLayerSize[0].textAlign,F=B==="start"||B==="left",z=B==="center",N=b[1]>0;_=v===1?N?F?_:z?_/2:L:F?L:z?_/2:_:N?F?L:z?_/2:_:F?_:z?_/2:L}}let S=0;!((t=this.attribute.tick)===null||t===void 0)&&t.visible&&this.attribute.tick.inside===!1&&(S=this.attribute.tick.length||4),!((n=this.attribute.subTick)===null||n===void 0)&&n.visible&&this.attribute.subTick.inside===!1&&(S=Math.max(S,this.attribute.subTick.length||2));const C=S+_+a,k=this.getVerticalCoord(m,C,!1),E=this.getVerticalVector(C,!1,{x:0,y:0});let A,P,{angle:O}=p;if(A=s==="start"?"start":s==="end"?"end":"center",Y(O)&&l){O=Lgt(b,[1,0],!0);const{verticalFactor:L=1}=this.attribute;P=-1*L===1?"bottom":"top"}else A=this.getTextAlign(E),P=this.getTextBaseline(E,!1);let M=h;if(Y(M)){const{verticalLimitSize:L,verticalMinSize:H,orient:B}=this.attribute,F=Math.min(L||1/0,H||1/0);if(Ce(F))if(B==="bottom"||B==="top")if(O!==Math.PI/2){const z=Math.abs(Math.cos(O??0));M=z<1e-6?1/0:this.attribute.end.x/z}else M=F-C;else if(O&&O!==0){const z=Math.abs(Math.sin(O));M=z<1e-6?1/0:this.attribute.end.y/z}else M=F-C}const D=Object.assign(Object.assign(Object.assign({},k),p),{maxWidth:M,textStyle:Object.assign({textAlign:A,textBaseline:P},o),state:{text:Ie({},Gp,d.text),shape:Ie({},Gp,d.shape),panel:Ie({},Gp,d.background)}});return D.angle=O,u&&u.visible&&(D.shape=Object.assign({visible:!0},u.style),u.space&&(D.space=u.space)),c&&c.visible&&(D.panel=Object.assign({visible:!0},c.style)),D}getTextBaseline(e,t){let n="middle";const{verticalFactor:r=1}=this.attribute,s=(t?1:-1)*r;return Ol(e[1],0)?n=!Ol(e[0],0)||Object.is(e[0],-0)||Object.is(e[1],-0)?"middle":s===1?"bottom":"top":e[1]>0?n="top":e[1]<0&&(n="bottom"),n}getLabelAlign(e,t,n){const r=this.attribute.orient;if(["top","bottom","right","left"].includes(r)||e[0]===0&&e[1]===0){if(r==="top"||r==="bottom")return oke(t?r==="bottom"?"top":"bottom":r,n);if(r==="left"||r==="right")return lke(t?r==="left"?"right":"left":r,n)}return{textAlign:this.getTextAlign(e),textBaseline:this.getTextBaseline(e,t)}}beforeLabelsOverlap(e,t,n,r,s){var a,o,l,u;const{flush:c=!1}=this.attribute.label||{};if(c&&e.length){const{orient:d,start:h,end:p}=this.attribute,f=d==="bottom"||d==="top",g=e[0],v=Hv(e),m=f?g.attribute.x>v.attribute.x:g.attribute.y<v.attribute.y;if(f){const b=m?v:g,_=m?g:v,S=h.x,C=p.x,k=b.AABBBounds.x1,E=_.AABBBounds.x2;k<S&&(b.attribute.angle?b.setAttributes({dx:((a=b.attribute.dx)!==null&&a!==void 0?a:0)+S-k}):b.setAttributes({x:S,textAlign:"left"})),E>C&&(_.attribute.angle?_.setAttributes({dx:((o=_.attribute.dx)!==null&&o!==void 0?o:0)+C-E}):_.setAttributes({x:C,textAlign:"right"}))}else{const b=m?v:g,_=m?g:v,S=b.AABBBounds.y2,C=_.AABBBounds.y1,k=h.y,E=p.y;C<k&&(_.attribute.angle?_.setAttributes({dy:((l=_.attribute.dy)!==null&&l!==void 0?l:0)+k-C}):_.setAttributes({y:k,textBaseline:"top"})),S>E&&(b.attribute.angle?b.setAttributes({dy:((u=b.attribute.dy)!==null&&u!==void 0?u:0)+E-S}):b.setAttributes({y:E,textBaseline:"bottom"}))}}}handleLabelsOverlap(e,t,n,r,s){if(Mt(e))return;const{verticalLimitSize:a,label:o,orient:l}=this.attribute,u=this._getAxisLabelLimitLength(a,s),{layoutFunc:c,autoRotate:d,autoRotateAngle:h,autoLimit:p,limitEllipsis:f,autoHide:g,autoHideMethod:v,autoHideSeparation:m,lastVisible:b}=o;if(Pe(c))c(e,t,r,this);else{if(d&&Emt(e,{labelRotateAngle:h,orient:l}),p&&Ce(u)&&u>0){const _=l==="left"||l==="right",S=Math.abs(_?this.attribute.start.y-this.attribute.end.y:this.attribute.start.x-this.attribute.end.x),C=_?S/e.length:g||d?1/0:S/e.length;Mmt(e,{limitLength:u,verticalLimitLength:C,ellipsis:f,orient:l,axisLength:S})}g&&kmt(e,{orient:l,method:v,separation:m,lastVisible:b})}}afterLabelsOverlap(e,t,n,r,s){const{verticalLimitSize:a,orient:o}=this.attribute,l=o==="bottom"||o==="top",u=n.AABBBounds;let c=l?u.height():u.width();const{verticalMinSize:d}=this.attribute;if(Ce(d)&&(!Ce(a)||d<=a)){const h=this._getAxisLabelLimitLength(d,s);let p,f;c=Math.max(c,h),o==="left"?(p=u.x2-c,f=u.y1):o==="right"?(p=u.x1,f=u.y1):o==="top"?(p=u.x1,f=u.y2-c):o==="bottom"&&(p=u.x1,f=u.y1);const g=Ot.rect({x:p,y:f,width:l?u.width():c,height:l?c:u.height(),pickable:!1});g.name=ml.axisLabelBackground,g.id=this._getNodeId("axis-label-background"),n.insertBefore(g,n.firstChild)}if(X(this.attribute.label.containerAlign)){let h;o==="left"?h=u.x2:o==="right"?h=u.x1:o==="top"?h=u.y2:o==="bottom"&&(h=u.y1),Imt(e,h,c,o,this.attribute.label.containerAlign)}}_getAxisLabelLimitLength(e,t){var n,r,s,a,o;const{label:l,title:u,line:c,tick:d}=this.attribute,h=(n=l.space)!==null&&n!==void 0?n:4;let p=e,f=0,g=0;const v=c&&c.visible?(r=c.style.lineWidth)!==null&&r!==void 0?r:1:0,m=d&&d.visible?(s=d.length)!==null&&s!==void 0?s:4:0;if(u&&u.visible&&typeof u.text=="string"){f=t$(u.text,u.textStyle,(o=(a=this.stage)===null||a===void 0?void 0:a.getTheme())===null||o===void 0?void 0:o.text).height;const b=au(u.padding);g=u.space+b[0]+b[2]}return p&&(p=(p-h-g-f-v-m)/t),p}}LT.defaultAttributes=HL,wa(LT,uke);class dke{isInValidValue(e){const{startAngle:t=qx,endAngle:n=Zx}=this.attribute;return Math.abs(n-t)%(2*Math.PI)==0?e>1:e<0||e>1}getTickCoord(e){const{startAngle:t=qx,endAngle:n=Zx,center:r,radius:s,inside:a=!1,innerRadius:o=0}=this.attribute;return Us(r,a&&o>0?o:s,t+(n-t)*e)}getVerticalVector(e,t=!1,n){return bW(e,n,this.attribute.center,t,this.attribute.inside)}getRelativeVector(e){const{center:t}=this.attribute;return[e.y-t.y,-1*(e.x-t.x)]}}var Bmt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};Dmt();class FT extends ske{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},FT.defaultAttributes,e))}renderLine(e){const{startAngle:t=qx,endAngle:n=Zx,radius:r,center:s,innerRadius:a=0,line:o={},inside:l=!1}=this.attribute;let u=r,c=a;l&&a>0&&(u=a,c=0);const d=Object.assign(Object.assign(Object.assign({},s),{startAngle:t,endAngle:n,radius:u,innerRadius:c}),o.style),h=Ot.circle(d);h.name=ml.line,h.id=this._getNodeId("line"),Mt(o.state)||(h.states=Ie({},Gp,o.state)),e.add(h)}getTitleAttribute(){var e,t,n;const{center:r,radius:s,innerRadius:a=0}=this.attribute,o=this.attribute.title,{space:l=4,textStyle:u={},shape:c,background:d,state:h={}}=o,p=Bmt(o,["space","textStyle","shape","background","state"]);let f=r,g=0;!((e=this.attribute.label)===null||e===void 0)&&e.visible&&this.attribute.label.inside===!1&&(g=bi(this.attribute.label,"style.fontSize",12)+bi(this.attribute.label,"space",4));let v=0;!((t=this.attribute.tick)===null||t===void 0)&&t.visible&&this.attribute.tick.inside===!1&&(v=this.attribute.tick.length||4),!((n=this.attribute.subTick)===null||n===void 0)&&n.visible&&this.attribute.subTick.inside===!1&&(v=Math.max(v,this.attribute.subTick.length||2));const m=s+v+g+l;let b="middle",{position:_}=this.attribute.title;Y(_)&&(_=a===0?"end":"middle"),_==="start"?(b="bottom",f={x:r.x,y:r.y-m}):_==="end"&&(b="top",f={x:r.x,y:r.y+m});const S=Object.assign(Object.assign(Object.assign({},f),p),{textStyle:Object.assign({textBaseline:b,textAlign:"center"},u),state:{text:Ie({},Gp,h.text),shape:Ie({},Gp,h.shape),panel:Ie({},Gp,h.background)}}),{angle:C}=p;return S.angle=C,c&&c.visible&&(S.shape=Object.assign({visible:!0},c.style),c.space&&(S.space=c.space)),d&&d.visible&&(S.panel=Object.assign({visible:!0},d.style)),S}getSubTickLineItems(){var e,t;const{subTick:n}=this.attribute,r=[],{count:s=4,inside:a=!1,length:o=2}=n,l=this.tickLineItems,u=l.length;if(u>=2){const c=this.data[1].value-this.data[0].value,d=(t=(e=this.attribute)===null||e===void 0?void 0:e.tick)===null||t===void 0?void 0:t.alignWithLabel;for(let h=0;h<u;h++){const p=l[h],f=l[h+1];for(let g=0;g<s;g++){const v=(g+1)/(s+1),m=(1-v)*p.value+v*(f?f.value:d?1:p.value+c),b=this.getTickCoord(m),_=this.getVerticalCoord(b,o,a);r.push({start:b,end:_,value:m})}}}return r}getTextBaseline(e){let t="middle";return Ol(e[1],0)?t="middle":e[1]>0&&e[1]>Math.abs(e[0])?t="top":e[1]<0&&Math.abs(e[1])>Math.abs(e[0])&&(t="bottom"),t}beforeLabelsOverlap(e,t,n,r,s){}handleLabelsOverlap(e,t,n,r,s){}afterLabelsOverlap(e,t,n,r,s){}getLabelAlign(e,t,n){return{textAlign:"center",textBaseline:"middle"}}getLabelPosition(e,t,n,r){return eke(e,t,n,r)}}FT.defaultAttributes=HL,wa(FT,dke);class $mt extends cu{constructor(){super(...arguments),this.mode=Vx.NORMAL}onBind(){const e=this.target.getInnerView(),t=this.target.getPrevInnerView();t&&(this._newElementAttrMap={},Kh(e,n=>{var r,s,a,o,l,u;if(n.type!=="group"&&n.id){const c=t[n.id];if(c){if(!Rr(n.attribute,c.attribute)){const d=su(n.attribute);this._newElementAttrMap[n.id]={state:"update",node:n,attrs:Object.assign(Object.assign({},d),{opacity:(r=d.opacity)!==null&&r!==void 0?r:1,fillOpacity:(s=d.fillOpacity)!==null&&s!==void 0?s:1,strokeOpacity:(a=d.strokeOpacity)!==null&&a!==void 0?a:1})},n.setAttributes(c.attribute)}}else{const d={opacity:(o=n.attribute.opacity)!==null&&o!==void 0?o:1,fillOpacity:(l=n.attribute.fillOpacity)!==null&&l!==void 0?l:1,strokeOpacity:(u=n.attribute.strokeOpacity)!==null&&u!==void 0?u:1};this._newElementAttrMap[n.id]={state:"enter",node:n,attrs:d},n.setAttributes({opacity:0,fillOpacity:0,strokeOpacity:0})}}}))}onStart(){let e=this.duration,t=this.easing;Object.keys(this._newElementAttrMap).forEach(n=>{var r;const{node:s,attrs:a,state:o}=this._newElementAttrMap[n];if(o==="enter"){const{enter:l={}}=(r=this.params)!==null&&r!==void 0?r:{};e=Ce(l.duration)?l.duration:e,t=l.easing?l.easing:t}s.type==="path"?s.animate({interpolate:(l,u,c,d,h)=>l==="path"&&(h.path=Nnt(c,d)(u),!0)}).to(a,e,t):s.animate().to(a,e,t)})}onUpdate(e,t,n){}}class Nmt extends cu{constructor(e,t,n,r){super(null,null,n,r)}getEndProps(){return{}}onBind(){this.target.setTheme({common:{opacity:0}})}onEnd(){this.target.setTheme({common:{opacity:1}})}onUpdate(e,t,n){this.target.setTheme({common:{opacity:t}})}}var Ts;(function(i){i.Identity="identity",i.Linear="linear",i.Log="log",i.Pow="pow",i.Sqrt="sqrt",i.Symlog="symlog",i.Time="time",i.Quantile="quantile",i.Quantize="quantize",i.Threshold="threshold",i.Ordinal="ordinal",i.Point="point",i.Band="band"})(Ts||(Ts={}));const hke={};Object.values(Ts).forEach(i=>{hke[i]=!0});function Ln(i){switch(i){case Ts.Linear:case Ts.Log:case Ts.Pow:case Ts.Sqrt:case Ts.Symlog:case Ts.Time:return!0;default:return!1}}function SW(i){return!!hke[i]}function io(i){switch(i){case Ts.Ordinal:case Ts.Point:case Ts.Band:return!0;default:return!1}}function iS(i){return i}const jmt=i=>i<0?-Math.sqrt(-i):Math.sqrt(i),zmt=i=>i<0?-i*i:i*i,Hmt=i=>-Math.log(-i),Vmt=i=>-Math.exp(-i),Wmt=i=>isFinite(i)?Math.pow(10,i):i<0?0:i,ice=i=>i===10?Wmt:i===Math.E?Math.exp:e=>Math.pow(i,e),nce=i=>i===Math.E?Math.log:i===10?Math.log10:i===2?Math.log2:(i=Math.log(i),e=>Math.log(e)/i),rce=i=>e=>Math.sign(e)*Math.log1p(Math.abs(e/i)),sce=i=>e=>Math.sign(e)*Math.expm1(Math.abs(e))*i;function xW(i,e){if(i=Number(i),e=Number(e),e-=i)return n=>(n-i)/e;const t=Number.isNaN(e)?NaN:.5;return()=>t}function ace(i,e,t){const n=i[0],r=i[1],s=e[0],a=e[1];let o,l;return r<n?(o=xW(r,n),l=t(a,s)):(o=xW(n,r),l=t(s,a)),u=>l(o(u))}function OX(i,e,t){let n;return n=i===1?i+2*t:i-e+2*t,i?n>0?n:1:0}function wW(i,e,t,n){return t===1&&(t=0),OX(i,t,n)*(e/(1-t))}function Umt(i,e,t,n,r){const s=OX(i,t,n);let a=e/Math.max(1,s||1);r&&(a=Math.floor(a));let o=a*(1-t);return r&&(o=Math.round(o)),o}function pke(i,e){const t=(i[1]-i[0])/(e[1]-e[0]),n=i[0]-t*e[0];return[n,t+n]}function Gmt(i,e,t){const n=Math.min(i.length,e.length)-1,r=new Array(n),s=new Array(n);let a=-1;for(i[n]<i[0]&&(i=i.slice().reverse(),e=e.slice().reverse());++a<n;)r[a]=xW(i[a],i[a+1]),s[a]=t(e[a],e[a+1]);return function(o){const l=cxe(i,o,1,n)-1;return s[l](r[l](o))}}const fke=(i,e)=>{const t=i.slice();let n=0,r=t.length-1,s=t[n],a=t[r];return a<s&&([n,r]=[r,n],[s,a]=[a,s]),t[n]=e.floor(s),t[r]=e.ceil(a),t},gke=(i,e=!1)=>{const t=Math.floor(Math.log10(i)),n=i/Math.pow(10,t);let r;return r=e?n<1.5?1:n<3?2:n<7?5:10:n<=1?1:n<=2?2:n<=5?5:10,r*Math.pow(10,t)},Ymt=(i,e)=>{let t,n;return e[0]<e[1]?(t=e[0],n=e[1]):(t=e[1],n=e[0]),Math.min(Math.max(i,t),n)};class mke{constructor(){this._rangeFactorStart=null,this._rangeFactorEnd=null}_calculateWholeRange(e){return this._wholeRange?this._wholeRange:X(this._rangeFactorStart)&&X(this._rangeFactorEnd)&&e.length===2?(this._wholeRange=pke(e,[this._rangeFactorStart,this._rangeFactorEnd]),this._wholeRange):e}rangeFactor(e,t,n){return e?(e.length===2&&e.every(r=>r>=0&&r<=1)&&(this._wholeRange=null,e[0]===0&&e[1]===1?(this._rangeFactorStart=null,this._rangeFactorEnd=null):(this._rangeFactorStart=e[0],this._rangeFactorEnd=e[1])),this):n?(this._wholeRange=null,this._rangeFactorStart=null,this._rangeFactorEnd=null,this):X(this._rangeFactorStart)&&X(this._rangeFactorEnd)?[this._rangeFactorStart,this._rangeFactorEnd]:null}rangeFactorStart(e,t){var n;return Y(e)?this._rangeFactorStart:(e>=0&&e<=1&&(this._wholeRange=null,e!==0||!Y(this._rangeFactorEnd)&&this._rangeFactorEnd!==1?(this._rangeFactorStart=e,this._rangeFactorEnd=(n=this._rangeFactorEnd)!==null&&n!==void 0?n:1):(this._rangeFactorStart=null,this._rangeFactorEnd=null)),this)}rangeFactorEnd(e,t){var n;return Y(e)?this._rangeFactorEnd:(e>=0&&e<=1&&(this._wholeRange=null,e!==0||!Y(this._rangeFactorStart)&&this._rangeFactorStart!==0?(this._rangeFactorEnd=e,this._rangeFactorStart=(n=this._rangeFactorStart)!==null&&n!==void 0?n:0):(this._rangeFactorStart=null,this._rangeFactorEnd=null)),this)}generateFishEyeTransform(){var e;if(!this._fishEyeOptions)return void(this._fishEyeTransform=null);const{distortion:t=2,radiusRatio:n=.1,radius:r}=this._fishEyeOptions,s=this.range(),a=s[0],o=s[s.length-1],l=Math.min(a,o),u=Math.max(a,o),c=sa((e=this._fishEyeOptions.focus)!==null&&e!==void 0?e:0,l,u),d=Y(r)?(u-l)*n:r;let h=Math.exp(t);h=h/(h-1)*d;const p=t/d;this._fishEyeTransform=f=>{const g=Math.abs(f-c);if(g>=d)return f;if(g<=1e-6)return c;const v=h*(1-Math.exp(-g*p))/g*.75+.25;return c+(f-c)*v}}unknown(e){return arguments.length?(this._unknown=e,this):this._unknown}}const CW=Symbol("implicit");class V_ extends mke{specified(e){var t;return e?(this._specified=Object.assign((t=this._specified)!==null&&t!==void 0?t:{},e),this):Object.assign({},this._specified)}_getSpecifiedValue(e){if(this._specified)return this._specified[e]}constructor(){super(),this.type=Ts.Ordinal,this._index=new Map,this._domain=[],this._ordinalRange=[],this._unknown=CW}clone(){const e=new V_().domain(this._domain).range(this._ordinalRange).unknown(this._unknown);return this._specified&&e.specified(this._specified),e}calculateVisibleDomain(e){return X(this._rangeFactorStart)&&X(this._rangeFactorEnd)&&e.length===2?[this.invert(e[0]),this.invert(e[1])]:this._domain}scale(e){const t=`${e}`,n=this._getSpecifiedValue(t);if(n!==void 0)return n;let r=this._index.get(t);if(!r){if(this._unknown!==CW)return this._unknown;r=this._domain.push(e),this._index.set(t,r)}const s=this._ordinalRange[(r-1)%this._ordinalRange.length];return this._fishEyeTransform?this._fishEyeTransform(s):s}invert(e){let t=0;for(;t<this._ordinalRange.length&&this._ordinalRange[t]!==e;)t++;return this._domain[(t-1)%this._domain.length]}domain(e){if(!e)return this._domain.slice();this._domain=[],this._index=new Map;for(const t of e){const n=`${t}`;this._index.has(n)||this._index.set(n,this._domain.push(t))}return this}range(e){if(!e)return this._ordinalRange.slice();const t=Array.from(e);return this._ordinalRange=t,this}index(e){var t;return this._index&&(t=this._index.get(`${e}`))!==null&&t!==void 0?t:-1}}function oce(i,e,t,n){let r;const s=[];let a;if(e=Math.floor(+e),i=Math.floor(+i),!(t=Math.floor(+t)))return[];if(i===e)return[i];if(r=e<i){const u=i;i=e,e=u}let o=EB(1,e-i+1)(t);if(a=Math.floor((e-i+1)/o),!n)for(;Math.ceil((e-i+1)/a)>t&&o>1;)o-=1,a=Math.floor((e-i)/o);let l=i;for(;l<=e;)s.push(l),l+=a;return r&&s.reverse(),s}function Kmt(i,e,t){const n=[];let r;if(e=Math.floor(+e),i=Math.floor(+i),t=EB(1,e-i+1)(Math.floor(+t)),r=e<i){const a=i;i=e,e=a}let s=i;for(;s<=e;)n.push(s),s+=t;return r&&n.reverse(),n}class bb extends V_{constructor(e){super(),this.type=Ts.Band,this._range=[0,1],this._step=void 0,this._bandwidth=void 0,this._isFixed=!1,this._round=!1,this._paddingInner=0,this._paddingOuter=0,this._align=.5,this._unknown=void 0,delete this.unknown,this.rescale(e)}rescale(e,t){if(e)return this;this._wholeRange=null;const n=this._calculateWholeRange(this._range,t),r=super.domain().length,s=n[1]<n[0];let a=n[Number(s)-0];const o=n[1-Number(s)],l=OX(r,this._paddingInner,this._paddingOuter);return this._step=(o-a)/Math.max(1,l||1),this._round&&(this._step=Math.floor(this._step)),a+=(o-a-this._step*(r-this._paddingInner))*this._align,this.isBandwidthFixed()||(this._bandwidth=this._step*(1-this._paddingInner)),this._round&&(a=Math.round(a),this.isBandwidthFixed()||(this._bandwidth=Math.round(this._bandwidth))),this._bandRangeState={reverse:s,start:s?a+this._step*(r-1):a,count:r},this.generateFishEyeTransform(),this}scale(e){if(!this._bandRangeState)return;const t=`${e}`,n=this._getSpecifiedValue(t);if(n!==void 0)return n;let r=this._index.get(t);if(!r){if(this._unknown!==CW)return this._unknown;r=this._domain.push(e),this._index.set(t,r)}const{count:s,start:a,reverse:o}=this._bandRangeState,l=a+(o?-1:1)*((r-1)%s)*this._step;return this._fishEyeTransform?this._fishEyeTransform(l):l}_calculateWholeRange(e,t){if(this._wholeRange)return this._wholeRange;if((this._minBandwidth||this._maxBandwidth)&&!this._isBandwidthFixedByUser()){let n;if(X(this._rangeFactorStart)&&X(this._rangeFactorEnd)&&e.length===2){const s=pke(e,[this._rangeFactorStart,this._rangeFactorEnd]);n=Math.abs(s[1]-s[0])}else n=Math.abs(e[1]-e[0]);const r=Umt(super.domain().length,n,this._paddingInner,this._paddingOuter,this._round);r<this._minBandwidth?(this._bandwidth=this._minBandwidth,this._isFixed=!0):r>this._maxBandwidth?(this._bandwidth=this._maxBandwidth,this._isFixed=!0):(this._bandwidth=r,this._isFixed=!1)}if(this.isBandwidthFixed()){const n=wW(super.domain().length,this._bandwidth,this._paddingInner,this._paddingOuter)*Math.sign(e[1]-e[0]),r=Math.min((e[1]-e[0])/n,1);if(X(this._rangeFactorStart)&&X(this._rangeFactorEnd)){if(n>0){const o=e[0]-n*this._rangeFactorStart,l=o+n;this._wholeRange=[o,l]}else{const o=e[1]+n*(1-this._rangeFactorEnd),l=o-n;this._wholeRange=[l,o]}const s=this._rangeFactorStart+r<=1,a=this._rangeFactorEnd-r>=0;t==="rangeFactorStart"&&s?this._rangeFactorEnd=this._rangeFactorStart+r:t==="rangeFactorEnd"&&a?this._rangeFactorStart=this._rangeFactorEnd-r:e[0]<=e[1]?s?this._rangeFactorEnd=this._rangeFactorStart+r:a?this._rangeFactorStart=this._rangeFactorEnd-r:(this._rangeFactorStart=0,this._rangeFactorEnd=r):a?this._rangeFactorStart=this._rangeFactorEnd-r:s?this._rangeFactorEnd=this._rangeFactorStart+r:(this._rangeFactorStart=1-r,this._rangeFactorEnd=1)}else this._rangeFactorStart=0,this._rangeFactorEnd=r,this._wholeRange=[e[0],e[0]+n];return this._wholeRange}return super._calculateWholeRange(e)}calculateWholeRangeSize(){const e=this._calculateWholeRange(this._range);return Math.abs(e[1]-e[0])}calculateVisibleDomain(e){const t=this._domain;if(X(this._rangeFactorStart)&&X(this._rangeFactorEnd)&&t.length){const n=this._getInvertIndex(e[0]),r=this._getInvertIndex(e[1]);return t.slice(Math.min(n,r),Math.max(n,r)+1)}return t}domain(e,t){return e?(super.domain(e),this.rescale(t)):super.domain()}range(e,t){return e?(this._range=[lf(e[0]),lf(e[1])],this.rescale(t)):this._range}rangeRound(e,t){return this._range=[lf(e[0]),lf(e[1])],this._round=!0,this.rescale(t)}ticks(e=10){const t=this.calculateVisibleDomain(this._range);return e===-1?t:oce(0,t.length-1,e,!1).map(n=>t[n])}tickData(e=10){return this.ticks(e).map((t,n)=>({index:n,tick:t,value:(this.scale(t)-this._range[0]+this._bandwidth/2)/(this._range[1]-this._range[0])}))}forceTicks(e=10){const t=this.calculateVisibleDomain(this._range);return oce(0,t.length-1,e,!0).filter(n=>n<t.length).map(n=>t[n])}stepTicks(e){const t=this.calculateVisibleDomain(this._range);return Kmt(0,t.length-1,e).map(n=>t[n])}_getInvertIndex(e){let t=0;const n=this.step()/2,r=this.bandwidth()/2,s=this._domain.length,a=this.range(),o=a[0]>a[a.length-1];for(t=0;t<s;t++){const l=this.scale(this._domain[t])+r;if(t===0&&(!o&&!Wp(e,l+n)||o&&!Dh(e,l-n))||t===s-1||!Dh(e,l-n)&&!Wp(e,l+n))break}return t>=0&&t<=s-1?t:s-1}invert(e){return this._domain[this._getInvertIndex(e)]}padding(e,t){return e!==void 0?(this._paddingOuter=Math.max(0,Math.min(Array.isArray(e)?Math.min.apply(null,e):e)),this._paddingInner=this._paddingOuter,this.rescale(t)):this._paddingInner}paddingInner(e,t){return e!==void 0?(this._paddingInner=Math.max(0,Math.min(1,e)),this.rescale(t)):this._paddingInner}paddingOuter(e,t){return e!==void 0?(this._paddingOuter=Math.max(0,Math.min(1,e)),this.rescale(t)):this._paddingOuter}step(){return this._step}round(e,t){return e!==void 0?(this._round=e,this.rescale(t)):this._round}align(e,t){return e!==void 0?(this._align=Math.max(0,Math.min(1,e)),this.rescale(t)):this._align}rangeFactor(e,t){return e?(super.rangeFactor(e),this.rescale(t)):super.rangeFactor()}rangeFactorStart(e,t){return Y(e)?super.rangeFactorStart():(super.rangeFactorStart(e),this.rescale(t,"rangeFactorStart"))}rangeFactorEnd(e,t){return Y(e)?super.rangeFactorEnd():(super.rangeFactorEnd(e),this.rescale(t,"rangeFactorEnd"))}bandwidth(e,t){return e?(e==="auto"?(this._bandwidth=void 0,this._isFixed=!1):(this._bandwidth=e,this._isFixed=!0),this._userBandwidth=e,this.rescale(t)):this._bandwidth}maxBandwidth(e,t){return e?(this._maxBandwidth=e==="auto"?void 0:e,this.rescale(t)):this._maxBandwidth}minBandwidth(e,t){return e?(this._minBandwidth=e==="auto"?void 0:e,this.rescale(t)):this._minBandwidth}fishEye(e,t,n){return e||n?(this._fishEyeOptions=e,this._fishEyeTransform=null,this.rescale(t)):this._fishEyeOptions}isBandwidthFixed(){return this._isFixed&&!!this._bandwidth}_isBandwidthFixedByUser(){return this._isFixed&&this._userBandwidth&&Xe(this._userBandwidth)}clone(){var e,t,n;return new bb(!0).domain(this._domain,!0).range(this._range,!0).round(this._round,!0).paddingInner(this._paddingInner,!0).paddingOuter(this._paddingOuter,!0).align(this._align,!0).bandwidth((e=this._userBandwidth)!==null&&e!==void 0?e:"auto",!0).maxBandwidth((t=this._maxBandwidth)!==null&&t!==void 0?t:"auto",!0).minBandwidth((n=this._maxBandwidth)!==null&&n!==void 0?n:"auto")}}const{interpolateRgb:j7}=Znt;function Xmt(i,e){const t=typeof e;let n;if(Y(e)||t==="boolean")return()=>e;if(t==="number")return OE(i,e);if(t==="string"){if(n=oa.parseColorString(e)){const r=j7(oa.parseColorString(i),n);return s=>r(s).formatRgb()}return OE(Number(i),Number(e))}return e instanceof Bo?j7(i,e):e instanceof oa?j7(i.color,e.color):e instanceof Date?Fnt(i,e):OE(Number(i),Number(e))}class vke extends mke{constructor(e=iS,t=iS){super(),this._unknown=void 0,this.transformer=e,this.untransformer=t,this._forceAlign=!0,this._domain=[0,1],this._range=[0,1],this._clamp=iS,this._piecewise=ace,this._interpolate=Xmt}calculateVisibleDomain(e){var t;return X(this._rangeFactorStart)&&X(this._rangeFactorEnd)&&e.length===2?[this.invert(e[0]),this.invert(e[1])]:(t=this._niceDomain)!==null&&t!==void 0?t:this._domain}fishEye(e,t,n){return e||n?(this._fishEyeOptions=e,this._fishEyeTransform=null,this.rescale(t)):this._fishEyeOptions}scale(e){var t;if(e=Number(e),Number.isNaN(e)||this._domainValidator&&!this._domainValidator(e))return this._unknown;this._output||(this._output=this._piecewise(((t=this._niceDomain)!==null&&t!==void 0?t:this._domain).map(this.transformer),this._calculateWholeRange(this._range),this._interpolate));const n=this._output(this.transformer(this._clamp(e)));return this._fishEyeTransform?this._fishEyeTransform(n):n}invert(e){var t;return this._input||(this._input=this._piecewise(this._calculateWholeRange(this._range),((t=this._niceDomain)!==null&&t!==void 0?t:this._domain).map(this.transformer),OE)),this._clamp(this.untransformer(this._input(e)))}domain(e,t){var n;if(!e)return((n=this._niceDomain)!==null&&n!==void 0?n:this._domain).slice();this._domainValidator=null,this._niceType=null,this._niceDomain=null;const r=Array.from(e,lf);return this._domain=r,this.rescale(t)}range(e,t){if(!e)return this._range.slice();const n=Array.from(e);return this._range=n,this.rescale(t)}rangeRound(e,t){const n=Array.from(e);return this._range=n,this._interpolate=Lnt,this.rescale(t)}rescale(e){var t;if(e)return this;const n=(t=this._niceDomain)!==null&&t!==void 0?t:this._domain,r=n.length,s=this._range.length;let a=Math.min(r,s);if(r&&r<s&&this._forceAlign){const o=s-r+1,l=n[r-1],u=r>=2?(l-n[r-2])/o:0;for(let c=1;c<=o;c++)n[r-2+c]=l-u*(o-c);a=s}return this._autoClamp&&(this._clamp=EB(n[0],n[a-1])),this._piecewise=a>2?Gmt:ace,this._output=this._input=null,this._wholeRange=null,this.generateFishEyeTransform(),this}clamp(e,t,n){return arguments.length?(t?(this._autoClamp=!1,this._clamp=t):(this._autoClamp=!!e,this._clamp=e?void 0:iS),this.rescale(n)):this._clamp!==iS}interpolate(e,t){return arguments.length?(this._interpolate=e,this.rescale(t)):this._interpolate}ticks(e=10){return[]}tickData(e=10){const t=this.ticks(e);return(t??[]).map((n,r)=>({index:r,tick:n,value:(this.scale(n)-this._range[0])/(this._range[1]-this._range[0])}))}rangeFactor(e,t){return e?(super.rangeFactor(e),this._output=this._input=null,this):super.rangeFactor()}rangeFactorStart(e,t){return Y(e)?super.rangeFactorStart():(super.rangeFactorStart(e),this._output=this._input=null,this)}rangeFactorEnd(e,t){return Y(e)?super.rangeFactorEnd():(super.rangeFactorEnd(e),this._output=this._input=null,this)}forceAlignDomainRange(e){return arguments.length?(this._forceAlign=e,this):this._forceAlign}}const qmt=Math.sqrt(50),Zmt=Math.sqrt(10),Qmt=Math.sqrt(2),EI=[1,2,5,10],lce=(i,e,t)=>{let n=1,r=i;const s=Math.floor((e-1)/2),a=Math.abs(i);return i>=0&&i<=Number.MIN_VALUE?r=0:i<0&&i>=-Number.MIN_VALUE?r=-(e-1):!t&&a<1?n=yke(a).step:(t||a>1)&&(r=Math.floor(i)-s*n),n>0?(i>0?r=Math.max(r,0):i<0&&(r=Math.min(r,-(e-1)*n)),lxe(0,e).map(o=>r+o*n)):i>0?VL(0,-(e-1)/n,n):VL((e-1)/n,0,n)},Jmt=Nw((i,e,t,n)=>{let r,s,a,o,l=-1;if(t=+t,(i=+i)==(e=+e))return[i];if(Math.abs(i-e)<=Number.MIN_VALUE&&t>0)return[i];if((r=e<i)&&(s=i,i=e,e=s),o=MX(i,e,t).step,!isFinite(o))return[];if(o>0){let u=Math.round(i/o),c=Math.round(e/o);for(u*o<i&&++u,c*o>e&&--c,a=new Array(s=c-u+1);++l<s;)a[l]=(u+l)*o}else if(o<0&&(n!=null&&n.noDecimals)){o=1;const u=Math.ceil(i),c=Math.floor(e);if(!(u<=c))return[];for(a=new Array(s=c-u+1);++l<s;)a[l]=u+l}else{o=-o;let u=Math.round(i*o),c=Math.round(e*o);for(u/o<i&&++u,c/o>e&&--c,a=new Array(s=c-u+1);++l<s;)a[l]=(u+l)/o}return r&&a.reverse(),a}),VL=(i,e,t)=>{let n,r,s=-1;if(t>0){let a=Math.floor(i/t),o=Math.ceil(e/t);for((a+1)*t<i&&++a,(o-1)*t>e&&--o,r=new Array(n=o-a+1);++s<n;)r[s]=(a+s)*t}else{t=-t;let a=Math.floor(i*t),o=Math.ceil(e*t);for((a+1)/t<i&&++a,(o-1)/t>e&&--o,r=new Array(n=o-a+1);++s<n;)r[s]=(a+s)/t}return r},evt=(i,e,t)=>{let n;const r=i[0],s=i[i.length-1],a=e-i.length;if(s<=0){const u=[];for(n=a;n>=1;n--)u.push(r-n*t);return u.concat(i)}if(r>=0){for(n=1;n<=a;n++)i.push(s+n*t);return i}let o=[];const l=[];for(n=1;n<=a;n++)n%2==0?o=[r-Math.floor(n/2)*t].concat(o):l.push(s+Math.ceil(n/2)*t);return o.concat(i).concat(l)},WL=Nw((i,e,t,n)=>{let r,s,a;if(t=+t,(i=+i)==(e=+e)||Math.abs(i-e)<=Number.MIN_VALUE&&t>0)return lce(i,t,n==null?void 0:n.noDecimals);(r=e<i)&&(a=i,i=e,e=a);const o=MX(i,e,t);let l=o.step;if(!isFinite(l))return[];if(l>0){let u=1;const{power:c,gap:d}=o,h=d===10?2*10**c:1*10**c;for(;u<=5&&(s=VL(i,e,l),s.length>t+1)&&t>2;)l+=h,u+=1;t>2&&s.length<t-1&&(s=evt(s,t,l))}else n!=null&&n.noDecimals&&l<0&&(l=1),s=VL(i,e,l);return r&&s.reverse(),s}),yke=i=>{const e=Math.floor(Math.log(i)/Math.LN10),t=i/10**e;let n=EI[0];return t>=qmt?n=EI[3]:t>=Zmt?n=EI[2]:t>=Qmt&&(n=EI[1]),e>=0?{step:n*10**e,gap:n,power:e}:{step:-(10**-e)/n,gap:n,power:e}};function MX(i,e,t){const n=(e-i)/Math.max(0,t);return yke(n)}function _ke(i,e,t){let n;if(t=+t,(i=+i)==(e=+e)&&t>0)return[i];if(t<=0||(n=tvt(i,e,t))===0||!isFinite(n))return[];const r=new Array(t);for(let s=0;s<t;s++)r[s]=i+s*n;return r}function tvt(i,e,t){return(e-i)/Math.max(1,t-1)}function ivt(i,e,t){let n,r,s=-1;if(t=+t,(r=(e=+e)<(i=+i))&&(n=i,i=e,e=n),!isFinite(t)||e-i<=t)return[i];const a=Math.floor((e-i)/t+1),o=new Array(a);for(;++s<a;)o[s]=i+s*t;return r&&o.reverse(),o}function z7(i,e=10){let t,n,r=0,s=i.length-1,a=i[r],o=i[s],l=10;for(o<a&&(n=a,a=o,o=n,n=r,r=s,s=n);l-- >0;){if(n=MX(a,o,e).step,n===t)return i[r]=a,i[s]=o,i;if(n>0)a=Math.floor(a/n)*n,o=Math.ceil(o/n)*n;else{if(!(n<0))break;a=Math.ceil(a*n)/n,o=Math.floor(o*n)/n}t=n}}function IX(i,e){const t=Xe(e.forceMin),n=Xe(e.forceMax);let r=null;const s=[];let a=null;const o=t&&n?l=>l>=e.forceMin&&l<=e.forceMax:t?l=>l>=e.forceMin:n?l=>l<=e.forceMax:null;return t?s[0]=e.forceMin:Xe(e.min)&&e.min<=Math.min(i[0],i[i.length-1])&&(s[0]=e.min),n?s[1]=e.forceMax:Xe(e.max)&&e.max>=Math.max(i[0],i[i.length-1])&&(s[1]=e.max),Xe(s[0])&&Xe(s[1])?(a=i.slice(),a[0]=s[0],a[a.length-1]=s[1]):r=Xe(s[0])||Xe(s[1])?Xe(s[0])?"max":"min":"all",{niceType:r,niceDomain:a,niceMinMax:s,domainValidator:o}}const H7=(i,e,t)=>Math.abs(e-i)<1?+t.toFixed(1):Math.round(+t),bke=Nw((i,e,t,n,r,s,a)=>{let o=i,l=e;const u=l<o;u&&([o,l]=[l,o]);let c,d,h=r(o),p=r(l),f=[];if(!(n%1)&&p-h<t){if(h=Math.floor(h),p=Math.ceil(p),o>0){for(;h<=p;++h)for(c=1;c<n;++c)if(d=h<0?c/s(-h):c*s(h),!(d<o)){if(d>l)break;f.push(d)}}else for(;h<=p;++h)for(c=n-1;c>=1;--c)if(d=h>0?c/s(-h):c*s(h),!(d<o)){if(d>l)break;f.push(d)}2*f.length<t&&(f=WL(o,l,t))}else f=WL(h,p,Math.min(p-h,t)).map(s);return f=f.filter(g=>g!==0),a!=null&&a.noDecimals&&(f=Array.from(new Set(f.map(g=>Math.floor(g))))),u?f.reverse():f}),Ske=Nw((i,e,t,n,r,s)=>{const a=[],o={},l=r(i),u=r(e);let c=[];if(Number.isInteger(n))c=WL(l,u,t);else{const d=(u-l)/(t-1);for(let h=0;h<t;h++)c.push(l+h*d)}return c.forEach(d=>{const h=s(d),p=Number.isInteger(n)?H7(i,e,h):H7(i,e,gke(h)),f=H7(i,e,Ymt(p,[i,e]));!o[f]&&!isNaN(f)&&c.length>1&&(o[f]=1,a.push(f))}),a}),UL=Nw((i,e,t,n,r)=>_ke(n(i),n(e),t).map(s=>gke(r(s))));class Zd extends vke{constructor(){super(...arguments),this.type=Ts.Linear}clone(){return new Zd().domain(this._domain,!0).range(this._range,!0).unknown(this._unknown).clamp(this.clamp(),null,!0).interpolate(this._interpolate)}tickFormat(){return()=>{}}d3Ticks(e=10,t){const n=this.calculateVisibleDomain(this._range);return Jmt(n[0],n[n.length-1],e,t)}ticks(e=10,t){var n;if(X(this._rangeFactorStart)&&X(this._rangeFactorEnd)&&(this._rangeFactorStart>0||this._rangeFactorEnd<1)&&this._range.length===2||!this._niceType)return this.d3Ticks(e,t);const r=(n=this._niceDomain)!==null&&n!==void 0?n:this._domain,s=this._domain,a=r[0],o=r[r.length-1];let l=WL(s[0],s[s.length-1],e,t);if(!l.length)return l;if(this._domainValidator)l=l.filter(this._domainValidator);else if((l[0]!==a||l[l.length-1]!==o)&&this._niceType){const u=r.slice();if(this._niceType==="all"?(u[0]=l[0],u[u.length-1]=l[l.length-1],this._niceDomain=u,this.rescale()):this._niceType==="min"&&l[0]!==a?(u[0]=l[0],this._niceDomain=u,this.rescale()):this._niceType==="max"&&l[l.length-1]!==o&&(u[u.length-1]=l[l.length-1],this._niceDomain=u,this.rescale()),this._niceType!=="all"){const c=Math.min(u[0],u[u.length-1]),d=Math.max(u[0],u[u.length-1]);l=l.filter(h=>h>=c&&h<=d)}}return l}forceTicks(e=10){const t=this.calculateVisibleDomain(this._range);return _ke(t[0],t[t.length-1],e)}stepTicks(e){const t=this.calculateVisibleDomain(this._range);return ivt(t[0],t[t.length-1],e)}nice(e=10,t){var n,r;const s=this._domain;let a=[];if(t){const o=IX(s,t);if(a=o.niceMinMax,this._domainValidator=o.domainValidator,this._niceType=o.niceType,o.niceDomain)return this._niceDomain=o.niceDomain,this.rescale(),this}else this._niceType="all";if(this._niceType){const o=z7(s.slice(),e);this._niceType==="min"?o[o.length-1]=(n=a[1])!==null&&n!==void 0?n:o[o.length-1]:this._niceType==="max"&&(o[0]=(r=a[0])!==null&&r!==void 0?r:o[0]),this._niceDomain=o,this.rescale()}return this}niceMin(e=10){this._niceType="min";const t=this._domain[this._domain.length-1],n=z7(this.domain(),e);return n&&(n[n.length-1]=t,this._niceDomain=n,this.rescale()),this}niceMax(e=10){this._niceType="max";const t=this._domain[0],n=z7(this._domain.slice(),e);return n&&(n[0]=t,this._niceDomain=n,this.rescale()),this}}function uce(i){return e=>-i(-e)}function cce(i=Number.EPSILON){return e=>Math.max(e,i)}function nvt(i=Number.EPSILON){return e=>Math.min(e,-i)}class RX extends vke{constructor(){super(nce(10),ice(10)),this.type=Ts.Log,this._limit=cce(),this._logs=this.transformer,this._pows=this.untransformer,this._domain=[1,10],this._base=10}clone(){return new RX().domain(this._domain,!0).range(this._range,!0).unknown(this._unknown).clamp(this.clamp(),null,!0).interpolate(this._interpolate,!0).base(this._base)}rescale(e){var t;if(e)return this;super.rescale();const n=nce(this._base),r=ice(this._base);return((t=this._niceDomain)!==null&&t!==void 0?t:this._domain)[0]<0?(this._logs=uce(n),this._pows=uce(r),this._limit=nvt(),this.transformer=Hmt,this.untransformer=Vmt):(this._logs=n,this._pows=r,this._limit=cce(),this.transformer=this._logs,this.untransformer=r),this}scale(e){var t;if(e=Number(e),Number.isNaN(e)||this._domainValidator&&!this._domainValidator(e))return this._unknown;this._output||(this._output=this._piecewise(((t=this._niceDomain)!==null&&t!==void 0?t:this._domain).map(this._limit).map(this.transformer),this._calculateWholeRange(this._range),this._interpolate));const n=this._output(this.transformer(this._limit(this._clamp(e))));return this._fishEyeTransform?this._fishEyeTransform(n):n}base(e,t){return arguments.length?(this._base=e,this.rescale(t)):this._base}tickFormat(){return iS}d3Ticks(e=10,t){const n=this.domain(),r=this._limit(n[0]),s=this._limit(n[n.length-1]);return bke(r,s,e,this._base,this.transformer,this.untransformer,t)}ticks(e=10){const t=this.calculateVisibleDomain(this._range);return Ske(this._limit(t[0]),this._limit(t[t.length-1]),e,this._base,this.transformer,this.untransformer)}forceTicks(e=10){const t=this.calculateVisibleDomain(this._range);return UL(t[0],t[t.length-1],e,this.transformer,this.untransformer)}stepTicks(e){const t=this.calculateVisibleDomain(this._range);return UL(this._limit(t[0]),this._limit(t[t.length-1]),e,this.transformer,this.untransformer)}nice(e=10,t){var n,r;const s=this._domain;let a=[],o=null;if(t){const l=IX(s,t);if(a=l.niceMinMax,this._domainValidator=l.domainValidator,o=l.niceType,l.niceDomain)return this._niceDomain=l.niceDomain,this.rescale(),this}else o="all";if(o){const l=fke(s.slice(),{floor:u=>this._pows(Math.floor(this._logs(this._limit(u)))),ceil:u=>Math.abs(u)>=1?Math.ceil(u):this._pows(Math.ceil(this._logs(this._limit(u))))});return o==="min"?l[l.length-1]=(n=a[1])!==null&&n!==void 0?n:l[l.length-1]:o==="max"&&(l[0]=(r=a[0])!==null&&r!==void 0?r:l[0]),this._niceDomain=l,this.rescale(),this}return this}niceMin(){const e=this._domain[this._domain.length-1];this.nice();const t=this._domain.slice();return this._domain&&(t[t.length-1]=e,this._niceDomain=t,this.rescale()),this}niceMax(){const e=this._domain[0];this.nice();const t=this._domain.slice();return this._domain&&(t[0]=e,this._niceDomain=t,this.rescale()),this}}class rvt extends bb{constructor(e){super(!1),this.type=Ts.Point,this._padding=0,this.paddingInner(1,e),this.padding=this.paddingOuter,this.paddingInner=void 0,this.paddingOuter=void 0}}class GL extends Zd{constructor(){super(jmt,zmt),this.type=Ts.Sqrt}clone(){return new GL().domain(this._domain,!0).range(this._range,!0).unknown(this._unknown).clamp(this.clamp(),null,!0).interpolate(this._interpolate)}}class DX extends Zd{constructor(){super(rce(1),sce(1)),this.type=Ts.Symlog,this._const=1}clone(){return new DX().domain(this._domain,!0).range(this._range,!0).unknown(this._unknown).clamp(this.clamp(),null,!0).interpolate(this._interpolate,!0).constant(this._const)}constant(e,t){return arguments.length?(this._const=e,this.transformer=rce(e),this.untransformer=sce(e),this.rescale(t)):this._const}d3Ticks(e=10,t){const n=this.domain(),r=n[0],s=n[n.length-1];return bke(r,s,e,this._const,this.transformer,this.untransformer,t)}ticks(e=10){const t=this.calculateVisibleDomain(this._range);return Ske(t[0],t[t.length-1],e,this._const,this.transformer,this.untransformer)}forceTicks(e=10){const t=this.calculateVisibleDomain(this._range);return UL(t[0],t[t.length-1],e,this.transformer,this.untransformer)}stepTicks(e){const t=this.calculateVisibleDomain(this._range);return UL(t[0],t[t.length-1],e,this.transformer,this.untransformer)}nice(e=10,t){var n,r;const s=this._domain;let a=[],o=null;if(t){const l=IX(s,t);if(a=l.niceMinMax,this._domainValidator=l.domainValidator,o=l.niceType,l.niceDomain)return this._niceDomain=l.niceDomain,this.rescale(),this}else o="all";if(o){const l=fke(s.slice(),{floor:u=>Math.floor(u),ceil:u=>Math.ceil(u)});return o==="min"?l[l.length-1]=(n=a[1])!==null&&n!==void 0?n:l[l.length-1]:o==="max"&&(l[0]=(r=a[0])!==null&&r!==void 0?r:l[0]),this._niceDomain=l,this.rescale(),this}return this}niceMin(){const e=this._domain[this._domain.length-1];this.nice();const t=this._domain.slice();return this._domain&&(t[t.length-1]=e,this._niceDomain=t,this.rescale()),this}niceMax(){const e=this._domain[0];this.nice();const t=this._domain.slice();return this._domain&&(t[0]=e,this._niceDomain=t,this.rescale()),this}}class LX{constructor(){this.type=Ts.Threshold,this._range=[0,1],this._domain=[.5],this.n=1}unknown(e){return arguments.length?(this._unknown=e,this):this._unknown}scale(e){return!Y(e)&&Ce(+e)?this._range[cxe(this._domain,e,0,this.n)]:this._unknown}invertExtent(e){const t=this._range.indexOf(e);return[this._domain[t-1],this._domain[t]]}domain(e){return e?(this._domain=Array.from(e),this.n=Math.min(this._domain.length,this._range.length-1),this):this._domain.slice()}range(e){return e?(this._range=Array.from(e),this.n=Math.min(this._domain.length,this._range.length-1),this):this._range.slice()}clone(){return new LX().domain(this._domain).range(this._range).unknown(this._unknown)}}const yf=i=>i.map((e,t)=>({index:t,value:e})),dce=(i,e,t=0)=>{const n=new zr(i).expand(t/2),r=new zr(e).expand(t/2);return n.intersects(r)};function xke(i,e,t){return t>Math.max(e.x1-i.x2,i.x1-e.x2,e.y1-i.y2,i.y1-e.y2)}function svt(i,e){for(let t,n=1,r=i.length,s=i[0];n<r;s=t,++n)if(t=i[n],xke(s.AABBBounds,t.AABBBounds,e))return!0;return!1}const AI=(i,e,t,n)=>t<i?Math.max(i-e/2,t):t>i?Math.min(i-e/2,t-e):t<n?t:t-e,wke=(i,e,t)=>{var n;const{labelStyle:r,axisOrientType:s,labelFlush:a,labelFormatter:o,startAngle:l=0}=t;let u=(n=r.angle)!==null&&n!==void 0?n:0;r.direction==="vertical"&&(u+=Pn(90));const c=["bottom","top"].includes(s),d=["left","right"].includes(s);let h=1,p=0;c||(d?(h=0,p=1):l&&(h=Math.cos(l),p=-Math.sin(l)));const f=ux(r),g=i.range();return e.map((m,b)=>{var _,S;const C=o?o(m):`${m}`,{width:k,height:E}=f.quickMeasure(C),A=Math.max(k,12),P=Math.max(E,12),O=i.scale(m),M=h*O,D=p*O;let L,H,B=M,F=D;a&&c&&b===0?B=AI(M,A,g[0],g[g.length-1]):a&&c&&b===e.length-1?B=AI(M,A,g[g.length-1],g[0]):L=(_=r.textAlign)!==null&&_!==void 0?_:"center",L==="right"?B-=A:L==="center"&&(B-=A/2),a&&d&&b===0?F=AI(D,P,g[0],g[g.length-1]):a&&d&&b===e.length-1?F=AI(D,P,g[g.length-1],g[0]):H=(S=r.textBaseline)!==null&&S!==void 0?S:"middle",H==="bottom"?F-=P:H==="middle"&&(F-=P/2);const z=new zr().set(B,F,B+A,F+P);return u&&z.rotate(u,M,D),z})},avt=(i,e,t)=>{var n;const{labelStyle:r,getRadius:s,labelOffset:a,labelFormatter:o,inside:l}=t,u=s==null?void 0:s(),c=(n=r.angle)!==null&&n!==void 0?n:0,d=ux(r);return e.map(p=>{var f,g;const v=o?o(p):`${p}`,{width:m,height:b}=d.quickMeasure(v),_=Math.max(m,12),S=Math.max(b,12),C=i.scale(p);let k=0,E=0;const A=(f=r.textAlign)!==null&&f!==void 0?f:"center",P=(g=r.textBaseline)!==null&&g!==void 0?g:"middle",{x:O,y:M}=_mt(C,{x:0,y:0},u,a,l,v,r);return k=O+(A==="right"?-_:A==="center"?-_/2:0),E=M+(P==="bottom"?-S:P==="middle"?-S/2:0),new zr().set(k,E,k+_,E+S).rotate(c,k+_/2,E+S/2)})},ovt=i=>["bottom","top","z"].includes(i),lvt=(i,e)=>{if(!Ln(i.type))return yf(i.domain());const t=i.range(),n=Math.abs(t[t.length-1]-t[0]);if(n<2)return yf([i.domain()[0]]);const{tickCount:r,forceTickCount:s,tickStep:a,noDecimals:o=!1,labelStyle:l}=e;let u;if(X(a))u=i.stepTicks(a);else if(X(s))u=i.forceTicks(s);else if(e.tickMode==="d3"){const c=Pe(r)?r({axisLength:n,labelStyle:l}):r;u=i.d3Ticks(c??5,{noDecimals:o})}else{const c=Pe(r)?r({axisLength:n,labelStyle:l}):r;u=i.ticks(c??5,{noDecimals:o})}if(e.sampling&&(e.coordinateType==="cartesian"||e.coordinateType==="polar"&&e.axisOrientType==="radius")){const{labelGap:c=4,labelFlush:d}=e;let h=wke(i,u,e).map((f,g)=>({AABBBounds:f,value:u[g]}));for(;h.length>=3&&svt(h,c);)h=uvt.parity(h);const p=h.map(f=>f.value);p.length<3&&d&&(p.length>1&&p.pop(),Hv(p)!==Hv(u)&&p.push(Hv(u))),u=p}return yf(u)},uvt={parity:function(i){return i.filter((e,t)=>t%2==0)},greedy:function(i,e){let t;return i.filter((n,r)=>(!r||!xke(t.AABBBounds,n.AABBBounds,e))&&(t=n,!0))}},hce=(i,e,t,n)=>wke(i,e,t).map(r=>n?[r.x1,r.x2,r.width()]:[r.y1,r.y2,r.height()]),pce=(i,e,t=0)=>Math.max(i[0],e[0])-t/2<=Math.min(i[1],e[1])+t/2,fce=(i,e)=>i[1]<e[0]?e[0]-i[1]:e[1]<i[0]?i[0]-e[1]:0,cvt=(i,e)=>{var t;const n=i.domain();if(!n.length)return[];const{tickCount:r,forceTickCount:s,tickStep:a,labelGap:o=4,axisOrientType:l,labelStyle:u}=e,c=ovt(l),d=i.range(),h=i.calculateWholeRangeSize();if(h<2)return e.labelLastVisible?yf([n[n.length-1]]):yf([n[0]]);let p;if(X(a))p=i.stepTicks(a);else if(X(s))p=i.forceTicks(s);else if(X(r)){const f=Pe(r)?r({axisLength:h,labelStyle:u}):r;p=i.ticks(f)}else if(e.sampling){const f=((t=e.labelStyle.fontSize)!==null&&t!==void 0?t:12)+2,g=ca(d),v=Os(d);if(n.length<=h/f){const m=(v-g)/n.length,b=hce(i,n,e,c),_=Math.min(...b.map(C=>C[2])),S=dvt(n,b,o,e.labelLastVisible,Math.floor(_/m),!1);p=i.stepTicks(S.step),e.labelLastVisible&&(S.delCount&&(p=p.slice(0,p.length-S.delCount)),p.push(n[n.length-1]))}else{const m=[n[0],n[Math.floor(n.length/2)],n[n.length-1]],b=hce(i,m,e,c);let _=null;b.forEach(C=>{_?_[2]<C[2]&&(_=C):_=C});const S=v-g-o>0?Math.ceil(n.length*(o+_[2])/(v-g-o)):n.length-1;p=i.stepTicks(S),!e.labelLastVisible||p.length&&p[p.length-1]===n[n.length-1]||(p.length&&Math.abs(i.scale(p[p.length-1])-i.scale(n[n.length-1]))<_[2]&&(p=p.slice(0,-1)),p.push(n[n.length-1]))}}else p=i.domain();return yf(p)},dvt=(i,e,t,n,r,s)=>{let a=0,o=0,l=-1,u=Number.MAX_VALUE;const c=p=>{let f=!0,g=0;do g+p<i.length&&pce(e[g],e[g+p],t)&&(f=!1),g+=p;while(f&&g<i.length);return f},d=dxe(r,i.length,p=>c(p)?1:-1);let h=d;do if(h>d&&!s&&!c(h))h++;else{if(!n){o=h;break}{const p=i.length-1;let f,g=0;f=i.length%h>0?i.length-i.length%h+h:i.length;do{if(f-=h,f!==p&&!pce(e[f],e[p],t))break;g++}while(f>0);if(f===p){o=h,a=g;break}{const v=Math.floor(i.length/h)-g+1;if(v<l)break;{l=v;const m=fce(e[f],e[p]),b=f-h>=0?fce(e[f-h],e[f]):m,_=Math.abs(m-b);if(_<u&&(u=_,o=h,a=g),m<=b)break}}}h++}while(h<=i.length);return{step:o,delCount:a}},hvt=(i,e)=>{const{tickCount:t,forceTickCount:n,tickStep:r,getRadius:s,labelOffset:a,labelGap:o=0,labelStyle:l}=e,u=s==null?void 0:s();if(!u)return yf(i.domain());let c;if(X(r))c=i.stepTicks(r);else if(X(n))c=i.forceTicks(n);else if(X(t)){const d=i.range(),h=Math.abs(d[d.length-1]-d[0]),p=Pe(t)?t({axisLength:h,labelStyle:l}):t;c=i.ticks(p)}else if(e.sampling){const d=i.domain(),h=i.range(),p=avt(i,d,e),f=ca(h),g=Os(h),v=Math.abs(g-f)*(u+a)/d.length,{step:m,delCount:b}=pvt(d,p,o,Math.floor(p.reduce((_,S)=>Math.min(_,S.width(),S.height()),Number.MAX_VALUE)/v));c=i.stepTicks(m),c=c.slice(0,c.length-b)}else c=i.domain();return yf(c)},pvt=(i,e,t,n)=>{let r=n;do{let a=!0;r++;let o=0;do o+r<i.length&&dce(e[o],e[o+r],t)&&(a=!1),o+=r;while(a&&o<i.length);if(a)break}while(r<=i.length);let s=0;if(i.length>2){let a=i.length-i.length%r;for(a>=i.length&&(a-=r);a>0&&dce(e[0],e[a]);)s++,a-=r}return{step:r,delCount:s}},fvt=(i,e)=>{if(Ln(i.type))return lvt(i,e);if(io(i.type)){if(e.coordinateType==="cartesian")return cvt(i,e);if(e.coordinateType==="polar"&&e.axisOrientType==="angle")return hvt(i,e)}return yf(i.domain())};function DS(i,e){let t="";return i.length===0||(i.forEach((n,r)=>{r===0?t=`M${n.x},${n.y}`:t+=`L${n.x},${n.y}`}),e&&(t+="Z")),t}function kW(i,e,t,n){let r="";if(!i||e.length===0)return r;const s=e[0],a=ds.distancePP(i,s),o=t?0:1;return n?r+=`M${i.x},${i.y-a}A${a},${a},0,0,${o},${i.x},${i.y+a}A${a},${a},0,0,${o},${i.x},${i.y-a}Z`:e.forEach((l,u)=>{u===0?r=`M${l.x},${l.y}`:r+=`A${a},${a},0,0,${o},${l.x},${l.y}`}),r}function gvt(i,e,t){const{type:n,closed:r}=t,s=e.slice(0).reverse();let a="",o="";if(n==="line"&&t.smoothLink&&t.center){const l=i[0],u=s[0],c=t.center;a=DS(i,!!r),o=DS(s,!!r);const d=ds.distancePP(u,c),h=ds.distancePP(l,c);a+=`A${d},${d},0,0,1,${u.x},${u.y}L${u.x},${u.y}`,o+=`A${h},${h},0,0,0,${l.x},${l.y}`}else if(n==="circle"){const{center:l}=t;a=kW(l,i,!1,!!r),o=kW(l,s,!0,!!r)}else n!=="line"&&n!=="polygon"||(a=DS(i,!!r),o=DS(s,!!r));return r?a+=o:(o="L"+o.substring(1),a+=o,a+="Z"),a}class v0 extends Ba{constructor(){super(...arguments),this.name="axis-grid",this.data=[]}getInnerView(){return this._innerView}getPrevInnerView(){return this._prevInnerView}render(){this._prevInnerView=this._innerView&&tke(this._innerView),this.removeAllChild(!0),this._innerView=Ot.group({x:0,y:0,pickable:!1}),this.add(this._innerView);const{items:e,visible:t}=this.attribute;e&&e.length&&t!==!1&&(this.data=this._transformItems(e),this._renderGrid(this._innerView))}getVerticalCoord(e,t,n){return TX(e,this.getVerticalVector(t,n,e))}_transformItems(e){const t=[];return e.forEach(n=>{var r;t.push(Object.assign(Object.assign({},n),{point:this.getTickCoord(n.value),id:(r=n.id)!==null&&r!==void 0?r:n.label}))}),t}_renderGrid(e){const{visible:t}=this.attribute.subGrid||{};t&&this._renderGridByType(!0,e),this._renderGridByType(!1,e)}_renderGridByType(e,t){const n=Ie({},this.attribute,this.getGridAttribute(e)),{type:r,items:s,style:a,closed:o,alternateColor:l,depth:u=0}=n,c=e?`${ml.grid}-sub`:`${ml.grid}`;if(s.forEach((d,h)=>{const{id:p,points:f}=d;let g="";if(r==="line"||r==="polygon")g=DS(f,!!o);else if(r==="circle"){const{center:m}=this.attribute;g=kW(m,f,!1,!!o)}const v=Ot.path(Object.assign({path:g,z:u},Pe(a)?Ie({},this.skipDefault?null:v0.defaultAttributes.style,a(d,h)):a));v.name=`${c}-line`,v.id=this._getNodeId(`${c}-path-${p}`),t.add(v)}),u&&r==="line"&&s.forEach((d,h)=>{const{id:p,points:f}=d,g=[];g.push(f[0]);const v=f[1].x-f[0].x,m=f[1].y-f[0].y,b=Math.sqrt(v*v+m*m),_=u/b;g.push({x:f[0].x+v*_,y:f[0].y+m*_});const S=DS(g,!!o),C=dn(g[0].x-g[1].x),k=dn(g[0].y-g[1].y),E=Ot.path(Object.assign({path:S,z:0,alpha:C>k?(f[1].x-f[0].x>0?-1:1)*Dn/2:0,beta:C<k?-Dn/2:0,anchor3d:C>k?[g[0].x,0]:[0,g[0].y]},Pe(a)?Ie({},this.skipDefault?null:v0.defaultAttributes.style,a(d,h)):a));E.name=`${c}-line`,E.id=this._getNodeId(`${c}-path-${p}`),t.add(E)}),s.length>1&&l){const d=ke(l)?l:[l,"transparent"],h=p=>d[p%d.length];for(let p=0;p<s.length-1;p++){const[f,g]=[s[p].points,s[p+1].points],v=gvt(f,g,n),m=Ot.path({path:v,fill:h(p)});m.name=`${c}-region`,m.id=this._getNodeId(`${c}-region-${p}`),t.add(m)}}}_getNodeId(e){return`${this.id}-${e}`}release(){super.release(),this._prevInnerView=null,this._innerView=null}}v0.defaultAttributes={style:{lineWidth:1,stroke:"#999",strokeOpacity:1,lineDash:[4,4]},subGrid:{visible:!1,style:{lineWidth:1,stroke:"#999",strokeOpacity:1,lineDash:[4,4]}}};function mvt(i,e,t,n,r){const s=[],a=r-n;for(let o=0;o<e;o++){const l=n+o*a/e;s.push(Us(i,t,l))}return s}Lmt();class Cke extends v0{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},v0.defaultAttributes,e),t)}_getGridPoint(e,t){let n;if(e==="line"){const{length:r}=this.attribute;n=[t,this.getVerticalCoord(t,r,!0)]}else if(e==="circle"||e==="polygon"){const{center:r,sides:s=6,startAngle:a=qx,endAngle:o=Zx}=this.attribute;n=mvt(r,s,ds.distancePP(r,t),a,o)}return n}getGridAttribute(e){const{type:t,alignWithLabel:n=!0}=this.attribute;let r=1,s;this.data.length>=2&&(r=this.data[1].value-this.data[0].value);let a=[];if(e){s=Ie({},this.attribute,this.attribute.subGrid);const o=[],{count:l=4}=this.attribute.subGrid||{};if(this.data.length>=2){const u=[];this.data.forEach(c=>{let d=c.value;if(!n){const h=c.value-r/2;if(this.isInValidValue(h))return;d=h}u.push({value:d})});for(let c=0;c<u.length-1;c++){const d=u[c],h=u[c+1];o.push({id:`sub-${c}-0`,points:this._getGridPoint(t,this.getTickCoord(d.value)),datum:{}});for(let p=0;p<l;p++){const f=(p+1)/(l+1),g=(1-f)*d.value+f*h.value,v=this.getTickCoord(g);o.push({id:`sub-${c}-${p+1}`,points:this._getGridPoint(t,v),datum:{}})}c===u.length-2&&o.push({id:`sub-${c}-${l+1}`,points:this._getGridPoint(t,this.getTickCoord(h.value)),datum:{}})}a=o}}else{s=this.attribute;const o=[];this.data.forEach(l=>{let{point:u}=l;if(!n){const c=l.value-r/2;if(this.isInValidValue(c))return;u=this.getTickCoord(c)}o.push({id:l.label,datum:l,points:this._getGridPoint(t,u)})}),a=o}return Object.assign(Object.assign({},s),{items:a})}}wa(Cke,uke);var vvt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};Fmt();class kke extends v0{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},v0.defaultAttributes,e),t)}getGridAttribute(e){let t,n=[];const r=this.attribute,{radius:s,innerRadius:a=0,startAngle:o=qx,endAngle:l=Zx,center:u,subGrid:c}=r,d=vvt(r,["radius","innerRadius","startAngle","endAngle","center","subGrid"]),{alignWithLabel:h=!0}=d||{},p=s-a;let f=1;if(this.data.length>=2&&(f=this.data[1].value-this.data[0].value),e){t=Ie({},d,c);const g=[],{count:v=4}=c||{},m=this.data.length;if(m>=2){const b=[];this.data.forEach(_=>{let S=_.value;if(!h){const C=_.value-f/2;if(this.isInValidValue(C))return;S=C}b.push({value:S})});for(let _=0;_<m;_++){const S=b[_],C=b[_+1];g.push({id:`sub-${_}-0`,points:[this.getTickCoord(S.value),this.getVerticalCoord(this.getTickCoord(S.value),p,!0)],datum:{}});for(let k=0;k<v;k++){const E=(k+1)/(v+1),A=(1-E)*S.value+E*(C?C.value:h?1:S.value+f),P=this.getTickCoord(A),O=this.getVerticalCoord(P,p,!0);g.push({id:`sub-${_}-${k+1}`,points:[P,O],datum:{}})}}Math.abs(l-o)%(2*Math.PI)==0&&g.push(g[0]),n=g}}else{t=d;const g=[];let v;v=Math.abs(l-o)%(2*Math.PI)==0?[...this.data].concat(this.data[0]):this.data,v.forEach(m=>{let{point:b}=m;if(!h){const S=m.value-f/2;if(this.isInValidValue(S))return;b=this.getTickCoord(S)}const _=this.getVerticalCoord(b,p,!0);g.push({id:m.id,points:[b,_],datum:m})}),n=g}return Object.assign(Object.assign({},t),{items:n,center:u,type:"line"})}}wa(kke,dke);const gce="M -0.0544 0.25 C -0.0742 0.25 -0.0901 0.234 -0.0901 0.2143 L -0.0901 -0.1786 C -0.0901 -0.1983 -0.0742 -0.2143 -0.0544 -0.2143 L -0.0187 -0.2143 L -0.0187 -0.5 L 0.017 -0.5 L 0.017 -0.2143 L 0.0527 -0.2143 C 0.0724 -0.2143 0.0884 -0.1983 0.0884 -0.1786 L 0.0884 0.2143 C 0.0884 0.234 0.0724 0.25 0.0527 0.25 L 0.017 0.25 L 0.017 0.5 L -0.0187 0.5 L -0.0187 0.25 L -0.0544 0.25 Z M -0.0187 -0.1429 L -0.0544 -0.1429 L -0.0544 0.1786 L -0.0187 0.1786 L -0.0187 -0.1429 Z M 0.0527 -0.1429 L 0.017 -0.1429 L 0.017 0.1786 L 0.0527 0.1786 L 0.0527 -0.1429 Z",yvt={orient:"bottom",showDetail:"auto",brushSelect:!0,zoomLock:!1,minSpan:0,maxSpan:1,delayType:"throttle",delayTime:0,realTime:!0,backgroundStyle:{fill:"white",stroke:"#D1DBEE",lineWidth:1,cornerRadius:2},dragMaskStyle:{fill:"#B0C8F9",fillOpacity:.2},backgroundChartStyle:{area:{visible:!0,stroke:"#D1DBEE",lineWidth:1,fill:"#F6F8FC"},line:{visible:!0,stroke:"#D1DBEE",lineWidth:1}},selectedBackgroundStyle:{fill:"#B0C8F9",fillOpacity:.5},selectedBackgroundChartStyle:{area:{visible:!0,stroke:"#B0C8F9",lineWidth:1,fill:"#fbb934"},line:{visible:!0,stroke:"#fbb934",lineWidth:1}},middleHandlerStyle:{visible:!0,background:{size:8,style:{fill:"white",stroke:"#B0C8F9",cornerRadius:2}},icon:{size:6,fill:"white",stroke:"#B0C8F9",symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}},startHandlerStyle:{visible:!0,triggerMinSize:0,symbolType:gce,fill:"white",stroke:"#B0C8F9",lineWidth:.5},endHandlerStyle:{visible:!0,triggerMinSize:0,symbolType:gce,fill:"white",stroke:"#B0C8F9",lineWidth:.5},startTextStyle:{padding:4,textStyle:{fontSize:10,fill:"#6F6F6F"}},endTextStyle:{padding:4,textStyle:{fontSize:10,fill:"#6F6F6F"}}},Hm={horizontal:{angle:0,strokeBoundsBuffer:0,boundsPadding:2,pickMode:"imprecise",cursor:"ew-resize"},vertical:{angle:Math.PI/180*90,cursor:"ns-resize",boundsPadding:2,pickMode:"imprecise",strokeBoundsBuffer:0}};var Gl;(function(i){i.startHandler="startHandler",i.endHandler="endHandler",i.middleHandler="middleHandler",i.background="background"})(Gl||(Gl={}));function _vt(){i$(),mm(),rh(),$Ce(),gm()}var mce=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};const bvt={debounce:Pf,throttle:P0};_vt();let Eke=class Ake extends Ba{setPropsFromAttrs(){const{start:e,end:t,orient:n,previewData:r,previewPointsX:s,previewPointsY:a,previewPointsX1:o,previewPointsY1:l}=this.attribute;e&&(this.state.start=e),t&&(this.state.end=t);const{width:u,height:c}=this.getLayoutAttrFromConfig();this._spanCache=this.state.end-this.state.start,this._isHorizontal=n==="top"||n==="bottom",this._layoutCache.max=this._isHorizontal?u:c,this._layoutCache.attPos=this._isHorizontal?"x":"y",this._layoutCache.attSize=this._isHorizontal?"width":"height",r&&(this._previewData=r),Pe(s)&&(this._previewPointsX=s),Pe(a)&&(this._previewPointsY=a),Pe(o)&&(this._previewPointsX1=o),Pe(l)&&(this._previewPointsY1=l)}constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},Ake.defaultAttributes,e)),this.name="dataZoom",this._previewData=[],this._activeState=!1,this._activeCache={startPos:{x:0,y:0},lastPos:{x:0,y:0}},this._layoutCache={attPos:"x",attSize:"width",max:0},this.state={start:0,end:1},this._statePointToData=s=>s,this._onHandlerPointerDown=(s,a)=>{s.stopPropagation(),a==="start"?(this._activeTag=Gl.startHandler,this._activeItem=this._startHandlerMask):a==="end"?(this._activeTag=Gl.endHandler,this._activeItem=this._endHandlerMask):a==="middleRect"?(this._activeTag=Gl.middleHandler,this._activeItem=this._middleHandlerRect):a==="middleSymbol"?(this._activeTag=Gl.middleHandler,this._activeItem=this._middleHandlerSymbol):a==="background"&&(this._activeTag=Gl.background,this._activeItem=this._background),this._activeState=!0,this._activeCache.startPos=this.eventPosToStagePos(s),this._activeCache.lastPos=this.eventPosToStagePos(s),ji.env==="browser"&&(ji.addEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),ji.addEventListener("pointerup",this._onHandlerPointerUp)),this.addEventListener("pointermove",this._onHandlerPointerMove,{capture:!0})},this._pointerMove=s=>{s.stopPropagation();const{start:a,end:o,brushSelect:l,realTime:u=!0}=this.attribute,c=this.eventPosToStagePos(s),{attPos:d,max:h}=this._layoutCache,p=(c[d]-this._activeCache.lastPos[d])/h;let{start:f,end:g}=this.state;this._activeState&&(this._activeTag===Gl.middleHandler?this.moveZoomWithMiddle((this.state.start+this.state.end)/2+p):this._activeTag===Gl.startHandler?f+p>g?(f=g,g=f+p,this._activeTag=Gl.endHandler):f+=p:this._activeTag===Gl.endHandler&&(g+p<f?(g=f,f=g+p,this._activeTag=Gl.startHandler):g+=p),this._activeCache.lastPos=c,l&&this.renderDragMask()),f=Math.min(Math.max(f,0),1),g=Math.min(Math.max(g,0),1),a===f&&o===g||(this.setStateAttr(f,g,!0),u&&this._dispatchEvent("change",{start:f,end:g,tag:this._activeTag}))},this._onHandlerPointerMove=this.attribute.delayTime===0?this._pointerMove:bvt[this.attribute.delayType](this._pointerMove,this.attribute.delayTime),this._onHandlerPointerUp=s=>{s.preventDefault();const{start:a,end:o,brushSelect:l,realTime:u=!0}=this.attribute;if(this._activeState&&this._activeTag===Gl.background){const c=this.eventPosToStagePos(s);this.backgroundDragZoom(this._activeCache.startPos,c)}this._activeState=!1,l&&this.renderDragMask(),a===this.state.start&&o===this.state.end||(this.setStateAttr(this.state.start,this.state.end,!0),this._dispatchEvent("change",{start:this.state.start,end:this.state.end,tag:this._activeTag})),ji.env==="browser"&&(ji.removeEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),ji.removeEventListener("pointerup",this._onHandlerPointerUp)),this.removeEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),this.removeEventListener("pointerup",this._onHandlerPointerUp)};const{position:n,showDetail:r}=e;this._activeCache.startPos=n,this._activeCache.lastPos=n,this._showText=r!=="auto"&&r,this.setPropsFromAttrs()}setAttributes(e,t){super.setAttributes(e,t),this.setPropsFromAttrs()}bindEvents(){if(this.attribute.disableTriggerEvent)return void this.setAttribute("childrenPickable",!1);const{showDetail:e,brushSelect:t}=this.attribute;this._startHandlerMask&&this._startHandlerMask.addEventListener("pointerdown",r=>this._onHandlerPointerDown(r,"start")),this._endHandlerMask&&this._endHandlerMask.addEventListener("pointerdown",r=>this._onHandlerPointerDown(r,"end")),this._middleHandlerSymbol&&this._middleHandlerSymbol.addEventListener("pointerdown",r=>this._onHandlerPointerDown(r,"middleSymbol")),this._middleHandlerRect&&this._middleHandlerRect.addEventListener("pointerdown",r=>this._onHandlerPointerDown(r,"middleRect"));const n=t?"background":"middleRect";this._selectedBackground&&this._selectedBackground.addEventListener("pointerdown",r=>this._onHandlerPointerDown(r,n)),t&&this._background&&this._background.addEventListener("pointerdown",r=>this._onHandlerPointerDown(r,"background")),t&&this._previewGroup&&this._previewGroup.addEventListener("pointerdown",r=>this._onHandlerPointerDown(r,"background")),this._selectedPreviewGroup&&this._selectedPreviewGroup.addEventListener("pointerdown",r=>this._onHandlerPointerDown(r,n)),this.addEventListener("pointerup",this._onHandlerPointerUp),this.addEventListener("pointerupoutside",this._onHandlerPointerUp),e==="auto"&&(this.addEventListener("pointerenter",this._onHandlerPointerEnter),this.addEventListener("pointerleave",this._onHandlerPointerLeave))}dragMaskSize(){const{position:e}=this.attribute,{attPos:t,max:n}=this._layoutCache;return this._activeCache.lastPos[t]-e[t]>n?n+e[t]-this._activeCache.startPos[t]:this._activeCache.lastPos[t]-e[t]<0?e[t]-this._activeCache.startPos[t]:this._activeCache.lastPos[t]-this._activeCache.startPos[t]}setStateAttr(e,t,n){const{zoomLock:r=!1,minSpan:s=0,maxSpan:a=1}=this.attribute,o=t-e;o!==this._spanCache&&(r||o<s||o>a)||(this._spanCache=o,this.state.start=e,this.state.end=t,n&&this.setAttributes({start:e,end:t}))}eventPosToStagePos(e){return this.stage.eventPointTransform(e)}_onHandlerPointerEnter(e){e.stopPropagation(),this._showText=!0,this.renderText()}_onHandlerPointerLeave(e){e.stopPropagation(),this._showText=!1,this.renderText()}backgroundDragZoom(e,t){const{attPos:n,max:r}=this._layoutCache,{position:s}=this.attribute,a=e[n]-s[n],o=t[n]-s[n],l=Math.min(Math.max(Math.min(a,o)/r,0),1),u=Math.min(Math.max(Math.max(a,o)/r,0),1);Math.abs(l-u)<.01?this.moveZoomWithMiddle(l):this.setStateAttr(l,u,!1)}moveZoomWithMiddle(e){let t=e-(this.state.start+this.state.end)/2;t!==0&&(t>0?this.state.end+t>1&&(t=1-this.state.end):t<0&&this.state.start+t<0&&(t=-this.state.start),this.setStateAttr(this.state.start+t,this.state.end+t,!1))}renderDragMask(){const{dragMaskStyle:e}=this.attribute,{position:t,width:n,height:r}=this.getLayoutAttrFromConfig();this._isHorizontal?this._dragMask=this._container.createOrUpdateChild("dragMask",Object.assign({x:sa(this.dragMaskSize()<0?this._activeCache.lastPos.x:this._activeCache.startPos.x,t.x,t.x+n),y:t.y,width:this._activeState&&this._activeTag===Gl.background&&Math.abs(this.dragMaskSize())||0,height:r},e),"rect"):this._dragMask=this._container.createOrUpdateChild("dragMask",Object.assign({x:t.x,y:sa(this.dragMaskSize()<0?this._activeCache.lastPos.y:this._activeCache.startPos.y,t.y,t.y+r),width:n,height:this._activeState&&this._activeTag===Gl.background&&Math.abs(this.dragMaskSize())||0},e),"rect")}isTextOverflow(e,t,n){if(!t)return!1;if(this._isHorizontal){if(n==="start"){if(t.x1<e.x1)return!0}else if(t.x2>e.x2)return!0}else if(n==="start"){if(t.y1<e.y1)return!0}else if(t.y2>e.y2)return!0;return!1}setTextAttr(e,t){const{startTextStyle:n,endTextStyle:r}=this.attribute,{formatMethod:s}=n,a=mce(n,["formatMethod"]),{formatMethod:o}=r,l=mce(r,["formatMethod"]),{start:u,end:c}=this.state;this._startValue=this._statePointToData(u),this._endValue=this._statePointToData(c);const{position:d,width:h,height:p}=this.getLayoutAttrFromConfig(),f=s?s(this._startValue):this._startValue,g=o?o(this._endValue):this._endValue,v={x1:d.x,y1:d.y,x2:d.x+h,y2:d.y+p};let m,b,_,S;this._isHorizontal?(m={x:d.x+u*h,y:d.y+p/2},b={x:d.x+c*h,y:d.y+p/2},_={textAlign:this.isTextOverflow(v,e,"start")?"left":"right",textBaseline:"middle"},S={textAlign:this.isTextOverflow(v,t,"end")?"right":"left",textBaseline:"middle"}):(m={x:d.x+h/2,y:d.y+u*p},b={x:d.x+h/2,y:d.y+c*p},_={textAlign:"center",textBaseline:this.isTextOverflow(v,e,"start")?"top":"bottom"},S={textAlign:"center",textBaseline:this.isTextOverflow(v,t,"end")?"bottom":"top"}),this._startText=this.maybeAddLabel(this._container,Ie({},a,{text:f,x:m.x,y:m.y,visible:this._showText,pickable:!1,childrenPickable:!1,textStyle:_}),`data-zoom-start-text-${d}`),this._endText=this.maybeAddLabel(this._container,Ie({},l,{text:g,x:b.x,y:b.y,visible:this._showText,pickable:!1,childrenPickable:!1,textStyle:S}),`data-zoom-end-text-${d}`)}renderText(){let e=null,t=null;this.setTextAttr(e,t),e=this._startText.AABBBounds,t=this._endText.AABBBounds,this.setTextAttr(e,t),e=this._startText.AABBBounds,t=this._endText.AABBBounds;const{x1:n,x2:r,y1:s,y2:a}=e,{dx:o=0,dy:l=0}=this.attribute.startTextStyle;if(new Da().set(n,s,r,a).intersects(t)){const u=this.attribute.orient==="bottom"||this.attribute.orient==="right"?-1:1;this._isHorizontal?this._startText.setAttribute("dy",l+u*Math.abs(t.y1-t.y2)):this._startText.setAttribute("dx",o+u*Math.abs(t.x1-t.x2))}else this._isHorizontal?this._startText.setAttribute("dy",l):this._startText.setAttribute("dx",o)}getLayoutAttrFromConfig(){var e,t,n,r,s,a;if(this._layoutAttrFromConfig)return this._layoutAttrFromConfig;const{position:o,size:l,orient:u,middleHandlerStyle:c={},startHandlerStyle:d={},endHandlerStyle:h={},backgroundStyle:p={}}=this.attribute,{width:f,height:g}=l,v=(t=(e=c.background)===null||e===void 0?void 0:e.size)!==null&&t!==void 0?t:10;let m,b,_;c.visible?this._isHorizontal?(m=f,b=g-v,_={x:o.x,y:o.y+v}):(m=f-v,b=g,_={x:o.x+(u==="left"?v:0),y:o.y}):(m=f,b=g,_=o);const S=(n=d.size)!==null&&n!==void 0?n:this._isHorizontal?b:m,C=(r=h.size)!==null&&r!==void 0?r:this._isHorizontal?b:m;return d.visible&&(this._isHorizontal?(m-=(S+C)/2,_={x:_.x+S/2,y:_.y}):(b-=(S+C)/2,_={x:_.x,y:_.y+S/2})),b+=(s=p.lineWidth/2)!==null&&s!==void 0?s:1,m+=(a=p.lineWidth/2)!==null&&a!==void 0?a:1,this._layoutAttrFromConfig={position:_,width:m,height:b},this._layoutAttrFromConfig}render(){var e,t,n,r,s,a,o,l,u,c,d,h,p,f,g,v,m,b,_,S,C,k,E,A,P,O,M,D,L,H,B,F,z,N;this._layoutAttrFromConfig=null;const{orient:U,backgroundStyle:G,backgroundChartStyle:j={},selectedBackgroundStyle:K={},selectedBackgroundChartStyle:ie={},middleHandlerStyle:ae={},startHandlerStyle:re={},endHandlerStyle:J={},brushSelect:ne,zoomLock:te}=this.attribute,{start:Q,end:se}=this.state,{position:_e,width:le,height:ve}=this.getLayoutAttrFromConfig(),pe=(e=re.triggerMinSize)!==null&&e!==void 0?e:40,Fe=(t=J.triggerMinSize)!==null&&t!==void 0?t:40,Ee=this.createOrUpdateChild("dataZoom-container",{},"group");if(this._container=Ee,this._background=Ee.createOrUpdateChild("background",Object.assign(Object.assign({x:_e.x,y:_e.y,width:le,height:ve,cursor:ne?"crosshair":"auto"},G),{pickable:!te&&((n=G.pickable)===null||n===void 0||n)}),"rect"),!((r=j.line)===null||r===void 0)&&r.visible&&this.setPreviewAttributes("line",Ee),!((s=j.area)===null||s===void 0)&&s.visible&&this.setPreviewAttributes("area",Ee),ne&&this.renderDragMask(),this._isHorizontal?this._selectedBackground=Ee.createOrUpdateChild("selectedBackground",Object.assign(Object.assign({x:_e.x+Q*le,y:_e.y,width:(se-Q)*le,height:ve,cursor:ne?"crosshair":"move"},K),{pickable:!te&&((a=ie.pickable)===null||a===void 0||a)}),"rect"):this._selectedBackground=Ee.createOrUpdateChild("selectedBackground",Object.assign(Object.assign({x:_e.x,y:_e.y+Q*ve,width:le,height:(se-Q)*ve,cursor:ne?"crosshair":"move"},K),{pickable:!te&&((o=K.pickable)===null||o===void 0||o)}),"rect"),!((l=ie.line)===null||l===void 0)&&l.visible&&this.setSelectedPreviewAttributes("line",Ee),!((u=ie.area)===null||u===void 0)&&u.visible&&this.setSelectedPreviewAttributes("area",Ee),this._isHorizontal){if(ae.visible){const We=((c=ae.background)===null||c===void 0?void 0:c.size)||10;this._middleHandlerRect=Ee.createOrUpdateChild("middleHandlerRect",Object.assign(Object.assign({x:_e.x+Q*le,y:_e.y-We,width:(se-Q)*le,height:We},(d=ae.background)===null||d===void 0?void 0:d.style),{pickable:!te&&((f=(p=(h=ae.background)===null||h===void 0?void 0:h.style)===null||p===void 0?void 0:p.pickable)===null||f===void 0||f)}),"rect"),this._middleHandlerSymbol=Ee.createOrUpdateChild("middleHandlerSymbol",Object.assign(Object.assign({x:_e.x+(Q+se)/2*le,y:_e.y-We/2,strokeBoundsBuffer:0,angle:0,symbolType:(v=(g=ae.icon)===null||g===void 0?void 0:g.symbolType)!==null&&v!==void 0?v:"square"},ae.icon),{pickable:!te&&((m=ae.icon.pickable)===null||m===void 0||m)}),"symbol")}this._startHandler=Ee.createOrUpdateChild("startHandler",Object.assign(Object.assign(Object.assign({x:_e.x+Q*le,y:_e.y+ve/2,size:ve,symbolType:(b=re.symbolType)!==null&&b!==void 0?b:"square"},Hm.horizontal),re),{pickable:!te&&((_=re.pickable)===null||_===void 0||_)}),"symbol"),this._endHandler=Ee.createOrUpdateChild("endHandler",Object.assign(Object.assign(Object.assign({x:_e.x+se*le,y:_e.y+ve/2,size:ve,symbolType:(S=J.symbolType)!==null&&S!==void 0?S:"square"},Hm.horizontal),J),{pickable:!te&&((C=J.pickable)===null||C===void 0||C)}),"symbol");const it=Math.max(this._startHandler.AABBBounds.width(),pe),Qe=Math.max(this._startHandler.AABBBounds.height(),pe),Ae=Math.max(this._endHandler.AABBBounds.width(),Fe),je=Math.max(this._endHandler.AABBBounds.height(),Fe);this._startHandlerMask=Ee.createOrUpdateChild("startHandlerMask",Object.assign(Object.assign({x:_e.x+Q*le-it/2,y:_e.y+ve/2-Qe/2,width:it,height:Qe,fill:"white",fillOpacity:0,zIndex:999},Hm.horizontal),{pickable:!te}),"rect"),this._endHandlerMask=Ee.createOrUpdateChild("endHandlerMask",Object.assign(Object.assign({x:_e.x+se*le-Ae/2,y:_e.y+ve/2-je/2,width:Ae,height:je,fill:"white",fillOpacity:0,zIndex:999},Hm.horizontal),{pickable:!te}),"rect")}else{if(ae.visible){const We=((k=ae.background)===null||k===void 0?void 0:k.size)||10;this._middleHandlerRect=Ee.createOrUpdateChild("middleHandlerRect",Object.assign(Object.assign({x:U==="left"?_e.x-We:_e.x+le,y:_e.y+Q*ve,width:We,height:(se-Q)*ve},(E=ae.background)===null||E===void 0?void 0:E.style),{pickable:!te&&((O=(P=(A=ae.background)===null||A===void 0?void 0:A.style)===null||P===void 0?void 0:P.pickable)===null||O===void 0||O)}),"rect"),this._middleHandlerSymbol=Ee.createOrUpdateChild("middleHandlerSymbol",Object.assign(Object.assign({x:U==="left"?_e.x-We/2:_e.x+le+We/2,y:_e.y+(Q+se)/2*ve,angle:Math.PI/180*90,symbolType:(D=(M=ae.icon)===null||M===void 0?void 0:M.symbolType)!==null&&D!==void 0?D:"square",strokeBoundsBuffer:0},ae.icon),{pickable:!te&&((H=(L=ae.icon)===null||L===void 0?void 0:L.pickable)===null||H===void 0||H)}),"symbol")}this._startHandler=Ee.createOrUpdateChild("startHandler",Object.assign(Object.assign(Object.assign({x:_e.x+le/2,y:_e.y+Q*ve,size:le,symbolType:(B=re.symbolType)!==null&&B!==void 0?B:"square"},Hm.vertical),re),{pickable:!te&&((F=re.pickable)===null||F===void 0||F)}),"symbol"),this._endHandler=Ee.createOrUpdateChild("endHandler",Object.assign(Object.assign(Object.assign({x:_e.x+le/2,y:_e.y+se*ve,size:le,symbolType:(z=J.symbolType)!==null&&z!==void 0?z:"square"},Hm.vertical),J),{pickable:!te&&((N=J.pickable)===null||N===void 0||N)}),"symbol");const it=Math.max(this._startHandler.AABBBounds.width(),pe),Qe=Math.max(this._startHandler.AABBBounds.height(),pe),Ae=Math.max(this._endHandler.AABBBounds.width(),Fe),je=Math.max(this._endHandler.AABBBounds.height(),Fe);this._startHandlerMask=Ee.createOrUpdateChild("startHandlerMask",Object.assign(Object.assign({x:_e.x+le/2+it/2,y:_e.y+Q*ve-Qe/2,width:je,height:Ae,fill:"white",fillOpacity:0,zIndex:999},Hm.vertical),{pickable:!te}),"rect"),this._endHandlerMask=Ee.createOrUpdateChild("endHandlerMask",Object.assign(Object.assign({x:_e.x+le/2+Ae/2,y:_e.y+se*ve-je/2,width:je,height:Ae,fill:"white",fillOpacity:0,zIndex:999},Hm.vertical),{pickable:!te}),"rect")}this._showText&&this.renderText()}computeBasePoints(){const{orient:e}=this.attribute,{position:t,width:n,height:r}=this.getLayoutAttrFromConfig();let s,a;return this._isHorizontal?(s=[{x:t.x,y:t.y+r}],a=[{x:t.x+n,y:t.y+r}]):e==="left"?(s=[{x:t.x+n,y:t.y}],a=[{x:t.x+n,y:t.y+r}]):(s=[{x:t.x,y:t.y+r}],a=[{x:t.x,y:t.y}]),{basePointStart:s,basePointEnd:a}}simplifyPoints(e){var t;if(e.length>1e4){const n=(t=this.attribute.tolerance)!==null&&t!==void 0?t:this._previewData.length/1e4;return iht(e,n)}return e}getPreviewLinePoints(){let e=this._previewData.map(r=>({x:this._previewPointsX&&this._previewPointsX(r),y:this._previewPointsY&&this._previewPointsY(r)}));if(e.length===0)return e;e=this.simplifyPoints(e);const{basePointStart:t,basePointEnd:n}=this.computeBasePoints();return t.concat(e).concat(n)}getPreviewAreaPoints(){let e=this._previewData.map(r=>({x:this._previewPointsX&&this._previewPointsX(r),y:this._previewPointsY&&this._previewPointsY(r),x1:this._previewPointsX1&&this._previewPointsX1(r),y1:this._previewPointsY1&&this._previewPointsY1(r)}));if(e.length===0)return e;e=this.simplifyPoints(e);const{basePointStart:t,basePointEnd:n}=this.computeBasePoints();return t.concat(e).concat(n)}setPreviewAttributes(e,t){this._previewGroup||(this._previewGroup=t.createOrUpdateChild("previewGroup",{pickable:!1},"group")),e==="line"?this._previewLine=this._previewGroup.createOrUpdateChild("previewLine",{},"line"):this._previewArea=this._previewGroup.createOrUpdateChild("previewArea",{curveType:"basis"},"area");const{backgroundChartStyle:n={}}=this.attribute;e==="line"&&this._previewLine.setAttributes(Object.assign({points:this.getPreviewLinePoints(),curveType:"basis",pickable:!1},n.line)),e==="area"&&this._previewArea.setAttributes(Object.assign({points:this.getPreviewAreaPoints(),curveType:"basis",pickable:!1},n.area))}setSelectedPreviewAttributes(e,t){this._selectedPreviewGroupClip||(this._selectedPreviewGroupClip=t.createOrUpdateChild("selectedPreviewGroupClip",{pickable:!1},"group"),this._selectedPreviewGroup=this._selectedPreviewGroupClip.createOrUpdateChild("selectedPreviewGroup",{},"group")),e==="line"?this._selectedPreviewLine=this._selectedPreviewGroup.createOrUpdateChild("selectedPreviewLine",{},"line"):this._selectedPreviewArea=this._selectedPreviewGroup.createOrUpdateChild("selectedPreviewArea",{curveType:"basis"},"area");const{selectedBackgroundChartStyle:n={}}=this.attribute,{start:r,end:s}=this.state,{position:a,width:o,height:l}=this.getLayoutAttrFromConfig();this._selectedPreviewGroupClip.setAttributes({x:this._isHorizontal?a.x+r*o:a.x,y:this._isHorizontal?a.y:a.y+r*l,width:this._isHorizontal?(s-r)*o:o,height:this._isHorizontal?l:(s-r)*l,clip:!0,pickable:!1}),this._selectedPreviewGroup.setAttributes({x:-(this._isHorizontal?a.x+r*o:a.x),y:-(this._isHorizontal?a.y:a.y+r*l),width:this._isHorizontal?(s-r)*o:o,height:this._isHorizontal?l:(s-r)*l,pickable:!1}),e==="line"&&this._selectedPreviewLine.setAttributes(Object.assign({points:this.getPreviewLinePoints(),curveType:"basis",pickable:!1},n.line)),e==="area"&&this._selectedPreviewArea.setAttributes(Object.assign({points:this.getPreviewAreaPoints(),curveType:"basis",pickable:!1},n.area))}maybeAddLabel(e,t,n){let r=this.find(s=>s.name===n,!0);return r?r.setAttributes(t):(r=new Mf(t),r.name=n),e.add(r),r}setStartAndEnd(e,t){const{start:n,end:r}=this.attribute;X(e)&&X(t)&&(e!==this.state.start||t!==this.state.end)&&(this.state.start=e,this.state.end=t,n===this.state.start&&r===this.state.end||(this.setStateAttr(e,t,!0),this._dispatchEvent("change",{start:e,end:t,tag:this._activeTag})))}setPreviewData(e){this._previewData=e}setText(e,t){t==="start"?this._startText.setAttribute("text",e):this._endText.setAttribute("text",e)}getStartValue(){return this._startValue}getEndTextValue(){return this._endValue}getMiddleHandlerSize(){var e,t,n,r;const{middleHandlerStyle:s={}}=this.attribute,a=(t=(e=s.background)===null||e===void 0?void 0:e.size)!==null&&t!==void 0?t:10,o=(r=(n=s.icon)===null||n===void 0?void 0:n.size)!==null&&r!==void 0?r:10;return Math.max(a,...we(o))}setPreviewPointsX(e){Pe(e)&&(this._previewPointsX=e)}setPreviewPointsY(e){Pe(e)&&(this._previewPointsY=e)}setPreviewPointsX1(e){Pe(e)&&(this._previewPointsX1=e)}setPreviewPointsY1(e){Pe(e)&&(this._previewPointsY1=e)}setStatePointToData(e){Pe(e)&&(this._statePointToData=e)}};Eke.defaultAttributes=yvt;var EW;(function(i){i.start="start",i.startTop="startTop",i.startBottom="startBottom",i.insideStart="insideStart",i.insideStartTop="insideStartTop",i.insideStartBottom="insideStartBottom",i.middle="middle",i.insideMiddleTop="insideMiddleTop",i.insideMiddleBottom="insideMiddleBottom",i.end="end",i.endTop="endTop",i.endBottom="endBottom",i.insideEnd="insideEnd",i.insideEndTop="insideEndTop",i.insideEndBottom="insideEndBottom"})(EW||(EW={}));var AW;(function(i){i.left="left",i.right="right",i.top="top",i.bottom="bottom",i.middle="middle",i.insideLeft="insideLeft",i.insideRight="insideRight",i.insideTop="insideTop",i.insideBottom="insideBottom"})(AW||(AW={}));var So;(function(i){i.arcInnerStart="arcInnerStart",i.arcInnerEnd="arcInnerEnd",i.arcInnerMiddle="arcInnerMiddle",i.arcOuterStart="arcOuterStart",i.arcOuterEnd="arcOuterEnd",i.arcOuterMiddle="arcOuterMiddle",i.center="center"})(So||(So={}));var TW;(function(i){i.top="top",i.bottom="bottom",i.middle="middle",i.insideTop="insideTop",i.insideBottom="insideBottom",i.insideMiddle="insideMiddle"})(TW||(TW={}));function lP(){Is(),i$()}function Svt(){lP(),EX()}function xvt(){lP(),AX()}function wvt(){lP(),e$()}function Cvt(){lP(),Uw()}function kvt(){lP(),EX(),AX(),rh(),NCe(),gm()}function Tke(i,e){const{x1:t,y1:n,x2:r,y2:s}=e,{x1:a,y1:o,x2:l,y2:u}=i.AABBBounds;let c=0,d=0;return a<t&&(c=t-a),o<n&&(d=n-o),l>r&&(c=r-l),u>s&&(d=s-u),{dx:c,dy:d}}function FX(i,e){const{dx:t,dy:n}=Tke(i,e),{dx:r=0,dy:s=0}=i.attribute;t&&i.setAttribute("dx",t+r),n&&i.setAttribute("dy",n+s)}class p$ extends Ba{constructor(){super(...arguments),this.name="marker",this._onHover=e=>{this._lastHover=ike(e,this._container,this._lastHover)},this._onUnHover=e=>{this._lastHover=nke(e,this._container,this._lastHover)},this._onClick=e=>{this._lastSelect=rke(e,this._container,this._lastSelect)}}transAnimationConfig(){var e,t,n;if(this.attribute.animation!==!1){const r=yi(this.attribute.animation)?this.attribute.animation:{};this._animationConfig={enter:Ie({},this.defaultUpdateAnimation,r,(e=this.attribute.animationEnter)!==null&&e!==void 0?e:{}),exit:Ie({},this.defaultExitAnimation,r,(t=this.attribute.animationExit)!==null&&t!==void 0?t:{}),update:Ie({},this.defaultUpdateAnimation,r,(n=this.attribute.animationUpdate)!==null&&n!==void 0?n:{})}}}setAttribute(e,t,n){super.setAttribute(e,t,n),e==="visible"&&this.render()}_bindEvent(){var e,t,n;if(!this.attribute.interactive)return;const{hover:r,select:s}=this.attribute;r&&((e=this._container)===null||e===void 0||e.addEventListener("pointermove",this._onHover),(t=this._container)===null||t===void 0||t.addEventListener("pointerout",this._onUnHover)),s&&((n=this._container)===null||n===void 0||n.addEventListener("pointerdown",this._onClick))}_releaseEvent(){var e,t,n;(e=this._container)===null||e===void 0||e.removeEventListener("pointermove",this._onHover),(t=this._container)===null||t===void 0||t.removeEventListener("pointerout",this._onUnHover),(n=this._container)===null||n===void 0||n.removeEventListener("pointerdown",this._onClick)}_initContainer(){var e,t;const{limitRect:n={},clipInRange:r}=this.attribute;let s;if(r){const a=Ot.group(Object.assign(Object.assign({},n),{clip:!0,pickable:!1}));s=Ot.group({x:-((e=n.x)!==null&&e!==void 0?e:0),y:-((t=n.y)!==null&&t!==void 0?t:0),pickable:!1}),a.add(s),this._containerClip=a,this.add(a)}else s=Ot.group({x:0,y:0,pickable:!1}),this.add(s);s.name="marker-container",this._container=s}_updateContainer(){var e,t;const{limitRect:n={},clipInRange:r}=this.attribute;this._containerClip&&this._containerClip.setAttributes(Object.assign({},n)),this._container.setAttributes({x:r?-((e=n.x)!==null&&e!==void 0?e:0):0,y:r?-((t=n.y)!==null&&t!==void 0?t:0):0})}render(){var e;this.transAnimationConfig(),this.setAttribute("pickable",!1);const t=(e=this.attribute.visible)===null||e===void 0||e;this.attribute.interactive===!1&&this.setAttribute("childrenPickable",!1),t&&this.isValidPoints()?this._container?(this._updateContainer(),this.updateMarker(),this.markerAnimate("update")):(this._initContainer(),this.initMarker(this._container),this.markerAnimate("enter")):(this.markerAnimate("exit"),this._container=null,this.removeAllChild(!0)),this._releaseEvent(),this._bindEvent()}release(){this.markerAnimate("exit"),super.release(),this._releaseEvent(),this._container=null}}function Pa(i,e,t,n){var r,s,a,o,l;if(!i)return;(r=i==null?void 0:i.animates)===null||r===void 0||r.forEach(d=>d.stop("end"));const u=(a=(s=i.attribute)===null||s===void 0?void 0:s.fillOpacity)!==null&&a!==void 0?a:1,c=(l=(o=i.attribute)===null||o===void 0?void 0:o.strokeOpacity)!==null&&l!==void 0?l:1;i.setAttributes({fillOpacity:0,strokeOpacity:0}),i.animate().wait(e).to({fillOpacity:u,strokeOpacity:c},t,n)}function Pke(i,e,t,n){i&&(Pa(i.startSymbol,e,t,n),i.lines.forEach(r=>Pa(r,e,t,n)),Pa(i.line,e,t,n),Pa(i.endSymbol,e,t,n))}function f$(i,e,t,n){i&&(Pa(i.getTextShape(),e,t,n),Pa(i.getBgRect(),e,t,n))}function cf(i,e,t,n){var r,s,a,o;i&&(i.setAttributes({fillOpacity:(s=(r=i.attribute)===null||r===void 0?void 0:r.fillOpacity)!==null&&s!==void 0?s:1,strokeOpacity:(o=(a=i.attribute)===null||a===void 0?void 0:a.strokeOpacity)!==null&&o!==void 0?o:1}),i.animate().wait(e).to({fillOpacity:0,strokeOpacity:0},t,n))}function Oke(i,e,t,n){i&&(cf(i.startSymbol,e,t,n),i.lines.forEach(r=>cf(r,e,t,n)),cf(i.line,e,t,n),cf(i.endSymbol,e,t,n))}function g$(i,e,t,n){i&&(cf(i.getTextShape(),e,t,n),cf(i.getBgRect(),e,t,n))}function vce(i,e,t,n,r){const s=.1*t,a=.7*t,o=.1*t,l=.1*t;Pa(i.startSymbol,n,s,r),i.lines.forEach(u=>u.setAttribute("clipRange",0)),i.lines.forEach((u,c)=>{const d=a/i.lines.length;u.animate().wait(n+s+c*d).to({clipRange:1},d,r)}),Pa(i.endSymbol,n+s+a,o,r),Pa(e.getTextShape(),n+s+a+o,l,r),Pa(e.getBgRect(),n+s+a+o,l,r)}function yce(i,e,t,n,r){Pke(i,n,t,r),f$(e,n,t,r)}function _ce(i,e,t,n,r){Pa(i,n,t,r),f$(e,n,t,r)}function bce(i,e,t,n,r){Pa(i,n,t,r),f$(e,n,t,r)}function Sce(i,e,t,n,r,s){var a;Pke(i,r,n,s),Pa(e,r,n,s),!((a=t.getTextShape)===null||a===void 0)&&a.call(t)?f$(t,r,n,s):Pa(t,r,n,s)}function Evt(i,e,t,n,r){Oke(i,n,t,r),g$(e,n,t,r)}function Avt(i,e,t,n,r){cf(i,n,t,r),g$(e,n,t,r)}function Tvt(i,e,t,n,r){cf(i,n,t,r),g$(e,n,t,r)}function Pvt(i,e,t,n,r,s){var a;Oke(i,r,n,s),cf(e,r,n,s),!((a=t.getTextShape)===null||a===void 0)&&a.call(t)?g$(t,r,n,s):cf(t,r,n,s)}function xce(i,e,t,n,r,s){var a;const o=.1*n,l=.65*n,u=.05*n,c=.1*n,d=.1*n;Pa(i.startSymbol,r,o,s),i.lines.forEach(h=>h.setAttribute("clipRange",0)),i.lines.forEach((h,p)=>{const f=l/i.lines.length;h.animate().wait(r+o+p*f).to({clipRange:1},f,s)}),Pa(e,r+o+l,u,s),Pa(i.endSymbol,r+o+l+u,c,s),!((a=t.getTextShape)===null||a===void 0)&&a.call(t)?(Pa(t.getTextShape(),r+o+l+u+c,d,s),Pa(t.getBgRect(),r+o+l+c,d,s)):Pa(t,r+o+l+c,d,s)}function Mke(i,e,t,n){const{enter:r,update:s,exit:a}=t;if(n==="enter"){const{type:o,duration:l,delay:u,easing:c}=r;o==="clipIn"?vce(i,e,l,u,c):o==="fadeIn"&&yce(i,e,l,u,c)}else if(n==="update"){const{type:o,duration:l,delay:u,easing:c}=s;o==="clipIn"?vce(i,e,l,u,c):o==="fadeIn"&&yce(i,e,l,u,c)}else if(n==="exit"){const{duration:o,delay:l,easing:u}=a;Evt(i,e,o,l,u)}}function Ovt(i,e,t,n){const{enter:r,update:s,exit:a}=t;if(n==="enter"){const{type:o,duration:l,delay:u,easing:c}=r;o==="fadeIn"&&_ce(i,e,l,u,c)}else if(n==="update"){const{type:o,duration:l,delay:u,easing:c}=s;o==="fadeIn"&&_ce(i,e,l,u,c)}else if(n==="exit"){const{duration:o,delay:l,easing:u}=a;Avt(i,e,o,l,u)}}function Mvt(i,e,t,n){const{enter:r,update:s,exit:a}=t;if(n==="enter"){const{type:o,duration:l,delay:u,easing:c}=r;o==="fadeIn"&&bce(i,e,l,u,c)}else if(n==="update"){const{type:o,duration:l,delay:u,easing:c}=s;o==="fadeIn"&&bce(i,e,l,u,c)}else if(n==="exit"){const{duration:o,delay:l,easing:u}=a;Tvt(i,e,o,l,u)}}function Ivt(i,e,t,n){const[r,s]=i,{enter:a,update:o,exit:l}=t;if(n==="enter"){const{type:u,duration:c,delay:d,easing:h}=a;u==="fadeIn"?Sce(r,s,e,c,d,h):u==="callIn"&&xce(r,s,e,c,d,h)}else if(n==="update"){const{type:u,duration:c,delay:d,easing:h}=o;u==="fadeIn"?Sce(r,s,e,c,d,h):u==="callIn"&&xce(r,s,e,c,d,h)}else if(n==="exit"){const{duration:u,delay:c,easing:d}=l;Pvt(r,s,e,u,c,d)}}const Rvt={type:"clipIn",duration:500,easing:"linear",delay:0},Ike={type:"fadeIn",duration:500,easing:"linear",delay:0},Dvt={type:"callIn",duration:500,easing:"linear",delay:0},m$={type:"fadeOut",duration:500,easing:"linear",delay:0};class Rke extends p${constructor(){super(...arguments),this.name="markCommonLine",this.defaultUpdateAnimation=Rvt,this.defaultExitAnimation=m$}getLine(){return this._line}getLabel(){return this._label}setLabelPos(){const{label:e={},limitRect:t}=this.attribute,{position:n,confine:r,autoRotate:s}=e,a=this.getPointAttrByPosition(n),o=n.toString().toLocaleLowerCase().includes("start")?this._line.getStartAngle()||0:this._line.getEndAngle()||0;if(this._label.setAttributes(Object.assign(Object.assign({},a.position),{angle:s?this.getRotateByAngle(a.angle):0,textStyle:Object.assign(Object.assign({},this.getTextStyle(n,o,s)),e.textStyle)})),t&&r){const{x:l,y:u,width:c,height:d}=t;FX(this._label,{x1:l,y1:u,x2:l+c,y2:u+d})}}initMarker(e){const{label:t,state:n}=this.attribute,r=this.createSegment();r.name="mark-common-line-line",this._line=r,e.add(r);const s=new Mf(Object.assign(Object.assign({},t),{state:{panel:Ie({},Mi,n==null?void 0:n.labelBackground),text:Ie({},Mi,n==null?void 0:n.label)}}));s.name="mark-common-line-label",this._label=s,e.add(s),this.setLabelPos()}updateMarker(){const{label:e,state:t}=this.attribute;this.setLineAttributes(),this._label&&(this._label.setAttributes(Object.assign(Object.assign({dx:0,dy:0},e),{state:{panel:Ie({},Mi,t==null?void 0:t.labelBackground),text:Ie({},Mi,t==null?void 0:t.label)}})),this.setLabelPos())}}const Hp=.001,Lvt={interactive:!0,startSymbol:{visible:!1,symbolType:"triangle",size:12,fill:"rgba(46, 47, 50)",lineWidth:0},endSymbol:{visible:!0,symbolType:"triangle",size:12,fill:"rgba(46, 47, 50)",lineWidth:0},label:{position:EW.end,refX:0,refY:0,refAngle:0,textStyle:{fill:"#fff",stroke:"#fff",lineWidth:0,fontSize:10,fontWeight:"normal",fontStyle:"normal"},padding:[2,2,4,4],panel:{visible:!0,cornerRadius:0,fill:"rgb(48, 115, 242)",fillOpacity:.8}},lineStyle:{stroke:"#b2bacf",lineWidth:1,lineDash:[2]}},wce={postiveXAxis:{start:{textAlign:"left",textBaseline:"middle"},startTop:{textAlign:"left",textBaseline:"bottom"},startBottom:{textAlign:"left",textBaseline:"top"},insideStart:{textAlign:"right",textBaseline:"middle"},insideStartTop:{textAlign:"right",textBaseline:"bottom"},insideStartBottom:{textAlign:"right",textBaseline:"top"},middle:{textAlign:"center",textBaseline:"middle"},insideMiddleTop:{textAlign:"center",textBaseline:"bottom"},insideMiddleBottom:{textAlign:"center",textBaseline:"top"},end:{textAlign:"left",textBaseline:"middle"},endTop:{textAlign:"left",textBaseline:"bottom"},endBottom:{textAlign:"left",textBaseline:"top"},insideEnd:{textAlign:"right",textBaseline:"middle"},insideEndTop:{textAlign:"right",textBaseline:"bottom"},insideEndBottom:{textAlign:"right",textBaseline:"top"}},negativeXAxis:{start:{textAlign:"right",textBaseline:"middle"},startTop:{textAlign:"right",textBaseline:"bottom"},startBottom:{textAlign:"right",textBaseline:"top"},insideStart:{textAlign:"left",textBaseline:"middle"},insideStartTop:{textAlign:"left",textBaseline:"bottom"},insideStartBottom:{textAlign:"left",textBaseline:"top"},middle:{textAlign:"center",textBaseline:"middle"},insideMiddleTop:{textAlign:"center",textBaseline:"bottom"},insideMiddleBottom:{textAlign:"center",textBaseline:"top"},end:{textAlign:"right",textBaseline:"middle"},endTop:{textAlign:"right",textBaseline:"bottom"},endBottom:{textAlign:"right",textBaseline:"top"},insideEnd:{textAlign:"left",textBaseline:"middle"},insideEndTop:{textAlign:"left",textBaseline:"bottom"},insideEndBottom:{textAlign:"left",textBaseline:"top"}}},Fvt={interactive:!0,startSymbol:{visible:!1,symbolType:"triangle",size:12,fill:"rgba(46, 47, 50)",lineWidth:0},endSymbol:{visible:!0,symbolType:"triangle",size:12,fill:"rgba(46, 47, 50)",lineWidth:0},label:{position:So.arcOuterMiddle,refX:0,refY:0,refAngle:0,textStyle:{fill:"#fff",stroke:"#fff",lineWidth:0,fontSize:10,fontWeight:"normal",fontStyle:"normal"},padding:[2,2,4,4],panel:{visible:!0,cornerRadius:0,fill:"rgb(48, 115, 242)",fillOpacity:.8}},lineStyle:{stroke:"#b2bacf",lineWidth:1,lineDash:[2]}},Bvt={interactive:!0,label:{position:AW.right,textStyle:{fill:"#fff",stroke:"#fff",lineWidth:0,fontSize:10,fontWeight:"normal",fontStyle:"normal"},padding:[2,2,4,4],panel:{visible:!0,cornerRadius:0,fill:"rgb(48, 115, 242)",fillOpacity:.8}},areaStyle:{fill:"#b2bacf",visible:!0}},$vt={interactive:!0,label:{position:So.arcOuterMiddle,textStyle:{fill:"#fff",stroke:"#fff",lineWidth:0,fontSize:10,fontWeight:"normal",fontStyle:"normal"},padding:[2,2,4,4],panel:{visible:!0,cornerRadius:0,fill:"rgb(48, 115, 242)",fillOpacity:.8}},areaStyle:{fill:"#b2bacf",visible:!0}},Dke={arcInnerStart:{textAlign:"center",textBaseline:"bottom"},arcInnerEnd:{textAlign:"center",textBaseline:"bottom"},arcInnerMiddle:{textAlign:"center",textBaseline:"bottom"},arcOuterStart:{textAlign:"center",textBaseline:"top"},arcOuterEnd:{textAlign:"center",textBaseline:"top"},arcOuterMiddle:{textAlign:"center",textBaseline:"top"},center:{textAlign:"center",textBaseline:"middle"}},Nvt={left:{textAlign:"right",textBaseline:"middle"},insideLeft:{textAlign:"left",textBaseline:"middle"},right:{textAlign:"left",textBaseline:"middle"},insideRight:{textAlign:"right",textBaseline:"middle"},top:{textAlign:"center",textBaseline:"bottom"},insideTop:{textAlign:"center",textBaseline:"top"},bottom:{textAlign:"center",textBaseline:"top"},insideBottom:{textAlign:"center",textBaseline:"bottom"},middle:{textAlign:"center",textBaseline:"middle"}},jvt={interactive:!0,targetSymbol:{visible:!1,offset:0,style:{symbolType:"circle",size:20,fill:!1,stroke:"rgba(46, 47, 50)"}},itemLine:{visible:!0,decorativeLine:{visible:!1,length:30},startSymbol:{visible:!0,clip:!0,symbolType:"circle",size:20,style:{fill:!1,stroke:"rgba(46, 47, 50)"}},endSymbol:{visible:!1,clip:!0,symbolType:"triangle",size:12,style:{fill:!1,stroke:"rgba(46, 47, 50)"}},lineStyle:{stroke:"#000",lineWidth:1}},itemContent:{type:"text",position:"middle",refX:10,symbolStyle:{symbolType:"star",fill:"rgb(48, 115, 242)",fillOpacity:.8,size:20},textStyle:{dx:0,dy:0},imageStyle:{width:80,height:80},richTextStyle:{width:100,height:100}}},Cce={postiveXAxis:{top:{textAlign:"left",textBaseline:"bottom"},bottom:{textAlign:"left",textBaseline:"top"},middle:{textAlign:"left",textBaseline:"middle"},insideTop:{textAlign:"right",textBaseline:"bottom"},insideBottom:{textAlign:"right",textBaseline:"top"},insideMiddle:{textAlign:"right",textBaseline:"middle"}},negativeXAxis:{top:{textAlign:"right",textBaseline:"bottom"},bottom:{textAlign:"right",textBaseline:"top"},middle:{textAlign:"right",textBaseline:"middle"},insideTop:{textAlign:"left",textBaseline:"bottom"},insideBottom:{textAlign:"left",textBaseline:"top"},insideMiddle:{textAlign:"left",textBaseline:"middle"}}};Svt();function Lke(){Wv._animate=Mke}class Wv extends Rke{markerAnimate(e){Wv._animate&&this._animationConfig&&Wv._animate(this._line,this._label,this._animationConfig,e)}constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},Wv.defaultAttributes,e)),this.name="markLine"}getPointAttrByPosition(e){var t;const{label:n={}}=this.attribute,{refX:r=0,refY:s=0}=n,a=this._line.getMainSegmentPoints(),o=(t=this._line.getEndAngle())!==null&&t!==void 0?t:0,l=o,u=r*Math.cos(l)+s*Math.cos(l-Math.PI/2),c=r*Math.sin(l)+s*Math.sin(l-Math.PI/2);return e.includes("start")||e.includes("Start")?{position:{x:a[0].x+u,y:a[0].y+c},angle:l}:e.includes("middle")||e.includes("Middle")?{position:{x:(a[0].x+a[a.length-1].x)/2+u,y:(a[0].y+a[a.length-1].y)/2+c},angle:l}:{position:{x:a[a.length-1].x+u,y:a[a.length-1].y+c},angle:l}}getRotateByAngle(e){var t;return(NL(e)?e:e-Math.PI)+((t=this.attribute.label.refAngle)!==null&&t!==void 0?t:0)}getTextStyle(e,t,n){return zp(Math.abs(t),Math.PI/2,Hp)||zp(Math.abs(t),3*Math.PI/2,Hp)?HCe(n,t,e):NL(t)?wce.postiveXAxis[e]:wce.negativeXAxis[e]}createSegment(){const{points:e,startSymbol:t,endSymbol:n,lineStyle:r,mainSegmentIndex:s,multiSegment:a,state:o}=this.attribute;return new Zg({points:e,startSymbol:t,endSymbol:n,lineStyle:r,mainSegmentIndex:s,multiSegment:a,pickable:!1,state:{line:Ie({},Mi,o==null?void 0:o.line),startSymbol:Ie({},Mi,o==null?void 0:o.lineStartSymbol),endSymbol:Ie({},Mi,o==null?void 0:o.lineEndSymbol)}})}setLineAttributes(){const{points:e,startSymbol:t,endSymbol:n,lineStyle:r,mainSegmentIndex:s,multiSegment:a,state:o}=this.attribute;this._line&&this._line.setAttributes({points:e,startSymbol:t,endSymbol:n,lineStyle:r,mainSegmentIndex:s,multiSegment:a,state:{line:Ie({},Mi,o==null?void 0:o.line),startSymbol:Ie({},Mi,o==null?void 0:o.lineStartSymbol),endSymbol:Ie({},Mi,o==null?void 0:o.lineEndSymbol)}})}isValidPoints(){const{points:e}=this.attribute;if(!e||e.length<2)return!1;let t=!0;return e.forEach(n=>{if(n.length)n.forEach(r=>{Ce(r.x)&&Ce(r.y)||(t=!1)});else if(!Ce(n.x)||!Ce(n.y))return void(t=!1)}),t}}Wv.defaultAttributes=Lvt;wvt();function Fke(){Uv._animate=Ovt}class Uv extends p${markerAnimate(e){Uv._animate&&this._animationConfig&&Uv._animate(this._area,this._label,this._animationConfig,e)}getArea(){return this._area}getLabel(){return this._label}constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},Uv.defaultAttributes,e)),this.name="markArea",this.defaultUpdateAnimation=Ike,this.defaultExitAnimation=m$}getPointAttrByPosition(e){const{x1:t,x2:n,y1:r,y2:s}=this._area.AABBBounds;return e.includes("left")||e.includes("Left")?{x:t,y:(r+s)/2}:e.includes("right")||e.includes("Right")?{x:n,y:(r+s)/2}:e.includes("top")||e.includes("Top")?{x:(t+n)/2,y:r}:e.includes("bottom")||e.includes("Bottom")?{x:(t+n)/2,y:s}:{x:(t+n)/2,y:(r+s)/2}}setLabelPos(){var e;if(this._label&&this._area){const{label:t={}}=this.attribute,n=(e=t.position)!==null&&e!==void 0?e:"middle",r=this.getPointAttrByPosition(n);if(this._label.setAttributes(Object.assign(Object.assign({},r),{textStyle:Object.assign(Object.assign({},Nvt[n]),t.textStyle)})),this.attribute.limitRect&&t.confine){const{x:s,y:a,width:o,height:l}=this.attribute.limitRect;FX(this._label,{x1:s,y1:a,x2:s+o,y2:a+l})}}}initMarker(e){const{points:t,label:n,areaStyle:r,state:s}=this.attribute,a=Ot.polygon(Object.assign({points:t},r));a.states=Ie({},Mi,s==null?void 0:s.area),a.name="mark-area-polygon",this._area=a,e.add(a);const o=new Mf(Object.assign(Object.assign({},n),{state:{panel:Ie({},Mi,s==null?void 0:s.labelBackground),text:Ie({},Mi,s==null?void 0:s.label)}}));o.name="mark-area-label",this._label=o,e.add(o),this.setLabelPos()}updateMarker(){const{points:e,label:t,areaStyle:n,state:r}=this.attribute;this._area&&(this._area.setAttributes(Object.assign({points:e},n)),this._area.states=Ie({},Mi,r==null?void 0:r.area)),this._label&&this._label.setAttributes(Object.assign(Object.assign({dx:0,dy:0},t),{state:{panel:Ie({},Mi,r==null?void 0:r.labelBackground),text:Ie({},Mi,r==null?void 0:r.label)}})),this.setLabelPos()}isValidPoints(){const{points:e}=this.attribute;if(!e||e.length<3)return!1;let t=!0;return e.forEach(n=>{Ce(n.x)&&Ce(n.y)||(t=!1)}),t}}Uv.defaultAttributes=Bvt;xvt();function zvt(){p_._animate=Mke}class p_ extends Rke{markerAnimate(e){p_._animate&&this._animationConfig&&p_._animate(this._line,this._label,this._animationConfig,e)}constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},p_.defaultAttributes,e,{label:{autoRotate:!0}})),this.name="markArcLine"}getPointAttrByPosition(e){const{center:t,radius:n,startAngle:r,endAngle:s,label:a}=this.attribute,{refX:o=0,refY:l=0}=a;let u;switch(e){case So.arcInnerStart:u=r;case So.arcOuterStart:u=r;break;case So.arcInnerEnd:u=s;case So.arcOuterEnd:u=s;break;case So.center:case So.arcInnerMiddle:case So.arcOuterMiddle:default:u=(r+s)/2}return{position:{x:t.x+(n+l)*Math.cos(u)+o*Math.cos(u-Math.PI/2),y:t.y+(n+l)*Math.sin(u)+o*Math.sin(u-Math.PI/2)},angle:u}}getTextStyle(e){return Dke[e]}getRotateByAngle(e){var t;return e-Math.PI/2+((t=this.attribute.label.refAngle)!==null&&t!==void 0?t:0)}createSegment(){const{center:e,radius:t,startAngle:n,endAngle:r,startSymbol:s,endSymbol:a,lineStyle:o,state:l}=this.attribute;return new _W({center:e,radius:t,startAngle:n,endAngle:r,startSymbol:s,endSymbol:a,lineStyle:o,state:{line:Ie({},Mi,l==null?void 0:l.line),startSymbol:Ie({},Mi,l==null?void 0:l.lineStartSymbol),endSymbol:Ie({},Mi,l==null?void 0:l.lineEndSymbol)}})}setLineAttributes(){const{center:e,radius:t,startAngle:n,endAngle:r,startSymbol:s,endSymbol:a,lineStyle:o,state:l}=this.attribute;this._line&&this._line.setAttributes({center:e,radius:t,startAngle:n,endAngle:r,startSymbol:s,endSymbol:a,lineStyle:o,state:{line:Ie({},Mi,l==null?void 0:l.line),startSymbol:Ie({},Mi,l==null?void 0:l.lineStartSymbol),endSymbol:Ie({},Mi,l==null?void 0:l.lineEndSymbol)}})}isValidPoints(){return!0}}p_.defaultAttributes=Fvt;Cvt();function Hvt(){f_._animate=Mvt}class f_ extends p${markerAnimate(e){f_._animate&&this._animationConfig&&f_._animate(this._area,this._label,this._animationConfig,e)}getArea(){return this._area}getLabel(){return this._label}constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},f_.defaultAttributes,e,{label:{autoRotate:!0}})),this.name="markArcArea",this.defaultUpdateAnimation=Ike,this.defaultExitAnimation=m$}getPointAttrByPosition(e){const{center:t,innerRadius:n,outerRadius:r,startAngle:s,endAngle:a,label:o}=this.attribute,{refX:l=0,refY:u=0}=o;let c,d;switch(e){case So.center:c=(n+r)/2,d=(s+a)/2;break;case So.arcInnerStart:c=n,d=s;break;case So.arcOuterStart:c=r,d=s;break;case So.arcInnerEnd:c=n,d=a;break;case So.arcOuterEnd:c=r,d=a;break;case So.arcInnerMiddle:c=n,d=(s+a)/2;break;case So.arcOuterMiddle:c=r,d=(s+a)/2;break;default:c=n,d=(s+a)/2}return{position:{x:t.x+(c+u)*Math.cos(d)+l*Math.cos(d-Math.PI/2),y:t.y+(c+u)*Math.sin(d)+l*Math.sin(d-Math.PI/2)},angle:d}}setLabelPos(){var e;if(this._label&&this._area){const{label:t={}}=this.attribute,{position:n="arcInnerMiddle",autoRotate:r}=t,s=this.getPointAttrByPosition(n);if(this._label.setAttributes(Object.assign(Object.assign({},s.position),{angle:r?s.angle-Math.PI/2+((e=t.refAngle)!==null&&e!==void 0?e:0):0,textStyle:Object.assign(Object.assign({},Dke[n]),t.textStyle)})),this.attribute.limitRect&&t.confine){const{x:a,y:o,width:l,height:u}=this.attribute.limitRect;FX(this._label,{x1:a,y1:o,x2:a+l,y2:o+u})}}}initMarker(e){const{center:t,innerRadius:n,outerRadius:r,startAngle:s,endAngle:a,areaStyle:o,label:l,state:u}=this.attribute,c=Ot.arc(Object.assign({x:t.x,y:t.y,innerRadius:n,outerRadius:r,startAngle:s,endAngle:a},o));c.states=Ie({},Mi,u==null?void 0:u.area),c.name="polar-mark-area-area",this._area=c,e.add(c);const d=new Mf(Object.assign(Object.assign({},l),{state:{panel:Ie({},Mi,u==null?void 0:u.labelBackground),text:Ie({},Mi,u==null?void 0:u.label)}}));d.name="mark-area-label",this._label=d,e.add(d),this.setLabelPos()}updateMarker(){const{center:e,innerRadius:t,outerRadius:n,startAngle:r,endAngle:s,areaStyle:a,label:o,state:l}=this.attribute;this._area&&(this._area.setAttributes(Object.assign({x:e.x,y:e.y,innerRadius:t,outerRadius:n,startAngle:r,endAngle:s},a)),this._area.states=Ie({},Mi,l==null?void 0:l.area)),this._label&&(this._label.setAttributes(Object.assign(Object.assign({dx:0,dy:0},o),{state:{panel:Ie({},Mi,l==null?void 0:l.labelBackground),text:Ie({},Mi,l==null?void 0:l.label)}})),this.setLabelPos())}isValidPoints(){return!0}}f_.defaultAttributes=$vt;kvt();function BX(){Gv._animate=Ivt}class Gv extends p${markerAnimate(e){Gv._animate&&this._animationConfig&&Gv._animate([this._line,this._decorativeLine],this._item,this._animationConfig,e)}constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},Gv.defaultAttributes,e)),this.name="markPoint",this.defaultUpdateAnimation=Dvt,this.defaultExitAnimation=m$,this._isArcLine=!1,this._isStraightLine=!1}setLabelPos(){}getTextAlignAttr(e,t,n,r,s){return zp(Math.abs(r),Math.PI/2,Hp)||zp(Math.abs(r),3*Math.PI/2,Hp)?HCe(e,r,s):NL(r)?Cce.postiveXAxis[s]:Cce.negativeXAxis[s]}setItemAttributes(e,t,n,r,s){var a,o;if(!e)return;const{autoRotate:l=!0,refX:u=0,refY:c=0,refAngle:d=0,textStyle:h={},richTextStyle:p={},imageStyle:f={},position:g=TW.middle}=t,{state:v}=this.attribute,m=((a=this._line)===null||a===void 0?void 0:a.getEndAngle())||0,b=u*Math.cos(m)+c*Math.cos(m-Math.PI/2),_=u*Math.sin(m)+c*Math.sin(m-Math.PI/2);if(s==="text"){const C=r.x-n.x,k=r.y-n.y;e.setAttributes(Object.assign(Object.assign({},h),{textStyle:Object.assign(Object.assign({},this.getTextAlignAttr(l,C,k,m,(o=t.position)!==null&&o!==void 0?o:"end")),h.textStyle),state:{panel:Ie({},Mi,v==null?void 0:v.textBackground),text:Ie({},Mi,v==null?void 0:v.text)}}))}else s==="richText"?(e.setAttributes({dx:this.getItemDx(e,g,p)+(p.dx||0),dy:this.getItemDy(e,g,p)+(p.dy||0)}),e.states=Ie({},Mi,v==null?void 0:v.richText)):s==="image"&&(e.setAttributes({dx:this.getItemDx(e,g,f)+(f.dx||0),dy:this.getItemDy(e,g,f)+(f.dy||0)}),e.states=Ie({},Mi,v==null?void 0:v.image));const S=NL(m)?m:m-Math.PI;e.setAttributes({x:r.x+(b||0),y:r.y+(_||0),angle:l&&S+d})}getItemDx(e,t,n){var r,s;const a=(s=(r=e==null?void 0:e.AABBBounds)===null||r===void 0?void 0:r.width())!==null&&s!==void 0?s:(n==null?void 0:n.width)||0;return t.includes("inside")?-a:0}getItemDy(e,t,n){var r,s;const a=(s=(r=e==null?void 0:e.AABBBounds)===null||r===void 0?void 0:r.height())!==null&&s!==void 0?s:(n==null?void 0:n.height)||0;return t.includes("top")||t.includes("Top")?-a:t.includes("middle")||t.includes("Middle")?-a/2:0}initItem(e,t,n){const{state:r}=this.attribute,{type:s="text",symbolStyle:a,richTextStyle:o,imageStyle:l,renderCustomCallback:u}=e;let c;return s==="symbol"?(c=Ot.symbol(Object.assign(Object.assign({},n),a)),c.states=Ie({},Mi,r==null?void 0:r.symbol)):s==="text"?c=new Mf(Object.assign(Object.assign({},n),{state:{panel:Ie({},Mi,r==null?void 0:r.textBackground),text:Ie({},Mi,r==null?void 0:r.text)}})):s==="richText"?(c=Ot.richtext(Object.assign(Object.assign({},n),o)),c.states=Ie({},Mi,r==null?void 0:r.richText)):s==="image"?(c=Ot.image(Object.assign(Object.assign({},n),l)),c.states=Ie({},Mi,r==null?void 0:r.image)):s==="custom"&&u&&(c=u(),c.states=Ie({},Mi,r==null?void 0:r.customMark)),c.name=`mark-point-${s}`,this.setItemAttributes(c,e,t,n,s),c}getItemLineAttr(e,t,n){let r=[],s={x:0,y:0},a=0,o=0,l=0;const{type:u="type-s",arcRatio:c=.8}=e,d=n.x-t.x,h=n.y-t.y;if(this._isStraightLine=zp(d,0,Hp)||zp(h,0,Hp),this._isArcLine){const{x:p,y:f}=t,{x:g,y:v}=n,m=(p+g)/2,b=(f+v)/2,_=f===v?0:-(p-g)/(f-v),S=m+c*(v>f?-1:1)*m,C=(k=>_*(k-m)+b)(S);o=F7(f-C,p-S),l=F7(v-C,g-S),s={x:S,y:C},c>0?l<o&&(l+=2*Math.PI):o<l&&(o+=2*Math.PI),a=Math.sqrt((S-p)*(S-p)+(C-f)*(C-f))}else r=u!=="type-do"||this._isStraightLine?u!=="type-po"||this._isStraightLine?u!=="type-op"||this._isStraightLine?[t,n]:[t,{x:t.x,y:n.y},n]:[t,{x:n.x,y:t.y},n]:[t,{x:(t.x+n.x)/2,y:n.y},n];return r=Tgt(r),{points:r,center:s,radius:a,startAngle:o,endAngle:l}}reDrawLine(e,t){this._line.release();const{startSymbol:n,endSymbol:r,lineStyle:s,type:a="type-s"}=e,{state:o}=this.attribute,l=this._isArcLine?_W:Zg;this._container.removeChild(this._line),this._line=new l(Object.assign(Object.assign({},t),{pickable:!1,startSymbol:n,endSymbol:r,lineStyle:s,visible:e.visible,state:{line:Ie({},Mi,o==null?void 0:o.line),startSymbol:Ie({},Mi,o==null?void 0:o.lineStartSymbol),endSymbol:Ie({},Mi,o==null?void 0:o.lineEndSymbol)}})),this._container.add(this._line)}setItemLineAttr(e,t,n){if(this._line){const{startSymbol:r,endSymbol:s,lineStyle:a,type:o="type-s"}=e,{state:l}=this.attribute,u=this.getItemLineAttr(e,t,n);this._isArcLine&&this._line.key==="arc-segment"||!this._isArcLine&&this._line.key==="segment"?this._line.setAttributes(Object.assign(Object.assign({},u),{startSymbol:r,endSymbol:s,lineStyle:a,visible:e.visible,state:{line:Ie({},Mi,l==null?void 0:l.line),startSymbol:Ie({},Mi,l==null?void 0:l.lineStartSymbol),endSymbol:Ie({},Mi,l==null?void 0:l.lineEndSymbol)}})):this.reDrawLine(e,u)}}getDecorativeLineAttr(e){var t;const n=((t=e==null?void 0:e.decorativeLine)===null||t===void 0?void 0:t.length)||10,r=this._line.getEndAngle()||0;return{startPointOffsetX:n/2*Math.cos(r-Math.PI/2),startPointOffsetY:n/2*Math.sin(r-Math.PI/2),endPointOffsetX:-n/2*Math.cos(r-Math.PI/2),endPointOffsetY:-n/2*Math.sin(r-Math.PI/2)}}setDecorativeLineAttr(e,t,n){var r;if(this._decorativeLine){const{lineStyle:s}=e,{startPointOffsetX:a,startPointOffsetY:o,endPointOffsetX:l,endPointOffsetY:u}=this.getDecorativeLineAttr(e);this._decorativeLine.setAttributes(Object.assign(Object.assign({points:[{x:t.x+a,y:t.y+o},{x:t.x+l,y:t.y+u}]},s),{visible:n})),this._decorativeLine.states=Ie({},Mi,(r=this.attribute.state)===null||r===void 0?void 0:r.line)}}setTargetItemAttributes(e,t){var n,r;this._targetItem&&(this._targetItem.setAttributes(Object.assign({x:t.x,y:t.y,visible:(n=e.visible)!==null&&n!==void 0&&n},e.style)),this._targetItem.states=Ie({},Mi,(r=this.attribute.state)===null||r===void 0?void 0:r.targetItem))}setAllOfItemsAttr(e,t){var n;const{position:r,itemLine:s={},itemContent:a={},limitRect:o,targetSymbol:l}=this.attribute,{type:u="text",confine:c}=a;if(o&&c){const{x:d,y:h,width:p,height:f}=o,{dx:g,dy:v}=Tke(this._item,{x1:d,y1:h,x2:d+p,y2:h+f});t.x=t.x+g,t.y=t.y+v}this.setTargetItemAttributes(l,r),this.setItemLineAttr(s,e,t),this.setItemAttributes(this._item,a,e,t,u),this.setDecorativeLineAttr(s,t,(n=s.decorativeLine)===null||n===void 0?void 0:n.visible)}computeNewPositionAfterTargetItem(e){var t;const{itemContent:n={},targetSymbol:r}=this.attribute,{offsetX:s=0,offsetY:a=0}=n,{offset:o=0,style:l,visible:u=!1,size:c}=r,d=u?c||((t=l.size)!==null&&t!==void 0?t:10):0,h=F7(a,s);return{newPosition:{x:e.x+(d/2+o)*Math.cos(h),y:e.y+(d/2+o)*Math.sin(h)},newItemPosition:{x:e.x+(d/2+o)*Math.cos(h)+s,y:e.y+(d/2+o)*Math.sin(h)+a}}}initMarker(e){const{position:t,itemContent:n={},itemLine:r}=this.attribute,{type:s="type-s",arcRatio:a=.8}=r,{offsetX:o=0,offsetY:l=0}=n;this._isStraightLine=zp(o,0,Hp)||zp(l,0,Hp),this._isArcLine=s==="type-arc"&&a!==0&&!this._isStraightLine;const{newPosition:u,newItemPosition:c}=this.computeNewPositionAfterTargetItem(t),d=new(this._isArcLine?_W:Zg)({points:[],pickable:!1,center:{x:0,y:0},radius:0,startAngle:0,endAngle:0});d.name="mark-point-line",this._line=d,e.add(d);const h=Ot.line({points:[]});h.name="mark-point-decorativeLine",this._decorativeLine=h,e.add(h);const p=Ot.symbol({});p.name="mark-point-targetItem",this._targetItem=p,e.add(this._targetItem);const f=this.initItem(n,u,c);this._item=f,e.add(f),this.setAllOfItemsAttr(u,c)}updateMarker(){const{position:e,itemContent:t={},itemLine:n}=this.attribute,{type:r="text"}=t,{type:s="type-s",arcRatio:a=.8}=n,{offsetX:o=0,offsetY:l=0}=t;this._isStraightLine=zp(o,0,Hp)||zp(l,0,Hp);const u=s==="type-arc"&&a!==0&&!this._isStraightLine,{newPosition:c,newItemPosition:d}=this.computeNewPositionAfterTargetItem(e);u!==this._isArcLine?(this._isArcLine=u,this.reDrawLine(n,{points:[{x:0,y:0}],pickable:!1,center:{x:0,y:0},radius:0,startAngle:0,endAngle:0})):this._isArcLine=u,this.setItemAttributes(this._item,t,c,d,r),this.setAllOfItemsAttr(c,d)}isValidPoints(){const{position:e}=this.attribute;return!(!Ce(e.x)||!Ce(e.y))}}Gv.defaultAttributes=jvt;function Bke(){Is(),rh(),Of()}const $ke={space:8,style:{fill:"rgb(47, 69, 84)",cursor:"pointer",size:15},state:{disable:{fill:"rgb(170, 170, 170)",cursor:"not-allowed"},hover:{}}};Bke();class BT extends Ba{getCurrent(){return this._current}constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},BT.defaultAttributes,e)),this.name="pager",this._current=1,this._onHover=n=>{const r=n.target;r.hasState("disable")||r.addState("hover")},this._onUnHover=n=>{n.target.removeState("hover")},this._onClick=n=>{const r=n.target;if(r.name==="preHandler"){if(this._current===1)return;this._current-=1,this._current===1?r.addState("disable"):r.removeState("disable"),this._dispatchEvent("toPrev",{current:this._current,total:this._total,direction:"pre",event:n})}if(r.name==="nextHandler"){if(this._current===this._total)return;this._current+=1,this._current===this._total?r.addState("disable"):r.removeState("disable"),this._dispatchEvent("toNext",{current:this._current,total:this._total,direction:"next",event:n})}this._current>1&&this.preHandler.removeState("disable"),this._current<this._total&&this.nextHandler.removeState("disable"),this.text.setAttribute("text",this._getPageText(this._current))}}render(){var e,t,n;this._reset();const{layout:r="horizontal",handler:s=$ke,total:a,defaultCurrent:o=1,textStyle:l,padding:u=0}=this.attribute;this._current=o;const c=au(u),d=r==="horizontal",h=Ot.group({x:0,y:0}),p=s.style||{},f=p.size||15,g=(e=s.space)!==null&&e!==void 0?e:8,v=s.state||{};let{preShape:m,nextShape:b}=s;m||(m=d?"triangleLeft":"triangleUp"),b||(b=d?"triangleRight":"triangleDown");const _=Ot.symbol(Object.assign(Object.assign({strokeBoundsBuffer:0,pickMode:"imprecise"},p),{x:0,y:0,symbolType:m,size:f}));_.states=v,_.name="preHandler",this.preHandler=_,h.add(_);const{width:S,height:C}=t$(this._getPageText(a),Object.assign({textAlign:"center",textBaseline:"middle"},l),(n=(t=this.stage)===null||t===void 0?void 0:t.getTheme())===null||n===void 0?void 0:n.text),k=Xe(f)?f:f[0],E=Xe(f)?f:f[1],A=Ot.text(Object.assign({x:d?k/2+g+S/2:0,y:d?0:E/2+g+C/2,text:this._getPageText(o),textAlign:"center",textBaseline:"middle",lineHeight:l==null?void 0:l.fontSize},l));this.text=A,h.add(A);const P=Ot.symbol(Object.assign(Object.assign({strokeBoundsBuffer:0,pickMode:"imprecise"},p),{x:d?k+2*g+S:0,y:d?0:E+2*g+C,symbolType:b,size:f}));P.name="nextHandler",P.states=v,this.nextHandler=P,h.add(P),this._total===1?(_.addState("disable"),P.addState("disable")):this._current===1?_.addState("disable"):this._current===a&&P.addState("disable");const O=h.AABBBounds,M=O.width(),D=O.height();h.translateTo(0-O.x1+c[3],0-O.y1+c[0]),this.add(h),this.attribute.width=M+c[1]+c[3],this.attribute.height=D+c[0]+c[2],this._bindEvents()}_bindEvents(){this.attribute.disableTriggerEvent||(this.preHandler&&(this.preHandler.addEventListener("pointerenter",this._onHover),this.preHandler.addEventListener("pointerleave",this._onUnHover),this.preHandler.addEventListener("pointerdown",this._onClick)),this.nextHandler&&(this.nextHandler.addEventListener("pointerenter",this._onHover),this.nextHandler.addEventListener("pointerleave",this._onUnHover),this.nextHandler.addEventListener("pointerdown",this._onClick)))}_reset(){this.removeAllChild(!0),this._current=1,this._total=this.attribute.total,this.preHandler=this.nextHandler=this.text=null}_getPageText(e){const{pageFormatter:t}=this.attribute;return t?Pe(t)?t(e,this._total):`${t}`.replace("{current}",`${e}`).replace("{total}",`${this._total}`):`${e}/${this._total}`}setTotal(e){e!==this.attribute.total&&(this._total=e,this._current!==1&&this._current<=e?this.setAttributes({total:e,defaultCurrent:this._current}):this.setAttribute("total",e))}}BT.defaultAttributes={handler:$ke,textStyle:{fill:"rgb(51, 51, 51)",fontSize:12}};const YL=10,Nke=8,jke=8,Vvt=8,U3=16,G3=8,uP=12,PW=12;var li;(function(i){i.selected="selected",i.unSelected="unSelected",i.selectedHover="selectedHover",i.unSelectedHover="unSelectedHover",i.focus="focus"})(li||(li={}));var yl;(function(i){i.legendItemHover="legendItemHover",i.legendItemUnHover="legendItemUnHover",i.legendItemClick="legendItemClick",i.legendItemAttributeUpdate="legendItemAttributeUpdate"})(yl||(yl={}));var Do;(function(i){i.innerView="innerView",i.title="legendTitle",i.item="legendItem",i.itemShape="legendItemShape",i.itemLabel="legendItemLabel",i.itemValue="legendItemValue",i.focus="legendItemFocus"})(Do||(Do={}));class $X extends Ba{constructor(){super(...arguments),this.name="legend",this._title=null}render(){this.removeAllChild(!0);const{interactive:e=!0,title:t,padding:n=0}=this.attribute,r=au(n),s=Ot.group({x:r[3],y:r[0],pickable:e,childrenPickable:e});s.name=Do.innerView,this.add(s),this._innerView=s,t!=null&&t.visible&&this._renderTitle(t),this._renderContent(),this._adjustLayout(),e&&this._bindEvents();const a=this._innerView.AABBBounds;this.attribute.width=a.width()+r[1]+r[3],this.attribute.height=a.height()+r[0]+r[2]}_renderTitle(e){const{text:t="",textStyle:n,padding:r=0,background:s,minWidth:a,maxWidth:o,shape:l}=e,u={x:0,y:0,text:t,textStyle:n,padding:au(r),minWidth:a,maxWidth:o};l&&l.visible&&(u.shape=Object.assign({visible:!0},l.style),X(l.space)&&(u.space=l.space)),s&&s.visible&&(u.panel=Object.assign({visible:!0},s.style));const c=new Mf(u);c.name=Do.title,this._title=c,this._innerView.add(c)}_adjustLayout(){var e;if(this._title){const t=this._innerView.AABBBounds.width(),n=this._title.AABBBounds.width(),r=(e=this.attribute.title)===null||e===void 0?void 0:e.align;r==="center"?this._title.setAttribute("x",(t-n)/2):r==="end"&&this._title.setAttribute("x",t-n)}}}function v$(){Is(),Of(),mm(),rh()}function NX(){Is(),i$()}function Wvt(){NX(),Bke(),jCe()}function Uvt(){NX(),v$()}function Gvt(){NX(),v$(),sP()}var kce=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};const Yvt={[li.focus]:{},[li.selected]:{},[li.selectedHover]:{},[li.unSelected]:{},[li.unSelectedHover]:{}};Wvt();let zke=class Hke extends $X{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},Hke.defaultAttributes,e)),this.name="discreteLegend",this._itemsContainer=null,this._itemHeightByUser=void 0,this._itemHeight=0,this._itemMaxWidth=0,this._onHover=n=>{const r=n.target;if(r&&r.name&&r.name.startsWith(Do.item)){const s=r.delegate;if(this._lastActiveItem){if(this._lastActiveItem.id===s.id)return;this._unHover(this._lastActiveItem,n)}this._hover(s,n)}else this._lastActiveItem&&(this._unHover(this._lastActiveItem,n),this._lastActiveItem=null)},this._onUnHover=n=>{this._lastActiveItem&&(this._unHover(this._lastActiveItem,n),this._lastActiveItem=null)},this._onClick=n=>{var r,s,a,o;const l=n.target;if(l&&l.name&&l.name.startsWith(Do.item)){const u=l.delegate,{selectMode:c="multiple"}=this.attribute;if(l.name===Do.focus||c==="focus"){const d=u.hasState(li.focus);u.toggleState(li.focus),d?(r=this._itemsContainer)===null||r===void 0||r.getChildren().forEach(h=>{this._removeLegendItemState(h,[li.unSelected,li.unSelectedHover,li.focus],n),this._setLegendItemState(h,li.selected,n)}):(this._setLegendItemState(u,li.selected,n),this._removeLegendItemState(u,[li.unSelected,li.unSelectedHover],n),(s=this._itemsContainer)===null||s===void 0||s.getChildren().forEach(h=>{u!==h&&(this._removeLegendItemState(h,[li.selected,li.selectedHover,li.focus],n),this._setLegendItemState(h,li.unSelected,n))}))}else{(a=this._itemsContainer)===null||a===void 0||a.getChildren().forEach(f=>{f.removeState(li.focus)});const{allowAllCanceled:d=!0}=this.attribute,h=u.hasState(li.selected),p=this._getSelectedLegends();if(c==="multiple"){if(d===!1&&h&&p.length===1)return void this._dispatchLegendEvent(yl.legendItemClick,u,n);h?(this._removeLegendItemState(u,[li.selected,li.selectedHover],n),this._setLegendItemState(u,li.unSelected,n)):(this._setLegendItemState(u,li.selected,n),this._removeLegendItemState(u,[li.unSelected,li.unSelectedHover],n))}else this._setLegendItemState(u,li.selected,n),this._removeLegendItemState(u,[li.unSelected,li.unSelectedHover],n),(o=this._itemsContainer)===null||o===void 0||o.getChildren().forEach(f=>{u!==f&&(this._removeLegendItemState(f,[li.selected,li.selectedHover],n),this._setLegendItemState(f,li.unSelected,n))})}this._dispatchLegendEvent(yl.legendItemClick,u,n)}}}render(){super.render(),this._lastActiveItem=null}setSelected(e){var t;((t=this._itemsContainer)===null||t===void 0?void 0:t.getChildren()).forEach(n=>{const r=n.data;e.includes(r.label)?(this._setLegendItemState(n,li.selected),this._removeLegendItemState(n,[li.unSelected,li.unSelectedHover])):(this._removeLegendItemState(n,[li.selected,li.selectedHover]),this._setLegendItemState(n,li.unSelected))})}_renderItems(){const{item:e={},maxCol:t=1,maxRow:n=2,maxWidth:r,maxHeight:s,defaultSelected:a,lazyload:o,autoPage:l}=this.attribute,{spaceCol:u=U3,spaceRow:c=G3}=e,d=this._itemsContainer,{items:h,isHorizontal:p,startIndex:f,isScrollbar:g}=this._itemContext,v=g?1:p?n:t;let m,{doWrap:b,maxWidthInCol:_,startX:S,startY:C,pages:k}=this._itemContext;for(let E=f,A=h.length;E<A&&!(o&&k>this._itemContext.currentPage*v);E++){o&&(this._itemContext.startIndex=E+1),m=h[E],m.id||(m.id=m.label),m.index=E;let P=!0;ke(a)&&(P=a.includes(m.label));const O=this._renderEachItem(m,P,E,h),M=O.attribute.width,D=O.attribute.height;this._itemHeight=Math.max(this._itemHeight,D),_=Math.max(M,_),this._itemMaxWidth=Math.max(M,this._itemMaxWidth),p?(X(r)&&(g&&l?(k=Math.ceil((S+M)/r),b=k>1):S+M>r&&(b=!0,S>0&&(k+=1,S=0,C+=D+c))),S===0&&C===0||O.setAttributes({x:S,y:C}),S+=u+M):(X(s)&&(g&&l?(k=Math.ceil((C+D)/s),b=k>1):s<C+D&&(k+=1,b=!0,C=0,S+=_+u,_=0)),S===0&&C===0||O.setAttributes({x:S,y:C}),C+=c+D),d.add(O)}return this._itemContext.doWrap=b,this._itemContext.startX=S,this._itemContext.startY=C,this._itemContext.maxWidthInCol=_,this._itemContext.pages=k,this._itemContext.maxPages=v,g&&(this._itemContext.totalPage=k),o||(this._itemContext.startIndex=h.length),this._itemContext}_renderContent(){const{item:e={},items:t,reversed:n,maxWidth:r}=this.attribute;if(e.visible===!1||Mt(t))return;let s=t;n&&(s=t==null?void 0:t.reverse());const a=Ot.group({x:0,y:0});this._itemsContainer=a;const{layout:o,autoPage:l}=this.attribute,u=o==="horizontal",{maxWidth:c,width:d,height:h}=e,p=[];X(c)&&p.push(c),X(d)&&p.push(d),p.length&&(X(r)&&p.push(r),this._itemWidthByUser=ca(p)),X(h)&&(this._itemHeightByUser=h);const f=this.attribute.pager;this._itemContext={currentPage:f&&f.defaultCurrent||1,doWrap:!1,maxWidthInCol:0,maxPages:1,pages:1,startX:0,startY:0,startIndex:0,items:s,isHorizontal:u,totalPage:1/0,isScrollbar:f&&f.type==="scrollbar"},this._itemContext=this._renderItems();let g=!1;this._itemContext.doWrap&&l&&this._itemContext.pages>this._itemContext.maxPages&&(g=this._renderPagerComponent()),g||(a.setAttribute("y",this._title?this._title.AABBBounds.height()+bi(this.attribute,"title.space",8):0),this._innerView.add(a))}_bindEvents(){if(this.attribute.disableTriggerEvent||!this._itemsContainer)return;const{hover:e=!0,select:t=!0}=this.attribute;e&&(this._itemsContainer.addEventListener("pointermove",this._onHover),this._itemsContainer.addEventListener("pointerleave",this._onUnHover)),t&&this._itemsContainer.addEventListener("pointerdown",this._onClick)}_autoEllipsis(e,t,n,r){var s,a;const{label:o,value:l}=this.attribute.item,u=r.AABBBounds,c=n.AABBBounds,d=u.width(),h=c.width();let p=!1;e==="labelFirst"?h>t?p=!0:r.setAttribute("maxLineWidth",t-h):e==="valueFirst"?d>t?p=!0:n.setAttribute("maxLineWidth",t-d):d+h>t&&(p=!0),p&&(r.setAttribute("maxLineWidth",Math.max(t*((s=o.widthRatio)!==null&&s!==void 0?s:.5),t-h)),n.setAttribute("maxLineWidth",Math.max(t*((a=l.widthRatio)!==null&&a!==void 0?a:.5),t-d)))}_renderEachItem(e,t,n,r){var s,a;const{id:o,label:l,value:u,shape:c}=e,{padding:d=0,focus:h,focusIconStyle:p,align:f,autoEllipsisStrategy:g}=this.attribute.item,{shape:v,label:m,value:b,background:_}=this.attribute.item,S=this._handleStyle(v,e,t,n,r),C=this._handleStyle(m,e,t,n,r),k=this._handleStyle(b,e,t,n,r),E=this._handleStyle(_,e,t,n,r),A=au(d);let P;_.visible===!1?(P=Ot.group({x:0,y:0,cursor:(s=E.style)===null||s===void 0?void 0:s.cursor}),this._appendDataToShape(P,Do.item,e,P)):(P=Ot.group(Object.assign({x:0,y:0},E.style)),this._appendDataToShape(P,Do.item,e,P,E.state)),P.id=`${o??l}-${n}`,P.addState(t?li.selected:li.unSelected);const O=Ot.group({x:0,y:0,pickable:!1});P.add(O);let M,D=0,L=0,H=0;if(v&&v.visible!==!1){const re=bi(S,"style.size",YL);L=ke(re)?re[0]||0:re,H=bi(v,"space",Nke);const J=Ot.symbol(Object.assign(Object.assign({x:0,y:0,symbolType:"circle",strokeBoundsBuffer:0},c),S.style));Object.keys(S.state||{}).forEach(ne=>{const te=S.state[ne].fill||S.state[ne].stroke;c.fill&&Y(S.state[ne].fill)&&te&&(S.state[ne].fill=te),c.stroke&&Y(S.state[ne].stroke)&&te&&(S.state[ne].stroke=te)}),this._appendDataToShape(J,Do.itemShape,e,P,S.state),J.addState(t?li.selected:li.unSelected),O.add(J)}let B=0;if(h){const re=bi(p,"size",YL);M=Ot.symbol(Object.assign(Object.assign({x:0,y:-re/2-1,strokeBoundsBuffer:0},p),{visible:!0,pickMode:"imprecise",boundsPadding:A})),this._appendDataToShape(M,Do.focus,e,P),B=re}const F=m.formatMethod?m.formatMethod(l,e,n):l,z=Object.assign(Object.assign({x:L/2+H,y:0,textAlign:"start",textBaseline:"middle",lineHeight:(a=C.style)===null||a===void 0?void 0:a.fontSize},C.style),{text:F,_originText:m.formatMethod?l:void 0}),N=zL(z);this._appendDataToShape(N,Do.itemLabel,e,P,C.state),N.addState(t?li.selected:li.unSelected),O.add(N);const U=bi(m,"space",jke);if(X(u)){const re=bi(b,"space",h?Vvt:0),J=b.formatMethod?b.formatMethod(u,e,n):u,ne=Object.assign(Object.assign({x:0,y:0,textAlign:"start",textBaseline:"middle",lineHeight:k.style.fontSize},k.style),{text:J,_originText:b.formatMethod?u:void 0}),te=zL(ne);if(this._appendDataToShape(te,Do.itemValue,e,P,k.state),te.addState(t?li.selected:li.unSelected),this._itemWidthByUser){const Q=this._itemWidthByUser-A[1]-A[3]-L-H-U-B-re;this._autoEllipsis(g,Q,N,te),b.alignRight?te.setAttributes({textAlign:"right",x:this._itemWidthByUser-L/2-A[1]-A[3]-B-re}):te.setAttribute("x",re+(N.AABBBounds.empty()?0:N.AABBBounds.x2))}else te.setAttribute("x",re+(N.AABBBounds.empty()?0:N.AABBBounds.x2));D=re+(te.AABBBounds.empty()?0:te.AABBBounds.x2),O.add(te)}else this._itemWidthByUser&&N.setAttribute("maxLineWidth",this._itemWidthByUser-A[1]-A[3]-L-H-B),D=U+(N.AABBBounds.empty()?0:N.AABBBounds.x2);M&&(M.setAttribute("x",D),O.add(M));const G=O.AABBBounds,j=G.width();if(f==="right"){const re=G.x2,J=G.x1;O.forEachChildren((ne,te)=>{ne.type!=="symbol"&&ne.attribute.textAlign!=="right"||ne===M?ne.setAttribute("x",J+re-ne.attribute.x-ne.AABBBounds.width()):ne.type!=="symbol"?ne.setAttributes({x:J+re-ne.attribute.x,textAlign:"left"}):ne.setAttribute("x",J+re-ne.attribute.x)})}const K=G.height(),ie=X(this.attribute.item.width)?this.attribute.item.width:j+A[1]+A[3],ae=this._itemHeightByUser||K+A[0]+A[2];return P.attribute.width=ie,P.attribute.height=ae,M&&M.setAttribute("visible",!1),O.translateTo(-G.x1+A[3],-G.y1+A[0]),P}_createPager(e){var t,n;const{disableTriggerEvent:r,maxRow:s}=this.attribute;return this._itemContext.isHorizontal?new BT(Object.assign(Object.assign({layout:s===1?"horizontal":"vertical",total:99},Ie({handler:{preShape:"triangleUp",nextShape:"triangleDown"}},e)),{defaultCurrent:(t=this.attribute.pager)===null||t===void 0?void 0:t.defaultCurrent,disableTriggerEvent:r})):new BT(Object.assign({layout:"horizontal",total:99,disableTriggerEvent:r,defaultCurrent:(n=this.attribute.pager)===null||n===void 0?void 0:n.defaultCurrent},e))}_createScrollbar(e,t){const{disableTriggerEvent:n}=this.attribute;return this._itemContext.isHorizontal?new $L(Object.assign(Object.assign({direction:"horizontal",disableTriggerEvent:n,range:[0,.5],height:12},e),{width:t})):new $L(Object.assign(Object.assign({direction:"vertical",width:12,range:[0,.5]},e),{height:t,disableTriggerEvent:n}))}_updatePositionOfPager(e,t,n,r,s){const{maxHeight:a,pager:o}=this.attribute,{totalPage:l,isHorizontal:u}=this._itemContext,c=o&&o.position||"middle";if(this._pagerComponent.setTotal(l),u){let d;d=c==="start"?n:c==="end"?n+s-this._pagerComponent.AABBBounds.height()/2:n+s/2-this._pagerComponent.AABBBounds.height()/2,this._pagerComponent.setAttributes({x:e,y:d})}else{let d;d=c==="start"?0:c==="end"?r-this._pagerComponent.AABBBounds.width():(r-this._pagerComponent.AABBBounds.width())/2,this._pagerComponent.setAttributes({x:d,y:a-this._pagerComponent.AABBBounds.height()})}}_updatePositionOfScrollbar(e,t,n){const{currentPage:r,totalPage:s,isHorizontal:a}=this._itemContext;this._pagerComponent.setScrollRange([(r-1)/s,r/s]),a?this._pagerComponent.setAttributes({x:0,y:n+t}):this._pagerComponent.setAttributes({x:e,y:n})}_bindEventsOfPager(e,t){const n=this.attribute.pager||{},{animation:r=!0,animationDuration:s=450,animationEasing:a="quadIn"}=n,o=this._itemContext.isScrollbar?u=>{const{value:c}=u.detail;let d=c[0]*this._itemContext.totalPage;return n.scrollByPosition?d+=1:d=Math.floor(d)+1,d}:u=>u.detail.current,l=u=>{const c=o(u);if(c!==this._itemContext.currentPage){if(this._itemContext.currentPage=c,this._itemContext&&this._itemContext.startIndex<this._itemContext.items.length){this._renderItems();const d=Math.ceil(this._itemContext.pages/this._itemContext.maxPages);this._itemContext.totalPage=d,this._pagerComponent.setScrollRange([(c-1)/d,c/d])}r?this._itemsContainer.animate().to({[t]:-(c-1)*e},s,a):this._itemsContainer.setAttribute(t,-(c-1)*e)}};this._itemContext.isScrollbar?(this._pagerComponent.addEventListener("scrollDrag",l),this._pagerComponent.addEventListener("scrollUp",l)):(this._pagerComponent.addEventListener("toPrev",l),this._pagerComponent.addEventListener("toNext",l))}_renderPager(){const e=this._title?this._title.AABBBounds.height()+bi(this.attribute,"title.space",8):0,{maxWidth:t,maxHeight:n,maxCol:r=1,maxRow:s=2,item:a={},pager:o={}}=this.attribute,{spaceCol:l=U3,spaceRow:u=G3}=a,c=this._itemsContainer,{space:d=PW,defaultCurrent:h=1}=o,p=kce(o,["space","defaultCurrent"]),{isHorizontal:f}=this._itemContext;let g,v=0,m=0,b=0,_=0,S=0,C=0,k=1;if(f){if(m=(s-1)*u+this._itemHeight*s,v=t,g=this._createPager(p),this._pagerComponent=g,this._innerView.add(g),b=t-g.AABBBounds.width()-d,b<=0)return this._innerView.removeChild(g),!1;c.getChildren().forEach((P,O)=>{const{width:M,height:D}=P.attribute;b<S+M&&(S=0,C+=D+u,k+=1),O>0&&P.setAttributes({x:S,y:C}),S+=l+M}),this._itemContext.startX=S,this._itemContext.startY=C,this._itemContext.pages=k;const A=Math.ceil(k/s);this._itemContext.totalPage=A,this._updatePositionOfPager(b,_,e,v,m)}else{if(v=this._itemMaxWidth*r+(r-1)*l,m=n,b=v,g=this._createPager(p),this._pagerComponent=g,this._innerView.add(g),_=n-g.AABBBounds.height()-d-e,_<=0)return this._innerView.removeChild(g),!1;c.getChildren().forEach((P,O)=>{const{height:M}=P.attribute;_<C+M&&(C=0,S+=this._itemMaxWidth+l,k+=1),O>0&&P.setAttributes({x:S,y:C}),C+=u+M});const A=Math.ceil(k/r);this._itemContext.totalPage=A,this._updatePositionOfPager(b,_,e,v,m)}h>1&&(f?c.setAttribute("y",-(h-1)*(m+u)):c.setAttribute("x",-(h-1)*(v+l)));const E=Ot.group({x:0,y:e,width:f?b:v,height:f?m:_,clip:!0,pickable:!1});return E.add(c),this._innerView.add(E),this._bindEventsOfPager(f?m+u:v+l,f?"y":"x"),!0}_renderScrollbar(){const e=this._title?this._title.AABBBounds.height()+bi(this.attribute,"title.space",8):0,{maxWidth:t,maxHeight:n,item:r={},pager:s={}}=this.attribute,{spaceCol:a=U3,spaceRow:o=G3}=r,l=this._itemsContainer,{space:u=PW,defaultCurrent:c=1}=s,d=kce(s,["space","defaultCurrent"]),{isHorizontal:h}=this._itemContext;let p,f=0,g=0,v=0,m=0,b=1;if(h)f=t,g=t,v=this._itemHeight,p=this._createScrollbar(d,f),this._pagerComponent=p,this._innerView.add(p),this._updatePositionOfScrollbar(g,v,e);else{if(f=n,p=this._createScrollbar(d,f),this._pagerComponent=p,this._innerView.add(p),v=n-e,g=this._itemMaxWidth,v<=0)return this._innerView.removeChild(p),!1;l.getChildren().forEach((S,C)=>{const{height:k}=S.attribute;b=Math.floor((m+k)/v)+1,m+=o+k}),this._itemContext.totalPage=b,this._itemContext.pages=b,this._updatePositionOfScrollbar(g,v,e)}c>1&&(h?l.setAttribute("x",-(c-1)*(g+a)):l.setAttribute("y",-(c-1)*(v+o)));const _=Ot.group({x:0,y:e,width:g,height:v,clip:!0,pickable:!1});return _.add(l),this._innerView.add(_),this._bindEventsOfPager(h?g:v,h?"x":"y"),!0}_renderPagerComponent(){return this._itemContext.isScrollbar?this._renderScrollbar():this._renderPager(),!0}_hover(e,t){this._lastActiveItem=e,e.hasState(li.selected)?this._setLegendItemState(e,li.selectedHover,t):this._setLegendItemState(e,li.unSelectedHover,t);const n=e.getChildren()[0].find(r=>r.name===Do.focus,!1);n&&n.setAttribute("visible",!0),this._dispatchLegendEvent(yl.legendItemHover,e,t)}_unHover(e,t){let n=!1;(e.hasState(li.unSelectedHover)||e.hasState(li.selectedHover))&&(n=!0),e.removeState(li.unSelectedHover),e.removeState(li.selectedHover),e.getChildren()[0].getChildren().forEach(s=>{n||!s.hasState(li.unSelectedHover)&&!s.hasState(li.selectedHover)||(n=!0),s.removeState(li.unSelectedHover),s.removeState(li.selectedHover)});const r=e.getChildren()[0].find(s=>s.name===Do.focus,!1);r&&r.setAttribute("visible",!1),n&&this._dispatchLegendEvent(yl.legendItemAttributeUpdate,e,t),this._dispatchLegendEvent(yl.legendItemUnHover,e,t)}_setLegendItemState(e,t,n){let r=!1;e.hasState(t)||(r=!0),e.addState(t,!0),e.getChildren()[0].getChildren().forEach(s=>{s.name!==Do.focus&&(r||s.hasState(t)||(r=!0),s.addState(t,!0))}),r&&this._dispatchLegendEvent(yl.legendItemAttributeUpdate,e,n)}_removeLegendItemState(e,t,n){let r=!1;t.forEach(s=>{!r&&e.hasState(s)&&(r=!0),e.removeState(s)}),e.getChildren()[0].getChildren().forEach(s=>{s.name!==Do.focus&&t.forEach(a=>{!r&&s.hasState(a)&&(r=!0),s.removeState(a)})}),r&&this._dispatchLegendEvent(yl.legendItemAttributeUpdate,e,n)}_getSelectedLegends(){var e;const t=[];return(e=this._itemsContainer)===null||e===void 0||e.getChildren().forEach(n=>{n.hasState(li.selected)&&t.push(n.data)}),t}_appendDataToShape(e,t,n,r,s={}){e.name=t,e.data=n,e.delegate=r,e.states=Ie({},Yvt,s)}_dispatchLegendEvent(e,t,n){const r=this._getSelectedLegends();r.sort((a,o)=>a.index-o.index);const s=r.map(a=>a.label);this._dispatchEvent(e,{item:t,data:t.data,selected:t.hasState(li.selected),currentSelectedItems:r,currentSelected:s,event:n})}_handleStyle(e,t,n,r,s){const a={};return e.style&&(Pe(e.style)?a.style=e.style(t,n,r,s):a.style=e.style),e.state&&(a.state={},Object.keys(e.state).forEach(o=>{e.state[o]&&(Pe(e.state[o])?a.state[o]=e.state[o](t,n,r,s):a.state[o]=e.state[o])})),a}};zke.defaultAttributes={layout:"horizontal",title:{align:"start",space:uP,textStyle:{fontSize:12,fontWeight:"bold",fill:"#2C3542"}},item:{spaceCol:U3,spaceRow:G3,shape:{space:Nke,style:{size:YL,cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{opacity:.5}}},label:{space:jke,style:{fontSize:12,fill:"#2C3542",cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8"}}},value:{alignRight:!1,style:{fontSize:12,fill:"#ccc",cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8"}}},background:{style:{cursor:"pointer"}},focus:!1,focusIconStyle:{size:YL,symbolType:"M8 1C11.866 1 15 4.13401 15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1ZM8.75044 2.55077L8.75 3.75H7.25L7.25006 2.5507C4.81247 2.88304 2.88304 4.81247 2.5507 7.25006L3.75 7.25V8.75L2.55077 8.75044C2.8833 11.1878 4.81264 13.117 7.25006 13.4493L7.25 12.25H8.75L8.75044 13.4492C11.1876 13.1167 13.1167 11.1876 13.4492 8.75044L12.25 8.75V7.25L13.4493 7.25006C13.117 4.81264 11.1878 2.8833 8.75044 2.55077ZM8 5.5C9.38071 5.5 10.5 6.61929 10.5 8C10.5 9.38071 9.38071 10.5 8 10.5C6.61929 10.5 5.5 9.38071 5.5 8C5.5 6.61929 6.61929 5.5 8 5.5ZM8 7C7.44772 7 7 7.44772 7 8C7 8.55228 7.44772 9 8 9C8.55228 9 9 8.55228 9 8C9 7.44772 8.55228 7 8 7Z",fill:"#333",cursor:"pointer"}},autoPage:!0,pager:{space:PW,handler:{style:{size:10},space:4}},hover:!0,select:!0,selectMode:"multiple",allowAllCanceled:!0};var Ro;(function(i){i.innerView="innerView",i.railContainer="sliderRailContainer",i.rail="sliderRail",i.startText="sliderStartText",i.endText="sliderEndText",i.startHandler="sliderStartHandler",i.startHandlerText="startHandlerText",i.endHandler="sliderEndHandler",i.endHandlerText="sliderEndHandlerText",i.track="sliderTrack",i.trackContainer="sliderTrackContainer"})(Ro||(Ro={}));function V7(i){return ke(i)?i:[i,i]}function TI(i){return i?"ew-resize":"ns-resize"}v$();let y$=class Vke extends Ba{get track(){return this._track}get currentValue(){return this._currentValue}get startHandler(){return this._startHandler}get endHandler(){return this._endHandler}get tooltipShape(){return this._tooltipShape}constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},Vke.defaultAttributes,e)),this.name="slider",this._isHorizontal=!0,this._startHandler=null,this._endHandler=null,this._startHandlerText=null,this._endHandlerText=null,this._currentHandler=null,this._currentValue={},this._onTooltipShow=n=>{this._isChanging||this._tooltipState&&this._tooltipState.isActive||(this._tooltipState?this._tooltipState.isActive=!0:this._tooltipState={isActive:!0},this._onTooltipUpdate(n),this._dispatchTooltipEvent("sliderTooltipShow"))},this._onTooltipUpdate=n=>{if(this._isChanging||!this._tooltipState||!this._tooltipState.isActive)return;const r=this._isHorizontal?this._rail.globalAABBBounds.width():this._rail.globalAABBBounds.height(),s=sa(this._isHorizontal?(n.viewX-this._rail.globalAABBBounds.x1)/r:(n.viewY-this._rail.globalAABBBounds.y1)/r,0,1);s!==this._tooltipState.pos&&(this._tooltipState.pos=s,this._tooltipState.value=this.calculateValueByPos(s*r),this._updateTooltip(),this._dispatchTooltipEvent("sliderTooltipUpdate"))},this._onTooltipHide=()=>{const{tooltip:n}=this.attribute;n&&n.alwaysShow||(this._tooltipState=null,this._tooltipShape&&this._tooltipShape.setAttribute("visible",!1),this._tooltipText&&this._tooltipText.setAttribute("visible",!1),this._dispatchTooltipEvent("sliderTooltipHide"))},this._onHandlerPointerdown=n=>{n.stopPropagation(),this._isChanging=!0;const{x:r,y:s}=this.stage.eventPointTransform(n);this._currentHandler=n.target,this._prePos=this._isHorizontal?r:s,ji.env==="browser"?(ji.addEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),ji.addEventListener("pointerup",this._onHandlerPointerUp)):(this.stage.addEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),this.stage.addEventListener("pointerup",this._onHandlerPointerUp),this.stage.addEventListener("pointerupoutside",this._onHandlerPointerUp))},this._onHandlerPointerMove=n=>{var r,s;n.stopPropagation(),this._isChanging=!0;const{railWidth:a,railHeight:o,min:l,max:u}=this.attribute;if(u===l)return;const{x:c,y:d}=this.stage.eventPointTransform(n);let h,p,f,g=0;this._isHorizontal?(h=c,g=h-this._prePos,p=(s=this._currentHandler)===null||s===void 0?void 0:s.attribute.x,f=a):(h=d,g=h-this._prePos,p=(r=this._currentHandler)===null||r===void 0?void 0:r.attribute.y,f=o);const v=sa(p+g,0,f),m=this.calculateValueByPos(v);this._currentHandler.type==="text"?this._updateHandlerText(this._currentHandler,v,m):this._updateHandler(this._currentHandler,v,m),this._updateTrack(),this._prePos=h,this._dispatchChangeEvent()},this._onHandlerPointerUp=n=>{n.preventDefault(),this._isChanging=!1,this._currentHandler=null,ji.env==="browser"?(ji.removeEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),ji.removeEventListener("pointerup",this._onHandlerPointerUp)):(this.stage.removeEventListener("pointermove",this._onHandlerPointerMove,{capture:!0}),this.stage.removeEventListener("pointerup",this._onHandlerPointerUp),this.stage.removeEventListener("pointerupoutside",this._onHandlerPointerUp))},this._onTrackPointerdown=n=>{n.stopPropagation(),this._isChanging=!0;const{x:r,y:s}=this.stage.eventPointTransform(n);this._prePos=this._isHorizontal?r:s,ji.env==="browser"?(ji.addEventListener("pointermove",this._onTrackPointerMove,{capture:!0}),ji.addEventListener("pointerup",this._onTrackPointerUp)):(this.stage.addEventListener("pointermove",this._onTrackPointerMove,{capture:!0}),this.stage.addEventListener("pointerup",this._onTrackPointerUp),this.stage.addEventListener("pointerupoutside",this._onTrackPointerUp))},this._onTrackPointerMove=n=>{n.stopPropagation(),this._isChanging=!0;const{railWidth:r,railHeight:s,min:a,max:o,inverse:l}=this.attribute;if(o===a)return;const{startHandler:u,endHandler:c}=this._getHandlers();let d,h,p;const{x:f,y:g}=this.stage.eventPointTransform(n);this._isHorizontal?(d=f,h=this._track.attribute.width,p=r):(d=g,h=this._track.attribute.height,p=s);const v=d-this._prePos;if(u){const m=this._isHorizontal?u.attribute.x:u.attribute.y,b=l?sa(m+v,h,p):sa(m+v,0,p-h),_=this.calculateValueByPos(b);this._updateHandler(u,b,_)}if(c){const m=this._isHorizontal?c.attribute.x:c.attribute.y,b=l?sa(m+v,0,p-h):sa(m+v,h,p),_=this.calculateValueByPos(b),S=u==null?void 0:u.attribute;this._updateHandler(c,b,_),this._track.setAttributes(this._isHorizontal?{x:Math.min(S.x,c.attribute.x),width:Math.abs(S.x-c.attribute.x)}:{y:Math.min(S.y,c.attribute.y),height:Math.abs(S.y-c.attribute.y)})}this._prePos=d,this._dispatchChangeEvent()},this._onTrackPointerUp=n=>{n.preventDefault(),this._isChanging=!1,ji.env==="browser"?(ji.removeEventListener("pointermove",this._onTrackPointerMove,{capture:!0}),ji.removeEventListener("pointerup",this._onTrackPointerUp)):(this.stage.removeEventListener("pointermove",this._onTrackPointerMove,{capture:!0}),this.stage.removeEventListener("pointerup",this._onTrackPointerUp),this.stage.removeEventListener("pointerupoutside",this._onTrackPointerUp))},this._onRailPointerDown=n=>{n.stopPropagation(),this._isChanging=!0;const{railWidth:r,railHeight:s,min:a,max:o}=this.attribute;if(o===a)return;const l=this._startHandler,u=this._endHandler;let c,d,h;this._isHorizontal?(c=n.viewX-this._rail.globalAABBBounds.x1,d=l==null?void 0:l.attribute.x,h=u==null?void 0:u.attribute.x):(c=n.viewY-this._rail.globalAABBBounds.y1,d=l==null?void 0:l.attribute.y,h=u==null?void 0:u.attribute.y);const p=this.calculateValueByPos(c);if(X(h)){const f=Math.abs(c-d)>Math.abs(c-h)?u:l;this._updateHandler(f,c,p)}else this._updateHandler(l,c,p);this._updateTrack(),this._dispatchChangeEvent()}}calculatePosByValue(e,t){const{layout:n,railWidth:r,railHeight:s,min:a,max:o,inverse:l}=this.attribute;let u=0;return u=a===o?t==="start"?0:t==="end"?1:0:(e-a)/(o-a),(l?1-u:u)*(n==="vertical"?s:r)}calculateValueByPos(e){const{layout:t,railWidth:n,railHeight:r,min:s,max:a,inverse:o}=this.attribute,l=t==="vertical"?r:n;return s+(a-s)*(o?1-e/l:e/l)}setValue(e){const{min:t,max:n}=this.attribute;if(n===t)return;const[r,s]=we(e),{startHandler:a,endHandler:o}=this._getHandlers();a&&this._updateHandler(a,this.calculatePosByValue(r),r),o&&this._updateHandler(o,this.calculatePosByValue(s),s),this._updateTrack()}render(){var e,t;this.removeAllChild(!0);const{layout:n="horizontal",railWidth:r,railHeight:s,startText:a,endText:o,min:l,max:u,showHandler:c=!0,showTooltip:d}=this.attribute;let{value:h}=this.attribute;Y(h)&&(h=[l,u]),this._currentValue={startValue:V7(h)[0],endValue:V7(h)[1]};const p=n==="horizontal";this._isHorizontal=p;const f=Ot.group({x:0,y:0});f.name=Ro.innerView,this.add(f),this._innerView=f;let g,v=0;if(a&&a.visible){g=Ot.text(Object.assign({x:p?0:r/2,y:p?s/2:0,textAlign:p?"start":"center",textBaseline:p?"middle":"top",text:a.text,lineHeight:(e=a.style)===null||e===void 0?void 0:e.fontSize},a.style)),g.name=Ro.startText,f.add(g);const S=X(a.space)?a.space:0;v+=(p?g.AABBBounds.width():g.AABBBounds.height())+S}const m=Ot.group({x:p?v:0,y:p?0:v});f.add(m);const b=Ot.group({x:0,y:0});let _;if(b.name=Ro.railContainer,this._railContainer=b,m.add(b),this._mainContainer=m,this._renderRail(b),v+=p?r:s,o&&o.visible){const S=X(o.space)?o.space:0;_=Ot.text(Object.assign({x:p?v+S:r/2,y:p?s/2:v+S,textAlign:p?"start":"center",textBaseline:p?"middle":"top",text:o.text,lineHeight:(t=o.style)===null||t===void 0?void 0:t.fontSize},o.style)),_.name=Ro.endText,f.add(_)}this._renderTrack(b),c&&(this._renderHandlers(m),this._bindEvents()),d&&(this._renderTooltip(),this._bindTooltipEvents())}_renderRail(e){const{railWidth:t,railHeight:n,railStyle:r,slidable:s}=this.attribute;let a="default";s!==!1&&(a="pointer");const o=Ot.rect(Object.assign({x:0,y:0,width:t,height:n,cursor:a},r));return o.name=Ro.rail,e.add(o),this._rail=o,o}_renderHandlers(e){const{range:t,min:n,max:r,handlerSize:s=14,handlerStyle:a,handlerText:o,railHeight:l,railWidth:u,slidable:c}=this.attribute;let{value:d}=this.attribute;Y(d)&&(d=[n,r]);const h=o&&o.visible,p=this._isHorizontal,[f,g]=V7(d),v=this.calculatePosByValue(f,t?"start":"end"),m=this._renderHandler(Object.assign({x:p?v:u/2,y:p?l/2:v,size:s,strokeBoundsBuffer:0,cursor:c===!1?"default":TI(p)},a));if(m.name=Ro.startHandler,this._startHandler=m,e.add(m),this._currentValue.startPos=v,h){const b=this._renderHandlerText(f,t?"start":"end");b.name=Ro.startHandlerText,e.add(b),this._startHandlerText=b}if(t){const b=this.calculatePosByValue(g,"end"),_=this._renderHandler(Object.assign({x:p?b:u/2,y:p?l/2:b,size:s,strokeBoundsBuffer:0,cursor:c===!1?"default":TI(p)},a));if(_.name=Ro.endHandler,this._endHandler=_,e.add(_),this._currentValue.endPos=b,h){const S=this._renderHandlerText(g,"end");S.name=Ro.endHandlerText,e.add(S),this._endHandlerText=S}}}_renderTrack(e){const{range:t,min:n,max:r,railHeight:s,railWidth:a,trackStyle:o,railStyle:l,slidable:u,value:c}=this.attribute;let d,h;if(Y(c))t?(d=n,h=r):d=h=n;else if(t){const S=Ey(c,n,r);d=S[0],h=S[1]}else d=n,h=sa(c,n,r);const p=this._isHorizontal;t||(d=n);const f=Ot.group({x:0,y:0,width:a,height:s,cornerRadius:l==null?void 0:l.cornerRadius,clip:!0,pickable:!1});f.name=Ro.trackContainer;const g=yi(t)&&t.draggableTrack===!0;let v;v=u===!1?"default":t===!1||g===!1?"pointer":TI(p);const m=this.calculatePosByValue(d,"start"),b=this.calculatePosByValue(h,t?"end":"start"),_=Ot.rect(Object.assign({x:p?Math.min(m,b):0,y:p?0:Math.min(m,b),width:p?Math.abs(b-m):a,height:p?s:Math.abs(b-m),cursor:v},o));_.name=Ro.track,this._track=_,f.add(_),e.add(f)}_renderHandler(e){return Ot.symbol(e)}_renderHandlerText(e,t){var n,r,s;const{align:a,handlerSize:o=14,handlerText:l={},railHeight:u,railWidth:c,slidable:d}=this.attribute,h=this._isHorizontal,p=this.calculatePosByValue(e,t),f=(n=l.space)!==null&&n!==void 0?n:4,g={text:l.formatter?l.formatter(e):e.toFixed((r=l.precision)!==null&&r!==void 0?r:0),lineHeight:(s=l.style)===null||s===void 0?void 0:s.lineHeight,cursor:d===!1?"default":TI(h)};return h?a==="top"?(g.textBaseline="bottom",g.textAlign="center",g.x=p,g.y=(u-o)/2-f):(g.textBaseline="top",g.textAlign="center",g.x=p,g.y=(u+o)/2+f):a==="left"?(g.textBaseline="middle",g.textAlign="end",g.x=(c-o)/2-f,g.y=p):(g.textBaseline="middle",g.textAlign="start",g.x=(c+o)/2+f,g.y=p),Ot.text(Object.assign(Object.assign({},g),l.style))}_renderTooltip(){var e;const{tooltip:t,railHeight:n,railWidth:r,align:s}=this.attribute;t&&t.alwaysShow?this._tooltipState={value:this._currentValue.startValue,pos:this._currentValue.startPos}:this._tooltipState=null;const a=this._isHorizontal?0:r/2,o=this._isHorizontal?n/2:0;if(t&&t.shape){const h=Ot.symbol(Object.assign({pickable:!1,visible:!!this._tooltipState,x:a,y:o,symbolType:"circle"},t.shapeStyle));this._tooltipShape=h,this._mainContainer.add(h)}const l=t&&t.text||{},u=(e=l.space)!==null&&e!==void 0?e:6,c={pickable:!1,visible:!!this._tooltipState,text:""};this._isHorizontal?(c.x=a,c.y=s==="top"?o-n/2-u:o+n/2+u,c.textAlign="center",c.textBaseline=s==="top"?"bottom":"top"):(c.y=o,c.x=s==="left"?a-r/2-u:o+r/2+u,c.textAlign=s==="left"?"end":"start",c.textBaseline="middle");const d=Ot.text(Object.assign(Object.assign({},c),l.style));this._mainContainer.add(d),this._tooltipText=d,this._tooltipState&&this._updateTooltip()}_updateTooltip(){var e,t;if(!this._tooltipShape&&!this._tooltipText||!this._tooltipState)return;const{railWidth:n,railHeight:r}=this.attribute,s=this._isHorizontal?n:r,a=this._tooltipState.pos*s,o=this._isHorizontal?"x":"y";this._tooltipShape&&this._tooltipShape.setAttributes({visible:!0,[o]:a});const{align:l}=this.attribute;if(this._tooltipText){const u=this.attribute.tooltip&&this.attribute.tooltip.text||{};this._tooltipText.setAttributes({visible:!0,[o]:a,text:u.formatter?u.formatter(this._tooltipState.value):this._isHorizontal||l!=="left"?` ${this._tooltipState.value.toFixed((t=u.precision)!==null&&t!==void 0?t:0)}`:`${this._tooltipState.value.toFixed((e=u.precision)!==null&&e!==void 0?e:0)} `})}}_bindEvents(){if(this.attribute.disableTriggerEvent)return;const{slidable:e,range:t}=this.attribute;e&&(this._startHandler&&this._startHandler.addEventListener("pointerdown",this._onHandlerPointerdown),this._startHandlerText&&this._startHandlerText.addEventListener("pointerdown",this._onHandlerPointerdown),this._endHandler&&this._endHandler.addEventListener("pointerdown",this._onHandlerPointerdown),this._endHandlerText&&this._endHandlerText.addEventListener("pointerdown",this._onHandlerPointerdown),yi(t)&&t.draggableTrack&&this._track.addEventListener("pointerdown",this._onTrackPointerdown),this._railContainer.addEventListener("pointerdown",this._onRailPointerDown))}_bindTooltipEvents(){this.attribute.disableTriggerEvent||(this._mainContainer.addEventListener("pointerenter",this._onTooltipShow),this._mainContainer.addEventListener("pointermove",this._onTooltipUpdate),this._mainContainer.addEventListener("pointerleave",this._onTooltipHide))}_updateTrack(){const{inverse:e,railWidth:t,railHeight:n}=this.attribute,r=this._startHandler,s=this._endHandler;if(this._isHorizontal){const a=r==null?void 0:r.attribute.x;if(s){const o=s==null?void 0:s.attribute.x;this._track.setAttributes({x:Math.min(a,o),width:Math.abs(a-o)})}else e?this._track.setAttributes({x:a,width:t-a}):this._track.setAttributes({width:a})}else{const a=r==null?void 0:r.attribute.y;if(s){const o=s==null?void 0:s.attribute.y;this._track.setAttributes({y:Math.min(a,o),height:Math.abs(a-o)})}else e?this._track.setAttributes({y:a,height:n-a}):this._track.setAttributes({height:a})}}_updateHandler(e,t,n){var r;const s=this._isHorizontal;e.setAttribute(s?"x":"y",t);const a=e.name===Ro.startHandler?this._startHandlerText:this._endHandlerText;if(a){const{handlerText:o={}}=this.attribute;a.setAttributes({text:o.formatter?o.formatter(n):n.toFixed((r=o.precision)!==null&&r!==void 0?r:0),[s?"x":"y"]:t})}e.name===Ro.startHandler?(this._currentValue.startValue=n,this._currentValue.startPos=t):(this._currentValue.endValue=n,this._currentValue.endPos=t)}_updateHandlerText(e,t,n){var r;const s=this._isHorizontal,{handlerText:a={}}=this.attribute;e.setAttributes({[s?"x":"y"]:t,text:a.formatter?a.formatter(n):n.toFixed((r=a.precision)!==null&&r!==void 0?r:0)});const o=e.name===Ro.startHandlerText?this._startHandler:this._endHandler;o&&o.setAttributes({[s?"x":"y"]:t}),e.name===Ro.startHandlerText?(this._currentValue.startValue=n,this._currentValue.startPos=t):(this._currentValue.endValue=n,this._currentValue.endPos=t)}_dispatchChangeEvent(){const e=!!this.attribute.range,t=this._currentValue;this._dispatchEvent("change",{value:e?[Math.min(t.endValue,t.startValue),Math.max(t.endValue,t.startValue)]:t.startValue,position:e?[Math.min(t.endPos,t.startPos),Math.max(t.endPos,t.startPos)]:t.startPos})}_dispatchTooltipEvent(e){this._dispatchEvent("sliderTooltip",{type:e,position:this._tooltipState&&this._tooltipState.pos,value:this._tooltipState&&this._tooltipState.value})}_getHandlers(){const{inverse:e}=this.attribute;let t=this._startHandler,n=this._endHandler;return n?(this._isHorizontal?(!e&&n.attribute.x<(t==null?void 0:t.attribute.x)||e&&n.attribute.x>(t==null?void 0:t.attribute.x))&&([t,n]=[n,t]):(!e&&n.attribute.y<(t==null?void 0:t.attribute.y)||e&&n.attribute.y>(t==null?void 0:t.attribute.y))&&([t,n]=[n,t]),{startHandler:t,endHandler:n}):{startHandler:t,endHandler:n}}};y$.defaultAttributes={slidable:!0,layout:"horizontal",align:"bottom",height:8,showHandler:!0,handlerSize:14,handlerStyle:{symbolType:"circle",fill:"#fff",stroke:"#91caff",lineWidth:2},tooltip:{shapeStyle:{symbolType:"circle",fill:"#fff",stroke:"#91caff",lineWidth:2},text:{style:{fill:"#2C3542",fontSize:12}}},railStyle:{fill:"rgba(0,0,0,.04)"},trackStyle:{fill:"#91caff"},showValue:!0,valueStyle:{fill:"#2C3542",fontSize:12},startText:{style:{fill:"#2C3542",fontSize:12}},endText:{style:{fill:"#2C3542",fontSize:12}},handlerText:{visible:!0,space:4,precision:0,style:{fill:"#2C3542",fontSize:12}}};Uvt();class _$ extends $X{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},_$.defaultAttributes,e)),this.name="colorLegend",this._onSliderToolipChange=n=>{const r=this._slider.tooltipShape;if(r&&n.detail&&!Y(n.detail.value)){const s=this._colorScale.scale(n.detail.value);r.setAttribute("fill",s)}this.dispatchEvent(n)},this._onSliderChange=n=>{this._updateColor(),this.dispatchEvent(n)}}setSelected(e){this._slider&&(this._slider.setValue(e),this._updateColor())}_renderContent(){const{colors:e,slidable:t,layout:n,align:r,min:s,max:a,value:o,railWidth:l,railHeight:u,showHandler:c=!0,handlerSize:d,handlerStyle:h,railStyle:p,trackStyle:f,startText:g,endText:v,handlerText:m,showTooltip:b,tooltip:_,inverse:S,disableTriggerEvent:C}=this.attribute,k=[],E=(a-s)/(e.length-1);for(let P=0;P<e.length;P++)k.push(s+E*P);this._colorScale=new Zd().domain(k,!0).range(e),this._color=this._getTrackColor();const A=new y$({x:0,y:0,range:{draggableTrack:!0},slidable:t,layout:n,align:r,min:s,max:a,value:o,railWidth:l,railHeight:u,showHandler:c,handlerSize:d,handlerStyle:h,railStyle:p,trackStyle:Object.assign({fill:this._color},f),startText:g,endText:v,handlerText:m,showTooltip:b,tooltip:_,disableTriggerEvent:C,inverse:S});this._innerView.add(A),this._slider=A,A.translateTo(0-A.AABBBounds.x1,(this._title?this._title.AABBBounds.height()+bi(this.attribute,"title.space",uP):0)-A.AABBBounds.y1),this._updateColor()}_bindEvents(){this.attribute.disableTriggerEvent||this._slider&&(this._slider.addEventListener("change",this._onSliderChange),this._slider.addEventListener("sliderTooltip",this._onSliderToolipChange))}_getTrackColor(){const{colors:e,layout:t,inverse:n}=this.attribute;if(Mt(e))return;const r=e.length;if(r===1)return e[0];const s=[];for(let l=0;l<r;l++){const u=l/(r-1);s.push({offset:u,color:e[l]})}const a=t==="horizontal",o={gradient:"linear",stops:s,x0:0,y0:0,x1:a?1:0,y1:a?0:1};return n&&(a?(o.x0=1,o.x1=0):(o.y0=1,o.y1=0)),o}_updateColor(){var e;const{layout:t="horizontal",colors:n,railWidth:r,railHeight:s}=this.attribute,{startHandler:a,endHandler:o,track:l,attribute:u}=this._slider,{startValue:c,endValue:d,startPos:h,endPos:p}=this._slider.currentValue,f=(e=u.handlerStyle)===null||e===void 0?void 0:e.fill;if(a&&!f){const v=this._colorScale.scale(c);a.setAttribute("fill",v)}if(o&&!f){const v=this._colorScale.scale(d);o.setAttribute("fill",v)}const g=t==="horizontal"?r:s;if(Math.abs(h-p)!==g&&n&&n.length>1){const v=this._color.stops,m=Math.min(h,p),b=Math.max(h,p),_=m/g,S=b/g,C=S-_,k=v.filter(D=>D.offset>_&&D.offset<S),E=Math.min(c,d),A=Math.max(c,d),P=this._colorScale.scale(E),O=this._colorScale.scale(A),M=[{offset:0,color:P}];k.forEach(D=>{M.push({offset:(D.offset-_)/C,color:D.color})}),M.push({offset:1,color:O}),l.setAttribute("fill",Object.assign(Object.assign({},this._color),{stops:M}))}}}_$.defaultAttributes={layout:"horizontal",title:{align:"start",space:uP,textStyle:{fontSize:12,fontWeight:"bold",fill:"rgba(46, 47, 50, 1)"}},handlerSize:10,handlerStyle:{fill:null,lineWidth:4,stroke:"#fff",outerBorder:{distance:2,lineWidth:1,stroke:"#ccc"}},tooltip:{shapeStyle:{lineWidth:4,stroke:"#fff"}}};function Kvt(i="bottom"){let e=0;return i==="top"?`
    M${e},-6L${e-3.5},-2.5
    v5
    h7
    v-5
    Z
`:i==="left"?(e=1,`
    M${e-6},0L${e-6+2.5},-3.5
    h5
    v7
    h-5
    Z
`):i==="right"?(e=-1,`
    M${e+6},0L${e+6-2.5},-3.5
    h-5
    v7
    h5
    Z
  `):`
    M${e},6L${e-3.5},2.5
    v-5
    h7
    v5
    Z
`}Gvt();class b$ extends $X{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},b$.defaultAttributes,e)),this.name="sizeLegend",this._onSliderChange=n=>{this.dispatchEvent(n)},this._onSliderToolipChange=n=>{this.dispatchEvent(n)}}setSelected(e){this._slider&&this._slider.setValue(e)}_renderContent(){const{slidable:e,layout:t,align:n,min:r,max:s,value:a,railWidth:o,railHeight:l,showHandler:u=!0,handlerSize:c,handlerStyle:d,railStyle:h,trackStyle:p,startText:f,endText:g,handlerText:v,showTooltip:m,tooltip:b,sizeBackground:_,disableTriggerEvent:S,inverse:C}=this.attribute,k=Ot.group({x:0,y:0});this._innerView.add(k);const E=new y$({x:0,y:0,zIndex:1,range:{draggableTrack:!0},slidable:e,layout:t,align:n,min:r,max:s,value:a,railWidth:o,railHeight:l,showHandler:u,handlerSize:c,handlerStyle:Object.assign({symbolType:Kvt(n)},d),railStyle:h,trackStyle:p,startText:f,endText:g,handlerText:v,showTooltip:m,tooltip:b,disableTriggerEvent:S,inverse:C});k.add(E);let A,P=0;t==="horizontal"?n==="top"?(A=`M0,0L${o},0L${C?0:o},12Z`,P=l):(A=`M0,12L${o},12L${C?0:o},0Z`,E.setAttribute("y",12)):n==="left"?A=`M${o},0L${o+12},${C?0:l}L${o},${l}Z`:(A=`M0,${C?0:l}L12,${l}L12,0Z`,E.setAttribute("x",12));const O=Ot.path(Object.assign(Object.assign({x:0,y:P,path:A},_),{zIndex:0}));k.add(O);const M=this._title?this._title.AABBBounds.height()+bi(this.attribute,"title.space",uP):0;k.translate(0-k.AABBBounds.x1,M-k.AABBBounds.y1),this._slider=E}_bindEvents(){this.attribute.disableTriggerEvent||this._slider&&(this._slider.addEventListener("change",this._onSliderChange),this._slider.addEventListener("sliderTooltip",this._onSliderToolipChange))}}b$.defaultAttributes={layout:"horizontal",title:{align:"start",space:uP,textStyle:{fontSize:12,fontWeight:"bold",fill:"rgba(46, 47, 50, 1)"}},handlerSize:10,handlerStyle:{lineWidth:1,stroke:"#ccc",fill:"#fff"},sizeBackground:{fill:"rgba(20,20,20,0.1)"}};function Xvt(){Is(),Of(),M0()}Xvt();let Wke=class Uke extends Ba{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},Uke.defaultAttributes,e)),this.name="title"}render(){var e,t,n,r,s,a,o,l,u,c,d,h,p,f,g,v,m,b,_,S,C,k,E,A,P,O,M,D,L,H,B,F,z,N,U,G,j,K,ie,ae,re,J;const{textType:ne,text:te,subtextType:Q,textStyle:se={},subtext:_e,subtextStyle:le={},width:ve,height:pe,minWidth:Fe,maxWidth:Ee,minHeight:it,maxHeight:Qe,align:Ae,verticalAlign:je,padding:We=0}=this.attribute,ut=au(We),vt=this.createOrUpdateChild("title-container",{x:ut[3],y:ut[0],zIndex:1},"group");if(this.attribute.visible!==!1&&se.visible!==!1)if(ne==="rich"||X(se.character)){const dt=Object.assign({x:(e=se.x)!==null&&e!==void 0?e:0,y:(t=se.y)!==null&&t!==void 0?t:0,width:(r=(n=se.width)!==null&&n!==void 0?n:ve)!==null&&r!==void 0?r:0,height:(a=(s=se.height)!==null&&s!==void 0?s:pe)!==null&&a!==void 0?a:0,ellipsis:(o=se.ellipsis)===null||o===void 0||o,wordBreak:(l=se.wordBreak)!==null&&l!==void 0?l:"break-word",maxHeight:se.maxHeight,maxWidth:se.maxWidth,textConfig:(u=se.character)!==null&&u!==void 0?u:te},se);this._mainTitle=vt.createOrUpdateChild("mainTitle",dt,"richtext")}else if(ne==="html"){const dt=Object.assign({html:Object.assign(Object.assign({dom:te},BL),se),x:(c=se.x)!==null&&c!==void 0?c:0,y:(d=se.y)!==null&&d!==void 0?d:0,width:(p=(h=se.width)!==null&&h!==void 0?h:ve)!==null&&p!==void 0?p:0,height:(g=(f=se.height)!==null&&f!==void 0?f:pe)!==null&&g!==void 0?g:0,ellipsis:(v=se.ellipsis)===null||v===void 0||v,wordBreak:(m=se.wordBreak)!==null&&m!==void 0?m:"break-word",maxHeight:se.maxHeight,maxWidth:se.maxWidth,textConfig:[]},se);this._mainTitle=vt.createOrUpdateChild("mainTitle",dt,"richtext")}else X(te)&&(this._mainTitle=vt.createOrUpdateChild("mainTitle",Object.assign(Object.assign({text:ke(te)?te:[te],wrap:!0},se),{maxLineWidth:(b=se.maxLineWidth)!==null&&b!==void 0?b:ve,heightLimit:se.heightLimit,lineClamp:se.lineClamp,ellipsis:(_=se.ellipsis)===null||_===void 0||_,x:0,y:0}),"text"));const _t=this._mainTitle?this._mainTitle.AABBBounds.height():0,zt=this._mainTitle?this._mainTitle.AABBBounds.width():0;if(this.attribute.visible!==!1&&le.visible!==!1)if(Q==="rich"||X(le.character)){const dt=Object.assign({x:(S=le.x)!==null&&S!==void 0?S:0,y:(C=le.y)!==null&&C!==void 0?C:0,width:(E=(k=le.width)!==null&&k!==void 0?k:ve)!==null&&E!==void 0?E:0,height:(P=(A=le.height)!==null&&A!==void 0?A:pe)!==null&&P!==void 0?P:0,ellipsis:(O=le.ellipsis)===null||O===void 0||O,wordBreak:(M=le.wordBreak)!==null&&M!==void 0?M:"break-word",maxHeight:le.maxHeight,maxWidth:le.maxWidth,textConfig:(D=le.character)!==null&&D!==void 0?D:_e},le);this._subTitle=vt.createOrUpdateChild("subTitle",dt,"richtext")}else if(Q==="html"){const dt=Object.assign({html:Object.assign(Object.assign({dom:_e},BL),le),x:(L=le.x)!==null&&L!==void 0?L:0,y:(H=le.y)!==null&&H!==void 0?H:0,width:(F=(B=le.width)!==null&&B!==void 0?B:ve)!==null&&F!==void 0?F:0,height:(N=(z=le.height)!==null&&z!==void 0?z:pe)!==null&&N!==void 0?N:0,ellipsis:(U=le.ellipsis)===null||U===void 0||U,wordBreak:(G=le.wordBreak)!==null&&G!==void 0?G:"break-word",maxHeight:le.maxHeight,maxWidth:le.maxWidth,textConfig:[]},le);this._subTitle=vt.createOrUpdateChild("subTitle",dt,"richtext")}else X(_e)&&(this._subTitle=vt.createOrUpdateChild("subTitle",Object.assign(Object.assign({text:ke(_e)?_e:[_e],wrap:!0},le),{maxLineWidth:(j=le.maxLineWidth)!==null&&j!==void 0?j:ve,heightLimit:le.heightLimit,lineClamp:le.lineClamp,ellipsis:(K=le.ellipsis)===null||K===void 0||K,x:0,y:_t}),"text"));const Ft=this._subTitle?this._subTitle.AABBBounds.height():0,Ye=this._subTitle?this._subTitle.AABBBounds.width():0;let Je=Math.max(zt,Ye),rt=_t+((ie=le.height)!==null&&ie!==void 0?ie:Ft);if(X(ve)&&(Je=ve,this._mainTitle&&this._mainTitle.setAttribute("maxLineWidth",ve),this._subTitle&&this._subTitle.setAttribute("maxLineWidth",ve)),X(pe)&&(rt=pe),X(Fe)&&Je<Fe&&(Je=Fe),X(Ee)&&(this._mainTitle&&this._mainTitle.setAttribute("maxLineWidth",Ee),this._subTitle&&this._subTitle.setAttribute("maxLineWidth",Ee),this._mainTitle&&this._mainTitle.setAttribute("maxWidth",Ee),this._subTitle&&this._subTitle.setAttribute("maxWidth",Ee),Je>Ee&&(Je=Ee)),X(it)&&rt<it&&(rt=it),X(Qe)&&(this._mainTitle&&this._mainTitle.setAttribute("maxHeight",Qe),this._subTitle&&this._subTitle.setAttribute("maxHeight",Qe-_t),rt>Qe&&(rt=Qe)),vt.attribute.width=Je,vt.attribute.height=rt,vt.attribute.boundsPadding=ut,this._mainTitle){if(X(Ae)||X(se.align)){const dt=se.align?se.align:Ae,at=(ae=se.width)!==null&&ae!==void 0?ae:zt;dt==="left"?(this._mainTitle.setAttribute("x",0),this._mainTitle.setAttribute("textAlign","left")):dt==="center"?(this._mainTitle.setAttribute("x",at/2),this._mainTitle.setAttribute("textAlign","center")):dt==="right"&&(this._mainTitle.setAttribute("x",at),this._mainTitle.setAttribute("textAlign","right"))}if(X(je)||X(se.verticalAlign)){const dt=se.verticalAlign?se.verticalAlign:je,at=se.height?se.height:rt;dt==="top"?(this._mainTitle.setAttribute("y",0),this._mainTitle.setAttribute("textBaseline","top")):dt==="middle"?(this._mainTitle.setAttribute("y",at/2),this._mainTitle.setAttribute("textBaseline","middle")):dt==="bottom"&&(this._mainTitle.setAttribute("y",at),this._mainTitle.setAttribute("textBaseline","bottom"))}}if(this._subTitle){if(X(Ae)||X(le.align)){const dt=le.align?le.align:Ae,at=(re=le.width)!==null&&re!==void 0?re:Ye;dt==="left"?(this._subTitle.setAttribute("x",0),this._subTitle.setAttribute("textAlign","left")):dt==="center"?(this._subTitle.setAttribute("x",at/2),this._subTitle.setAttribute("textAlign","center")):dt==="right"&&(this._subTitle.setAttribute("x",at),this._subTitle.setAttribute("textAlign","right"))}if(X(je)||X(se.verticalAlign)){const dt=le.verticalAlign?le.verticalAlign:je,at=_t,Gt=(J=le.height)!==null&&J!==void 0?J:0;dt==="top"?(this._subTitle.setAttribute("y",at),this._subTitle.setAttribute("textBaseline","top")):dt==="middle"?(this._subTitle.setAttribute("y",at+Gt/2),this._subTitle.setAttribute("textBaseline","middle")):dt==="bottom"&&(this._subTitle.setAttribute("y",at+Gt),this._subTitle.setAttribute("textBaseline","bottom"))}}}};Wke.defaultAttributes={textStyle:{ellipsis:"...",fill:"#333",fontSize:20,fontWeight:"bold",textAlign:"left",textBaseline:"top"},subtextStyle:{ellipsis:"...",fill:"#6F6F6F",fontSize:16,fontWeight:"normal",textAlign:"left",textBaseline:"top"}};const Ece={title:{style:{text:"",fontSize:20,fill:"black",fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{style:{text:"",fontSize:16,fill:"black",fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}};function qvt(){Is(),Of(),M0()}qvt();let Zvt=class extends Ba{constructor(){super(...arguments),this.name="indicator"}render(){var e;const{visible:t,title:n={},content:r,size:s,limitRatio:a=1/0}=this.attribute,o=Math.min(s.width,s.height)*a,l=this.createOrUpdateChild("indicator-container",{x:0,y:0,zIndex:1},"group");if(t!==!0)return void(l&&l.hideAll());if(X(n))if(n.visible!==!1){const c=Ie({},bi(Ece,"title.style"),n.style);yW(c)?this._title=l.createOrUpdateChild("indicator-title",Object.assign(Object.assign({},jL(c)),{visible:n.visible,x:0,y:0}),"richtext"):this._title=l.createOrUpdateChild("indicator-title",Object.assign(Object.assign({},c),{lineHeight:X(c.lineHeight)?c.lineHeight:c.fontSize,visible:n.visible,x:0,y:0}),"text"),n.autoFit&&Ce(o)&&this._setLocalAutoFit(o,this._title,n),n.autoLimit&&Ce(a)&&this._title.setAttribute("maxLineWidth",o)}else{const c=l.find(d=>d.name==="indicator-title",!1);c&&l.removeChild(c),this._title=void 0}if(X(r)){const c=we(r),d=[];c.forEach((h,p)=>{if(h.visible!==!1){const f=Ie({},bi(Ece,"content.style"),h.style);let g;g=yW(f)?l.createOrUpdateChild("indicator-content-"+p,Object.assign(Object.assign({},jL(f)),{visible:n.visible,x:0,y:0}),"richtext"):l.createOrUpdateChild("indicator-content-"+p,Object.assign(Object.assign({},f),{lineHeight:X(f.lineHeight)?f.lineHeight:f.fontSize,visible:h.visible,x:0,y:0}),"text"),h.autoFit&&Ce(o)&&this._setLocalAutoFit(o,g,h),h.autoLimit&&Ce(a)&&g.setAttribute("maxLineWidth",o),d.push(g)}else{const f=l.find(g=>g.name==="indicator-content-"+p,!1);f&&l.removeChild(f)}}),this._content=d}this._setGlobalAutoFit(o),this._setYPosition();const u=(e=l==null?void 0:l.AABBBounds.height())!==null&&e!==void 0?e:0;l.setAttribute("y",s.height/2-u/2),l.setAttribute("x",s.width/2)}_setLocalAutoFit(e,t,n){var r,s,a,o,l,u,c,d,h;if(((r=n.fitStrategy)!==null&&r!==void 0?r:"default")!=="default")return;const p=t$((a=(s=n.style)===null||s===void 0?void 0:s.text)!==null&&a!==void 0?a:"",(o=n.style)!==null&&o!==void 0?o:{},(u=(l=this.stage)===null||l===void 0?void 0:l.getTheme())===null||u===void 0?void 0:u.text).width;if(p>0){const f=e*((c=n.fitPercent)!==null&&c!==void 0?c:.5)/p,g=Math.floor(((h=(d=n.style)===null||d===void 0?void 0:d.fontSize)!==null&&h!==void 0?h:20)*f);t.setAttribute("fontSize",g),t.setAttribute("lineHeight",X(n.style.lineHeight)?n.style.lineHeight:g)}}_setGlobalAutoFit(e){var t,n,r,s,a,o,l;const u=e/2,c=[];let d=0;const h=(t=this.attribute.title)!==null&&t!==void 0?t:{};h.autoFit&&h.fitStrategy==="inscribed"?(this._title.setAttribute("fontSize",12),c.push({text:this._title,spec:(n=this.attribute.title)!==null&&n!==void 0?n:{}})):d+=(o=(a=(s=(r=this._title)===null||r===void 0?void 0:r.AABBBounds)===null||s===void 0?void 0:s.height)===null||a===void 0?void 0:a.call(s))!==null&&o!==void 0?o:0;const p=(l=h.space)!==null&&l!==void 0?l:0;if(d+=p,we(this.attribute.content).filter(C=>C.visible!==!1).forEach((C,k)=>{var E,A,P,O;const M=this._content[k];C.autoFit&&C.fitStrategy==="inscribed"?(M.setAttribute("fontSize",12),c.push({text:M,spec:C})):d+=(P=(A=(E=M==null?void 0:M.AABBBounds)===null||E===void 0?void 0:E.height)===null||A===void 0?void 0:A.call(E))!==null&&P!==void 0?P:0;const D=(O=C.space)!==null&&O!==void 0?O:0;d+=D}),c.length<=0)return;const f=12/c.reduce((C,k)=>Math.max(C,k.text.AABBBounds.width()),0)*c.length,g=d/2,v=f**2+1,m=2*g*f,b=g**2-u**2,_=2*(f*((-m+Math.sqrt(m**2-4*v*b))/(2*v))+g),S=(_-d)/c.length;Ce(_)&&c.forEach(C=>{var k;const E=(k=C.spec.style)===null||k===void 0?void 0:k.lineHeight;C.text.setAttribute("fontSize",S),C.text.setAttribute("lineHeight",X(E)?E:S)})}_setYPosition(){var e,t,n,r,s,a;let o=0;const l=(r=(n=(t=(e=this._title)===null||e===void 0?void 0:e.AABBBounds)===null||t===void 0?void 0:t.height)===null||n===void 0?void 0:n.call(t))!==null&&r!==void 0?r:0,u=(a=(s=this.attribute.title)===null||s===void 0?void 0:s.space)!==null&&a!==void 0?a:0;we(this.attribute.content).filter(c=>c.visible!==!1).forEach((c,d)=>{var h;const p=this._content[d];p.setAttribute("y",l+u+o);const f=(h=c.space)!==null&&h!==void 0?h:0;o+=p.AABBBounds.height()+f})}};const Qvt="M 414.5 0.0238 c 228.9128 0 414.4762 185.5634 414.4762 414.4762 s -185.5634 414.4762 -414.4762 414.4762 S 0.0238 643.4128 0.0238 414.5 S 185.5872 0.0238 414.5 0.0238 z m 0 73.1429 C 225.9865 73.1667 73.1667 225.9865 73.1667 414.5 s 152.8198 341.3333 341.3333 341.3333 s 341.3333 -152.8198 341.3333 -341.3333 S 603.0135 73.1667 414.5 73.1667 z m -73.1429 161.4994 a 48.7619 48.7619 0 0 1 25.9901 7.5093 l 201.7524 127.1223 a 48.7619 48.7619 0 0 1 0.3657 82.2613 l -201.7524 129.6335 A 48.7619 48.7619 0 0 1 292.5952 540.1838 v -256.7314 a 48.7619 48.7619 0 0 1 48.7619 -48.7619 z m 24.381 92.9402 v 167.9116 l 131.9497 -84.7726 L 365.7381 327.6063 z",Jvt="M 414.5 0.0238 c 228.9128 0 414.4762 185.5634 414.4762 414.4762 s -185.5634 414.4762 -414.4762 414.4762 S 0.0238 643.4128 0.0238 414.5 S 185.5872 0.0238 414.5 0.0238 z m 0 73.1429 C 225.9865 73.1667 73.1667 225.9865 73.1667 414.5 s 152.8198 341.3333 341.3333 341.3333 s 341.3333 -152.8198 341.3333 -341.3333 S 603.0135 73.1667 414.5 73.1667 z m -48.7619 195.0476 v 316.9524 h -73.1429 V 268.2143 h 73.1429 z m 158.4762 0 v 316.9524 h -73.1429 V 268.2143 h 73.1429 z",e0t="M 521.29 734.276 L 230.929 448.019 L 521.29 161.762 c 37.685 -37.153 38.003 -97.625 0.707 -134.384 c -37.297 -36.758 -98.646 -36.435 -136.331 0.718 l -357.43 352.378 c -0.155 0.153 -0.297 0.314 -0.451 0.468 c -0.084 0.082 -0.172 0.157 -0.256 0.239 c -18.357 18.092 -27.581 41.929 -27.743 65.902 c -0.004 0.311 -0.017 0.623 -0.018 0.934 c 0.001 0.316 0.014 0.632 0.018 0.948 c 0.165 23.97 9.389 47.803 27.743 65.892 c 0.083 0.082 0.171 0.157 0.255 0.239 c 0.154 0.154 0.296 0.315 0.452 0.468 l 357.43 352.378 c 37.685 37.153 99.034 37.476 136.331 0.718 c 37.297 -36.758 36.979 -97.231 -0.707 -134.384 z",t0t="M 734.276 28.71 L 448.019 319.071 L 161.762 28.71 c -37.153 -37.685 -97.625 -38.003 -134.384 -0.707 c -36.758 37.297 -36.435 98.646 0.718 136.331 l 352.378 357.43 c 0.153 0.155 0.314 0.297 0.468 0.451 c 0.082 0.084 0.157 0.172 0.239 0.256 c 18.092 18.357 41.929 27.581 65.902 27.743 c 0.311 0.004 0.623 0.017 0.934 0.018 c 0.316 -0.001 0.632 -0.014 0.948 -0.018 c 23.97 -0.165 47.803 -9.389 65.892 -27.743 c 0.082 -0.083 0.157 -0.171 0.239 -0.255 c 0.154 -0.154 0.315 -0.296 0.468 -0.452 l 352.378 -357.43 c 37.153 -37.685 37.476 -99.034 0.718 -136.331 c -36.758 -37.297 -97.231 -36.979 -134.384 0.707 z",i0t="m 161.724 521.29 l 286.257 -290.361 l 286.257 290.361 c 37.153 37.685 97.625 38.003 134.384 0.707 c 36.758 -37.297 36.435 -98.646 -0.718 -136.331 l -352.378 -357.43 c -0.153 -0.155 -0.314 -0.297 -0.468 -0.451 c -0.082 -0.084 -0.157 -0.172 -0.239 -0.256 c -18.092 -18.357 -41.929 -27.581 -65.902 -27.743 c -0.311 -0.004 -0.623 -0.017 -0.934 -0.018 c -0.316 0.001 -0.632 0.014 -0.948 0.018 c -23.97 0.165 -47.803 9.389 -65.892 27.743 c -0.082 0.083 -0.157 0.171 -0.239 0.255 c -0.154 0.154 -0.315 0.296 -0.468 0.452 l -352.378 357.43 c -37.153 37.685 -37.476 99.034 -0.718 136.331 c 36.758 37.297 97.231 36.979 134.384 -0.707 z",n0t="M 30 163 L 320.361 449.257 L 30 735.514 c -37.685 37.153 -38.003 97.625 -0.707 134.384 c 37.297 36.758 98.646 36.435 136.331 -0.718 l 357.43 -352.378 c 0.155 -0.153 0.297 -0.314 0.451 -0.468 c 0.084 -0.082 0.172 -0.157 0.256 -0.239 c 18.357 -18.092 27.581 -41.929 27.743 -65.902 c 0.004 -0.311 0.017 -0.623 0.018 -0.934 c -0.001 -0.316 -0.014 -0.632 -0.018 -0.948 c -0.165 -23.97 -9.389 -47.803 -27.743 -65.892 c -0.083 -0.082 -0.171 -0.157 -0.255 -0.239 c -0.154 -0.154 -0.296 -0.315 -0.452 -0.468 l -357.43 -352.378 c -37.685 -37.153 -99.034 -37.476 -136.331 -0.718 c -37.297 36.758 -36.979 97.231 0.707 134.384 z";class W7 extends CT{constructor(e){super(e)}}var Bu;(function(i){i.OnPlay="onPlay",i.OnPause="onPause",i.OnForward="onForward",i.OnBackward="onBackward"})(Bu||(Bu={}));var LS;(function(i){i.Start="start",i.Pause="pause",i.Forward="forward",i.Backward="backward"})(LS||(LS={}));class Eg extends Ba{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},Eg.defaultAttributes,e)),this._isPaused=!0,this.updateAttributes=()=>{this._startAttr={style:Object.assign(Object.assign(Object.assign({symbolType:Qvt},Eg.defaultControllerAttr),{visible:this.attribute.start.visible}),this.attribute.start.style)},this._pauseAttr={style:Object.assign(Object.assign(Object.assign({symbolType:Jvt},Eg.defaultControllerAttr),{visible:this.attribute.pause.visible}),this.attribute.pause.style)},this._forwardAttr={style:Object.assign(Object.assign(Object.assign({},Eg.defaultControllerAttr),{visible:this.attribute.forward.visible}),this.attribute.forward.style)},this._backwardAttr={style:Object.assign(Object.assign(Object.assign({},Eg.defaultControllerAttr),{visible:this.attribute.backward.visible}),this.attribute.backward.style)},this.updateLayout()},this.updateLayout=()=>{var n,r,s,a;this._layout=this.attribute.layout,this._layout==="horizontal"?(this._backwardAttr.style.symbolType=(n=this._backwardAttr.style.symbolType)!==null&&n!==void 0?n:e0t,this._forwardAttr.style.symbolType=(r=this._forwardAttr.style.symbolType)!==null&&r!==void 0?r:n0t):this._layout==="vertical"&&(this._backwardAttr.style.symbolType=(s=this._backwardAttr.style.symbolType)!==null&&s!==void 0?s:i0t,this._forwardAttr.style.symbolType=(a=this._forwardAttr.style.symbolType)!==null&&a!==void 0?a:t0t)},this._initPlay=()=>{Y(this._playController)&&(this._playController=new W7(Object.assign({},this._startAttr.style)),this.add(this._playController))},this._initBackward=()=>{Y(this._backwardController)&&(this._backwardController=new W7(Object.assign({},this._backwardAttr.style)),this.add(this._backwardController))},this._initForward=()=>{Y(this._forwardController)&&(this._forwardController=new W7(Object.assign({},this._forwardAttr.style)),this.add(this._forwardController))},this._initEvents=()=>{this.attribute.disableTriggerEvent||(this._playController.addEventListener("pointerdown",n=>{n.stopPropagation(),this._isPaused===!0?this.play():this.pause()}),this._backwardController.addEventListener("pointerdown",n=>{n.stopPropagation(),this.backward()}),this._forwardController.addEventListener("pointerdown",n=>{n.stopPropagation(),this.forward()}))},this.renderPlay=()=>{this._isPaused?this._playController.setAttributes(Object.assign({symbolType:this._playController.getComputedAttribute("symbolType")},this._startAttr.style)):this._playController.setAttributes(Object.assign({symbolType:this._playController.getComputedAttribute("symbolType")},this._pauseAttr.style))},this.renderBackward=()=>{this._backwardController.setAttributes(this._backwardAttr.style)},this.renderForward=()=>{this._forwardController.setAttributes(this._forwardAttr.style)},this.play=()=>{this._dispatchEvent(Bu.OnPlay)},this.pause=()=>{this._dispatchEvent(Bu.OnPause)},this.forward=()=>{this._dispatchEvent(Bu.OnForward)},this.backward=()=>{this._dispatchEvent(Bu.OnBackward)},this.togglePlay=()=>{this._playController.setAttributes(this._startAttr.style),this._isPaused=!0},this.togglePause=()=>{this._playController.setAttributes(this._pauseAttr.style),this._isPaused=!1},this.updateAttributes(),this._initPlay(),this._initBackward(),this._initForward(),this._initEvents()}render(){this.updateAttributes(),this.renderPlay(),this.renderBackward(),this.renderForward()}}Eg.defaultControllerAttr={visible:!0,x:0,y:0,size:20,fill:"#91caff",pickMode:"imprecise",cursor:"pointer"},Eg.defaultAttributes={[LS.Start]:{},[LS.Pause]:{},[LS.Backward]:{},[LS.Forward]:{}};const PI={visible:!0,style:{x:0,y:0,dx:0,dy:0,size:20},order:0,space:10},U7=[200,10];var y0;(function(i){i.Default="default",i.Reverse="reverse"})(y0||(y0={}));var ks;(function(i){i.change="change",i.play="play",i.pause="pause",i.backward="backward",i.forward="forward",i.end="end",i.OnChange="change",i.OnPlay="play",i.OnPause="pause",i.OnBackward="backward",i.OnForward="forward",i.OnEnd="end"})(ks||(ks={}));const r0t=({direction:i,maxIndex:e,dataIndex:t})=>i===y0.Default&&t===e,s0t=({direction:i,minIndex:e,dataIndex:t})=>i===y0.Reverse&&t===e,a0t=({direction:i,maxIndex:e,minIndex:t,dataIndex:n})=>r0t({direction:i,maxIndex:e,dataIndex:n})||s0t({direction:i,minIndex:t,dataIndex:n}),o0t=({direction:i,minIndex:e,dataIndex:t})=>i===y0.Default&&t===e,l0t=({direction:i,maxIndex:e,dataIndex:t})=>i===y0.Reverse&&t===e,u0t=({direction:i,maxIndex:e,minIndex:t,dataIndex:n})=>o0t({direction:i,minIndex:t,dataIndex:n})||l0t({direction:i,maxIndex:e,dataIndex:n}),Dp=i=>i==="top"||i==="bottom",c0t=(i,e,t,n)=>i==="default"?Math.min(e+1,n):Math.max(e-1,t);class cP extends Ba{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},cP.defaultAttributes,e)),this._data=[],this._dataIndex=0,this._layoutInfo={},this._updateSliderAttrs=()=>{var n,r;let s;Ce(this._handlerStyle.size)?s=this._handlerStyle.size:this._handlerStyle.size&&this._handlerStyle.size.length&&(s=Jl(this._handlerStyle.size[0],this._handlerStyle.size[1]));const a={visible:this._sliderVisible,min:this._minIndex,max:this._maxIndex,value:this._dataIndex,railWidth:this._railStyle.width,railHeight:this._railStyle.height,railStyle:this._railStyle,trackStyle:this._trackStyle,handlerSize:Ce(s)?s:void 0,handlerStyle:this._handlerStyle,dy:this.attribute.slider.dy,dx:this.attribute.slider.dx,slidable:!0,range:!1,handlerText:{visible:!1},startText:{visible:!1},endText:{visible:!1},disableTriggerEvent:this.attribute.disableTriggerEvent};if(Dp(this._orient)){const o=Math.max(0,this._layoutInfo.slider.size),l=(n=this._railStyle.height)!==null&&n!==void 0?n:U7[1];a.layout="horizontal",a.railHeight=l,a.railWidth=o,a.x=this._layoutInfo.slider.x,a.y=this._layoutInfo.slider.y}else{const o=Math.max(0,this._layoutInfo.slider.size),l=(r=this._railStyle.width)!==null&&r!==void 0?r:U7[1];a.layout="vertical",a.railWidth=l,a.railHeight=o,a.x=this._layoutInfo.slider.x,a.y=this._layoutInfo.slider.y}return a},this._initSlider=()=>{const n=this._updateSliderAttrs();this._slider=new y$(n),this._sliderVisible&&this.add(this._slider)},this._updateControllerAttrs=()=>{const n={start:this._start,pause:this._pause,forward:this._forward,backward:this._backward,disableTriggerEvent:this.attribute.disableTriggerEvent};return Dp(this._orient)?(n.layout="horizontal",n.start=Object.assign(Object.assign({},n.start),{style:Object.assign(Object.assign({},n.start.style),{x:this._layoutInfo.start.x,y:this._layoutInfo.start.y})}),n.pause=Object.assign(Object.assign({},n.pause),{style:Object.assign(Object.assign({},n.pause.style),{x:this._layoutInfo.start.x,y:this._layoutInfo.start.y})}),n.backward=Object.assign(Object.assign({},n.backward),{style:Object.assign(Object.assign({},n.backward.style),{x:this._layoutInfo.backward.x,y:this._layoutInfo.backward.y})}),n.forward=Object.assign(Object.assign({},n.forward),{style:Object.assign(Object.assign({},n.forward.style),{x:this._layoutInfo.forward.x,y:this._layoutInfo.forward.y})})):(n.layout="vertical",n.start=Object.assign(Object.assign({},n.start),{style:Object.assign(Object.assign({},n.start.style),{x:this._layoutInfo.start.x,y:this._layoutInfo.start.y})}),n.pause=Object.assign(Object.assign({},n.pause),{style:Object.assign(Object.assign({},n.pause.style),{x:this._layoutInfo.start.x,y:this._layoutInfo.start.y})}),n.backward=Object.assign(Object.assign({},n.backward),{style:Object.assign(Object.assign({},n.backward.style),{x:this._layoutInfo.backward.x,y:this._layoutInfo.backward.y})}),n.forward=Object.assign(Object.assign({},n.forward),{style:Object.assign(Object.assign({},n.forward.style),{x:this._layoutInfo.forward.x,y:this._layoutInfo.forward.y})})),n},this._initController=()=>{const n=this._updateControllerAttrs();this._controller=new Eg(n),this._controllerVisible&&this.add(this._controller)},this._initAttributes(),this._initDataIndex(),this._initLayoutInfo(),this._initController(),this._initSlider()}_initAttributes(){this._size=this.attribute.size,this._orient=this.attribute.orient,this._data=this.attribute.data,this._minIndex=0,this._maxIndex=this._data.length-1;const{slider:e={},controller:t={}}=this.attribute;this._sliderVisible=e.visible,this._railStyle=Object.assign({},e.railStyle),this._trackStyle=Object.assign({},e.trackStyle),this._handlerStyle=Object.assign({},e.handlerStyle),this._controllerVisible=t.visible,this._start=Object.assign({},t.start),this._pause=Object.assign({},t.pause),this._forward=Object.assign({},t.forward),this._backward=Object.assign({},t.backward)}_initDataIndex(){var e;this._dataIndex=(e=this.attribute.dataIndex)!==null&&e!==void 0?e:0}_initLayoutInfo(){var e,t,n;const r=[this._start,this._backward,this._forward].sort((h,p)=>h.order-p.order),s=r.filter(h=>h.position!=="end"),a=r.filter(h=>h.position==="end"),o=(e=Dp(this._orient)?this._railStyle.height:this._railStyle.width)!==null&&e!==void 0?e:U7[1],l=r.reduce((h,p)=>{const f=p.style.size,g=Xe(f)?f:Jl(f[0],f[1]);return h+p.space+g},0),u=this._sliderVisible?(Dp(this._orient)?(t=this._size)===null||t===void 0?void 0:t.width:(n=this._size)===null||n===void 0?void 0:n.height)-l:0,c=u-this.attribute.slider.space,d=s.reduce((h,p)=>{const{key:f,space:g,style:{size:v}}=p,m=Xe(v)?v:Jl(v[0],v[1]);return this._layoutInfo[f]=Object.assign(Object.assign({},this._layoutInfo[f]),{size:m,x:Dp(this._orient)?h+g:(this._size.width-m)/2,y:Dp(this._orient)?(this._size.height-m)/2:h+g}),h+g+m},0);this._layoutInfo.slider=Object.assign(Object.assign({},this._layoutInfo.slider),{size:c,x:Dp(this._orient)?d+this.attribute.slider.space:(this._size.width-o)/2,y:Dp(this._orient)?(this._size.height-o)/2:d+this.attribute.slider.space}),a.reduce((h,p)=>{const{key:f,space:g,style:{size:v}}=p,m=Xe(v)?v:Jl(v[0],v[1]);return this._layoutInfo[f]=Object.assign(Object.assign({},this._layoutInfo[f]),{size:m,x:Dp(this._orient)?h+g:(this._size.width-m)/2,y:Dp(this._orient)?(this._size.height-m)/2:h+g}),h+g+m},d+u)}render(){this._initLayoutInfo(),this.renderSlider(),this.renderController()}renderSlider(){const e=this._updateSliderAttrs();this._slider.setAttributes(e)}renderController(){const e=this._updateControllerAttrs();this._controller.setAttributes(e)}dispatchCustomEvent(e,t){this._dispatchEvent(e,{eventType:e,index:t,value:this._data[t]})}}cP.defaultAttributes={visible:!0,data:[],interval:1e3,orient:"bottom",align:"center",size:{height:20,width:300},slider:{visible:!0,space:10,dx:0,dy:0,railStyle:{cornerRadius:5},trackStyle:{},handlerStyle:{}},controller:{visible:!0,start:Object.assign(Object.assign({},PI),{key:"start",position:"start",space:0}),pause:Object.assign(Object.assign({},PI),{key:"pause",position:"start"}),forward:Object.assign(Object.assign({},PI),{key:"forward",position:"end"}),backward:Object.assign(Object.assign({},PI),{key:"backward",position:"start"})}};function Gke(){v$(),Is(),rh()}function d0t(){Gke()}function h0t(){Gke()}d0t();class p0t extends cP{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},e)),this._activeIndex=-1,this._isReachEnd=!1,this._initAttributes=()=>{var n,r,s;super._initAttributes(),this._alternate=(n=this.attribute.alternate)!==null&&n!==void 0&&n,this._interval=(r=this.attribute.interval)!==null&&r!==void 0?r:1e3,this._direction=(s=this.attribute.direction)!==null&&s!==void 0?s:y0.Default},this._initDataIndex=()=>{var n;this._dataIndex=Y(this.attribute.dataIndex)?this._direction==="default"?this._minIndex:this._maxIndex:(n=this.attribute.dataIndex)!==null&&n!==void 0?n:0,this._slider.setAttribute("value",this._dataIndex)},this._initEvents=()=>{this.attribute.disableTriggerEvent||(this._controller.addEventListener(Bu.OnPlay,n=>{n.stopPropagation(),this.play()}),this._controller.addEventListener(Bu.OnPause,n=>{n.stopPropagation(),this.pause()}),this._controller.addEventListener(Bu.OnForward,n=>{n.stopPropagation(),this.forward()}),this._controller.addEventListener(Bu.OnBackward,n=>{n.stopPropagation(),this.backward()}),this._slider.addEventListener("change",n=>{const r=Math.floor(n.detail.value)+.5;this._dataIndex=n.detail.value>=r?Math.ceil(n.detail.value):Math.floor(n.detail.value),this._slider.setValue(this._dataIndex),this.dispatchCustomEvent(ks.change)}))},this.play=()=>{this._isPlaying||this._data.length!==1&&(this._controller.togglePause(),this._isPlaying=!0,(a0t({dataIndex:this._dataIndex,maxIndex:this._maxIndex,minIndex:this._minIndex,direction:this._direction})||u0t({dataIndex:this._dataIndex,maxIndex:this._maxIndex,minIndex:this._minIndex,direction:this._direction}))&&(this._direction===y0.Default?this._updateDataIndex(this._minIndex):this._updateDataIndex(this._maxIndex)),this.dispatchCustomEvent(ks.play),this._isReachEnd=!1,this._tickTime=Date.now(),this._rafId=ji.getRequestAnimationFrame()(this._play.bind(this,!0)))},this._play=n=>{const r=Date.now();if(this._isReachEnd&&r-this._tickTime>=this._interval)return this._isReachEnd=!1,void this._playEnd();n&&this._activeIndex!==this._dataIndex?(this.dispatchCustomEvent(ks.change),this._activeIndex=this._dataIndex):r-this._tickTime>=this._interval&&(this._tickTime=r,this._updateDataIndex(c0t(this._direction,this._dataIndex,this._minIndex,this._maxIndex)),this._activeIndex=this._dataIndex,this.dispatchCustomEvent(ks.change)),(this._direction==="default"&&this._dataIndex>=this._maxIndex||this._direction==="reverse"&&this._dataIndex<=this._minIndex)&&(this._isReachEnd=!0),this._rafId=ji.getRequestAnimationFrame()(this._play.bind(this,!1))},this._updateDataIndex=n=>{this._dataIndex=n,this._slider.setValue(this._dataIndex)},this._playEnd=()=>{this._isPlaying=!1,this._controller.togglePlay(),ji.getCancelAnimationFrame()(this._rafId),this._activeIndex=-1,this.dispatchCustomEvent(ks.end)},this.pause=()=>{this._isPlaying&&(this._isPlaying=!1,ji.getCancelAnimationFrame()(this._rafId),this._controller.togglePlay(),this.dispatchCustomEvent(ks.pause))},this.backward=()=>{const{loop:n=!1}=this.attribute;let r;r=n?this._dataIndex-1<this._minIndex?this._maxIndex:this._dataIndex-1:Math.max(this._dataIndex-1,this._minIndex),this._updateDataIndex(r),this.dispatchCustomEvent(ks.change),this.dispatchCustomEvent(ks.backward)},this.forward=()=>{const{loop:n=!1}=this.attribute;let r;r=n?this._dataIndex+1>this._maxIndex?this._minIndex:this._dataIndex+1:Math.min(this._dataIndex+1,this._maxIndex),this._updateDataIndex(r),this.dispatchCustomEvent(ks.change),this.dispatchCustomEvent(ks.forward)},this._initAttributes(),this._initDataIndex(),this._initEvents()}setAttributes(e,t){super.setAttributes(e,t),this._initAttributes()}dispatchCustomEvent(e){super.dispatchCustomEvent(e,this._dataIndex)}}var f0t=function(i,e,t,n){return new(t||(t=Promise))(function(r,s){function a(u){try{l(n.next(u))}catch(c){s(c)}}function o(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((n=n.apply(i,e||[])).next())})};h0t();class g0t extends cP{constructor(e){super(e),this._isPlaying=!1,this._startTime=Date.now(),this._initAttributes=()=>{var t;super._initAttributes(),this._maxIndex=this._data.length,this._slider.setAttribute("max",this._maxIndex),this._isPlaying=!1,this._elapsed=0,this._interval=(t=this.attribute.interval)!==null&&t!==void 0?t:1e3;const n=this._data.length;this.attribute.totalDuration&&this._data.length?(this._totalDuration=this.attribute.totalDuration,this._interval=this._totalDuration/(n??1)):(this._totalDuration=this._interval*n,this._interval=this.attribute.interval)},this._initDataIndex=()=>{var t;this._dataIndex=(t=this.attribute.dataIndex)!==null&&t!==void 0?t:this._minIndex},this._initEvents=()=>{this.attribute.disableTriggerEvent||(this._controller.addEventListener(Bu.OnPlay,t=>{t.stopPropagation(),this.play()}),this._controller.addEventListener(Bu.OnPause,t=>{t.stopPropagation(),this.pause()}),this._controller.addEventListener(Bu.OnForward,t=>{t.stopPropagation(),this.forward()}),this._controller.addEventListener(Bu.OnBackward,t=>{t.stopPropagation(),this.backward()}),this._slider.addEventListener("change",t=>{var n;t.stopPropagation();const r=(n=t.detail)===null||n===void 0?void 0:n.value,s=r/this._maxIndex;this._elapsed=s*this._totalDuration,this._startTime=Date.now()-this._elapsed,this._dispatchChange(r)}))},this._getSliderValue=()=>{const t=this._elapsed/this._totalDuration;return Math.min(t*this._maxIndex,this._maxIndex)},this._updateSlider=()=>{const t=this._getSliderValue();this._dataIndex=Math.floor(t),this._slider.setValue(Math.min(t,this._maxIndex)),this._dispatchChange(Math.floor(t))},this._dispatchChange=t=>{const n=Math.floor(t);n!==this._activeIndex&&(this._dataIndex=n,this._activeIndex=n,n!==this._maxIndex&&this.dispatchCustomEvent(ks.change))},this.play=()=>f0t(this,void 0,void 0,function*(){this._isPlaying||(this._controller.togglePause(),this._isPlaying=!0,this._elapsed>=this._totalDuration&&(this._elapsed=0),this._startTime=Date.now()-this._elapsed,this.dispatchCustomEvent(ks.play),this._rafId=ji.getRequestAnimationFrame()(this._play.bind(this)))}),this._play=()=>{this._elapsed=Date.now()-this._startTime;const t=this._getSliderValue();this._updateSlider(),t>=this._maxIndex?this._playEnd():this._rafId=ji.getRequestAnimationFrame()(this._play.bind(this))},this._playEnd=()=>{this._isPlaying=!1,ji.getCancelAnimationFrame()(this._rafId),this._controller.togglePlay(),this.dispatchCustomEvent(ks.end)},this.pause=()=>{this._isPlaying&&(this._isPlaying=!1,this._elapsed=Date.now()-this._startTime,ji.getCancelAnimationFrame()(this._rafId),this._controller.togglePlay(),this.dispatchCustomEvent(ks.pause))},this.backward=()=>{const t=Date.now(),n=1*this._interval,r=this._elapsed-n;r<=0?(this._elapsed=0,this._startTime=t):(this._elapsed=r,this._startTime=this._startTime+this._interval),this._updateSlider(),this.dispatchCustomEvent(ks.backward)},this.forward=()=>{const t=Date.now(),n=1*this._interval,r=this._elapsed+n;r>=this._totalDuration?(this._startTime=t-this._totalDuration,this._elapsed=this._totalDuration):(this._startTime=this._startTime-n,this._elapsed=r),this._updateSlider(),this.dispatchCustomEvent(ks.forward)},this._initAttributes(),this._initDataIndex(),this._initEvents()}dispatchCustomEvent(e){super.dispatchCustomEvent(e,this._dataIndex)}render(){super.render()}}var _l;(function(i){i.drawStart="drawStart",i.drawEnd="drawEnd",i.drawing="drawing",i.moving="moving",i.moveStart="moveStart",i.moveEnd="moveEnd",i.brushClear="brushClear"})(_l||(_l={}));const cg={trigger:"pointerdown",updateTrigger:"pointermove",endTrigger:"pointerup",resetTrigger:"pointerupoutside",hasMask:!0,brushMode:"single",brushType:"rect",brushStyle:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",strokeWidth:2},brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:10,interactiveRange:{y1:-1/0,y2:1/0,x1:-1/0,x2:1/0}},m0t=5;function v0t(){Is(),e$()}const y0t={debounce:Pf,throttle:P0};v0t();let Yke=class Kke extends Ba{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},Kke.defaultAttributes,e)),this.name="brush",this._activeDrawState=!1,this._cacheDrawPoints=[],this._isDrawedBeforeEnd=!1,this._activeMoveState=!1,this._operatingMaskMoveDx=0,this._operatingMaskMoveDy=0,this._operatingMaskMoveRangeX=[-1/0,1/0],this._operatingMaskMoveRangeY=[-1/0,1/0],this._brushMaskAABBBoundsDict={},this._onBrushStart=n=>{var r;if(this._outOfInteractiveRange(n))return;n.stopPropagation();const s=(r=this.attribute.brushMoved)===null||r===void 0||r;this._activeMoveState=s&&this._isPosInBrushMask(n),this._activeDrawState=!this._activeMoveState,this._activeDrawState&&this._initDraw(n),this._activeMoveState&&this._initMove(n)},this._onBrushing=n=>{this._outOfInteractiveRange(n)||((this._activeDrawState||this._activeMoveState)&&n.stopPropagation(),this._activeDrawState&&this._drawing(n),this._activeMoveState&&this._moving(n))},this._onBrushingWithDelay=this.attribute.delayTime===0?this._onBrushing:y0t[this.attribute.delayType](this._onBrushing,this.attribute.delayTime),this._onBrushEnd=n=>{var r;if(!this._activeDrawState&&!this._activeMoveState)return;n.preventDefault();const{removeOnClick:s=!0}=this.attribute;this._activeDrawState&&!this._isDrawedBeforeEnd&&s?(!((r=this._operatingMask)===null||r===void 0)&&r._AABBBounds.empty()&&this._dispatchEvent(_l.brushClear,{operateMask:this._operatingMask,operatedMaskAABBBounds:this._brushMaskAABBBoundsDict,event:n}),this._container.incrementalClearChild(),this._brushMaskAABBBoundsDict={}):(this._activeDrawState&&this._dispatchEvent(_l.drawEnd,{operateMask:this._operatingMask,operatedMaskAABBBounds:this._brushMaskAABBBoundsDict,event:n}),this._activeMoveState&&this._dispatchEvent(_l.moveEnd,{operateMask:this._operatingMask,operatedMaskAABBBounds:this._brushMaskAABBBoundsDict,event:n})),this._activeDrawState=!1,this._activeMoveState=!1,this._isDrawedBeforeEnd=!1,this._operatingMask&&this._operatingMask.setAttribute("pickable",!1)}}_bindBrushEvents(){if(this.attribute.disableTriggerEvent)return;const{trigger:e=cg.trigger,updateTrigger:t=cg.updateTrigger,endTrigger:n=cg.endTrigger,resetTrigger:r=cg.resetTrigger}=this.attribute;this.stage.addEventListener(e,this._onBrushStart),this.stage.addEventListener(t,this._onBrushingWithDelay),this.stage.addEventListener(n,this._onBrushEnd),this.stage.addEventListener(r,this._onBrushEnd)}_isPosInBrushMask(e){const t=this.eventPosToStagePos(e),n=this._container.getChildren();for(let r=0;r<n.length;r++){const{points:s=[],dx:a=0,dy:o=0}=n[r].attribute,l=s.map(u=>({x:u.x+a,y:u.y+o}));if(Gy(l,t.x,t.y))return this._operatingMask=n[r],!0}return!1}_initDraw(e){const{brushMode:t}=this.attribute,n=this.eventPosToStagePos(e);this._cacheDrawPoints=[n],this._isDrawedBeforeEnd=!1,t==="single"&&(this._brushMaskAABBBoundsDict={},this._container.incrementalClearChild()),this._addBrushMask(),this._dispatchEvent(_l.drawStart,{operateMask:this._operatingMask,operatedMaskAABBBounds:this._brushMaskAABBBoundsDict,event:e})}_initMove(e){var t,n;this._cacheMovePoint=this.eventPosToStagePos(e),this._operatingMaskMoveDx=(t=this._operatingMask.attribute.dx)!==null&&t!==void 0?t:0,this._operatingMaskMoveDy=(n=this._operatingMask.attribute.dy)!==null&&n!==void 0?n:0;const{interactiveRange:r}=this.attribute,{minY:s=-1/0,maxY:a=1/0,minX:o=-1/0,maxX:l=1/0}=r,{x1:u,x2:c,y1:d,y2:h}=this._operatingMask.globalAABBBounds,p=o-u,f=l-c,g=s-d,v=a-h;this._operatingMaskMoveRangeX=[p,f],this._operatingMaskMoveRangeY=[g,v],this._operatingMask.setAttribute("pickable",!0),this._dispatchEvent(_l.moveStart,{operateMask:this._operatingMask,operatedMaskAABBBounds:this._brushMaskAABBBoundsDict,event:e})}_drawing(e){var t,n;const r=this.eventPosToStagePos(e),{sizeThreshold:s=m0t,brushType:a}=this.attribute,o=this._cacheDrawPoints.length;if(o>0){const p=(t=this._cacheDrawPoints[this._cacheDrawPoints.length-1])!==null&&t!==void 0?t:{};if(r.x===p.x&&r.y===p.y)return}a==="polygon"||o<=1?this._cacheDrawPoints.push(r):this._cacheDrawPoints[o-1]=r;const l=this._computeMaskPoints();this._operatingMask.setAttribute("points",l);const{x1:u=0,x2:c=0,y1:d=0,y2:h=0}=(n=this._operatingMask)===null||n===void 0?void 0:n._AABBBounds;this._isDrawedBeforeEnd=!this._operatingMask._AABBBounds.empty()&&(Math.abs(c-u)>s||Math.abs(d-h)>s),this._isDrawedBeforeEnd&&(this._brushMaskAABBBoundsDict[this._operatingMask.name]=this._operatingMask.AABBBounds,this._dispatchEvent(_l.drawing,{operateMask:this._operatingMask,operatedMaskAABBBounds:this._brushMaskAABBBoundsDict,event:e}))}_moving(e){const t=this._cacheMovePoint,n=this.eventPosToStagePos(e);if(n.x===(t==null?void 0:t.x)&&n.y===(t==null?void 0:t.y))return;const r=n.x-t.x,s=n.y-t.y,a=Math.min(this._operatingMaskMoveRangeX[1],Math.max(this._operatingMaskMoveRangeX[0],r))+this._operatingMaskMoveDx,o=Math.min(this._operatingMaskMoveRangeY[1],Math.max(this._operatingMaskMoveRangeY[0],s))+this._operatingMaskMoveDy;this._operatingMask.setAttributes({dx:a,dy:o}),this._brushMaskAABBBoundsDict[this._operatingMask.name]=this._operatingMask.AABBBounds,this._dispatchEvent(_l.moving,{operateMask:this._operatingMask,operatedMaskAABBBounds:this._brushMaskAABBBoundsDict,event:e})}_computeMaskPoints(){const{brushType:e,xRange:t=[0,0],yRange:n=[0,0]}=this.attribute;let r=[];const s=this._cacheDrawPoints[0],a=this._cacheDrawPoints[this._cacheDrawPoints.length-1];return r=e==="rect"?[s,{x:a.x,y:s.y},a,{x:s.x,y:a.y}]:e==="x"?[{x:s.x,y:n[0]},{x:a.x,y:n[0]},{x:a.x,y:n[1]},{x:s.x,y:n[1]}]:e==="y"?[{x:t[0],y:s.y},{x:t[0],y:a.y},{x:t[1],y:a.y},{x:t[1],y:s.y}]:su(this._cacheDrawPoints),r}_addBrushMask(){var e;const{brushStyle:t,hasMask:n}=this.attribute,r=Ot.polygon(Object.assign(Object.assign({points:su(this._cacheDrawPoints),cursor:"move",pickable:!1},t),{opacity:n?(e=t.opacity)!==null&&e!==void 0?e:1:0}));r.name=`brush-${Date.now()}`,this._operatingMask=r,this._container.add(r),this._brushMaskAABBBoundsDict[r.name]=r.AABBBounds}_outOfInteractiveRange(e){const{interactiveRange:t}=this.attribute,{minY:n=-1/0,maxY:r=1/0,minX:s=-1/0,maxX:a=1/0}=t,o=this.eventPosToStagePos(e);return o.x>a||o.x<s||o.y>r||o.y<n}eventPosToStagePos(e){return this.stage.eventPointTransform(e)}render(){this._bindBrushEvents();const e=this.createOrUpdateChild("brush-container",{},"group");this._container=e}releaseBrushEvents(){const{delayType:e="throttle",delayTime:t=0,trigger:n=cg.trigger,updateTrigger:r=cg.updateTrigger,endTrigger:s=cg.endTrigger,resetTrigger:a=cg.resetTrigger}=this.attribute;this.stage.removeEventListener(n,this._onBrushStart),this.stage.removeEventListener(r,this._onBrushingWithDelay),this.stage.removeEventListener(s,this._onBrushEnd),this.stage.removeEventListener(a,this._onBrushEnd)}};Yke.defaultAttributes=cg;const Ace=(i,...e)=>{const t=[i.shape,...e.map(s=>s==null?void 0:s.shape)],n=[i.key,...e.map(s=>s==null?void 0:s.key)],r=[i.value,...e.map(s=>s==null?void 0:s.value)];return Ie(i,...e,{shape:t.every(Y)?void 0:Ie({},...t),key:n.every(Y)?void 0:Ie({},...n),value:r.every(Y)?void 0:Ie({},...r)})},E1=i=>{const{width:e,height:t,wordBreak:n="break-word",textAlign:r,textBaseline:s,text:a}=i;return Array.isArray(a)?{width:e,height:t,wordBreak:n,textAlign:r,textBaseline:s,singleLine:!1,textConfig:we(a).map(o=>Object.assign(Object.assign({},i),{text:o}))}:{width:e,height:t,wordBreak:n,textAlign:r,textBaseline:s,singleLine:!1,textConfig:a==null?void 0:a.text}},_0t={panel:{visible:!0,cornerRadius:[3,3,3,3],fill:"white",shadow:!0,shadowBlur:12,shadowColor:"rgba(0, 0, 0, 0.1)",shadowOffsetX:0,shadowOffsetY:4,shadowSpread:0,stroke:"white"},titleStyle:{value:{fill:"#4E5969",fontFamily:NE,fontSize:14,lineHeight:18,textAlign:"left",textBaseline:"middle"},spaceRow:6},contentStyle:{shape:{fill:"black",size:8,symbolType:"circle",spacing:6},key:{fill:"#4E5969",fontFamily:NE,fontSize:12,lineHeight:18,textAlign:"left",textBaseline:"middle",spacing:26},value:{fill:"#4E5969",fontFamily:NE,fontSize:12,lineHeight:18,textAlign:"right",textBaseline:"middle",spacing:0},spaceRow:6},padding:10,positionX:"right",positionY:"bottom",offsetX:10,offsetY:10,parentBounds:new zr().setValue(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),autoCalculatePosition:!0,autoMeasure:!0,pickable:!1,childrenPickable:!1,zIndex:500},b0t=["pointerX","pointerY","offsetX","offsetY","positionX","positionY","parentBounds"];function S0t(){Is(),mm(),rh(),Of(),M0()}S0t();let Xke=class bc extends Ba{constructor(e,t){super(t!=null&&t.skipDefault?e:Ie({},bc.defaultAttributes,e),t),this.name="tooltip"}render(){var e;const{visible:t,content:n,panel:r,keyWidth:s,valueWidth:a,hasContentShape:o,autoCalculatePosition:l,autoMeasure:u}=this.attribute;if(!t)return void this.hideAll();u&&bc.measureTooltip(this.attribute),l&&bc.calculateTooltipPosition(this.attribute);const c=au(this.attribute.padding);this._tooltipPanel=this.createOrUpdateChild("tooltip-background",Object.assign({visible:!0},r),"rect"),this._tooltipTitleContainer=this.createOrUpdateChild("tooltip-title",{visible:!0,x:c[3],y:c[0]},"group");const d=bc.getTitleAttr(this.attribute);this._tooltipTitleSymbol=this._tooltipTitleContainer.createOrUpdateChild("tooltip-title-shape",Ie({symbolType:"circle"},d.shape,{visible:ta(d)&&ta(d.shape)}),"symbol"),typeof d.value.text!="object"||d.value.text===null||d.value.text.type!=="rich"&&d.value.text.type!=="html"?d.value.multiLine?this._tooltipTitle=this._tooltipTitleContainer.createOrUpdateChild("tooltip-title-value",Object.assign({visible:ta(d)&&ta(d.value)},E1(d.value)),"richtext"):this._tooltipTitle=this._tooltipTitleContainer.createOrUpdateChild("tooltip-title-value",Object.assign({text:(e=d.value.text)!==null&&e!==void 0?e:"",visible:ta(d)&&ta(d.value)},d.value),"text"):d.value.text.type==="rich"?this._tooltipTitle=this._tooltipTitleContainer.createOrUpdateChild("tooltip-title-value",Object.assign({visible:ta(d)&&ta(d.value)},E1(d.value)),"richtext"):d.value.text.type==="html"&&(this._tooltipTitle=this._tooltipTitleContainer.createOrUpdateChild("tooltip-title-value",Object.assign({html:Object.assign(Object.assign({dom:d.value.text.text},BL),d.value),visible:ta(d)&&ta(d.value),width:d.value.width,height:d.value.height,wordBreak:d.value.wordBreak,textAlign:d.value.textAlign,textBaseline:d.value.textBaseline,singleLine:!1,textConfig:[]},d.value),"richtext"));const h=ta(d.shape)?d.shape.size+d.shape.spacing:0,{textAlign:p,textBaseline:f}=d.value,g=r.width-c[3]-c[0]-h;p==="center"?this._tooltipTitle.setAttribute("x",h+g/2):p==="right"||p==="end"?this._tooltipTitle.setAttribute("x",h+g):this._tooltipTitle.setAttribute("x",h),f==="bottom"?this._tooltipTitle.setAttribute("y",d.height):f==="middle"?this._tooltipTitle.setAttribute("y",d.height/2):this._tooltipTitle.setAttribute("y",0);const v=ta(d)?d.height+d.spaceRow:0;if(this._tooltipContent=this.createOrUpdateChild("tooltip-content",{visible:!0},"group"),this._tooltipContent.removeAllChild(!0),n&&n.length){this._tooltipContent.setAttribute("x",c[3]),this._tooltipContent.setAttribute("y",c[0]+v);let m=0;n.forEach((b,_)=>{var S,C,k;const E=bc.getContentAttr(this.attribute,_);if(!ta(E))return;const A=`tooltip-content-${_}`,P=this._tooltipContent.createOrUpdateChild(A,{visible:!0,x:0,y:m},"group");let O=0;if(ta(E.shape)&&P.createOrUpdateChild(`${A}-shape`,Object.assign({visible:!0,x:E.shape.size/2,y:E.shape.size/2+(((S=kg(E.key.lineHeight,E.key.fontSize))!==null&&S!==void 0?S:E.key.fontSize)-E.shape.size)/2},E.shape),"symbol"),o&&(O+=E.shape.size+E.shape.spacing),ta(E.key)){let M;M=E.key.multiLine?P.createOrUpdateChild(`${A}-key`,Object.assign(Object.assign({visible:!0},E1(E.key)),{textBaseline:"top"}),"richtext"):typeof E.key.text!="object"||E.key.text===null||E.key.text.type!=="rich"&&E.key.text.type!=="html"?P.createOrUpdateChild(`${A}-key`,Object.assign(Object.assign({visible:!0,text:(C=E.key.text)!==null&&C!==void 0?C:""},E.key),{textBaseline:"top"}),"text"):E.key.text.type==="rich"?P.createOrUpdateChild(`${A}-value`,Object.assign(Object.assign({visible:!0},E1(E.key)),{textBaseline:"top"}),"richtext"):P.createOrUpdateChild(`${A}-value`,{html:Object.assign(Object.assign({dom:E.key.text.text},BL),E.key)},"richtext");const{textAlign:D}=E.key;D==="center"?M.setAttribute("x",O+s/2):D==="right"||D==="end"?M.setAttribute("x",O+s):M.setAttribute("x",O),M.setAttribute("y",0),O+=s+E.key.spacing}if(ta(E.value)){let M;M=E.value.multiLine?P.createOrUpdateChild(`${A}-value`,Object.assign(Object.assign({visible:!0},E1(E.value)),{textBaseline:"top"}),"richtext"):typeof E.value.text!="object"||E.value.text===null||E.value.text.type!=="rich"&&E.value.text.type!=="html"?P.createOrUpdateChild(`${A}-value`,Object.assign(Object.assign({visible:!0,text:(k=E.value.text)!==null&&k!==void 0?k:""},E.value),{textBaseline:"top"}),"text"):E.value.text.type==="rich"?P.createOrUpdateChild(`${A}-value`,Object.assign(Object.assign({visible:!0},E1(E.value)),{textBaseline:"top"}),"richtext"):P.createOrUpdateChild(`${A}-value`,{html:Object.assign({dom:E.value.text.text,container:"",width:30,height:30,style:{}},E.value)},"richtext");let D="right";X(E.value.textAlign)?D=E.value.textAlign:ta(E.key)||(D="left"),M.setAttribute("textAlign",D),D==="center"?M.setAttribute("x",O+a/2):D==="right"||D==="end"?M.setAttribute("x",O+a):M.setAttribute("x",O),O+=a,M.setAttribute("y",0),P.add(M)}m+=E.height+E.spaceRow})}}setAttributes(e,t){const n=Object.keys(e);this.attribute.autoCalculatePosition&&n.every(r=>b0t.includes(r))?(this._mergeAttributes(e,n),Y(this.attribute.panel.width)&&this.attribute.autoMeasure&&bc.measureTooltip(this.attribute),bc.calculateTooltipPosition(this.attribute),super.setAttributes({x:this.attribute.x,y:this.attribute.y},t)):super.setAttributes(e,t)}static calculateTooltipPosition(e){const{width:t=0,height:n=0}=e.panel,{offsetX:r,offsetY:s,pointerX:a,pointerY:o,positionX:l,positionY:u,parentBounds:c}=e;let d=a,h=o;return l==="left"?d-=t+r:l==="center"?d-=t/2:d+=r,u==="top"?h-=n+s:u==="middle"?h-=n/2:h+=s,d+t>c.x2&&(d-=t+r),h+n>c.y2&&(h-=n+s),d<c.x1&&(d=c.x1),h<c.y1&&(h=c.y1),e.x=d,e.y=h,e}static measureTooltip(e){const{content:t,contentStyle:n}=e,r=au(e.padding),s=bc.getTitleAttr(e);let a=0,o=r[0]+r[2],l=0;const{value:u,shape:c}=s,{visible:d=!1,symbolType:h=""}=c??{};if(X(u)&&typeof s.value.text!="object"){const{width:p,height:f}=ux(u).quickMeasure(u.text);a=p,l=f}if(d&&MD[h]&&(a+=c.size+c.spacing,l=Math.max(c.size,l)),e.title&&(e.title.width=a,e.title.height=l),ta(s)&&(o+=l+s.spaceRow),t&&t.length){const p=[];if(t.forEach((f,g)=>{const v=bc.getContentAttr(e,g);(f.key||f.value)&&ta(v)&&p.push([f,v])}),p.length){let f=!1;const g=[],v=[],m=[];p.forEach(([C,k],E)=>{var A;const{key:P,value:O,shape:M,spaceRow:D}=k,L=ta(M),H=(A=M==null?void 0:M.symbolType)!==null&&A!==void 0?A:"",B=ux(P),F=ux(O);let z=0;if(ta(P)){const{width:N,height:U}=B.quickMeasure(P.text);v.push(N),z=Math.max(z,U)}if(ta(O)){const{width:N,height:U}=F.quickMeasure(O.text);m.push(N),z=Math.max(z,U)}L&&MD[H]&&(f=!0,g.push(M.size),z=Math.max(M.size,z)),C.height=z,o+=z,E<p.length-1&&(o+=D??n.spaceRow)});const b=g.length?Math.max(...g):0,_=v.length?Math.max(...v):0,S=m.length?Math.max(...m):0;a=Math.max(_+S+n.key.spacing+n.value.spacing+(f?b+n.shape.spacing:0),a),t.forEach(C=>{C.width=a}),e.hasContentShape=f,e.keyWidth=_,e.valueWidth=S}}return e.panel.width=a+r[1]+r[3],e.panel.height=o,e}static getTitleAttr(e){return Ace({},bc.defaultAttributes.titleStyle,bc.defaultAttributes.title,e.titleStyle,e.title)}static getContentAttr(e,t){return Ace({},bc.defaultAttributes.contentStyle,e.contentStyle,e.content[t])}};Xke.defaultAttributes=_0t;const Tce=Ol;function x0t(i){return(i=uf(i))>0&&i<=Math.PI/2?2:i>Math.PI/2&&i<=Math.PI?3:i>Math.PI&&i<=3*Math.PI/2?4:1}function w0t(i,e){let t=0,n=2*Math.PI;const r=X(i),s=X(e);for(r||s?s?r?(t=i,n=e):(t=e-2*Math.PI,n=e):(t=i,n=i+2*Math.PI):(t=0,n=2*Math.PI);n<=t;)n+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI,n-=2*Math.PI;for(;n<0;)t+=2*Math.PI,n+=2*Math.PI;return{startAngle:t,endAngle:n}}function C0t(i,e,t){return i.x1>e||i.x2<e||i.y1>t||i.y2<t}function qke(i,e){const t=[];return i.forEach(n=>{const r=+n[e];Ce(r)&&t.push(r)}),t.length===0?null:ca(t)}function jX(i,e){const t=[];return i.forEach(n=>{const r=+n[e];Ce(r)&&t.push(r)}),t.length===0?null:Os(t)}function Zke(i,e){return i.reduce((t,n)=>{const r=e?+n[e]:+n;return Ce(r)&&(t+=r),t},0)}function Qke(i,e){let t=0,n=0;return i.forEach(r=>{const s=e?+r[e]:+r;Ce(s)&&(t+=s,n++)}),t/n}function Jke(i,e){const t=Qke(i,e);return i.length<=1?0:i.reduce((r,s)=>r+(e?+s[e]:+s-t)**2,0)/(i.length-1)}function k0t(i,e){return Math.sqrt(Jke(i,e))}function E0t(i,e){return Int(i.map(t=>t[e]))}function A0t(i,e,t){const{predict:n}=qht(i,l=>l[e],l=>l[t]),r=qke(i,e),s=jX(i,e),a=n(r),o=n(s);return[{[e]:r,[t]:a},{[e]:s,[t]:o}]}function T0t(i){let e="center",t="middle";return e=(i=uf(i))>=Math.PI*(7/6)&&i<=Math.PI*(11/6)?"right":i>=Math.PI*(1/6)&&i<=Math.PI*(5/6)?"left":"center",t=i>=Math.PI*(5/3)||i<=Math.PI*(1/3)?"bottom":i>=Math.PI*(2/3)&&i<=Math.PI*(4/3)?"top":"middle",{align:e,baseline:t}}function Pce(i,e){const t=KL(i),n=KL(e),r=Math.asin((i.x*e.y-e.x*i.y)/t/n),s=Math.acos((i.x*e.x+i.y*e.y)/t/n);return r<0?-s:s}function KL(i,e={x:0,y:0}){return ds.distancePP(i,e)}function P0t(i,e=2){const t=i.reduce((u,c)=>u+(isNaN(c)?0:c),0);if(t===0)return 0;const n=Math.pow(10,e),r=i.map(u=>(isNaN(u)?0:u)/t*n*100),s=100*n,a=r.map(u=>Math.floor(u));let o=a.reduce((u,c)=>u+c,0);const l=r.map((u,c)=>u-a[c]);for(;o<s;){let u=Number.NEGATIVE_INFINITY,c=null;for(let d=0;d<l.length;d++)l[d]>u&&(u=l[d],c=d);++a[c],l[c]=0,++o}return a.map(u=>u/n)}function hs(i,e,t){let n=!1;if(e&&Pe(e)){for(const r of i)for(const s of r.getSeries(t))if(n=!!e.call(null,s),n)return n}return n}function eEe(i,e){const t=[];for(const n of i)for(const r of n.getSeries(e))t.push(r);return t}const W_=(i,e)=>{for(let t=0;t<i.length;t++){const n=i[t].getSeries();for(let r=0;r<n.length;r++){const s=n[r];if(e&&s&&s.coordinate===e||!e&&s)return s}}return null};function Y3(i){return function(e){let t;return t=ke(i)?i.reduce((n,r)=>n==null?void 0:n[r],e):e==null?void 0:e[i],t}}var xe;(function(i){i.area="area",i.line="line",i.bar="bar",i.bar3d="bar3d",i.rangeColumn="rangeColumn",i.rangeColumn3d="rangeColumn3d",i.rangeArea="rangeArea",i.dot="dot",i.geo="geo",i.link="link",i.map="map",i.pie="pie",i.pie3d="pie3d",i.radar="radar",i.rose="rose",i.scatter="scatter",i.circularProgress="circularProgress",i.wordCloud="wordCloud",i.wordCloud3d="wordCloud3d",i.funnel="funnel",i.funnel3d="funnel3d",i.linearProgress="linearProgress",i.boxPlot="boxPlot",i.sankey="sankey",i.gaugePointer="gaugePointer",i.gauge="gauge",i.treemap="treemap",i.sunburst="sunburst",i.circlePacking="circlePacking",i.waterfall="waterfall",i.heatmap="heatmap",i.correlation="correlation",i.liquid="liquid",i.venn="venn"})(xe||(xe={}));var Oce;(function(i){i.label="label",i.point="point",i.line="line",i.area="area",i.bar="bar",i.bar3d="bar3d",i.boxPlot="boxPlot",i.outlier="outlier",i.circlePacking="circlePacking",i.group="group",i.gridBackground="gridBackground",i.grid="grid",i.dot="dot",i.title="title",i.subTitle="subTitle",i.symbol="symbol",i.funnel="funnel",i.funnel3d="funnel3d",i.transform="transform",i.transform3d="transform3d",i.transformLabel="transformLabel",i.outerLabel="outerLabel",i.outerLabelLine="outerLabelLine",i.pin="pin",i.pinBackground="pinBackground",i.pointer="pointer",i.segment="segment",i.track="track",i.cell="cell",i.cellBackground="cellBackground",i.link="link",i.arrow="arrow",i.pie="pie",i.pie3d="pie3d",i.labelLine="labelLine",i.progress="progress",i.minLabel="minLabel",i.maxLabel="maxLabel",i.rose="rose",i.node="node",i.sunburst="sunburst",i.nonLeaf="nonLeaf",i.leaf="leaf",i.nonLeafLabel="nonLeafLabel",i.leaderLine="leaderLine",i.stackLabel="stackLabel",i.word="word",i.fillingWord="fillingWord",i.nodePoint="nodePoint",i.ripplePoint="ripplePoint",i.centerPoint="centerPoint",i.centerLabel="centerLabel",i.barBackground="barBackground",i.lineLabel="lineLabel",i.areaLabel="areaLabel",i.liquid="liquid",i.liquidBackground="liquidBackground",i.liquidOutline="liquidOutline",i.circle="circle",i.overlap="overlap",i.overlapLabel="overlapLabel"})(Oce||(Oce={}));const Ut="__VCHART",FS=500,BS=500,O0t=`${Ut}_LABEL_VISIBLE`,G7=`${Ut}_ARC_TRANSFORM_VALUE`,M0t=`${Ut}_ARC_RATIO`,Mce=`${Ut}_ARC_START_ANGLE`,Ice=`${Ut}_ARC_END_ANGLE`,I0t=`${Ut}_ARC_K`,Og=`${Ut}_ARC_MIDDLE_ANGLE`,R0t=`${Ut}_ARC_QUADRANT`,D0t=`${Ut}_ARC_RADIAN`,S$=-Math.PI/2,zX=3*Math.PI/2,HX=-90,tEe=270,$T=.6,av=9,Iu=0;var wv;(function(i){i.enter="enter",i.update="update",i.exit="exit",i.group="group",i.connectNulls="connectNulls"})(wv||(wv={}));var Sn;(function(i){i.enter="enter",i.update="update",i.exit="exit",i.unChange="unChange"})(Sn||(Sn={}));var nt;(function(i){i.arc="arc",i.arc3d="arc3d",i.area="area",i.image="image",i.line="line",i.path="path",i.rect="rect",i.rect3d="rect3d",i.rule="rule",i.shape="shape",i.symbol="symbol",i.text="text",i.richtext="richtext",i.polygon="polygon",i.pyramid3d="pyramid3d",i.circle="circle",i.cell="cell",i.interval="interval",i.group="group",i.glyph="glyph",i.component="component",i.largeRects="largeRects",i.largeSymbols="largeSymbols"})(nt||(nt={}));var Tr;(function(i){i.axis="axis",i.grid="grid",i.legend="legend",i.slider="slider",i.label="label",i.datazoom="datazoom",i.player="player",i.title="title",i.scrollbar="scrollbar"})(Tr||(Tr={}));var Rce;(function(i){i[i.player=1]="player",i[i.rollUp=2]="rollUp",i[i.drillDown=3]="drillDown",i[i.slider=4]="slider",i[i.datazoom=5]="datazoom",i[i.legend=6]="legend",i[i.scrollbar=7]="scrollbar",i[i.brush=8]="brush",i[i.normal=9]="normal"})(Rce||(Rce={}));var df;(function(i){i.lineAxis="lineAxis",i.circleAxis="circleAxis"})(df||(df={}));var Ga;(function(i){i.lineAxisGrid="lineAxisGrid",i.circleAxisGrid="circleAxisGrid"})(Ga||(Ga={}));var Dce;(function(i){i.discreteLegend="discreteLegend",i.colorLegend="colorLegend",i.sizeLegend="sizeLegend"})(Dce||(Dce={}));var Lce;(function(i){i.lineCrosshair="lineCrosshair",i.rectCrosshair="rectCrosshair",i.sectorCrosshair="sectorCrosshair",i.circleCrosshair="circleCrosshair",i.polygonCrosshair="polygonCrosshair",i.ringCrosshair="ringCrosshair"})(Lce||(Lce={}));var Fce;(function(i){i.symbolLabel="symbolLabel",i.rectLabel="rectLabel",i.lineLabel="lineLabel",i.dataLabel="dataLabel"})(Fce||(Fce={}));var Bce;(function(i){i.continuousPlayer="continuousPlayer",i.discretePlayer="discretePlayer"})(Bce||(Bce={}));var wg;(function(i){i.before="before",i.layouting="layouting",i.reevaluate="reevaluate",i.after="after"})(wg||(wg={}));var At;(function(i){i.BEFORE_EVALUATE_DATA="beforeEvaluateData",i.AFTER_EVALUATE_DATA="afterEvaluateData",i.BEFORE_EVALUATE_SCALE="beforeEvaluateScale",i.AFTER_EVALUATE_SCALE="afterEvaluateScale",i.BEFORE_PARSE_VIEW="beforeParseView",i.AFTER_PARSE_VIEW="afterParseView",i.BEFORE_TRANSFORM="beforeTransform",i.AFTER_TRANSFORM="afterTransform",i.BEFORE_CREATE_VRENDER_STAGE="beforeCreateVRenderStage",i.AFTER_CREATE_VRENDER_STAGE="afterCreateVRenderStage",i.BEFORE_CREATE_VRENDER_LAYER="beforeCreateVRenderLayer",i.AFTER_CREATE_VRENDER_LAYER="afterCreateVRenderLayer",i.BEFORE_STAGE_RESIZE="beforeStageResize",i.AFTER_STAGE_RESIZE="afterStageResize",i.BEFORE_VRENDER_DRAW="beforeVRenderDraw",i.AFTER_VRENDER_DRAW="afterVRenderDraw",i.BEFORE_MARK_JOIN="beforeMarkJoin",i.AFTER_MARK_JOIN="afterMarkJoin",i.BEFORE_MARK_UPDATE="beforeMarkUpdate",i.AFTER_MARK_UPDATE="afterMarkUpdate",i.BEFORE_MARK_STATE="beforeMarkState",i.AFTER_MARK_STATE="afterMarkState",i.BEFORE_MARK_ENCODE="beforeMarkEncode",i.AFTER_MARK_ENCODE="afterMarkEncode",i.BEFORE_DO_LAYOUT="beforeDoLayout",i.AFTER_DO_LAYOUT="afterDoLayout",i.BEFORE_MARK_LAYOUT_END="beforeMarkLayoutEnd",i.AFTER_MARK_LAYOUT_END="afterMarkLayoutEnd",i.BEFORE_DO_RENDER="beforeDoRender",i.AFTER_DO_RENDER="afterDoRender",i.BEFORE_MARK_RENDER_END="beforeMarkRenderEnd",i.AFTER_MARK_RENDER_END="afterMarkRenderEnd",i.BEFORE_CREATE_VRENDER_MARK="beforeCreateVRenderMark",i.AFTER_CREATE_VRENDER_MARK="afterCreateVRenderMark",i.BEFORE_ADD_VRENDER_MARK="beforeAddVRenderMark",i.AFTER_ADD_VRENDER_MARK="afterAddVRenderMark",i.AFTER_VRENDER_NEXT_RENDER="afterVRenderNextRender",i.BEFORE_ELEMENT_UPDATE_DATA="beforeElementUpdateData",i.AFTER_ELEMENT_UPDATE_DATA="afterElementUpdateData",i.BEFORE_ELEMENT_STATE="beforeElementState",i.AFTER_ELEMENT_STATE="afterElementState",i.BEFORE_ELEMENT_ENCODE="beforeElementEncode",i.AFTER_ELEMENT_ENCODE="afterElementEncode",i.ANIMATION_START="animationStart",i.ANIMATION_END="animationEnd",i.ELEMENT_ANIMATION_START="elementAnimationStart",i.ELEMENT_ANIMATION_END="elementAnimationEnd",i.ALL_ANIMATION_START="allAnimationStart",i.ALL_ANIMATION_END="allAnimationEnd"})(At||(At={}));var OW;(function(i){i.signal="signal",i.data="data",i.scale="scale",i.coordinate="coordinate",i.mark="mark"})(OW||(OW={}));var ou;(function(i){i.active="active",i.selected="selected",i.highlight="highlight",i.blur="blur"})(ou||(ou={}));const U_="__vgrammar_scene_item__",iEe=[nt.line,nt.area],L0t=[nt.arc3d,nt.rect3d,nt.pyramid3d],Ru="key",K3=[{}],F0t=["key"],B0t=!0,$0t=!0,N0t=!1,j0t=null,z0t=!0,$ce="VGRAMMAR_IMMEDIATE_ANIMATION",Nce=0,nEe=1e3,MW=0,jce=0,zce=!1,IW=!1,RW="quintInOut",Hce={stopWhenStateChange:!1,immediatelyApply:!0},H0t="VGRAMMAR_ANIMATION_PARAMETERS";function VX(i,e){return we(i).reduce((t,n)=>{const r=ct(n)?e.getGrammarById(n):n;return r&&t.push(r),t},[])}function V0t(i){return!Pe(i)&&!!(i!=null&&i.signal)}function W0t(i){return!Pe(i)&&!!(i!=null&&i.callback)}function vl(i,e){if(Y(i))return[];if(V0t(i)){const t=i.signal;if(ct(t))return we(e.getGrammarById(t));if((t==null?void 0:t.grammarType)==="signal")return[t]}else if(W0t(i))return VX(i.dependency,e);return[]}function Xy(i){return Pe(i)||(i==null?void 0:i.signal)||!!(i!=null&&i.callback)}function Ps(i,e,t,n){if(Y(i))return i;if(Pe(i))return n?i.call(null,t,n,e):i.call(null,t,e);if(i.signal){const r=i.signal;return ct(r)?e==null?void 0:e[r]:r.output()}return i.callback?n?i.callback.call(null,t,n,e):i.callback.call(null,t,e):i}function U0t(i,e){if(Y(i))return i;if(Pe(i))return i.call(null,e);if(i.signal){const t=i.signal;return ct(t)?e==null?void 0:e[t]:t.output()}return i.callback?i.callback.call(null,e):i}function NT(i,e){return dP(i)?i.output():e[i]}function G0t(i){return i&&(i.signal||i.callback)}const dP=i=>i&&!Y(i.grammarType),cx=i=>Pe(i)?i:e=>e[i];function x$(i){return!!(i!=null&&i.scale)}function WX(i){return!!(i!=null&&i.field)}function hy(i,e){if(!i)return[];let t=[];return i.scale&&(t=dP(i.scale)?[i.scale]:we(e.getScaleById(i.scale))),t.concat(vl(i,e))}function XL(i,e){switch(e){case"line":return i.some(t=>["x","y","defined"].includes(t));case"area":return i.some(t=>["x","y","x1","y1","defined"].includes(t));case"largeRects":return i.some(t=>["x","y","width","y1"].includes(t));case"largeSymbols":return i.some(t=>["x","y"].includes(t))}return!1}function Y0t(i){const{x:e,y:t,x1:n,y1:r}=i;return Ce(e)&&Ce(t)&&Ce(n)&&Ce(r)?[{x:e,y:t},{x:n,y:r}]:[]}function K0t(i,e,t,n){return!i||!i.length||i.length===1&&!e?[]:i.some(r=>XL(Object.keys(r.nextAttrs),"line"))?i.map((r,s)=>{var a;const o=r.nextAttrs,{x:l,y:u,x1:c,y1:d,defined:h}=(a=t==null?void 0:t[s])!==null&&a!==void 0?a:{};return Y(o.x)&&(o.x=l),Y(o.y)&&(o.y=u),Y(o.defined)&&h===!1&&(o.defined=!1),o.context=r.key,n&&(Y(o.x1)&&(o.x1=c),Y(o.y1)&&(o.y1=d)),o}):t??[]}function X0t(i,e,t=[]){if(!i||!i.length||i.length===1&&!e)return[];const n=new Float32Array(4*i.length);return i.forEach((r,s)=>{var a,o,l,u;const c=r.nextAttrs,d=(a=c.x)!==null&&a!==void 0?a:t[4*s],h=(o=c.y)!==null&&o!==void 0?o:t[4*s+1],p=(l=c.width)!==null&&l!==void 0?l:t[4*s+2],f=(u=c.y1)!==null&&u!==void 0?u:t[4*s+3];n[4*s]=d,n[4*s+1]=h,n[4*s+2]=p,n[4*s+3]=f-h}),n}function q0t(i,e,t=[]){if(!i||!i.length||i.length===1&&!e)return[];const n=new Float32Array(2*i.length);return i.forEach((r,s)=>{var a,o;const l=r.nextAttrs,u=(a=l.x)!==null&&a!==void 0?a:t[2*s],c=(o=l.y)!==null&&o!==void 0?o:t[2*s+1];n[2*s]=u,n[2*s+1]=c}),n}function Z0t(i,e){if(["x","y","dx","dy"].includes(e))return!0;switch(i){case nt.arc:return["innerRadius","outerRadius","startAngle","endAngle"].includes(e);case nt.group:case nt.rect:case nt.image:return["width","height","y1"].includes(e);case nt.path:case nt.shape:return["path","customPath"].includes(e);case nt.line:return e==="defined";case nt.area:return["x1","y1","defined"].includes(e);case nt.rule:return["x1","y1"].includes(e);case nt.symbol:return e==="size";case nt.polygon:return e==="points";case nt.text:return e==="text"}return!1}function Q0t(i){return[nt.line,nt.area,nt.largeRects,nt.largeSymbols].includes(i)}function mg(i,e,t,n,r){t&&(Xy(t)?e.forEach(s=>{const a=Ps(t,n,s.datum,i);Object.assign(s.nextAttrs,a)}):Object.keys(t).forEach(s=>{var a,o;const l=t[s],u=r&&!Z0t(i.mark.markType,s)?[e[0]]:e;if(x$(l)){const c=NT(l.scale,n),d=(a=l==null?void 0:l.offset)!==null&&a!==void 0?a:0,h=!Y(l.band)&&c.bandwidth?c.bandwidth()*l.band:null,p=ct(l==null?void 0:l.field),f=p?lp(l.field):null;let g=p?null:Y(l==null?void 0:l.value)?0:(o=c.scale)===null||o===void 0?void 0:o.call(c,l.value);u.forEach(v=>{var m;p&&(g=(m=c.scale)===null||m===void 0?void 0:m.call(c,f(v.datum))),v.nextAttrs[s]=Xe(g)||Xe(h)?g+d+h:g})}else if(WX(l)){const c=lp(l.field);u.forEach(d=>{d.nextAttrs[s]=c(d.datum)})}else u.forEach(c=>{c.nextAttrs[s]=Ps(l,n,c.datum,i)})}))}function Yv(i,e,t,n){if(!i)return null;if(Xy(i))return Ps(i,n,e,t);const r={};return Object.keys(i).forEach(s=>{var a,o,l;const u=i[s];if(x$(u)){const c=NT(u.scale,n),d=(a=u==null?void 0:u.offset)!==null&&a!==void 0?a:0,h=!Y(u.band)&&c.bandwidth?c.bandwidth()*u.band:null,p=ct(u==null?void 0:u.field),f=p?lp(u.field):null,g=p?(o=c.scale)===null||o===void 0?void 0:o.call(c,f(e)):Y(u==null?void 0:u.value)?0:(l=c.scale)===null||l===void 0?void 0:l.call(c,u.value);r[s]=Xe(g)||Xe(h)?g+d+h:g}else if(WX(u)){const c=lp(u.field);r[s]=c(e)}else r[s]=Ps(u,n,e,t)}),r}class J0t{constructor(e,t,n,r){this.channelEncoder={},this.marks=e,t&&this.registerChannelEncoder(t),n&&this.registerDefaultEncoder(n),this.progressiveChannels&&this.registerProgressiveChannels(r)}getMarks(){return this.marks}registerChannelEncoder(e,t){return ct(e)?this.channelEncoder[e]=t:Object.assign(this.channelEncoder,e),this}registerFunctionEncoder(e){return this.functionEncoder=e,this}registerDefaultEncoder(e){return this.defaultEncoder=e,this}registerProgressiveChannels(e){return this.progressiveChannels=we(e),this}getChannelEncoder(){return this.channelEncoder}getFunctionEncoder(){return this.functionEncoder}getDefaultEncoder(){return this.defaultEncoder}getProgressiveChannels(){return this.progressiveChannels}}let He=class Cs{static registerPlotMarks(e,t){Cs._plotMarks[e]=t}static createPlotMark(e,t){return Cs._plotMarks[e]?new Cs._plotMarks[e](t):null}static registerMark(e,t){Cs._marks[e]=t}static createMark(e,t,n){return Cs._marks[e]?new Cs._marks[e](t,e,n):null}static hasMark(e){return!!Cs._marks[e]}static registerComponent(e,t){Cs._components[e]=t}static createComponent(e,t,n,r){const s=Cs._components[e];return s?new s(t,n,r):null}static hasComponent(e){return!!Cs._components[e]}static registerGraphicComponent(e,t){Cs._graphicComponents[e]=t}static createGraphicComponent(e,t,n){const r=Cs._graphicComponents[e];return r?r(t,n):null}static registerTransform(e,t,n){Cs._transforms[e]=Object.assign(t,{type:e,isBuiltIn:!!n})}static getTransform(e){return Cs._transforms[e]}static unregisterRuntimeTransforms(){Object.keys(Cs._transforms).forEach(e=>{Cs._transforms[e]&&!Cs._transforms[e].isBuiltIn&&(Cs._transforms[e]=null)})}static registerGrammar(e,t,n){Cs._grammars[e]={grammarClass:t,specKey:n??e}}static createGrammar(e,t,n){var r;const s=(r=Cs._grammars[e])===null||r===void 0?void 0:r.grammarClass;return s?new s(t,n):null}static getGrammars(){return this._grammars}static getGlyph(e){return Cs._glyphs[e]}static createInteraction(e,t,n){const r=Cs._interactions[e];return r?new r(t,n):null}static hasInteraction(e){return!!Cs._interactions[e]}};He._plotMarks={},He._marks={},He._components={},He._graphicComponents={},He._transforms={},He._grammars={},He._glyphs={},He._animations={},He._interactions={},He._graphics={},He.registerGlyph=(i,e,t,n,r)=>(He._glyphs[i]=new J0t(e,t,n,r),He._glyphs[i]),He.registerAnimationType=(i,e)=>{He._animations[i]=e},He.getAnimationType=i=>He._animations[i],He.registerInteraction=(i,e)=>{He._interactions[i]=e},He.registerGraphic=(i,e)=>{He._graphics[i]=e},He.getGraphicType=i=>He._graphics[i],He.createGraphic=(i,e)=>{const t=He._graphics[i];return t?t(e):null};const rEe=i=>!!nt[i];function VE(i,e,t={}){var n;const r=He.getGraphicType(e)?He.createGraphic(e,t):He.createGraphicComponent(e,t,{skipDefault:(n=i==null?void 0:i.spec)===null||n===void 0?void 0:n.skipTheme});return r||Kn.getInstance().error(`create ${e} graphic failed!`),r}function eyt(i,e,t={}){if(!He.getGraphicType(nt.glyph))return;const n=He.createGraphic(nt.glyph,t),r=e.getMarks(),s=Object.keys(r).map(a=>{if(He.getGraphicType(r[a])){const o=He.createGraphic(r[a]);if(o)return o.name=a,o}});return n.setSubGraphic(s),n}const qL=i=>{i&&(i[U_]=null,i.release(),i.parent&&i.parent.removeChild(i))},Vce=["fillOpacity"],Wce=(i,e,t)=>{var n;return e==="fillOpacity"?(i.fillOpacity=(n=t.fillOpacity)!==null&&n!==void 0?n:1,["fillOpacity"]):[]};function tyt(i,e,t,n,r,s){const a=r.getGraphicAttribute(i,!1,s);if(a)return e.forEach(l=>{l in n&&(a[l]=n[l])}),a;const o={};return e.forEach(l=>{o[l]=n[l]}),t[i]=o,o}const hP={rect3d:[{channels:["x","y","z","x1","y1","width","height","length"],transform:(i,e,t)=>{var n,r,s,a,o,l,u,c,d,h,p,f;Ce(e.width)||!Ce(e.x1)&&Ce(t.width)?(i.x=Math.min((n=t.x)!==null&&n!==void 0?n:0,(r=t.x1)!==null&&r!==void 0?r:1/0),i.width=t.width):Ce(e.x1)||!Ce(e.width)&&Ce(t.x1)?(i.x=Math.min(t.x,t.x1),i.width=Math.abs(t.x1-t.x)):(i.x=Math.min((s=t.x)!==null&&s!==void 0?s:0,(a=t.x1)!==null&&a!==void 0?a:1/0),i.width=t.width),Ce(e.height)||!Ce(e.y1)&&Ce(t.height)?(i.y=Math.min((o=t.y)!==null&&o!==void 0?o:0,(l=t.y1)!==null&&l!==void 0?l:1/0),i.height=t.height):Ce(e.y1)||!Ce(e.height)&&Ce(t.y1)?(i.y=Math.min(t.y,t.y1),i.height=Math.abs(t.y1-t.y)):(i.y=Math.min((u=t.y)!==null&&u!==void 0?u:0,(c=t.y1)!==null&&c!==void 0?c:1/0),i.height=t.height),Ce(e.length)||!Ce(e.z1)&&Ce(t.length)?(i.z=Math.min((d=t.z)!==null&&d!==void 0?d:0,(h=t.z1)!==null&&h!==void 0?h:1/0),i.length=t.length):Ce(e.z1)||!Ce(e.length)&&Ce(t.z1)?(i.z=Math.min(t.z,t.z1),i.length=Math.abs(t.z1-t.z)):(i.z=Math.min((p=t.z)!==null&&p!==void 0?p:0,(f=t.z1)!==null&&f!==void 0?f:1/0),i.length=t.length)},storedAttrs:"sizeAttrs"}],[nt.text]:[{channels:["text","limit","autoLimit","maxLineWidth","textType"],transform:(i,e,t)=>{var n,r;const s=(n=t.limit)!==null&&n!==void 0?n:1/0,a=(r=t.autoLimit)!==null&&r!==void 0?r:1/0,o=Math.min(s,a),l=np(t.text)&&!Y(t.text.text),u=l?t.text.text:t.text;i.maxLineWidth=o===1/0?t.maxLineWidth:o,(l||t.textType)&&(t.text.type==="rich"||t.textType==="rich")?i.textConfig=u:i.text=u},storedAttrs:"limitAttrs"}],[nt.rule]:[{channels:["x","y","x1","y1"],transform:(i,e,t)=>{const n=Y0t(t);i.points=n,i.x=0,i.y=0},storedAttrs:"pointAttrs"}],[nt.symbol]:[{channels:["shape","symbolType"],transform:(i,e,t)=>{var n;i.symbolType=(n=e.shape)!==null&&n!==void 0?n:e.symbolType}},{channels:["image","fill","background"],transform:(i,e,t)=>{e.image?(i.background=e.image,i.fill=!1):t.image?(i.background=t.image,i.fill=!1):(i.fill=t.fill,i.background=t.background)},storedAttrs:"imageAttrs"}]};function iyt(i,e){var t;return((t=hP[i])!==null&&t!==void 0?t:[]).reduce((n,r)=>(r.channels.forEach(s=>{zh(e,s)&&(n[s]=e[s])}),n),{})}const ZL=(i,e,t,n)=>{const r={},s=e?Object.keys(e):[],a=ct(i)?hP[i]:i;if(a&&a.length){const o=[];s.forEach(l=>{let u=!1;a.forEach((c,d)=>{if(c.channels.includes(l)){if(!o[d])if(c.storedAttrs){const h=tyt(c.storedAttrs,c.channels,r,e,t,n);c.transform(r,e,h)}else c.transform(r,e,null);o[d]=!0,u=!0}}),u||(Vce.includes(l)?Wce(r,l,e):r[l]=e[l])})}else s.forEach(o=>{Vce.includes(o)?Wce(r,o,e):r[o]=e[o]});return r},nyt=(i,e)=>{var t,n;if(i===e)return!0;const r=(t=i&&i.length)!==null&&t!==void 0?t:0;return r===((n=e&&e.length)!==null&&n!==void 0?n:0)&&r!==0&&i.every((s,a)=>!s&&!e[a]||s&&e[a]&&s.color===e[a].color&&s.offset===e[a].offset)},ryt=(i,e)=>{if(i===e)return!0;if(typeof i!=typeof e||ct(i)||i.gradient!==e.gradient)return!1;const t=Object.keys(i),n=Object.keys(e);return t.length===n.length&&t.every(r=>r==="stops"?nyt(i[r],e[r]):i[r]===e[r])},syt=(i,e)=>i.length===e.length&&i.join("-")===e.join("-"),ayt=(i,e,t)=>!(!Y(i)||!Y(e))||!Y(i)&&!Y(e)&&(t==="lineDash"?syt(i,e):t==="stroke"||t==="fill"?ryt(i,e):i===e),oyt=["fill","fillOpacity","background","texture","texturePadding","textureSize","textureColor"],sEe=["stroke","strokeOpacity","lineDash","lineDashOffset","lineCap","lineJoin","lineWidth","miterLimit"],lyt=oyt.concat(sEe);function DW(i,e,t){var n;if(!i||i.length<=1)return null;const r=((n=t==null?void 0:t.mark)===null||n===void 0?void 0:n.markType)==="area"?lyt:sEe,s=[];let a=null;return i.forEach((o,l)=>{a&&r.every(u=>ayt(a[u],o[u],u))||(s.length&&(s[s.length-1].endIndex=l),a=o,s.push({attrs:a,startIndex:l}))}),s.length>=2?s.map(o=>{const l=UX(o.attrs);return l.points=e.slice(o.startIndex,Y(o.endIndex)?e.length:o.endIndex),l}):null}function uyt(i,e,t){if(!i||i.length<=1)return null;const n=!!t&&t.mark.getSpec().enableSegments;let r,s,a=[],o=null;if(i.forEach((l,u)=>{o=e[u],o&&o.defined!==!1?(r||(s={items:[],points:[]},a.push(s)),s.points.push(o),s.items.push(l),r===!1&&(s.isConnect=!0,s={items:[],points:[]},a.push(s)),r=!0):r=!1}),a=a.filter(l=>l.points.length>0),a.length>=2){const l=[];return a.forEach(u=>{if(u.isConnect)return void l.push({points:u.points,isConnect:!0});if(n){const d=DW(u.items,u.points,t);if(d)return void d.forEach(h=>{l.push(h)})}const c=UX(u.items[0]);c.points=u.points,l.push(c)}),l}return n?DW(i,e,t):null}function cyt(i){return i?i.reduce((e,t)=>e.concat(t.points),[]):null}function UX(i){const e={};return i&&Object.keys(i).forEach(t=>{t!=="x"&&t!=="y"&&t!=="x1"&&t!=="y1"&&t!=="defined"&&t!=="size"&&t!=="width"&&t!=="height"&&t!=="context"&&(e[t]=i[t])}),e}let aEe=class{constructor(e){this.data=null,this.states=[],this.diffState=Sn.enter,this.isReserved=!1,this.runtimeStatesEncoder=null,this.items=[],this.getStateAttrs=(t,n)=>{var r,s,a,o;const l=!Y((r=this.runtimeStatesEncoder)===null||r===void 0?void 0:r[t]),u=l?Object.assign(Object.assign({},(s=this.mark.getSpec().encode)===null||s===void 0?void 0:s[t]),this.runtimeStatesEncoder[t]):(a=this.mark.getSpec().encode)===null||a===void 0?void 0:a[t];if(!u)return{};if(Pe(u))return u(this.getDatum(),this,t,n);if(!l&&(!((o=this.graphicItem.states)===null||o===void 0)&&o[t]))return this.graphicItem.states[t];const c=this.items.map(h=>Object.assign({},h,{nextAttrs:{}}));mg(this,c,u,this.mark.parameters());const d=this.transformElementItems(c,this.mark.markType);return this.graphicItem.states?this.graphicItem.states[t]||(this.graphicItem.states[t]=d):this.graphicItem.states={[t]:d},d},this.mark=e}initGraphicItem(e={}){if(this.graphicItem)return;const t=this.mark.getAttributeTransforms();this.graphicItem=this.mark.addGraphicItem(t?ZL(t,e,this):e,this.groupKey),this.graphicItem&&(this.graphicItem[U_]=this,t&&(this.graphicItem.onBeforeAttributeUpdate=n=>this.mark?ZL(t,n,this):n),this.clearGraphicAttributes(),this.mark.needAnimate()&&(this.setPrevGraphicAttributes(null),this.setNextGraphicAttributes(e),this.setFinalGraphicAttributes(e)))}updateGraphicItem(){if(!this.graphicItem)return;this.diffState===Sn.exit?this.graphicItem.releaseStatus="willRelease":this.graphicItem.releaseStatus=void 0;const e=this.mark.animate.getAnimationConfigs("state");e.length!==0&&(this.graphicItem.stateAnimateConfig=e[0].originConfig)}getGraphicItem(){return this.graphicItem}removeGraphicItem(){var e,t;this.graphicItem&&((t=(e=this.graphicItem.animates)===null||e===void 0?void 0:e.forEach)===null||t===void 0||t.call(e,n=>n.stop())),this.graphicItem&&(qL(this.graphicItem),this.graphicItem[U_]=null,this.graphicItem=null)}resetGraphicItem(){this.graphicItem&&(this.graphicItem=null)}getBounds(){var e;return(e=this.graphicItem)===null||e===void 0?void 0:e.AABBBounds}getStates(){return this.states}updateData(e,t,n){var r;this.mark.emit(At.BEFORE_ELEMENT_UPDATE_DATA,{groupKey:e,data:t,key:n},this),this.data=t;const s=cx(n);return this.items=t.map(a=>({datum:a,key:s(a),view:this.mark.view,nextAttrs:{}})),this.groupKey=e,this.key=this.mark.isCollectionMark()?e:(r=this.items)===null||r===void 0?void 0:r[0].key,this.mark.emit(At.AFTER_ELEMENT_UPDATE_DATA,{groupKey:e,data:t,key:n},this),this.items}state(e,t){var n;const r=this.mark.isCollectionMark(),s=this.states,a=we(Ps(e,t,this.getDatum(),this)),o=(n=this.mark.getSpec())===null||n===void 0?void 0:n.stateSort;o&&a.length&&a.sort(o);const l=a.length!==s.length||a.some((u,c)=>u!==s[c]);this.states=a,!r&&l&&this.diffState===Sn.unChange&&(this.diffState=Sn.update)}encodeGraphic(e){this.coordinateTransformEncode(this.items);const t=this.transformElementItems(this.items,this.mark.markType);e&&(this.mark.isCollectionMark()&&delete e.defined,Object.assign(t,e)),this.graphicItem?(this.graphicItem.clearStates(),this.graphicItem.states={},this.graphicItem.stateProxy=null,this.applyGraphicAttributes(t)):this.initGraphicItem(t),this.diffState!==Sn.enter&&this.diffState!==Sn.update||!this.states.length||this.useStates(this.states),this.mark.markType===nt.shape&&(this.graphicItem.datum=this.items[0].datum),this.items.forEach(n=>{n.nextAttrs={}}),this._setCustomizedShape()}_setCustomizedShape(){var e;if(!this.graphicItem)return;const t=(e=this.mark.getSpec())===null||e===void 0?void 0:e.setCustomizedShape;t&&(this.graphicItem.pathProxy=n=>t(this.data,n,new ba))}encodeItems(e,t,n=!1,r){const s=this.mark.isCollectionMark(),a=t[wv.update],o=t[wv.enter],l=t[wv.exit],u=this.mark.isLargeMode()||s&&!this.mark.getSpec().enableSegments;this.diffState===Sn.enter?(o&&mg(this,e,o,r,u),a&&mg(this,e,a,r,u)):this.diffState===Sn.update?((s&&o||n)&&mg(this,e,o,r,u),a&&mg(this,e,a,r,u)):this.diffState===Sn.exit&&l&&(n&&mg(this,e,o,r,u),mg(this,e,l,r,u))}coordinateTransformEncode(e){if(!this.mark.coord||this.mark.markType==="arc"||this.mark.disableCoordinateTransform===!0)return;const t=this.mark.coord.output();e.forEach(n=>{const r=n.nextAttrs,s=t.convert(r);Object.assign(r,s)})}clearStates(e){const t=Ir(e)?e:this.mark.animate.getAnimationConfigs("state").length!==0;this.states=[],this.graphicItem&&this.graphicItem.clearStates(t),this.runtimeStatesEncoder&&(this.runtimeStatesEncoder={})}_updateRuntimeStates(e,t){this.runtimeStatesEncoder||(this.runtimeStatesEncoder={}),this.runtimeStatesEncoder[e]=t}hasState(e){return this.states&&e&&this.states.includes(e)}updateStates(e){if(!this.graphicItem)return!1;let t=this.states.slice();const n=this.mark.getSpec().encode;let r=!1,s=!1;return Object.keys(e).forEach(a=>{var o;if(!a)return;const l=e[a];if(yi(l)&&!Rr(l,(o=this.runtimeStatesEncoder)===null||o===void 0?void 0:o[a]))t.includes(a)?r=!0:t.push(a),this._updateRuntimeStates(a,l),s=!0;else if(l)!t.includes(a)&&(n!=null&&n[a])&&(t.push(a),s=!0);else if(t.length){const u=t.filter(c=>c!==a);u.length!==t.length&&(s=!0,t=u),this.runtimeStatesEncoder&&this.runtimeStatesEncoder[a]&&(this.runtimeStatesEncoder[a]=null)}}),r&&this.graphicItem.clearStates(),!!s&&(this.useStates(t),!0)}addState(e,t){var n;if(!this.graphicItem)return!1;if(t&&ct(e)&&!Rr(t,(n=this.runtimeStatesEncoder)===null||n===void 0?void 0:n[e])){const a=this.states.slice();return a.includes(e)?this.graphicItem.clearStates():a.push(e),this._updateRuntimeStates(e,t),this.useStates(a),!0}const r=this.mark.getSpec().encode,s=we(e).reduce((a,o)=>(o&&!a.includes(o)&&(r!=null&&r[o])&&a.push(o),a),this.states.slice());return s.length!==this.states.length&&(this.useStates(s),!0)}removeState(e){if(!this.graphicItem)return!1;const t=we(e);if(!t.length)return!1;const n=this.states.filter(r=>!t.includes(r));return n.length!==this.states.length&&(this.runtimeStatesEncoder&&t.forEach(r=>{this.runtimeStatesEncoder[r]=null}),this.useStates(n),!0)}useStates(e,t){var n;if(!this.graphicItem)return!1;this.mark.emit(At.BEFORE_ELEMENT_STATE,{states:e},this);const r=(n=this.mark.getSpec())===null||n===void 0?void 0:n.stateSort;r&&e.sort(r),this.states=e;const s=Ir(t)?t:this.mark.animate.getAnimationConfigs("state").length!==0;return this.graphicItem.stateProxy=this.getStateAttrs,this.graphicItem.useStates(this.states,s),this.mark.emit(At.AFTER_ELEMENT_STATE,{states:e},this),!0}diffAttributes(e){const t={},n=this.getFinalGraphicAttributes();for(const r in e)JB(r,n,e)&&zh(n,r)||(t[r]=e[r]);return t}transformElementItems(e,t,n){var r,s,a,o,l;const u=e[0];if(!u.nextAttrs||Object.keys(u.nextAttrs).length===0)return{};let c=u.nextAttrs;if(Q0t(t)&&e&&e.length&&Y((r=u.nextAttrs)===null||r===void 0?void 0:r.points)&&(n===!0||XL(Object.keys(u.nextAttrs),this.mark.markType))){const d=this.mark.getSpec(),h=this.getGraphicAttribute("points",!1),p=this.getGraphicAttribute("segments",!1),f=d.enableSegments,g=(s=this.mark.getSpec().encode)===null||s===void 0?void 0:s[wv.connectNulls],v=e.map(b=>b.nextAttrs),m=this.mark.isProgressive();if(c=UX(c),t===nt.line||t===nt.area){const b=K0t(e,!0,h,t===nt.area);if(m)c.segments=((l=(o=(a=this.graphicItem)===null||a===void 0?void 0:a.attribute)===null||o===void 0?void 0:o.segments)!==null&&l!==void 0?l:[]).concat([{points:b}]);else if(g){if(c.segments=uyt(v,b,this),c.segments&&c.segments.some(_=>_.isConnect)){const _=Yv(g,this.getDatum(),this,this.mark.parameters());_&&c.segments.forEach(S=>{S.isConnect&&Object.assign(S,_)})}c.points=b}else if(f){const _=b&&b.length!==0?b:cyt(p),S=DW(v,_,this);S?(c.segments=S,c.points=null):(c.segments=null,c.points=_)}else c.points=b,c.segments=null}else t===nt.largeRects?c.points=X0t(e,!0,h):t===nt.largeSymbols&&(c.points=q0t(e,!0,h))}return c}applyGraphicAttributes(e){var t,n;if(!Mt(e))if(this.mark.needAnimate()){const r=this.diffAttributes(e),s=(t=this.getPrevGraphicAttributes())!==null&&t!==void 0?t:{},a=(n=this.getFinalGraphicAttributes())!==null&&n!==void 0?n:{};Object.keys(r).forEach(u=>{s[u]=this.getGraphicAttribute(u),a[u]=r[u]}),this.setNextGraphicAttributes(r),this.setPrevGraphicAttributes(s),this.setFinalGraphicAttributes(a);const o=this.mark.animate.getElementAnimators(this).reduce((u,c)=>Object.assign(u,c.getEndAttributes()),{}),l=Object.assign({},o,a);this.graphicItem.setAttributes(l)}else this.graphicItem.setAttributes(e)}getGraphicAttribute(e,t=!1){var n;if(!this.graphicItem)return;if(t){let a;const o=this.getPrevGraphicAttributes();if(!Y(a=bi(o,e)))return a}const r=this.mark.getAttributeTransforms();let s=[e];if(r&&r.length){const a=r.find(o=>o.storedAttrs&&o.channels.includes(e));a&&(s=[a.storedAttrs,e])}return bi((n=this.graphicItem)===null||n===void 0?void 0:n.attribute,s)}setGraphicAttribute(e,t,n=!0){if(!this.graphicItem)return;const r=this.getFinalGraphicAttributes(),s=this.getPrevGraphicAttributes();n&&r&&(r[e]=t),s&&!zh(s,e)&&(s[e]=this.graphicItem.attribute[e]),this.graphicItem.setAttribute(e,t)}setGraphicAttributes(e,t=!0){if(!this.graphicItem)return;const n=this.getFinalGraphicAttributes(),r=this.getPrevGraphicAttributes();Object.keys(e).forEach(s=>{n&&t&&(n[s]=e[s]),r&&!zh(r,s)&&(r[s]=this.graphicItem.attribute[s])}),this.graphicItem.setAttributes(e)}getFinalGraphicAttributes(){return this.graphicItem.finalAttrs}setFinalGraphicAttributes(e){this.graphicItem.finalAttrs=e}getPrevGraphicAttributes(){return this.graphicItem.prevAttrs}setPrevGraphicAttributes(e){this.graphicItem.prevAttrs=e}getNextGraphicAttributes(){return this.graphicItem.nextAttrs}setNextGraphicAttributes(e){this.graphicItem.nextAttrs=e}clearChangedGraphicAttributes(){this.graphicItem&&(this.setPrevGraphicAttributes(null),this.setNextGraphicAttributes(null))}clearGraphicAttributes(){this.graphicItem&&(this.graphicItem.prevAttrs&&this.setPrevGraphicAttributes(null),this.graphicItem.nextAttrs&&this.setNextGraphicAttributes(null),this.graphicItem.finalAttrs&&this.setFinalGraphicAttributes(null))}remove(){this.graphicItem&&(qL(this.graphicItem),this.graphicItem=null)}release(){this.removeGraphicItem(),this.mark=null,this.data=null,this.items=null}getItemAttribute(e){var t,n;if(!((t=this.items)===null||t===void 0)&&t.length)return this.mark.isCollectionMark()?Y(e)?this.items.map(r=>r.nextAttrs):this.items.map(r=>{var s;return(s=r.nextAttrs)===null||s===void 0?void 0:s[e]}):Y(e)?this.items[0].nextAttrs:(n=this.items[0].nextAttrs)===null||n===void 0?void 0:n[e]}setItemAttributes(e){var t;!((t=this.items)===null||t===void 0)&&t.length&&(this.mark.isCollectionMark()?ke(e)&&this.items.forEach((n,r)=>{Object.assign(n.nextAttrs,e[r])}):Object.assign(this.items[0].nextAttrs,e))}getItem(){var e,t;return this.mark&&this.mark.isCollectionMark()?(e=this.items)!==null&&e!==void 0?e:[]:(t=this.items)===null||t===void 0?void 0:t[0]}getDatum(){var e,t;return this.mark&&this.mark.isCollectionMark()?(e=this.data)!==null&&e!==void 0?e:[]:(t=this.data)===null||t===void 0?void 0:t[0]}};class I0{constructor(e,t){this.references=new Map,this.view=e,this.depend(t==null?void 0:t.dependency)}getStartState(){return null}depend(e){this.references.clear(),we(e).map(t=>ct(t)?this.view.getGrammarById(t):t).filter(t=>!Y(t)).forEach(t=>{var n;this.references.set(t,((n=this.references.get(t))!==null&&n!==void 0?n:0)+1)})}parameters(){const e={};return this.references.forEach((t,n)=>{X(n.id())&&(e[n.id()]=n.output())}),e}bind(){const e=this.getEvents();(e??[]).forEach(t=>{t.type&&t.handler&&(ke(t.type)?t.type.forEach(n=>{n&&n!=="none"&&this.view.addEventListener(n,t.handler)}):t.type!=="none"&&this.view.addEventListener(t.type,t.handler))})}unbind(){const e=this.getEvents();(e??[]).forEach(t=>{t.type&&t.handler&&(ke(t.type)?t.type.forEach(n=>{n&&n!=="none"&&this.view.removeEventListener(n,t.handler)}):t.type!=="none"&&this.view.removeEventListener(t.type,t.handler))})}start(e){}reset(e){}dispatchEvent(e,t){this.view.emit(`${this.type}:${e}`,t),e==="start"&&this.options.onStart?this.options.onStart(t):e==="reset"&&this.options.onReset?this.options.onReset(t):e==="update"&&this.options.onUpdate?this.options.onUpdate(t):e==="end"&&this.options.onEnd&&this.options.onEnd(t)}}class G_ extends I0{constructor(e,t){super(e,t),this.type=G_.type,this.handleStart=n=>{this.start(n.element)},this.handleReset=n=>{this.reset(n.element)},this.options=Object.assign({},G_.defaultOptions,t),this._marks=e.getMarksBySelector(this.options.selector)}getEvents(){return[{type:this.options.trigger,handler:this.handleStart},{type:this.options.triggerOff,handler:this.handleReset}]}getStartState(){return this.options.state}start(e){e&&this._marks&&this._marks.includes(e.mark)&&e.addState(this.options.state)}reset(e){e&&this._marks&&this._marks.includes(e.mark)&&e.removeState(this.options.state)}}G_.type="element-active",G_.defaultOptions={state:ou.active,trigger:"pointerover",triggerOff:"pointerout"};const GX=i=>i.filterField?e=>{var t;return(t=e.getDatum())===null||t===void 0?void 0:t[i.filterField]}:e=>e[i.filterType],oEe=(i,e)=>{if(!e||!i)return null;const t={};return i.forEach(n=>{const r=n&&n.getSpec(),s=r&&r.encode;s&&e.forEach(a=>{a&&s[a]&&(t[a]||(t[a]=[]),t[a].push(n))})}),t},dyt=i=>{const e=we(i),t=[],n=[];return e.forEach(r=>{r==="empty"?t.push("view"):ct(r)&&r!=="none"?r.includes("view:")?(n.push(r.replace("view:","")),t.push("view")):(n.push(r),t.push("self")):Xe(r)&&t.push("timeout")}),{eventNames:n,resetType:t}};class Kv extends I0{constructor(e,t){super(e,t),this.type=Kv.type,this._resetType=[],this.clearPrevElements=()=>{const{state:n,reverseState:r}=this.options;this._statedElements&&this._statedElements.length&&(this.clearAllStates(n,r),this.dispatchEvent("reset",{elements:this._statedElements,options:this.options}),this._statedElements=[])},this.handleStart=n=>{this.start(n.element)},this.handleReset=n=>{this.reset(n.element)},this.options=Object.assign({},Kv.defaultOptions,t),this._marks=e.getMarksBySelector(this.options.selector),this._stateMarks=oEe(this._marks,[this.options.state,this.options.reverseState])}getStartState(){return this.options.state}getEvents(){const e=this.options.triggerOff,t=this.options.trigger,n=[{type:t,handler:this.handleStart}],{eventNames:r,resetType:s}=dyt(e);return r.forEach(a=>{a&&(ke(t)?!t.includes(a):a!==t)&&n.push({type:a,handler:this.handleReset})}),this._resetType=s,n}start(e){const{state:t,reverseState:n,isMultiple:r}=this.options;if(e&&this._marks&&this._marks.includes(e.mark))if(e.hasState(t)){if(this._resetType.includes("self")){const s=this._statedElements&&this._statedElements.filter(a=>a!==e);s&&s.length?this._statedElements=this.updateStates(s,this._statedElements,t,n):this.clearPrevElements()}}else this._timer&&clearTimeout(this._timer),e.addState(t),this._statedElements=this.updateStates(r&&this._statedElements?[...this._statedElements,e]:[e],this._statedElements,t,n),this.dispatchEvent("start",{elements:this._statedElements,options:this.options}),this._resetType.includes("timeout")&&(this._timer=setTimeout(()=>{this.clearPrevElements()},this.options.triggerOff));else this._resetType.includes("view")&&this._statedElements&&this._statedElements.length&&this.clearPrevElements()}reset(e){if(!this._statedElements||!this._statedElements.length)return;const t=e&&this._marks&&this._marks.includes(e.mark);(this._resetType.includes("view")&&!t||this._resetType.includes("self")&&t)&&this.clearPrevElements()}}Kv.type="element-select",Kv.defaultOptions={state:ou.selected,trigger:"click"};class Xv extends I0{constructor(e,t){super(e,t),this.type=Xv.type,this.handleStart=n=>{this.start(n.element)},this.handleReset=n=>{this.reset(n.element)},this.options=Object.assign({},Xv.defaultOptions,t),this._marks=e.getMarksBySelector(this.options.selector),this._stateMarks=oEe(this._marks,[this.options.highlightState,this.options.blurState])}getStartState(){return this.options.highlightState}getEvents(){const e=this.options.triggerOff,t=[{type:this.options.trigger,handler:this.handleStart}];let n=e;return ct(e)&&e.includes("view:")?(n=e.replace("view:",""),this._resetType="view"):this._resetType="self",t.push({type:n,handler:this.handleReset}),t}clearPrevElements(){const{highlightState:e,blurState:t}=this.options;this._lastElement&&(this.clearAllStates(e,t),this.dispatchEvent("reset",{elements:[this._lastElement],options:this.options}),this._lastElement=null,this._statedElements=null)}start(e){if(e&&this._marks&&this._marks.includes(e.mark)){const{highlightState:t,blurState:n}=this.options;if(this._lastElement===e)return;this._statedElements=this.updateStates([e],this._statedElements,t,n),this._lastElement=e,this.dispatchEvent("start",{elements:[e],options:this.options})}else this._lastElement&&this._resetType==="view"&&this.clearPrevElements()}reset(e){if(!this._statedElements||!this._statedElements.length)return;const t=e&&this._marks&&this._marks.includes(e.mark);this._resetType!=="view"||t?this._resetType==="self"&&t&&this.clearPrevElements():this.clearPrevElements()}}Xv.type="element-highlight",Xv.defaultOptions={highlightState:ou.highlight,blurState:ou.blur,trigger:"pointerover",triggerOff:"pointerout"};class Y_ extends I0{constructor(e,t){super(e,t),this.type=Y_.type,this.handleStart=n=>{this.start(n.element)},this.handleReset=n=>{n.element&&this._marks&&this._marks.includes(n.element.mark)&&this.clearPrevElements()},this.options=Object.assign({},Y_.defaultOptions,t),this._marks=e.getMarksBySelector(this.options.selector)}getStartState(){return this.options.highlightState}getEvents(){return[{type:this.options.trigger,handler:this.handleStart},{type:this.options.triggerOff,handler:this.handleReset}]}clearPrevElements(){const e=[this.options.highlightState,this.options.blurState];this._marks.forEach(t=>{t.elements.forEach(n=>{n.removeState(e)})})}start(e){if(e&&this._marks&&this._marks.includes(e.mark)){const t=e.key;if(Y(t))return;this._marks.forEach(n=>{n.elements.forEach(r=>{r.key===t?r.updateStates({[this.options.blurState]:!1,[this.options.highlightState]:!0}):r.updateStates({[this.options.blurState]:!0,[this.options.highlightState]:!1})})})}}reset(e){if(e&&this._marks&&this._marks.includes(e.mark)){const t=e.key;if(Y(t))return;this._marks.forEach(n=>{n.elements.forEach(r=>{r.key===t?r.updateStates({[this.options.blurState]:!1,[this.options.highlightState]:!0}):r.updateStates({[this.options.blurState]:!0,[this.options.highlightState]:!1})})})}}}Y_.type="element-highlight-by-key",Y_.defaultOptions={highlightState:ou.highlight,blurState:ou.blur,trigger:"pointerover",triggerOff:"pointerout"};class K_ extends I0{constructor(e,t){super(e,t),this.type=K_.type,this.handleStart=n=>{this.start(n.element)},this.handleReset=n=>{this.reset(n.element)},this.options=Object.assign({},K_.defaultOptions,t),this._marks=e.getMarksBySelector(this.options.selector)}getStartState(){return this.options.highlightState}getEvents(){return[{type:this.options.trigger,handler:this.handleStart},{type:this.options.triggerOff,handler:this.handleReset}]}clearPrevElements(){const e=[this.options.highlightState,this.options.blurState];this._marks.forEach(t=>{t.elements.forEach(n=>{n.removeState(e)})})}start(e){if(e&&this._marks&&this._marks.includes(e.mark)){const t=e.groupKey;if(Y(t))return;this._marks.forEach(n=>{n.elements.forEach(r=>{r.groupKey===t?r.updateStates({[this.options.blurState]:!1,[this.options.highlightState]:!0}):r.updateStates({[this.options.blurState]:!0,[this.options.highlightState]:!1})})})}}reset(e){e&&this._marks&&this._marks.includes(e.mark)&&this.clearPrevElements()}}K_.type="element-highlight-by-group",K_.defaultOptions={highlightState:ou.highlight,blurState:ou.blur,trigger:"pointerover",triggerOff:"pointerout"};class X_ extends I0{constructor(e,t){super(e,t),this.type=X_.type,this.handleStart=n=>{var r,s;this.start((s=(r=n.detail)===null||r===void 0?void 0:r.data)===null||s===void 0?void 0:s.id)},this.handleReset=n=>{this.reset()},this.options=Object.assign({},X_.defaultOptions,t),this._marks=e.getMarksBySelector(this.options.selector)}getEvents(){return[{type:yl.legendItemHover,handler:this.handleStart},{type:yl.legendItemUnHover,handler:this.handleReset}]}getStartState(){return this.options.state}start(e){const t=e;if(Y(t))return;const n=GX(this.options);this._marks.forEach(r=>{r.elements.forEach(s=>{n(s)===t?s.addState(this.options.state):s.removeState(this.options.state)})})}reset(){this._marks.forEach(e=>{e.elements.forEach(t=>{t.removeState(this.options.state)})})}}X_.type="element-active-by-legend",X_.defaultOptions={state:ou.active,filterType:"groupKey"};class q_ extends I0{constructor(e,t){super(e,t),this.type=q_.type,this.handleStart=(n,r)=>{var s,a;this.start((a=(s=n.detail)===null||s===void 0?void 0:s.data)===null||a===void 0?void 0:a.id)},this.handleReset=n=>{this.reset()},this.options=Object.assign({},q_.defaultOptions,t),this._marks=e.getMarksBySelector(this.options.selector)}getStartState(){return this.options.highlightState}getEvents(){return[{type:yl.legendItemHover,handler:this.handleStart},{type:yl.legendItemUnHover,handler:this.handleReset}]}start(e){if(Y(e))return;const t=GX(this.options);this._marks.forEach(n=>{n.elements.forEach(r=>{t(r)===e?r.updateStates({[this.options.blurState]:!1,[this.options.highlightState]:!0}):r.updateStates({[this.options.blurState]:!0,[this.options.highlightState]:!1})})})}reset(){const e=[this.options.blurState,this.options.highlightState];this._marks.forEach(t=>{t.elements.forEach(n=>{n.removeState(e)})})}}q_.type="element-highlight-by-legend",q_.defaultOptions={highlightState:ou.highlight,blurState:ou.blur,filterType:"groupKey"};class Z_ extends I0{constructor(e,t){super(e,t),this.type=Z_.type,this.handleStart=(n,r)=>{if(this.options.shouldStart?this.options.shouldStart(n):this._filterByName(n)){const s=this._parseTargetKey(n,r);this.start(s)}},this.handleReset=n=>{(this.options.shouldReset?this.options.shouldReset(n):this._filterByName(n))&&this.reset()},this.options=Object.assign({},Z_.defaultOptions,t),this._marks=e.getMarksBySelector(this.options.selector)}getStartState(){return this.options.highlightState}getEvents(){return[{type:this.options.trigger,handler:this.handleStart},{type:this.options.triggerOff,handler:this.handleReset}]}_filterByName(e){var t;const n=we(this.options.graphicName);return((t=e==null?void 0:e.target)===null||t===void 0?void 0:t.name)&&n.includes(e.target.name)}_parseTargetKey(e,t){return this.options.parseData?this.options.parseData(e):e.target.type==="text"?e.target.attribute.text:null}start(e){if(Y(e))return;const t=GX(this.options);this._marks.forEach(n=>{n.elements.forEach(r=>{t(r)===e?r.updateStates({[this.options.blurState]:!1,[this.options.highlightState]:!0}):r.updateStates({[this.options.blurState]:!0,[this.options.highlightState]:!1})})})}reset(){const e=[this.options.blurState,this.options.highlightState];this._marks.forEach(t=>{t.elements.forEach(n=>{n.removeState(e)})})}}Z_.type="element-highlight-by-name",Z_.defaultOptions={trigger:"pointerover",triggerOff:"pointerout",highlightState:ou.highlight,blurState:ou.blur,filterType:"groupKey"};function Uce(i){if(i)return i.type===Ts.Band?i.bandwidth():i.type===Ts.Point?i.step():void 0}class lEe{updateStates(e,t,n,r){return e&&e.length?(n&&r?t&&t.length?(this.toggleReverseStateOfElements(e,t,r),this.toggleStateOfElements(e,t,n)):this.addBothStateOfElements(e,n,r):n&&(t&&t.length?this.toggleStateOfElements(e,t,n):this.addStateOfElements(e,n)),e):null}toggleReverseStateOfElements(e,t,n){t.forEach(r=>{n&&this._stateMarks[n]&&this._stateMarks[n].includes(r.mark)&&r.addState(n)}),e.forEach(r=>{n&&this._stateMarks[n]&&this._stateMarks[n].includes(r.mark)&&r.removeState(n)})}toggleStateOfElements(e,t,n){t.forEach(r=>{n&&this._stateMarks[n]&&this._stateMarks[n].includes(r.mark)&&r.removeState(n)}),e.forEach(r=>{n&&this._stateMarks[n]&&this._stateMarks[n].includes(r.mark)&&r.addState(n)})}addBothStateOfElements(e,t,n){this._marks.forEach(r=>{const s=n&&this._stateMarks[n]&&this._stateMarks[n].includes(r),a=t&&this._stateMarks[t]&&this._stateMarks[t].includes(r);(s||a)&&r.elements.forEach(o=>{e&&e.includes(o)?a&&o.addState(t):s&&o.addState(n)})})}addStateOfElements(e,t){this._marks.forEach(n=>{const r=t&&this._stateMarks[t]&&this._stateMarks[t].includes(n);r&&n.elements.forEach(s=>{e&&e.includes(s)&&r&&s.addState(t)})})}clearAllStates(e,t){this._statedElements&&this._statedElements.length&&this._marks.forEach(n=>{t&&this._stateMarks[t]&&this._stateMarks[t].includes(n)&&n.elements.forEach(r=>{r.removeState(t)}),e&&this._stateMarks[e]&&this._stateMarks[e].includes(n)&&n.elements.forEach(r=>{this._statedElements.includes(r)&&r.removeState(e)})})}}const hyt=()=>{He.registerInteraction(G_.type,G_)},pyt=()=>{wa(Kv,lEe),He.registerInteraction(Kv.type,Kv)},fyt=()=>{wa(Xv,lEe),He.registerInteraction(Xv.type,Xv)},gyt=()=>{He.registerInteraction(Y_.type,Y_)},myt=()=>{He.registerInteraction(K_.type,K_)},vyt=()=>{He.registerInteraction(X_.type,X_)},yyt=()=>{He.registerInteraction(q_.type,q_)},_yt=()=>{He.registerInteraction(Z_.type,Z_)},Gce=(i,e)=>dP(i)?i.output():i&&yi(i)?Pe(i.callback)?t=>i.callback(t,e):Pe(i.value)?i.value(e):i:i,byt=(i,e)=>i&&(yi(i)?Object.keys(i).reduce((t,n)=>{const r=i[n];return t[n]=Gce(r,e),t},{}):i.map(t=>Gce(t,e)));let Syt=-1;class w$ extends gb{constructor(e){super(),this.spec={},this.references=new Map,this.targets=[],this.transforms=[],this.view=e,this.uid=++Syt}parse(e){return this.id(e.id),this.name(e.name),this.depend(e.dependency),this}depend(e){var t;if(!((t=this.spec)===null||t===void 0)&&t.dependency){const r=we(this.spec.dependency).map(s=>ct(s)?this.view.getGrammarById(s):s);this.detach(r)}this.spec.dependency=e;const n=we(e).map(r=>ct(r)?this.view.getGrammarById(r):r);return this.attach(n),this.commit(),this}addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=t,r.raw=t),n&&n.target&&(r.target=n.target),this.on(e,r),this}removeEventListener(e,t){return t?this.off(e,t):this.off(e),this}emit(e,...t){var n,r;return(r=(n=this.view)===null||n===void 0?void 0:n.emit)===null||r===void 0||r.call(n,e,...t),super.emit(e,...t)}emitGrammarEvent(e,...t){return super.emit(e,...t)}evaluateTransform(e,t,n){if(!e||!e.length)return t;let r=t,s=0;const a=e.length;for(;s<a;){const o=e[s];this.emit(At.BEFORE_TRANSFORM,o.type),r=o.transform(o.isRawOptions?o.options:byt(o.options,n),r,n,this.view),s++,this.emit(At.AFTER_TRANSFORM,o.type)}return r}set(e){return!1}id(e){return arguments.length?(this.view.grammars.unrecord(this),this._id=e,this.view.grammars.record(this),this):this._id}name(e){return arguments.length?(this._name=e,this):this._name}attach(e,t=1){return we(e).filter(n=>!Y(n)).forEach(n=>{var r;Y(e)||(n.targets.includes(this)||n.targets.push(this),this.references.set(n,((r=this.references.get(n))!==null&&r!==void 0?r:0)+t))}),this}detach(e,t=1){return we(e).filter(n=>!Y(n)).forEach(n=>{const r=this.references.get(n)-t;r>0?this.references.set(n,r-1):(this.references.delete(n),n.targets.includes(this)&&(n.targets=n.targets.filter(s=>s!==this)))}),this}detachAll(){this.references.forEach((e,t)=>{this.detach(t,e)})}link(e){this.grammarSource=e}run(){var e;const t=(e=this.grammarSource)===null||e===void 0?void 0:e.output(),n=this.parameters();return this.evaluate(t,n)}commit(){this.view.commit(this)}parameters(){const e={};return this.references.forEach((t,n)=>{X(n.id())&&(e[n.id()]=n.output())}),e}getSpec(){return this.spec}reuse(e){return this}clear(){this.spec=null,this.view=null}release(){this.clear()}setFunctionSpec(e,t){return Y(this.spec[t])||this.detach(vl(this.spec[t],this.view)),this.spec[t]=e,this.attach(vl(e,this.view)),this.commit(),this}}const Yce=(i,e,t)=>{var n;if(i==="callback"&&Pe(e))return{references:[],value:{callback:e,dependency:[]}};if(!Y(e.data)){const r=t.getDataById(e.data);return{references:[r],value:r}}if(!Y(e.customized)){const r=t.getCustomizedById(e.customized);return{references:[r],value:r}}if(!Y(e.scale)){const r=t.getScaleById(e.scale);return{references:[r],value:r}}if(G0t(e)){const r=vl(e,t);return{references:r,value:e.callback?{value:e.callback,dependency:r}:(n=r==null?void 0:r[0])!==null&&n!==void 0?n:e}}return{value:e}},xyt=(i,e,t)=>{if(Y(e))return{value:e};if(ke(e)){const n=e.map(r=>Yce(i,r,t));return{references:n.reduce((r,s)=>(s.references&&r.concat(s.references),r),[]),value:n.map(r=>r.value)}}return Yce(i,e,t)},wyt=(i,e)=>{const t=He.getTransform(i.type);if(!t)return;const n={};let r=[];return Object.keys(i).forEach(s=>{var a;if(s==="type")return;const o=i[s];if(s==="dependency")return void((o==null?void 0:o.length)&&(r=r.concat(VX(o,e))));const l=xyt(s,o,e);l&&(!((a=l.references)===null||a===void 0)&&a.length&&(r=r.concat(l.references)),n[s]=l.value)}),{markPhase:t.markPhase,transform:t.transform,canProgressive:t.canProgressive,type:t.type,options:n,references:r}},QL=(i,e)=>{if(i!=null&&i.length){const t=[];let n=[];return i.forEach(r=>{var s;const a=wyt(r,e);a&&(!((s=a.references)===null||s===void 0)&&s.length&&(n=n.concat(a.references)),t.push(a))}),{transforms:t,refs:n}}return null},Cyt=(i,e={},t)=>{if(!ct(i))return we(i);try{return we(JSON.parse(i))}catch{return[]}},Kce={csv:awe,dsv:swe,tsv:owe,json:Cyt},kyt=(i,e)=>{if(!e||!Kce[e.type])return we(i);const t=e.type==="dsv"?{delimiter:e.delimiter}:{};return Kce[e.type](i,t,new vn(new f0))};class Eyt extends w${constructor(e,t,n){super(e),this.grammarType="data",this.spec={},this._dataIDKey=`VGRAMMAR_DATA_ID_KEY_${this.uid}`,this._loadTasks=[],this._postFilters=[],this.ingest=r=>{const s=U0t(r.format,this.parameters());return this._input=kyt(r.values,s),this._input},this.load=r=>{if(r.values)return this.ingest(r)},this.relay=r=>r[0],this._loadTasks=[],Y(t)||this.values(t,n)}parse(e){return super.parse(e),this._isLoaded=!1,this.source(e.source,e.format,!1),this.url(e.url,e.format,!1),this.values(e.values,e.format,!1),this.transform(e.transform),this.parseLoad(e),this.commit(),this}parseDataSource(e){const t=[],n=[],r=e.format?vl(e.format,this.view)[0]:null;if(r&&t.push(r),e.values){const s=vl(e.values,this.view)[0];s&&t.push(s),n.push({type:"ingest",transform:this.ingest,isRawOptions:!0,options:{values:e.values,format:e.format}})}else if(e.url){const s=vl(e.url,this.view)[0];s&&t.push(s),n.push({type:"load",transform:this.load,options:{url:s??e.url,format:r??e.format}})}else if(e.source){const s=[];we(e.source).forEach(a=>{const o=dP(a)?a:this.view.getDataById(a);o&&(t.push(o),s.push(o))}),s.length&&(n.push({type:"relay",transform:this.relay,options:s}),this.grammarSource=s[0])}return{transforms:n,refs:t}}evaluate(e,t){this.view.emit(At.BEFORE_EVALUATE_DATA);const n=this._isLoaded?this.transforms:this._loadTasks.concat(this.transforms);this.grammarSource&&(this._input=e);const r=this.evaluateTransform(n,this._input,t),s=this._evaluateFilter(r,t);return this.setValues(s),this._isLoaded=!0,this.view.emit(At.AFTER_EVALUATE_DATA),this}output(){return this._values}getDataIDKey(){return this._dataIDKey}values(e,t,n=!0){const r=Object.assign({},this.spec,{values:e,format:t});return Y(e)||(r.url=void 0,r.source=void 0),n?this.parseLoad(r):this}url(e,t,n=!0){const r=Object.assign({},this.spec,{url:e,format:t});return Y(e)||(r.values=void 0,r.source=void 0),n?this.parseLoad(r):this}source(e,t,n=!0){const r=Object.assign({},this.spec,{source:e,format:t});return Y(e)||(r.values=void 0,r.url=void 0),n?this.parseLoad(r):this}parseLoad(e){this.detach(this.parseDataSource(this.spec).refs),this.spec=e;const t=this.parseDataSource(this.spec);return this.attach(t.refs),this._loadTasks=t.transforms,this._isLoaded=!1,this.commit(),this}setValues(e){this._values=we(e).map((t,n)=>{const r=t===Object(t)?t:{data:t};return r[this._dataIDKey]=n,r})}field(e){return this._values.map(t=>t[e])}transform(e){const t=QL(this.spec.transform,this.view);t&&(this.detach(t.refs),this.transforms=[]),this.spec.transform=e;const n=QL(this.spec.transform,this.view);return n&&(this.attach(n.refs),this.transforms=n.transforms),this.commit(),this}getValue(){return this._values}getInput(){return this._input}addDataFilter(e){return this._postFilters=this._postFilters.concat(we(e)),this._postFilters.sort((t,n)=>{var r,s;return((r=t.rank)!==null&&r!==void 0?r:0)-((s=n.rank)!==null&&s!==void 0?s:0)}),this}removeDataFilter(e){const t=we(e);return this._postFilters=this._postFilters.filter(n=>!t.includes(n)),this}_evaluateFilter(e,t){return this._postFilters.reduce((n,r)=>r.filter(n,t),e)}reuse(e){return e.grammarType!==this.grammarType||(this._isLoaded=!1,this._values=e.output()),this}clear(){super.clear(),this._input=null,this._values=null}}const g_="window",qy="view",Ayt="browser",Tyt={trap:!1},Cv="width",kv="height",dx="viewWidth",hx="viewHeight",Ed="padding",YX="viewBox",WE="autoFit";function Pyt(i){const e=Object.assign({defaults:{}},i),t=(n,r)=>{r.forEach(s=>{ke(n[s])&&(n[s]=n[s].reduce((a,o)=>(a[o]=!0,a),{}))})};return t(e.defaults,["prevent","allow"]),t(e,[qy,g_]),e}function Oyt(i,e){const t=i.defaults,n=t.prevent,r=t.allow;return n!==!1&&r!==!0&&(n===!0||r===!1||(n?n[e]:!!r&&!r[e]))}function Myt(i,e,t){const n=i==null?void 0:i[e];return!(n===!1||yi(n)&&!n[t])}function X3(i,e,t,n){let r,s;const a=i[e];for(;e>t&&(s=Math.floor((e-1)/2),r=i[s],a&&r&&n(a,r)<0);)i[e]=r,e=s;return i[e]=a}function Y7(i,e,t,n){const r=e,s=i.length,a=i[e];let o,l=2*e+1;for(;l<s;)o=l+1,o<s&&n(i[l],i[o])>=0&&(l=o),i[e]=i[l],l=2*(e=l)+1;return i[e]=a,X3(i,e,r,n)}class Iyt{constructor(e){this.compare=e,this.nodes=[]}size(){return this.nodes.length}last(){return this.nodes[0]}validate(){for(let e=this.nodes.length-1;e>0;e-=1){const t=Math.floor((e-1)/2);if(this.compare(this.nodes[t],this.nodes[e])>0)return!1}return!0}push(e){if(this.nodes.includes(e)){const t=this.nodes.indexOf(e);return X3(this.nodes,t,0,this.compare),Y7(this.nodes,t,null,this.compare)}return this.nodes.push(e),X3(this.nodes,this.nodes.length-1,0,this.compare)}remove(e){if(this.nodes.includes(e)){const t=this.nodes.indexOf(e);this.nodes=this.nodes.slice(0,t).concat(this.nodes.slice(t+1)),X3(this.nodes,t,0,this.compare),Y7(this.nodes,t,null,this.compare)}}pop(){const e=this.nodes.pop();let t;return this.nodes.length?(t=this.nodes[0],this.nodes[0]=e,Y7(this.nodes,0,null,this.compare)):t=e,t}clear(){this.nodes=[]}}class Xce{constructor(e){this.list=[],this.ids={},this.idFunc=e||Ght}add(e){const t=this.idFunc(e);return this.ids[t]||(this.ids[t]=1,this.list.push(e)),this}remove(e){const t=this.idFunc(e);return this.ids[t]&&(this.ids[t]=0,this.list=this.list.filter(n=>n!==e)),this}forEach(e,t){t?this.list.slice().reverse().forEach(e):this.list.forEach(e)}filter(e){return this.list.filter(e)}get length(){return this.list.length}getElementByIndex(e){return this.list[e]}}class Ryt{constructor(){this.grammars=[],this.logger=Kn.getInstance(),this._curRank=0,this._committed=new Xce(e=>e.uid),this._heap=new Iyt((e,t)=>(e==null?void 0:e.qrank)-(t==null?void 0:t.qrank)),this._beforeRunner=null,this._afterRunner=null,this._updateCounter=0,this._finishFirstRender=!1}add(e){if(e)return this._setRankOfGrammar(e),this.commit(e),!this.grammars.includes(e)&&(this.grammars.push(e),!0)}remove(e){e&&(this._committed.remove(e),this._heap.remove(e),this.grammars=this.grammars.filter(t=>t!==e))}_setRankOfGrammar(e){e&&(e.rank=++this._curRank)}_reRank(e){const t=[e];for(;t.length;){const n=t.pop();this._setRankOfGrammar(n);const r=n.targets;r&&r.forEach(s=>{t.push(s),s===e&&this.logger.error("Cycle detected in dataflow graph.")})}}_enqueue(e){e&&(e.qrank=e.rank,this._heap.push(e))}_logGrammarRunInfo(e){if(this.logger.canLogError()){const t=[{key:"id",value:e.id()},{key:"name",value:e.name()}].reduce((n,r,s)=>Y(r.value)?n:`${n}${s?" , ":""}${r.key}: ${r.value}`,"");this.logger.debug("Run Operator: ",e,t)}}hasCommitted(){return!!this._committed.length}commit(e){return this._committed.add(e),this}_beforeEvaluate(){this.grammars.forEach(e=>{e.targets.some(t=>(t==null?void 0:t.rank)<(e==null?void 0:e.rank))&&this._reRank(e)}),this._committed.forEach(e=>this._enqueue(e)),this._committed=new Xce(e=>e.uid)}_enqueueTargets(e){e.targets&&e.targets.length&&this._finishFirstRender&&e.targets.forEach(t=>this._enqueue(t))}evaluate(){if(this._beforeRunner&&this._beforeRunner(this),!this._committed.length)return this.logger.info("Dataflow invoked, but nothing to do."),!1;this._updateCounter+=1;let e,t,n=0;for(this.logger.canLogInfo()&&(t=Date.now(),this.logger.debug(`-- START PROPAGATION (${this._updateCounter}) -----`)),this._beforeEvaluate();this._heap.size()>0;)e=this._heap.pop(),e&&(e.rank===e.qrank?(e.run(),this._logGrammarRunInfo(e),this._enqueueTargets(e),n+=1):this._enqueue(e));return this.logger.canLogInfo()&&(t=Date.now()-t,this.logger.info(`> ${n} grammars updated; ${t} ms`)),this._afterRunner&&this._afterRunner(this),this._finishFirstRender=!0,!0}runBefore(e){this._beforeRunner=e}runAfter(e){this._afterRunner=e}release(){this._heap&&(this._heap.clear(),this._heap=null),this.logger=null,this._committed=null}}const K7=(i,e,t,n,r)=>{const s=a=>{if(r||!a||n&&!n(a)||t.call(null,a),a.markType===nt.group){const o=a[e];o&&o.forEach(l=>{s(l)})}r&&(!a||n&&!n(a)||t.call(null,a))};s(i)};class Dyt{constructor(e){this.handleAfterNextRender=()=>{this._stage&&!this._viewOptions.disableDirtyBounds&&this._stage.enableDirtyBounds(),this._view.emit(At.AFTER_VRENDER_DRAW),this._view.emit(At.AFTER_VRENDER_NEXT_RENDER)},this._view=e}initialize(e,t,n,r){return this._width=e,this._height=t,this._viewOptions=n,this._eventConfig=r,this.initStage(),this}stage(){var e;return(e=this._stage)!==null&&e!==void 0?e:null}gestureController(){var e;return(e=this._gestureController)!==null&&e!==void 0?e:null}canvas(){return this._stage?this._stage.window.getNativeHandler().nativeCanvas:null}context(){return this._stage?this._stage.window.getContext().nativeContext:null}combineIncrementalLayers(){return this._stage&&Qot(this._stage).then(()=>{this._stage&&this._stage.defaultLayer.combineSubLayer()}),this}background(e){if(this._stage)return this._stage.background=e,this}setDpr(e,t){var n,r;return(r=(n=this._stage)===null||n===void 0?void 0:n.setDpr)===null||r===void 0||r.call(n,e),t&&this.renderNextFrame(),this}shouldResize(e,t){return e!==this._width||t!==this._height}resize(e,t){return this._view.emit(At.BEFORE_STAGE_RESIZE),this.shouldResize(e,t)&&(this._width=e,this._height=t,this._stage&&this._stage.resize(e,t)),this._view.emit(At.AFTER_STAGE_RESIZE),this}setViewBox(e,t=!0){return this._stage?(!e||this._viewBox&&e.x1===this._viewBox.x1&&e.x2===this._viewBox.x2&&e.y1===this._viewBox.y1&&e.y2===this._viewBox.y2||(this._viewBox=e,this._stage.setViewBox(e.x1,e.y1,e.x2-e.x1,e.y2-e.y1,t)),this):this}render(e=!1){return this._view.emit(At.BEFORE_VRENDER_DRAW),this.initStage(),this._stage.disableDirtyBounds(),this._stage.afterNextRender(this.handleAfterNextRender),e&&(this._stage.render(),this._view.emit(At.AFTER_VRENDER_DRAW)),this}renderNextFrame(){return this.initStage(),this._stage.renderNextFrame(),this}toCanvas(){return this._stage?this._stage.toCanvas():null}preventRender(e){this._stage&&this._stage.preventRender(e)}release(){var e;this._view.traverseMarkTree(t=>{t.release()}),this._dragController&&this._dragController.release(),this._gestureController&&this._gestureController.release(),this._stage!==((e=this._viewOptions)===null||e===void 0?void 0:e.stage)&&this._stage.release(),this._stage=null,this._layer=null,this._dragController=null,this._gestureController=null}createStage(){var e,t,n,r,s;this._view.emit(At.BEFORE_CREATE_VRENDER_STAGE);const a=this._viewOptions,o=(e=a.stage)!==null&&e!==void 0?e:Gdt({width:this._width,height:this._height,renderStyle:a.renderStyle,viewBox:a.viewBox,dpr:a.dpr,canvas:a.renderCanvas,canvasControled:a.canvasControled,container:a.container,title:a.rendererTitle,beforeRender:a.beforeRender,afterRender:a.afterRender,disableDirtyBounds:!0,autoRender:!0,pluginList:a.pluginList,enableHtmlAttribute:a.enableHtmlAttribute,optimize:a.optimize,ticker:a.ticker,supportsTouchEvents:a.supportsTouchEvents,supportsPointerEvents:a.supportsPointerEvents,ReactDOM:a.ReactDOM});!((t=a.options3d)===null||t===void 0)&&t.enable&&o.set3dOptions(a.options3d),o.enableIncrementalAutoRender(),this._viewBox=a.viewBox,this._view.emit(At.AFTER_CREATE_VRENDER_STAGE),this._view.emit(At.BEFORE_CREATE_VRENDER_LAYER);const l=(n=a.layer)!==null&&n!==void 0?n:o.defaultLayer;if(this._view.emit(At.AFTER_CREATE_VRENDER_LAYER),!((r=this._eventConfig)===null||r===void 0)&&r.drag&&(this._dragController=new Zht(o)),(s=this._eventConfig)===null||s===void 0?void 0:s.gesture){const u=yi(this._eventConfig.gesture)?this._eventConfig.gesture:{};this._gestureController=new Jht(o,u)}return{stage:o,layer:l}}initStage(){if(!this._stage){const{stage:e,layer:t}=this.createStage();this._stage=e,this._layer=t;const n=this._view.background();this.background(n)}}}function Lyt(i){["touches","changedTouches","targetTouches"].forEach(t=>{i[t]&&i[t].length&&Array.from(i[t]).forEach(n=>{Zce(n,qce(n),!1)})});const e=qce(i);return Zce(i,e)}function qce(i){return Y(i.offsetX)?Y(i.x)?i.changedTouches&&i.changedTouches.length?$yt(i):{canvasX:0,canvasY:0}:Byt(i):Fyt(i)}function Fyt(i){return{canvasX:i.offsetX,canvasY:i.offsetY}}function Byt(i){return{canvasX:i.x,canvasY:i.y}}function $yt(i){return{canvasX:i.changedTouches[0].x,canvasY:i.changedTouches[0].y}}function Zce(i,e,t=!0){return Ce(e.canvasX)&&Object.defineProperty(i,"canvasX",{value:e.canvasX,writable:!0}),Ce(e.canvasY)&&Object.defineProperty(i,"canvasY",{value:e.canvasY,writable:!0}),t&&Ce(e.clientX)&&Object.defineProperty(i,"clientX",{value:e.clientX,writable:!0}),t&&Ce(e.clientY)&&Object.defineProperty(i,"clientY",{value:e.clientY,writable:!0}),[e.canvasX,e.canvasY]}function LW(i,e,t,n,r){if(r===g_){const s=e.changedTouches?e.changedTouches[0]:e;Lyt(s)}return e.element=t,e}class Nyt extends w${constructor(){super(...arguments),this.grammarType="signal",this.spec={value:null,update:null}}parse(e){return super.parse(e),this.value(e.value),this.update(e.update),this.commit(),this}evaluate(e,t){return this._signal=this.spec.update?Ps(this.spec.update,t,this._signal):this.spec.value,this.spec.value=this._signal,this}output(){return this._signal}getValue(){return this.output()}set(e){if(ke(e)&&ke(this.value)&&e.length===this.value.length){for(let t=0;t<e.length;t++)if(this.value[t]!==e[t])return this._signal=e,this.spec.value=e,!0;return!1}return this._signal!==e&&(this._signal=e,this.spec.value=e,!0)}update(e){return Y(e)||this.value(void 0),this.setFunctionSpec(e,"update")}value(e){return Y(e)||this.update(void 0),this.spec.value=e,this.commit(),this}reuse(e){return e.grammarType!==this.grammarType||(this._signal=e.output()),this}clear(){super.clear(),this._signal=null}}let jyt=-1;const Qce=[Cv,kv,Ed,dx,hx,YX,WE],zyt=(i,e,t)=>{var n,r,s,a,o;return[{id:Cv,value:(n=i[Cv])!==null&&n!==void 0?n:0},{id:kv,value:(r=i[kv])!==null&&r!==void 0?r:0},{id:Ed,value:Ev((a=(s=i[Ed])!==null&&s!==void 0?s:e[Ed])!==null&&a!==void 0?a:t==null?void 0:t.padding)},{id:dx,update:{callback:(l,u)=>{const c=Ev(u[Ed]);return u[Cv]-c.left-c.right},dependency:[Cv,Ed]}},{id:hx,update:{callback:(l,u)=>{const c=Ev(u[Ed]);return u[kv]-c.top-c.bottom},dependency:[kv,Ed]}},{id:YX,update:{callback:(l,u)=>{const c=Ev(u[Ed]);return(l||new Da).setValue(c.left,c.top,c.left+u[dx],c.top+u[hx])},dependency:[dx,hx,Ed]}},{id:WE,value:(o=i[WE])!==null&&o!==void 0?o:e[WE]}]},Ev=i=>{var e,t,n,r;return Xe(i)?{top:i,bottom:i,left:i,right:i}:{top:(e=i==null?void 0:i.top)!==null&&e!==void 0?e:0,bottom:(t=i==null?void 0:i.bottom)!==null&&t!==void 0?t:0,left:(n=i==null?void 0:i.left)!==null&&n!==void 0?n:0,right:(r=i==null?void 0:i.right)!==null&&r!==void 0?r:0}},Hyt=i=>{var e;const t=(n,r)=>{var s,a;n.group=r;const o=(s=n.id)!==null&&s!==void 0?s:"VGRAMMAR_MARK_"+ ++jyt;n.id=o,((a=n.marks)!==null&&a!==void 0?a:[]).forEach(l=>t(l,o))};return((e=i.marks)!==null&&e!==void 0?e:[]).forEach(n=>t(n,"root")),i},Vyt=i=>{var e,t,n,r,s;const{reuse:a=B0t,morph:o=$0t,morphAll:l=N0t,animation:u={},enableExitAnimation:c=z0t}=i??{};return{reuse:a,morph:o,morphAll:l,animation:{easing:(e=u.easing)!==null&&e!==void 0?e:RW,delay:(t=u.delay)!==null&&t!==void 0?t:MW,duration:(n=u.duration)!==null&&n!==void 0?n:nEe,oneByOne:(r=u.oneByOne)!==null&&r!==void 0?r:IW,splitPath:(s=u.splitPath)!==null&&s!==void 0?s:j0t},enableExitAnimation:c}},Wyt=i=>Y(i.markId)?e=>e&&e.mark.id()===i.markId:Y(i.markName)?e=>e&&e.mark.name()===i.markName:Y(i.type)?e=>e&&e.mark.markType===i.type:()=>!0,Uyt=(i,e)=>e&&e.debounce?Pf(i,e.debounce):e&&e.throttle?P0(i,e.throttle):i,Gyt="@",Yyt="#",Kyt=(i,e=qy)=>{const t={},n=i.split(":");if(n.length===2){const[r,s]=n;r[0]==="#"?(t.markId=r.slice(1),t.source=e):r[0]==="@"?(t.markName=r.slice(1),t.source=e):rEe(r)?(t.markType=r,t.source=e):t.source=r===g_?g_:e,t.type=s}else n.length===1&&(t.type=i,t.source=e);return t};function Xyt(i){i.mode&&ji.setEnv(i.mode,i.modeParams||{})}class qyt extends aEe{constructor(e){super(e),this.getStateAttrs=(t,n)=>{var r,s,a,o;const l=!Y((r=this.runtimeStatesEncoder)===null||r===void 0?void 0:r[t]),u=l?Object.assign(Object.assign({},(s=this.mark.getSpec().encode)===null||s===void 0?void 0:s[t]),this.runtimeStatesEncoder[t]):(a=this.mark.getSpec().encode)===null||a===void 0?void 0:a[t],c={};if(!u)return c;if(Pe(u))return c.attributes=u(this.getDatum(),this,t,n),c;if(!l&&(!((o=this.graphicItem.glyphStates)===null||o===void 0)&&o[t]))return this.graphicItem.glyphStates[t];if(u){const d=this.items[0],h=[Object.assign({},d,{nextAttrs:{}})];return mg(this,h,u,this.mark.parameters()),this.coordinateTransformEncode(h),c.attributes=h[0].nextAttrs,this.graphicItem.glyphStates?this.graphicItem.glyphStates[t]||(this.graphicItem.glyphStates[t]=c):this.graphicItem.glyphStates={[t]:c},c}return c},this.glyphMeta=this.mark.getGlyphMeta()}getGlyphGraphicItems(){return this.glyphGraphicItems}initGraphicItem(e={}){if(this.graphicItem)return;this.graphicItem=this.mark.addGraphicItem(e,this.groupKey),this.graphicItem[U_]=this,this.graphicItem.onBeforeAttributeUpdate=this._onGlyphAttributeUpdate(!1);const t=this.glyphMeta.getMarks();this.glyphGraphicItems={},this.graphicItem.getSubGraphic().forEach(n=>{const r=t[n.name];this.glyphGraphicItems[n.name]=n,n.onBeforeAttributeUpdate=s=>this.mark?ZL(r,s,this,n.name):s}),this.clearGraphicAttributes()}useStates(e,t){if(!this.graphicItem)return!1;this.mark.emit(At.BEFORE_ELEMENT_STATE,{states:e},this),this.states=e.slice();const n=Ir(t)?t:this.mark.animate.getAnimationConfigs("state").length!==0;return this.graphicItem.glyphStateProxy=this.getStateAttrs,this.graphicItem.useStates(this.states,n),this.mark.emit(At.AFTER_ELEMENT_STATE,{states:e},this),!0}encodeGraphic(){this.coordinateTransformEncode(this.items);const e=this.transformElementItems(this.items,this.mark.markType);this.graphicItem||this.initGraphicItem(),this.diffState===Sn.enter?(this.graphicItem.onBeforeAttributeUpdate=this._onGlyphAttributeUpdate(!0),this.applyGraphicAttributes(e),this.graphicItem.onBeforeAttributeUpdate=this._onGlyphAttributeUpdate(!1)):this.applyGraphicAttributes(e),this.diffState!==Sn.enter&&this.diffState!==Sn.update||!this.states.length||(Object.values(this.glyphGraphicItems).forEach(t=>{t.states={}}),this.useStates(this.states)),this.items.map(t=>{t.nextAttrs={}})}encodeCustom(e){var t;let n={};const r=this.glyphMeta.getChannelEncoder(),s=this.glyphMeta.getFunctionEncoder();if(s&&(n=s.call(null,Object.assign({},(t=this.graphicItem)===null||t===void 0?void 0:t.attribute,e),this.getDatum(),this,this.mark.getGlyphConfig())),r){let a;Object.keys(r).forEach(o=>{var l;if(!Y(e[o])){a||(a=Object.assign({},(l=this.graphicItem)===null||l===void 0?void 0:l.attribute,e));const u=r[o].call(null,o,e[o],a,this.getDatum(),this,this.mark.getGlyphConfig());Object.keys(u??{}).forEach(c=>{var d;n[c]=Object.assign((d=n[c])!==null&&d!==void 0?d:{},u[c])})}})}return n}encodeDefault(){const e={};if(this.diffState===Sn.enter&&this.glyphMeta.getDefaultEncoder()){const t=this.glyphMeta.getDefaultEncoder().call(null,this.getDatum(),this,this.mark.getGlyphConfig());Object.assign(e,t)}return e}_onGlyphAttributeUpdate(e=!1){return t=>{if(!this.mark)return t;const n=this.glyphMeta.getMarks(),r=ZL(this.mark.getAttributeTransforms(),t,this),s=e?this.encodeDefault():null,a=this.encodeCustom(t);return Object.keys(n).forEach(o=>{const l=n[o],u=this.glyphGraphicItems[o],c=a==null?void 0:a[o],d=Object.assign({},c);if(e){const g=s==null?void 0:s[o];Object.keys(g??{}).forEach(v=>{zh(this.items[0].nextAttrs,v)||zh(d,v)||(d[v]=g[v])})}const h=Object.assign({},iyt(l,t),d),p=this._generateGlyphItems(l,this.items,h);this.coordinateTransformEncode(p);const f=this.transformElementItems(p,l);this.applyGlyphGraphicAttributes(f,o,u),l===nt.shape&&(u.datum=p[0].datum)}),r}}_generateGlyphItems(e,t,n){const r=t.map(s=>Object.assign({},s,{nextAttrs:n}));return iEe.includes(e)&&this.mark.getSpec().enableSegments&&r.forEach((s,a)=>{s.nextAttrs=Object.assign({},t[a].nextAttrs,n)}),r}getGraphicAttribute(e,t=!1,n){if(!this.graphicItem)return;const r=this.getPrevGraphicAttributes(n);return t&&zh(r,e)?r[e]:(n?this.glyphGraphicItems[n]:this.graphicItem).attribute[e]}setGraphicAttribute(e,t,n=!0,r){if(!this.graphicItem)return;const s=r?this.glyphGraphicItems[r]:this.graphicItem,a=this.getFinalGraphicAttributes(r),o=this.getPrevGraphicAttributes(r);n&&(a[e]=t),zh(o,e)||(o[e]=s.attribute[e]),s.setAttribute(e,t)}setGraphicAttributes(e,t=!0,n){if(!this.graphicItem)return;const r=n?this.glyphGraphicItems[n]:this.graphicItem,s=this.getFinalGraphicAttributes(n),a=this.getPrevGraphicAttributes(n);Object.keys(e).forEach(o=>{t&&(s[o]=e[o]),zh(a,o)||(a[o]=r.attribute[o])}),r.setAttributes(e)}diffAttributes(e,t){const n={},r=this.getFinalGraphicAttributes(t);for(const s in e)JB(s,r,e)||(n[s]=e[s]);return n}applyGlyphGraphicAttributes(e,t,n){var r,s;if(this.mark.needAnimate()){const a=this.diffAttributes(e,t),o=(r=this.getPrevGraphicAttributes(t))!==null&&r!==void 0?r:{},l=(s=this.getFinalGraphicAttributes(t))!==null&&s!==void 0?s:{};Object.keys(a).forEach(u=>{o[u]=n.attribute[u],l[u]=a[u]}),this.setNextGraphicAttributes(a,t),this.setPrevGraphicAttributes(o,t),this.setFinalGraphicAttributes(l,t),n.setAttributes(a)}else n.setAttributes(e)}getFinalGraphicAttributes(e){return(e?this.glyphGraphicItems[e]:this.graphicItem).finalAttrs}setFinalGraphicAttributes(e,t){(t?this.glyphGraphicItems[t]:this.graphicItem).finalAttrs=e}getPrevGraphicAttributes(e){return(e?this.glyphGraphicItems[e]:this.graphicItem).prevAttrs}setPrevGraphicAttributes(e,t){(t?this.glyphGraphicItems[t]:this.graphicItem).prevAttrs=e}getNextGraphicAttributes(e){return(e?this.glyphGraphicItems[e]:this.graphicItem).nextAttrs}setNextGraphicAttributes(e,t){(t?this.glyphGraphicItems[t]:this.graphicItem).nextAttrs=e}clearChangedGraphicAttributes(){this.setPrevGraphicAttributes(null),this.setNextGraphicAttributes(null),Object.keys(this.glyphGraphicItems).forEach(e=>{this.setPrevGraphicAttributes(null,e),this.setNextGraphicAttributes(null,e)})}clearGraphicAttributes(){this.setPrevGraphicAttributes(null),this.setNextGraphicAttributes(null),this.setFinalGraphicAttributes(null),Object.keys(this.glyphGraphicItems).forEach(e=>{this.setPrevGraphicAttributes(null,e),this.setNextGraphicAttributes(null,e),this.setFinalGraphicAttributes(null,e)})}remove(){this.glyphGraphicItems=null,super.remove()}release(){this.glyphGraphicItems&&(Object.values(this.glyphGraphicItems).forEach(e=>{e[U_]=null}),this.glyphGraphicItems=null),super.release()}}const q3=i=>i.markType===nt.glyph?new qyt(i):new aEe(i);function Mg(i,e,t){const n=new Map;if(!i||i.length===0)return{keys:[],data:n};if(!e)return n.set(Ru,t?i.slice().sort(t):i.slice()),{keys:F0t,data:n};const r=cx(e);if(i.length===1){const a=r(i[0]);return n.set(a,[i[0]]),{keys:[a],data:n}}const s=new Set;return i.forEach(a=>{var o;const l=r(a),u=(o=n.get(l))!==null&&o!==void 0?o:[];u.push(a),n.set(l,u),s.add(l)}),t&&s.forEach(a=>{n.get(a).sort(t)}),{keys:Array.from(s),data:n}}class KX{constructor(e,t,n){this.prevData=e!=null&&e.length?Mg(e,t??null,n):null}setCurrentData(e){this.currentData=e}getCurrentData(){return this.currentData}doDiff(){if(this.callback)if(this.currentData&&this.prevData){const e=new Map(this.prevData.data);this.currentData.keys.forEach(t=>{this.callback(t,this.currentData.data.get(t),e.get(t)),e.delete(t)}),this.prevData.keys.forEach(t=>{e.has(t)&&this.callback(t,null,e.get(t))})}else this.currentData?this.currentData.keys.forEach(e=>{this.callback(e,this.currentData.data.get(e),null)}):this.prevData&&this.prevData.keys.forEach(e=>{this.callback(e,null,this.prevData.data.get(e))})}setCallback(e){this.callback=e}updateToCurrent(){this.prevData=this.currentData,this.currentData=null}reset(){this.prevData=null}}function Zyt(i,e,t){const n={enter:[],exit:[],update:[]},r=new KX(i,t);return r.setCallback((s,a,o)=>{Y(a)?n.exit.push({prev:o[0]}):Y(o)?n.enter.push({next:a[0]}):n.update.push({next:a[0],prev:o[0]})}),r.setCurrentData(Mg(e,t)),r.doDiff(),n}function Qyt(i,e,t){const n={enter:[],exit:[],update:[]},r=new KX(i,t);return r.setCallback((s,a,o)=>{Y(a)?n.exit.push({prev:o}):Y(o)?n.enter.push({next:a}):n.update.push({next:a,prev:o})}),r.setCurrentData(Mg(e,t)),r.doDiff(),n}const uEe=(i,e)=>{if(!i)return null;if(i.from){const t=i.from,n=Object.keys(t);n.forEach(s=>{Y(t[s])&&delete t[s]});const r=XL(n,e.mark.markType)&&!X(t.segments);if(r){const s=e.items.map(a=>Object.assign({},a,{nextAttrs:Object.assign({},t)}));i.from=e.transformElementItems(s,e.mark.markType,r)}}if(i.to){const t=i.to,n=Object.keys(t);n.forEach(s=>{Y(t[s])&&delete t[s]});const r=XL(n,e.mark.markType)&&!X(t.segments);if(r){const s=e.items.map(a=>Object.assign({},a,{nextAttrs:Object.assign({},t)}));i.to=e.transformElementItems(s,e.mark.markType,r)}}return i};function Jyt(i,e,t,n){const r=Pe(e.options)?e.options.call(null,i.getDatum(),i,n):e.options;if(!e.type||!He.getAnimationType(e.type))return null;const s=He.getAnimationType(e.type)(i,r,t);return uEe(s,i)}const Jce=(i,e,t,n,r)=>Pe(t)?t(i.getDatum(),i,r):t;function e_t(i,e,t,n){const r=e.channel;let s=null;return ke(r)?s=r.reduce((a,o)=>(a.from[o]=i.getGraphicAttribute(o,!0),a.to[o]=i.getGraphicAttribute(o,!1),a),{from:{},to:{}}):yi(r)&&(s=Object.keys(r).reduce((a,o)=>{var l,u;const c=!Y((l=r[o])===null||l===void 0?void 0:l.from),d=!Y((u=r[o])===null||u===void 0?void 0:u.to);return(c||d)&&(a.from[o]=c?Jce(i,0,r[o].from,0,n):void 0,a.to[o]=d?Jce(i,0,r[o].to,0,n):i.getGraphicAttribute(o,!1)),a},{from:{},to:{}})),uEe(s,i)}class t_t extends cu{constructor(e,t,n,r,s){super(e,t,n,r,s),this._interpolator=s==null?void 0:s.interpolator,this._element=s==null?void 0:s.element}onBind(){var e,t;this.from=(e=this.from)!==null&&e!==void 0?e:{},this.to=(t=this.to)!==null&&t!==void 0?t:{}}getEndProps(){return this.to}onUpdate(e,t,n){this._interpolator&&this._element&&this._interpolator.call(this,t,this.from,this.to,n,this._element.getDatum(),this._element,this.params.parameters)}}class i_t extends cu{getEndProps(){return this.to}onBind(){var e;const t=(e=this.target.constructor.NOWORK_ANIMATE_ATTR)!==null&&e!==void 0?e:Zo,n=Object.keys(t).filter(o=>t[o]!==0);this.subAnimate.animate.preventAttrs(n);const r=Object.assign({},this.from),s=Object.assign({},this.to),a=[];Object.keys(s).forEach(o=>{n.includes(o)?(r[o]=s[o],this.from[o]=s[o]):Y(r[o])?r[o]=this.target.getComputedAttribute(o):a.push(o)}),this.target.animates.forEach(o=>{o!==this.subAnimate.animate&&o.preventAttrs(a)}),this._fromAttribute=r,this._toAttribute=s}onStart(){if(this._fromAttribute){const e={};Object.keys(this._fromAttribute).forEach(t=>{this.subAnimate.animate.validAttr(t)&&(e[t]=this._fromAttribute[t])}),this.target.setAttributes(e,!1,{type:us.ANIMATE_UPDATE,animationState:{ratio:0,end:!1}})}}onEnd(){if(this._toAttribute){const e={};Object.keys(this._toAttribute).forEach(t=>{this.subAnimate.animate.validAttr(t)&&(e[t]=this._toAttribute[t])}),this.target.setAttributes(e,!1,{type:us.ANIMATE_END})}}update(e,t,n){this.updateCount===0&&this.onFirstRun(),this.updateCount+=1;const r=this.step.getLastProps();Object.keys(r).forEach(s=>{this.subAnimate.animate.validAttr(s)&&(n[s]=r[s])}),this.onUpdate(e,t,n),e&&this.onEnd()}onUpdate(e,t,n){this.target.stepInterpolate(this.subAnimate,this.subAnimate.animate,n,this.step,t,e,this._toAttribute,this._fromAttribute)}}PD.mode|=Vx.SET_ATTR_IMMEDIATELY;let n_t=0;const ede=i=>!Y(i)&&(i.prototype instanceof cu||"onBind"in i.prototype&&"onStart"in i.prototype&&"onEnd"in i.prototype&&"onUpdate"in i.prototype);class r_t{constructor(e,t,n){this.id=n_t++,this.isAnimating=!1,this.runnings=[],this.element=e,this.animationOptions=n,this.unit=t}callback(e){return this.callbackFunction=e,this}animate(e,t){return this.isAnimating=!0,this.animateElement(e,t),this.runnings.length===0&&this.animationEnd(),this}stop(e="end",t=!0){return this.runnings.forEach(n=>n.stop(e)),this.animationEnd(t),this}pause(){return this.runnings.forEach(e=>e.pause()),this}resume(){return this.runnings.forEach(e=>e.resume()),this}startAt(e){return this.runnings.forEach(t=>{const n=this.unit.initialDelay;t.startAt(n+e)}),this}getTotalAnimationTime(){var e;const t=this.unit.initialDelay+this.unit.loopDuration*this.unit.loopCount;return(e=this.unit.totalTime)!==null&&e!==void 0?e:t}getEndAttributes(){return this.runnings.reduce((e,t)=>Object.assign(e,t.getEndProps()),{})}animationEnd(e=!0){var t;this.isAnimating=!1,this.runnings=null,e&&((t=this.callbackFunction)===null||t===void 0||t.call(null))}animateElement(e,t){const n=this.element.getGraphicItem();if(!n)return;const r=n.animate();this.runnings.push(r),r.startAt(this.unit.initialDelay),r.wait(this.unit.loopDelay),this.unit.timeSlices.forEach(s=>{this.animateTimeSlice(r,s,e,t)}),r.wait(this.unit.loopDelayAfter),r.loop(this.unit.loopCount-1),Ce(this.unit.totalTime)&&setTimeout(()=>{r&&r.stop("end")},this.unit.totalTime),r.onEnd(()=>{this.runnings=this.runnings.filter(s=>s!==r),this.runnings.length===0&&this.animationEnd()})}animateTimeSlice(e,t,n,r){const s=t.delay,a=t.delayAfter,o=t.duration,l=t.effects;if(s>0&&e.wait(s),l.length<0)e.wait(o);else{const u=l.map((c,d)=>{var h;const p=(h=c.type?Jyt(this.element,c,n,r):c.channel?e_t(this.element,c,n,r):void 0)!==null&&h!==void 0?h:{},f=p.custom||(c==null?void 0:c.custom),g=(p==null?void 0:p.customParameters)||(c==null?void 0:c.customParameters);p.from&&Object.keys(p.from).length&&this.unit&&this.animationOptions.timeline.controlOptions.immediatelyApply&&this.element.mark.markType!=="component"&&this.element.getGraphicItem().setAttributes(p.from);const v=ede(f);return!Y(f)&&!ede(f)?new t_t(p.from,p.to,o,c.easing,{interpolator:f,element:this.element,parameters:g}):v?new f(p.from,p.to,o,c.easing,g):p.to?new i_t(p.from,p.to,o,c.easing):void 0}).filter(c=>!Y(c));u.length===1?e.play(u[0]):u.length>1&&e.play(new mot(o,u))}a>0&&e.wait(a)}}function s_t(i){var e,t,n,r,s,a,o,l,u,c,d,h;if(Y(i.timeSlices)){const f=i;return{startTime:(e=f.startTime)!==null&&e!==void 0?e:Nce,totalTime:f.totalTime,oneByOne:(t=f.oneByOne)!==null&&t!==void 0?t:IW,loop:(n=f.loop)!==null&&n!==void 0?n:zce,controlOptions:Ie({},Hce,(r=f.controlOptions)!==null&&r!==void 0?r:{}),timeSlices:[{duration:(s=f.duration)!==null&&s!==void 0?s:nEe,delay:(a=f.delay)!==null&&a!==void 0?a:MW,delayAfter:(o=f.delayAfter)!==null&&o!==void 0?o:jce,effects:[{type:f.type,channel:f.channel,custom:f.custom,easing:(l=f.easing)!==null&&l!==void 0?l:RW,customParameters:f.customParameters,options:f.options}]}]}}const p=we(i.timeSlices).filter(f=>f.effects&&we(f.effects).filter(g=>g.channel||g.type).length);if(p.length)return{startTime:(u=i.startTime)!==null&&u!==void 0?u:Nce,totalTime:i.totalTime,oneByOne:(c=i.oneByOne)!==null&&c!==void 0?c:IW,loop:(d=i.loop)!==null&&d!==void 0?d:zce,controlOptions:Ie({},Hce,(h=i.controlOptions)!==null&&h!==void 0?h:{}),timeSlices:p.map(f=>{var g,v;return{duration:f.duration,delay:(g=f.delay)!==null&&g!==void 0?g:MW,delayAfter:(v=f.delayAfter)!==null&&v!==void 0?v:jce,effects:we(f.effects).filter(m=>m.channel||m.type).map(m=>{var b;return{type:m.type,channel:m.channel,custom:m.custom,easing:(b=m.easing)!==null&&b!==void 0?b:RW,customParameters:m.customParameters,options:m.options}})}}),partitioner:i.partitioner,sort:i.sort}}function tde(i){let e=[];return Object.keys(i).forEach(t=>{e=e.concat(cEe(t,i[t]))}),e}function cEe(i,e,t=0){const n=[];let r=t;return we(e).forEach(s=>{var a;const o=s_t(s);o&&(n.push({state:i,id:(a=o.id)!==null&&a!==void 0?a:`${i}-${r}`,timeline:o,originConfig:s}),r+=1)}),n}function Vm(i,e,t){return Pe(i)?i.call(null,e.getDatum(),e,t):i}class ide{constructor(e){this.parallelArrangers=[this],this.totalTime=0,this.startTime=0,this.endTime=0,this.animators=e.filter(t=>!Y(t)),this.totalTime=this.animators.reduce((t,n)=>Math.max(t,n.getTotalAnimationTime()),0)}parallel(e){const t=Array.from(new Set(this.parallelArrangers.concat(e.parallelArrangers)));return t.forEach(n=>{n.parallelArrangers=t}),this.arrangeTime(),this}after(e){return this.afterArranger=e,this.arrangeTime(),this}arrangeTime(){const e=this.parallelArrangers.reduce((n,r)=>Math.max(n,r.totalTime),this.totalTime),t=this.parallelArrangers.reduce((n,r)=>{var s,a;return Math.max(n,(a=(s=r.afterArranger)===null||s===void 0?void 0:s.endTime)!==null&&a!==void 0?a:0)},0);this.parallelArrangers.forEach(n=>{n.startTime=t,n.endTime=t+e,n.animators.forEach(r=>{r.startAt(t)})})}}class nde{constructor(e,t){this.state=null,this.immediateConfigs=[],this.isEnabled=!0,this.disabledStates=[],this.animators=new Map,this.elementRecorder=new WeakMap,this.timelineCount={},this.mark=e,this.configs=tde(t??{})}getAnimationConfigs(e){var t;return this.isEnabled?((t=this.configs)!==null&&t!==void 0?t:[]).filter(n=>n.state===e):[]}updateConfig(e){this.configs=tde(e??{})}updateState(e){this.state=e}animate(){if(!this.isEnabled||!this.configs||!this.configs.length)return;const e=this.mark.getAllElements(),t=this.mark.parameters();return e.forEach(n=>{var r;n.isReserved&&n.diffState!==Sn.exit&&(n.isReserved=!1);const s=(r=this.elementRecorder.get(n))===null||r===void 0?void 0:r.prevState;this.configs.some(a=>s!==n.diffState&&a.state===s&&a.timeline.controlOptions.stopWhenStateChange)&&this.clearElementAnimation(n,!1)}),this.configs.forEach(n=>{this.animateByTimeline(n,e,t)}),this.mark.cleanExitElements(),this}runAnimationByState(e){if(!this.isEnabled)return;const t=this.configs.filter(a=>a.state===e),n=this.mark.getAllElements(),r=this.mark.parameters(),s=t.reduce((a,o)=>a.concat(this.animateByTimeline(o,n,r,!0)),[]);return new ide(s)}stopAnimationByState(e){const t=this.animators.get(e);return t&&t.forEach(n=>n.stop()),this}pauseAnimationByState(e){const t=this.animators.get(e);return t&&t.forEach(n=>n.pause()),this}resumeAnimationByState(e){const t=this.animators.get(e);return t&&t.forEach(n=>n.resume()),this}run(e){if(!this.isEnabled)return;const t=cEe($ce,e,this.immediateConfigs.length);this.immediateConfigs=this.immediateConfigs.concat(t);const n=this.mark.getAllElements(),r=this.mark.parameters(),s=t.reduce((a,o)=>a.concat(this.animateByTimeline(o,n,r,!0)),[]);return new ide(s)}stop(){return this.animators.forEach(e=>{e.forEach(t=>t.stop())}),this}pause(){return this.animators.forEach(e=>e.forEach(t=>t.pause())),this}resume(){return this.animators.forEach(e=>e.forEach(t=>t.resume())),this}reverse(){return this}restart(){return this}record(){return this}recordEnd(){return this}isAnimating(){let e=!1;return this.animators.forEach(t=>{e=e||t.some(n=>n.isAnimating)}),e}isElementAnimating(e){var t;const n=(t=this.elementRecorder.get(e))===null||t===void 0?void 0:t.count;return Y(n)||Object.values(n).every(r=>r===0)}getAnimatorCount(){let e=0;return this.animators.forEach(t=>e+=t.length),e}getAllAnimators(){const e=[];return this.animators.forEach(t=>{e.push(...t)}),e}getElementAnimators(e,t){var n;const r=we(e);let s=[];return t?s=(n=this.animators.get(t))!==null&&n!==void 0?n:[]:this.animators.forEach(a=>{s=s.concat(a)}),s.filter(a=>r.includes(a.element))}enable(){return this.isEnabled=!0,this}disable(){return this.isEnabled=!1,this.stop(),this.animators.clear(),this}enableAnimationState(e){const t=we(e);return this.disabledStates=this.disabledStates.filter(n=>!t.includes(n)),this}disableAnimationState(e){const t=we(e);return this.disabledStates=this.disabledStates.concat(t),this}release(){this.stop(),this.animators.clear(),this.configs=null,this.animators=null,this.elementRecorder=null,this.timelineCount=null}animateByTimeline(e,t,n,r=!1){var s;const a=[],o=t.filter(l=>{const u=!(l.isReserved&&l.diffState===Sn.exit),c=this.getAnimationState(l),d=!this.disabledStates.includes(c),h=r||c===e.state,p=!e.timeline.partitioner||e.timeline.partitioner(l.getDatum(),l,n);return u&&d&&h&&p});if(o.length){Y(this.timelineCount[e.id])&&(this.timelineCount[e.id]=0),e.timeline.sort&&o.sort((u,c)=>e.timeline.sort(u.getDatum(),c.getDatum(),u,c,n));const l={width:this.mark.view.width(),height:this.mark.view.height(),group:(s=this.mark.group)!==null&&s!==void 0?s:null,mark:this.mark,view:this.mark.view,elementCount:o.length,elementIndex:0};o.forEach((u,c)=>{l.elementIndex=c;const d=Object.assign({[H0t]:l},n),h=this.getAnimationUnit(e.timeline,u,c,o.length,d);a.push(this.animateElement(e,h,u,l,d))})}return a}animateElement(e,t,n,r,s){var a,o;const l=new r_t(n,t,e);if(l.animate(r,s),!l.isAnimating)return;n.diffState===Sn.exit&&(n.isReserved=!0);const u=this.timelineCount[e.id]===0;this.timelineCount[e.id]+=1;const c=(a=this.elementRecorder.get(n))!==null&&a!==void 0?a:{prevState:e.state,count:{}};c.prevState=e.state,c.count[e.state]=((o=c.count[e.state])!==null&&o!==void 0?o:0)+1,this.elementRecorder.set(n,c);const d=this.animators.get(e.state);d?d.push(l):this.animators.set(e.state,[l]),l.callback(()=>{this.handleAnimatorEnd(l)});const h={mark:this.mark,animationState:e.state,animationConfig:e.originConfig};return u&&this.mark.emit(At.ANIMATION_START,h),this.mark.emit(At.ELEMENT_ANIMATION_START,h,n),l}getAnimationState(e){const t=Ps(this.state,this.mark.parameters(),e.getDatum(),e);return t??e.diffState}getAnimationUnit(e,t,n,r,s){const a=[],o=Vm(e.startTime,t,s),l=Vm(e.totalTime,t,s),u=Vm(e.oneByOne,t,s),c=Vm(e.loop,t,s);let d=0;e.timeSlices.forEach(p=>{var f;const g=Vm(p.delay,t,s),v=Vm(p.delayAfter,t,s),m=(f=Vm(p.duration,t,s))!==null&&f!==void 0?f:l/r,b=we(p.effects).map(_=>Object.assign({},_,{customParameters:Vm(_.customParameters,t,s)}));a.push({effects:b,duration:m,delay:g,delayAfter:v}),d+=g+m+v});const h=Xe(u)?u:u===!0?d:0;return{initialDelay:o,loopCount:Xe(c)?c:c===!0?1/0:1,loopDelay:h*n,loopDelayAfter:h*(r-n-1),loopAnimateDuration:d,loopDuration:d+h*(r-1),totalTime:l,timeSlices:a}}clearElementAnimation(e,t=!0){this.animators.forEach(n=>{n.forEach(r=>{r.element===e&&(r.animationOptions.state===Sn.exit?r.stop("start",!1):r.stop("end",!1),this.handleAnimatorEnd(r,t))})}),this.elementRecorder.delete(e)}clearAllElements(){const e=this.mark.getAllElements();e&&e.forEach((t,n)=>{this.clearElement(t,n===e.length-1)})}clearElement(e,t=!0){this.clearElementAnimation(e),e.getGraphicItem()&&(e.clearGraphicAttributes(),e.diffState===Sn.exit&&(e.isReserved=!1),t&&this.mark.cleanExitElements())}handleAnimatorEnd(e,t=!0){const n=e.element,r=e.animationOptions,s=r.state,a=s===$ce,o=this.elementRecorder.get(n).count;o[s]-=1,this.animators.set(s,this.animators.get(s).filter(d=>d!==e)),this.animators.get(s).length===0&&this.animators.delete(s),this.timelineCount[r.id]-=1;const l=this.timelineCount[r.id]===0,u=a?this.immediateConfigs.find(d=>d.id===r.id).originConfig:this.configs.find(d=>d.id===r.id).originConfig;l&&(delete this.timelineCount[r.id],a&&(this.immediateConfigs=this.immediateConfigs.filter(d=>d.id!==r.id))),t&&(Object.keys(this.timelineCount).length===0?this.clearAllElements():s===Sn.exit&&o[Sn.exit]===0&&this.clearElement(n));const c={mark:this.mark,animationState:s,animationConfig:u};l&&this.mark.emit(At.ANIMATION_END,c),this.mark.emit(At.ELEMENT_ANIMATION_END,c,n)}}class Gw extends w${constructor(e,t,n){super(e),this.grammarType="mark",this.elements=[],this.elementMap=new Map,this.isUpdated=!0,this._isReentered=!1,this.animate=new nde(this,{}),this.differ=new KX([]),this.markType=t,this.spec.type=t,this.spec.encode={update:{}},this.spec.group=n,n&&(this.group=n,this.attach(n),n.appendChild(this))}parse(e){var t,n,r;if(super.parse(e),this.spec.group){const a=ct(this.spec.group)?this.view.getMarkById(this.spec.group):this.spec.group;this.detach(a)}const s=ct(e.group)?this.view.getMarkById(e.group):e.group;return this.attach(s),this.join((t=e.from)===null||t===void 0?void 0:t.data,e.key,e.sort,e.groupBy,e.groupSort),this.coordinate(e.coordinate),this.state(e.state,this.spec.stateSort),Object.keys((n=this.spec.encode)!==null&&n!==void 0?n:{}).forEach(a=>{this.encodeState(a,{},!0)}),Object.keys((r=e.encode)!==null&&r!==void 0?r:{}).forEach(a=>{this.encodeState(a,e.encode[a])}),this.animation(e.animation),this.animationState(e.animationState),this.morph(e.morph,e.morphKey,e.morphElementKey),this.layout(e.layout),this.configure(e),this.transform(e.transform),this.parseAddition(e),this.spec=e,this.markType=e.type,this.commit(),this}parameters(){var e;return(e=this._finalParameters)!==null&&e!==void 0?e:super.parameters()}parseAddition(e){return this}reuse(e){if(e.grammarType!==this.grammarType)return this;const t=e;return this.markType=t.markType,this.coord=t.coord,this.elementMap=t.elementMap,this.elements=t.elements,this.elementMap.forEach(n=>n.mark=this),this.differ=t.differ,this.animate=t.animate,this.animate.mark=this,this._context=t._context,this.graphicItem=t.graphicItem,this.graphicIndex=t.graphicIndex,this.graphicParent=t.graphicParent,this.needClear=t.needClear,this.isUpdated=t.isUpdated,this}needLayout(){return!Y(this.spec.layout)}handleLayoutEnd(){}handleRenderEnd(){this.needClear&&(this.cleanExitElements(),this.elementMap.forEach(e=>{e.diffState===Sn.exit?e.clearGraphicAttributes():e.clearChangedGraphicAttributes()}),this.differ.updateToCurrent(),this.needClear=!1)}evaluateMainTasks(e,t){var n;if(this.needSkipBeforeLayout()&&this.view.getLayoutState()===wg.before)return this;const r=(n=this.view.renderer)===null||n===void 0?void 0:n.stage();this.init(r,t);const s=this.evaluateTransform(this._getTransformsBeforeJoin(),e??K3,t);let a=s!=null&&s.progressive?e:s;return this.evaluateGroup(a),this.renderContext=this.parseRenderContext(a,t),this.renderContext.progressive?(this.differ.reset(),this.elementMap.clear(),this.evaluateProgressive()):(s!=null&&s.progressive&&(this.renderContext.parameters=t,this.renderContext.beforeTransformProgressive=s.progressive,a=s.progressive.output()),this.emit(At.BEFORE_MARK_JOIN),this.evaluateJoin(a),this.emit(At.AFTER_MARK_JOIN),this.emit(At.BEFORE_MARK_STATE),this.evaluateState(this.elements,this.spec.state,t),this.emit(At.AFTER_MARK_STATE),this.emit(At.BEFORE_MARK_ENCODE),this.evaluateEncode(this.elements,this._getEncoders(),t),this.emit(At.AFTER_MARK_ENCODE)),this.emit(At.BEFORE_MARK_UPDATE),this.update(this.spec),this.emit(At.AFTER_MARK_UPDATE),this}evaluateGroup(e){if(this.markType===nt.group)return;const t=Mg(e??K3,this.spec.groupBy,this.spec.groupSort),n=t.keys;this._groupKeys=n,this._groupEncodeResult=null,this.differ.setCurrentData(t)}_getTransformsAfterEncodeItems(){return this.transforms&&this.transforms.filter(e=>e.markPhase==="afterEncodeItems")}_getTransformsAfterEncode(){return this.transforms&&this.transforms.filter(e=>Y(e.markPhase)||e.markPhase==="afterEncode")}_getTransformsBeforeJoin(){return this.transforms?this.transforms.filter(e=>e.markPhase==="beforeJoin"):[]}evaluate(e,t){var n;return this.evaluateMainTasks(e,t),!((n=this.renderContext)===null||n===void 0)&&n.progressive||this.evaluateTransform(this._getTransformsAfterEncode(),this.elements,t),this}output(){return this}join(e,t,n,r,s){return this.grammarSource&&(this.detach(this.grammarSource),this.grammarSource=null),this.spec.from=null,Y(e)||(ct(e)?this.grammarSource=this.view.getDataById(e):this.grammarSource=e,this.spec.from={data:e},this.attach(this.grammarSource)),this.spec.key=t,this.spec.sort=n,this.spec.groupBy=r,this.spec.groupSort=s,this.commit(),this}coordinate(e){return ct(e)?this.coord=this.view.getCoordinateById(e):this.coord=e,this.attach(this.coord),this.commit(),this}state(e,t){return this.spec.stateSort=t,this.setFunctionSpec(e,"state")}encode(e,t,n){return this.encodeState(Sn.update,e,t,n)}encodeState(e,t,n,r){if(e===Sn.enter&&(this._isReentered=!0),this.spec.encode[e]){const s=this.spec.encode[e];if(Xy(s))this.detach(hy(s,this.view));else{const a=ct(t);a&&r||!a&&n?(Object.keys(s).forEach(o=>{this.detach(hy(s[o],this.view))}),this.spec.encode[e]={}):a?this.detach(hy(s[t],this.view)):Object.keys(t).forEach(o=>{this.detach(hy(s[o],this.view))})}}return t&&(this.spec.encode[e]||(this.spec.encode[e]={}),ct(t)?(this.spec.encode[e][t]=n,this.attach(hy(n,this.view))):Xy(t)?(this.spec.encode[e]=t,this.attach(hy(t,this.view))):t&&(Object.assign(this.spec.encode[e],t),Object.values(t).forEach(s=>{this.attach(hy(s,this.view))}))),this.commit(),this}_getEncoders(){var e;return(e=this.spec.encode)!==null&&e!==void 0?e:{}}animation(e){return this.spec.animation=e,this}animationState(e){return this.setFunctionSpec(e,"animationState")}layout(e){return this.spec.layout=e,this.commit(),this}morph(e,t,n){return this.spec.morph=e,this.spec.morphKey=t,this.spec.morphElementKey=n,this}transform(e){const t=QL(this.spec.transform,this.view);t&&(this.detach(t.refs),this.transforms=[]);const n=QL(e,this.view);return n&&(this.attach(n.refs),this.transforms=n.transforms),this.spec.transform=e,this.commit(),this}configure(e){const t=["clip","clipPath","zIndex","interactive","context","setCustomizedShape","large","largeThreshold","progressiveStep","progressiveThreshold","support3d","morph","morphKey","morphElementKey","attributeTransforms","skipTheme","enableSegments","stateSort"];return e===null?(t.forEach(n=>{Y(this.spec[n])||(this.spec[n]=void 0)}),this):(t.forEach(n=>{Y(e[n])||(this.spec[n]=e[n])}),this)}context(e){return this.spec.context=e,this._context=e,this}isCollectionMark(){return iEe.includes(this.markType)}needAnimate(){var e;return!(!((e=this.renderContext)===null||e===void 0)&&e.progressive)&&!Y(this.spec.animation)}getAllElements(){const e=this.elements.slice();return this.elementMap.forEach(t=>{t.diffState!==Sn.exit||e.includes(t)||e.push(t)}),this.spec.sort&&e.sort((t,n)=>this.spec.sort(t.getDatum(),n.getDatum())),e}getScales(){const e={};return this.references.forEach((t,n)=>{n.grammarType===OW.scale&&(e[n.id()]=n.output())}),e}getScalesByChannel(){const e=this.spec.encode;if(!e)return{};const t={},n=this.parameters();return Object.keys(e).forEach(r=>{const s=e[r];s&&!Xy(s)&&Object.keys(s).forEach(a=>{x$(s[a])&&(t[a]=NT(s[a].scale,n))})}),t}getFieldsByChannel(){const e=this.spec.encode;if(!e)return{};const t={};return Object.keys(e).forEach(n=>{const r=e[n];Xy(r)||Object.keys(r).forEach(s=>{WX(r[s])&&(t[s]=r[s].field)})}),t}init(e,t){var n,r,s,a;if(this._delegateEvent||(this._delegateEvent=(u,c)=>{var d;const h=(d=u.target)===null||d===void 0?void 0:d[U_];if((h==null?void 0:h.mark)===this){const p=LW(this.view,u,h,c,qy);this.emitGrammarEvent(c,p,h)}},this.initEvent()),this.animate||(this.animate=new nde(this,this.spec.animation),this.needAnimate()&&this.animate.updateState(this.spec.animationState)),!this.group){const u=NT(this.spec.group,t);this.group=u,u&&u.appendChild(this)}const o=this.group?this.group.getGroupGraphicItem():e.defaultLayer,l=(s=(r=(n=this.group)===null||n===void 0?void 0:n.children)===null||r===void 0?void 0:r.indexOf(this))!==null&&s!==void 0?s:0;if(this.markType!==nt.group){if(!this.graphicItem){const u=VE(this,nt.group,{pickable:!1,zIndex:(a=this.spec.zIndex)!==null&&a!==void 0?a:0});(this.spec.support3d||L0t.includes(this.markType))&&u.setMode("3d"),u.name=`${this.id()||this.markType}`,this.graphicItem=u}this.graphicParent=this.graphicItem,!o||this.graphicIndex===l&&this.graphicItem.parent===o||o.insertIntoKeepIdx(this.graphicItem,l)}else this.graphicParent=o;this.graphicIndex=l}update(e){if(this._context=this.spec.context,this.isUpdated=!0,this.renderContext.progressive||(e.animation&&this.animate.updateConfig(e.animation),this.animate.updateState(e.animationState)),this.markType!==nt.group){if(Y(e.zIndex)||this.graphicItem.setAttribute("zIndex",e.zIndex),Y(e.clip)||this.graphicItem.setAttribute("clip",e.clip),!Y(e.clipPath)){const t=ke(e.clipPath)?e.clipPath:e.clipPath(this.elements);t&&t.length?this.graphicItem.setAttribute("path",t):this.graphicItem.setAttributes({path:t,clip:!1})}this.elementMap.forEach(t=>{t.updateGraphicItem()})}else this.elementMap.forEach(t=>{t.updateGraphicItem()})}evaluateJoin(e){var t,n,r,s;this.needClear=!0;const a=cx((r=(t=this.spec.key)!==null&&t!==void 0?t:(n=this.grammarSource)===null||n===void 0?void 0:n.getDataIDKey())!==null&&r!==void 0?r:()=>Ru),o=cx((s=this.spec.groupBy)!==null&&s!==void 0?s:()=>Ru),l=this.spec.sort,u=this.isCollectionMark(),c=new Set(this.elements.filter(p=>p.diffState===Sn.enter)),d=[];this.differ.setCallback((p,f,g)=>{const v=p;let m;if(Y(f))m=this.elementMap.get(v),m&&(m.diffState=Sn.exit);else if(Y(g)){m=this.elementMap.has(v)?this.elementMap.get(v):q3(this),m.diffState===Sn.exit&&(m.diffState=Sn.enter,this.animate.getElementAnimators(m,Sn.exit).forEach(_=>_.stop("start"))),m.diffState=Sn.enter;const b=u?p:o(f[0]);m.updateData(b,f,a,this.view),this.elementMap.set(v,m),d.push(m)}else if(m=this.elementMap.get(v),m){m.diffState=Sn.update;const b=u?p:o(f[0]);m.updateData(b,f,a,this.view),d.push(m)}c.delete(m)});const h=e??K3;u||this.differ.setCurrentData(Mg(h,p=>`${o(p)}-${a(p)}`,void 0)),this.differ.doDiff(),c.forEach(p=>{this.elementMap.delete(u?p.groupKey:`${p.groupKey}-${p.key}`),p.remove(),p.release()}),this.elements=d,l&&this.elements.length>=2&&this.elements.sort((p,f)=>l(p.getDatum(),f.getDatum()))}evaluateState(e,t,n){t&&e.forEach(r=>{r.state(t,n)})}evaluateGroupEncode(e,t,n){if(!this._groupKeys||!t)return;const r={};return this._groupKeys.forEach(s=>{const a=e.find(o=>o.groupKey===s);a&&(r[s]=Yv(t,a.items&&a.items[0]&&a.items[0].datum,a,n))}),this._groupEncodeResult=r,r}getChannelsFromConfig(e){const t=this.spec;return Y(t.interactive)?null:{pickable:t.interactive}}evaluateEncode(e,t,n,r){const s=this.getChannelsFromConfig();if(t){this.emit(At.BEFORE_ELEMENT_ENCODE,{encoders:t,parameters:n},this);const a=r?null:this.evaluateGroupEncode(e,t[wv.group],n);e.forEach(o=>{this.markType===nt.glyph&&this._groupEncodeResult?o.items.forEach(l=>{l.nextAttrs=Object.assign(l.nextAttrs,s,this._groupEncodeResult[o.groupKey])}):a!=null&&a[o.groupKey]&&!this.isCollectionMark()?o.items.forEach(l=>{l.nextAttrs=Object.assign(l.nextAttrs,s,a[o.groupKey])}):s&&o.items.forEach(l=>{l.nextAttrs=Object.assign(l.nextAttrs,s)}),o.encodeItems(o.items,t,this._isReentered,n)}),this._isReentered=!1,this.evaluateTransform(this._getTransformsAfterEncodeItems(),e,n),e.forEach(o=>{o.encodeGraphic(this.isCollectionMark()?a==null?void 0:a[o.groupKey]:null)}),this.emit(At.AFTER_ELEMENT_ENCODE,{encoders:t,parameters:n},this)}else e.forEach(a=>{a.initGraphicItem(s)})}addGraphicItem(e,t,n){var r;const s=n??VE(this,this.markType,e);if(s){if(!((r=this.renderContext)===null||r===void 0)&&r.progressive){let a;if(this._groupKeys){const o=this._groupKeys.indexOf(t);o>=0&&(a=this.graphicParent.getChildAt(o))}else a=this.graphicParent.at(0);this.isCollectionMark()?(s.incremental=1,a.appendChild(s)):a.incrementalAppendChild(s)}else this.graphicParent.appendChild(s);return s}}parseRenderContext(e,t){const n=this.markType!==nt.group&&this.spec.progressiveStep>0&&this.spec.progressiveThreshold>0&&this.spec.progressiveStep<this.spec.progressiveThreshold,r=this.spec.large&&this.spec.largeThreshold>0&&e.length>=this.spec.largeThreshold;if(n){const s=this.differ.getCurrentData();return s&&s.keys&&s.keys.some(a=>s.data.get(a).length>this.spec.progressiveThreshold)?{large:r,parameters:t,progressive:{data:e,step:this.spec.progressiveStep,currentIndex:0,totalStep:s.keys.reduce((a,o)=>Math.max(Math.ceil(s.data.get(o).length/this.spec.progressiveStep),a),1),groupedData:s.data}}:{large:r}}return{large:r}}isProgressive(){return this.renderContext&&(!!this.renderContext.progressive||!!this.renderContext.beforeTransformProgressive)}isDoingProgressive(){return this.renderContext&&(this.renderContext.progressive&&this.renderContext.progressive.currentIndex<this.renderContext.progressive.totalStep||this.renderContext.beforeTransformProgressive&&this.renderContext.beforeTransformProgressive.unfinished())}clearProgressive(){this.renderContext&&this.renderContext.progressive&&(this.elements=[],this.graphicParent.children.forEach(e=>{e.incrementalClearChild()}),this.graphicParent.removeAllChild()),this.renderContext&&this.renderContext.beforeTransformProgressive&&this.renderContext.beforeTransformProgressive.release(),this.renderContext=null}restartProgressive(){this.renderContext&&this.renderContext.progressive&&(this.renderContext.progressive.currentIndex=0)}evaluateJoinProgressive(){var e,t,n;const r=this.renderContext.progressive.currentIndex,s=cx((n=(e=this.spec.key)!==null&&e!==void 0?e:(t=this.grammarSource)===null||t===void 0?void 0:t.getDataIDKey())!==null&&n!==void 0?n:()=>Ru),a=[];if(this.isCollectionMark())return this._groupKeys.forEach((l,u)=>{const c=this.renderContext.progressive.groupedData.get(l),d=this.renderContext.progressive.step,h=c.slice(r*d,(r+1)*d);if(r===0){const p=q3(this);p.diffState=Sn.enter,p.updateData(l,h,s,this.view),a.push(p)}else{const p=this.elements[u];p.updateData(l,h,s,this.view),a.push(p)}}),a;const o={};return this._groupKeys.forEach(l=>{const u=this.renderContext.progressive.groupedData.get(l),c=this.renderContext.progressive.step,d=u.slice(r*c,(r+1)*c),h=[];d.forEach(p=>{const f=q3(this);f.diffState=Sn.enter,f.updateData(l,[p],s,this.view),h.push(f),a.push(f)}),o[l]=h}),{groupElements:o,elements:a}}evaluateEncodeProgressive(e,t,n){const r=this.renderContext.progressive.currentIndex;if(r===0){if(this.evaluateEncode(e,t,n),r===0&&this._groupEncodeResult&&!this.isCollectionMark()&&this.markType!==nt.glyph){const s=e[0],a=s.getGraphicItem(),o=a==null?void 0:a.parent;o&&this._groupEncodeResult[s.groupKey]&&o.setTheme({common:this._groupEncodeResult[s.groupKey]})}}else this.evaluateEncode(e,t,n,!0)}evaluateProgressive(){var e,t,n;if(!((e=this.renderContext)===null||e===void 0)&&e.beforeTransformProgressive){this.renderContext.beforeTransformProgressive.progressiveRun();const l=this.renderContext.beforeTransformProgressive.output();return this.emit(At.BEFORE_MARK_JOIN),this.evaluateJoin(l),this.emit(At.AFTER_MARK_JOIN),this.emit(At.BEFORE_MARK_STATE),this.evaluateState(this.elements,this.spec.state,this.renderContext.parameters),this.emit(At.AFTER_MARK_STATE),this.emit(At.BEFORE_MARK_ENCODE),this.evaluateEncode(this.elements,this._getEncoders(),this.renderContext.parameters),void this.emit(At.AFTER_MARK_ENCODE)}if(!(!((t=this.renderContext)===null||t===void 0)&&t.progressive))return;const r=this.renderContext.parameters;this.emit(At.BEFORE_MARK_JOIN);const s=this.evaluateJoinProgressive(),a=Array.isArray(s)?s:s.elements;if(this.emit(At.AFTER_MARK_JOIN),this.renderContext.progressive.currentIndex===0?(this.graphicParent.removeAllChild(),this._groupKeys.forEach(l=>{const u=VE(this,nt.group,{pickable:!1,zIndex:this.spec.zIndex});u.incremental=this.renderContext.progressive.step,this.graphicParent.appendChild(u)}),this.elements=a):this.elements=this.elements.concat(a),this.emit(At.BEFORE_MARK_STATE),this.evaluateState(a,this.spec.state,r),this.emit(At.AFTER_MARK_STATE),this.emit(At.BEFORE_MARK_ENCODE),Array.isArray(s))this.evaluateEncodeProgressive(a,this._getEncoders(),r);else{const l=s.groupElements;Object.keys(l).forEach(u=>{this.evaluateEncodeProgressive(l[u],this._getEncoders(),r)})}this.emit(At.AFTER_MARK_ENCODE);const o=(n=this._getTransformsAfterEncode())===null||n===void 0?void 0:n.filter(l=>l.canProgressive===!0);o!=null&&o.length&&this.evaluateTransform(o,this.elements,r),this.renderContext.progressive.currentIndex+=1}isLargeMode(){return this.renderContext&&this.renderContext.large}cleanExitElements(){this.elementMap.forEach((e,t)=>{e.diffState!==Sn.exit||e.isReserved||(this.elementMap.delete(t),e.remove(),e.release())})}getGroupGraphicItem(){if(this.elements&&this.elements[0]&&this.elements[0].getGraphicItem)return this.elements[0].getGraphicItem()}getBounds(){var e;return this.graphicItem?this.graphicItem.AABBBounds:(e=this.getGroupGraphicItem())===null||e===void 0?void 0:e.AABBBounds}getMorphConfig(){var e;return{morph:(e=this.spec.morph)!==null&&e!==void 0&&e,morphKey:this.spec.morphKey,morphElementKey:this.spec.morphElementKey}}getAttributeTransforms(){var e;return(e=this.spec.attributeTransforms)!==null&&e!==void 0?e:hP[this.markType]}getContext(){return this._context}needSkipBeforeLayout(){var e,t;if(((e=this.spec.layout)===null||e===void 0?void 0:e.skipBeforeLayouted)===!0)return!0;let n=this.group;for(;n;){if(((t=n.getSpec().layout)===null||t===void 0?void 0:t.skipBeforeLayouted)===!0)return!0;n=n.group}return!1}initEvent(){if(this._delegateEvent){const e=this.view.renderer.stage();e&&e.on("*",this._delegateEvent)}}releaseEvent(){if(this._delegateEvent){const e=this.view.renderer.stage();e&&e.off("*",this._delegateEvent)}}clear(){var e;this.releaseEvent(),this.transforms=null,this.elementMap=null,this.elements=null,this.graphicItem=null,this.animate=null,(e=this.group)===null||e===void 0||e.removeChild(this),this.group=null,super.clear()}prepareRelease(){this.animate.stop(),this.elementMap.forEach(e=>e.diffState=Sn.exit),this._finalParameters=this.parameters()}release(){this.releaseEvent(),this.elements.forEach(e=>e.release()),this.elementMap.clear(),this._finalParameters=null,this.animate&&this.animate.release(),this.graphicItem&&qL(this.graphicItem),this.detachAll(),super.release()}}let a_t=class extends Gw{constructor(e,t){super(e,nt.group,t),this.children=[]}parseRenderContext(){return{large:!1}}appendChild(e){return this.children.push(e),this}removeChild(e){return this.children=this.children.filter(t=>t!==e),this}includesChild(e,t=!0){return!!this.children.includes(e)||!!t&&this.children.some(n=>n.markType===nt.group&&n.includesChild(e,!0))}updateLayoutChildren(){return this.children.length?(this.layoutChildren||(this.layoutChildren=[]),this.layoutChildren=this.children.filter(e=>e.needLayout()),this):this}getAttributeTransforms(){return hP.rect}evaluateJoin(e){if(!this.elements.length){const t=q3(this);t.updateData(Ru,K3,()=>"",this.view),this.elements=[t],this.elementMap.set(Ru,t)}}getChannelsFromConfig(e){const t=this.spec,n={};if(Y(t.clip)||(n.clip=t.clip),Y(t.zIndex)||(n.zIndex=t.zIndex),!Y(t.clipPath)){const r=Pe(t.clipPath)?t.clipPath([e]):t.clipPath;r&&r.length?n.path=r:(n.path=null,n.clip=!1)}return Y(t.interactive)||(n.pickable=t.interactive),n}evaluateGroupEncode(e,t,n){var r;const s=this.elements[0],a={},o=[Object.assign({},(r=s.items)===null||r===void 0?void 0:r[0],{nextAttrs:a})];return mg(s,o,t,n),this._groupEncodeResult=a,a}evaluateEncode(e,t,n,r){const s=this.getChannelsFromConfig();if(t){this.emit(At.BEFORE_ELEMENT_ENCODE,{encoders:t,parameters:n},this);const a=r?null:this.evaluateGroupEncode(e,t[wv.group],n);e.forEach(o=>{o.items.forEach(l=>{l.nextAttrs=Object.assign(l.nextAttrs,s,a)}),o.encodeItems(o.items,t,this._isReentered,n)}),this._isReentered=!1,this.evaluateTransform(this._getTransformsAfterEncodeItems(),e,n),e.forEach(o=>{o.encodeGraphic()}),this.emit(At.AFTER_ELEMENT_ENCODE,{encoders:t,parameters:n},this)}else e.forEach(a=>{a.initGraphicItem(s)})}addGraphicItem(e,t,n){const r=n??VE(this,this.markType,e);if(r)return this.emit(At.BEFORE_ADD_VRENDER_MARK,{graphicItem:r}),r.name=`${this.id()||this.markType}`,this.graphicParent.insertIntoKeepIdx(r,this.graphicIndex),this.emit(At.AFTER_ADD_VRENDER_MARK,{graphicItem:r}),r}};function rde(i,e){if(Ce(i))return i;const t=i.trim();if(t==="auto")return 0;if(t.endsWith("%")){const n=parseFloat(t.substring(0,t.length-1));return Ce(n)?n*e:0}return 0}function o_t(i,e,t){var n,r,s,a;const o=(n=i.gridTemplateRows)!==null&&n!==void 0?n:[t],l=(r=i.gridTemplateColumns)!==null&&r!==void 0?r:[e],u=(s=i.gridRowGap)!==null&&s!==void 0?s:0,c=(a=i.gridColumnGap)!==null&&a!==void 0?a:0,d=o.map(_=>rde(_,t)),h=l.map(_=>rde(_,e)),p=Math.max(0,d.reduce((_,S)=>_-S,t)-d.length*u)/o.filter(_=>_==="auto").length,f=Math.max(0,h.reduce((_,S)=>_-S,e)-h.length*c)/l.filter(_=>_==="auto").length;let g=0;const v=d.map((_,S)=>{const C=o[S]==="auto"?p:_,k=g;return g+=C+u,k});v.push(g);let m=0;const b=h.map((_,S)=>{const C=l[S]==="auto"?f:_,k=m;return m+=C+c,k});return b.push(m),{rows:v,columns:b,rowGap:u,columnGap:c}}function OI(i,e){return Math.min(i<0?i+e:i-1,e)}function sde(i,e,t){let n=OI(i,t),r=OI(e,t);if(Ce(i)||Ce(e)?Ce(i)?Ce(e)||(n=OI(Math.max(0,r-1),t)):r=OI(n+1,t):(n=1,r=2),n>r){const s=r;r=n,n=s}return{start:n,end:r}}function l_t(i,e,t,n,r){const s=i.rows.length,a=i.columns.length,{start:o,end:l}=sde(e,t,s),{start:u,end:c}=sde(n,r,a),d=i.columns[o],h=i.columns[l]-(c===a?0:i.columnGap),p=i.rows[u],f=i.rows[c]-(l===s?0:i.rowGap);return new Da().set(d,p,h,f)}const u_t=(i,e,t,n)=>{const r=o_t(i.getSpec().layout,t.width(),t.height());e&&e.forEach(s=>{const a=s.getSpec().layout;s.layoutBounds=l_t(r,a.gridRowStart,a.gridRowEnd,a.gridColumnStart,a.gridColumnEnd),s.commit()})},c_t={[Tr.axis]:0,[Tr.legend]:1,[Tr.slider]:2,[Tr.player]:3,[Tr.datazoom]:4},ade=i=>{var e,t,n;return(t=(e=i.getSpec().layout)===null||e===void 0?void 0:e.order)!==null&&t!==void 0?t:i.markType==="component"&&(n=c_t[i.componentType])!==null&&n!==void 0?n:1/0},ode=(i,e,t,n)=>{const r=t.clone(),s=i.getSpec().layout,a=Pc(s.maxChildWidth,r.width()),o=Pc(s.maxChildHeight,r.width());let l=0,u=0,c=0,d=0;e.forEach(m=>{const b=m.getSpec().layout,_=Ev(b.padding),S=n.parseMarkBounds?n.parseMarkBounds(m.getBounds(),m):m.getBounds();if(b.position==="top"||b.position==="bottom"){const C=Math.min(S.height()+_.top+_.bottom,o);b.position==="top"?r.y1+=C:r.y2-=C,S.x1<t.x1&&(l=Math.max(l,t.x1-S.x1)),S.x2>t.x2&&(u=Math.max(u,S.x2-t.x2))}if(b.position==="left"||b.position==="right"){const C=Math.min(S.width()+_.left+_.right,a);b.position==="left"?r.x1+=C:r.x2-=C,S.y1<t.y1&&(c=Math.max(c,t.y1-S.y1)),S.y2>t.y2&&(d=Math.max(d,S.y2-t.y2))}b.position==="outside"&&(r.x1+=Math.max(t.x1-S.x1,0)+_.left,r.x2-=Math.max(S.x2-t.x2,0)+_.right,r.y1+=Math.max(t.y1-S.y1,0)+_.top,r.y2-=Math.max(S.y2-t.y2)+_.bottom)}),l>r.x1-t.x1&&l<t.width()&&(r.x1=t.x1+l),u>t.x2-r.x2&&u<t.width()&&(r.x2=t.x2-u),c>r.y1-t.y1&&c<t.height()&&(r.y1=t.y1+c),d>t.y2-r.y2&&d<t.height()&&(r.y2=t.y2-d);let h=r.y1,p=r.y2,f=r.x1,g=r.x2;const v=e.slice().sort((m,b)=>ade(m)-ade(b));for(let m=0,b=v.length;m<b;m++){const _=v[m],S=_.getSpec().layout,C=Ev(S.padding),k=n.parseMarkBounds?n.parseMarkBounds(_.getBounds(),_):_.getBounds();if(S.position==="top"||S.position==="bottom"){const E=Math.min(k.height()+C.top+C.bottom,o);if(S.position==="top"?(_.layoutBounds=new Da().set(r.x1,h-E,r.x2,h),h-=E):(_.layoutBounds=new Da().set(r.x1,p,r.x2,p+E),p+=E),_.relativePosition={top:_.layoutBounds.y1-r.y1,bottom:_.layoutBounds.y1-r.y2},S.align){const A=k.width()+C.left+C.right;A<r.width()&&(S.align==="center"?(_.layoutBounds.x1=(r.x1+r.x2)/2-A/2,_.layoutBounds.x2=_.layoutBounds.x1+A,_.relativePosition.left=_.relativePosition.right=(r.width()-A)/2):S.align==="right"?(_.layoutBounds.x1=r.x2-A,_.layoutBounds.x2=r.x2,_.relativePosition.right=0,_.relativePosition.left=r.width()-A):S.align==="left"&&(_.layoutBounds.x1=r.x1,_.layoutBounds.x2=r.x1+A,_.relativePosition.left=0,_.relativePosition.right=r.width()-A))}}else if(S.position==="left"||S.position==="right"){const E=Math.min(k.width()+C.left+C.right,a);if(S.position==="left"?(_.layoutBounds=new Da().set(f-E,r.y1,f,r.y2),f-=E):(_.layoutBounds=new Da().set(g,r.y1,g+E,r.y2),g+=E),_.relativePosition={left:_.layoutBounds.x1-r.x1,right:_.layoutBounds.x1-r.x2},S.align){const A=k.height()+C.top+C.bottom;E<r.width()&&(S.align==="middle"?(_.layoutBounds.y1=(r.y1+r.y2)/2-A/2,_.layoutBounds.y2=_.layoutBounds.y1+A,_.relativePosition.top=_.relativePosition.bottom=(r.height()-A)/2):S.align==="bottom"?(_.layoutBounds.y1=r.y2-A,_.layoutBounds.y2=r.y2,_.relativePosition.top=r.height()-A,_.relativePosition.bottom=0):S.align==="top"&&(_.layoutBounds.y1=r.y1,_.layoutBounds.y2=r.y1+A,_.relativePosition.bottom=r.height()-A,_.relativePosition.top=0))}}else S.position==="outside"?(f-=Math.max(t.x1-k.x1,0)+C.left,g-=Math.max(k.x2-t.x2,0)+C.right,h-=Math.max(t.y1-k.y1,0)+C.top,p+=Math.max(k.y2-t.y2)+C.bottom):_.layoutBounds=r}return r},dEe=(i,e,t)=>{i==null||i.forEach(n=>{var r;if(n.markType!==nt.group)return;const s=n.layoutChildren,a=n.getSpec().layout,o=(r=n.layoutBounds)!==null&&r!==void 0?r:n.getBounds();if(o){if(Pe(a))a.call(null,n,s,o,e);else if(Pe(a.callback))a.callback.call(null,n,s,o,e);else if(a.display==="relative")if(a.updateViewSignals){const l=t.getViewBox();l&&o.intersect(l);const u=ode(n,s,o,e),c=u.width(),d=u.height(),h={top:u.y1,right:t.width()-u.x2,left:u.x1,bottom:t.height()-u.y2};t.updateSignal(dx,c),t.updateSignal(hx,d),t.updateSignal(Ed,h)}else ode(n,s,o,e);else a.display==="grid"&&u_t(n,s,o);dEe(s,e,t)}})};class d_t extends Gw{constructor(e,t,n){super(e,nt.glyph,n),this.glyphType=t,this.glyphMeta=He.getGlyph(t)}configureGlyph(e){return this.spec.glyphConfig=e,this.commit(),this}getGlyphMeta(){return this.glyphMeta}getGlyphConfig(){return this.spec.glyphConfig}addGraphicItem(e,t){const n=eyt(this,this.glyphMeta,e);return super.addGraphicItem(e,t,n)}}const X7=Symbol.for("key");class h_t{diffGrammar(e,t){return Zyt(e,t,n=>{var r;return(r=n.id())!==null&&r!==void 0?r:Symbol()})}diffMark(e,t,n){const r={enter:[],exit:[],update:[]};let s=[],a=[];e.forEach(d=>{d.markType!==nt.group&&(n.morph&&d.getMorphConfig().morph||n.morphAll||n.reuse)?s.push(d):r.exit.push({prev:[d]})}),t.forEach(d=>{d.markType!==nt.group&&(n.morph&&d.getMorphConfig().morph||n.morphAll||n.reuse)?a.push(d):r.enter.push({next:[d]})});const o=this.diffUpdateByGroup(s,a,d=>d.getMorphConfig().morphKey,d=>d.getMorphConfig().morphKey);s=o.prev,a=o.next,r.update=r.update.concat(o.update);const l=this.diffUpdateByGroup(s,a,d=>d.id(),d=>d.id());s=l.prev,a=l.next,r.update=r.update.concat(l.update);const u=Mg(s,d=>{var h,p;return(p=(h=d.group)===null||h===void 0?void 0:h.id)===null||p===void 0?void 0:p.call(h)}),c=Mg(a,d=>{var h,p;return(p=(h=d.group)===null||h===void 0?void 0:h.id)===null||p===void 0?void 0:p.call(h)});return Object.keys(c).forEach(d=>{const h=u.data.get(d),p=c.data.get(d);if(h&&p){for(let f=0;f<Math.max(h.length,p.length);f+=1){const g=h[f],v=p[f];g&&v?r.update.push({prev:[g],next:[v]}):g?r.exit.push({prev:[g]}):v&&r.enter.push({next:[v]})}s=s.filter(f=>!h.includes(f)),a=a.filter(f=>!p.includes(f))}}),s.forEach(d=>r.exit.push({prev:[d]})),a.forEach(d=>r.enter.push({next:[d]})),r}_appendMorphKeyToElements(e){const t=e.getMorphConfig();if(!Y(t.morphElementKey)){const n=cx(t.morphElementKey);e.elements&&e.elements.forEach(r=>{r.morphKey=n(r.getDatum())})}}morph(e,t,n){const r=e.reduce((c,d)=>(this._appendMorphKeyToElements(d),c.concat(d.elements)),[]),s=t.reduce((c,d)=>(this._appendMorphKeyToElements(d),c.concat(d.elements)),[]),a=Qyt(r,s,c=>{var d;return(d=c.morphKey)!==null&&d!==void 0?d:c.key});e.forEach(c=>{var d,h;return(h=(d=c.animate)===null||d===void 0?void 0:d.disable)===null||h===void 0?void 0:h.call(d)}),t.forEach(c=>{var d,h;return(h=(d=c.animate)===null||d===void 0?void 0:d.disable)===null||h===void 0?void 0:h.call(d)});const o=e.concat(t).reduce((c,d)=>(Object.assign(c,d.parameters()),c),{});let l=0;const u=()=>{l-=1,l===0&&t.forEach(c=>{var d,h;(h=(d=c.animate)===null||d===void 0?void 0:d.enable)===null||h===void 0||h.call(d)})};a.enter.forEach(c=>{c.next.forEach(d=>{this.doMorph([],[d],n,u,o)}),l+=1}),a.update.forEach(c=>{const d=Math.min(c.prev.length,c.next.length),h=this.divideElements(c.prev,d),p=this.divideElements(c.next,d);for(let f=0;f<d;f++)this.doMorph(h[f],p[f],n,u,o),l+=1})}diffUpdateByGroup(e,t,n,r){const s=Mg(e,c=>{var d;return(d=n(c))!==null&&d!==void 0?d:X7}),a=Mg(t,c=>{var d;return(d=r(c))!==null&&d!==void 0?d:X7});let o=e,l=t;const u=[];return a.keys.forEach(c=>{if(c!==X7){const d=s.data.get(c),h=a.data.get(c);d&&h&&(u.push({prev:d,next:h}),o=o.filter(p=>!d.includes(p)),l=l.filter(p=>!h.includes(p)))}}),{prev:o,next:l,update:u}}doMorph(e,t,n,r,s){var a,o;const l={prev:e.map(v=>v.getDatum()),next:t.map(v=>v.getDatum())},u={prev:e.slice(),next:t.slice()},c=n.animation.easing,d=Ps(n.animation.delay,s,l,u),h=Ps(n.animation.duration,s,l,u),p=Ps(n.animation.oneByOne,s,l,u),f=Ps(n.animation.splitPath,s,l,u),g=Ce(p)&&p>0?v=>Xe(p)?v*p:p===!0?v*h:0:void 0;e.length!==1&&e.length!==0||t.length!==1?e.length===1&&t.length>1?Bot(e[0].getGraphicItem(),t.map(v=>v.getGraphicItem()),{delay:d,duration:h,easing:c,onEnd:r,individualDelay:g,splitPath:f}):e.length>1&&t.length===1&&Not(e.map(v=>v.getGraphicItem()),t[0].getGraphicItem(),{delay:d,duration:h,easing:c,onEnd:r,individualDelay:g,splitPath:f}):Qwe((o=(a=e[0])===null||a===void 0?void 0:a.getGraphicItem)===null||o===void 0?void 0:o.call(a),t[0].getGraphicItem(),{delay:d,duration:h,easing:c,onEnd:r})}divideElements(e,t){const n=Math.floor(e.length/t);return new Array(t).fill(0).map((r,s)=>e.slice(n*s,s===t-1?e.length:n*(s+1)))}}class hEe{constructor(e,t){this._grammars={signal:[],data:[],scale:[],coordinate:[],mark:[],customized:[]},this._grammarMap={signal:{},data:{},scale:{},coordinate:{},mark:{},customized:{}},this._size=0,this._mapKey=ct(e)?n=>n[e]:e,this._warning=t}record(e){var t,n;const r=e.grammarType,s=this._mapKey(e);return this._grammarMap[r]?(this._grammars[r].push(e),Y(s)||(this._grammarMap[r][s]?(t=this._warning)===null||t===void 0||t.call(this,s,e):this._grammarMap[r][s]=e)):(this._grammars.customized.push(e),Y(s)||(this._grammarMap.customized[s]?(n=this._warning)===null||n===void 0||n.call(this,s,e):this._grammarMap.customized[s]=e)),this._size+=1,this}unrecord(e){const t=e.grammarType,n=this._mapKey(e);return this._grammarMap[t]?(this._grammars[t]=this._grammars[t].filter(r=>r!==e),Y(n)||this._grammarMap[t][n]!==e||delete this._grammarMap[t][n]):(this._grammars.customized=this._grammars.customized.filter(r=>r!==e),Y(n)||this._grammarMap.customized[n]!==e||delete this._grammarMap.customized[n]),this._size-=1,this}size(){return this._size}getSignal(e){var t;return(t=this._grammarMap.signal[e])!==null&&t!==void 0?t:null}getData(e){var t;return(t=this._grammarMap.data[e])!==null&&t!==void 0?t:null}getScale(e){var t;return(t=this._grammarMap.scale[e])!==null&&t!==void 0?t:null}getCoordinate(e){var t;return(t=this._grammarMap.coordinate[e])!==null&&t!==void 0?t:null}getMark(e){var t;return(t=this._grammarMap.mark[e])!==null&&t!==void 0?t:null}getCustomized(e){var t;return(t=this._grammarMap.customized[e])!==null&&t!==void 0?t:null}getGrammar(e){return this._grammarMap.data[e]?this._grammarMap.data[e]:this._grammarMap.signal[e]?this._grammarMap.signal[e]:this._grammarMap.scale[e]?this._grammarMap.scale[e]:this._grammarMap.coordinate[e]?this._grammarMap.coordinate[e]:this._grammarMap.mark[e]?this._grammarMap.mark[e]:this._grammarMap.customized[e]?this._grammarMap.customized[e]:null}getAllSignals(){return this._grammars.signal}getAllData(){return this._grammars.data}getAllScales(){return this._grammars.scale}getAllCoordinates(){return this._grammars.coordinate}getAllMarks(){return this._grammars.mark}getAllCustomized(){return this._grammars.customized}traverse(e){var t;Object.values((t=this._grammars)!==null&&t!==void 0?t:{}).forEach(n=>(n??[]).forEach(r=>{e.call(null,r)}))}find(e){let t=null;return this.traverse(n=>e.call(null,n)===!0&&(t=n,!0)),t}filter(e){const t=[];return this.traverse(n=>{e.call(null,n)===!0&&t.push(n)}),t}clear(){this._size=0,this._grammars={signal:[],data:[],scale:[],coordinate:[],mark:[],customized:[]},this._grammarMap={signal:{},data:{},scale:{},coordinate:{},mark:{},customized:{}}}release(){this._size=0,this._grammars=null,this._grammarMap=null}}class p_t extends hEe{constructor(){super(...arguments),this._markNodes=[]}record(e){if(super.record(e),e.grammarType==="mark"){const t=e,n={mark:t,parent:null,children:[]};this._markNodes.forEach(r=>{const s=r.mark;s.markType===nt.group&&s.includesChild(t,!1)?(r.children.push(n),n.parent=r):t.markType===nt.group&&t.includesChild(s,!1)&&(n.children.push(r),r.parent=n)}),this._markNodes.push(n)}return this}unrecord(e){if(super.unrecord(e),e.grammarType==="mark"){const t=e,n=this._markNodes.find(r=>r.mark===t);this._markNodes.forEach(r=>{const s=r.mark;s.markType===nt.group&&s.includesChild(t,!1)?(r.children=r.children.filter(a=>a!==n),n.parent=null):t.markType===nt.group&&t.includesChild(s,!1)&&(n.children=n.children.filter(a=>a!==r),r.parent=null)}),this._markNodes=this._markNodes.filter(r=>r!==n)}return this}getAllMarkNodes(){return this._markNodes}clear(){super.clear(),this._markNodes=[]}release(){super.release(),this._markNodes=null}}class f_t{constructor(e){this._animations=[],this._additionalAnimateMarks=[],this.isEnabled=!0,this._onAnimationStart=t=>{this._additionalAnimateMarks=this._additionalAnimateMarks.filter(n=>{var r;return(r=n==null?void 0:n.animate)===null||r===void 0?void 0:r.isAnimating()}),this._animations.length===0&&this._additionalAnimateMarks.length===0&&this._view.emit(At.ALL_ANIMATION_START,{}),this._animations=this._animations.concat({config:t.animationConfig,mark:t.mark})},this._onAnimationEnd=t=>{this._additionalAnimateMarks=this._additionalAnimateMarks.filter(n=>{var r;return(r=n==null?void 0:n.animate)===null||r===void 0?void 0:r.isAnimating()}),this._animations=this._animations.filter(n=>n.config!==t.animationConfig||n.mark!==t.mark),this._animations.length===0&&this._additionalAnimateMarks.length===0&&this._view.emit(At.ALL_ANIMATION_END,{})},this._view=e,this._view.addEventListener(At.ANIMATION_START,this._onAnimationStart),this._view.addEventListener(At.ANIMATION_END,this._onAnimationEnd)}stop(){return this._view.traverseMarkTree(e=>{var t,n;e.animate&&((n=(t=e.animate).stop)===null||n===void 0||n.call(t))}),this._additionalAnimateMarks.forEach(e=>{var t,n;e.view&&e.animate&&((n=(t=e.animate).stop)===null||n===void 0||n.call(t))}),this._additionalAnimateMarks=[],this}pause(){return this._view.traverseMarkTree(e=>{var t,n;e.animate&&((n=(t=e.animate).pause)===null||n===void 0||n.call(t))}),this._additionalAnimateMarks.forEach(e=>{var t,n;e.view&&e.animate&&((n=(t=e.animate).pause)===null||n===void 0||n.call(t))}),this}resume(){return this._view.traverseMarkTree(e=>{var t,n;e.animate&&((n=(t=e.animate).resume)===null||n===void 0||n.call(t))}),this._additionalAnimateMarks.forEach(e=>{var t,n;e.view&&e.animate&&((n=(t=e.animate).resume)===null||n===void 0||n.call(t))}),this}enable(){return this.isEnabled=!0,this._view.traverseMarkTree(e=>{var t,n;e.animate&&((n=(t=e.animate).enable)===null||n===void 0||n.call(t))}),this}disable(){return this.isEnabled=!1,this._view.traverseMarkTree(e=>{var t,n;e.animate&&((n=(t=e.animate).disable)===null||n===void 0||n.call(t))}),this._additionalAnimateMarks.forEach(e=>{var t,n;e.view&&e.animate&&((n=(t=e.animate).stop)===null||n===void 0||n.call(t))}),this._additionalAnimateMarks=[],this}enableAnimationState(e){return this._view.traverseMarkTree(t=>{var n,r;t.animate&&((r=(n=t.animate).enableAnimationState)===null||r===void 0||r.call(n,e))}),this}disableAnimationState(e){return this._view.traverseMarkTree(t=>{var n,r;t.animate&&((r=(n=t.animate).disableAnimationState)===null||r===void 0||r.call(n,e))}),this}isAnimating(){return this._animations.length!==0||this._additionalAnimateMarks.some(e=>{var t;return((t=e==null?void 0:e.animate)===null||t===void 0?void 0:t.isAnimating())||!1})}animate(){return this.isEnabled?(this._view.traverseMarkTree(e=>{e.isUpdated&&e.animate&&e.animate.animate(),e.cleanExitElements(),e.isUpdated=!1},null,!0),this):this}animateAddition(e){const t=e.animate.animate();return t&&t.isAnimating()&&this._additionalAnimateMarks.push(e),this}release(){this._additionalAnimateMarks=[],this._animations=[],this._view.removeEventListener(At.ALL_ANIMATION_START,this._onAnimationStart),this._view.removeEventListener(At.ALL_ANIMATION_END,this._onAnimationEnd),this._view=null}}let pEe=class extends Gw{addGraphicItem(e,t){const n=e&&e.limitAttrs,r=n&&(n.textType==="rich"||n.text&&n.text.type==="rich"),s=VE(this,r?nt.richtext:nt.text,e);return super.addGraphicItem(e,t,s)}release(){super.release()}};pEe.markType=nt.text;const g_t={label:{visible:!0,inside:!1,space:4,style:{fontSize:12,fill:"#89909d",fontWeight:"normal",fillOpacity:1}},tick:{visible:!0,inside:!1,alignWithLabel:!0,length:4,style:{lineWidth:1,stroke:"#D9DDE4",strokeOpacity:1}},subTick:{visible:!1,inside:!1,count:4,length:2,style:{lineWidth:1,stroke:"#D9DDE4",strokeOpacity:1}},line:{visible:!0,style:{lineWidth:1,stroke:"#D9DDE4",strokeOpacity:1}},items:[],start:{x:0,y:0},end:{x:100,y:0},x:0,y:0},m_t={title:{space:4,padding:[0,0,0,0],textStyle:{fontSize:12,fill:"#333333",fontWeight:"normal",fillOpacity:1},text:"theta"},label:{visible:!0,inside:!1,space:4,style:{fontSize:12,fill:"#6F6F6F",fontWeight:"normal",fillOpacity:1}},tick:{visible:!0,inside:!1,alignWithLabel:!0,length:4,style:{lineWidth:1,stroke:"#D9DDE4",strokeOpacity:1}},subTick:{visible:!1,inside:!1,count:4,length:2,style:{lineWidth:1,stroke:"#D9DDE4",strokeOpacity:1}},line:{visible:!0,style:{lineWidth:1,stroke:"#D9DDE4",strokeOpacity:1}},items:[],startAngle:0,endAngle:2*Math.PI,radius:100,innerRadius:0,center:{x:0,y:0},x:0,y:0},v_t={style:{stroke:"#f1f2f5"}},y_t={style:{stroke:"#f1f2f5"}},__t={layout:"vertical",title:{align:"start",space:12,textStyle:{fontSize:12,fontWeight:"bold",fill:"#2C3542"}},item:{spaceCol:10,spaceRow:10,shape:{space:4,style:{size:10,cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8",stroke:"#D8D8D8",fillOpacity:.5}}},label:{space:4,style:{fontSize:12,fill:"black",cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8",fillOpacity:.5}}},value:{alignRight:!1,style:{fontSize:12,fill:"#ccc",cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8"}}},background:{style:{cursor:"pointer"},state:{selectedHover:{fillOpacity:.7,fill:"gray"},unSelectedHover:{fillOpacity:.2,fill:"gray"}}},focus:!1,focusIconStyle:{size:10,fill:"#333",cursor:"pointer"},visible:!0,padding:{top:2,bottom:2,left:2,right:2}},autoPage:!0,pager:{space:12,handler:{style:{size:10},space:4}},hover:!0,select:!0,selectMode:"multiple",allowAllCanceled:!1,items:[{index:0,id:"",label:"",shape:{fill:"#6690F2",stroke:"#6690F2",symbolType:"circle"}}]},b_t={title:{visible:!1,text:""},colors:[],layout:"horizontal",railWidth:200,railHeight:8,railStyle:{cornerRadius:5}},S_t={title:{visible:!1,text:""},trackStyle:{fill:"#ccc"},layout:"horizontal",align:"bottom",railWidth:200,railHeight:6,min:0,max:1,value:[0,1]},x_t={start:{x:0,y:0},end:{x:0,y:0}},w_t={start:{x:0,y:0},end:{x:0,y:0},rectStyle:{width:10,height:10}},C_t={center:{x:0,y:0},radius:100,startAngle:0,endAngle:Math.PI/6},k_t={center:{x:0,y:0},radius:100,startAngle:0,endAngle:2*Math.PI},E_t={center:{x:0,y:0},radius:100,startAngle:0,endAngle:2*Math.PI,sides:6},A_t={layout:"horizontal",railWidth:200,railHeight:10,railStyle:{cornerRadius:5},range:{draggableTrack:!0},startText:{visible:!0,text:"",space:8},endText:{visible:!0,text:"",space:8},min:0,max:1,value:[0,1]},T_t={size:{width:400,height:400},dataLabels:[]},P_t={type:"line-data",data:[{text:""}],position:"top",overlap:{avoidBaseMark:!1,clampForce:!1},smartInvert:!1},O_t={type:"line",data:[{text:"",data:{}}],position:"start",overlap:{avoidBaseMark:!1,clampForce:!1,size:{width:1e3,height:1e3}},smartInvert:!1},M_t={type:"area",data:[{text:"",data:{}}],position:"end",overlap:{avoidBaseMark:!1,clampForce:!1,size:{width:1e3,height:1e3}},smartInvert:!1},I_t={type:"rect",data:[{text:"",fill:"#606773",data:{}}],position:"top",overlap:{size:{width:1e3,height:1e3},strategy:[{type:"position"}]},smartInvert:!1},R_t={type:"symbol",data:[{text:"",fill:"#606773",data:{}}],position:"top",overlap:{avoidBaseMark:!0,size:{width:1e3,height:1e3},strategy:[{type:"position"}]},smartInvert:!1},D_t={type:"arc",data:[{text:"",fill:"#606773",data:{}}],width:800,height:600,position:"outside",zIndex:302},L_t={data:[{text:"",fill:"#606773",data:{}}],overlap:{avoidBaseMark:!1,clampForce:!1,size:{width:1e3,height:1e3}},smartInvert:!1},F_t={orient:"bottom",showDetail:"auto",brushSelect:!0,start:0,end:1,position:{x:0,y:0},size:{width:500,height:40},previewData:[]},B_t={},$_t={},N_t={},j_t={textStyle:{fill:"#21252c"},subtextStyle:{fill:"#606773"}},z_t={width:12,height:12,padding:[2,2],railStyle:{fill:"rgba(0, 0, 0, .1)"}},fEe={axis:g_t,circleAxis:m_t,grid:v_t,circleGrid:y_t,discreteLegend:__t,colorLegend:b_t,sizeLegend:S_t,lineCrosshair:x_t,rectCrosshair:w_t,sectorCrosshair:C_t,circleCrosshair:k_t,polygonCrosshair:E_t,slider:A_t,dataLabel:T_t,pointLabel:L_t,lineLabel:O_t,areaLabel:M_t,rectLabel:I_t,symbolLabel:R_t,arcLabel:D_t,lineDataLabel:P_t,datazoom:F_t,continuousPlayer:B_t,discretePlayer:$_t,tooltip:N_t,title:j_t,scrollbar:z_t},gEe=5,mEe={symbol:{shape:"circle",size:8},text:{fontSize:14,fill:"#000000"}},Io=Object.assign({},fEe);Io.axis=Object.assign({},Io.axis,{label:{style:{fill:"#bbbdc3"}},line:{style:{stroke:"#4b4f54"}},tick:{style:{stroke:"#4b4f54"}},subTick:{style:{stroke:"#4b4f54"}}}),Io.circleAxis=Object.assign({},Io.circleAxis,{label:{style:{fill:"#bbbdc3"}},line:{style:{stroke:"#4b4f54"}},tick:{style:{stroke:"#4b4f54"}},subTick:{style:{stroke:"#4b4f54"}}}),Io.grid=Object.assign({},Io.grid,{style:{stroke:"#404349"}}),Io.circleGrid=Object.assign({},Io.circleGrid,{style:{stroke:"#404349"}}),Io.rectLabel=Object.assign({},Io.rectLabel,{data:[{text:"",fill:"#888c93",data:{}}]}),Io.lineLabel=Object.assign({},Io.lineLabel,{data:[{text:"",fill:"#888c93",data:{}}]}),Io.symbolLabel=Object.assign({},Io.symbolLabel,{data:[{text:"",fill:"#888c93",data:{}}]}),Io.title=Object.assign({},Io.title,{textStyle:{fill:"#fdfdfd"},subtextStyle:{fill:"#888c93"}});const H_t={name:"dark",padding:gEe,background:"#202226",palette:{default:["#5383F4","#7BCF8E","#FF9D2C","#FFDB26","#7568D9","#80D8FB","#1857A3","#CAB0E8","#FF8867","#B9E493","#2CB4A8","#B9E4E3"]},marks:mEe,components:Io},V_t={name:"default",padding:gEe,palette:{default:["#6690F2","#70D6A3","#B4E6E2","#63B5FC","#FF8F62","#FFDC83","#BCC5FD","#A29BFE","#63C4C7","#F68484"]},marks:mEe,components:fEe};let Zy=class oE{static registerTheme(e,t){e&&oE._themes.set(e,t)}static unregisterTheme(e){oE._themes.delete(e)}static getTheme(e){return oE._themes.get(e)}static getDefaultTheme(){return oE.getTheme("default")}};Zy._themes=new Map,Zy.registerTheme("default",V_t),Zy.registerTheme("dark",H_t);class XX extends Gw{constructor(e,t,n,r){super(e,nt.component,n),this._componentDatum={[Ru]:0},this.componentType=t,this.spec.type="component",this.spec.componentType=t,this.mode=r,this._updateComponentEncoders()}configureComponent(e){return this.spec.componentConfig=e,this.commit(),this}addGraphicItem(e,t,n){const r=n??He.createGraphicComponent(this.componentType,e,{mode:this.mode,skipDefault:this.spec.skipTheme});return r&&(this.emit(At.BEFORE_ADD_VRENDER_MARK,{graphicItem:r}),this.graphicParent.appendChild(r),this.emit(At.AFTER_ADD_VRENDER_MARK,{graphicItem:r})),r}join(e){return super.join(e,Ru)}encodeState(e,t,n){return super.encodeState(e,t,n),this._updateComponentEncoders(),this}parseRenderContext(){return{large:!1}}_prepareRejoin(){this._componentDatum[Ru]+=1}evaluateJoin(e){return this.spec.key=Ru,e?(e[Ru]=this._componentDatum[Ru],this._componentDatum=e):this._componentDatum={[Ru]:this._componentDatum[Ru]},super.evaluateJoin([this._componentDatum])}_updateComponentEncoders(){this._encoders=this.spec.encode}_getEncoders(){var e;return(e=this._encoders)!==null&&e!==void 0?e:{}}}let Sb=class extends gb{static useRegisters(e){e.forEach(t=>{t()})}constructor(e={},t={}){super(),this._observer=null,this._onResize=Pf((...n)=>{const r=this._getContainerSize();r&&this.resize(r.width,r.height)},100),this.delegateEvent=(n,r)=>{var s;const a=(s=n.target)===null||s===void 0?void 0:s[U_],o=LW(this,n,a,r,qy);this.emit(r,o,a)},this.handleProgressiveFrame=()=>{this._progressiveMarks.length&&this._progressiveMarks.forEach(n=>{n.isDoingProgressive()&&n.evaluateProgressive()}),this.doPreProgressive()},this._config=t,this._options=Object.assign({mode:Ayt},e),this.initialize()}getGrammarById(e){return this.grammars.getGrammar(e)}getSignalById(e){return this.grammars.getSignal(e)}getDataById(e){return this.grammars.getData(e)}getScaleById(e){return this.grammars.getScale(e)}getCoordinateById(e){return this.grammars.getCoordinate(e)}getMarkById(e){return this.grammars.getMark(e)}getCustomizedById(e){return this.grammars.getCustomized(e)}getGrammarsByName(e){return this.grammars.filter(t=>t.name()===e)}getGrammarsByType(e){return this.grammars.filter(t=>t.grammarType===e)}getMarksByType(e){return this.grammars.getAllMarks().filter(t=>t.markType===e)}getMarksByName(e){return this.grammars.getAllMarks().filter(t=>t.name()===e)}getMarksBySelector(e){if(!e)return null;const t=we(e),n=[];return t.forEach(r=>{if(dP(r))return void n.push(r);if(r[0]===Yyt){const a=this.getMarkById(r.slice(1));return void(a&&n.push(a))}const s=r[0]===Gyt?this.getMarksByName(r.slice(1)):rEe(r)?this.getMarksByType(r):null;s&&s.length&&s.forEach(a=>{n.push(a)})}),n}updateSignal(e,t){ct(e)&&(e=this.getSignalById(e)),e.set(t),this.commit(e)}signal(e,t){const n=new Nyt(this);return arguments.length>=1&&n.value(e),arguments.length>=2&&n.update(t),this.grammars.record(n),this._dataflow.add(n),n}data(e){const t=new Eyt(this,e);return this.grammars.record(t),this._dataflow.add(t),t}scale(e){const t=He.createGrammar("scale",this,e);return t&&(this.grammars.record(t),this._dataflow.add(t)),t}coordinate(e){const t=He.createGrammar("coordinate",this,e);return t&&(this.grammars.record(t),this._dataflow.add(t)),t}mark(e,t,n){const r=ct(t)?this.getMarkById(t):t;let s;switch(e){case nt.group:s=new a_t(this,r);break;case nt.glyph:s=new d_t(this,n==null?void 0:n.glyphType,r);break;case nt.component:s=He.hasComponent(n==null?void 0:n.componentType)?He.createComponent(n==null?void 0:n.componentType,this,r,n==null?void 0:n.mode):new XX(this,n==null?void 0:n.componentType,r,n==null?void 0:n.mode);break;case nt.text:s=new pEe(this,e,r);break;default:s=He.hasMark(e)?He.createMark(e,this,r):new Gw(this,e,r)}return this.grammars.record(s),this._dataflow.add(s),s}group(e){return this.mark(nt.group,e)}glyph(e,t){return this.mark(nt.glyph,t,{glyphType:e})}component(e,t,n="2d"){return this.mark(nt.component,t,{componentType:e,mode:n})}axis(e,t="2d"){return this.mark(nt.component,e,{componentType:Tr.axis,mode:t})}grid(e,t="2d"){return this.mark(nt.component,e,{componentType:Tr.grid,mode:t})}legend(e){return this.mark(nt.component,e,{componentType:Tr.legend})}slider(e){return this.mark(nt.component,e,{componentType:Tr.slider})}label(e){return this.mark(nt.component,e,{componentType:Tr.label})}datazoom(e){return this.mark(nt.component,e,{componentType:Tr.datazoom})}player(e){return this.mark(nt.component,e,{componentType:Tr.player})}title(e){return this.mark(nt.component,e,{componentType:Tr.title})}scrollbar(e){return this.mark(nt.component,e,{componentType:Tr.scrollbar})}customized(e,t){const n=He.createGrammar(e,this,t==null?void 0:t.type);if(n)return n.parse(t),this.grammars.record(n),this._dataflow.add(n),n}addGrammar(e){return this.grammars.find(t=>t.uid===e.uid)||(this.grammars.record(e),this._dataflow.add(e),e.parse(e.getSpec()),this._needBuildLayoutTree=!0),this}removeGrammar(e){const t=ct(e)?this.getGrammarById(e):e;return t&&this.grammars.find(n=>n.uid===t.uid)?(t.grammarType==="mark"&&t.prepareRelease(),this._cachedGrammars.record(t),this._dataflow.remove(t),this.grammars.unrecord(t),this._needBuildLayoutTree=!0,this):this}removeAllGrammars(){return this.grammars.traverse(e=>{e.grammarType==="signal"&&Qce.includes(e.id())||e.grammarType==="mark"&&e.id()==="root"||this.removeGrammar(e)}),this}removeAllGraphicItems(){return this.traverseMarkTree(e=>{e.graphicItem&&(qL(e.graphicItem),e.elementMap.forEach(t=>{t.resetGraphicItem()}),e.graphicItem=null)}),this}parseSpec(e){var t,n,r,s,a,o;if(this.emit(At.BEFORE_PARSE_VIEW),this._spec=e,Hyt(e),e.theme?this.theme(e.theme):this.theme(Zy.getDefaultTheme()),e.width&&this.width(e.width),e.height&&this.height(e.height),this.padding((n=(t=e.padding)!==null&&t!==void 0?t:this._options.padding)!==null&&n!==void 0?n:this._theme.padding),!this.width()||!this.height()){const u=this._getContainerSize();u&&(this.updateSignal(Cv,u.width),this.updateSignal(kv,u.height))}!((r=e.signals)===null||r===void 0)&&r.length&&e.signals.forEach(u=>{this.signal().parse(u)}),!((s=e.data)===null||s===void 0)&&s.length&&e.data.forEach(u=>{this.data(null).parse(u)}),!((a=e.coordinates)===null||a===void 0)&&a.length&&e.coordinates.forEach(u=>{var c;(c=this.coordinate(u.type))===null||c===void 0||c.parse(u)}),!((o=e.scales)===null||o===void 0)&&o.length&&e.scales.forEach(u=>{var c;(c=this.scale(u.type))===null||c===void 0||c.parse(u)});const l=He.getGrammars();return Object.keys(l).forEach(u=>{const{specKey:c}=l[u];e[c]&&e[c].length&&e[c].forEach(d=>{this.customized(u,d)})}),e.marks&&e.marks.length&&e.marks.forEach(u=>{this.parseMarkSpec(u)}),e.events&&e.events.length&&e.events.forEach(u=>{this.event(u)}),e.interactions&&e.interactions.length&&e.interactions.forEach(u=>{this.interaction(u.type,u)}),e.animation===!1?this.animate.disable():this.animate.enable(),this.emit(At.AFTER_PARSE_VIEW),this._needBuildLayoutTree=!0,this._layoutState=wg.before,this}updateSpec(e){return this.removeAllInteractions(),this.removeAllGrammars(),this.parseSpec(e)}parseBuiltIn(){zyt(this._options,this._config,this.getCurrentTheme()).forEach(e=>{const t=this.signal().parse(e);e.value&&t.set(e.value)}),this.parseMarkSpec({id:"root",type:"group",encode:{enter:{x:0,y:0},update:{width:{signal:"width"},height:{signal:"height"}}}}),this.rootMark=this.getMarkById("root")}parseMarkSpec(e){var t;const n=e.type===nt.glyph?{glyphType:e.glyphType}:e.type===nt.component?{componentType:e.componentType,mode:e.mode}:null;this.mark(e.type,e.group,n).parse(e),(t=e.marks)===null||t===void 0||t.forEach(r=>{this.parseMarkSpec(r)})}theme(e){var t,n,r,s,a,o;ct(e)?this._theme=(t=Zy.getTheme(e))!==null&&t!==void 0?t:Zy.getDefaultTheme():this._theme=e;const{background:l,padding:u}=(n=this._spec)!==null&&n!==void 0?n:{};return this._theme?(this.background((r=l??this._options.background)!==null&&r!==void 0?r:this._theme.background),this.padding((s=u??this._options.padding)!==null&&s!==void 0?s:this._theme.padding),(o=(a=this.renderer.stage())===null||a===void 0?void 0:a.setTheme)===null||o===void 0||o.call(a,Object.assign({},this._theme.marks))):(this.background(l??this._options.background),this.padding(u??this._options.padding)),this}getCurrentTheme(){return this._theme}setCurrentTheme(e,t=!0){return this.theme(e),this.grammars.getAllMarks().forEach(n=>{n.commit()}),t?(this.evaluate(),this.renderer.render(!0)):this._dataflow.evaluate(),this}background(e){return arguments.length?(this._background=e,this.renderer.background(e),e):this._background}width(e){const t=this.getSignalById(Cv);return arguments.length?(this._options.width=e,this.updateSignal(t,e),e):t.output()}height(e){const t=this.getSignalById(kv);return arguments.length?(this._options.height=e,this.updateSignal(t,e),e):t.output()}viewWidth(e){const t=this.getSignalById(dx);if(arguments.length){const n=this.padding();return this.width(e+n.left+n.right),e}return t.output()}viewHeight(e){const t=this.getSignalById(hx);if(arguments.length){const n=this.padding();return this.height(e+n.top+n.bottom),e}return t.output()}padding(e){const t=this.getSignalById(Ed);if(arguments.length){const n=Ev(e);return this.updateSignal(t,n),n}return Ev(t.output())}autoFit(e){const t=this.getSignalById(WE);return arguments.length?(this.updateSignal(t,e),e):t.output()}getViewBox(){const e=this.getSignalById(YX);return e==null?void 0:e.output()}updateLayoutTag(){return this._layoutState=wg.before,this}getLayoutState(){return this._layoutState}buildLayoutTree(){const e={},t=[];this.traverseMarkTree(n=>{e[n.id()]=!0,n.group&&e[n.group.id()]||t.push(n),n.markType===nt.group&&n.updateLayoutChildren()},n=>n.needLayout()),this._layoutMarks=t}doLayout(){var e;const t=this._options.doLayout||dEe;t&&(!((e=this._layoutMarks)===null||e===void 0)&&e.length)&&(this.emit(At.BEFORE_DO_LAYOUT),t(this._layoutMarks,this._options,this),this.emit(At.AFTER_DO_LAYOUT))}handleLayoutEnd(){this.emit(At.BEFORE_MARK_LAYOUT_END),this._layoutMarks.forEach(e=>{K7(e,"layoutChildren",t=>{t.handleLayoutEnd()},t=>t!==e)}),this.emit(At.AFTER_MARK_LAYOUT_END)}handleRenderEnd(){this.emit(At.BEFORE_MARK_RENDER_END),K7(this.rootMark,"children",e=>{e.handleRenderEnd()}),this.emit(At.AFTER_MARK_RENDER_END)}commit(e){return this._dataflow.commit(e),this}run(e){return this.evaluate(e),this}doRender(e){this.emit(At.BEFORE_DO_RENDER),this.renderer&&(this._progressiveMarks||this.animate.animate(),this.renderer.render(e),this.handleRenderEnd()),this.emit(At.AFTER_DO_RENDER)}evaluate(e){var t,n;const r=Vyt(e),s=this._cachedGrammars.size()>0;s&&(this.reuseCachedGrammars(r),this.detachCachedGrammar());const a=this._resizeRenderer(),o=this._dataflow.hasCommitted();return s||o||this._layoutState||a?(this.clearProgressive(),this._dataflow.evaluate(),this._needBuildLayoutTree&&(this.buildLayoutTree(),this._needBuildLayoutTree=!1),this._layoutState&&(this._layoutState=wg.layouting,this.doLayout(),this._dataflow.hasCommitted()&&(this._layoutState=wg.reevaluate,this._dataflow.evaluate()),this._layoutState=wg.after,!((t=this._layoutMarks)===null||t===void 0)&&t.length&&this.handleLayoutEnd()),this._layoutState=null,this.findProgressiveMarks(),this._resizeRenderer(),(n=this._willMorphMarks)===null||n===void 0||n.forEach(l=>{this._morph.morph(l.prev,l.next,r)}),this._willMorphMarks=null,this.releaseCachedGrammars(r),this.doRender(!0),this.doPreProgressive(),this):this}reuseCachedGrammars(e){if(this._willMorphMarks||(this._willMorphMarks=[]),e.reuse){const t=n=>{n.next.reuse(n.prev),n.prev.detachAll(),n.prev.clear(),this._cachedGrammars.unrecord(n.prev)};this._morph.diffGrammar(this._cachedGrammars.getAllSignals(),this.grammars.getAllSignals().filter(n=>!Qce.includes(n.id()))).update.forEach(t),this._morph.diffGrammar(this._cachedGrammars.getAllData(),this.grammars.getAllData()).update.forEach(t),this._morph.diffGrammar(this._cachedGrammars.getAllScales(),this.grammars.getAllScales()).update.forEach(t),this._morph.diffGrammar(this._cachedGrammars.getAllCoordinates(),this.grammars.getAllCoordinates()).update.forEach(t)}this._morph.diffMark(this._cachedGrammars.getAllMarks(),this.grammars.getAllMarks().filter(t=>t.id()!=="root"),e).update.forEach(t=>{const n=t.prev.length===1&&t.next.length===1&&t.prev[0].markType===t.next[0].markType,r=t.prev.every(s=>s.getMorphConfig().morph)&&t.next.every(s=>s.getMorphConfig().morph);n&&e.reuse?(t.next[0].reuse(t.prev[0]),t.prev[0].detachAll(),t.prev[0].clear(),this._cachedGrammars.unrecord(t.prev[0])):(e.morph&&r||e.morphAll)&&this._willMorphMarks.push({prev:t.prev,next:t.next})})}detachCachedGrammar(){this._cachedGrammars.traverse(e=>{var t,n;if(e.detachAll(),e.grammarType==="mark"){const r=e;(n=(t=r.group)===null||t===void 0?void 0:t.removeChild)===null||n===void 0||n.call(t,r)}})}releaseCachedGrammars(e){this._cachedGrammars.traverse(r=>{r.grammarType!=="mark"&&r.release()});const t=this._cachedGrammars.getAllMarkNodes();t.forEach(r=>{r.mark.animate.stop(),e.enableExitAnimation&&this.animate.animateAddition(r.mark)});const n=r=>{if(r.mark.view&&r.mark.animate.getAnimatorCount()===0&&(!r.children||r.children.length===0)){r.mark.release();const s=r.parent;s&&(r.parent.children=r.parent.children.filter(a=>a!==r),r.parent=null,n(s))}};t.forEach(r=>{const s=r.mark;s.animate.getAnimatorCount()===0?n(r):s.addEventListener("animationEnd",()=>{s.animate.getAnimatorCount()===0&&n(r)})}),this._cachedGrammars.clear()}runAfter(e){return this._dataflow.runAfter(()=>{e.call(null,this)}),this}runBefore(e){return this._dataflow.runBefore(()=>{e.call(null,this)}),this}getImageBuffer(){var e,t;if(this._options.mode!=="node")return void this.logger.error(new TypeError("getImageBuffer() now only support node environment."));const n=(t=(e=this.renderer)===null||e===void 0?void 0:e.stage)===null||t===void 0?void 0:t.call(e);return n?(n.render(),n.window.getImageBuffer()):(this.logger.error(new ReferenceError("render is not defined")),null)}traverseMarkTree(e,t,n){return K7(this.rootMark,"children",e,t,n),this}_bindResizeEvent(){var e,t,n,r,s,a;if(this.autoFit()){const o=(s=(r=(n=(t=(e=this.renderer)===null||e===void 0?void 0:e.stage)===null||t===void 0?void 0:t.call(e))===null||n===void 0?void 0:n.window)===null||r===void 0?void 0:r.getContainer)===null||s===void 0?void 0:s.call(r);if(o){const l=window.ResizeObserver;this._observer=new l(this._onResize),(a=this._observer)===null||a===void 0||a.observe(o)}window.addEventListener("resize",this._onResize)}}_unBindResizeEvent(){this.autoFit()&&(window.removeEventListener("resize",this._onResize),this._observer&&(this._observer.disconnect(),this._observer=null))}_getContainerSize(){var e,t,n,r,s,a,o,l,u,c,d;const h=(s=(r=(n=(t=(e=this.renderer)===null||e===void 0?void 0:e.stage)===null||t===void 0?void 0:t.call(e))===null||n===void 0?void 0:n.window)===null||r===void 0?void 0:r.getContainer)===null||s===void 0?void 0:s.call(r);if(h){const{width:p,height:f}=MV(h);return{width:(l=(o=(a=this._spec)===null||a===void 0?void 0:a.width)!==null&&o!==void 0?o:this._options.width)!==null&&l!==void 0?l:p,height:(d=(c=(u=this._spec)===null||u===void 0?void 0:u.height)!==null&&c!==void 0?c:this._options.height)!==null&&d!==void 0?d:f}}return null}resize(e,t,n=!0){let r=!1;return e!==this.width()&&(r=!0,this.updateSignal(Cv,e)),t!==this.height()&&(r=!0,this.updateSignal(kv,t)),r&&(n?this.evaluate():this._dataflow.evaluate()),this}_resizeRenderer(){const e=this.width(),t=this.height();return!!this.renderer.shouldResize(e,t)&&(this.renderer.resize(e,t),this.emit("resize",{},{width:e,height:t}),!0)}bindEvents(e){if(this._eventConfig.disable)return;const{type:t,filter:n,callback:r,throttle:s,debounce:a,consume:o,target:l,dependency:u}=e,c=Kyt(t);if(!c)return;const{source:d,type:h}=c,p=Wyt(c),f=(Array.isArray(l)&&l.length?l.map(m=>({signal:this.getSignalById(m.target),callback:m.callback})):[{signal:ct(l)?this.getSignalById(l):null,callback:r}]).filter(m=>m.signal||m.callback),g=VX(u,this),v=Uyt((m,b)=>{const _=d===qy&&Oyt(this._eventConfig,h)||o&&(m.cancelable===void 0||m.cancelable);d===g_&&(m=LW(this,m,b,h,g_));let S=!1;if((!n||n(m))&&(!p||p(b))&&f.length){const C=g.reduce((k,E)=>(k[E.id()]=E.output(),k),{});f.forEach(k=>{k.callback&&k.signal?k.signal.set(k.callback(m,C))&&(this.commit(k.signal),S=!0):k.callback?k.callback(m,C):(this.commit(k.signal),S=!0)})}_&&m.preventDefault(),o&&m.stopPropagation(),S&&this.run()},{throttle:s,debounce:a});if(d===qy){if(Myt(this._eventConfig,qy,h))return this.addEventListener(h,v,Tyt),()=>{this.removeEventListener(h,v)}}else if(d===g_)return ji.addEventListener(h,v),this._eventListeners.push({type:h,source:ji,handler:v}),()=>{ji.removeEventListener(h,v);const m=this._eventListeners.findIndex(b=>b.type===h&&b.source===ji&&b.handler===v);m>=0&&this._eventListeners.splice(m,1)}}event(e){if("between"in e){const[t,n]=e.between,r=`${t.type}-${e.type}-${n.type}`;let s;this.bindEvents(Object.assign({},t,{callback:()=>{if(this._eventCache||(this._eventCache={}),!this._eventCache[r]){const a=this.bindEvents(e);this._eventCache[r]=a}s||(s=this.bindEvents(Object.assign({},n,{callback:()=>{this._eventCache[r]&&(this._eventCache[r](),this._eventCache[r]=null)}})))}}))}else"merge"in e?e.merge.forEach(t=>{const n=Object.assign({},e);ct(t)?n.type=t:yi(t)&&Object.assign(n,t),n.debounce=50,this.bindEvents(n)}):this.bindEvents(e)}interaction(e,t){const n=He.createInteraction(e,this,t);return n&&(n.bind(),this._boundInteractions||(this._boundInteractions=[]),this._boundInteractions.push(n)),n}removeInteraction(e,t){if(this._boundInteractions){const n=this._boundInteractions.filter(r=>{var s;return Y(t)?ct(e)?r.type===e:e?r===e:void 0:((s=r.options)===null||s===void 0?void 0:s.id)===t});n.length&&n.forEach(r=>{r.unbind()})}return this}removeAllInteractions(){return this._boundInteractions&&(this._boundInteractions.forEach(e=>{e.unbind()}),this._boundInteractions=null),this}initEvent(){const e=this.renderer.stage();e&&e.on("*",this.delegateEvent)}releaseStageEvent(){const e=this.renderer.stage();e&&e.off("*",this.delegateEvent)}addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=t,r.raw=t),n&&n.target&&(r.target=n.target),this.on(e,r),this}removeEventListener(e,t){return t?this.off(e,t):this.off(e),this}initializeRenderer(){const e=this._options.width,t=this._options.height;this.renderer=new Dyt(this),this.renderer.initialize(e,t,this._options,this._eventConfig).background(this._background)}initialize(){var e;this.grammars=new hEe(t=>t.id(),(t,n)=>this.logger.warn(`Grammar id '${t}' has been occupied`,n)),this._cachedGrammars=new p_t(t=>t.id()),this._options.logger&&Kn.setInstance(this._options.logger),this.logger=Kn.getInstance((e=this._options.logLevel)!==null&&e!==void 0?e:0),this._dataflow=new Ryt,this.animate=new f_t(this),this._morph=new h_t,this._options.hooks&&(Object.keys(this._options.hooks).forEach(t=>{this.on(t,this._options.hooks[t])}),this.hooks=this._options.hooks),this.container=null,this.renderer=null,this._eventListeners=[],this._eventConfig=Pyt(this._options.eventConfig),this._theme=this._options.disableTheme?null:Zy.getDefaultTheme(),this.parseBuiltIn(),Xyt(this._options),this.initializeRenderer(),this._eventConfig.disable||this.initEvent(),this._bindResizeEvent(),this._needBuildLayoutTree=!0,this._layoutState=wg.before,this.theme(this._theme)}pauseProgressive(){return!1}resumeProgressive(){return!1}restartProgressive(){return!1}findProgressiveMarks(){const e=[];return this.traverseMarkTree(t=>{e.push(t)},t=>t.markType!==nt.group&&t.isProgressive()),e.length?(this._progressiveMarks=e,this.renderer&&this.renderer.combineIncrementalLayers(),e):(this._progressiveMarks=null,null)}doPreProgressive(){if(this._progressiveMarks&&this._progressiveMarks.some(e=>e.isDoingProgressive())){const e=ji.getRequestAnimationFrame();this._progressiveRafId=e(this.handleProgressiveFrame)}}clearProgressive(){this._progressiveRafId&&ji.getCancelAnimationFrame()(this._progressiveRafId),this._progressiveMarks&&this._progressiveMarks.length&&(this._progressiveMarks.forEach(e=>{e.clearProgressive()}),this._progressiveMarks=null)}release(){var e,t,n;this.removeAllInteractions(),this.releaseStageEvent(),this._unBindResizeEvent(),this.clearProgressive(),He.unregisterRuntimeTransforms(),Kn.setInstance(null),this.animate.stop(),this.grammars.release(),this._cachedGrammars.release(),this._dataflow.release(),this._dataflow=null,(t=(e=this.renderer)===null||e===void 0?void 0:e.release)===null||t===void 0||t.call(e),this.renderer=null,this._boundInteractions=null,this.removeAllListeners(),(n=this._eventListeners)===null||n===void 0||n.forEach(r=>{r.source.removeEventListener(r.type,r.handler)}),this._eventListeners=null}};const W_t=()=>{Qo(),Uw(),He.registerGraphic(nt.arc,_X)},U_t=()=>{Qo(),_gt(),He.registerGraphic(nt.arc3d,xCe)},G_t=()=>{Qo(),xgt(),He.registerGraphic(nt.pyramid3d,CCe)},Y_t=()=>{Qo(),$Ce(),He.registerGraphic(nt.area,SCe)},K_t=()=>{Qo(),Is(),He.registerGraphic(nt.group,lX)},X_t=()=>{Qo(),NCe(),He.registerGraphic(nt.image,yX)},q_t=()=>{Qo(),gm(),He.registerGraphic(nt.line,gX)},vEe=()=>{Qo(),sP(),He.registerGraphic(nt.path,bCe)},qX=()=>{Qo(),mm(),He.registerGraphic(nt.rect,z_)},Z_t=()=>{Qo(),wgt(),He.registerGraphic(nt.rect3d,vCe)},ZX=()=>{Qo(),gm(),He.registerGraphic(nt.rule,gX)},yEe=()=>{Qo(),rh(),He.registerGraphic(nt.symbol,KB)},_Ee=()=>{Qo(),Of(),M0(),He.registerGraphic(nt.text,Ux)},Q_t=()=>{Qo(),e$(),He.registerGraphic(nt.polygon,wCe)},J_t=()=>{Qo(),M0(),He.registerGraphic(nt.richtext,_Ce)},ebt=()=>{Qo(),rh(),He.registerGraphic(nt.cell,KB)},C$=()=>{Qo(),Sgt(),He.registerGraphic(nt.glyph,yCe)},bEe=i=>(e,t,n)=>{var r,s,a;const o=(a=(r=e.getGraphicAttribute("direction",!1))!==null&&r!==void 0?r:(s=e.mark.getGlyphConfig())===null||s===void 0?void 0:s.direction)!==null&&a!==void 0?a:"vertical",l=i(e,o,t);if(!Ce(l))return{};const u=e.getGraphicAttribute("x",!1),c=e.getGraphicAttribute("y",!1),d=e.getGraphicAttribute("min",!1),h=e.getGraphicAttribute("max",!1),p=e.getGraphicAttribute("q1",!1),f=e.getGraphicAttribute("q3",!1),g=e.getGraphicAttribute("median",!1),v={from:{x:u,y:c},to:{x:u,y:c}};return Ce(d)&&(v.from.min=l,v.to.min=d),Ce(h)&&(v.from.max=l,v.to.max=h),Ce(p)&&(v.from.q1=l,v.to.q1=p),Ce(f)&&(v.from.q3=l,v.to.q3=f),Ce(g)&&(v.from.median=l,v.to.median=g),v},SEe=i=>(e,t,n)=>{var r,s,a;const o=(a=(r=e.getGraphicAttribute("direction",!1))!==null&&r!==void 0?r:(s=e.mark.getGlyphConfig())===null||s===void 0?void 0:s.direction)!==null&&a!==void 0?a:"vertical",l=i(e,o,t);if(!Ce(l))return{};const u=e.getGraphicAttribute("x",!0),c=e.getGraphicAttribute("y",!0),d=e.getGraphicAttribute("min",!0),h=e.getGraphicAttribute("max",!0),p=e.getGraphicAttribute("q1",!0),f=e.getGraphicAttribute("q3",!0),g=e.getGraphicAttribute("median",!0),v={from:{x:u,y:c},to:{x:u,y:c}};return Ce(d)&&(v.to.min=l,v.from.min=d),Ce(h)&&(v.to.max=l,v.from.max=h),Ce(p)&&(v.to.q1=l,v.from.q1=p),Ce(f)&&(v.to.q3=l,v.from.q3=f),Ce(g)&&(v.to.median=l,v.from.median=g),v},xEe=(i,e,t)=>{var n,r,s,a,o,l,u,c,d,h,p,f;if(t&&Ce(t.center))return t.center;let g,v,m,b,_;if($o(e)){g=(r=(n=i.getGraphicAttribute("points",!1,"median"))===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.x,v=(a=(s=i.getGraphicAttribute("points",!1,"max"))===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.x,m=(l=(o=i.getGraphicAttribute("points",!1,"min"))===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.x;const S=i.getGraphicAttribute("width",!1,"box"),C=i.getGraphicAttribute("x",!1,"box");b=C,_=C+S}else{g=(c=(u=i.getGraphicAttribute("points",!1,"median"))===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.y,v=(h=(d=i.getGraphicAttribute("points",!1,"max"))===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.y,m=(f=(p=i.getGraphicAttribute("points",!1,"min"))===null||p===void 0?void 0:p[0])===null||f===void 0?void 0:f.y;const S=i.getGraphicAttribute("height",!1,"box"),C=i.getGraphicAttribute("y",!1,"box");b=C,_=C+S}return Ce(g)?g:Ce(b)&&Ce(_)?(b+_)/2:Ce(v)&&Ce(m)?(v+m)/2:Ce(m)?m:Ce(v)?v:NaN},tbt=(i,e,t,n)=>{var r,s,a,o,l,u,c,d;const h={shaft:{},box:{},max:{},min:{},median:{}},p=(r=i.x)!==null&&r!==void 0?r:t.getGraphicAttribute("x",!1),f=(s=i.y)!==null&&s!==void 0?s:t.getGraphicAttribute("y",!1),g=(a=i.width)!==null&&a!==void 0?a:t.getGraphicAttribute("width",!1),v=(o=i.height)!==null&&o!==void 0?o:t.getGraphicAttribute("height",!1),m=(l=i.boxWidth)!==null&&l!==void 0?l:t.getGraphicAttribute("boxWidth",!1),b=(u=i.boxHeight)!==null&&u!==void 0?u:t.getGraphicAttribute("boxHeight",!1),_=(c=i.ruleWidth)!==null&&c!==void 0?c:t.getGraphicAttribute("ruleWidth",!1),S=(d=i.ruleHeight)!==null&&d!==void 0?d:t.getGraphicAttribute("ruleHeight",!1);return n&&$o(n.direction)?(Ce(b)?(Object.assign(h.box,{y:f-b/2,y1:f+b/2}),Object.assign(h.median,{y:f-b/2,y1:f+b/2})):(Object.assign(h.box,{y:f-v/2,y1:f+v/2}),Object.assign(h.median,{y:f-v/2,y1:f+v/2})),Ce(S)?(Object.assign(h.max,{y:f-S/2,y1:f+S/2}),Object.assign(h.min,{y:f-S/2,y1:f+S/2})):(Object.assign(h.max,{y:f-v/2,y1:f+v/2}),Object.assign(h.min,{y:f-v/2,y1:f+v/2}))):(Ce(m)?(Object.assign(h.box,{x:p-m/2,x1:p+m/2}),Object.assign(h.median,{x:p-m/2,x1:p+m/2})):(Object.assign(h.box,{x:p-g/2,x1:p+g/2}),Object.assign(h.median,{x:p-g/2,x1:p+g/2})),Ce(_)?(Object.assign(h.max,{x:p-_/2,x1:p+_/2}),Object.assign(h.min,{x:p-_/2,x1:p+_/2})):(Object.assign(h.max,{x:p-g/2,x1:p+g/2}),Object.assign(h.min,{x:p-g/2,x1:p+g/2}))),h},ibt=bEe(xEe),nbt=SEe(xEe);function rbt(){He.registerGlyph("boxplot",{shaft:"rule",box:"rect",max:"rule",min:"rule",median:"rule"}).registerProgressiveChannels(["x","y","q1","q3","min","max","median","angle","width","height","boxWidth","boxHeight","ruleWidth","ruleHeight"]).registerFunctionEncoder(tbt).registerChannelEncoder("x",(i,e,t,n,r,s)=>s&&$o(s.direction)?null:{shaft:{x:e,x1:e}}).registerChannelEncoder("y",(i,e,t,n,r,s)=>s&&$o(s.direction)?{shaft:{y:e,y1:e}}:null).registerChannelEncoder("q1",(i,e,t,n,r,s)=>s&&$o(s.direction)?{box:{x:e}}:{box:{y:e}}).registerChannelEncoder("q3",(i,e,t,n,r,s)=>s&&$o(s.direction)?{box:{x1:e}}:{box:{y1:e}}).registerChannelEncoder("min",(i,e,t,n,r,s)=>s&&$o(s.direction)?{shaft:{x:e},min:{x:e,x1:e,visible:!0}}:{shaft:{y:e},min:{y:e,y1:e,visible:!0}}).registerChannelEncoder("max",(i,e,t,n,r,s)=>s&&$o(s.direction)?{shaft:{x1:e},max:{x:e,x1:e,visible:!0}}:{shaft:{y1:e},max:{y:e,y1:e,visible:!0}}).registerChannelEncoder("median",(i,e,t,n,r,s)=>s&&$o(s.direction)?{median:{x:e,x1:e,visible:!0}}:{median:{y:e,y1:e,visible:!0}}).registerChannelEncoder("angle",(i,e,t,n,r,s)=>{var a;const o=s&&$o(s.direction)?[(t.min+t.max)/2,t.y]:[t.x,(t.min+t.max)/2],l=(a=t.anchor)!==null&&a!==void 0?a:o;return{shaft:{angle:e,anchor:l},box:{angle:e,anchor:l},max:{angle:e,anchor:l},min:{angle:e,anchor:l},median:{angle:e,anchor:l}}}).registerDefaultEncoder(()=>({max:{visible:!1},min:{visible:!1},median:{visible:!1}})),He.registerAnimationType("boxplotScaleIn",ibt),He.registerAnimationType("boxplotScaleOut",nbt),C$(),qX(),ZX()}const wEe=(i,e,t)=>{var n,r,s,a;if(Ce(t==null?void 0:t.center))return t.center;let o,l,u,c,d;if($o(e)){o=(r=(n=i.getGraphicAttribute("points",!1,"median"))===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.x;const h=i.getGraphicAttribute("width",!1,"minMaxBox"),p=i.getGraphicAttribute("x",!1,"minMaxBox");u=p,l=p+h;const f=i.getGraphicAttribute("width",!1,"q1q3Box"),g=i.getGraphicAttribute("x",!1,"q1q3Box");c=g,d=g+f}else{o=(a=(s=i.getGraphicAttribute("points",!1,"median"))===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.y;const h=i.getGraphicAttribute("height",!1,"minMaxBox"),p=i.getGraphicAttribute("y",!1,"minMaxBox");u=p,l=p+h;const f=i.getGraphicAttribute("height",!1,"q1q3Box"),g=i.getGraphicAttribute("y",!1,"q1q3Box");c=g,d=g+f}return Ce(o)?o:Ce(c)&&Ce(d)?(c+d)/2:Ce(l)&&Ce(u)?(l+u)/2:Ce(u)?u:Ce(l)?l:NaN},sbt=(i,e,t,n)=>{var r,s,a,o,l,u,c,d;const h={minMaxBox:{},q1q3Box:{},median:{}},p=(r=i.x)!==null&&r!==void 0?r:t.getGraphicAttribute("x",!1),f=(s=i.y)!==null&&s!==void 0?s:t.getGraphicAttribute("y",!1),g=(a=i.width)!==null&&a!==void 0?a:t.getGraphicAttribute("width",!1),v=(o=i.minMaxWidth)!==null&&o!==void 0?o:t.getGraphicAttribute("minMaxWidth",!1),m=(l=i.q1q3Width)!==null&&l!==void 0?l:t.getGraphicAttribute("q1q3Width",!1),b=(u=i.height)!==null&&u!==void 0?u:t.getGraphicAttribute("height",!1),_=(c=i.minMaxHeight)!==null&&c!==void 0?c:t.getGraphicAttribute("minMaxHeight",!1),S=(d=i.q1q3Height)!==null&&d!==void 0?d:t.getGraphicAttribute("q1q3Height",!1);return n&&$o(n.direction)?(Ce(_)?Object.assign(h.minMaxBox,{y:f-_/2,y1:f+_/2}):Object.assign(h.minMaxBox,{y:f-b/2,y1:f+b/2}),Ce(S)?(Object.assign(h.q1q3Box,{y:f-S/2,y1:f+S/2}),Object.assign(h.median,{y:f-S/2,y1:f+S/2})):(Object.assign(h.q1q3Box,{y:f-b/2,y1:f+b/2}),Object.assign(h.median,{y:f-b/2,y1:f+b/2}))):(Ce(v)?Object.assign(h.minMaxBox,{x:p-v/2,x1:p+v/2}):Object.assign(h.minMaxBox,{x:p-g/2,x1:p+g/2}),Ce(m)?(Object.assign(h.q1q3Box,{x:p-m/2,x1:p+m/2}),Object.assign(h.median,{x:p-m/2,x1:p+m/2})):(Object.assign(h.q1q3Box,{x:p-g/2,x1:p+g/2}),Object.assign(h.median,{x:p-g/2,x1:p+g/2}))),h},abt=bEe(wEe),obt=SEe(wEe);function lbt(){He.registerGlyph("barBoxplot",{minMaxBox:"rect",q1q3Box:"rect",median:"rule"}).registerProgressiveChannels(["x","y","q1","q3","min","max","median","angle","width","height","minMaxWidth","q1q3Width","minMaxHeight","q1q3Height"]).registerFunctionEncoder(sbt).registerChannelEncoder("q1",(i,e,t,n,r,s)=>s&&$o(s.direction)?{q1q3Box:{x:e}}:{q1q3Box:{y:e}}).registerChannelEncoder("q3",(i,e,t,n,r,s)=>s&&$o(s.direction)?{q1q3Box:{x1:e}}:{q1q3Box:{y1:e}}).registerChannelEncoder("min",(i,e,t,n,r,s)=>s&&$o(s.direction)?{minMaxBox:{x:e}}:{minMaxBox:{y:e}}).registerChannelEncoder("max",(i,e,t,n,r,s)=>s&&$o(s.direction)?{minMaxBox:{x1:e}}:{minMaxBox:{y1:e}}).registerChannelEncoder("median",(i,e,t,n,r,s)=>s&&$o(s.direction)?{median:{x:e,x1:e,visible:!0}}:{median:{y:e,y1:e,visible:!0}}).registerChannelEncoder("angle",(i,e,t,n,r,s)=>{var a;const o=(a=t.anchor)!==null&&a!==void 0?a:[t.x,(t.min+t.max)/2];return{minMaxBox:{angle:e,anchor:o},q1q3Box:{angle:e,anchor:o},median:{angle:e,anchor:o}}}).registerChannelEncoder("lineWidth",(i,e,t,n,r,s)=>({minMaxBox:{lineWidth:0},q1q3Box:{lineWidth:0}})).registerChannelEncoder("minMaxFillOpacity",(i,e,t,n,r,s)=>({minMaxBox:{fillOpacity:e}})).registerChannelEncoder("stroke",(i,e,t,n,r,s)=>({minMaxBox:{stroke:!1},q1q3Box:{stroke:!1}})).registerDefaultEncoder(()=>({minMaxBox:{lineWidth:0},q1q3Box:{lineWidth:0},median:{visible:!1}})),He.registerAnimationType("barBoxplotScaleIn",abt),He.registerAnimationType("barBoxplotScaleOut",obt),C$(),qX(),ZX()}const ubt=()=>{He.registerGlyph("ripplePoint",{symbol:"symbol",ripple0:"symbol",ripple1:"symbol",ripple2:"symbol"}).registerFunctionEncoder((i,e,t,n)=>{var r;const s=Math.max(0,Math.min(i.ripple,1)),a=(r=i.size)!==null&&r!==void 0?r:t.getGraphicAttribute("size"),o=.5*a;return{ripple0:{size:a+o*s,fillOpacity:.75-.25*s},ripple1:{size:a+o*(1+s),fillOpacity:.5-.25*s},ripple2:{size:a+o*(2+s),fillOpacity:.25-.25*s}}}).registerDefaultEncoder(()=>({ripple0:{fillOpacity:.75},ripple1:{fillOpacity:.5},ripple2:{fillOpacity:.25}})),C$(),yEe()},cbt=(i,e)=>{var t;const n=(t=i.curvature)!==null&&t!==void 0?t:.5,r=typeof e=="number"?i.thickness*e:i.thickness;let s=i.x0,a=i.x1,o=i.y0,l=i.y1,u=s+n*(a-s),c=a+n*(s-a),d=m=>m;i.round!==!1&&(s=Math.round(s),a=Math.round(a),o=Math.round(o),l=Math.round(l),u=Math.round(u),c=Math.round(c),d=Math.round),i.pathType==="line"||i.pathType,i.align==="center"?(o=d(i.y0-r/2),l=d(i.y1-r/2)):i.align==="end"?(o=d(i.y0+i.thickness/2-r),l=d(i.y1+i.thickness/2-r)):(o=d(i.y0-i.thickness/2),l=d(i.y1-i.thickness/2));const h=d(o+r),p=d(l+r),f=Math.abs(a-s)>1e-6,g=i.endArrow&&f?`L${a},${d(l-r/2)}L${d(a+r)},${d((l+p)/2)}L${a},${d(p+r/2)}`:"",v=i.startArrow&&f?`L${s},${d(h+r/2)}L${d(s-r)},${d((o+h)/2)}L${s},${d(o-r/2)}`:"";return i.pathType==="line"?`M${s},${o}L${a},${l}${g}L${a},${p}L${s},${h}${v}Z`:i.pathType==="polyline"?`M${s},${o}L${u},${o}L${u},${l}L${a},${l}
    ${g}L${a},${p}L${u},${p}L${u},${h}L${s},${h}${v}Z`:`M${s},${o}C${u},${o},${c},${l},${a},${l}
  ${g}L${a},${p}C${c},${p},${u},${h},${s},${h}${v}Z`},dbt=(i,e)=>{var t;const n=(t=i.curvature)!==null&&t!==void 0?t:.5,r=typeof e=="number"?i.thickness*e:i.thickness;let s=i.y0,a=i.y1,o=i.x0,l=i.x1,u=s+n*(a-s),c=a+n*(s-a),d=m=>m;i.round!==!1&&(d=Math.round,s=Math.round(s),a=Math.round(a),o=Math.round(o),l=Math.round(l),u=Math.round(u),c=Math.round(c)),i.pathType==="line"||i.pathType,i.align==="center"?(o=d(i.x0-r/2),l=d(i.x1-r/2)):i.align==="end"?(o=d(i.x0+i.thickness/2-r),l=d(i.x1+i.thickness/2-r)):(o=d(i.x0-i.thickness/2),l=d(i.x1-i.thickness/2));const h=d(o+r),p=d(l+r),f=Math.abs(a-s)>1e-6,g=i.endArrow&&f?`L${d(l-r/2)},${a}L${d((l+p)/2)},${d(a+r)}L${d(p+r/2)},${a}`:"",v=i.startArrow&&f?`L${d(h+r/2)},${s}L${d((h+o)/2)},${d(s-r)}L${d(o-r/2)},${s}`:"";return i.pathType==="line"?`M${o},${s}L${l},${a}${g}L${p},${a}L${h},${s}${v}Z`:i.pathType==="polyline"?`M${o},${s}L${o},${u}L${l},${u}L${l},${a}
    ${g}L${p},${a}L${p},${u}L${h},${u}L${h},${s}${v}Z`:`M${o},${s}C${o},${u},${l},${c},${l},${a}
  ${g}L${p},${a}C${p},${c},${h},${u},${h},${s}${v}Z`},hbt=(i,e,t,n)=>{var r;const s=(r=i.direction)!==null&&r!==void 0?r:n==null?void 0:n.direction,a=["vertical","TB","BT"].includes(s)?dbt:cbt,o=typeof i.ratio=="number"&&i.ratio>=0&&i.ratio<=1,l=Object.keys(i);return["x0","y0","x1","y1"].every(u=>l.includes(u))?{back:{path:o?a(i,1):""},front:{path:a(i,o?i.ratio:1)}}:{}},pbt=(i,e,t)=>{const n={x0:i.getGraphicAttribute("x0",!1),x1:i.getGraphicAttribute("x1",!1),y0:i.getGraphicAttribute("y0",!1),y1:i.getGraphicAttribute("y1",!1),thickness:i.getGraphicAttribute("thickness",!1),round:i.getGraphicAttribute("round",!1),align:i.getGraphicAttribute("align",!1),pathType:i.getGraphicAttribute("pathType",!1),endArrow:i.getGraphicAttribute("endArrow",!1),startArrow:i.getGraphicAttribute("startArrow",!1)};return Object.keys(n).forEach(r=>{Y(n[r])&&delete n[r]}),{from:Object.assign({},n,{x1:n.x0,y1:n.y0}),to:n}},fbt=(i,e,t)=>{const n={x0:i.getGraphicAttribute("x0",!0),x1:i.getGraphicAttribute("x1",!0),y0:i.getGraphicAttribute("y0",!0),y1:i.getGraphicAttribute("y1",!0),thickness:i.getGraphicAttribute("thickness",!0),round:i.getGraphicAttribute("round",!0),align:i.getGraphicAttribute("align",!0),pathType:i.getGraphicAttribute("pathType",!0),endArrow:i.getGraphicAttribute("endArrow",!0),startArrow:i.getGraphicAttribute("startArrow",!0)};return Object.keys(n).forEach(r=>{Y(n[r])&&delete n[r]}),{from:n,to:Object.assign({},n,{x1:n.x0,y1:n.y0})}},gbt=(i,e,t)=>{const n={thickness:i.getGraphicAttribute("thickness",!1),round:i.getGraphicAttribute("round",!1),align:i.getGraphicAttribute("align",!1),pathType:i.getGraphicAttribute("pathType",!1),endArrow:i.getGraphicAttribute("endArrow",!1),startArrow:i.getGraphicAttribute("startArrow",!1)};return Object.keys(n).forEach(r=>{Y(n[r])&&delete n[r]}),{from:Object.assign(Object.assign({x0:i.getGraphicAttribute("x0",!0),x1:i.getGraphicAttribute("x1",!0),y0:i.getGraphicAttribute("y0",!0),y1:i.getGraphicAttribute("y1",!0)},n),n),to:Object.assign({x0:i.getGraphicAttribute("x0",!1),x1:i.getGraphicAttribute("x1",!1),y0:i.getGraphicAttribute("y0",!1),y1:i.getGraphicAttribute("y1",!1)},n)}},mbt=()=>{He.registerGlyph("linkPath",{back:"path",front:"path"}).registerFunctionEncoder(hbt).registerChannelEncoder("backgroundStyle",(i,e)=>({back:e})).registerDefaultEncoder(()=>({back:{zIndex:0},front:{zIndex:1}})),He.registerAnimationType("linkPathGrowIn",pbt),He.registerAnimationType("linkPathGrowOut",fbt),He.registerAnimationType("linkPathUpdate",gbt),C$(),vEe()};class CEe extends XX{parseAddition(e){return super.parseAddition(e),this.scale(e.scale),this}scale(e){if(this.spec.scale){const n=ct(this.spec.scale)?this.view.getScaleById(this.spec.scale):this.spec.scale;this.detach(n),this.spec.scale=void 0}const t=ct(e)?this.view.getScaleById(e):e;return this.spec.scale=t,this.attach(t),this._updateComponentEncoders(),this.commit(),this}getScale(){return ct(this.spec.scale)?this.view.getScaleById(this.spec.scale):this.spec.scale}}const vbt=(i,e,t,n)=>{var r,s,a,o;const l=(s=(r=e==null?void 0:e.components)===null||r===void 0?void 0:r.axis)!==null&&s!==void 0?s:{};if(!i)return Ie({},l,t??{});const u=[((o=(a=i.tickData)===null||a===void 0?void 0:a.call(i,n))!==null&&o!==void 0?o:[]).map(c=>({id:c.index,label:c.tick,value:c.value,rawValue:c.tick}))];return Ie({},l,{items:u},t??{})},ybt=(i,e,t,n)=>{var r,s,a,o;const l=(s=(r=e==null?void 0:e.components)===null||r===void 0?void 0:r.circleAxis)!==null&&s!==void 0?s:{};if(!i)return Ie({},l,t??{});const u=[((o=(a=i.tickData)===null||a===void 0?void 0:a.call(i,n))!==null&&o!==void 0?o:[]).map(c=>({id:c.index,label:c.tick,value:c.value,rawValue:c.tick}))];return Ie({},l,{items:u},t??{})},kEe=(i,e,t,n,r,s)=>{var a;const o=i.getCoordinateAxisPosition();r&&r.position==="auto"&&(r.position=t?"content":o);const l=i.getCoordinateAxisPoints(n);if(l){const d={start:l[0],end:l[1],verticalFactor:(o==="top"||o==="left"?-1:1)*(t?-1:1)*(!((a=i.getSpec().range)===null||a===void 0)&&a.reversed?-1:1)};if(s&&e.type==="polar"){const h=e.angle();d.center=e.origin(),d.startAngle=h[0],d.endAngle=h[1]}return d}const u=e.radius(),c=e.angle();return{center:e.origin(),radius:u[1],innerRadius:u[0],inside:t,startAngle:c[0],endAngle:c[1]}};class EEe extends CEe{constructor(e,t,n){super(e,Tr.axis,t),this.spec.componentType=Tr.axis,this.mode=n}parseAddition(e){return super.parseAddition(e),this.axisType(e.axisType),this.tickCount(e.tickCount),this.inside(e.inside),this.baseValue(e.baseValue),this}scale(e){return super.scale(e),this._axisComponentType=null,this}axisType(e){return this.spec.axisType=e,this._axisComponentType=null,this._prepareRejoin(),this.commit(),this}addGraphicItem(e,t){const n=Ie({x:0,y:0,start:{x:0,y:0},end:{x:0,y:0}},e),r=He.createGraphicComponent(this._getAxisComponentType(),n,{mode:this.mode,skipDefault:this.spec.skipTheme});return super.addGraphicItem(n,t,r)}tickCount(e){const t=ct(this.spec.scale)?this.view.getScaleById(this.spec.scale):this.spec.scale;return t&&t.tickCount(e),this.setFunctionSpec(e,"tickCount")}inside(e){return this.setFunctionSpec(e,"inside")}baseValue(e){return this.setFunctionSpec(e,"baseValue")}getAxisComponentType(){return this._axisComponentType}_updateComponentEncoders(){const e=ct(this.spec.scale)?this.view.getScaleById(this.spec.scale):this.spec.scale,t=Object.assign({update:{}},this.spec.encode),n=Object.keys(t).reduce((r,s)=>{const a=t[s];return a&&(r[s]={callback:(o,l,u)=>{var c,d;const h=this.spec.skipTheme?null:this.view.getCurrentTheme();let p=Yv(a,o,l,u);const f=Ps(this.spec.inside,u,o,l),g=Ps(this.spec.baseValue,u,o,l),v=(c=e==null?void 0:e.getCoordinate)===null||c===void 0?void 0:c.call(e);v&&(p=Object.assign(kEe(e,v,f,g,this.spec.layout),p));const m=(d=e==null?void 0:e.getScale)===null||d===void 0?void 0:d.call(e),b=Ps(this.spec.tickCount,u,o,l);switch(this._getAxisComponentType()){case df.lineAxis:return vbt(m,h,p,b);case df.circleAxis:return ybt(m,h,p,b)}return p}}),r},{});this._encoders=n}_getAxisComponentType(){var e;if(this._axisComponentType)return this._axisComponentType;let t=this.spec.axisType;if(Y(t)){const n=ct(this.spec.scale)?this.view.getScaleById(this.spec.scale):this.spec.scale;t=!((e=n==null?void 0:n.getCoordinate)===null||e===void 0)&&e.call(n)?n.getCoordinateAxisPoints()?"line":"circle":"line"}return this._axisComponentType=t==="circle"?df.circleAxis:df.lineAxis,this._axisComponentType}}EEe.componentType=Tr.axis;const _bt=()=>{He.registerGraphicComponent(df.lineAxis,(i,e)=>new LT(i,e)),He.registerGraphicComponent(df.circleAxis,i=>new FT(i)),He.registerComponent(Tr.axis,EEe)},bbt=(i,e,t,n,r,s={})=>{var a;const o=(a=s.components)===null||a===void 0?void 0:a.dataLabel,l=i.map((u,c)=>{var d,h,p,f,g;const v=Object.assign(Object.assign({},r),{labelIndex:c}),m=(d=Ps(n,v,u))!==null&&d!==void 0?d:{},{components:b={}}=s;let _={};switch(u.markType){case nt.line:case nt.area:_=m.type==="line"?b.lineLabel:m.type==="area"?b.areaLabel:b.lineDataLabel;break;case nt.rect:case nt.rect3d:case nt.interval:_=b.rectLabel;break;case nt.symbol:case nt.circle:case nt.cell:_=b.symbolLabel;break;case nt.arc:case nt.arc3d:_=b.arcLabel;break;case nt.polygon:case nt.path:default:_=b.pointLabel}const S=(h=m.data)!==null&&h!==void 0?h:[],C=(f=(p=_==null?void 0:_.data)===null||p===void 0?void 0:p[0])!==null&&f!==void 0?f:{};S&&S.length>0?S.forEach((E,A)=>{if(u.elements[A]){const P=Yv(t,E,u.elements[A],v);Ie(E,C,P)}}):u.elements.forEach(E=>{if(E.getGraphicItem().releaseStatus!=="willRelease")if(u.isCollectionMark())E.getDatum().forEach(A=>{const P=Yv(t,A,E,v);S.push(Ie({},C,P))});else{const A=Yv(t,E.getDatum(),E,v),P=Ie({},C,A);S.push(P)}});const k=(g=u.graphicItem)===null||g===void 0?void 0:g.name;return Ie({},_,{data:S,baseMarkGroupName:k,getBaseMarks:()=>u.elements.map(E=>E.getGraphicItem())},m??{})}).filter(u=>!Y(u));return Ie({},o,{size:e,dataLabels:l})};let AEe=class extends XX{constructor(e,t){super(e,Tr.label,t),this.spec.componentType=Tr.label}parseAddition(e){return super.parseAddition(e),this.labelStyle(e.labelStyle),this.size(e.size),this.target(e.target),this}labelStyle(e){return this.setFunctionSpec(e,"labelStyle")}size(e){return this.setFunctionSpec(e,"size")}target(e){if(this.spec.target){const t=we(this.spec.target).map(n=>ct(n)?this.view.getMarkById(n):n);this.detach(t)}if(this.spec.target=e,e){const t=we(e).map(n=>ct(n)?this.view.getMarkById(n):n);this.attach(t)}return this.commit(),this}_updateComponentEncoders(){const e=Object.assign({update:{}},this.spec.encode),t=Object.keys(e).reduce((n,r)=>{const s=e[r];return s&&(n[r]={callback:(a,o,l)=>{var u,c,d,h;const p=we(this.spec.target).map(m=>ct(m)?this.view.getMarkById(m):m),f=(c=(u=this.group)===null||u===void 0?void 0:u.getGroupGraphicItem)===null||c===void 0?void 0:c.call(u);let g=Ps(this.spec.size,l);g||(g=f?{width:(d=f.attribute.width)!==null&&d!==void 0?d:f.AABBBounds.width(),height:(h=f.attribute.height)!==null&&h!==void 0?h:f.AABBBounds.height()}:{width:1/0,height:1/0});const v=this.spec.skipTheme?null:this.view.getCurrentTheme();return bbt(p,g,s,this.spec.labelStyle,l,v)}}),n},{});this._encoders=t}};AEe.componentType=Tr.label;const TEe=()=>{He.registerGraphicComponent(Tr.label,i=>new d$(i)),He.registerComponent(Tr.label,AEe)},Sbt=(i,e,t,n)=>{var r,s,a,o;const l=(s=(r=e==null?void 0:e.components)===null||r===void 0?void 0:r.grid)!==null&&s!==void 0?s:{};if(!i)return Ie({},l,t??{});const u=((o=(a=i.tickData)===null||a===void 0?void 0:a.call(i,n))!==null&&o!==void 0?o:[]).map(c=>({id:c.index,label:c.tick,value:c.value,rawValue:c.tick}));return Ie({},l,{items:u},t??{})},xbt=(i,e,t,n)=>{var r,s,a,o;const l=(s=(r=e==null?void 0:e.components)===null||r===void 0?void 0:r.circleGrid)!==null&&s!==void 0?s:{};if(!i)return Ie({},l,t??{});const u=((o=(a=i.tickData)===null||a===void 0?void 0:a.call(i,n))!==null&&o!==void 0?o:[]).map(c=>({id:c.index,label:c.tick,value:c.value,rawValue:c.tick}));return Ie({},l,{items:u},t??{})};class PEe extends CEe{constructor(e,t,n){super(e,Tr.grid,t),this.spec.componentType=Tr.grid,this.mode=n}parseAddition(e){return super.parseAddition(e),this.target(e.target),this.gridType(e.gridType),this.gridShape(e.gridShape),this}scale(e){return super.scale(e),this._gridComponentType=null,this}gridType(e){return this.spec.gridType=e,this._gridComponentType=null,this._prepareRejoin(),this.commit(),this}gridShape(e){return this.spec.gridShape=e,this.commit(),this}target(e){if(this.spec.target){const n=ct(this.spec.target)?this.view.getMarkById(this.spec.target):this.spec.target;this.detach(n)}this.spec.target=e;const t=ct(e)?this.view.getMarkById(e):e;return this.attach(t),this._targetAxis=t,this._gridComponentType=null,this._updateComponentEncoders(),this.commit(),this}tickCount(e){const t=ct(this.spec.scale)?this.view.getScaleById(this.spec.scale):this.spec.scale;return t&&t.tickCount(e),this.setFunctionSpec(e,"tickCount")}inside(e){return this.setFunctionSpec(e,"inside")}baseValue(e){return this.setFunctionSpec(e,"baseValue")}addGraphicItem(e,t){const n=Ie({x:0,y:0,start:{x:0,y:0},end:{x:0,y:0}},e),r=He.createGraphicComponent(this._getGridComponentType(),n,{mode:this.mode,skipDefault:this.spec.skipTheme});return super.addGraphicItem(n,t,r)}_updateComponentEncoders(){const e=Object.assign({update:{}},this.spec.encode),t=Object.keys(e).reduce((n,r)=>{const s=e[r];return s&&(n[r]={callback:(a,o,l)=>{var u,c,d,h;const p=this.spec.skipTheme?null:this.view.getCurrentTheme();let f,g=Yv(s,a,o,l);const v=Ps(this.spec.baseValue,l,a,o);if(this._targetAxis){const _=(u=this._targetAxis.getSpec())===null||u===void 0?void 0:u.scale;f=ct(_)?this.view.getScaleById(_):_;const S=this._targetAxis.elements[0];if(S)switch(this._getGridComponentType()){case Ga.lineAxisGrid:g=Object.assign({x:S.getGraphicAttribute("x"),y:S.getGraphicAttribute("y"),start:S.getGraphicAttribute("start"),end:S.getGraphicAttribute("end"),verticalFactor:(c=S.getGraphicAttribute("verticalFactor"))!==null&&c!==void 0?c:1},g);break;case Ga.circleAxisGrid:g=Object.assign({x:S.getGraphicAttribute("x"),y:S.getGraphicAttribute("y"),center:S.getGraphicAttribute("center"),radius:S.getGraphicAttribute("radius"),innerRadius:S.getGraphicAttribute("innerRadius"),inside:S.getGraphicAttribute("inside"),startAngle:S.getGraphicAttribute("startAngle"),endAngle:S.getGraphicAttribute("endAngle")},g)}}else{f=ct(this.spec.scale)?this.view.getScaleById(this.spec.scale):this.spec.scale;const _=Ps(this.spec.inside,l,a,o),S=(d=f==null?void 0:f.getCoordinate)===null||d===void 0?void 0:d.call(f);S&&(g=Object.assign(kEe(f,S,_,v,this.spec.layout,!0),g))}this._getGridComponentType()===Ga.lineAxisGrid&&(g=this.spec.gridShape!=="line"&&this.spec.gridShape?Object.assign({center:g.start,closed:!0},g,{type:this.spec.gridShape}):Object.assign({},g,{type:"line"}));const m=(h=f==null?void 0:f.getScale)===null||h===void 0?void 0:h.call(f),b=Ps(this.spec.tickCount,l,a,o);switch(this._getGridComponentType()){case Ga.lineAxisGrid:return Sbt(m,p,g,b);case Ga.circleAxisGrid:return xbt(m,p,g,b)}return g}}),n},{});this._encoders=t}_getGridComponentType(){var e;if(this._gridComponentType)return this._gridComponentType;if(this.spec.gridType)this.spec.gridType==="circle"?this._gridComponentType=Ga.circleAxisGrid:this._gridComponentType=Ga.lineAxisGrid;else if(this._targetAxis)switch(this._targetAxis.getAxisComponentType()){case df.circleAxis:this._gridComponentType=Ga.circleAxisGrid;break;case df.lineAxis:default:this._gridComponentType=Ga.lineAxisGrid}else if(this.spec.scale){const t=ct(this.spec.scale)?this.view.getScaleById(this.spec.scale):this.spec.scale;this._gridComponentType=!((e=t==null?void 0:t.getCoordinate)===null||e===void 0)&&e.call(t)?t.getCoordinateAxisPoints()?Ga.lineAxisGrid:Ga.circleAxisGrid:Ga.lineAxisGrid}else this._gridComponentType=Ga.lineAxisGrid;return this._gridComponentType}}PEe.componentType=Tr.grid;const wbt=()=>{He.registerGraphicComponent(Ga.lineAxisGrid,(i,e)=>new Cke(i,e)),He.registerGraphicComponent(Ga.circleAxisGrid,(i,e)=>new kke(i,e)),He.registerComponent(Tr.grid,PEe)},Cbt=(i,e,t)=>e.filter(n=>i.callback(n,t)),kbt=(i,e,t)=>{const n=i.callback,r=i.as;if(!i.all)return e.forEach(a=>{const o=n(a,t);if(!Y(r)){if(Y(a))return;a[r]=o}return o}),e;const s=n(e,t);return Y(r)||Y(e)?s:(e[r]=s,e)};function OEe(i){return i.reduce((e,t)=>e+t,0)}function Ebt(i){return i.length===0?0:OEe(i)/i.length}const Abt={min:ca,max:Os,average:Ebt,sum:OEe};function Tbt(i,e,t,n){const r=Math.floor(e.length/i),s=[],a=e.length;let o,l,u,c=0,d=0;s[d++]=c;for(let h=1;h<a-1;h+=r){const p=Math.min(h+r,a-1),f=Math.min(h+2*r,a),g=(f+p)/2;let v=0;for(let C=p;C<f;C++){const k=e[C][n];Number.isNaN(k)||(v+=k)}v/=f-p;const m=h,b=Math.min(h+r,a),_=h-1,S=e[c][n];o=-1,u=m;for(let C=m;C<b;C++){const k=e[C][n];Number.isNaN(n)||(l=Math.abs((_-g)*(k-S)-(_-C)*(v-S)),l>o&&(o=l,u=C))}s[d++]=u,c=u}return s[d-1]!==a-1&&(s[d++]=a-1),s.map(h=>t?e[h].i:h)}function k$(i,e,t,n,r){let s=Math.floor(e.length/i);const a=[],o=e.length;let l=0,u=[];a.push(l),e[l][r]=e[l][r];for(let c=1;c<o-1;c+=s){s>o-c&&(s=o-c,u.length=s),u=[];for(let h=0;h<s;h++)u.push(e[c+h][r]);const d=Abt[n](u);l=Math.min(Math.round(c+u.length/2)||0,o-1),e[l][r]=d,a.push(l)}return a.map(c=>t?e[c].i:c)}function Pbt(i,e,t,n){return k$(i,e,t,"min",n)}function Obt(i,e,t,n){return k$(i,e,t,"max",n)}function Mbt(i,e,t,n){return k$(i,e,t,"average",n)}function Ibt(i,e,t,n){return k$(i,e,t,"sum",n)}const Rbt=(i,e)=>{let t=i.size;const n=i.factor||1;if(Array.isArray(t)&&(t=Math.floor(t[1]-t[0])),t*=n,t<=0)return[];if(e.length<=t)return e;if(i.skipfirst)return e.slice(0,1);const{mode:r,yfield:s,groupBy:a}=i,o=s??"y";let l=Tbt;if(r==="min"?l=Pbt:r==="max"?l=Obt:r==="average"?l=Mbt:r==="sum"&&(l=Ibt),e.length){const u={};if(a){for(let d=0,h=e.length;d<h;d++){const p=e[d],f=p[a];u[f]?u[f].push({[o]:p[o],i:d}):(u[f]=[],u[f].push({[o]:p[o],i:d}))}let c=[];return Object.keys(u).forEach(d=>{const h=u[d];if(h.length<=t){const p=h.map(f=>f.i);c=c.concat(p)}else{const p=l(t,h,!0,o);c=c.concat(p),h.forEach(f=>e[f.i][o]=f[o])}}),c.sort((d,h)=>d-h),c.map(d=>e[d])}return l(t,e,!1,o).map(c=>e[c])}return[]},jT="_mo_hide_";function Dbt(i){return i.forEach(e=>{e.getGraphicAttribute(jT)&&(e.setGraphicAttribute("visible",!0),e.setGraphicAttribute(jT,!1))}),i}function Lbt(i,e,t,n){if(n){let r=-1/0,s=0;const a=Y(e);let o=e;i.forEach(l=>{if(l.getGraphicAttribute("visible")===!1)return;const u=l.getGraphicAttribute("size")/2,c=l.getGraphicAttribute("x");a&&(o=(u+s)*t),Math.abs(c-r)<o+s+u?l.getGraphicAttribute("forceShow")||(l.setGraphicAttribute(jT,!0),l.setGraphicAttribute("visible",!1)):r=c,s=u})}}function Fbt(i,e,t,n){if(n){let r=-1/0,s=0;const a=Y(e);let o=e;i.forEach(l=>{if(l.getGraphicAttribute("visible")===!1)return;const u=l.getGraphicAttribute("size")/2,c=l.getGraphicAttribute("y");a&&(o=(u+s)*t),Math.abs(c-r)<o+s+u?l.getGraphicAttribute("forceShow")||(l.setGraphicAttribute(jT,!0),l.setGraphicAttribute("visible",!1)):r=c,s=u})}}function Bbt(i,e,t,n){if(n){let s=-1/0,a=0,o=0;const l=Y(e);let u=e;i.forEach(c=>{if(c.getGraphicAttribute("visible")===!1)return;const d=c.getGraphicAttribute("size")/2,h=c.getGraphicAttribute("x"),p=c.getGraphicAttribute("y");l&&(u=(d+a)*t),o=(-1/0-h)**2+(s-p)**2,o<(u+a+d)**2?c.getGraphicAttribute("forceShow")||(c.setGraphicAttribute(jT,!0),c.setGraphicAttribute("visible",!1)):s=p,a=d})}}const $bt=(i,e)=>{if(!e||e.length===0)return;let{radius:t}=i;Y(t)&&e[0].mark.markType==="symbol"&&(t=!0);const{direction:n,delta:r,deltaMul:s=1,groupBy:a}=i,o=l=>{Dbt(l);const u=i.sort?l.slice().sort((c,d)=>c.getGraphicAttribute("x")-d.getGraphicAttribute("x")):l;n===0?Bbt(u,r,s,t):n===1?Lbt(u,r,s,t):Fbt(u,r,s,t)};if(a){const l=e.reduce((u,c)=>{const d=c.getDatum()[a];return u[d]?u[d].push(c):u[d]=[c],u},{});Object.keys(l).forEach(u=>{o(l[u])})}else o(e);return e},Nbt=()=>{He.registerTransform("filter",{transform:Cbt,markPhase:"beforeJoin"},!0)},jbt=()=>{He.registerTransform("map",{transform:kbt,markPhase:"beforeJoin"},!0)},QX=()=>{He.registerTransform("sampling",{transform:Rbt,markPhase:"afterEncode"},!0)},JX=()=>{He.registerTransform("markoverlap",{transform:$bt,markPhase:"afterEncode"},!0)},zbt=(i,e,t)=>{var n;const r=i.getGraphicAttribute("clipRangeByDimension",!1),s=(n=i.getGraphicAttribute("clipRange",!1))!==null&&n!==void 0?n:1;return e&&e.clipDimension?{from:{clipRange:0,clipRangeByDimension:e.clipDimension},to:{clipRange:s,clipRangeByDimension:r}}:{from:{clipRange:0},to:{clipRange:s}}},Hbt=(i,e,t)=>{var n;const r=i.getGraphicAttribute("clipRangeByDimension",!0),s=(n=i.getGraphicAttribute("clipRange",!0))!==null&&n!==void 0?n:1;return e&&e.clipDimension?{from:{clipRange:s,clipRangeByDimension:e.clipDimension},to:{clipRange:0,clipRangeByDimension:r}}:{from:{clipRange:s},to:{clipRange:0}}},Vbt=(i,e,t)=>{var n,r,s;const a=i.getFinalGraphicAttributes();return{from:{opacity:0,fillOpacity:0,strokeOpacity:0},to:{opacity:(n=a.opacity)!==null&&n!==void 0?n:1,fillOpacity:(r=a.fillOpacity)!==null&&r!==void 0?r:1,strokeOpacity:(s=a.strokeOpacity)!==null&&s!==void 0?s:1}}},Wbt=(i,e,t)=>{var n,r,s;return{from:{opacity:(n=i.getGraphicAttribute("opacity",!0))!==null&&n!==void 0?n:1,fillOpacity:(r=i.getGraphicAttribute("fillOpacity",!0))!==null&&r!==void 0?r:1,strokeOpacity:(s=i.getGraphicAttribute("strokeOpacity",!0))!==null&&s!==void 0?s:1},to:{opacity:0,fillOpacity:0,strokeOpacity:0}}},Ubt=(i,e,t)=>{switch(e==null?void 0:e.direction){case"x":{const n=i.getGraphicAttribute("x",!1),r=i.getGraphicAttribute("x1",!1),s=i.getGraphicAttribute("width",!1);return{from:X(s)?{x:n+s/2,x1:void 0,width:0}:{x:(n+r)/2,x1:(n+r)/2,width:void 0},to:{x:n,x1:r,width:s}}}case"y":{const n=i.getGraphicAttribute("y",!1),r=i.getGraphicAttribute("y1",!1),s=i.getGraphicAttribute("height",!1);return{from:X(s)?{y:n+s/2,y1:void 0,height:0}:{y:(n+r)/2,y1:(n+r)/2,height:void 0},to:{y:n,y1:r,height:s}}}default:{const n=i.getGraphicAttribute("x",!1),r=i.getGraphicAttribute("x1",!1),s=i.getGraphicAttribute("width",!1),a=i.getGraphicAttribute("y",!1),o=i.getGraphicAttribute("y1",!1),l=i.getGraphicAttribute("height",!1),u={};return X(s)?(u.x=n+s/2,u.width=0,u.x1=void 0):(u.x=(n+r)/2,u.x1=(n+r)/2,u.width=void 0),X(l)?(u.y=a+l/2,u.height=0,u.y1=void 0):(u.y=(a+o)/2,u.y1=(a+o)/2,u.height=void 0),{from:u,to:{x:n,y:a,x1:r,y1:o,width:s,height:l}}}}},Gbt=(i,e,t)=>{switch(e==null?void 0:e.direction){case"x":{const n=i.getGraphicAttribute("x",!1),r=i.getGraphicAttribute("x1",!1),s=i.getGraphicAttribute("width",!1);return{to:X(s)?{x:n+s/2,x1:void 0,width:0}:{x:(n+r)/2,x1:(n+r)/2,width:void 0}}}case"y":{const n=i.getGraphicAttribute("y",!1),r=i.getGraphicAttribute("y1",!1),s=i.getGraphicAttribute("height",!1);return{to:X(s)?{y:n+s/2,y1:void 0,height:0}:{y:(n+r)/2,y1:(n+r)/2,height:void 0}}}default:{const n=i.getGraphicAttribute("x",!1),r=i.getGraphicAttribute("y",!1),s=i.getGraphicAttribute("x1",!1),a=i.getGraphicAttribute("y1",!1),o=i.getGraphicAttribute("width",!1),l=i.getGraphicAttribute("height",!1),u={};return X(o)?(u.x=n+o/2,u.width=0,u.x1=void 0):(u.x=(n+s)/2,u.x1=(n+s)/2,u.width=void 0),X(l)?(u.y=r+l/2,u.height=0,u.y1=void 0):(u.y=(r+a)/2,u.y1=(r+a)/2,u.height=void 0),{to:u}}}};function Ybt(i,e,t){const n=i.getGraphicAttribute("x",!1),r=i.getGraphicAttribute("x1",!1),s=i.getGraphicAttribute("width",!1);if(e&&e.orient==="negative"){const o=X(s)?Math.max(n,n+s):Math.max(n,r);return{from:{x:o,x1:Y(r)?void 0:o,width:Y(s)?void 0:0},to:{x:n,x1:r,width:s}}}const a=X(s)?Math.min(n,n+s):Math.min(n,r);return{from:{x:a,x1:Y(r)?void 0:a,width:Y(s)?void 0:0},to:{x:n,x1:r,width:s}}}function Kbt(i,e,t){var n;const r=i.getGraphicAttribute("x",!1),s=i.getGraphicAttribute("x1",!1),a=i.getGraphicAttribute("width",!1);let o;return e&&e.orient==="negative"?Xe(e.overall)?o=e.overall:t.group?(o=(n=t.groupWidth)!==null&&n!==void 0?n:t.group.getBounds().width(),t.groupWidth=o):o=t.width:o=Xe(e==null?void 0:e.overall)?e==null?void 0:e.overall:0,{from:{x:o,x1:Y(s)?void 0:o,width:Y(a)?void 0:0},to:{x:r,x1:s,width:a}}}const Xbt=(i,e,t)=>{var n;return((n=e==null?void 0:e.overall)!==null&&n!==void 0&&n)!==!1?Kbt(i,e,t):Ybt(i,e)};function qbt(i,e,t){const n=i.getGraphicAttribute("x",!1),r=i.getGraphicAttribute("x1",!1),s=i.getGraphicAttribute("width",!1);if(e&&e.orient==="negative"){const o=X(s)?Math.max(n,n+s):Math.max(n,r);return{to:{x:o,x1:Y(r)?void 0:o,width:Y(s)?void 0:0}}}const a=X(s)?Math.min(n,n+s):Math.min(n,r);return{to:{x:a,x1:Y(r)?void 0:a,width:Y(s)?void 0:0}}}function Zbt(i,e,t){var n;const r=i.getGraphicAttribute("x1",!1),s=i.getGraphicAttribute("width",!1);let a;return e&&e.orient==="negative"?Xe(e.overall)?a=e.overall:t.group?(a=(n=t.groupWidth)!==null&&n!==void 0?n:t.group.getBounds().width(),t.groupWidth=a):a=t.width:a=Xe(e==null?void 0:e.overall)?e.overall:0,{to:{x:a,x1:Y(r)?void 0:a,width:Y(s)?void 0:0}}}const Qbt=(i,e,t)=>{var n;return((n=e==null?void 0:e.overall)!==null&&n!==void 0&&n)!==!1?Zbt(i,e,t):qbt(i,e)};function Jbt(i,e,t){const n=i.getGraphicAttribute("y",!1),r=i.getGraphicAttribute("y1",!1),s=i.getGraphicAttribute("height",!1);if(e&&e.orient==="negative"){const o=X(s)?Math.max(n,n+s):Math.max(n,r);return{from:{y:o,y1:Y(r)?void 0:o,height:Y(s)?void 0:0},to:{y:n,y1:r,height:s}}}const a=X(s)?Math.min(n,n+s):Math.min(n,r);return{from:{y:a,y1:Y(r)?void 0:a,height:Y(s)?void 0:0},to:{y:n,y1:r,height:s}}}function e1t(i,e,t){var n;const r=i.getGraphicAttribute("y",!1),s=i.getGraphicAttribute("y1",!1),a=i.getGraphicAttribute("height",!1);let o;return e&&e.orient==="negative"?Xe(e.overall)?o=e.overall:t.group?(o=(n=t.groupHeight)!==null&&n!==void 0?n:t.group.getBounds().height(),t.groupHeight=o):o=t.height:o=Xe(e==null?void 0:e.overall)?e.overall:0,{from:{y:o,y1:Y(s)?void 0:o,height:Y(a)?void 0:0},to:{y:r,y1:s,height:a}}}const t1t=(i,e,t)=>{var n;return((n=e==null?void 0:e.overall)!==null&&n!==void 0&&n)!==!1?e1t(i,e,t):Jbt(i,e)};function i1t(i,e,t){const n=i.getGraphicAttribute("y",!1),r=i.getGraphicAttribute("y1",!1),s=i.getGraphicAttribute("height",!1);if(e&&e.orient==="negative"){const o=X(s)?Math.max(n,n+s):Math.max(n,r);return{to:{y:o,y1:Y(r)?void 0:o,height:Y(s)?void 0:0}}}const a=X(s)?Math.min(n,n+s):Math.min(n,r);return{to:{y:a,y1:Y(r)?void 0:a,height:Y(s)?void 0:0}}}function n1t(i,e,t){var n;const r=i.getGraphicAttribute("y1",!1),s=i.getGraphicAttribute("height",!1);let a;return e&&e.orient==="negative"?Xe(e.overall)?a=e.overall:t.group?(a=(n=t.groupHeight)!==null&&n!==void 0?n:t.group.getBounds().height(),t.groupHeight=a):a=t.height:a=Xe(e==null?void 0:e.overall)?e.overall:0,{to:{y:a,y1:Y(r)?void 0:a,height:Y(s)?void 0:0}}}const r1t=(i,e,t)=>{var n;return((n=e==null?void 0:e.overall)!==null&&n!==void 0&&n)!==!1?n1t(i,e,t):i1t(i,e)},s1t=(i,e,t)=>{const n=i.getFinalGraphicAttributes();return e&&e.orient==="anticlockwise"?{from:{startAngle:n==null?void 0:n.endAngle},to:{startAngle:n==null?void 0:n.startAngle}}:{from:{endAngle:n==null?void 0:n.startAngle},to:{endAngle:n==null?void 0:n.endAngle}}},a1t=(i,e,t)=>{const n=i.getFinalGraphicAttributes();if(e&&e.orient==="anticlockwise"){const s=Xe(e.overall)?e.overall:2*Math.PI;return{from:{startAngle:s,endAngle:s},to:{startAngle:n==null?void 0:n.startAngle,endAngle:n==null?void 0:n.endAngle}}}const r=Xe(e==null?void 0:e.overall)?e.overall:0;return{from:{startAngle:r,endAngle:r},to:{startAngle:n==null?void 0:n.startAngle,endAngle:n==null?void 0:n.endAngle}}},o1t=(i,e,t)=>{var n;return((n=e==null?void 0:e.overall)!==null&&n!==void 0&&n)!==!1?a1t(i,e):s1t(i,e)},l1t=(i,e,t)=>{const n=i.getFinalGraphicAttributes();return e&&e.orient==="anticlockwise"?{from:{startAngle:i.getGraphicAttribute("startAngle",!0)},to:{startAngle:n==null?void 0:n.endAngle}}:{from:{endAngle:i.getGraphicAttribute("endAngle",!0)},to:{endAngle:n==null?void 0:n.startAngle}}},u1t=(i,e,t)=>{if(e&&e.orient==="anticlockwise"){const r=Xe(e.overall)?e.overall:2*Math.PI;return{from:{startAngle:i.getGraphicAttribute("startAngle",!0),endAngle:i.getGraphicAttribute("endAngle",!0)},to:{startAngle:r,endAngle:r}}}const n=Xe(e==null?void 0:e.overall)?e.overall:0;return{from:{startAngle:i.getGraphicAttribute("startAngle",!0),endAngle:i.getGraphicAttribute("endAngle",!0)},to:{startAngle:n,endAngle:n}}},c1t=(i,e,t)=>{var n;return((n=e==null?void 0:e.overall)!==null&&n!==void 0&&n)!==!1?u1t(i,e):l1t(i,e)},d1t=(i,e,t)=>{const n=i.getFinalGraphicAttributes();return e&&e.orient==="inside"?{from:{innerRadius:n==null?void 0:n.outerRadius},to:{innerRadius:n==null?void 0:n.innerRadius}}:{from:{outerRadius:n==null?void 0:n.innerRadius},to:{outerRadius:n==null?void 0:n.outerRadius}}},h1t=(i,e,t)=>{const n=i.getFinalGraphicAttributes(),r=Xe(e==null?void 0:e.overall)?e.overall:0;return{from:{innerRadius:r,outerRadius:r},to:{innerRadius:n==null?void 0:n.innerRadius,outerRadius:n==null?void 0:n.outerRadius}}},p1t=(i,e,t)=>{var n;return((n=e==null?void 0:e.overall)!==null&&n!==void 0&&n)!==!1?h1t(i,e):d1t(i,e)},f1t=(i,e,t)=>{const n=i.getFinalGraphicAttributes();return e&&e.orient==="inside"?{from:{innerRadius:i.getGraphicAttribute("innerRadius",!0)},to:{innerRadius:n==null?void 0:n.outerRadius}}:{from:{outerRadius:i.getGraphicAttribute("outerRadius",!0)},to:{outerRadius:n==null?void 0:n.innerRadius}}},g1t=(i,e,t)=>{const n=Xe(e==null?void 0:e.overall)?e.overall:0;return{from:{innerRadius:i.getGraphicAttribute("innerRadius",!0),outerRadius:i.getGraphicAttribute("outerRadius",!0)},to:{innerRadius:n,outerRadius:n}}},m1t=(i,e,t)=>{var n;return((n=e==null?void 0:e.overall)!==null&&n!==void 0&&n)!==!1?g1t(i,e):f1t(i,e)},MEe=(i,e,t)=>{const n=i.getGraphicAttribute("points",!1),r={x:0,y:0};return n.forEach(s=>{r.x+=s.x,r.y+=s.y}),r.x/=n.length,r.y/=n.length,e&&e.center&&(Ce(e.center.x)&&(r.x=e.center.x),Ce(e.center.y)&&(r.y=e.center.y)),i.mark.markType==="area"&&(r.x1=r.x,r.y1=r.y),n.map(()=>Object.assign(r))},v1t=(i,e,t)=>({from:{points:MEe(i,e)},to:{points:i.getGraphicAttribute("points",!1)}}),y1t=(i,e,t)=>({from:{points:i.getGraphicAttribute("points",!0)},to:{points:MEe(i,e)}}),IEe=(i,e,t)=>i.getGraphicAttribute("points",!1).map(n=>{var r;if(e&&e.orient==="negative"){let s=t.width;return t.group&&(s=(r=t.groupWidth)!==null&&r!==void 0?r:t.group.getBounds().width(),t.groupWidth=s),{x:s,y:n.y,x1:s,y1:n.y1,defined:n.defined!==!1}}return{x:0,y:n.y,x1:0,y1:n.y1,defined:n.defined!==!1}}),_1t=(i,e,t)=>({from:{points:IEe(i,e,t)},to:{points:i.getGraphicAttribute("points",!1)}}),b1t=(i,e,t)=>({from:{points:i.getGraphicAttribute("points",!0)},to:{points:IEe(i,e,t)}}),REe=(i,e,t)=>i.getGraphicAttribute("points",!1).map(n=>{var r;if(e&&e.orient==="negative"){let s=t.height;return t.group&&(s=(r=t.groupHeight)!==null&&r!==void 0?r:t.group.getBounds().height(),t.groupHeight=s),{x:n.x,y:s,x1:n.x1,y1:s,defined:n.defined!==!1}}return{x:n.x,y:0,x1:n.x1,y1:0,defined:n.defined!==!1}}),S1t=(i,e,t)=>({from:{points:REe(i,e,t)},to:{points:i.getGraphicAttribute("points",!1)}}),x1t=(i,e,t)=>({from:{points:i.getGraphicAttribute("points",!0)},to:{points:REe(i,e,t)}}),w1t=(i,e,t)=>{var n,r;const{offset:s=0,orient:a,direction:o,point:l}=e??{};let u=0,c=0;a==="negative"&&(t.group?(u=(n=t.groupWidth)!==null&&n!==void 0?n:t.group.getBounds().width(),c=(r=t.groupHeight)!==null&&r!==void 0?r:t.group.getBounds().height(),t.groupWidth=u,t.groupHeight=c):(u=t.width,c=t.height)),u+=s,c+=s;const d=Pe(l)?l.call(null,i.getDatum(),i,t):l,h=d&&Ce(d.x)?d.x:u,p=d&&Ce(d.y)?d.y:c,f=i.getFinalGraphicAttributes();switch(o){case"x":return{from:{x:h},to:{x:f==null?void 0:f.x}};case"y":return{from:{y:p},to:{y:f==null?void 0:f.y}};default:return{from:{x:h,y:p},to:{x:f==null?void 0:f.x,y:f==null?void 0:f.y}}}},C1t=(i,e,t)=>{var n,r;const{offset:s=0,orient:a,direction:o,point:l}=e??{},u=t.group?t.group.getBounds():null,c=(n=u==null?void 0:u.width())!==null&&n!==void 0?n:t.width,d=(r=u==null?void 0:u.height())!==null&&r!==void 0?r:t.height,h=(a==="negative"?c:0)+s,p=(a==="negative"?d:0)+s,f=Pe(l)?l.call(null,i.getDatum(),i,t):l,g=f&&Ce(f.x)?f.x:h,v=f&&Ce(f.y)?f.y:p;switch(o){case"x":return{from:{x:i.getGraphicAttribute("x",!0)},to:{x:g}};case"y":return{from:{y:i.getGraphicAttribute("y",!0)},to:{y:v}};default:return{from:{x:i.getGraphicAttribute("x",!0),y:i.getGraphicAttribute("y",!0)},to:{x:g,y:v}}}},k1t=(i,e,t)=>{var n,r,s,a;const o=i.getFinalGraphicAttributes();switch(e==null?void 0:e.direction){case"x":return{from:{scaleX:0},to:{scaleX:(n=o==null?void 0:o.scaleX)!==null&&n!==void 0?n:1}};case"y":return{from:{scaleY:0},to:{scaleY:(r=o==null?void 0:o.scaleY)!==null&&r!==void 0?r:1}};default:return{from:{scaleX:0,scaleY:0},to:{scaleX:(s=o==null?void 0:o.scaleX)!==null&&s!==void 0?s:1,scaleY:(a=o==null?void 0:o.scaleY)!==null&&a!==void 0?a:1}}}},E1t=(i,e,t)=>{var n,r,s,a;switch(e==null?void 0:e.direction){case"x":return{from:{scaleX:(n=i.getGraphicAttribute("scaleX",!0))!==null&&n!==void 0?n:1},to:{scaleX:0}};case"y":return{from:{scaleY:(r=i.getGraphicAttribute("scaleY",!0))!==null&&r!==void 0?r:1},to:{scaleY:0}};default:return{from:{scaleX:(s=i.getGraphicAttribute("scaleX",!0))!==null&&s!==void 0?s:1,scaleY:(a=i.getGraphicAttribute("scaleY",!0))!==null&&a!==void 0?a:1},to:{scaleX:0,scaleY:0}}}},A1t={symbol:["_mo_hide_","visible"]},T1t=(i,e,t)=>{const n=Object.assign({},i.getPrevGraphicAttributes()),r=Object.assign({},i.getNextGraphicAttributes());let s;e&&we(e.excludeChannels).forEach(o=>{delete n[o],delete r[o]}),i.mark&&i.mark.markType&&(s=A1t[i.mark.markType])&&s.forEach(o=>{delete n[o],delete r[o]}),Object.keys(r).forEach(o=>{JB(o,n,r)&&(delete n[o],delete r[o])});const a=i.getFinalGraphicAttributes();return Object.keys(n).forEach(o=>{Y(r[o])&&(Y(a[o])||Rr(n[o],a[o])?delete n[o]:r[o]=a[o])}),{from:n,to:r}},P1t=(i,e,t)=>{var n,r;const s=(r=(n=i.getFinalGraphicAttributes())===null||n===void 0?void 0:n.angle)!==null&&r!==void 0?r:0;let a=0;return a=Ol(s/(2*Math.PI),0)?Math.round(s/(2*Math.PI))*Math.PI*2:Ce(e==null?void 0:e.angle)?e.angle:(e==null?void 0:e.orient)==="anticlockwise"?Math.ceil(s/(2*Math.PI))*Math.PI*2:Math.floor(s/(2*Math.PI))*Math.PI*2,{from:{angle:a},to:{angle:s}}},O1t=(i,e,t)=>{var n;const r=(n=i.getGraphicAttribute("angle",!0))!==null&&n!==void 0?n:0;let s=0;return s=Ol(r/(2*Math.PI),0)?Math.round(r/(2*Math.PI))*Math.PI*2:Ce(e==null?void 0:e.angle)?e.angle:(e==null?void 0:e.orient)==="anticlockwise"?Math.ceil(r/(2*Math.PI))*Math.PI*2:Math.floor(r/(2*Math.PI))*Math.PI*2,{from:{angle:r},to:{angle:s}}},M1t=()=>{He.registerAnimationType("clipIn",zbt)},I1t=()=>{He.registerAnimationType("clipOut",Hbt)},R1t=()=>{He.registerAnimationType("fadeIn",Vbt)},D1t=()=>{He.registerAnimationType("fadeOut",Wbt)},L1t=()=>{He.registerAnimationType("growCenterIn",Ubt)},F1t=()=>{He.registerAnimationType("growCenterOut",Gbt)},B1t=()=>{He.registerAnimationType("growHeightIn",t1t)},$1t=()=>{He.registerAnimationType("growHeightOut",r1t)},N1t=()=>{He.registerAnimationType("growWidthIn",Xbt)},j1t=()=>{He.registerAnimationType("growWidthOut",Qbt)},DEe=()=>{He.registerAnimationType("growPointsIn",v1t)},LEe=()=>{He.registerAnimationType("growPointsOut",y1t)},z1t=()=>{He.registerAnimationType("growPointsXIn",_1t)},H1t=()=>{He.registerAnimationType("growPointsXOut",b1t)},V1t=()=>{He.registerAnimationType("growPointsYIn",S1t)},W1t=()=>{He.registerAnimationType("growPointsYOut",x1t)},U1t=()=>{He.registerAnimationType("growAngleIn",o1t)},G1t=()=>{He.registerAnimationType("growAngleOut",c1t)},Y1t=()=>{He.registerAnimationType("growRadiusIn",p1t)},K1t=()=>{He.registerAnimationType("growRadiusOut",m1t)},X1t=()=>{He.registerAnimationType("moveIn",w1t)},q1t=()=>{He.registerAnimationType("moveOut",C1t)},Z1t=()=>{He.registerAnimationType("scaleIn",k1t)},Q1t=()=>{He.registerAnimationType("scaleOut",E1t)},J1t=()=>{He.registerAnimationType("rotateIn",P1t)},eSt=()=>{He.registerAnimationType("rotateOut",O1t)},tSt=()=>{He.registerAnimationType("update",T1t)};class FEe extends Gw{encodeState(e,t,n){return super.encodeState(e,t,n),this._updateComponentEncoders(e),this}_updateComponentEncoders(e){this._encoders||(this._encoders={});const t=this.spec.encode[e];if(t&&e==="update"){const n=this.parameters(),r=Xy(t)?null:Object.keys(t).reduce((s,a)=>(x$(t[a])&&(s[a]=NT(t[a].scale,n)),s),{});this._encoders[e]={callback:(s,a,o)=>{const l=Yv(t,s,a,o);if(Y(l.size)){const u=r.x?Uce(r.x):void 0,c=r.y?Uce(r.y):void 0;Y(u)&&Y(c)?l.size=10:Y(u)?l.size=c:Y(c)&&(l.size=u),l.size=[u,c]}return Y(l.shape)&&(l.shape="rect"),l}}}else this._encoders[e]=t}_getEncoders(){var e;return(e=this._encoders)!==null&&e!==void 0?e:{}}getAttributeTransforms(){return[{channels:["size","padding"],transform:(e,t,n)=>{if(Xe(n.padding)&&n.padding>0)e.size=ke(n.size)?n.size.map(r=>Math.max(r-n.padding,1)):Math.max(n.size-n.padding,1);else if(ke(n.padding)&&n.padding.length===2){const r=ke(n.size)?n.size:[n.size,n.size];e.size=[Math.max(r[0]-n.padding[0],1),Math.max(r[1]-n.padding[1],1)]}else e.size=n.size},storedAttrs:"paddingAttrs"}].concat(hP.symbol)}release(){super.release(),this._encoders=null}}FEe.markType=nt.cell;const iSt=()=>{He.registerMark(nt.cell,FEe)},nSt=["pointerdown","pointerup","pointerupoutside","pointertap","pointerover","pointermove","pointerenter","pointerleave","pointerout","mousedown","mouseup","mouseupoutside","rightdown","rightup","rightupoutside","click","dblclick","mousemove","mouseover","mouseout","mouseenter","mouseleave","wheel","touchstart","touchend","touchendoutside","touchmove","touchcancel","tap","dragstart","drag","dragenter","dragleave","dragover","dragend","drop","pan","panstart","panend","press","pressup","pressend","pinch","pinchstart","pinchend","swipe"];var Pt;(function(i){i.initialized="initialized",i.rendered="rendered",i.renderFinished="renderFinished",i.animationFinished="animationFinished",i.regionSeriesDataFilterOver="regionSeriesDataFilterOver",i.afterInitData="afterInitData",i.afterInitEvent="afterInitEvent",i.afterInitMark="afterInitMark",i.rawDataUpdate="rawDataUpdate",i.viewDataFilterOver="viewDataFilterOver",i.viewDataUpdate="viewDataUpdate",i.viewDataStatisticsUpdate="viewDataStatisticsUpdate",i.markDeltaYUpdate="markDeltaYUpdate",i.viewDataLabelUpdate="viewDataLabelUpdate",i.scaleDomainUpdate="scaleDomainUpdate",i.scaleUpdate="scaleUpdate",i.dataZoomChange="dataZoomChange",i.drill="drill",i.layoutStart="layoutStart",i.layoutEnd="layoutEnd",i.layoutRectUpdate="layoutRectUpdate",i.playerPlay="playerPlay",i.playerPause="playerPause",i.playerEnd="playerEnd",i.playerChange="playerChange",i.playerForward="playerForward",i.playerBackward="playerBackward",i.scrollBarChange="scrollBarChange",i.brushStart="brushStart",i.brushChange="brushChange",i.brushEnd="brushEnd",i.brushClear="brushClear",i.legendSelectedDataChange="legendSelectedDataChange",i.legendFilter="legendFilter",i.legendItemClick="legendItemClick",i.legendItemHover="legendItemHover",i.legendItemUnHover="legendItemUnHover",i.tooltipShow="tooltipShow",i.tooltipHide="tooltipHide",i.tooltipRelease="tooltipRelease",i.afterResize="afterResize",i.afterRender="afterRender",i.afterLayout="afterLayout"})(Pt||(Pt={}));var cn;(function(i){i.chart="chart",i.window="window",i.canvas="canvas"})(cn||(cn={}));var fr;(function(i){i.vchart="vchart",i.chart="chart",i.model="model",i.mark="mark"})(fr||(fr={}));const JL=`${Ut}_waterfall_default_seriesField`,BEe=`${Ut}_CORRELATION_X`,$Ee=`${Ut}_CORRELATION_Y`,NEe=`${Ut}_CORRELATION_SIZE`,Tl=`${Ut}_DEFAULT_DATA_INDEX`,rp=`${Ut}_DEFAULT_DATA_KEY`,$u=`${Ut}_DEFAULT_DATA_SERIES_FIELD`,lde=`${Ut}_DEFAULT_SERIES_STYLE_NAME`;var Ve;(function(i){i[i.Default=0]="Default",i[i.Theme=1]="Theme",i[i.Chart=2]="Chart",i[i.Base_Series=3]="Base_Series",i[i.Series=4]="Series",i[i.Mark=5]="Mark",i[i.User_Chart=6]="User_Chart",i[i.User_Series=7]="User_Series",i[i.User_Mark=8]="User_Mark",i[i.Built_In=99]="Built_In"})(Ve||(Ve={}));const rSt=`${Ut}_STACK_KEY`,Uu=`${Ut}_STACK_START`,aa=`${Ut}_STACK_END`,Q_=`${Ut}_STACK_START_PERCENT`,_0=`${Ut}_STACK_END_PERCENT`,FW=`${Ut}_STACK_START_OffsetSilhouette`,BW=`${Ut}_STACK_END_OffsetSilhouette`,jEe=`${Ut}_STACK_TOTAL`,sSt=`${Ut}_STACK_TOTAL_PERCENT`,zT=`${Ut}_STACK_TOTAL_TOP`,Z3=`${Ut}_SEGMENT_START`,q7=`${Ut}_SEGMENT_END`;var qn;(function(i){i[i.Axis_Grid=50]="Axis_Grid",i[i.CrossHair_Grid=100]="CrossHair_Grid",i[i.Region=450]="Region",i[i.Mark=300]="Mark",i[i.Node=400]="Node",i[i.Axis=100]="Axis",i[i.MarkLine=500]="MarkLine",i[i.MarkArea=100]="MarkArea",i[i.MarkPoint=500]="MarkPoint",i[i.DataZoom=500]="DataZoom",i[i.ScrollBar=500]="ScrollBar",i[i.Player=500]="Player",i[i.Legend=500]="Legend",i[i.CrossHair=500]="CrossHair",i[i.Indicator=500]="Indicator",i[i.Title=500]="Title",i[i.Label=500]="Label",i[i.Brush=500]="Brush",i[i.CustomMark=500]="CustomMark",i[i.Interaction=700]="Interaction"})(qn||(qn={}));var up;(function(i){i[i.Indicator=10]="Indicator",i[i.Region=20]="Region",i[i.Axis=30]="Axis",i[i.DataZoom=40]="DataZoom",i[i.Player=40]="Player",i[i.ScrollBar=40]="ScrollBar",i[i.Legend=50]="Legend",i[i.Title=70]="Title",i[i.CustomMark=70]="CustomMark"})(up||(up={}));const ude=["linear","radial","conical"],aSt={x0:0,y0:0,x1:1,y1:1},oSt={x0:0,y0:0,x1:1,y1:1,r0:0,r1:1},lSt={x:.5,y:.5,startAngle:0,endAngle:2*Math.PI},uSt={linear:aSt,radial:oSt,conical:lSt},Dr={label:{name:"label",type:"text"}},cde=`${Ut}_rect_x`,dde=`${Ut}_rect_x1`,hde=`${Ut}_rect_y`,pde=`${Ut}_rect_y1`,E$=Object.assign(Object.assign({},Dr),{bar:{name:"bar",type:"rect"},barBackground:{name:"barBackground",type:"rect"}}),eq=Object.assign(Object.assign({},Dr),{bar3d:{name:"bar3d",type:"rect3d"}}),hv={point:{name:"point",type:"symbol"},line:{name:"line",type:"line"}},zEe=Object.assign(Object.assign({},Dr),hv),HEe=Object.assign(Object.assign({},Dr),{point:{name:"point",type:"symbol"}}),tq=Object.assign(Object.assign(Object.assign({},Dr),hv),{area:{name:"area",type:"area"}}),VEe=Object.assign(Object.assign(Object.assign({},Dr),hv),{area:{name:"area",type:"area"}}),WEe=Object.assign(Object.assign({},Dr),{pie:{name:"pie",type:"arc"},labelLine:{name:"labelLine",type:"path"}}),UEe=Object.assign(Object.assign({},Dr),{pie3d:{name:"pie3d",type:"arc3d"},labelLine:{name:"labelLine",type:"path"}}),GEe=Object.assign(Object.assign({},Dr),{rose:{name:"rose",type:"arc"}}),YEe=Object.assign(Object.assign({},Dr),{area:{name:"area",type:"path"}}),iq=Object.assign(Object.assign({},Dr),{group:{name:"group",type:"group"}}),KEe=Object.assign(Object.assign({},iq),{track:{name:"track",type:"arc"},progress:{name:"progress",type:"arc"}}),XEe=Object.assign(Object.assign({},Dr),{group:{name:"group",type:"group"},link:{name:"link",type:"rule"},arrow:{name:"arrow",type:"symbol"}}),qEe=Object.assign(Object.assign({},Dr),{group:{name:"group",type:"group"},grid:{name:"grid",type:"rule"},gridBackground:{name:"gridBackground",type:"rect"},dot:{name:"dot",type:"symbol"},title:{name:"title",type:"text"},subTitle:{name:"subTitle",type:"text"},symbol:{name:"symbol",type:"symbol"}}),$W=Object.assign(Object.assign({},Dr),{word:{name:"word",type:"text"},fillingWord:{name:"fillingWord",type:"text"}}),ZEe=Object.assign(Object.assign({},Dr),{funnel:{name:"funnel",type:"polygon"},transform:{name:"transform",type:"polygon"},transformLabel:{name:"transformLabel",type:"text"},outerLabel:{name:"outerLabel",type:"text"},outerLabelLine:{name:"outerLabelLine",type:"rule"}}),QEe=Object.assign(Object.assign({},Dr),{funnel3d:{name:"funnel3d",type:"pyramid3d"},transform3d:{name:"transform3d",type:"pyramid3d"},transformLabel:{name:"transformLabel",type:"text"},outerLabel:{name:"outerLabel",type:"text"},outerLabelLine:{name:"outerLabelLine",type:"rule"}}),JEe=Object.assign(Object.assign({},Dr),{track:{name:"track",type:"rect"},progress:{name:"progress",type:"rect"},group:{name:"group",type:"group"}}),eAe=Object.assign(Object.assign({},E$),{leaderLine:{name:"leaderLine",type:"rule"},stackLabel:{name:"stackLabel",type:"text"}}),tAe=Object.assign(Object.assign({},Dr),{boxPlot:{name:"boxPlot",type:"boxPlot"},outlier:{name:"outlier",type:"symbol"}}),iAe=Object.assign(Object.assign({},Dr),{nonLeaf:{name:"nonLeaf",type:"rect"},leaf:{name:"leaf",type:"rect"},nonLeafLabel:{name:"nonLeafLabel",type:"text"}}),nAe=Object.assign(Object.assign({},Dr),{node:{name:"node",type:"rect"},link:{name:"link",type:"linkPath"}}),rAe=Object.assign(Object.assign({},iq),{segment:{name:"segment",type:"arc"},track:{name:"track",type:"arc"}}),sAe=Object.assign(Object.assign({},Dr),{pin:{name:"pin",type:"path"},pinBackground:{name:"pinBackground",type:"path"},pointer:{name:"pointer",type:["path","rect"]}}),aAe=Object.assign(Object.assign({},Dr),{sunburst:{name:"sunburst",type:"arc"}}),oAe=Object.assign(Object.assign({},E$),{minLabel:{name:"minLabel",type:"text"},maxLabel:{name:"maxLabel",type:"text"}}),lAe=Object.assign(Object.assign({},eq),{minLabel:{name:"minLabel",type:"text"},maxLabel:{name:"maxLabel",type:"text"}}),uAe=Object.assign(Object.assign({},Dr),{circlePacking:{name:"circlePacking",type:"arc"}}),cAe=Object.assign(Object.assign({},Dr),{cell:{name:"cell",type:"cell"},cellBackground:{name:"cellBackground",type:"cell"}}),dAe=Object.assign(Object.assign({},Dr),{nodePoint:{name:"nodePoint",type:"symbol"},ripplePoint:{name:"ripplePoint",type:"ripple"},centerPoint:{name:"centerPoint",type:"symbol"},centerLabel:{name:"centerLabel",type:"text"}}),hAe=Object.assign({},tq),cSt=Object.assign(Object.assign({},Dr),{liquid:{name:"liquid",type:"liquid"},liquidBackground:{name:"liquidBackground",type:"group"},liquidOutline:{name:"liquidOutline",type:"symbol"}}),dSt=Object.assign(Object.assign({},Dr),{circle:{name:"circle",type:"arc"},overlap:{name:"overlap",type:"path"},overlapLabel:{name:"overlapLabel",type:"text"}});var fde;(function(i){i.area_horizontal="area_horizontal",i.area_vertical="area_vertical",i.area_stack="area_stack",i.line_horizontal="line_horizontal",i.line_vertical="line_vertical",i.line_stack="line_stack",i.bar_horizontal="bar_horizontal",i.bar_vertical="bar_vertical",i.bar_stack="bar_stack",i.bar3d_horizontal="bar3d_horizontal",i.bar3d_vertical="bar3d_vertical",i.bar3d_stack="bar3d_stack",i.rangeColumn_horizontal="rangeColumn_horizontal",i.rangeColumn_vertical="rangeColumn_vertical",i.rangeColumn3d_horizontal="rangeColumn3d_horizontal",i.rangeColumn3d_vertical="rangeColumn3d_vertical",i.rangeArea_horizontal="rangeArea_horizontal",i.rangeArea_vertical="rangeArea_vertical",i.linearProgress_horizontal="linearProgress_horizontal",i.linearProgress_vertical="linearProgress_vertical",i.linearProgress_stack="linearProgress_stack",i.boxPlot_horizontal="boxPlot_horizontal",i.boxPlot_vertical="boxPlot_vertical",i.sankey_horizontal="sankey_horizontal",i.sankey_vertical="sankey_vertical",i.waterfall_horizontal="waterfall_horizontal",i.waterfall_vertical="waterfall_vertical",i.circularProgress_stack="circularProgress_stack",i.radar_stack="radar_stack",i.rose_stack="rose_stack"})(fde||(fde={}));const eF={[xe.bar]:E$,[xe.bar3d]:eq,[xe.line]:zEe,[xe.scatter]:HEe,[xe.area]:tq,[xe.radar]:VEe,[xe.pie]:WEe,[xe.pie3d]:UEe,[xe.rose]:GEe,[xe.geo]:Dr,[xe.map]:YEe,[xe.circularProgress]:KEe,[xe.link]:XEe,[xe.dot]:qEe,[xe.wordCloud]:$W,[xe.wordCloud3d]:$W,[xe.funnel]:ZEe,[xe.funnel3d]:QEe,[xe.linearProgress]:JEe,[xe.waterfall]:eAe,[xe.boxPlot]:tAe,[xe.treemap]:iAe,[xe.sankey]:nAe,[xe.gauge]:rAe,[xe.gaugePointer]:sAe,[xe.sunburst]:aAe,[xe.rangeColumn]:oAe,[xe.rangeColumn3d]:lAe,[xe.circlePacking]:uAe,[xe.heatmap]:cAe,[xe.correlation]:dAe,[xe.rangeArea]:hAe,[xe.liquid]:cSt,[xe.venn]:dSt};function pAe(i){var e,t;const{type:n}=i;return n===xe.sankey?(e=i.direction)!==null&&e!==void 0?e:"horizontal":(t=i.direction)!==null&&t!==void 0?t:"vertical"}const hSt={primaryFontColor:"titleFontColor",tertiaryFontColor:"labelFontColor",axisLabelFontColor:"axisFontColor",axisMarkerFontColor:"labelReverseFontColor",dataZoomHandleStrokeColor:"dataZoomHandlerStrokeColor",sliderHandleColor:"dataZoomHandlerFillColor",sliderRailColor:"dataZoomBackgroundColor",sliderTrackColor:"dataZoomSelectedColor",playerControllerColor:"dataZoomSelectedColor",popupBackgroundColor:"tooltipBackgroundColor",hoverBackgroundColor:"axisGridColor"},pSt={titleFontColor:"primaryFontColor",labelFontColor:"tertiaryFontColor",axisFontColor:"axisLabelFontColor",labelReverseFontColor:"axisMarkerFontColor",dataZoomHandlerStrokeColor:"dataZoomHandleStrokeColor",dataZoomHandlerFillColor:"sliderHandleColor",dataZoomBackgroundColor:"sliderRailColor",dataZoomSelectedColor:"sliderTrackColor",tooltipBackgroundColor:"popupBackgroundColor"};function fSt(i,e){const t=hSt[e];if(t&&i[t])return i[t];if(i[e])return i[e];const n=pSt[e];return n?i[n]:void 0}function HT(i,e){var t;if(!i)return[];const n=fAe(i,e);if(!n||ke(n))return(t=n)!==null&&t!==void 0?t:[];if(yi(n)){const{dataScheme:r}=n;return r?nq(r)?r.map(s=>Object.assign(Object.assign({},s),{scheme:s.scheme.map(a=>tF(a)?jW(i,a,e):a).filter(X)})):r.map(s=>tF(s)?jW(i,s,e):s).filter(X):[]}return[]}function NW(i,e){var t,n;return nq(i)?(n=(t=i.find(r=>X(r.isAvailable)?Pe(r.isAvailable)?r.isAvailable(e):!!r.isAvailable:!X(r.maxDomainLength)||(e==null?void 0:e.length)<=r.maxDomainLength))===null||t===void 0?void 0:t.scheme)!==null&&n!==void 0?n:i[i.length-1].scheme:i}function jW(i,e,t){var n;const r=fAe(i,t);if(!r)return;let s;const{palette:a}=r;if(yi(a)&&(s=(n=fSt(a,e.key))!==null&&n!==void 0?n:e.default),!s)return;if(Y(e.a)&&Y(e.l)||!ct(s))return s;let o=new oa(s);if(X(e.l)){const{r:l,g:u,b:c}=o.color,{h:d,s:h}=AB(l,u,c),p=uD(d,h,e.l),f=new oa(`rgb(${p.r}, ${p.g}, ${p.b})`);f.setOpacity(o.color.opacity),o=f}return X(e.a)&&o.setOpacity(e.a),o.toRGBA()}const gSt=(i,e,t)=>{if(e&&tF(i)){const n=jW(e,i,t);if(n)return n}return i};function tF(i){return i&&i.type==="palette"&&!!i.key}function nq(i){return!(!ke(i)||i.length===0)&&i.every(e=>X(e.scheme))}function mSt(i){return ke(i)?{dataScheme:i}:i}function fAe(i,e){var t,n;const{type:r}=e??{};let s;if(!e||Y(r))s=i==null?void 0:i.default;else{const a=pAe(e);s=(n=(t=i==null?void 0:i[`${r}_${a}`])!==null&&t!==void 0?t:i==null?void 0:i[r])!==null&&n!==void 0?n:i==null?void 0:i.default}return s}class pP extends V_{range(e){return e?(this._range=e,this._resetRange(),this):super.range()}domain(e){return e?(super.domain(e),this._resetRange(),this):super.domain()}_resetRange(){if(!nq(this._range))return void super.range(this._range);const e=NW(this._range,this._domain);super.range(e)}}const vSt={linear:Zd,band:bb,point:rvt,ordinal:V_,threshold:LX,colorOrdinal:pP};function zW(i){const e=vSt[i];return e?new e:null}function ySt(i,e){if("scale"in i&&i.scale)return ct(i.scale)&&(e!=null&&e.globalScale)?e.globalScale.registerMarkAttributeScale(i,e.seriesId):i.scale;const t=zW(i.type);return t&&_St(t,i),t}function _St(i,e){i&&e&&(e.domain&&i.domain(e.domain),e.range&&i.range(e.range),e.specified&&i.specified&&i.specified(e.specified))}function kn(i,e){if(!e)return i;const t=e.range(),n=Math.min(t[0],t[t.length-1]),r=Math.max(t[0],t[t.length-1]);return Math.min(Math.max(n,i),r)}function gde(i){return X(i==null?void 0:i.field)&&X(i==null?void 0:i.scale)}function rq(i){switch(i){case"left":case"right":case"top":case"bottom":return!0;default:return!1}}function Nu(i){return!!ct(i)&&!!i.endsWith("%")&&Kx(i.substring(0,i.length-1))}function bSt(i){return!!yi(i)&&("percent"in i||"offset"in i)}function vo(i,e,t,n=0){var r,s;return Xe(i)?i:Nu(i)?Number(i.substring(0,i.length-1))*e/100:Pe(i)?i(t):yi(i)?e*((r=i.percent)!==null&&r!==void 0?r:0)+((s=i.offset)!==null&&s!==void 0?s:0):n}function gAe(i,e,t){var n,r,s,a;const o={top:0,bottom:0,left:0,right:0};return Object.values(i).every(l=>Xe(l))?(o.top=(n=i.top)!==null&&n!==void 0?n:0,o.right=(r=i.right)!==null&&r!==void 0?r:0,o.bottom=(s=i.bottom)!==null&&s!==void 0?s:0,o.left=(a=i.left)!==null&&a!==void 0?a:0,o):([{orients:["left","right"],size:e.width},{orients:["top","bottom"],size:e.height}].forEach(l=>{l.orients.forEach(u=>{o[u]=vo(i[u],l.size,t)})}),o)}function SSt(i,e){return i?{width:Math.ceil(Math.min(i.x2-i.x1,e.width)),height:Math.ceil(Math.min(i.y2-i.y1,e.height))}:{width:0,height:0}}function Qg(i){let e={};return ke(i)?(Y(i[0])||(e.top=e.left=e.bottom=e.right=i[0]),Y(i[1])||(e.left=e.right=i[1]),Y(i[2])||(e.bottom=i[2]),Y(i[3])||(e.left=i[3]),e):Xe(i)||Nu(i)||Pe(i)||bSt(i)?(e.top=e.left=e.bottom=e.right=i,e):(yi(i)&&(e=Object.assign({},i)),e)}function mde(i,e,t){return t?{x:i.x+e.x,y:i.y+e.y}:i}const $S=(i,e)=>{const t=Number(i),n=i.toString();return isNaN(t)&&n[n.length-1]==="%"?e*(Number(n.slice(0,n.length-1))/100):t},mAe=[{maxDomainLength:10,scheme:["#1664FF","#1AC6FF","#FF8A00","#3CC780","#7442D4","#FFC400","#304D77","#B48DEB","#009488","#FF7DDA"]},{scheme:["#1664FF","#B2CFFF","#1AC6FF","#94EFFF","#FF8A00","#FFCE7A","#3CC780","#B9EDCD","#7442D4","#DDC5FA","#FFC400","#FAE878","#304D77","#8B959E","#B48DEB","#EFE3FF","#009488","#59BAA8","#FF7DDA","#FFCFEE"]}],xSt={default:{dataScheme:mAe,palette:{backgroundColor:"#ffffff",borderColor:"#e3e5e8",shadowColor:"rgba(33,37,44,0.1)",hoverBackgroundColor:"#f1f2f5",sliderRailColor:"#f1f3f4",sliderHandleColor:"#ffffff",sliderTrackColor:"#0040ff",popupBackgroundColor:"#ffffff",primaryFontColor:"#21252c",secondaryFontColor:"#606773",tertiaryFontColor:"#89909d",axisLabelFontColor:"#89909d",disableFontColor:"#bcc1cb",axisMarkerFontColor:"#ffffff",axisGridColor:"#f1f2f5",axisDomainColor:"#d9dde4",dataZoomHandleStrokeColor:"#aeb5be",dataZoomChartColor:"#c9ced8",playerControllerColor:"#0040ff",scrollBarSliderColor:"rgba(0,0,0,0.3)",axisMarkerBackgroundColor:"#21252c",markLabelBackgroundColor:"#f1f2f5",markLineStrokeColor:"#606773",dangerColor:"#e33232",warningColor:"#ffc528",successColor:"#07a35a",infoColor:"#3073f2"}}},wSt={label:{visible:!1,offset:5,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2}},point:{style:{symbolType:"circle"}},seriesMark:"area"},CSt={label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},kSt={bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},ESt={outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},ASt={dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},TSt={transform:{style:{fill:{type:"palette",key:"axisGridColor"}}},label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}}},PSt={transform3d:{style:{fill:"#f5f5f5"}},label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:"#707070"},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:"#707070",textBaseline:"middle"}}},OSt={outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},MSt="M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z",vde="M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",ISt={pointer:{type:"path",width:.4,height:.4,style:{path:MSt}},pin:{width:.025,height:.025,style:{path:vde,fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:vde,fill:"#ddd"}}},RSt={label:{visible:!1,position:"top",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},DSt={bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},LSt={arrow:{style:{size:10}}},FSt={defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},BSt={outerRadius:.6,pie:{style:{fillOpacity:1}},label:{visible:!1,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}}},$St={outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,position:"outside"}},NSt={label:{visible:!1,offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},jSt={point:{style:{size:8,symbolType:"circle",lineWidth:0,fillOpacity:.8}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},zSt={seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},HSt={word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},VSt={word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},WSt={gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},USt={innerRadius:0,outerRadius:1,startAngle:HX,endAngle:tEe,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},GSt={label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},YSt={layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},KSt={cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},XSt={link:{style:{fillOpacity:.15,round:!0}}},qSt={rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},ZSt={boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},QSt={centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},JSt={outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},ext={circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},txt={scatter:jSt,line:RSt,area:wSt,bar:CSt,bar3d:kSt,pie:BSt,pie3d:$St,map:FSt,radar:NSt,dot:ASt,link:LSt,wordCloud:HSt,wordCloud3d:VSt,funnel:TSt,funnel3d:PSt,linearProgress:DSt,circularProgress:ESt,waterfall:zSt,gauge:OSt,gaugePointer:ISt,treemap:WSt,sunburst:USt,rangeColumn:GSt,circlePacking:YSt,heatmap:KSt,sankey:XSt,rose:qSt,boxPlot:ZSt,correlation:QSt,liquid:JSt,venn:ext},ixt={text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},nxt={label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},rxt={domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1}},vAe={label:{space:8},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},sxt={label:{space:12,autoLimit:!0},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axt=Object.assign(Object.assign({},vAe),{label:{space:0}}),oxt={domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},lxt={domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},uxt={grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},cxt={grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},dxt={style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},hxt={trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor"},opacity:.7,lineWidth:0,stroke:{type:"palette",key:"markLineStrokeColor"},lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"markLineStrokeColor"},fill:"transparent",opacity:.7,lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},yde=`M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3
C-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6
C-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6
C0.3-1.4,0.3-1.4,0.3-1.4z;`,pxt={padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.1,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.2,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:yde,fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:yde,fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},fxt={title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},iF={orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{visible:!0},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6}},_de={style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},gxt={horizontal:Object.assign(Object.assign({},iF),{rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}},handler:_de}),vertical:Object.assign(Object.assign({},iF),{rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}},handler:_de})},mxt={orient:"bottom",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},item:{visible:!0,spaceCol:10,spaceRow:6,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}}}},shape:{space:6,style:{lineWidth:0,fillOpacity:1,opacity:1},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1},bde={style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},vxt={horizontal:Object.assign(Object.assign({},iF),{sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{width:200,height:4,style:{fill:{type:"palette",key:"sliderRailColor"}}},handler:bde}),vertical:Object.assign(Object.assign({},iF),{sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{width:4,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}},handler:bde})},yxt={visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},Sde={area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},xde={line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},Z7={itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},_xt={visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:0,style:{size:25,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:0,style:{size:25,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"end",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},bxt={padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},Sxt={offset:{x:10,y:10},panel:{padding:{top:10,left:10,right:10,bottom:10},backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:3},shadow:{x:0,y:4,blur:12,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:6,titleLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"bold",textAlign:"left",textBaseline:"middle",spacing:0},shape:{size:8,spacing:6},keyLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"secondaryFontColor"},textAlign:"left",textBaseline:"middle",spacing:26},valueLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"bold",textBaseline:"middle",spacing:0}},xxt={visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},wxt={visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},Cxt={horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}},kxt={discreteLegend:mxt,colorLegend:gxt,sizeLegend:vxt,axis:oxt,axisBand:rxt,axisLinear:lxt,axisX:vAe,axisY:sxt,axisZ:axt,axisAngle:cxt,axisRadius:uxt,markLine:xde,markArea:Sde,markPoint:Z7,polarMarkLine:xde,polarMarkArea:Sde,polarMarkPoint:Z7,geoMarkPoint:Z7,tooltip:Sxt,dataZoom:pxt,crosshair:hxt,player:_xt,brush:dxt,indicator:fxt,title:bxt,mapLabel:yxt,poptip:xxt,totalLabel:wxt,scrollBar:Cxt};function Ext(i,e){return i&&e.key in i?i[e.key]:e.default}function Axt(i){return i&&i.type==="token"&&!!i.key}const nF={fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},HW={name:"light",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},colorScheme:xSt,token:nF,mark:ixt,markByName:nxt,series:txt,component:kxt,animationThreshold:2e3},Txt={default:{dataScheme:mAe,palette:{backgroundColor:"#202226",borderColor:"#404349",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"#404349",sliderRailColor:"#404349",sliderHandleColor:"#202226",sliderTrackColor:"#4284FF",popupBackgroundColor:"#404349",primaryFontColor:"#fdfdfd",secondaryFontColor:"#bbbdc3",tertiaryFontColor:"#888c93",axisLabelFontColor:"#888c93",disableFontColor:"#55595f",axisMarkerFontColor:"#202226",axisGridColor:"#404349",axisDomainColor:"#4b4f54",dataZoomHandleStrokeColor:"#bbbdc3",dataZoomChartColor:"#55595F",playerControllerColor:"#4284FF",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"#fdfdfd",markLabelBackgroundColor:"#404349",markLineStrokeColor:"#bbbdc3",dangerColor:"#eb4b4b",warningColor:"#f0bd30",successColor:"#14b267",infoColor:"#4284ff"}}},wde={name:"dark",colorScheme:Txt,component:{dataZoom:{selectedBackground:{style:{fillOpacity:.4,outerBorder:{strokeOpacity:.4}}}}}},Q3=(i,e,t)=>{if(Y(e))return i;const n=e[0];return Y(n)?i:e.length===1?(i[n]=t,i):(Y(i[n])&&(typeof e[1]=="number"?i[n]=[]:i[n]={}),Q3(i[n],e.slice(1),t))},Pxt=(i,e,t)=>{if(!Y(e))return bi(i,e,t)};function yAe(i,e,t=!1){if(e){if(i===e)return;if(X(e)&&typeof e=="object"){const n=Object(e),r=[];for(const o in n)r.push(o);let{length:s}=r,a=-1;for(;s--;){const o=r[++a];X(n[o])&&typeof n[o]=="object"&&!ke(i[o])?Oxt(i,e,o,t):_Ae(i,o,n[o])}}}}function Oxt(i,e,t,n=!1){const r=i[t],s=e[t];let a=e[t],o=!0;if(ke(s)){if(n)a=[];else if(ke(r))a=r;else if(CB(r)){a=new Array(r.length);let l=-1;const u=r.length;for(;++l<u;)a[l]=r[l]}}else np(s)?(a=r??{},typeof r!="function"&&typeof r=="object"||(a={})):o=!1;o&&yAe(a,s,n),_Ae(i,t,a)}function _Ae(i,e,t){(t!==void 0&&!Mxt(i[e],t)||t===void 0&&!(e in i))&&(i[e]=t)}function Mxt(i,e){return i===e||Number.isNaN(i)&&Number.isNaN(e)}function Rt(i,...e){let t=-1;const n=e.length;for(;++t<n;)yAe(i,e[t],!0);return i}function Cde(i,e,t,n){Object.keys(i).forEach(r=>{if(yi(e))e.type===r&&(ke(i[r])?i[r].length>=e.index&&(i[r][e.index]=n?Rt({},i[r][e.index],t):t):i[r]=n?Rt({},i[r],t):t);else if(ke(i[r])){const s=i[r].findIndex(a=>a.id===e);s>=0&&(i[r][s]=n?Rt({},i[r][s],t):t)}else i.id===e&&(i[r]=n?Rt({},i[r],t):t)})}function VW(i,...e){return Rt(kde(i),...e.map(kde))}function kde(i){var e;if(!i)return i;const t=Ixt(i.colorScheme),{series:n}=i,{mark:r,markByName:s}=i;let a;return(r||s)&&(a=Object.keys(eF).reduce((o,l)=>{var u;const c=(u=n==null?void 0:n[l])!==null&&u!==void 0?u:{};return o[l]=bAe(c,l,r,s),o},{})),Object.assign({},i,{colorScheme:t,token:(e=i.token)!==null&&e!==void 0?e:{},series:Object.assign({},i.series,a)})}function Ixt(i){return i&&(i=Object.keys(i).reduce((e,t)=>{const n=i[t];return e[t]=mSt(n),e},{})),i}function bAe(i,e,t,n){if(!eF[e])return i;const r={};return Object.values(eF[e]).forEach(({type:s,name:a})=>{r[a]=Rt({},t==null?void 0:t[we(s)[0]],n==null?void 0:n[a],i==null?void 0:i[a])}),Object.assign(Object.assign({},i),r)}const Rxt=["animationThreshold","colorScheme","name","padding"];function A$(i,e,t,n){if(!i)return i;e||(e=i.colorScheme),t||(t=i.token);const r={};return Object.keys(i).forEach(s=>{const a=i[s];Rxt.includes(s)?r[s]=a:np(a)?tF(a)?r[s]=gSt(a,e,n):Axt(a)?r[s]=Ext(t,a):r[s]=A$(a,e,t,n):r[s]=a}),r}const VT={[HW.name]:HW},fP=HW.name,Qx=new Map(Object.keys(VT).map(i=>[i,VT[i]])),sq=new Map(Object.keys(VT).map(i=>[i,A$(VT[i])])),rF=new Map(Object.keys(VT).map(i=>[i,i===fP])),aq=(i,e)=>{if(!i)return;const t=Fxt(e);Qx.set(i,t),sq.set(i,A$(t)),rF.set(i,!0)},SAe=(i=fP,e=!1)=>(rF.has(i)&&!rF.get(i)&&aq(i,Qx.get(i)),e?sq.get(i):Qx.get(i)),Dxt=i=>Qx.delete(i)&&sq.delete(i)&&rF.delete(i),Lxt=i=>!!ct(i)&&Qx.has(i),Fxt=i=>{var e;const t=(e=i.type)!==null&&e!==void 0?e:fP,n=SAe(t);return VW({},n,i)};class Dd{static registerInstance(e){Dd.instances.set(e.id,e)}static unregisterInstance(e){Dd.instances.delete(e.id)}static getInstance(e){return Dd.instances.get(e)}static instanceExist(e){return Dd.instances.has(e)}static forEach(e,t=[],n){const r=we(t);return Dd.instances.forEach((s,a,o)=>{r.includes(a)||e(s,a,o)},n)}}Dd.instances=new Map;class xl{static registerTheme(e,t){aq(e,t)}static getTheme(e,t=!1){return SAe(e,t)}static removeTheme(e){return Dxt(e)}static themeExist(e){return Lxt(e)}static getDefaultTheme(){return xl.themes.get(fP)}static setCurrentTheme(e){xl.themeExist(e)&&(xl._currentThemeName=e,Dd.forEach(t=>t==null?void 0:t.setCurrentTheme(e)))}static getCurrentTheme(e=!1){return xl.getTheme(xl._currentThemeName,e)}static getCurrentThemeName(){return xl._currentThemeName}}xl.themes=Qx,xl._currentThemeName=fP;function Wm(i,e){return ct(i)?xl.themeExist(i)?xl.getTheme(i,e):{}:yi(i)?i:{}}function Bxt(i){if(!i)return null;if(typeof i=="string")return{fill:i,fillOpacity:1};if(typeof i!="object")return null;const e=kB(i,["x","y","width","height","x1","y1","image"]);return e.background=i.image,e}function WW(i,e={data:t=>t}){if(!i)return i;if(i.constructor===Object){const t={};for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)){if(e[n]){t[n]=e[n](i[n]);continue}t[n]=WW(i[n],e)}return t}return ke(i)?i.map(t=>WW(t,e)):i}function UW(i,e){if(!i)return i;if(np(i)){const t={};for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)){if(ct(i[n])&&e.getFunction(i[n])){t[n]=e.getFunction(i[n]);continue}t[n]=UW(i[n],e)}return t}return ke(i)?i.map(t=>UW(t,e)):i}const $xt=(i,e,t)=>ux(i,e,t,{fontFamily:nF.fontFamily,fontSize:nF.fontSize}),Nxt=(i,e,t,n)=>$xt(e,t,n).measure(i);function px(i,e){for(let t=0;t<e.length;t++){const n=e[t],r=jxt(i,n.key);r?r.operations=[...new Set(r.operations.concat(n.operations))]:i.push(n)}return i}function jxt(i,e){return i.find(t=>t.key===e)}function sF(i,e){var t;if(!i)return e??null;const n=i.getFields();return n&&n[e]?(t=n[e].alias)!==null&&t!==void 0?t:e:e??null}function xAe(i,e,t){const n=i.getStackSort(),r={};let s=null;return n&&(s={},i.getSeries().forEach(a=>{const o=a.getSeriesField();if(o){const l=a.getRawDataStatisticsByField(o);l.values&&(s[o]||(s[o]={lastIndex:0,sort:{}}),l.values.forEach((u,c)=>{u in s[o].sort||(s[o].sort[u]=s[o].lastIndex,s[o].lastIndex++)}))}})),i.getSeries().forEach(a=>{var o;const l=a.getStackData(),u=a.getStackValue(),c=a.getStackValueField(),d=!t||t(a);l&&c&&d&&(r[u]=(o=r[u])!==null&&o!==void 0?o:{nodes:{}},EAe(a,l,r[u],c,e,s))}),n?wAe(r):r}function wAe(i,e){var t;for(const n in i)!((t=i[n].sortDatums)===null||t===void 0)&&t.length?(i[n].sortDatums.sort((r,s)=>r.index-s.index),i[n].values=i[n].sortDatums.map(r=>r.datum)):wAe(i[n].nodes);return i}function CAe(i,e){if("values"in i&&i.values.length){const t=Zke(i.values,e),n=jX(i.values,_0);i.values.forEach(s=>{s[jEe]=t,s[sSt]=n,delete s[zT]});const r=i.values.reduce((s,a)=>a[aa]>s[aa]?a:s);r[zT]=!0}else for(const t in i.nodes)CAe(i.nodes[t],e)}function zxt(i){if(!i.values.length)return;const e=i.values[i.values.length-1][aa]/2;for(let t=0;t<i.values.length;t++)i.values[t][FW]=i.values[t][Uu]-e,i.values[t][BW]=i.values[t][aa]-e}function kAe(i,e,t){if(i.values.length>0){let n=0,r=0,s=1,a=0;const o=i.values.length;for(let l=0;l<o;l++){const u=i.values[e?o-1-l:l];a=u[aa],a>=0?(u[Uu]=n,n+=u[aa],u[aa]=n):(u[Uu]=r,r+=u[aa],u[aa]=r),u[rSt]=i.key}if(t)for(let l=0;l<o;l++){const u=i.values[e?o-1-l:l];a=u[aa];const c=a>=0?n:r;s=a>=0?1:-1,u[Q_]=c===0?0:Math.min(1,u[Uu]/c)*s,u[_0]=c===0?0:Math.min(1,u[aa]/c)*s}}for(const n in i.nodes)kAe(i.nodes[n],e,t)}function EAe(i,e,t,n,r,s,a){if("values"in e)if(r&&e.values.forEach(o=>o[aa]=Vht(o[n])),t.series.push({s:i,values:e.values}),s){const o=i.getSeriesField();e.values.forEach(l=>{t.sortDatums.push({series:i,datum:l,index:o?s[o].sort[l[o]]:0})})}else t.values.push(...e.values);else for(const o in e.nodes){const l=a?`${a}_${o}`:o;!t.nodes[o]&&(t.nodes[o]={values:[],series:[],nodes:{},sortDatums:[],key:l}),EAe(i,e.nodes[o],t.nodes[o],n,r,s,l)}}const AAe=(i,e,t="key",n="children")=>{for(let r=0;r<i.length;r++){const s=i[r];if(s[t]===e)return s;if(s[n]){const a=AAe(s[n],e,t,n);if(a)return a}}return null},TAe=(i,e,t="key",n="children")=>{for(let r=0;r<i.length;r++){const s=i[r];if(s[n])for(let a=0;a<s[n].length;a++){const o=s[n][a];if(o[t]===e)return s;const l=TAe([o],e,t,n);if(l)return l}}return null},Hxt=(i,e,t="key",n="children")=>{const r=[],s=(a,o)=>{for(const l of a){if(l[t]===e)return r.push(...o,l[t].toString()),!0;if(l[n]){const u=s(l[n],[...o,l[t]]);if(u===!0)return u}}return!1};return s(i,[]),r};function Vxt(i,e="value",t="children"){return!!yi(i)&&!!i.hasOwnProperty(t)&&Array.isArray(i[t])}function PAe(i,e,t,n="value",r="children"){return Array.isArray(i)?i.map(s=>{const a=Object.assign({},s);return Array.isArray(a[r])&&(a[r]=PAe(a[r],e,t,n,r)),a}).filter(s=>+s[n]>=e&&+s[n]<=t||s[r]&&s[r].length>0):i}function Gh(i={}){const e=Object.assign({},i);if(Pe(i.style)?e.style=(t,n,r,s)=>Yt(i.style(t,n,r,s)):Mt(i.style)||(e.style=Yt(i.style)),!Mt(i.state)){const t={};Object.keys(i.state).forEach(n=>{Pe(i.state[n])?t[n]=(r,s,a,o)=>Yt(i.state[n](r,s,a,o)):Mt(i.state[n])||(t[n]=Yt(i.state[n]))}),e.state=t}return e}function A1(i){if(Mt(i))return null;const e={};return Object.keys(i).forEach(t=>{Pe(i[t])?e[t]=(n,r,s,a)=>Yt(i[t](n,r,s,a)):Mt(i[t])||(e[t]=Yt(i[t]))}),e}function Wxt(i){if(Mt(i))return null;const e={};return Object.keys(i).forEach(t=>{Pe(i[t])?e[t]=(n,r,s,a)=>Yt(i[t](n.rawValue,r,n,s,a)):Mt(i[t])||(e[t]=Yt(i[t]))}),e}function Yt(i){return i!=null&&i.angle&&(i.angle=Pn(i.angle)),i}class ce{static registerChart(e,t){ce._charts[e]=t}static registerSeries(e,t){ce._series[e]=t}static registerComponent(e,t,n){ce._components[e]={cmp:t,alwaysCheck:n}}static registerMark(e,t){ce._marks[e]=t}static registerRegion(e,t){ce._regions[e]=t}static registerTransform(e,t){ce.transforms[e]=t}static registerLayout(e,t){ce._layout[e]=t}static registerAnimation(e,t){ce._animations[e]=t}static registerImplement(e,t){ce._implements[e]=t}static registerChartPlugin(e,t){ce._chartPlugin[e]=t}static registerComponentPlugin(e,t){ce._componentPlugin[e]=t}static createChart(e,t,n){return ce._charts[e]?new ce._charts[e](t,n):null}static createChartSpecTransformer(e,t){if(!ce._charts[e])return null;const n=ce._charts[e];return new n.transformerConstructor(Object.assign({seriesType:n.seriesType},t))}static createRegion(e,t,n){return ce._regions[e]?new ce._regions[e](t,n):null}static createRegionSpecTransformer(e,t){return ce._regions[e]?new ce._regions[e].transformerConstructor(t):null}static createSeries(e,t,n){return ce._series[e]?new ce._series[e](t,n):null}static createSeriesSpecTransformer(e,t){return ce._series[e]?new ce._series[e].transformerConstructor(t):null}static createMark(e,t,n){if(!ce._marks[e])return null;const r=new ce._marks[e](t,n);return r.type==="group"&&r.setInteractive(!1),r}static getComponents(){return Object.values(ce._components)}static getComponentInKey(e){return ce._components[e].cmp}static getLayout(){return Object.values(ce._layout)}static getLayoutInKey(e){return ce._layout[e]}static getSeries(){return Object.values(ce._series)}static getSeriesInType(e){return ce._series[e]}static getRegionInType(e){return ce._regions[e]}static getAnimationInKey(e){return ce._animations[e]}static getImplementInKey(e){return ce._implements[e]}static getSeriesMarkMap(e){return ce._series[e]?ce._series[e].mark:{}}static getChartPlugins(){return Object.values(ce._chartPlugin)}static getComponentPlugins(){return Object.values(ce._componentPlugin)}static getComponentPluginInType(e){return ce._componentPlugin[e]}static registerFormatter(e){this._formatter=e}static getFormatter(){return this._formatter}}ce._charts={},ce._series={},ce._components={},ce._marks={},ce._regions={},ce._animations={},ce._implements={},ce._chartPlugin={},ce._componentPlugin={},ce.transforms={fields:nwe,filter:_rt,fold:Pst},ce.dataParser={csv:awe,dsv:swe,tsv:owe},ce._layout={};const Uxt=(i,e,t)=>i.x>=e.x&&i.x<=t.x&&i.y>=e.y&&i.y<=t.y,Gxt=(i,e,t)=>{const n=i.getRegionsInIds(we(e.layout.layoutBindRegionID));return n==null?void 0:n.some(r=>{const s=r.getLayoutRect(),a=r.getLayoutStartPoint();return Uxt(t,{x:a.x,y:a.y},{x:s.width+a.x,y:s.height+a.y})})},OAe=(i,e)=>{var t,n;return i===e||!Y(i)&&!Y(e)&&i.value===e.value&&((t=i.axis)===null||t===void 0?void 0:t.id)===((n=e.axis)===null||n===void 0?void 0:n.id)},GW=(i,e,t,n)=>{var r;const s=e.getScale(),a=io(s.type),o=[],l=e.getOption().getChart().getSeriesInIndex(e.getSpecInfo().seriesIndexes);for(const u of l)if(u.coordinate===t){const c=we(n(u)),d=(r=u.getViewData())===null||r===void 0?void 0:r.latestData;if(c&&d)if(a){const h=[],p=[];d.forEach((f,g)=>{var v;((v=f[c[0]])===null||v===void 0?void 0:v.toString())===(i==null?void 0:i.toString())&&(h.push(f),p.push(g))}),o.push({series:u,datum:h,key:Q7(u,p)})}else if(X(c[1])){const h=[],p=[];d.forEach((f,g)=>{var v;(((v=f[c[0]])===null||v===void 0?void 0:v.toString())===(i==null?void 0:i.toString())||X(f[c[0]])&&X(f[c[1]])&&i>=f[c[0]]&&i<f[c[1]])&&(h.push(f),p.push(g))}),o.push({series:u,datum:h,key:Q7(u,p)})}else{const h=e.getSpec().tooltipFilterRange,p=Ce(h)?[-h,h]:h;let f=[],g=[];if(p)d.forEach((v,m)=>{if(X(v[c[0]])){const b=v[c[0]]-i;b>=p[0]&&b<=p[1]&&(f.push(v),g.push(m))}});else{let v=1/0,m=0;d.forEach((b,_)=>{if(X(b[c[0]])){const S=Math.abs(b[c[0]]-i),C=Math.sign(b[c[0]]-i);S<v?(v=S,f=[b],g=[_],m=C):S===v&&C===m&&(f.push(b),g.push(_))}})}o.push({series:u,datum:f,key:Q7(u,g)})}}return o},Q7=(i,e)=>`${i.id}_${e.join("_")}`,aF=(i,e,t)=>{const n=i.getAllComponents().filter(r=>r.specKey==="axes"&&e(r)&&Gxt(i,r,t));return n.length?n:null},Yxt=(i,e)=>{const t=2*Math.PI,n=ca(e),r=Os(e);return i<n?i+=Math.ceil((n-i)/t)*t:i>r&&(i-=Math.ceil((i-r)/t)*t),i},MAe=(i,e)=>{if(!i||!W_(i.getRegionsInIndex(),"polar"))return null;const{x:t,y:n}=e,r=aF(i,l=>l.getOrient()==="angle",e),s=aF(i,l=>l.getOrient()==="radius",e),a=[],o=l=>l.getDimensionField()[0];return r&&r.forEach(l=>{var u;const c=l.getScale();if(c&&io(c.type)){const d=c.domain(),h=c.range(),p=l.getCenter(),f={x:t-l.getLayoutStartPoint().x-p.x,y:n-l.getLayoutStartPoint().y-p.y};let g=Pce({x:1,y:0},f);g=Yxt(g,h);const v=KL(f),m=(u=s[0])===null||u===void 0?void 0:u.getScale(),b=m==null?void 0:m.range();if((g-(h==null?void 0:h[0]))*(g-(h==null?void 0:h[1]))>0||(v-(b==null?void 0:b[0]))*(v-(b==null?void 0:b[1]))>0)return;const _=l.invert(g);if(Y(_))return;let S=d.findIndex(k=>(k==null?void 0:k.toString())===_.toString());S<0&&(S=void 0);const C=GW(_,l,"polar",o);a.push({index:S,value:_,position:c.scale(_),axis:l,data:C})}}),s&&s.forEach(l=>{var u;const c=l.getScale(),d=c==null?void 0:c.range();if(c&&io(c.type)){const h=l.getCenter(),p={x:t-l.getLayoutStartPoint().x-h.x,y:n-l.getLayoutStartPoint().y-h.y};let f=Pce({x:1,y:0},p);f<-Math.PI/2&&(f=2*Math.PI+f);const g=KL(p),v=(u=r[0])===null||u===void 0?void 0:u.getScale(),m=v==null?void 0:v.range();if((f-(m==null?void 0:m[0]))*(f-(m==null?void 0:m[1]))>0||(g-(d==null?void 0:d[0]))*(g-(d==null?void 0:d[1]))>0)return;const b=c.invert(g);if(Y(b))return;let _=c.domain().findIndex(C=>(C==null?void 0:C.toString())===b.toString());_<0&&(_=void 0);const S=GW(b,l,"polar",o);a.push({index:_,value:b,position:c.scale(b),axis:l,data:S})}}),a.length?a:null};function Qr(i){return i==="bottom"||i==="top"}function ef(i){return i==="left"||i==="right"}function Um(i){return i==="z"}function Kxt(i,e){return e?Qr(i)?"linear":"band":Qr(i)?"band":"linear"}function By(i,e){return rq(i.orient)||e&&e.includes(i.orient)?i.orient:"left"}function IAe(i){return i==="top"||i==="bottom"?"horizontal":"vertical"}function Xxt(i,e){let t=i.inverse;return e&&!Qr(i.orient)&&(t=!X(i.inverse)||!i.inverse),t}function Ede(i,e){var t;const n=(t=i.type)!==null&&t!==void 0?t:Kxt(i.orient,e);return{axisType:n,componentName:`${De.cartesianAxis}-${n}`}}const RAe=i=>i.fieldX[0],DAe=i=>i.fieldY[0],qxt=i=>{var e;return[i.fieldX[0],(e=i.fieldX2)!==null&&e!==void 0?e:i.fieldX[1]]},Zxt=i=>{var e;return[i.fieldY[0],(e=i.fieldY2)!==null&&e!==void 0?e:i.fieldY[1]]},Ade=(i,e)=>i?e?RAe:qxt:e?DAe:Zxt,LAe=(i,e,t)=>{var n,r;if(!i||!W_(i.getRegionsInIndex(),"cartesian"))return null;const{x:s,y:a}=e,o=(n=aF(i,f=>Qr(f.getOrient()),e))!==null&&n!==void 0?n:[],l=(r=aF(i,f=>ef(f.getOrient()),e))!==null&&r!==void 0?r:[],u=new Set,c=new Set,d=new Set;[o,l].forEach(f=>f.forEach(g=>{io(g.getScale().type)?u.add(g):c.add(g),t&&g.getSpec().hasDimensionTooltip&&d.add(g)}));const h=[],p=f=>{const g=f==="x",v=g?s:a;(g?o:l).forEach(m=>{if(d.size>0){if(d.has(m)){const b=Tde(m,v,f,Ade(g,io(m.getScale().type)));b&&h.push(b)}}else{const b=u.size>0;if((b?u:c).has(m)){const _=Tde(m,v,f,Ade(g,b));_&&h.push(_)}}})};return i.getSpec().direction==="horizontal"?(p("y"),h.length===0&&p("x")):(p("x"),h.length===0&&p("y")),h.length?h:null},Tde=(i,e,t,n)=>{const r=i.getScale(),s=e-i.getLayoutStartPoint()[t];if((s-r.range()[0])*(s-r.range()[1])>0)return null;const a=r.invert(s);return FAe(i,a,n)},FAe=(i,e,t)=>{const n=i.getScale();if(Y(e))return null;let r=n.domain().findIndex(a=>(a==null?void 0:a.toString())===e.toString());r<0&&(r=void 0);const s=GW(e,i,"cartesian",t??(Qr(i.getOrient())?RAe:DAe));return{index:r,value:e,position:n.scale(e),axis:i,data:s}};class BAe{constructor(e,t){this._eventDispatcher=e,this._mode=t}get chart(){var e,t;return this._chart||(this._chart=(t=(e=this._eventDispatcher.globalInstance).getChart)===null||t===void 0?void 0:t.call(e)),this._chart}register(e,t){var n,r;((r=(n=this.chart)===null||n===void 0?void 0:n.getOption().onError)!==null&&r!==void 0?r:H_)("Method not implemented.")}unregister(){var e,t;((t=(e=this.chart)===null||e===void 0?void 0:e.getOption().onError)!==null&&t!==void 0?t:H_)("Method not implemented.")}getTargetDimensionInfo(e,t){var n,r;const s=(n=LAe(this.chart,{x:e,y:t}))!==null&&n!==void 0?n:[],a=(r=MAe(this.chart,{x:e,y:t}))!==null&&r!==void 0?r:[],o=[].concat(s,a);return o.length===0?null:o}dispatch(e,t){var n;const r=(n=this.chart)===null||n===void 0?void 0:n.getAllComponents().filter(l=>l.specKey==="axes"&&(!(t!=null&&t.filter)||t.filter(l))),s=r.filter(l=>{const u=l.getScale();return io(u.type)}),a=s.length?s:r.filter(l=>{const u=l.getOrient();return Qr(u)||u==="angle"}),o=[];return a.forEach(l=>{const u=FAe(l,e);u&&o.push(u)}),this._callback.call(null,{action:"enter",dimensionInfo:o}),o}}class Qxt extends BAe{constructor(){super(...arguments),this.onClick=e=>{if(!e)return;const t=e.event.viewX,n=e.event.viewY,r=this.getTargetDimensionInfo(t,n);r&&this._callback.call(null,Object.assign(Object.assign({},e),{action:"click",dimensionInfo:r.slice()}))}}register(e,t){this._callback=t.callback,this._eventDispatcher.register("pointertap",{query:Object.assign(Object.assign({},t.query),{source:cn.chart}),callback:this.onClick})}unregister(){this._eventDispatcher.unregister("pointertap",{query:null,callback:this.onClick})}}class Jxt extends BAe{constructor(){super(...arguments),this._cacheDimensionInfo=null,this.onMouseMove=e=>{if(!e)return;const t=e.event.viewX,n=e.event.viewY,r=this.getTargetDimensionInfo(t,n);r===null&&this._cacheDimensionInfo!==null?(this._callback.call(null,Object.assign(Object.assign({},e),{action:"leave",dimensionInfo:this._cacheDimensionInfo.slice()})),this._cacheDimensionInfo=r):r===null||this._cacheDimensionInfo!==null&&r.length===this._cacheDimensionInfo.length&&!r.some((s,a)=>!OAe(s,this._cacheDimensionInfo[a]))?r!==null&&this._callback.call(null,Object.assign(Object.assign({},e),{action:"move",dimensionInfo:r.slice()})):(this._callback.call(null,Object.assign(Object.assign({},e),{action:"enter",dimensionInfo:r.slice()})),this._cacheDimensionInfo=r)},this.onMouseOut=e=>{e&&(this._callback.call(null,Object.assign(Object.assign({},e),{action:"leave",dimensionInfo:this._cacheDimensionInfo?this._cacheDimensionInfo.slice():[]})),this._cacheDimensionInfo=null)}}register(e,t){this._callback=t.callback,this._eventDispatcher.register("pointermove",{query:Object.assign(Object.assign({},t.query),{source:cn.chart}),callback:this.onMouseMove}),this._eventDispatcher.register("pointerout",{query:Object.assign(Object.assign({},t.query),{source:cn.canvas}),callback:this.onMouseOut}),m0(this._mode)&&this._eventDispatcher.register("pointerdown",{query:Object.assign(Object.assign({},t.query),{source:cn.chart}),callback:this.onMouseMove})}unregister(){this._eventDispatcher.unregister("pointermove",{query:null,callback:this.onMouseMove}),m0(this._mode)&&this._eventDispatcher.unregister("pointerdown",{query:null,callback:this.onMouseMove})}}var Jg;(function(i){i.dimensionHover="dimensionHover",i.dimensionClick="dimensionClick"})(Jg||(Jg={}));const J7={[Jg.dimensionHover]:Jxt,[Jg.dimensionClick]:Qxt};let T$=class{getComposedEventMap(){return this._composedEventMap}constructor(e,t){this._composedEventMap=new Map,this._eventDispatcher=e,this._mode=t}on(e,t,n){const r=typeof t=="function"?{query:null,callback:t}:{query:t,callback:n};if(J7[e]){const s=new J7[e](this._eventDispatcher,this._mode);s.register(e,r),this._composedEventMap.set(n,{eventType:e,event:s})}else this._eventDispatcher.register(e,r);return this}off(e,t,n){var r,s;const a=n??t;if(J7[e])if(a)(r=this._composedEventMap.get(a))===null||r===void 0||r.event.unregister(),this._composedEventMap.delete(a);else for(const o of this._composedEventMap.entries())o[1].eventType===e&&((s=this._composedEventMap.get(o[0]))===null||s===void 0||s.event.unregister(),this._composedEventMap.delete(o[0]));else if(a){const o={callback:a,query:null,filter:{nodeName:null,type:e,level:null,source:t.source,markName:null,filter:null,userId:null}};this._eventDispatcher.unregister(e,o)}else this._eventDispatcher.unregister(e);return this}emit(e,t,n){return this._eventDispatcher.dispatch(e,t,n),this}release(){this._eventDispatcher.clear(),this._composedEventMap.clear()}};class ewt{constructor(){this._map=new Map,this._levelNodes=new Map,this._levelNodes.set(fr.vchart,[]),this._levelNodes.set(fr.chart,[]),this._levelNodes.set(fr.model,[]),this._levelNodes.set(fr.mark,[])}addHandler(e,t){var n;const r={level:t,handler:e};return(n=this._levelNodes.get(t))===null||n===void 0||n.push(r),this._map.set(e.callback,r),this}removeHandler(e){const t=this._map.get(e.callback);if(!t)return this;this._map.delete(e.callback);const n=this._levelNodes.get(t.level),r=n==null?void 0:n.findIndex(s=>s.handler.callback===e.callback);return r!==void 0&&r>=0&&(n==null||n.splice(r,1)),this}getHandlers(e){var t;return((t=this._levelNodes.get(e))===null||t===void 0?void 0:t.map(n=>n.handler))||[]}getCount(){return this._map.size}release(){this._map.clear(),this._levelNodes.clear()}}const Pde={cartesianAxis:"axis","cartesianAxis-band":"axis","cartesianAxis-linear":"axis","cartesianAxis-time":"axis",polarAxis:"axis","polarAxis-band":"axis","polarAxis-linear":"axis",discreteLegend:"legend",continuousLegend:"legend",colorLegend:"legend",sizeLegend:"legend",label:"label",markLine:"markLine",markArea:"markArea",markPoint:"markPoint",polarMarkLine:"polarMarkLine",polarMarkArea:"polarMarkArea",polarMarkPoint:"polarMarkPoint",geoMarkPoint:"geoMarkPoint"};class twt{constructor(e,t){this._viewBubbles=new Map,this._windowBubbles=new Map,this._canvasBubbles=new Map,this._viewListeners=new Map,this._windowListeners=new Map,this._canvasListeners=new Map,this._onDelegate=n=>{var r;const s=this.globalInstance.getChart(),a=X(n.modelId)&&(s==null?void 0:s.getModelById(n.modelId))||void 0,o=X(n.markId)&&(s==null?void 0:s.getMarkById(n.markId))||null,l=new Map;let u=(r=n.item)===null||r===void 0?void 0:r.mark;for(u&&X(u.id())&&l.set(u.id(),n.item);u!=null&&u.elements;){const d=u.id();X(d)&&!l.has(d)&&l.set(d,u.elements[0]),u=u.group}const c={event:n.event,item:n.item,datum:n.datum,source:n.source,itemMap:l,chart:s,model:a,mark:o??void 0,node:bi(n.event,"target")};this.dispatch(n.type,c)},this._onDelegateInteractionEvent=n=>{const r=this.globalInstance.getChart(),s=n.event;let a=null;s.elements&&(a=s.elements);const o={event:n.event,chart:r,items:a,datums:a&&a.map(l=>l.getDatum())};this.dispatch(n.type,o)},this.globalInstance=e,this._compiler=t}register(e,t){var n,r,s,a,o;this._parseQuery(t);const l=this.getEventBubble(((n=t.filter)===null||n===void 0?void 0:n.source)||cn.chart),u=this.getEventListeners(((r=t.filter)===null||r===void 0?void 0:r.source)||cn.chart);if(l.get(e)||l.set(e,new ewt),l.get(e).addHandler(t,(s=t.filter)===null||s===void 0?void 0:s.level),this._isValidEvent(e)&&!u.has(e)){const c=this._onDelegate.bind(this);this._compiler.addEventListener((a=t.filter)===null||a===void 0?void 0:a.source,e,c),u.set(e,c)}else if(this._isInteractionEvent(e)&&!u.has(e)){const c=this._onDelegateInteractionEvent.bind(this);this._compiler.addEventListener((o=t.filter)===null||o===void 0?void 0:o.source,e,c),u.set(e,c)}return this}unregister(e,t){var n,r,s,a;let o=!1;const l=this.getEventBubble(((n=t==null?void 0:t.filter)===null||n===void 0?void 0:n.source)||cn.chart),u=this.getEventListeners(((r=t==null?void 0:t.filter)===null||r===void 0?void 0:r.source)||cn.chart);if(t){const c=l.get(e);c==null||c.removeHandler(t),(c==null?void 0:c.getCount())===0&&(c==null||c.release(),l.delete(e),o=!0),!((s=t==null?void 0:t.wrappedCallback)===null||s===void 0)&&s.cancel&&t.wrappedCallback.cancel()}else{const c=l.get(e);c==null||c.release(),l.delete(e),o=!0}if(o&&this._isValidEvent(e)){const c=u.get(e);this._compiler.removeEventListener(((a=t==null?void 0:t.filter)===null||a===void 0?void 0:a.source)||cn.chart,e,c),u.delete(e)}return this}dispatch(e,t,n){const r=this.getEventBubble(t.source||cn.chart).get(e);if(!r)return this;let s=!1;if(n){const a=r.getHandlers(n);s=this._invoke(a,e,t)}else{const a=r.getHandlers(fr.mark);if(s=this._invoke(a,e,t),!s){const o=r.getHandlers(fr.model);s=this._invoke(o,e,t)}if(!s){const o=r.getHandlers(fr.chart);s=this._invoke(o,e,t)}if(!s){const o=r.getHandlers(fr.vchart);s=this._invoke(o,e,t)}}return this}clear(){for(const e of this._viewListeners.entries())this._compiler.removeEventListener(cn.chart,e[0],e[1]);this._viewListeners.clear();for(const e of this._windowListeners.entries())this._compiler.removeEventListener(cn.window,e[0],e[1]);this._windowListeners.clear();for(const e of this._canvasListeners.entries())this._compiler.removeEventListener(cn.canvas,e[0],e[1]);this._canvasListeners.clear();for(const e of this._viewBubbles.values())e.release();this._viewBubbles.clear();for(const e of this._windowBubbles.values())e.release();this._windowBubbles.clear();for(const e of this._canvasBubbles.values())e.release();this._canvasBubbles.clear()}release(){this.clear(),this.globalInstance=null,this._compiler=null}_filter(e,t,n){var r,s,a;if(Pe(e.filter)&&!e.filter(n)||e.nodeName&&bi(n,"node.name")!==e.nodeName||e.markName&&((r=n==null?void 0:n.mark)===null||r===void 0?void 0:r.name)!==e.markName)return!1;let o=(s=n.model)===null||s===void 0?void 0:s.type;return Pde[o]&&(o=Pde[o]),(!e.type||o===e.type)&&!(e.level==="mark"&&!e.type&&!(n!=null&&n.mark))&&!(e.level==="model"&&!e.type&&!(n!=null&&n.model))&&(!X(e.userId)||((a=n.model)===null||a===void 0?void 0:a.userId)===e.userId)}_prepareParams(e,t){if(e.markName&&t.mark&&t.itemMap){const n=t.mark.getProductId(),r=t.itemMap.get(n),s=r==null?void 0:r.getDatum();return Object.assign(Object.assign({},t),{item:r,datum:s})}return Object.assign({},t)}_invoke(e,t,n){return e.map(r=>{var s,a,o;const l=r.filter;if(!r.query||this._filter(l,t,n)){const u=(r.wrappedCallback||r.callback).call(null,this._prepareParams(l,n)),c=u??((s=r.query)===null||s===void 0?void 0:s.consume);return c&&((a=n.event)===null||a===void 0||a.stopPropagation(),(o=n.event)===null||o===void 0||o.preventDefault()),!!c}}).some(r=>r===!0)}_getQueryLevel(e){return e?e.level?e.level:X(e.id)?fr.model:fr.vchart:fr.vchart}_parseQuery(e){var t;const n=e.query;n!=null&&n.throttle?e.wrappedCallback=P0(e.callback,n.throttle):n!=null&&n.debounce&&(e.wrappedCallback=Pf(e.callback,n.debounce));let r=this._getQueryLevel(n),s=null,a=cn.chart,o=null,l=null,u=null;return n!=null&&n.nodeName&&(o=n.nodeName),n!=null&&n.markName&&(l=n.markName),!(n!=null&&n.type)||r!==fr.model&&r!==fr.mark||(s=n.type),n!=null&&n.source&&(a=n.source),X(n==null?void 0:n.id)&&(u=n==null?void 0:n.id,r=fr.model),e.filter={level:r,markName:l,type:s,source:a,nodeName:o,userId:u,filter:(t=n==null?void 0:n.filter)!==null&&t!==void 0?t:null},e}getEventBubble(e){switch(e){case cn.chart:return this._viewBubbles;case cn.window:return this._windowBubbles;case cn.canvas:return this._canvasBubbles;default:return this._viewBubbles}}getEventListeners(e){switch(e){case cn.chart:return this._viewListeners;case cn.window:return this._windowListeners;case cn.canvas:return this._canvasListeners;default:return this._viewListeners}}_isValidEvent(e){return nSt.includes(e)||Object.values(At).includes(e)}_isInteractionEvent(e){let t;return e&&(t=e.split(":")[0],t)&&He.hasInteraction(t)}}function pi(i,e,t){i.getTransform(e)||i.registerTransform(e,t)}function Fg(i,e,t){i.getParser(e)||i.registerParser(e,t)}const J_=new Map;let nS;function iwt(){nS||(nS=new f0,Fg(nS,"geojson",hwe),Fg(nS,"topojson",Gst),pi(nS,"simplify",Tst))}function nwt(i,e,t={type:"geojson",centroid:!0}){J_.has(i)&&wf(`map type of '${i}' already exists, will be overwritten.`),iwt();const n=new vn(nS),r=Ie({},{centroid:!0,simplify:!1},t);t.type==="topojson"?n.parse(e,{type:"topojson",options:r}):n.parse(e,{type:"geojson",options:r});const{simplify:s}=t;s===!0?n.transform({type:"simplify"}):yi(s)&&n.transform({type:"simplify",options:s}),J_.set(i,n)}function rwt(i){J_.has(i)?J_.delete(i):wf(`map type of '${i}' does not exists.`)}function swt(i){return J_.get(i)}function Ode(i,e=!1){let t=e;return i.latestData instanceof vn&&(t=!1),t?su(i.latestData):i.latestData.slice()}const P$=(i,e)=>i.length===0?[]:i.length===1?Ode(i[0],e==null?void 0:e.deep):i.map(t=>Ode(t,e==null?void 0:e.deep));function YW(i,e,t){e=e instanceof f0?e:i.dataSet,pi(e,"copyDataView",P$);const n=new vn(e,t);return n.parse([i],{type:"dataview"}),n.transform({type:"copyDataView",level:cp.copyDataView}),n}function oq(i,e,t=[],n={}){var r,s,a;if(i instanceof vn)return i;const{id:o,values:l=[],fromDataIndex:u,fromDataId:c,transforms:d=[]}=i,h=i.parser?su(i.parser):{clone:!0},p=su(i.fields);let f;h.clone=h.clone!==!1;const g=t.find(v=>v.name===o);if(g)f=g;else{const v={name:o};if(p&&(v.fields=p),f=new vn(e,v),typeof c=="string"){const m=t.find(b=>b.name===c);if(!m)return((r=n.onError)!==null&&r!==void 0?r:H_)(`no data matches fromDataId ${c}`),null;f.parse([m],{type:"dataview"}),f.transform({type:"copyDataView"})}else if(typeof u=="number"){const m=t[u];if(!m)return((s=n.onError)!==null&&s!==void 0?s:H_)(`no data matches fromDataIndex ${u}`),null;f.parse([m],{type:"dataview"}),f.transform({type:"copyDataView"})}else Array.isArray(l)?f.parse(l,h):!ct(l)||h&&!["csv","dsv","tsv"].includes(h.type)?(f.parse([]),wf("values should be array")):f.parse(l,(a=h)!==null&&a!==void 0?a:{type:"csv"});d&&d.length&&d.forEach(m=>{e.getTransform(m.type)&&f.transform(m)})}return f}function lq(i,e,t){i&&(e.fields&&i.setFields(e.fields,t),i.parseNewData(e.values,e.parser))}var cp;(function(i){i[i.copyDataView=-10]="copyDataView",i[i.treemapFilter=-8]="treemapFilter",i[i.treemapFlatten=-7]="treemapFlatten",i[i.dotObjFlat=-7]="dotObjFlat",i[i.linkDotInfo=-7]="linkDotInfo",i[i.sankeyLayout=-7]="sankeyLayout",i[i.dataZoomFilter=-6]="dataZoomFilter",i[i.legendFilter=-5]="legendFilter"})(cp||(cp={}));const awt=(i,e)=>{const t={nodes:{}},{fields:n}=e;if(!(n!=null&&n.length))return t;const r=n.length-1;let s,a,o=t;return i.forEach(l=>{l.latestData.forEach(u=>{o=t;for(let c=0;c<n.length;c++){const d=u[n[c]];if(Y(d))break;o.nodes[d]||(c===r?o.nodes[d]={values:[]}:(s={nodes:{}},o.nodes[d]=s)),c===r?(a=o.nodes[d],a.values.push(u)):o=o.nodes[d]}})}),t};var Oa;(function(i){i.appear="appear",i.disappear="disappear",i.enter="enter",i.update="update",i.state="state",i.exit="exit",i.normal="normal",i.none="none"})(Oa||(Oa={}));var qv;(function(i){i.data="data",i.signal="signal",i.mark="mark"})(qv||(qv={}));function owt(i){switch(i){case na["desktop-browser"]:case na["mobile-browser"]:return"browser";case na.node:case na.worker:return"node";case na.miniApp:case na["desktop-miniApp"]:return"feishu";case na.lynx:return"lynx";case na.wx:return"wx";case na.tt:return"tt";case na.harmony:return"harmony"}return"browser"}class lwt{getVGrammarView(){return this._view}getModel(){return this._model}constructor(e,t){this._viewListeners=new Map,this._windowListeners=new Map,this._canvasListeners=new Map,this.isInited=!1,this._isRunning=!1,this._released=!1,this._model={[qv.signal]:{},[qv.data]:{},[qv.mark]:{}},this._compileChart=null,this.handleStageRender=()=>{var n,r;(r=(n=this._compileChart)===null||n===void 0?void 0:n.getEvent())===null||r===void 0||r.emit(Pt.afterRender,{chart:this._compileChart})},this._container=e,this._option=t}getRenderer(){var e;return(e=this._view)===null||e===void 0?void 0:e.renderer}getCanvas(){var e;return(e=this._view)===null||e===void 0?void 0:e.renderer.canvas()}getStage(){var e;return(e=this._view)===null||e===void 0?void 0:e.renderer.stage()}initView(){var e,t,n,r;if(this._released||(this.isInited=!0,this._view))return;const s=new Kn((e=this._option.logLevel)!==null&&e!==void 0?e:Cc.Error);!((t=this._option)===null||t===void 0)&&t.onError&&s.addErrorHandler((...a)=>{var o,l;(l=(o=this._option)===null||o===void 0?void 0:o.onError)===null||l===void 0||l.call(o,...a)}),this._view=new Sb(Object.assign(Object.assign({width:this._width,height:this._height,container:(n=this._container.dom)!==null&&n!==void 0?n:null,renderCanvas:(r=this._container.canvas)!==null&&r!==void 0?r:null,hooks:this._option.performanceHook},this._option),{mode:owt(this._option.mode),autoFit:!1,eventConfig:{gesture:m0(this._option.mode),disable:this._option.interactive===!1},doLayout:()=>{var a;(a=this._compileChart)===null||a===void 0||a.onLayout(this._view)},logger:s,logLevel:s.level()})),this._setCanvasStyle(),this.getStage().hooks.afterRender.tap("chart-event",this.handleStageRender),this._option.interactive!==!1&&this._viewListeners.forEach(a=>{var o;(o=this._view)===null||o===void 0||o.addEventListener(a.type,a.callback)})}_setCanvasStyle(){if(this._view&&this._container.dom&&!ct(this._container.dom)){this._container.dom.style.display="block",this._container.dom.style.position="relative";const e=this.getCanvas();e&&(e.style.display="block")}}compileInteractions(){var e;if(this._view.removeAllInteractions(),(e=this._interactions)===null||e===void 0?void 0:e.length){const t={};this._interactions.forEach(n=>{var r;if(n.regionId){const s=`${n.regionId}-${n.type}-${(r=n.id)!==null&&r!==void 0?r:""}`,a=t[s];t[s]=a?Object.assign(Object.assign(Object.assign({},a),n),{selector:[...a.selector,...n.selector]}):n}else this._view.interaction(n.type,n)}),Object.keys(t).forEach(n=>{const r=this._view.interaction(t[n].type,t[n]);if(this._compileChart){const s=this._compileChart.getRegionsInIds([t[n].regionId])[0];s&&s.interaction.addVgrammarInteraction(r.getStartState(),r)}})}}compile(e,t){if(this._released)return;const{chart:n}=e;this._compileChart=n,this.initView(),this._view&&(n.compile(),n.afterCompile(),this.updateDepend(),this.compileInteractions())}clear(e,t=!1){const{chart:n}=e;n.clear(),this.releaseGrammar(t)}renderNextTick(e){this._released||this._nextRafId||(this._nextRafId=ji.getRequestAnimationFrame()(()=>{this._nextRafId=null,this.render(e)}))}render(e){var t,n;this._released||(this._nextRafId&&(ji.getCancelAnimationFrame()(this._nextRafId),this._nextRafId=null),this._isRunning||(this.initView(),this._view&&(this._isRunning=!0,(t=this._view)===null||t===void 0||t.run(e),this._isRunning=!1,this._nextRafId&&(ji.getCancelAnimationFrame()(this._nextRafId),this._nextRafId=null,this._isRunning=!0,(n=this._view)===null||n===void 0||n.run(e),this._isRunning=!1))))}updateViewBox(e,t=!0){this._view&&this._view.renderer.setViewBox(e,t)}resize(e,t,n=!0){this._view&&(this._width=e,this._height=t,this._view.resize(e,t),n&&this.render({morph:!1}))}setBackground(e){var t;(t=this._view)===null||t===void 0||t.background(e)}setSize(e,t){this._width=e,this._height=t,this._view&&(this._view.width(e),this._view.height(t))}setViewBox(e,t=!0){this._view&&this._view.renderer.setViewBox(e,t)}addEventListener(e,t,n){var r,s;if(this._option.interactive!==!1){if(e===cn.chart){const a=(function(o,l){var u,c,d;const h=(c=(u=l==null?void 0:l.mark)===null||u===void 0?void 0:u.getContext())!==null&&c!==void 0?c:{},p=X(h.modelId)?h.modelId:null,f=X(h.markId)?h.markId:null,g=X(h.modelUserId)?h.modelUserId:null,v=X(h.markUserId)?h.markUserId:null,m={event:o,type:t,source:e,item:l,datum:((d=l==null?void 0:l.getDatum)===null||d===void 0?void 0:d.call(l))||null,markId:f,modelId:p,markUserId:v,modelUserId:g};n.call(null,m)}).bind(this);this._viewListeners.set(n,{type:t,callback:a}),(r=this._view)===null||r===void 0||r.addEventListener(t,a)}else if(e===cn.window){const a=(function(l){const u={event:l,type:t,source:e,item:null,datum:null,markId:null,modelId:null,markUserId:null,modelUserId:null};n.call(null,u)}).bind(this);this._windowListeners.set(n,{type:t,callback:a});const o=this._getGlobalThis();o==null||o.addEventListener(t,a)}else if(e===cn.canvas){const a=(function(l){const u={event:l,type:t,source:e,item:null,datum:null,markId:null,modelId:null,markUserId:null,modelUserId:null};n.call(null,u)}).bind(this);this._canvasListeners.set(n,{type:t,callback:a});const o=(s=this.getStage())===null||s===void 0?void 0:s.window;o==null||o.addEventListener(t,a)}}}removeEventListener(e,t,n){var r,s,a,o,l;if(this._option.interactive!==!1){if(e===cn.chart){const u=(r=this._viewListeners.get(n))===null||r===void 0?void 0:r.callback;u&&((s=this._view)===null||s===void 0||s.removeEventListener(t,u)),this._viewListeners.delete(n)}else if(e===cn.window){const u=this._getGlobalThis(),c=(a=this._windowListeners.get(n))===null||a===void 0?void 0:a.callback;c&&(u==null||u.removeEventListener(t,c)),this._windowListeners.delete(n)}else if(e===cn.canvas){const u=(o=this.getStage())===null||o===void 0?void 0:o.window,c=(l=this._canvasListeners.get(n))===null||l===void 0?void 0:l.callback;u&&c&&(u==null||u.removeEventListener(t,c)),this._canvasListeners.delete(n)}}}releaseEvent(){const e=this.getStage();e&&e.hooks.afterRender.unTap("chart-event",this.handleStageRender),this._viewListeners.clear(),this._windowListeners.clear(),this._canvasListeners.clear()}release(){var e;this.releaseEvent(),this._option=this._container=null,this._releaseModel(),(e=this._view)===null||e===void 0||e.release(),this._view=null,this.isInited=!1,this._compileChart=null,this._released=!0}releaseGrammar(e=!1){var t,n;this._releaseModel(),e&&((t=this._view)===null||t===void 0||t.removeAllGraphicItems()),(n=this._view)===null||n===void 0||n.removeAllGrammars()}_releaseModel(){Object.keys(this._model).forEach(e=>{Object.values(this._model[e]).forEach(t=>{Object.values(t).forEach(n=>{n.removeProduct(!0)})}),this._model[e]={}})}addGrammarItem(e){const t=e.getProduct();if(Y(t))return;const n=t.id(),r=e.grammarType;Y(this._model[r][n])&&(this._model[r][n]={}),this._model[r][n][e.id]=e}removeGrammarItem(e,t){var n;const r=e.getProduct();if(Y(r))return;const s=r.id(),a=e.grammarType,o=this._model[a][s];X(o)&&(delete o[e.id],Object.keys(o).length===0&&delete this._model[a][s]),t||(n=this._view)===null||n===void 0||n.removeGrammar(r)}addInteraction(e){this._interactions||(this._interactions=[]),this._interactions.push(e)}removeInteraction(e){this._interactions&&(this._interactions=this._interactions.filter(t=>t.seriesId!==e))}updateDepend(e){return X(e)&&e.length>0?e.every(t=>t.updateDepend()):(Object.values(this._model).forEach(t=>{Object.values(t).forEach(n=>{const r=Object.values(n),s=r[0].getProduct(),a=r.reduce((o,l)=>l.getDepend().length>0?o.concat(l.getDepend()):o,[]).filter(o=>!!o).map(o=>o.getProduct());s.depend(a)})}),!0)}_getGlobalThis(){var e;return Dc(this._option.mode)?globalThis:(e=this.getStage())===null||e===void 0?void 0:e.window}}var uwt=function(i,e,t,n){return new(t||(t=Promise))(function(r,s){function a(u){try{l(n.next(u))}catch(c){s(c)}}function o(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((n=n.apply(i,e||[])).next())})};function cwt(i="vchart",e){const t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("target","_blank"),t.setAttribute("download",`${i}.png`),t.dispatchEvent(new MouseEvent("click"))}function dwt(i){return new Promise(e=>{i.convertToBlob().then(t=>{const n=new FileReader;n.readAsDataURL(t),n.onload=()=>{e(n.result)}})})}function hwt(i,e){var t;return uwt(this,void 0,void 0,function*(){if(!i)return"";try{if(OffscreenCanvas!==void 0&&i instanceof OffscreenCanvas)return dwt(i)}catch(n){((t=e==null?void 0:e.onError)!==null&&t!==void 0?t:H_)(`getCanvasDataURL error : ${n.toString()}`)}return i.toDataURL()})}function R0(i){i.crosshair=we(i.crosshair||{}).map(e=>Rt({[i.direction==="horizontal"?"yField":"xField"]:{visible:!0,line:{visible:!0,type:"rect"}}},e))}function $Ae(i,e,t){var n;const{width:r,height:s}=i;if(X(r)&&X(s))return{width:r,height:s};let a=t.width,o=t.height;const l=e.container,u=e.canvas;if(l){const{width:c,height:d}=MV(l,t.width,t.height);a=c,o=d}else if(u&&Dc(e.mode)){let c;c=ct(u)?document==null?void 0:document.getElementById(u):u;const{width:d,height:h}=MV(c,t.width,t.height);a=d,o=h}else if(O0(e.mode)&&(!((n=e.modeParams)===null||n===void 0)&&n.domref)){const c=e.modeParams.domref;a=c.width,o=c.height}return a=r??a,o=s??o,{width:a,height:o}}function rS(i,...e){const t=n=>e.reduce((r,s)=>r||(s==null?void 0:s[n]),i[n]);return Object.assign(i,{change:t("change"),reCompile:t("reCompile"),reMake:t("reMake"),reRender:t("reRender"),reSize:t("reSize"),reTransformSpec:t("reTransformSpec")}),i}function NAe(i,e){return i==="line"||i==="area"||i==="common"&&e.series.every(t=>t.type==="area"||t.type==="line")?{paddingInner:1,paddingOuter:0}:{paddingOuter:0}}var mt;(function(i){i.STATE_NORMAL="normal",i.STATE_HOVER="hover",i.STATE_HOVER_REVERSE="hover_reverse",i.STATE_DIMENSION_HOVER="dimension_hover",i.STATE_DIMENSION_HOVER_REVERSE="dimension_hover_reverse",i.STATE_SELECTED="selected",i.STATE_SELECTED_REVERSE="selected_reverse",i.STATE_SANKEY_EMPHASIS="selected",i.STATE_SANKEY_EMPHASIS_REVERSE="blur"})(mt||(mt={}));var UE;(function(i){i.STATE_HOVER_REVERSE="hover_reverse",i.STATE_DIMENSION_HOVER_REVERSE="dimension_hover_reverse",i.STATE_SELECTED_REVERSE="selected_reverse"})(UE||(UE={}));class Jx{constructor(){this._children=[],this._markNameMap={},this._infoMap=new Map}getMarkNameMap(){return this._markNameMap}addMark(e,t){Y(e)||(this._children.push(e),this._markNameMap[e.name]=e,this._infoMap.set(e,Ie({},Jx.defaultMarkInfo,t)))}removeMark(e){const t=this._children.findIndex(n=>n.name===e);t>=0&&(this._infoMap.delete(this._children[t]),delete this._markNameMap[e],this._children.splice(t,1))}clear(){this._children=[],this._markNameMap={},this._infoMap.clear()}forEach(e){this._children.forEach(e)}includes(e,t){return this._children.includes(e,t)}get(e){return isNaN(Number(e))?this._markNameMap[e]:this._children[e]}getMarks(){return this._children.slice()}getMarksInType(e){const t=we(e);return this._children.filter(n=>t.includes(n.type))}getMarkInId(e){return this._children.find(t=>t.id===e)}getMarkWithInfo(e){return this._children.find(t=>Object.keys(e).every(n=>e[n]===this._infoMap.get(t)[n]))}}Jx.defaultMarkInfo={};class pwt{get hover(){return this._hover}get select(){return this._select}constructor(e){this._marks=new Jx,this._markReverse=new Jx,this.onHover=t=>{switch(t.action){case"enter":this.interaction.getEventElement(mt.STATE_DIMENSION_HOVER).forEach(n=>this.interaction.addEventElement(mt.STATE_DIMENSION_HOVER_REVERSE,n)),this.interaction.clearEventElement(mt.STATE_DIMENSION_HOVER,!1),this.getEventElement(t).forEach(n=>this.interaction.addEventElement(mt.STATE_DIMENSION_HOVER,n)),this.interaction.reverseEventElement(mt.STATE_DIMENSION_HOVER);break;case"leave":this.interaction.clearEventElement(mt.STATE_DIMENSION_HOVER,!0),t=null}},this._option=e,this.event=this._option.model.getOption().getChart().getEvent(),this.interaction=e.interaction,this.initConfig(e.mode)}setStateKeys(e){}registerMark(e){Mt(e.stateStyle[mt.STATE_DIMENSION_HOVER])||this._marks.addMark(e),Mt(e.stateStyle[mt.STATE_DIMENSION_HOVER_REVERSE])||this._markReverse.addMark(e)}init(){this.initEvent()}release(){this.releaseEvent()}initEvent(){this.event.on(Jg.dimensionHover,this.onHover)}releaseEvent(){this.event.release()}initConfig(e){}getEventElement(e,t=!1){const n=[];return e.dimensionInfo.forEach(r=>{r.data.forEach(s=>{(t?this._markReverse:this._marks).getMarks().filter(a=>a.model===s.series&&a.getVisible()).forEach(a=>{const o=a.getProduct();if(!o||!o.elements)return;const l=o.elements.filter(u=>{const c=u.getDatum();let d;return d=ke(c)?c.every((h,p)=>h===s.datum[p]):s.datum.some(h=>h===c),t?!d:d});n.push(...l)})})}),n}}function fwt(i,e,t){var n;const r=(n=e[i])===null||n===void 0?void 0:n.style;return gwt(i,r)||Pe(r)?!0:!(!(r!=null&&r.scale)||r.field===t)}function gwt(i,e){return(i==="fill"||i==="stroke")&&(e==null?void 0:e.gradient)&&(e==null?void 0:e.stops)}const jAe={};Object.values(mt).forEach(i=>{jAe[i]=!0});function mwt(i){return!!jAe[i]}const vwt={[mt.STATE_HOVER]:mt.STATE_HOVER_REVERSE,[mt.STATE_SELECTED]:mt.STATE_SELECTED_REVERSE,[mt.STATE_DIMENSION_HOVER]:mt.STATE_DIMENSION_HOVER_REVERSE};function MI(i){return vwt[i]}class ywt{constructor(){this._stateMarks=new Map,this._stateElements=new Map,this._vgrammarInteractions=new Map,this._disableTriggerEvent=!1}addVgrammarInteraction(e,t){e&&(this._vgrammarInteractions.get(e)?this._vgrammarInteractions.get(e).push(t):this._vgrammarInteractions.set(e,[t]))}static markStateEnable(e,t){return!Mt(e.stateStyle[t])}setDisableActiveEffect(e){this._disableTriggerEvent=e}registerMark(e,t){var n;this._stateMarks.has(e)||this._stateMarks.set(e,[]),(n=this._stateMarks.get(e))===null||n===void 0||n.push(t)}getStateMark(e){return this._stateMarks.get(e)}filterEventMark(e,t){var n;return!(!e.mark||!(!((n=this._stateMarks.get(t))===null||n===void 0)&&n.includes(e.mark)))}getEventElement(e){var t;return(t=this._stateElements.get(e))!==null&&t!==void 0?t:[]}getEventElementData(e){return this.getEventElement(e).map(t=>t.getDatum())}exchangeEventElement(e,t){var n;if(this._disableTriggerEvent)return;const r=MI(e);(n=this._stateElements.get(e))===null||n===void 0||n.forEach(s=>{s.removeState(e),r&&this.addEventElement(r,s)}),t.getStates().includes(e)||(t.addState(e),r&&t.removeState(r)),this._stateElements.set(e,[t])}removeEventElement(e,t){var n,r;if(this._disableTriggerEvent)return;t.removeState(e);const s=(r=(n=this._stateElements.get(e))===null||n===void 0?void 0:n.filter(o=>o!==t))!==null&&r!==void 0?r:[];this._stateElements.set(e,s);const a=MI(e);a&&(s.length===0?this.clearEventElement(a,!1):this.addEventElement(a,t))}addEventElement(e,t){var n;if(this._disableTriggerEvent)return;t.getStates().includes(e)||t.addState(e);const r=(n=this._stateElements.get(e))!==null&&n!==void 0?n:[];r.push(t),this._stateElements.set(e,r)}clearEventElement(e,t){var n;if(!this._disableTriggerEvent&&((n=this._stateElements.get(e))===null||n===void 0||n.forEach(r=>{r.removeState(e)}),this._stateElements.set(e,[]),t)){const r=MI(e);r&&this.clearEventElement(r,!1)}}reverseEventElement(e){if(this._disableTriggerEvent)return;const t=MI(e);if(!t)return;const n=this.getStateMark(t);if(!n)return;const r=this.getEventElement(e);r.length&&(this.getEventElement(t).length||(r.length===1?n.forEach(s=>{s.getProduct().elements.filter(a=>a!==r[0]).forEach(a=>{this.addEventElement(t,a)})}):n.forEach(s=>{s.getProduct().elements.filter(a=>!r.includes(a)).forEach(a=>{this.addEventElement(t,a)})})))}startInteraction(e,t){const n=this._vgrammarInteractions.get(e);n&&n.forEach(r=>{r.start(t)})}resetInteraction(e,t){const n=this._vgrammarInteractions.get(e);n&&n.forEach(r=>{r.reset(t)})}}class O${getOption(){return this._option}constructor(e){this._option=e,this.getCompiler=this._option.getCompiler}getVGrammarView(){var e;return(e=this.getCompiler())===null||e===void 0?void 0:e.getVGrammarView()}release(){this._option=null,this.getCompiler=null}}class uq extends O${constructor(){super(...arguments),this.id=yb(),this._compiledProductId=null,this._depend=[]}getProduct(){if(X(this._product))return this._product;const e=this.getVGrammarView(),t=this.getProductId();return X(t)&&X(e)&&(this._product=this._lookupGrammar(t)),this._product}getProductId(){var e;return(e=this._compiledProductId)!==null&&e!==void 0?e:this.generateProductId()}getDepend(){return this._depend}setDepend(...e){this._depend=e}compile(e){this._compileProduct(e),this._afterCompile(e)}_afterCompile(e){var t;X(this._product)&&((t=this.getCompiler())===null||t===void 0||t.addGrammarItem(this))}updateDepend(){if(X(this._product)){const e=this.getDepend().map(t=>t.getProduct()).filter(X);return this._product.depend(e),e.length===this.getDepend().length}return!1}release(){this.removeProduct(),super.release(),this._depend=[]}removeProduct(e){this.getCompiler().removeGrammarItem(this,e),this._product=null,this._compiledProductId=null}}class _wt extends uq{getValue(){return this._value}getUpdateFunc(){return this._updateFunc}constructor(e,t,n,r){super(e),this.grammarType=qv.signal,this.name=t,this._value=n,this._updateFunc=r}updateSignal(e,t){this._value=e,this._updateFunc=t,this.compile()}_compileProduct(){const e=this.getVGrammarView();if(e){if(!this.getProduct()){const t=this.getProductId();this._product=e.signal().id(t),this._compiledProductId=t}X(this._value)&&this._product.value(this._value),X(this._updateFunc)&&this._product.update(this._updateFunc)}}generateProductId(){return this.name}_lookupGrammar(e){var t;return(t=this.getCompiler().getVGrammarView())===null||t===void 0?void 0:t.getSignalById(e)}}class bwt extends O${constructor(){super(...arguments),this._signalMap={}}getSignalMap(){return this._signalMap}getSignal(e){return this._signalMap[e]}updateSignal(e,t,n){this._signalMap[e]?this._signalMap[e].updateSignal(t,n):(this._signalMap[e]=new _wt(this._option,e,t,n),this._signalMap[e].compile())}compile(){Object.values(this._signalMap).forEach(e=>{e.compile()})}release(){super.release(),Object.values(this._signalMap).forEach(e=>{e.release()}),this._signalMap={}}}class zAe extends bwt{getStateMap(){return this._stateMap}_getDefaultStateMap(){return{}}constructor(e){super(e),e.stateKeyToSignalName?this.stateKeyToSignalName=e.stateKeyToSignalName:this.stateKeyToSignalName=()=>"state_signal",this.initStateMap()}initStateMap(e){this._stateMap=e??this._getDefaultStateMap()}compile(e){const t=e??this._stateMap;Object.keys(t).forEach(n=>{const r=this.stateKeyToSignalName(n),s=t[n];this.updateSignal(r,s)})}updateState(e,t){if(e&&(Ie(this._stateMap,e),this.compile(e),!t))return this.getCompiler().renderNextTick()}}class HAe extends zAe{constructor(){super(...arguments),this.id=yb(),this.stateKeyToSignalName=e=>`${Ut}_animate_${this.id}_${e}`}getAnimationStateSignalName(){return this.stateKeyToSignalName("animationState")}updateAnimateState(e,t){e===Oa.update?this.updateState({animationState:{callback:(n,r)=>r.diffState}},t):e===Oa.appear?this.updateState({animationState:{callback:(n,r)=>r.diffState==="exit"?Oa.none:Oa.appear}},t):this.updateState({animationState:{callback:(n,r)=>e}},t)}_getDefaultStateMap(){return{animationState:{callback:(e,t)=>t.diffState==="exit"?Oa.exit:Oa.appear}}}}class M${constructor(e){this._option=e,this.type=e.type}_initTheme(e,t){return this._theme=this.getTheme(e,t),this._mergeThemeToSpec(e,t)}getTheme(e,t){}transformSpec(e,t,n){this._transformSpecBeforeMergingTheme(e,t,n);const r=this._initTheme(e,t);return this._transformSpecAfterMergingTheme(r.spec,t,n),r}_transformSpecBeforeMergingTheme(e,t,n){}_transformSpecAfterMergingTheme(e,t,n){}_mergeThemeToSpec(e,t){const n=this._theme;if(this._shouldMergeThemeToSpec()){const r=this._getDefaultSpecFromChart(t),s=a=>Rt({},n,r,a);return ke(e)?{spec:e.map(a=>s(a)),theme:n}:{spec:s(e),theme:n}}return{spec:e,theme:n}}_shouldMergeThemeToSpec(){return!0}_getDefaultSpecFromChart(e){}}class cq extends O${getSpec(){return this._spec||{}}getSpecPath(){var e;return(e=this._option)===null||e===void 0?void 0:e.specPath}getSpecInfoPath(){var e,t,n;return(t=(e=this._option)===null||e===void 0?void 0:e.specInfoPath)!==null&&t!==void 0?t:(n=this._option)===null||n===void 0?void 0:n.specPath}getData(){return this._data}get layout(){return this._layout}getOption(){return this._option}getMarks(){var e,t;return(t=(e=this._marks)===null||e===void 0?void 0:e.getMarks())!==null&&t!==void 0?t:[]}getMarkNameMap(){var e;return(e=this._marks)===null||e===void 0?void 0:e.getMarkNameMap()}getMarkSet(){return this._marks}getMarkInfoList(){return this.getMarks().map(e=>({type:e.type,name:e.name}))}getChart(){return this._option.getChart()}get _theme(){var e;return(e=this.getSpecInfo())===null||e===void 0?void 0:e.theme}constructor(e,t){var n;super(t),this.transformerConstructor=M$,this.type="null",this.modelType="null",this.userId=void 0,this._data=null,this._layout=null,this.specKey="",this._marks=new Jx,this._lastLayoutRect=null,this.id=yb(),this.userId=e.id,this._spec=e,this.effect={},this.event=new T$(t.eventDispatcher,t.mode),(n=t.map)===null||n===void 0||n.set(this.id,this)}_releaseEvent(){this.event.release()}created(){this.setAttrFromSpec()}init(e){}afterInit(){}getVisible(){var e;return((e=this._spec)===null||e===void 0?void 0:e.visible)!==!1}onLayoutStart(e,t,n){var r;(r=this._layout)===null||r===void 0||r.onLayoutStart(e,t,n)}onLayoutEnd(e){var t;(t=this._layout)===null||t===void 0||t.onLayoutEnd(e),this.getMarks().forEach(n=>n.updateLayoutState(!0,!0))}onEvaluateEnd(e){}onDataUpdate(){}beforeRelease(){}release(){var e;this._releaseEvent(),this._spec=void 0,this.getMarks().forEach(t=>t.release()),(e=this._data)===null||e===void 0||e.release(),this._data=null,this._marks.clear(),super.release()}updateSpec(e){const t=this._compareSpec(e,this._spec);return this._spec=e,t}_compareSpec(e,t){return{change:!1,reMake:!1,reRender:!1,reSize:!1,reCompile:!1}}reInit(e){e&&(this._spec=e),this.setAttrFromSpec()}updateLayoutAttribute(){}setAttrFromSpec(){var e;(e=this._layout)===null||e===void 0||e.setAttrFromSpec(this._spec,this._option.getChartViewRect())}_convertMarkStyle(e){return Object.assign({},e)}setMarkStyle(e,t,n,r){X(e)&&X(t)&&e.setStyle(this._convertMarkStyle(t),n,r)}initMarkStyleWithSpec(e,t,n){if(!X(e)||!X(t))return;const{style:r,state:s}=t,a=Object.assign({},t);r&&(a.style=this._convertMarkStyle(r)),s&&(a.state={},Object.keys(s).forEach(o=>{a.state[o]=this._convertMarkStyle(s[o])})),e.initStyleWithSpec(a,n)}stateKeyToSignalName(e,t){let n=`${Ut}_${this.modelType}_${this.type}_${this.id}_${e}`;return t&&(n+=`_${t}`),n}compileData(){var e;(e=this._data)===null||e===void 0||e.compile()}compileMarks(e){this.getMarks().forEach(t=>{t.compile({group:e})})}_createMark(e,t={}){const{type:n,name:r}=e,s=ce.createMark(n,r,Object.assign({model:this,map:this._option.map,getCompiler:this.getCompiler,globalScale:this._option.globalScale},t));return s==null||s.created(),s}_getDataIdKey(){}getColorScheme(){var e,t;return(t=(e=this._option).getTheme)===null||t===void 0?void 0:t.call(e).colorScheme}getSpecInfo(){var e,t,n;const r=(n=(t=(e=this._option).getSpecInfo)===null||t===void 0?void 0:t.call(e))!==null&&n!==void 0?n:{};return Pxt(r,this.getSpecInfoPath())}getSpecIndex(){const e=this.getSpecPath();if(!(e!=null&&e.length))return 0;const t=Number(e[e.length-1]);return isNaN(t)?0:t}}class Swt{getSpec(){return this._spec||{}}getLayoutStartPoint(){return this._layoutStartPoint}get layoutRectLevelMap(){return this._layoutRectLevelMap}get minWidth(){return this._minWidth}set minWidth(e){this._minWidth=e}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth=e}get minHeight(){return this._minHeight}set minHeight(e){this._minHeight=e}get maxHeight(){return this._maxHeight}set maxHeight(e){this._maxHeight=e}getLastComputeOutBounds(){return this._lastComputeOutBounds}get layoutOrient(){return this._layoutOrient}set layoutOrient(e){this._layoutOrient=e}get model(){return this._model}get type(){return this._model.type}constructor(e,t){var n;this.layoutClip=!1,this.autoIndent=!1,this._layoutStartPoint={x:0,y:0},this._layoutRect={width:0,height:0},this._layoutRectLevelMap={width:Iu,height:Iu},this._minWidth=null,this._maxWidth=null,this._minHeight=null,this._maxHeight=null,this._lastComputeRect=null,this._lastComputeOutBounds={x1:0,x2:0,y1:0,y2:0},this.getLayoutRect=()=>this._layoutRect,this.layoutType="normal",this._layoutOrient="left",this.layoutPaddingLeft=0,this.layoutPaddingTop=0,this.layoutPaddingRight=0,this.layoutPaddingBottom=0,this.layoutOffsetX=0,this.layoutOffsetY=0,this.layoutLevel=up.Region,this._model=e,this._option=t,this.layoutLevel=t.layoutLevel,this.layoutType=t.layoutType,t.layoutOrient&&(this.layoutOrient=t.layoutOrient),this._spec=(n=e==null?void 0:e.getSpec)===null||n===void 0?void 0:n.call(e)}_setLayoutAttributeFromSpec(e,t){var n,r,s,a;if(this._spec&&this._spec.visible!==!1){const o=Qg(e.padding),l=gAe(o,t,t);this.layoutPaddingLeft=l.left,this.layoutPaddingRight=l.right,this.layoutPaddingTop=l.top,this.layoutPaddingBottom=l.bottom,this._minHeight=Y(e.minHeight)?(n=this._minHeight)!==null&&n!==void 0?n:null:vo(e.minHeight,t.height,t),this._maxHeight=Y(e.maxHeight)?(r=this._maxHeight)!==null&&r!==void 0?r:null:vo(e.maxHeight,t.height,t),this._minWidth=Y(e.minWidth)?(s=this._minWidth)!==null&&s!==void 0?s:null:vo(e.minWidth,t.width,t),this._maxWidth=Y(e.maxWidth)?(a=this._maxWidth)!==null&&a!==void 0?a:null:vo(e.maxWidth,t.width,t),e.width&&this.setLayoutRect({width:vo(e.width,t.width,t)},{width:av}),e.height&&this.setLayoutRect({height:vo(e.height,t.height,t)},{height:av}),Y(e.offsetX)||(this.layoutOffsetX=vo(e.offsetX,t.width,t)),Y(e.offsetY)||(this.layoutOffsetY=vo(e.offsetY,t.height,t)),e.alignSelf&&(this.alignSelf=e.alignSelf)}}setAttrFromSpec(e,t){var n,r,s,a;this._spec=e,this.layoutType=(n=e.layoutType)!==null&&n!==void 0?n:this.layoutType,this.layoutLevel=(r=e.layoutLevel)!==null&&r!==void 0?r:this.layoutLevel,this.layoutOrient=(s=e.orient)!==null&&s!==void 0?s:this.layoutOrient,this._setLayoutAttributeFromSpec(e,t),this.layoutClip=(a=e.clip)!==null&&a!==void 0?a:this.layoutClip}onLayoutStart(e,t,n){this._setLayoutAttributeFromSpec(this._spec,t)}onLayoutEnd(e){}_getAbsoluteSpecValue(e){const t={top:null,bottom:null,left:null,right:null};return["top","bottom","left","right"].forEach(n=>{Y(this._spec[n])||(t[n]=vo(this._spec[n],n==="top"||n==="bottom"?e.height:e.width,e))}),t}absoluteLayoutInRect(e){const{top:t,bottom:n,left:r,right:s}=this._getAbsoluteSpecValue(e),a={width:e.width-this.layoutPaddingLeft-this.layoutPaddingRight,height:e.height-this.layoutPaddingTop-this.layoutPaddingBottom};Y(r)||(a.width-=r),Y(s)||(a.width-=s),Y(t)||(a.height-=t),Y(n)||(a.height-=n),this.setLayoutRect(a);const{width:o,height:l}=this.computeBoundsInRect(this.getLayoutRect());this.setLayoutRect({width:o,height:l});const u={x:e.x,y:e.y};this._spec.center===!0?(u.x=e.x+.5*e.width-.5*o,u.y=e.y+.5*e.height-.5*l):(Y(r)?Y(s)||(u.x=e.x+e.width-this.layoutPaddingRight-s-o):u.x=e.x+r+this.layoutPaddingLeft,Y(t)?Y(n)||(u.y=e.y+e.height-this.layoutPaddingBottom-n-l):u.y=e.y+t+this.layoutPaddingTop),this.setLayoutStartPosition(u)}setLayoutStartPosition(e){var t,n;this._option.transformLayoutPosition&&(e=this._option.transformLayoutPosition(e)),Ce(e.x)&&(this._layoutStartPoint.x=e.x),Ce(e.y)&&(this._layoutStartPoint.y=e.y),(n=(t=this._model).afterSetLayoutStartPoint)===null||n===void 0||n.call(t,this._layoutStartPoint)}setLayoutRect({width:e,height:t},n){var r,s,a,o;Ce(e)&&((r=n==null?void 0:n.width)!==null&&r!==void 0?r:Iu)>=this._layoutRectLevelMap.width&&(this._layoutRect.width=e,this._layoutRectLevelMap.width=(s=n==null?void 0:n.width)!==null&&s!==void 0?s:Iu),Ce(t)&&((a=n==null?void 0:n.height)!==null&&a!==void 0?a:Iu)>=this._layoutRectLevelMap.height&&(this._layoutRect.height=t,this._layoutRectLevelMap.height=(o=n==null?void 0:n.height)!==null&&o!==void 0?o:Iu),this.setRectInSpec(this._layoutRect)}getLayout(){return{x:this._layoutStartPoint.x,y:this._layoutStartPoint.y,width:this._layoutRect.width,height:this._layoutRect.height}}mergeLayoutRect({width:e,height:t}){const n={width:e,height:t};return this._layoutRectLevelMap.width>Iu&&(n.width=this._layoutRect.width),this._layoutRectLevelMap.height>Iu&&(n.height=this._layoutRect.height),n}getOrientPosAttribute(){return this._layoutOrient==="bottom"||this._layoutOrient==="top"?"x":"y"}getOrientSizeAttribute(){return this._layoutOrient==="bottom"||this._layoutOrient==="top"?"width":"height"}changeBoundsBySetting(e){return this._layoutRectLevelMap.width>Iu&&(e.x2=e.x1+this._layoutRect.width),this._layoutRectLevelMap.height>Iu&&(e.y2=e.y1+this._layoutRect.height),e.x1-=this._layoutStartPoint.x,e.x2-=this._layoutStartPoint.x,e.y1-=this._layoutStartPoint.y,e.y2-=this._layoutStartPoint.y,e}setRectInSpec(e){const t=Object.assign({},e);return this._layoutRectLevelMap.width<av?(Y(this._minWidth)||(t.width=Math.max(t.width,this._minWidth)),Y(this._maxWidth)||(t.width=Math.min(t.width,this._maxWidth))):t.width=this._layoutRect.width,this._layoutRectLevelMap.height<av?(Y(this._minHeight)||(t.height=Math.max(t.height,this._minHeight)),Y(this._maxHeight)||(t.height=Math.min(t.height,this._maxHeight))):t.height=this._layoutRect.height,t}computeBoundsInRect(e){if(this._lastComputeRect=e,!(this.layoutType!=="region-relative"&&this.layoutType!=="region-relative-overlap"||(this._layoutRectLevelMap.width!==av||this.layoutOrient!=="left"&&this.layoutOrient!=="right")&&(this._layoutRectLevelMap.height!==av||this.layoutOrient!=="bottom"&&this.layoutOrient!=="top")))return this._layoutRect;const t=Object.assign({},this._model.getBoundsInRect(this.setRectInSpec(e),e));this.changeBoundsBySetting(t),this.autoIndent&&t.x2-t.x1>0&&t.y2-t.y1>0&&(this._lastComputeOutBounds.x1=Math.ceil(-t.x1),this._lastComputeOutBounds.x2=Math.ceil(t.x2-e.width),this._lastComputeOutBounds.y1=Math.ceil(-t.y1),this._lastComputeOutBounds.y2=Math.ceil(t.y2-e.height));let n=this.setRectInSpec(SSt(t,e));return this._option.transformLayoutRect&&(n=this._option.transformLayoutRect(n)),n}getModelId(){return this._model.id}getModelVisible(){return this._model.getVisible()}}class VAe extends cq{constructor(){super(...arguments),this.layoutType="normal",this.layoutLevel=0,this.layoutZIndex=0,this._forceLayoutTag=!1,this._layout=null,this._orient=null,this._layoutRect={width:0,height:0},this._layoutStartPos={x:0,y:0},this._isLayout=!0,this.getGraphicBounds=()=>this._layout?{x1:this._layout.getLayoutStartPoint().x,y1:this._layout.getLayoutStartPoint().y,x2:this._layout.getLayoutStartPoint().x+this._layout.getLayoutRect().width,y2:this._layout.getLayoutStartPoint().y+this._layout.getLayoutRect().height}:{x1:0,x2:0,y1:0,y2:0},this._transformLayoutRect=null,this._transformLayoutPosition=null}get layoutOrient(){return this._orient}set layoutOrient(e){this._orient=e,this._layout&&(this._layout.layoutOrient=e)}initLayout(){this.layoutType!=="none"&&(this._layout=new Swt(this,{layoutType:this.layoutType,layoutLevel:this.layoutLevel,layoutOrient:this._orient,transformLayoutRect:this._transformLayoutRect,transformLayoutPosition:this._transformLayoutPosition}),this._orient&&this._orient!=="radius"&&this._orient!=="angle"&&this._layout&&(this._layout.layoutOrient=this._orient))}onLayoutStart(e,t,n){this._isLayout=!0,super.onLayoutStart(e,t,n)}onLayoutEnd(e){super.onLayoutEnd(e),this.updateLayoutAttribute();const t=this.getLayoutRect();!this._forceLayoutTag&&Rr(this._lastLayoutRect,t)||(this._lastLayoutRect=Object.assign({},t)),this._forceLayoutTag=!1,this._isLayout=!1}afterSetLayoutStartPoint(e){}_forceLayout(){var e;this._isLayout||(this._forceLayoutTag=!0,(e=this._option.globalInstance.getChart())===null||e===void 0||e.setLayoutTag(!0))}getLayoutStartPoint(){return this._layout?this._layout.getLayoutStartPoint():this._layoutStartPos}setLayoutStartPosition(e){return this._layout?this._layout.setLayoutStartPosition(e):this._layoutStartPos=Ie(this._layoutStartPos,e)}getLayoutRect(){return this._layout?this._layout.getLayoutRect():this._layoutRect}setLayoutRect(e,t){return this._layout?this._layout.setLayoutRect(e):this._lastLayoutRect=Ie(this._layoutRect,e)}getLastComputeOutBounds(){var e;return(e=this._layout)===null||e===void 0?void 0:e.getLastComputeOutBounds()}setAttrFromSpec(){var e,t,n,r,s;super.setAttrFromSpec(),this.layoutClip=(e=this._spec.clip)!==null&&e!==void 0?e:this.layoutClip,this.layoutZIndex=(t=this._spec.zIndex)!==null&&t!==void 0?t:this.layoutZIndex,this.layoutType=(n=this._spec.layoutType)!==null&&n!==void 0?n:this.layoutType,this._orient=(r=this._spec.orient)!==null&&r!==void 0?r:this._orient,this.layoutLevel=(s=this._spec.layoutLevel)!==null&&s!==void 0?s:this.layoutLevel}}class WAe extends M${_initTheme(e,t){return{spec:e,theme:this._theme}}}class fx extends VAe{getMaxWidth(){return this._layout.maxWidth}setMaxWidth(e){this._layout.maxWidth=e}getMaxHeight(){return this._layout.maxHeight}setMaxHeight(e){this._layout.maxHeight=e}getGroupMark(){return this._groupMark}getInteractionMark(){return this._interactionMark}getStackInverse(){return this._spec.stackInverse===!0}getStackSort(){return this._spec.stackSort===!0}constructor(e,t){var n;super(e,t),this.transformerConstructor=WAe,this.modelType="region",this.specKey="region",this.type=fx.type,this._series=[],this.layoutType="region",this.layoutZIndex=qn.Region,this.interaction=new ywt,this.seriesDataFilterOver=()=>{this.event.emit(Pt.regionSeriesDataFilterOver,{model:this,chart:this.getChart()}),this._series.forEach(r=>{r.getViewDataFilter()&&r.reTransformViewData()})},this.getBoundsInRect=()=>({x1:this._layout.getLayoutStartPoint().x,y1:this._layout.getLayoutStartPoint().y,x2:this._layout.getLayoutStartPoint().x+this._layout.getLayoutRect().width,y2:this._layout.getLayoutStartPoint().y+this._layout.getLayoutRect().height}),this.userId=e.id,this.coordinate=(n=e.coordinate)!==null&&n!==void 0?n:"cartesian",this._option.animation&&(this.animate=new HAe({getCompiler:t.getCompiler})),this.interaction.setDisableActiveEffect(this._option.disableTriggerEvent)}_getClipDefaultValue(){var e,t,n,r;const s=this._option.getChart().getSpec(),a=(t=(e=s.dataZoom)===null||e===void 0?void 0:e.some)===null||t===void 0?void 0:t.call(e,l=>{var u;return((u=l.filterMode)!==null&&u!==void 0?u:"filter")==="axis"}),o=(r=(n=s.scrollBar)===null||n===void 0?void 0:n.some)===null||r===void 0?void 0:r.call(n,l=>{var u;return((u=l.filterMode)!==null&&u!==void 0?u:"axis")==="axis"});return!(!a&&!o)||this._layout.layoutClip}created(){var e;this.initLayout(),super.created();const t=(e=this._spec.clip)!==null&&e!==void 0?e:this._getClipDefaultValue();this._groupMark=this._createGroupMark("regionGroup",this.userId,this.layoutZIndex),this._interactionMark=this._createGroupMark("regionInteractionGroup",this.userId+"_interaction",qn.Interaction),Mt(this._spec.style)||(this._backgroundMark=this._createMark({type:"rect",name:"regionBackground"}),t&&(this._foregroundMark=this._createMark({type:"rect",name:"regionForeground"})),[this._backgroundMark,this._foregroundMark].forEach(n=>{n&&(n.created(),this.setMarkStyle(n,{width:()=>this.getLayoutRect().width,height:()=>this.getLayoutRect().height},"normal",Ve.Built_In),this._groupMark.addMark(n))}),this._backgroundMark&&this._backgroundMark.setZIndex(0),this._foregroundMark&&this._foregroundMark.setZIndex(qn.Mark+1)),this.createTrigger()}_createGroupMark(e,t,n){var r,s;const a=this._createMark({type:"group",name:e});a.setUserId(t),a.setZIndex(n);const o=(r=this._spec.clip)!==null&&r!==void 0?r:this._getClipDefaultValue();return this.setMarkStyle(a,{x:()=>this.getLayoutStartPoint().x,y:()=>this.getLayoutStartPoint().y,width:()=>this.getLayoutRect().width,height:()=>this.getLayoutRect().height,clip:o},"normal",Ve.Built_In),this.setMarkStyle(a,{cornerRadius:(s=this._spec.style)===null||s===void 0?void 0:s.cornerRadius},"normal",Ve.User_Mark),this._marks.addMark(a),a}init(e){super.init(e),this.initMark(),this.initSeriesDataflow(),this.initInteraction(),this.initTrigger()}initMark(){this._initBackgroundMarkStyle(),this._initForegroundMarkStyle()}_initBackgroundMarkStyle(){var e,t;this._backgroundMark&&(this.setMarkStyle(this._backgroundMark,Object.assign({fillOpacity:!((e=this._spec.style)===null||e===void 0)&&e.fill?1:0},this._spec.style),"normal",Ve.User_Mark),((t=this._spec.clip)!==null&&t!==void 0?t:this._getClipDefaultValue())&&this.setMarkStyle(this._backgroundMark,{strokeOpacity:0},"normal",Ve.Built_In))}_initForegroundMarkStyle(){this._foregroundMark&&this.setMarkStyle(this._foregroundMark,Object.assign(Object.assign({},this._spec.style),{fillOpacity:0}),"normal",Ve.User_Mark)}_compareSpec(e,t){const n=super._compareSpec(e,t);return Rr(t==null?void 0:t.style,e==null?void 0:e.style)||(n.reMake=!0),n}reInit(e){super.reInit(e),this._initBackgroundMarkStyle(),this._initForegroundMarkStyle()}addSeries(e){e&&(this._series.includes(e)||this._series.push(e))}removeSeries(e){if(!e)return;const t=this._series.findIndex(n=>n===e);t>=0&&this._series.splice(t,1)}getSeries(e={}){return this._series.filter(t=>{var n,r;return(!e.name||(t==null?void 0:t.name)===e.name)&&(!e.userId||we(e.userId).includes(t.userId))&&(!X(e.specIndex)||we(e.specIndex).includes(t.getSpecIndex()))&&(!e.id||t.id===e.id)&&(!e.type||t.type===e.type)&&(!e.coordinateType||t.coordinate===e.coordinateType)&&(!e.dataName||((r=(n=t.getRawData)===null||n===void 0?void 0:n.call(t))===null||r===void 0?void 0:r.name)===e.dataName)})}getSeriesInName(e){return this.getSeries({name:e})[0]}getSeriesInUserId(e){return this.getSeries({userId:e})[0]}getSeriesInId(e){return this.getSeries({id:e})[0]}getSeriesInType(e){return this.getSeries({type:e})}getSeriesInCoordinateType(e){return this.getSeries({coordinateType:e})}getSeriesInDataName(e){return this.getSeries({dataName:e})}onRender(e){}initSeriesDataflow(){const e=this._series.map(t=>{var n;return(n=t.getViewDataFilter())!==null&&n!==void 0?n:t.getViewData()}).filter(t=>!!t);this._option.dataSet.multipleDataViewAddListener(e,"change",this.seriesDataFilterOver)}release(){super.release(),this._series=[]}createTrigger(){const e=Object.assign(Object.assign({},this._option),{model:this,interaction:this.interaction});this._trigger=new pwt(e)}initTrigger(){this._series.forEach(e=>{e.getMarksWithoutRoot().forEach(t=>{this._trigger.registerMark(t)})}),this._trigger.init()}initInteraction(){this._option.disableTriggerEvent||this._series.forEach(e=>{e.getMarksWithoutRoot().forEach(t=>{for(const n in UE)Mt(t.stateStyle[UE[n]])||this.interaction.registerMark(UE[n],t)})})}compileMarks(e){this.getMarks().forEach(t=>{var n;t.compile({group:e}),(n=t.getProduct())===null||n===void 0||n.configure({context:{model:this}}).layout((r,s,a,o)=>{})})}compile(){var e;(e=this.animate)===null||e===void 0||e.compile(),this.compileMarks()}onLayoutEnd(e){this._series.forEach(t=>t.onLayoutEnd(e)),super.onLayoutEnd(e)}}fx.type="region",fx.transformerConstructor=WAe,fx.specKey="region";function I$(i){const e=[],t=[],n=[];return i.forEach(r=>{Y(r.getSpec().position)||r.getSpec().position==="start"?e.push(r):r.getSpec().position==="middle"?t.push(r):r.getSpec().position==="end"&&n.push(r)}),{startItems:e,endItems:n,middleItems:t}}function UAe(i,e,t){e?i.forEach(n=>{const r=Hv(n),s=r.getLayoutStartPoint().y+r.getLayoutRect().height-n[0].getLayoutStartPoint().y,a=(t-s)/2;n.forEach(o=>{o.setLayoutStartPosition({x:o.getLayoutStartPoint().x,y:o.getLayoutStartPoint().y+a})})}):i.forEach(n=>{const r=Hv(n),s=r.getLayoutStartPoint().x+r.getLayoutRect().width-n[0].getLayoutStartPoint().x,a=(t-s)/2;n.forEach(o=>{o.setLayoutStartPosition({x:o.getLayoutStartPoint().x+a,y:o.getLayoutStartPoint().y})})})}function R$(i,e,t,n){let r;i.forEach((s,a)=>{s.length>1&&(r=t[a],s.forEach(o=>{if(!o.alignSelf||o.alignSelf==="start")return;const l=o.getLayoutStartPoint(),u=o.alignSelf==="middle"?.5:1,c=e?r-(o.getLayoutRect().width+o.layoutPaddingLeft+o.layoutPaddingRight):r-(o.getLayoutRect().height+o.layoutPaddingTop+o.layoutPaddingBottom);e?o.setLayoutStartPosition({x:l.x+n*c*u,y:l.y}):o.setLayoutStartPosition({x:l.x,y:l.y+n*c*u})}))})}function oF(i,e,t,n,r){if(i.length){let s=0;const a=r==="right",o=a?-1:1;let l=a?e.rightCurrent:e.leftCurrent,u=e.topCurrent;const c=[];let d=[];const h=[];i.forEach(p=>{const f=e.getItemComputeLayoutRect(p),g=p.computeBoundsInRect(f);p.setLayoutRect(g);const v=g.height+p.layoutPaddingTop+p.layoutPaddingBottom,m=g.width+p.layoutPaddingLeft+p.layoutPaddingRight,b=a?-g.width-p.layoutPaddingRight:p.layoutPaddingLeft;p.setLayoutStartPosition({x:l+p.layoutOffsetX+b,y:u+p.layoutOffsetY+p.layoutPaddingTop}),u+=v,u>t&&d.length?(h.push(s),l+=o*s,s=m,u=e.topCurrent+v,p.setLayoutStartPosition({x:l+p.layoutOffsetX+b,y:e.topCurrent+p.layoutOffsetY+p.layoutPaddingTop}),c.push(d),d=[p]):(s=Math.max(s,m),d.push(p))}),h.push(s),c.push(d),R$(c,!0,h,o),n&&UAe(c,!0,t),a?e.rightCurrent=l+o*s:e.leftCurrent=l+o*s}}function GAe(i,e,t,n){if(i.length){let r=0;const s=n==="right",a=s?-1:1;let o=s?e.rightCurrent:e.leftCurrent,l=e.bottomCurrent;const u=[];let c=[];const d=[];i.forEach(h=>{const p=e.getItemComputeLayoutRect(h),f=h.computeBoundsInRect(p);h.setLayoutRect(f);const g=f.height+h.layoutPaddingTop+h.layoutPaddingBottom,v=f.width+h.layoutPaddingLeft+h.layoutPaddingRight,m=s?-f.width-h.layoutPaddingRight:h.layoutPaddingLeft;l<g&&c.length?(d.push(r),o+=a*r,r=v,l=e.bottomCurrent,h.setLayoutStartPosition({x:o+h.layoutOffsetX+m,y:l+h.layoutOffsetY-f.height-h.layoutPaddingBottom}),u.push(c),c=[h]):(h.setLayoutStartPosition({x:o+h.layoutOffsetX+m,y:l+h.layoutOffsetY-f.height-h.layoutPaddingBottom}),r=Math.max(r,v),l-=g,c.push(h))}),d.push(r),u.push(c),R$(u,!0,d,a),s?e.rightCurrent=o+a*r:e.leftCurrent=o+a*r}}function lF(i,e,t,n,r){if(i.length){const s=r==="top",a=s?1:-1;let o=0,l=e.leftCurrent,u=s?e.topCurrent:e.bottomCurrent;const c=[];let d=[];const h=[];i.forEach(p=>{const f=e.getItemComputeLayoutRect(p),g=p.computeBoundsInRect(f);p.setLayoutRect(g);const v=g.height+p.layoutPaddingTop+p.layoutPaddingBottom,m=g.width+p.layoutPaddingLeft+p.layoutPaddingRight,b=s?p.layoutPaddingTop:-g.height-p.layoutPaddingBottom;p.setLayoutStartPosition({x:l+p.layoutOffsetX+p.layoutPaddingLeft,y:u+p.layoutOffsetY+b}),l+=m,l>t&&d.length?(h.push(o),l=e.leftCurrent+m,u+=a*o,o=v,p.setLayoutStartPosition({x:e.leftCurrent+p.layoutOffsetX+p.layoutPaddingLeft,y:u+p.layoutOffsetY+b}),c.push(d),d=[p]):(o=Math.max(o,v),d.push(p))}),h.push(o),c.push(d),R$(c,!1,h,a),n&&UAe(c,!1,t),s?e.topCurrent=u+a*o:e.bottomCurrent=u+a*o}}function YAe(i,e,t,n){if(i.length){const r=n==="top",s=r?1:-1;let a=0,o=e.rightCurrent,l=r?e.topCurrent:e.bottomCurrent;const u=[];let c=[];const d=[];i.forEach(h=>{const p=e.getItemComputeLayoutRect(h),f=h.computeBoundsInRect(p);h.setLayoutRect(f);const g=f.height+h.layoutPaddingTop+h.layoutPaddingBottom,v=f.width+h.layoutPaddingLeft+h.layoutPaddingRight,m=r?h.layoutPaddingTop:-f.height-h.layoutPaddingBottom;o<v&&c.length?(o=e.rightCurrent,l+=s*a,a=g,h.setLayoutStartPosition({x:e.rightCurrent+h.layoutOffsetX-f.width-h.layoutPaddingRight,y:l+h.layoutOffsetY+m}),u.push(c),c=[h]):(c.push(h),h.setLayoutStartPosition({x:o+h.layoutOffsetX-f.width-h.layoutPaddingRight,y:l+h.layoutOffsetY+m}),a=Math.max(a,g),o-=v)}),d.push(a),u.push(c),R$(u,!1,d,s),r?e.topCurrent=l+s*a:e.bottomCurrent=l+s*a}}function xwt(i,e,t){const{startItems:n,middleItems:r,endItems:s}=I$(i);n.length&&oF(n,e,t,!1,"left"),r.length&&oF(r,e,t,!0,"left"),s.length&&GAe(s,e,t,"left")}function wwt(i,e,t){const{startItems:n,middleItems:r,endItems:s}=I$(i);n.length&&oF(n,e,t,!1,"right"),r.length&&oF(r,e,t,!0,"right"),s.length&&GAe(s,e,t,"right")}function Cwt(i,e,t){const{startItems:n,middleItems:r,endItems:s}=I$(i);n.length&&lF(n,e,t,!1,"top"),r.length&&lF(r,e,t,!0,"top"),s.length&&YAe(s,e,t,"top")}function kwt(i,e,t){const{startItems:n,middleItems:r,endItems:s}=I$(i);n.length&&lF(n,e,t,!1,"bottom"),r.length&&lF(r,e,t,!0,"bottom"),s.length&&YAe(s,e,t,"bottom")}let dq=class{constructor(e,t){this.leftCurrent=0,this.topCurrent=0,this.rightCurrent=0,this.bottomCurrent=0,this._onError=t==null?void 0:t.onError}_layoutInit(e,t,n,r){this._chartLayoutRect=n,this._chartViewBox=r,this.leftCurrent=n.x,this.topCurrent=n.y,this.rightCurrent=n.x+n.width,this.bottomCurrent=n.height+n.y,t.sort((s,a)=>a.layoutLevel-s.layoutLevel)}_layoutNormalItems(e){this.layoutNormalInlineItems(e.filter(t=>t.layoutType==="normal-inline")),this.layoutNormalItems(e.filter(t=>t.layoutType==="normal"))}_groupItems(e){const t=e.filter(o=>o.layoutType==="region"),n=e.filter(o=>o.layoutType==="region-relative"),r=e.filter(o=>o.layoutType==="region-relative-overlap"),s=n.concat(r),a={left:{items:[],rect:{width:0,height:0}},right:{items:[],rect:{width:0,height:0}},top:{items:[],rect:{width:0,height:0}},bottom:{items:[],rect:{width:0,height:0}},z:{items:[],rect:{width:0,height:0}}};return r.forEach(o=>{a[o.layoutOrient].items.push(o)}),{regionItems:t,relativeItems:n,relativeOverlapItems:r,allRelatives:s,overlapItems:a}}layoutItems(e,t,n,r){this._layoutInit(e,t,n,r),this._layoutNormalItems(t);const s={left:this.leftCurrent,top:this.topCurrent,right:this.rightCurrent,bottom:this.bottomCurrent},{regionItems:a,relativeItems:o,relativeOverlapItems:l,allRelatives:u,overlapItems:c}=this._groupItems(t);this.layoutRegionItems(a,o,l,c),this._processAutoIndent(a,o,l,c,u,s),this.layoutAbsoluteItems(t.filter(d=>d.layoutType==="absolute"))}_processAutoIndent(e,t,n,r={left:{items:[],rect:{width:0,height:0}},right:{items:[],rect:{width:0,height:0}},top:{items:[],rect:{width:0,height:0}},bottom:{items:[],rect:{width:0,height:0}},z:{items:[],rect:{width:0,height:0}}},s,a){if(s.some(o=>o.autoIndent)){const{top:o,bottom:l,left:u,right:c}=this._checkAutoIndent(s,a);(o||l||u||c)&&(this.topCurrent=a.top+o,this.bottomCurrent=a.bottom-l,this.leftCurrent=a.left+u,this.rightCurrent=a.right-c,this.layoutRegionItems(e,t,n,r))}}layoutNormalItems(e){e.forEach(t=>{const n=this.getItemComputeLayoutRect(t),r=t.computeBoundsInRect(n);t.setLayoutRect(r),t.layoutOrient==="left"?(t.setLayoutStartPosition({x:this.leftCurrent+t.layoutOffsetX+t.layoutPaddingLeft,y:this.topCurrent+t.layoutOffsetY+t.layoutPaddingTop}),this.leftCurrent+=r.width+t.layoutPaddingLeft+t.layoutPaddingRight):t.layoutOrient==="top"?(t.setLayoutStartPosition({x:this.leftCurrent+t.layoutOffsetX+t.layoutPaddingLeft,y:this.topCurrent+t.layoutOffsetY+t.layoutPaddingTop}),this.topCurrent+=r.height+t.layoutPaddingTop+t.layoutPaddingBottom):t.layoutOrient==="right"?(t.setLayoutStartPosition({x:this.rightCurrent+t.layoutOffsetX-r.width-t.layoutPaddingRight,y:this.topCurrent+t.layoutOffsetY+t.layoutPaddingTop}),this.rightCurrent-=r.width+t.layoutPaddingLeft+t.layoutPaddingRight):t.layoutOrient==="bottom"&&(t.setLayoutStartPosition({x:this.leftCurrent+t.layoutOffsetX+t.layoutPaddingRight,y:this.bottomCurrent+t.layoutOffsetY-r.height-t.layoutPaddingBottom}),this.bottomCurrent-=r.height+t.layoutPaddingTop+t.layoutPaddingBottom)})}layoutNormalInlineItems(e){const t=e.filter(l=>l.layoutOrient==="left"),n=e.filter(l=>l.layoutOrient==="right"),r=e.filter(l=>l.layoutOrient==="top"),s=e.filter(l=>l.layoutOrient==="bottom"),a=this._chartLayoutRect.width+this._chartLayoutRect.x,o=this._chartLayoutRect.height+this._chartLayoutRect.y;t.length&&xwt(t,this,o),r.length&&Cwt(r,this,a),n.length&&wwt(n,this,o),s.length&&kwt(s,this,a)}_layoutRelativeOverlap(e,t){t.items.forEach(n=>{const r=this.getItemComputeLayoutRect(n),s=n.computeBoundsInRect(r);t.rect.width=Math.max(s.width+n.layoutPaddingLeft+n.layoutPaddingRight,t.rect.width),t.rect.height=Math.max(s.height+n.layoutPaddingTop+n.layoutPaddingBottom,t.rect.height)}),t.items.forEach(n=>{n.setLayoutRect(t.rect),e==="left"?n.setLayoutStartPosition({x:this.leftCurrent+n.layoutOffsetX}):e==="right"?n.setLayoutStartPosition({x:this.rightCurrent-t.rect.width+n.layoutOffsetX}):e==="top"?n.setLayoutStartPosition({x:this.topCurrent+n.layoutOffsetY}):n.setLayoutStartPosition({x:this.bottomCurrent-t.rect.height+n.layoutOffsetY})}),e==="left"?this.leftCurrent+=t.rect.width:e==="right"?this.rightCurrent-=t.rect.width:e==="top"?this.topCurrent+=t.rect.height:this.bottomCurrent-=t.rect.height}_layoutRelativeItem(e,t){const n=e.computeBoundsInRect(t);e.layoutOrient==="left"||e.layoutOrient==="right"?e.setLayoutRect({width:n.width}):e.setLayoutRect({height:n.height}),e.layoutOrient==="left"?(e.setLayoutStartPosition({x:this.leftCurrent+e.layoutOffsetX+e.layoutPaddingLeft}),this.leftCurrent+=n.width+e.layoutPaddingLeft+e.layoutPaddingRight):e.layoutOrient==="right"?(this.rightCurrent-=n.width+e.layoutPaddingLeft+e.layoutPaddingRight,e.setLayoutStartPosition({x:this.rightCurrent+e.layoutOffsetX+e.layoutPaddingLeft})):e.layoutOrient==="top"?(e.setLayoutStartPosition({y:this.topCurrent+e.layoutOffsetY+e.layoutPaddingTop}),this.topCurrent+=n.height+e.layoutPaddingTop+e.layoutPaddingBottom):e.layoutOrient==="bottom"&&(this.bottomCurrent-=n.height+e.layoutPaddingTop+e.layoutPaddingBottom,e.setLayoutStartPosition({y:this.bottomCurrent+e.layoutOffsetY+e.layoutPaddingTop}))}_layoutRegionItem(e,t,n){const r=Math.max(Math.min(t,...e.map(a=>{var o;return(o=a.maxWidth)!==null&&o!==void 0?o:Number.MAX_VALUE})),0),s=Math.max(Math.min(n,...e.map(a=>{var o;return(o=a.maxHeight)!==null&&o!==void 0?o:Number.MAX_VALUE})),0);return e.forEach(a=>{a.setLayoutRect({width:r,height:s}),a.setLayoutStartPosition({x:this.leftCurrent+a.layoutOffsetX+a.layoutPaddingLeft,y:this.topCurrent+a.layoutOffsetY+a.layoutPaddingTop})}),{regionHeight:s,regionWidth:r}}layoutRegionItems(e,t,n,r={left:{items:[],rect:{width:0,height:0}},right:{items:[],rect:{width:0,height:0}},top:{items:[],rect:{width:0,height:0}},bottom:{items:[],rect:{width:0,height:0}},z:{items:[],rect:{width:0,height:0}}}){let s=this.rightCurrent-this.leftCurrent,a=this.bottomCurrent-this.topCurrent;t.filter(u=>u.layoutOrient==="left"||u.layoutOrient==="right").forEach(u=>{this._layoutRelativeItem(u,this.getItemComputeLayoutRect(u))}),this._layoutRelativeOverlap("left",r.left),this._layoutRelativeOverlap("right",r.right),s=this.rightCurrent-this.leftCurrent,t.filter(u=>u.layoutOrient==="top"||u.layoutOrient==="bottom").forEach(u=>{this._layoutRelativeItem(u,this.getItemComputeLayoutRect(u))}),this._layoutRelativeOverlap("top",r.top),this._layoutRelativeOverlap("bottom",r.bottom),a=this.bottomCurrent-this.topCurrent;const{regionWidth:o,regionHeight:l}=this._layoutRegionItem(e,s,a);t.concat(n).forEach(u=>{if(["left","right"].includes(u.layoutOrient)){const c=this.filterRegionsWithID(e,u.layoutBindRegionID[0]);u.setLayoutRect({height:c.getLayoutRect().height}),u.setLayoutStartPosition({y:c.getLayoutStartPoint().y+u.layoutOffsetY+u.layoutPaddingTop}),u.layoutOrient==="right"&&u.setLayoutStartPosition({x:u.getLayoutStartPoint().x+o-s})}else if(["top","bottom"].includes(u.layoutOrient)){const c=this.filterRegionsWithID(e,u.layoutBindRegionID[0]);u.setLayoutRect({width:c.getLayoutRect().width}),u.setLayoutStartPosition({x:c.getLayoutStartPoint().x+u.layoutOffsetX+u.layoutPaddingLeft}),u.layoutOrient==="bottom"&&u.setLayoutStartPosition({y:u.getLayoutStartPoint().y+l-a})}})}layoutAbsoluteItems(e){e.forEach(t=>{t.absoluteLayoutInRect(this._chartLayoutRect)})}filterRegionsWithID(e,t){var n;const r=e.find(s=>s.getModelId()===t);return r||((n=this._onError)!==null&&n!==void 0?n:H_)("can not find target region item, invalid id"),r}getItemComputeLayoutRect(e){return{width:this.rightCurrent-this.leftCurrent-e.layoutPaddingLeft-e.layoutPaddingRight,height:this.bottomCurrent-this.topCurrent-e.layoutPaddingTop-e.layoutPaddingBottom}}_checkAutoIndent(e,t){const n={top:0,left:0,bottom:0,right:0};return e.forEach(r=>{if(!r.getModelVisible()||!r.autoIndent)return;const s=r.layoutOrient==="left"||r.layoutOrient==="right",a=r.getLastComputeOutBounds(),o=this._getOutInLayout(a,r,t);s?(n.top=Math.max(n.top,o.top),n.bottom=Math.max(n.bottom,o.bottom)):(n.left=Math.max(n.left,o.left),n.right=Math.max(n.right,o.right))}),n}_getOutInLayout(e,t,n){const{x:r,y:s}=t.getLayoutStartPoint(),{width:a,height:o}=t.getLayoutRect();return{left:n.left-(r-e.x1),right:r+a+e.x2-n.right,top:n.top-(s-e.y1),bottom:s+o+e.y2-n.bottom}}};dq.type="base";const Ewt=["line","area","trail"];function e8(i){return Ewt.includes(i)}class Awt extends zAe{getStateInfoList(){return this._stateInfoList}constructor(e,t){super(e),this._stateInfoList=[],this._mark=t}_getDefaultStateMap(){return{markUpdateRank:1}}getStateInfo(e){return this._stateInfoList.find(t=>t.stateValue===e)}addStateInfo(e){if(this.getStateInfo(e.stateValue))return;e.level=e.level||0;let t=!0;for(let n=0;n<this._stateInfoList.length;n++){const r=this._stateInfoList[n].level;if(r&&r>e.level){this._stateInfoList.splice(n,0,e),t=!1;break}}t&&this._stateInfoList.push(e)}_clearStateBeforeSet(e){e.datums=null,e.items=null,e.fields=null,e.filter=null}changeStateInfo(e){const t=this.getStateInfo(e.stateValue);if(t){if(e.datums!==void 0&&(this._clearStateBeforeSet(t),t.datums=e.datums,t.datumKeys=e.datumKeys),e.items!==void 0&&(this._clearStateBeforeSet(t),t.items=e.items),e.fields!==void 0)if(this._clearStateBeforeSet(t),e.fields===null)t.fields=e.fields;else{t.fields=t.fields||{};for(const n in e.fields){const r=e.fields[n];t.fields[n]=t.fields[n]||{};const s=t.fields[n];X(r.domain)&&(s.domain=r.domain),X(r.type)&&(s.type=r.type)}}e.filter&&(this._clearStateBeforeSet(t),t.filter=e.filter)}else this.addStateInfo(e)}clearStateInfo(e){e.forEach(t=>{this.getStateInfo(t)&&this.changeStateInfo({stateValue:t,datumKeys:null,datums:null,fields:null,items:null,filter:null,cache:{}})})}checkOneState(e,t,n,r){var s;r=Ir(e8)?r:!e.mark||e8(e.mark.markType);let a=!1,o=!1;if(X(n.datums)&&n.datums.length>0)a=this.checkDatumState(n,t,r),o=!0;else if(n.items)a=(s=this.checkItemsState(n,e))!==null&&s!==void 0&&s,o=!0;else if(n.fields)a=this.checkFieldsState(n,t,e,r),o=!0;else if(!a&&n.filter){const l={mark:this._mark,renderNode:e,type:e.mark.markType};a=n.filter(t,l),o=!0}return o?a?"in":"out":"skip"}checkState(e,t){const n=e.getStates().filter(s=>mwt(s)).map(s=>[s,10]),r=!e.mark||e8(e.mark.markType);for(let s=0;s<this._stateInfoList.length;s++){const a=this._stateInfoList[s],o=this.checkOneState(e,t,a,r);o!=="skip"&&o==="in"&&n.push([a.stateValue,a.level])}return n.map(s=>s[0])}checkDatumState(e,t,n){let r=!1;const s=n?t[0]:t;if(ke(e.datums)){const a=e.datumKeys||Object.keys(e.datums[0]).filter(o=>!o.startsWith(Ut));r=e.datums.some(o=>n&&ke(o==null?void 0:o.items)?a.every(l=>{var u,c;return((c=(u=o==null?void 0:o.items)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c[l])===(s==null?void 0:s[l])}):a.every(l=>(o==null?void 0:o[l])===(s==null?void 0:s[l])))}else yi(e.datums)?r=(e.datumKeys||Object.keys(e.datums).filter(a=>!a.startsWith(Ut))).every(a=>{var o,l;return n?((o=e.datums.items)===null||o===void 0?void 0:o[0][a])===s[a]:((l=e.datums)===null||l===void 0?void 0:l[a])===s[a]}):r=t===e.datums;return r}checkItemsState(e,t){var n;return(n=e.items)===null||n===void 0?void 0:n.includes(t)}checkFieldsState(e,t,n,r){var s;let a=!0;for(const o in e.fields){const l=e.fields[o],u=l.type,c=l.domain,d=r?(s=t[0])===null||s===void 0?void 0:s[o]:t[o];if(Ln(u)&&c.length>1){if(this.checkLinearFieldState(c,o,t,n,r)){a=!1;break}a=!0}else{if(!c.some(h=>h===d)){a=!1;break}a=!0}}return a}checkLinearFieldState(e,t,n,r,s){var a;const o=s?(a=n[0])===null||a===void 0?void 0:a[t]:n[t];return o<e[0]||o>e[e.length-1]}updateLayoutState(e){return this._stateMap.markUpdateRank++,this.updateState({markUpdateRank:this._stateMap.markUpdateRank},e)}compileState(e,t){e.state({callback:(n,r)=>this.checkState(r,n)},t)}}class Cf extends uq{getDataView(){return this._data}setDataView(e){this._data=e}getLatestData(){var e;return(e=this._data)===null||e===void 0?void 0:e.latestData}constructor(e,t){super(e),this.grammarType=qv.data,this._data=null,this._data=t}release(){super.release(),this._data=null}updateData(e){const t=this.getProduct(),n=this.getLatestData();if(t&&n&&(t.values(n),!e))return this.getCompiler().renderNextTick()}_compileProduct(){const e=this.getLatestData();Y(e)||(Y(this.getProduct())?this._initProduct(e):this._product.values(e))}_initProduct(e){var t,n;const r=this.getVGrammarView();if(!r||!e)return;const s=this.getProductId();this._product=(n=(t=r==null?void 0:r.data)===null||t===void 0?void 0:t.call(r,e))===null||n===void 0?void 0:n.id(s),this._compiledProductId=s}generateProductId(){var e;return`${(e=this.getDataView())===null||e===void 0?void 0:e.name}`}_lookupGrammar(e){var t,n;return(n=(t=this.getCompiler().getVGrammarView())===null||t===void 0?void 0:t.getDataById)===null||n===void 0?void 0:n.call(t,e)}}class Twt extends Cf{constructor(e){super(e),this._mark=e.mark}setCompiledProductId(e){this._compiledProductId=e}generateProductId(){const e=super.generateProductId();return X(e)?e:`${Ut}_markData_${this._mark.id}`}_compileProduct(){var e;const t=(e=this._data)===null||e===void 0?void 0:e.latestData;Y(t)||X(this.getProduct())||this._initProduct(t)}}var Mde=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};class Pwt extends uq{getSkipTheme(){return this._skipTheme}setSkipTheme(e){this._skipTheme=e}getSupport3d(){return this._support3d}setSupport3d(e){this._support3d=e}getFacet(){return this._facet}setFacet(e){this._facet=e}getInteractive(){return this._interactive}setInteractive(e){this._interactive=e}getZIndex(){return this._zIndex}setZIndex(e){this._zIndex=e}getVisible(){return this._visible}setVisible(e){this._visible=e}getUserId(){return this._userId}setUserId(e){X(e)&&(this._userId=e)}getDataView(){var e;return(e=this._data)===null||e===void 0?void 0:e.getDataView()}setDataView(e,t){Y(this._data)&&this.initMarkData(Object.assign(Object.assign({},this._option),{mark:this})),X(t)&&this._data.setCompiledProductId(t),this._data.setDataView(e)}getData(){return this._data}setData(e){this._data=e}hasState(e){return e in this.state.getStateMap()}getState(e){return this.state.getStateMap()[e]}getAnimationConfig(){return this._animationConfig}setAnimationConfig(e){this._animationConfig=e}setSkipBeforeLayouted(e){this._skipBeforeLayouted=e}getSkipBeforeLayouted(){return this._skipBeforeLayouted}getMorph(){return this._morph}setMorph(e){this._morph=e}getMorphKey(){return this._morphKey}setMorphKey(e){this._morphKey=e}getMorphElementKey(){return this._morphElementKey}setMorphElementKey(e){this._morphElementKey=e}getGroupKey(){return this._groupKey}setGroupKey(e){this._groupKey=e}getProgressiveConfig(){return this._progressiveConfig}setProgressiveConfig(e){this._progressiveConfig=e}setCustomizedShapeCallback(e){this._setCustomizedShape=e}setEnableSegments(e){this._enableSegments=e}getClip(){return this._clip}setClip(e){this._clip=e}setStateSortCallback(e){this._stateSort=e}constructor(e,t,n){super(e),this.grammarType=qv.mark,this.type=void 0,this.name="mark",this._interactive=!0,this._zIndex=qn.Mark,this._visible=!0,this.stateStyle={},this._unCompileChannel={},this._skipBeforeLayouted=!1,this._morph=!1,this.name=t,this.model=n,this.key=e.key,this.state=new Awt(Object.assign(Object.assign({},e),{stateKeyToSignalName:this.stateKeyToSignalName.bind(this)}),this),this._option.support3d&&this.setSupport3d(!0),this._option.skipTheme&&this.setSkipTheme(!0),this._event=new T$(n.getOption().eventDispatcher,n.getOption().mode)}setTransform(e){this._transform=e}initMarkData(e){this._data=new Twt(e)}stateKeyToSignalName(e){return`${Ut}_${this.type}_${this.id}_${e}`}getAttribute(e,t,n,r){}_compileProduct(e){const t=this.getProduct();if(!this.getVisible())return void(X(t)&&this.removeProduct());X(t)||this.getCompiler().isInited&&(this._initProduct(e==null?void 0:e.group),Y(this._product)||(this.compileSignal(),this.compileData(),this.compileState(),this.compileEncode(),this.compileAnimation(),this.compileContext(),this.compileTransform()))}_initProduct(e){const t=this.getVGrammarView(),n=this.getProductId();this._product=t.mark(this.type,e??t.rootMark).id(n),this._compiledProductId=n}generateProductId(){return this._userId?`${this._userId}`:`${this.name}_${this.id}`}compileData(){var e;if(Y(this._data))return;this._data.compile();const t=this._data.getProduct();X(this._product)&&X(t)&&this._product.join(t,this.key,void 0,(e=this._groupKey)!==null&&e!==void 0?e:this._facet)}updateStaticEncode(){if(!this._product)return;const{enterStyles:e,updateStyles:t}=this._separateStyle();this._product.encodeState("group",e,!0),this._product.encode(t,!0)}_separateStyle(){const e=this.stateStyle,t=mt.STATE_NORMAL,n=e[t],r=(Mde(e,[typeof t=="symbol"?t:t+""]),this._option.noSeparateStyle?null:{}),s={};return Object.keys(n).forEach(a=>{this._unCompileChannel[a]||(this._option.noSeparateStyle||fwt(a,n,this.getFacet())?s[a]={callback:this.compileCommonAttributeCallback(a,"normal"),dependency:[this.stateKeyToSignalName("markUpdateRank")]}:r[a]=this.compileCommonAttributeCallback(a,"normal"))}),{enterStyles:r,updateStyles:s}}compileEncode(){const e=this.stateStyle,t=mt.STATE_NORMAL,n=(e[t],Mde(e,[typeof t=="symbol"?t:t+""])),{enterStyles:r,updateStyles:s}=this._separateStyle();this._product.encode(s,!0),this._product.encodeState("group",r,!0),Object.keys(n).forEach(a=>{const o={};Object.keys(n[a]).forEach(l=>{this._unCompileChannel[l]||(o[l]={callback:this.compileCommonAttributeCallback(l,a),dependency:[this.stateKeyToSignalName("markUpdateRank")]})}),this._product.encodeState(a,o,!0)}),this._skipBeforeLayouted&&this._product.layout({skipBeforeLayouted:this._skipBeforeLayouted})}compileState(){this.state.compileState(this._product,this._stateSort)}compileAnimation(){var e,t,n,r;if(this._animationConfig){let s;if(this.type==="component")s=(e=this.model.animate)===null||e===void 0?void 0:e.getAnimationStateSignalName();else{const a=(n=(t=this.model).getRegion)===null||n===void 0?void 0:n.call(t);s=(r=a==null?void 0:a.animate)===null||r===void 0?void 0:r.getAnimationStateSignalName()}this._product.animation(this._animationConfig),this._product.animationState({callback:(a,o,l)=>{var u;return(u=l[s])===null||u===void 0?void 0:u.callback(a,o)},dependency:s}),this._animationConfig.normal&&this._event.on(At.ANIMATION_END,({event:a})=>{a.mark===this.getProduct()&&a.animationState===Oa.appear&&this.runAnimationByState(Oa.normal)})}}compileContext(){const e={interactive:this.getInteractive(),zIndex:this.getZIndex(),context:{markId:this.id,modelId:this.model.id,markUserId:this._userId,modelUserId:this.model.userId},skipTheme:this.getSkipTheme(),support3d:this.getSupport3d(),enableSegments:!!this._enableSegments,clip:!!this._clip||this._clip!==!1&&void 0,clipPath:this._clip||void 0};this._progressiveConfig&&(e.progressiveStep=this._progressiveConfig.progressiveStep,e.progressiveThreshold=this._progressiveConfig.progressiveThreshold,e.large=this._progressiveConfig.large,e.largeThreshold=this._progressiveConfig.largeThreshold),this._morph&&this._morphKey&&(e.morph=this._morph,e.morphKey=this._morphKey,e.morphElementKey=this._morphElementKey),this._setCustomizedShape&&(e.setCustomizedShape=this._setCustomizedShape),this._product.configure(e)}compileSignal(){this.state.compile()}_computeAttribute(e,t){return(n,r)=>{}}compileCommonAttributeCallback(e,t){const n=this._computeAttribute(e,t),r={mark:null,parent:null,element:null};return(s,a)=>(r.mark=a.mark,r.parent=a.mark.group,r.element=a,n(s,r))}compileTransform(){var e;!((e=this._transform)===null||e===void 0)&&e.length&&this.getProduct().transform(this._transform)}_lookupGrammar(e){var t;return(t=this.getCompiler().getVGrammarView())===null||t===void 0?void 0:t.getMarkById(e)}updateState(e,t){return this.state.updateState(e,t)}updateLayoutState(e,t){return t&&this.getMarks().length>0&&this.getMarks().forEach(n=>n.state.updateLayoutState(!0)),this.state.updateLayoutState(e)}updateMarkState(e){if(!this._product)return;const t=this.state.getStateInfo(e);this._product.elements.forEach(n=>{this.state.checkOneState(n,n.getDatum(),t)==="in"?n.addState(e):n.removeState(e)})}getMarks(){return[]}runAnimationByState(e){var t,n;return(n=(t=this.getProduct())===null||t===void 0?void 0:t.animate)===null||n===void 0?void 0:n.runAnimationByState(e)}stopAnimationByState(e){var t,n;return(n=(t=this.getProduct())===null||t===void 0?void 0:t.animate)===null||n===void 0?void 0:n.stopAnimationByState(e)}pauseAnimationByState(e){var t,n;return(n=(t=this.getProduct())===null||t===void 0?void 0:t.animate)===null||n===void 0?void 0:n.pauseAnimationByState(e)}resumeAnimationByState(e){var t,n;return(n=(t=this.getProduct())===null||t===void 0?void 0:t.animate)===null||n===void 0?void 0:n.resumeAnimationByState(e)}getProductElements(){const e=this.getProduct();if(e)return e.elements}release(){super.release(),this.state.release()}}var Ide=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};class Xo extends Pwt{constructor(e,t){var n;super(t,e,t.model),this._extensionChannel={},this._computeExChannel={},this._attributeContext=t.attributeContext,(n=t.map)===null||n===void 0||n.set(this.id,this)}created(){this._initStyle()}initStyleWithSpec(e,t){e&&(X(e.id)&&(this._userId=e.id),Ir(e.interactive)&&(this._interactive=e.interactive),X(e.zIndex)&&this.setZIndex(e.zIndex),Ir(e.visible)&&this.setVisible(e.visible),this._initSpecStyle(e,this.stateStyle,t))}_transformStyleValue(e,t){if(e.scale){const n=e.scale,r=n.range();return n.range(r.map(t)),e}return typeof e=="function"?(...n)=>t(e(...n)):t(e)}convertAngleToRadian(e){return this._transformStyleValue(e,Pn)}isUserLevel(e){return[Ve.User_Mark,Ve.User_Series,Ve.User_Chart].includes(e)}setStyle(e,t="normal",n=0,r=this.stateStyle){if(Y(e))return;r[t]===void 0&&(r[t]={});const s=this.isUserLevel(n);Object.keys(e).forEach(a=>{let o=e[a];Y(o)||(o=this._filterAttribute(a,o,t,n,s,r),this.setAttribute(a,o,t,n,r))})}getStyle(e,t="normal"){var n;return(n=this.stateStyle[t][e])===null||n===void 0?void 0:n.style}_filterAttribute(e,t,n,r,s,a=this.stateStyle){let o=this._styleConvert(t);if(s)switch(e){case"angle":o=this.convertAngleToRadian(o);break;case"innerPadding":case"outerPadding":o=this._transformStyleValue(o,l=>-l)}return o}setReferer(e,t,n,r=this.stateStyle){var s;if(e)if(t&&n){const a=(s=r[n])!==null&&s!==void 0?s:{[t]:{}};r[n][t]=Object.assign(Object.assign({},a[t]),{referer:e})}else Object.entries(r).forEach(([a,o])=>{Object.entries(o).forEach(([l,u])=>{r[a][l].referer=e})})}setPostProcess(e,t,n="normal"){var r;!((r=this.stateStyle[n])===null||r===void 0)&&r[e]&&(this.stateStyle[n][e].postProcess=t)}getAttribute(e,t,n="normal",r){return this._computeAttribute(e,n)(t,r)}setAttribute(e,t,n="normal",r=0,s=this.stateStyle){var a;s[n]===void 0&&(s[n]={}),s[n][e]===void 0&&(s[n][e]={level:r,style:t,referer:void 0});const o=(a=s[n][e])===null||a===void 0?void 0:a.level;X(o)&&o<=r&&Rt(s[n][e],{style:t,level:r}),n!=="normal"&&e in this._extensionChannel&&this._extensionChannel[e].forEach(l=>{s[n][l]===void 0&&(s[n][l]=s.normal[l])})}_getDefaultStyle(){return{visible:!0,x:0,y:0}}_styleConvert(e){if(!e)return e;if(SW(e.type)||e.scale){const t=ySt(e,{globalScale:this._option.globalScale,seriesId:this._option.seriesId});if(t)return{scale:t,field:e.field,changeDomain:e.changeDomain}}return e}_computeAttribute(e,t){var n;let r=(n=this.stateStyle[t])===null||n===void 0?void 0:n[e];r||(r=this.stateStyle.normal[e]);const s=this._computeStateAttribute(r,e,t),a=Pe(r==null?void 0:r.postProcess),o=e in this._computeExChannel;if(a&&o){const l=this._computeExChannel[e];return(u,c)=>{let d=s(u,c);return d=r.postProcess(d,u,this._attributeContext,c,this.getDataView()),l(e,u,t,c,d)}}if(a)return(l,u)=>r.postProcess(s(l,u),l,this._attributeContext,u,this.getDataView());if(o){const l=this._computeExChannel[e];return(u,c)=>l(e,u,t,c,s(u,c))}return s}_computeStateAttribute(e,t,n){var r;return e?e.referer?e.referer._computeAttribute(t,n):e.style?typeof e.style=="function"?(s,a)=>e.style(s,this._attributeContext,a,this.getDataView()):ude.includes(e.style.gradient)?this._computeGradientAttr(e.style):["outerBorder","innerBorder"].includes(t)?this._computeBorderAttr(e.style):SW((r=e.style.scale)===null||r===void 0?void 0:r.type)?(s,a)=>e.style.scale.scale(s[e.style.field]):(s,a)=>e.style:(s,a)=>e.style:(s,a)=>{}}_initStyle(){const e=this._getDefaultStyle();this.setStyle(e,"normal",0)}_initSpecStyle(e,t,n){e.style&&this.setStyle(e.style,"normal",Ve.User_Mark,t);const r=e.state;r&&Object.keys(r).forEach(s=>{const a=r[s];if("style"in a){const o=a.style;let l={stateValue:s};"level"in a&&(l.level=a.level),"filter"in a&&(l=Pe(a.filter)?Object.assign({filter:a.filter},l):Object.assign(Object.assign({},a.filter),l)),this.state.addStateInfo(l),this.setStyle(o,s,Ve.User_Mark,t)}else this.setStyle(a,s,Ve.User_Mark,t)})}_computeGradientAttr(e){var t,n;const{gradient:r,scale:s,field:a}=e,o=Ide(e,["gradient","scale","field"]);let l=s,u=a;if(!(s&&a||this.model.modelType!=="series")){const{scale:h,field:p}=this.model.getColorAttribute();s||(l=h),u||(u=p)}const c=NW(HT(this.model.getColorScheme(),this.model.modelType==="series"?(n=(t=this.model).getSpec)===null||n===void 0?void 0:n.call(t):void 0),this.model.getDefaultColorDomain()),d=Object.assign(Object.assign({},uSt[r]),o);return(h,p)=>{const f={},g=this.getDataView();return Object.keys(d).forEach(v=>{const m=d[v];v==="stops"?f.stops=m.map(b=>{const{opacity:_,color:S,offset:C}=b;let k=S??(l==null?void 0:l.scale(h[u]));return Pe(S)&&(k=S(h,this._attributeContext,p,g)),X(_)&&(k=oa.SetOpacity(k,_)),{offset:Pe(C)?C(h,this._attributeContext,p,g):C,color:k||c[0]}}):Pe(m)?f[v]=m(h,this._attributeContext,p,g):f[v]=m}),f.gradient=r,f}}_computeBorderAttr(e){const{scale:t,field:n}=e,r=Ide(e,["scale","field"]);return(s,a)=>{var o,l,u;const c={};if(Object.keys(r).forEach(d=>{const h=r[d];Pe(h)?c[d]=h(s,this._attributeContext,a,this.getDataView()):c[d]=h}),"stroke"in c)ude.includes((u=r.stroke)===null||u===void 0?void 0:u.gradient)&&(c.stroke=this._computeGradientAttr(r.stroke)(s,a));else{const d=NW(HT(this.model.getColorScheme(),this.model.modelType==="series"?(l=(o=this.model).getSpec)===null||l===void 0?void 0:l.call(o):void 0),this.model.getDefaultColorDomain());let h=t,p=n;if(!(t&&n||this.model.modelType!=="series")){const{scale:f,field:g}=this.model.getColorAttribute();t||(h=f),p||(p=g),c.stroke=(h==null?void 0:h.scale(s[p]))||d[0]}}return c}}}class WT extends Xo{constructor(){super(...arguments),this.type=WT.type,this._marks=[]}getMarks(){return this._marks}_getDefaultStyle(){return Object.assign({},super._getDefaultStyle())}isMarkExist(e){return this._marks.find(t=>t.id===e.id||t.name===e.name)!==void 0}addMark(e){return this.isMarkExist(e)?(wf("Mark already exists, add mark failed."),!1):(this._marks.push(e),!0)}removeMark(e){const t=this._marks.findIndex(n=>n.id===e.id||n.name===e.name);return t===-1?(wf("Mark does not exists, removeMark failed."),!1):(this._marks.splice(t,1),!0)}getMarkInType(e){return this._marks.filter(t=>t.type===e)}getMarkInId(e){return this._marks.find(t=>t.id===e)}getMarkInName(e){return this._marks.find(t=>t.name===e)}_compileProduct(e){super._compileProduct(e),this._product.configure({zIndex:this.getZIndex()}),e!=null&&e.ignoreChildren||this.getMarks().forEach(t=>{t.getProduct()&&t.removeProduct(),t.compile({group:this._product})})}}WT.type="group";const KAe=()=>{K_t(),ce.registerMark(WT.type,WT)},Owt={type:"clipIn"},Mwt={type:"fadeIn"},Iwt=i=>({type:i.direction==="horizontal"?"growPointsXIn":"growPointsYIn",options:{orient:i.direction==="horizontal"?"positive":"negative"}});function Rwt(i,e){switch(e){case"grow":return Iwt(i);case"fadeIn":return Mwt;default:return Owt}}const Av={appear:{duration:1e3,easing:"cubicOut"},update:{type:"update",duration:300,easing:"linear"},enter:{duration:300,easing:"linear"},exit:{duration:300,easing:"linear"},disappear:{duration:500,easing:"cubicIn"}},hq={appear:{type:"scaleIn"},enter:{type:"scaleIn"},exit:{type:"scaleOut"},disappear:{type:"scaleOut"}},D$={appear:{type:"fadeIn"},enter:{type:"fadeIn"},exit:{type:"fadeOut"},disappear:{type:"fadeOut"}},L$=()=>{ce.registerAnimation("scaleInOut",()=>hq)},vm=()=>{ce.registerAnimation("fadeInOut",()=>D$)},Dwt=()=>{ce.registerAnimation("cartesianGroupClip",i=>({appear:{custom:loe,customParameters:(e,t)=>({animationType:"in",group:t.getGraphicItem(),direction:i.direction(),width:i.width(),height:i.height(),orient:i.orient()})},disappear:{custom:loe,customParameters:(e,t)=>({animationType:"out",group:t.getGraphicItem(),direction:i.direction(),width:i.width(),height:i.height(),orient:i.orient()})}}))},XAe=(i,e)=>({appear:Rwt(i,e),enter:{type:"fadeIn"},exit:{type:"fadeOut"},update:[{type:"update",options:{excludeChannels:["points","defined"]}},{channel:["points"],custom:Wwe,duration:Av.update.duration,easing:Av.update.easing}],disappear:{type:"clipOut"}}),qAe=()=>{ce.registerAnimation("line",XAe)},Lwt=()=>{ce.registerAnimation("area",XAe)},Fwt=()=>{Sb.useRegisters([Z1t,Q1t,R1t,D1t,X1t,q1t,J1t,eSt,tSt])},ZAe=()=>{Sb.useRegisters([B1t,$1t,N1t,j1t,L1t,F1t])},QAe=()=>{Sb.useRegisters([Y1t,K1t,U1t,G1t])},JAe=()=>{Sb.useRegisters([DEe,LEe,z1t,H1t,V1t,W1t,M1t,I1t])},eTe=()=>{Sb.useRegisters([DEe,LEe])},Bwt={measureText:Nxt};class Ac{static instance(){return Ac.instance_||(Ac.instance_=new Ac),Ac.instance_}constructor(){this.functions={}}registerFunction(e,t){e&&t&&(this.functions[e]=t)}unregisterFunction(e){e&&delete this.functions[e]}getFunction(e){return this.functions[e]||null}getFunctionNameList(){return Object.keys(this.functions)}}const $wt=()=>{gL(gi)},Nwt=()=>{_L(gi)};class tTe{constructor(){this.id=yb(),this._plugins=[]}add(e){if(!e||e.length===0)return null;const t=[];return e.forEach(n=>{this._plugins.find(r=>r.id===n.id)?wf("plugin"):(this._plugins.push(n),t.push(n),n.onAdd&&n.onAdd(this))}),t}load(e){const t=this.add(e);t&&t.length&&this.activate(e)}activate(e){e.length&&e.forEach(t=>{t.init&&t.init()})}get(e){return this._plugins.find(t=>t.id===e)}getAll(){return this._plugins.slice()}release(e){const t=this.get(e);t&&(t.release(this),this._plugins=this._plugins.filter(n=>n!==t))}releaseAll(){this._plugins.forEach(e=>{e.release(this)}),this._plugins=[]}clear(e){const t=this.get(e);t&&t.clear(this)}clearAll(){this._plugins.forEach(e=>{var t;(t=e.clear)===null||t===void 0||t.call(e,this)})}}class jwt extends tTe{constructor(e){super(),this.globalInstance=e}onInit(e){this._plugins.forEach(t=>{t.onInit&&t.onInit(this,e)})}onBeforeResize(e,t){this._plugins.forEach(n=>{n.onBeforeResize&&n.onBeforeResize(this,e,t)})}onAfterChartSpecTransform(e,t){this._plugins.forEach(n=>{n.onAfterChartSpecTransform&&n.onAfterChartSpecTransform(this,e,t)})}onBeforeInitChart(e,t){this._plugins.forEach(n=>{n.onBeforeInitChart&&n.onBeforeInitChart(this,e,t)})}releaseAll(){super.releaseAll(),this.globalInstance=null}}var wh=function(i,e,t,n){return new(t||(t=Promise))(function(r,s){function a(u){try{l(n.next(u))}catch(c){s(c)}}function o(u){try{l(n.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?r(u.value):(c=u.value,c instanceof t?c:new t(function(d){d(c)})).then(a,o)}l((n=n.apply(i,e||[])).next())})},zwt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};class jo{static useRegisters(e){e.forEach(t=>{typeof t=="function"?t():console.error("Invalid function:",t)})}static useChart(e){e.forEach(t=>ce.registerChart(t.type,t))}static useSeries(e){e.forEach(t=>ce.registerSeries(t.type,t))}static useComponent(e){e.forEach(t=>ce.registerComponent(t.type,t))}static useMark(e){e.forEach(t=>{var n;return ce.registerMark((n=t.constructorType)!==null&&n!==void 0?n:t.type,t)})}static useLayout(e){e.forEach(t=>ce.registerLayout(t.type,t))}static registerDataSetTransform(e,t){ce.registerTransform(e,t)}static registerFunction(e,t){e&&t&&Ac.instance().registerFunction(e,t)}static unregisterFunction(e){e&&Ac.instance().unregisterFunction(e)}static getFunction(e){return e?Ac.instance().getFunction(e):null}static getFunctionList(){return Ac.instance().getFunctionNameList()}static registerMap(e,t,n){const r=ce.getImplementInKey("registerMap");r&&r(e,t,n)}static unregisterMap(e){const t=ce.getImplementInKey("unregisterMap");t&&t(e)}static getMap(e){return swt(e)}static hideTooltip(e=[]){Dd.forEach(t=>{var n;return(n=t==null?void 0:t.hideTooltip)===null||n===void 0?void 0:n.call(t)},e)}static getLogger(){return Kn.getInstance()}getSpec(){return this._spec}getSpecInfo(){return this._specInfo}getDataSet(){return this._dataSet}constructor(e,t){var n,r,s,a,o,l,u;this.id=yb(),this._userEvents=[],this._autoSize=!0,this._option={mode:na["desktop-browser"],onError:b=>{throw new Error(b)},optimize:{disableCheckGraphicWidthOutRange:!0}},this._observer=null,this._context={},this._onResize=Pf((...b)=>{this._doResize()},100),this._option=Ie(this._option,{animation:e.animation!==!1},t),this._onError=(n=this._option)===null||n===void 0?void 0:n.onError;const c=this._option,{dom:d,renderCanvas:h,mode:p,stage:f,poptip:g}=c,v=zwt(c,["dom","renderCanvas","mode","stage","poptip"]),m=Dc(p);m&&d&&(this._container=ct(d)?document==null?void 0:document.getElementById(d):d),h&&(this._canvas=h),f&&(this._stage=f),p==="node"||this._container||this._canvas||this._stage?(m?$wt():p==="node"&&Nwt(),this._viewBox=this._option.viewBox,this._currentThemeName=xl.getCurrentThemeName(),this._setNewSpec(e),this._updateCurrentTheme(),this._currentSize=this.getCurrentSize(),this._compiler=new lwt({dom:(s=this._container)!==null&&s!==void 0?s:"none",canvas:h},Object.assign(Object.assign({mode:this._option.mode,stage:f,pluginList:g!==!1?["poptipForText"]:[]},v),{background:this._getBackground(),onError:this._onError})),this._compiler.setSize(this._currentSize.width,this._currentSize.height),this._eventDispatcher=new twt(this,this._compiler),this._event=new T$(this._eventDispatcher,p),this._compiler.initView(),(a=this.getStage())===null||a===void 0||a.setTheme({text:{fontFamily:(o=this._currentTheme)===null||o===void 0?void 0:o.fontFamily}}),this._initDataSet(this._option.dataSet),this._autoSize=!!m&&((u=(l=e.autoFit)!==null&&l!==void 0?l:this._option.autoFit)===null||u===void 0||u),this._bindResizeEvent(),this._bindVGrammarViewEvent(),this._initChartPlugin(),Dd.registerInstance(this)):(r=this._option)===null||r===void 0||r.onError("please specify container or renderCanvas!")}_setNewSpec(e,t){return!!e&&(ct(e)&&(e=JSON.parse(e)),t&&this._originalSpec&&(e=Rt({},this._originalSpec,e)),this._originalSpec=e,this._spec=this._getSpecFromOriginalSpec(),!0)}_getSpecFromOriginalSpec(){var e;const t=WW(this._originalSpec);return t.data=(e=t.data)!==null&&e!==void 0?e:[],t}_initChartSpec(e,t){var n,r;jo.getFunctionList()&&jo.getFunctionList().length&&(e=UW(e,jo)),this._spec=e,this._chartSpecTransformer||(this._chartSpecTransformer=ce.createChartSpecTransformer(this._spec.type,this._getChartOption(this._spec.type))),(n=this._chartSpecTransformer)===null||n===void 0||n.transformSpec(this._spec),this._chartPluginApply("onAfterChartSpecTransform",this._spec,t),this._specInfo=(r=this._chartSpecTransformer)===null||r===void 0?void 0:r.transformModelSpec(this._spec),this._chartPluginApply("onAfterModelSpecTransform",this._spec,this._specInfo,t)}_updateSpecInfo(){var e;this._chartSpecTransformer||(this._chartSpecTransformer=ce.createChartSpecTransformer(this._spec.type,this._getChartOption(this._spec.type))),this._specInfo=(e=this._chartSpecTransformer)===null||e===void 0?void 0:e.createSpecInfo(this._spec)}_initChart(e){var t,n,r;if(!this._compiler)return void((t=this._option)===null||t===void 0||t.onError("compiler is not initialized"));if(this._chart)return void((n=this._option)===null||n===void 0||n.onError("chart is already initialized"));const s=ce.createChart(e.type,e,this._getChartOption(e.type));s?(this._chart=s,this._chart.setCanvasRect(this._currentSize.width,this._currentSize.height),this._chart.created(),this._chart.init(),this._event.emit(Pt.initialized,{chart:s,vchart:this})):(r=this._option)===null||r===void 0||r.onError("init chart fail")}_releaseData(){this._dataSet&&(this._dataSet.dataViewMap={},this._dataSet=null)}_bindVGrammarViewEvent(){this._compiler&&(this._compiler.getVGrammarView().addEventListener(At.ALL_ANIMATION_END,()=>{this._event.emit(Pt.animationFinished,{chart:this._chart,vchart:this})}),this._compiler.getVGrammarView().addEventListener(At.AFTER_VRENDER_NEXT_RENDER,()=>{this._event.emit(Pt.renderFinished,{chart:this._chart,vchart:this})}))}_bindResizeEvent(){var e;if(this._autoSize){if(this._container){const t=window.ResizeObserver;t&&(this._observer=new t(this._onResize),(e=this._observer)===null||e===void 0||e.observe(this._container))}window.addEventListener("resize",this._onResize)}}_unBindResizeEvent(){this._autoSize&&(window.removeEventListener("resize",this._onResize),this._observer&&(this._observer.disconnect(),this._observer=null))}getCurrentSize(){var e,t,n,r;return $Ae(this._spec,{container:this._container,canvas:this._canvas,mode:this._getMode(),modeParams:this._option.modeParams},{width:(t=(e=this._currentSize)===null||e===void 0?void 0:e.width)!==null&&t!==void 0?t:FS,height:(r=(n=this._currentSize)===null||n===void 0?void 0:n.height)!==null&&r!==void 0?r:BS})}_doResize(){const{width:e,height:t}=this.getCurrentSize();this._currentSize.width===e&&this._currentSize.height===t||(this._currentSize={width:e,height:t},this.resizeSync(e,t))}_initDataSet(e){this._dataSet=e instanceof f0?e:new f0,Fg(this._dataSet,"dataview",RB),Fg(this._dataSet,"array",txe),pi(this._dataSet,"stackSplit",awt),pi(this._dataSet,"copyDataView",P$);for(const t in ce.transforms)pi(this._dataSet,t,ce.transforms[t]);for(const t in ce.dataParser)Fg(this._dataSet,t,ce.dataParser[t])}updateCustomConfigAndRerender(e,t,n={}){if(!this._isReleased&&e)return Pe(e)&&(e=e()),this._reCompile(e),t?this._renderSync(n):this._renderAsync(n)}_updateCustomConfigAndRecompile(e,t={}){return!!e&&(this._reCompile(e),this._beforeRender(t))}_reCompile(e,t){var n,r,s,a,o,l;if(e.reMake)this._releaseData(),this._initDataSet(),this._chartSpecTransformer=null,(n=this._chart)===null||n===void 0||n.release(),this._chart=null,(r=this._compiler)===null||r===void 0||r.releaseGrammar(((s=this._option)===null||s===void 0?void 0:s.animation)===!1||((a=this._spec)===null||a===void 0?void 0:a.animation)===!1),this._userEvents.forEach(u=>{var c;return(c=this._event)===null||c===void 0?void 0:c.on(u.eType,u.query,u.handler)}),e.reSize&&this._doResize();else if(e.reCompile&&((o=this._compiler)===null||o===void 0||o.clear({chart:this._chart,vChart:this},!this._option.animation||!this._spec.animation),(l=this._compiler)===null||l===void 0||l.compile({chart:this._chart,vChart:this},{})),e.reSize){const{width:u,height:c}=this.getCurrentSize();this._chart.onResize(u,c,!1),this._compiler.resize(u,c,!1)}}_beforeRender(e={}){var t,n,r,s,a,o,l,u;if(this._isReleased)return!1;if(this._chart)return!0;const{transformSpec:c,actionSource:d}=e;return c&&this._initChartSpec(this._spec,"render"),this._chartPluginApply("onBeforeInitChart",this._spec,d),(n=(t=this._option.performanceHook)===null||t===void 0?void 0:t.beforeInitializeChart)===null||n===void 0||n.call(t),this._initChart(this._spec),(s=(r=this._option.performanceHook)===null||r===void 0?void 0:r.afterInitializeChart)===null||s===void 0||s.call(r),!(!this._chart||!this._compiler)&&((o=(a=this._option.performanceHook)===null||a===void 0?void 0:a.beforeCompileToVGrammar)===null||o===void 0||o.call(a),this._compiler.compile({chart:this._chart,vChart:this},{performanceHook:this._option.performanceHook}),(u=(l=this._option.performanceHook)===null||l===void 0?void 0:l.afterCompileToVGrammar)===null||u===void 0||u.call(l),!0)}_afterRender(){return!this._isReleased&&(this._updateAnimateState(),this._event.emit(Pt.rendered,{chart:this._chart,vchart:this}),!0)}renderSync(e){return this._renderSync({morphConfig:e,transformSpec:!0,actionSource:"render"})}renderAsync(e){return wh(this,void 0,void 0,function*(){return this._renderAsync({morphConfig:e,transformSpec:!0,actionSource:"render"})})}_renderSync(e={}){var t;const n=this;return this._beforeRender(e)&&((t=this._compiler)===null||t===void 0||t.render(e.morphConfig),this._afterRender()),n}_renderAsync(e={}){return wh(this,void 0,void 0,function*(){return this._renderSync(e)})}_updateAnimateState(){var e,t;this._option.animation&&((e=this._chart)===null||e===void 0||e.getAllRegions().forEach(n=>{var r;(r=n.animate)===null||r===void 0||r.updateAnimateState(Oa.update,!0)}),(t=this._chart)===null||t===void 0||t.getAllComponents().forEach(n=>{var r;(r=n.animate)===null||r===void 0||r.updateAnimateState(Oa.update,!0)}))}release(){var e,t,n,r;!((e=this._onResize)===null||e===void 0)&&e.cancel&&this._onResize.cancel(),this._chartPluginApply("releaseAll"),this._chartPlugin=null,this._chartSpecTransformer=null,(t=this._chart)===null||t===void 0||t.release(),(n=this._eventDispatcher)===null||n===void 0||n.release(),(r=this._compiler)===null||r===void 0||r.release(),this._unBindResizeEvent(),this._releaseData(),this._onError=null,this._onResize=null,this._container=null,this._currentTheme=null,this._option=null,this._chart=null,this._compiler=null,this._spec=null,this._specInfo=null,this._originalSpec=null,this._userEvents=null,this._event=null,this._eventDispatcher=null,this._isReleased=!0,Dd.unregisterInstance(this)}updateData(e,t,n){return wh(this,void 0,void 0,function*(){return this.updateDataSync(e,t,n)})}_updateDataById(e,t,n){const r=this._spec.data.find(s=>s.name===e||s.id===e);r?r.id===e?r.values=t:r.name===e&&r.parse(t,n):ke(t)?this._spec.data.push({id:e,values:t}):this._spec.data.push(t)}updateDataInBatches(e){return wh(this,void 0,void 0,function*(){return this._chart?(this._chart.updateFullData(e.map(({id:t,data:n,options:r})=>({id:t,values:n,parser:r}))),this._chart.updateGlobalScaleDomain(),this._compiler.render(),this):(this._spec.data=we(this._spec.data),e.forEach(({id:t,data:n,options:r})=>{this._updateDataById(t,n,r)}),this)})}updateDataSync(e,t,n){return Y(this._dataSet)?this:this._chart?(this._chart.updateData(e,t,!0,n),this._compiler.render(),this):(this._spec.data=we(this._spec.data),this._updateDataById(e,t,n),this)}updateFullDataSync(e,t=!0){if(this._chart)return this._chart.updateFullData(e),t&&this._compiler.render(),this;const n=we(this._spec.data);return we(e).forEach(r=>{var s;const{id:a,values:o,parser:l,fields:u}=r,c=n.find(d=>d.name===a);if(c)c instanceof vn?(c.setFields(su(u)),c.parse(o,su(l))):(c.values=o,X(l)&&(c.parser=l),X(u)&&(c.fields=u));else{const d=oq(r,this._dataSet,n,{onError:(s=this._option)===null||s===void 0?void 0:s.onError});ke(this._spec.data)&&this._spec.data.push(d)}}),this}updateFullData(e,t=!0){return wh(this,void 0,void 0,function*(){return this.updateFullDataSync(e,t)})}updateSpec(e,t=!1,n){return wh(this,void 0,void 0,function*(){const r=this._updateSpec(e,t);return r?(yield this.updateCustomConfigAndRerender(r,!1,{morphConfig:n,transformSpec:r.reTransformSpec,actionSource:"updateSpec"}),this):this})}updateSpecSync(e,t=!1,n){const r=this._updateSpec(e,t);return r?(this.updateCustomConfigAndRerender(r,!0,{morphConfig:n,transformSpec:r.reTransformSpec,actionSource:"updateSpec"}),this):this}updateSpecAndRecompile(e,t=!1,n={}){const r=this._updateSpec(e,t);return this._updateCustomConfigAndRecompile(r,Object.assign({actionSource:"updateSpecAndRecompile"},n))}_updateSpec(e,t=!1){var n,r;const s=this._spec;if(!this._setNewSpec(e,t))return;Rr(s.theme,this._spec.theme)||this._setCurrentTheme();const a=this._shouldChartResize(s);return(r=(n=this._compiler)===null||n===void 0?void 0:n.getVGrammarView())===null||r===void 0||r.updateLayoutTag(),this._spec.type!==s.type?{reTransformSpec:!0,change:!0,reMake:!0,reCompile:!1,reSize:a}:(this._initChartSpec(this._spec,"render"),rS(this._chart.updateSpec(this._spec),{reTransformSpec:!1,change:a,reMake:!1,reCompile:!1,reSize:a}))}updateModelSpec(e,t,n=!1,r){return wh(this,void 0,void 0,function*(){if(!t||!this._spec)return this;if(ct(t)&&(t=JSON.parse(t)),Pe(e)||Cde(this._spec,e,t,n),this._chart){const s=this._chart.getModelInFilter(e);if(s)return this._updateModelSpec(s,t,!1,n,r)}return this})}updateModelSpecSync(e,t,n=!1,r){if(!t||!this._spec)return this;if(ct(t)&&(t=JSON.parse(t)),Pe(e)||Cde(this._spec,e,t,n),this._chart){const s=this._chart.getModelInFilter(e);if(s)return this._updateModelSpec(s,t,!0,n,r)}return this}_updateModelSpec(e,t,n=!1,r=!1,s){r&&(t=Rt({},e.getSpec(),t));const a=e.updateSpec(t);return e.reInit(t),(a.change||a.reCompile||a.reMake||a.reSize||a.reRender)&&this._chart.reDataFlow(),this.updateCustomConfigAndRerender(a,n,{morphConfig:s,transformSpec:!1,actionSource:"updateModelSpec"})}resize(e,t){return wh(this,void 0,void 0,function*(){return this.resizeSync(e,t)})}resizeSync(e,t){var n,r;return this._beforeResize(e,t)?((r=(n=this._compiler).resize)===null||r===void 0||r.call(n,e,t),this._afterResize()):this}_beforeResize(e,t){var n,r,s,a;if(!this._chart||!this._compiler)return!1;const o=this._chart.getCanvasRect();return(!o||o.width!==e||o.height!==t)&&(this._chartPluginApply("onBeforeResize",e,t),(r=(n=this._option.performanceHook)===null||n===void 0?void 0:n.beforeResizeWithUpdate)===null||r===void 0||r.call(n),this._chart.onResize(e,t,!1),(a=(s=this._option.performanceHook)===null||s===void 0?void 0:s.afterResizeWithUpdate)===null||a===void 0||a.call(s),!0)}_afterResize(){return this._isReleased||this._event.emit(Pt.afterResize,{chart:this._chart}),this}updateViewBox(e,t=!0,n=!0){return this._chart&&this._compiler?(this._viewBox=e,this._chart.updateViewBox(e,n),n&&(this._compiler.render(),this._chart.onEvaluateEnd()),this._compiler.updateViewBox(e,t),this):this}on(e,t,n){var r;this._userEvents&&(this._userEvents.push({eType:e,query:typeof t=="function"?null:t,handler:typeof t=="function"?t:n}),(r=this._event)===null||r===void 0||r.on(e,t,n))}off(e,t){var n;if(this._userEvents&&this._userEvents.length!==0)if(t){const r=this._userEvents.findIndex(s=>s.eType===e&&s.handler===t);r>=0&&(this._userEvents.splice(r,1),(n=this._event)===null||n===void 0||n.off(e,t))}else this._userEvents.forEach(r=>{var s;r.eType===e&&((s=this._event)===null||s===void 0||s.off(e,r.handler))}),this._userEvents=this._userEvents.filter(r=>r.eType!==e)}updateState(e,t){this._chart&&this._chart.updateState(e,t)}setSelected(e,t,n){this._chart&&this._chart.setSelected(e,t,n)}setHovered(e,t,n){this._chart&&this._chart.setHovered(e,t,n)}clearState(e){this._chart&&this._chart.clearState(e)}clearSelected(){this._chart&&this._chart.clearSelected()}clearHovered(){this._chart&&this._chart.clearHovered()}_updateCurrentTheme(e){var t,n;const r=this._option.theme,s=(t=this._spec)===null||t===void 0?void 0:t.theme;if(e&&(this._currentThemeName=e),Mt(r)&&Mt(s))this._currentTheme=Wm(this._currentThemeName,!0);else if(ct(r)&&(!s||ct(s))||ct(s)&&(!r||ct(r))){const a=VW({},Wm(this._currentThemeName,!0),Wm(r,!0),Wm(s,!0));this._currentTheme=a}else{const a=VW({},Wm(this._currentThemeName),Wm(r),Wm(s));this._currentTheme=A$(a)}Ngt(bi(this._currentTheme,"component.poptip")),(n=this._compiler)===null||n===void 0||n.setBackground(this._getBackground())}_shouldChartResize(e){var t,n;let r=!1;Y(this._spec.width)?!Y(e.width)&&(this._spec.width=e.width):this._spec.width!==e.width&&(r=!0),Y(this._spec.height)?!Y(e.height)&&(this._spec.height=e.height):this._spec.height!==e.height&&(r=!0);const s=this._autoSize;return this._autoSize=!!Dc(this._option.mode)&&((n=(t=this._spec.autoFit)!==null&&t!==void 0?t:this._option.autoFit)===null||n===void 0||n),this._autoSize!==s&&(r=!0),r}_getBackground(){return(typeof this._spec.background=="string"?this._spec.background:null)||this._currentTheme.background||this._option.background}getCurrentTheme(){return Wm(this._currentThemeName)}getCurrentThemeName(){return this._currentThemeName}setCurrentTheme(e){return wh(this,void 0,void 0,function*(){if(!xl.themeExist(e))return this;const t=this._setCurrentTheme(e);return yield this.updateCustomConfigAndRerender(t,!1,{transformSpec:!1,actionSource:"setCurrentTheme"}),this})}setCurrentThemeSync(e){if(!xl.themeExist(e))return this;const t=this._setCurrentTheme(e);return this.updateCustomConfigAndRerender(t,!0,{transformSpec:!1,actionSource:"setCurrentTheme"}),this}_setCurrentTheme(e){var t;return this._updateCurrentTheme(e),this._initChartSpec(this._getSpecFromOriginalSpec(),"setCurrentTheme"),(t=this._chart)===null||t===void 0||t.setCurrentTheme(),{change:!0,reMake:!1}}_getTooltipComponent(){var e;return(e=this._chart)===null||e===void 0?void 0:e.getComponentsByType(De.tooltip)[0]}setTooltipHandler(e){var t,n;this._context.tooltipHandler=e;const r=this._getTooltipComponent();r&&((n=(t=r.tooltipHandler)===null||t===void 0?void 0:t.release)===null||n===void 0||n.call(t),r.tooltipHandler=e)}getTooltipHandlerByUser(){var e;return(e=this._context)===null||e===void 0?void 0:e.tooltipHandler}getTooltipHandler(){const e=this._getTooltipComponent();return e?e.tooltipHandler:this._context.tooltipHandler}showTooltip(e,t){var n;const r=this._getTooltipComponent();return(n=X(e)&&(r==null?void 0:r.showTooltip(e,t))!=="none")!==null&&n!==void 0&&n}hideTooltip(){var e;const t=this._getTooltipComponent();return(e=t==null?void 0:t.hideTooltip())!==null&&e!==void 0&&e}getLegendDataById(e){var t;const n=(t=this._chart)===null||t===void 0?void 0:t.getComponentByUserId(e);return n?n.getLegendData():[]}getLegendDataByIndex(e=0){var t;const n=(t=this._chart)===null||t===void 0?void 0:t.getComponentsByType(De.discreteLegend);return n&&n[e]?n[e].getLegendData():[]}getLegendSelectedDataById(e){var t;const n=(t=this._chart)===null||t===void 0?void 0:t.getComponentByUserId(e);return n?n.getSelectedData():[]}getLegendSelectedDataByIndex(e=0){var t;const n=(t=this._chart)===null||t===void 0?void 0:t.getComponentsByType(De.discreteLegend);return n&&n[e]?n[e].getSelectedData():[]}setLegendSelectedDataById(e,t){var n;const r=(n=this._chart)===null||n===void 0?void 0:n.getComponentByUserId(e);r&&r.setSelectedData(t)}setLegendSelectedDataByIndex(e=0,t){var n;const r=(n=this._chart)===null||n===void 0?void 0:n.getComponentsByType(De.discreteLegend);r&&r[e]&&r[e].setSelectedData(t)}getDataURL(){var e;return wh(this,void 0,void 0,function*(){const t=this.getStage();if(this._chart&&t){t.render();const n=this._chart.getCanvas();return yield hwt(n,{onError:this._onError})}return(e=this._option)===null||e===void 0||e.onError(new ReferenceError("render is not defined")),null})}exportImg(e){var t,n;return wh(this,void 0,void 0,function*(){if(!Dc(this._option.mode))return void((t=this._option)===null||t===void 0||t.onError(new TypeError("non-browser environment can not export img")));const r=yield this.getDataURL();r?cwt(e,r):(n=this._option)===null||n===void 0||n.onError(new ReferenceError("render is not defined"))})}exportCanvas(){var e;const t=this.getStage();if(this._chart&&t)return t.toCanvas();(e=this._option)===null||e===void 0||e.onError(new ReferenceError("render is not defined"))}getImageBuffer(){var e,t;if(this._option.mode!=="node")return void((e=this._option)===null||e===void 0||e.onError(new TypeError("getImageBuffer() now only support node environment.")));const n=this.getStage();return n?(n.render(),n.window.getImageBuffer()):((t=this._option)===null||t===void 0||t.onError(new ReferenceError("render is not defined")),null)}setLayout(e){var t;this._option.layout=e,(t=this._chart)===null||t===void 0||t.setLayout(e)}reLayout(){var e;(e=this._chart)===null||e===void 0||e.setLayoutTag(!0)}getCompiler(){return this._compiler}getChart(){return this._chart}getStage(){return this._compiler.getStage()}getCanvas(){var e;return(e=this._compiler)===null||e===void 0?void 0:e.getCanvas()}getContainer(){var e;if(X(this._container))return this._container;let t;return t=ct(this._canvas)?document==null?void 0:document.getElementById(this._canvas):this._canvas,X(t)?t.parentElement:(e=this.getCanvas())===null||e===void 0?void 0:e.parentElement}getComponents(){return this._chart.getAllComponents()}getScale(e){var t;const n=(t=this._chart)===null||t===void 0?void 0:t.getGlobalScale();return n==null?void 0:n.getScale(e)}setDimensionIndex(e,t={}){var n;return(n=this._chart)===null||n===void 0?void 0:n.setDimensionIndex(e,t)}stopAnimation(){var e,t,n;(n=(t=(e=this._compiler)===null||e===void 0?void 0:e.getVGrammarView())===null||t===void 0?void 0:t.animate)===null||n===void 0||n.stop()}pauseAnimation(){var e,t,n;(n=(t=(e=this._compiler)===null||e===void 0?void 0:e.getVGrammarView())===null||t===void 0?void 0:t.animate)===null||n===void 0||n.pause()}resumeAnimation(){var e,t,n;(n=(t=(e=this._compiler)===null||e===void 0?void 0:e.getVGrammarView())===null||t===void 0?void 0:t.animate)===null||n===void 0||n.resume()}convertDatumToPosition(e,t={},n=!1,r){var s;if(!this._chart||Mt(e))return null;const{seriesId:a,seriesIndex:o=0}=t;let l;if(X(a)?l=this._chart.getSeriesInUserId(a):X(o)&&(l=(s=this._chart.getSeriesInIndex([o]))===null||s===void 0?void 0:s[0]),l){const u=Object.keys(e),c=l.getViewData().latestData.find(p=>u.every(f=>p[f]==e[f])),d=l.getRegion().getLayoutStartPoint();let h;return h=c?l.dataToPosition(c,r):l.dataToPosition(e,r),h?mde(h,d,n):null}return null}convertValueToPosition(e,t,n=!1){var r,s;if(!this._chart||Y(e)||Mt(t))return null;if(!ke(e)){const{axisId:u,axisIndex:c}=t;let d;if(X(u)?d=this._chart.getComponentsByKey("axes").find(p=>p.userId===u):X(c)&&(d=(r=this._chart.getComponentsByKey("axes"))===null||r===void 0?void 0:r[c]),!d)return wf("Please check whether the `axisId` or `axisIndex` is set!"),null;const h=d==null?void 0:d.valueToPosition(e);if(n){const p=d.getLayoutStartPoint(),f=d.getOrient();return h+(f==="bottom"||f==="top"?p.x:p.y)}return h}const{seriesId:a,seriesIndex:o}=t;let l;return X(a)?l=this._chart.getSeriesInUserId(a):X(o)&&(l=(s=this._chart.getSeriesInIndex([o]))===null||s===void 0?void 0:s[0]),l?mde(l.valueToPosition(e[0],e[1]),l.getRegion().getLayoutStartPoint(),n):(wf("Please check whether the `seriesId` or `seriesIndex` is set!"),null)}getFunction(e){return Ac.instance().getFunction(e)}registerFunction(e,t){e&&t&&Ac.instance().registerFunction(e,t)}unregisterFunction(e){e&&Ac.instance().unregisterFunction(e)}getFunctionList(){return Ac.instance().getFunctionNameList()}setRuntimeSpec(e){this._spec=e,this._updateSpecInfo()}_initChartPlugin(){const e=ce.getChartPlugins();e.length>0&&(this._chartPlugin=new jwt(this),this._chartPlugin.load(e.map(t=>new t)),this._chartPluginApply("onInit",this._spec))}_chartPluginApply(e,...t){this._chartPlugin&&this._chartPlugin[e]&&this._chartPlugin[e].apply(this._chartPlugin,t)}_getMode(){return this._option.mode||na["desktop-browser"]}_getChartOption(e){return{type:e,globalInstance:this,eventDispatcher:this._eventDispatcher,dataSet:this._dataSet,container:this._container,canvas:this._canvas,map:new Map,mode:this._getMode(),modeParams:this._option.modeParams,getCompiler:()=>this._compiler,performanceHook:this._option.performanceHook,viewBox:this._viewBox,animation:this._option.animation,getTheme:()=>{var t;return(t=this._currentTheme)!==null&&t!==void 0?t:{}},getSpecInfo:()=>{var t;return(t=this._specInfo)!==null&&t!==void 0?t:{}},layout:this._option.layout,onError:this._onError,disableTriggerEvent:this._option.disableTriggerEvent===!0}}}jo.InstanceManager=Dd,jo.ThemeManager=xl,jo.globalConfig={uniqueTooltip:!0},jo.Utils=Bwt,jo.vglobal=ji;ce.registerRegion("region",fx),ce.registerLayout("base",dq),KAe(),Sb.useRegisters([Nbt,jbt]),Fwt(),fyt(),pyt(),aq(wde.name,wde),Kn.getInstance(Cc.Error);class pq{constructor(e){this.id=yb(),this.name=`${e}_${this.id}`}onAdd(e){this.service=e}release(){this.service=null}}const Hwt=i=>{ce.registerChartPlugin(i.type,i)},Vwt=/\{([^}]+)\}/,Wwt=/\{([^}]+)\}/g,Uwt=/:/;class m_ extends pq{constructor(){super(m_.type),this.type="formatterPlugin",this._timeModeFormat={utc:Yh.getInstance().timeUTCFormat,local:Yh.getInstance().timeFormat},this._formatter=this._format,this._timeFormatter=this._timeModeFormat.local,this._numericFormatter=Yy.getInstance().format,this._numericSpecifier=Yy.getInstance().formatter,this._numericFormatterCache=new Map,this._isNumericFormatterCache=new Map}onInit(e,t){var n;const{globalInstance:r}=e;if(!r)return;this._spec=(n=t==null?void 0:t[m_.specKey])!==null&&n!==void 0?n:{};const{timeMode:s,customFormatter:a,numericFormatter:o,timeFormatter:l}=this._spec;Pe(a)?this._formatter=a:(this._formatter=this._format.bind(this),Pe(l)?this._timeFormatter=l:s&&this._timeModeFormat[s]&&(this._timeFormatter=this._timeModeFormat[s]),o&&(this._numericFormatter=o,this._numericSpecifier=null,this._numericFormatterCache=null)),ce.registerFormatter(this._formatter)}_format(e,t,n){return ke(e)?e.map((r,s)=>{const a=ke(n)?n[s]:n;return a?this._formatSingleLine(r,t,a):r}):ke(n)?n.map(r=>this._formatSingleLine(e,t,r)):this._formatSingleLine(e,t,n)}_formatSingleLine(e,t,n){let r;return this._isNumericFormatterCache&&(this._isNumericFormatterCache.get(n)?r=this._isNumericFormatterCache.get(n):(r=Vwt.test(n),this._isNumericFormatterCache.set(n,r))),r?n.replace(Wwt,(s,a)=>{if(!Uwt.test(a)){const c=t[a.trim()];return c!==void 0?c:s}const o=a.split(":"),l=t[o.shift()],u=o.join(":");return this._formatSingleText(l,u)}):this._formatSingleText(e,n)}_formatSingleText(e,t){if(xxe.test(t)&&this._numericFormatter){let n;return this._numericFormatterCache&&this._numericSpecifier?(this._numericFormatterCache.get(t)?n=this._numericFormatterCache.get(t):(n=this._numericSpecifier(t),this._numericFormatterCache.set(t,n)),n(Number(e))):this._numericFormatter(t,Number(e))}return t.includes("%")&&this._timeFormatter?this._timeFormatter(t,e):e}release(){super.release(),this._format=null,this._timeFormatter=null,this._numericFormatter=null,this._numericSpecifier=null,this._numericFormatterCache=null,this._isNumericFormatterCache=null}}m_.pluginType="chart",m_.specKey="formatter",m_.type="formatterPlugin";const Gwt=()=>{Hwt(m_)};function Rde(i){return i.length===2&&Ce(i[0])&&Ce(i[1])&&i[1]>=i[0]}function Dde(i,e){const t=e[1]-e[0],n=e[1]*e[0]<0;let r=e[0]<=0?0-e[0]:0,s=e[1]>0?e[1]-0:0;t===0?e[0]<0?(r=1,s=0):e[0]>0&&(r=0,s=1):(r/=t,s/=t);const a=i.getDomainSpec();return{total:t,negative:r,positive:s,includeZero:n,domain:e,extendable_min:!Ce(a.min),extendable_max:!Ce(a.max)}}function Lde(i,e){const{positive:t,negative:n,extendable_min:r,extendable_max:s,domain:a}=i,{positive:o,negative:l,extendable_min:u,extendable_max:c,domain:d}=e;if(o>0){if(!u)return!1;let h=n/t;s&&(h=n/Math.max(t,o),a[1]=-a[0]/h),d[0]=-d[1]*h}else if(l>0){if(!c)return!1;let h=t/n;r&&(h=t/Math.max(n,n),a[0]=-a[1]/h),d[1]=-d[0]*h}return!0}function Fde(i,e){const{extendable_min:t,extendable_max:n,domain:r}=i,{positive:s,negative:a,domain:o}=e;return(s!==0||a!==0)&&!(s>0&&!n)&&!(a>0&&!t)&&(r[0]=o[0],r[1]=o[1],!0)}function Bde(i,e){const{positive:t,negative:n,extendable_max:r,domain:s}=i,{positive:a,negative:o,extendable_min:l,domain:u}=e;if(r&&l){const c=Math.max(n,o)/Math.max(t,a);s[1]=-s[0]/c,u[0]=-u[1]*c}else if(l){const c=n/t;u[0]=-u[1]*c}else{if(!r)return!1;{const c=o/a;s[1]=-s[0]/c}}return!0}function $de(i,e){const{extendable_min:t,domain:n}=i,{extendable_max:r,domain:s}=e;return!(!t||!r)&&(n[0]=-n[1],s[1]=-s[0],!0)}const Ywt=(i,e)=>{var t,n,r,s,a,o;const l=i.getScale(),u=e.getScale();if(!l||!u)return;const c=(r=(n=(t=i).getDomainAfterSpec)===null||n===void 0?void 0:n.call(t))!==null&&r!==void 0?r:[0,1],d=(o=(a=(s=e).getDomainAfterSpec)===null||a===void 0?void 0:a.call(s))!==null&&o!==void 0?o:[0,1];if(!(c&&d&&Rde(c)&&Rde(d)))return;const h=Dde(i,c),p=Dde(e,d),{positive:f,negative:g,extendable_min:v,extendable_max:m,includeZero:b}=h,{positive:_,negative:S,extendable_min:C,extendable_max:k,includeZero:E}=p;if(f===0&&g===0){if(!Fde(h,p))return}else if(_===0&&S===0){if(!Fde(p,h))return}else if(b||E)if(b&&!E){if(!Lde(h,p))return}else if(E&&!b){if(!Lde(p,h))return}else{if(g===S)return;if(g>S){if(!Bde(h,p))return}else if(!Bde(p,h))return}else{if(g===0&&_===0){if(!$de(h,p))return}else if(S===0&&f===0&&!$de(p,h))return;if(g===0&&S===0)if(c[0]===0&&d[0]>0){if(!C)return;d[0]=0}else{if(!(d[0]===0&&c[0]>0)||!v)return;c[0]=0}if(f===0&&_===0)if(c[1]===0&&d[1]>0){if(!k)return;d[1]=0}else{if(!(d[1]===0&&c[1]>0)||!m)return;c[1]=0}}l.domain(c),u.domain(d)},Kwt=(i,e)=>{var t,n,r,s,a;if(!i)return i;const o=(t=e==null?void 0:e.targetAxis)===null||t===void 0?void 0:t.call(e);if(!o)return i;const l=(n=e==null?void 0:e.currentAxis)===null||n===void 0?void 0:n.call(e);if(!l)return i;const u=(r=l.getTickData())===null||r===void 0?void 0:r.getDataView();if(!u||!u.transformsArr.find(b=>b.type==="ticks"))return i;const c=l.getScale();if(!c)return i;const d=(a=(s=o.getTickData())===null||s===void 0?void 0:s.getDataView())===null||a===void 0?void 0:a.latestData;if(!(d!=null&&d.length))return i;const h=o.getScale();if(!h)return i;const p=h.domain(),f=p[1]-p[0];if(f===0)return i;const g=c.domain(),v=g[1]-g[0];if(f===0)return i;const m=d.map(b=>{const _=(b.value-p[0])/f;return v*_+g[0]});return yf(m)};class UT extends pq{constructor(){super(UT.type),this.type="AxisSyncPlugin"}_checkEnableSync(e){if(!Ln(e.getScale().type))return!1;const t=e.getSpec().sync;return!!(t!=null&&t.axisId)&&t}_getTargetAxis(e,t){const n=e.getOption().getChart().getComponentByUserId(t.axisId);return n!=null&&n.type.startsWith("cartesianAxis")?n:null}onInit(e,t){const n=this._checkEnableSync(t);if(!n||!n.zeroAlign)return;const r=this._getTargetAxis(t,n);r&&t.event.on(Pt.scaleDomainUpdate,{filter:({model:s})=>s.id===t.id||s.id===r.id},()=>{Ywt(r,t)})}onDidCompile(e,t){const n=this._checkEnableSync(t);if(!n)return;const r=this._getTargetAxis(t,n);if(r&&n.tickAlign){pi(t.getOption().dataSet,"tickAlign",Kwt);const s={targetAxis:()=>r,currentAxis:()=>t};t.addTransformToTickData({type:"tickAlign",options:s,level:Number.MAX_SAFE_INTEGER},!1)}}}UT.pluginType="component",UT.type="AxisSyncPlugin";function Xwt(i){return String(i).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\(/g,"&#40;").replace(/  /g," &nbsp;")}const II=(i,e)=>i?(e||(e=i.getBoundingClientRect()),i.offsetWidth>0?e.width/i.offsetWidth:e.height/i.offsetHeight):1,t8=(i,e)=>{var t;let n,r;(i==null?void 0:i.type)!=="rich"&&(i==null?void 0:i.type)!=="html"?(i=(i??"").toString(),e.multiLine?(n=i.split(`
`),n=n.map((a,o)=>o<n.length-1?a+`
`:a)):n=[i],r=n.map(a=>Object.assign(Object.assign({},e),{text:a}))):(r=i.text,n=i);const s=Nut({wordBreak:(t=e.wordBreak)!==null&&t!==void 0?t:"break-word",maxWidth:e.maxWidth?e.maxWidth:void 0,width:0,height:0,textConfig:r});return{width:s.width(),height:s.height(),text:n}},Nde="vchart-tooltip-container",jde="",i8={offsetX:10,offsetY:10,sanitize:Xwt};function Lu(i,e){return bi(e,`component.${i}`)}function em(i,e,t,n){if(i)return{formatFunc:i,args:[t,n]};const r=ce.getFormatter();return e&&r?{formatFunc:r,args:[t,n,e]}:{}}const qwt={left:{textAlign:"center",textBaseline:"bottom"},right:{textAlign:"center",textBaseline:"bottom"},radius:{},angle:{}};function Zwt(i){return(i=Gh(i)).startSymbol=Gh(i.startSymbol),i.endSymbol=Gh(i.endSymbol),i}function GT(i){let e=0;return bi(i,"tick.visible")&&(e+=bi(i,"tick.tickSize")),bi(i,"label.visible")&&(e+=bi(i,"label.space")),e}function YT(i,e){var t,n,r,s,a,o;return{min:(r=(t=i.min)!==null&&t!==void 0?t:(n=i.range)===null||n===void 0?void 0:n.min)!==null&&r!==void 0?r:e==null?void 0:e.min,max:(o=(s=i.max)!==null&&s!==void 0?s:(a=i.range)===null||a===void 0?void 0:a.max)!==null&&o!==void 0?o:e==null?void 0:e.max}}function zde(i){const e=i==null?void 0:i.orient;return e==="top"||e==="bottom"||e==="left"||e==="right"||e==="z"}function Hde(i){const e=i==null?void 0:i.orient;return e==="angle"||e==="radius"}const _k=(i,e,t)=>{var n;const r=(n=e==="band"?Lu("axisBand",t):["linear","log","symlog"].includes(e)?Lu("axisLinear",t):{})!==null&&n!==void 0?n:{},s=Qr(i)?Lu("axisX",t):ef(i)?Lu("axisY",t):Lu("axisZ",t);return Rt({},Lu("axis",t),r,s)},n8=(i,e,t)=>{var n;const r=(n=e==="band"?Lu("axisBand",t):e==="linear"?Lu("axisLinear",t):{})!==null&&n!==void 0?n:{},s=Lu(i==="angle"?"axisAngle":"axisRadius",t);return Rt({},Lu("axis",t),r,s)},iTe=i=>i==="band"||i==="ordinal"||i==="point";function ew(i,e){return{id:i,label:i,value:e,rawValue:i}}function nTe(i,e){const{x1:t,y1:n,x2:r,y2:s}=e,{x1:a,y1:o,x2:l,y2:u}=i.AABBBounds,{dx:c=0,dy:d=0}=i.attribute;let h=0,p=0;a<t&&(h=t-a),o<n&&(p=n-o),l>r&&(h=r-l),u>s&&(p=s-u),h&&i.setAttribute("dx",h+c),p&&i.setAttribute("dy",p+d)}function Vde(i,e,t,n){let r=0,s=i.length-1;for(;r<=s;){const a=Math.floor((r+s)/2),o=i[a];if(o[t]<=e&&o[n||t]>=e)return o;o[t]>e?s=a-1:r=a+1}return null}const Qwt=(i,e)=>{var t,n;const r=we((t=e.axes)!==null&&t!==void 0?t:[]),{bandField:s,linearField:a,xField:o,yField:l}=(n=Lu(De.crosshair,i))!==null&&n!==void 0?n:{},u=r.find(p=>Qr(p.orient));let c;c=X(u)?Rt({},iTe(u.type)?s:a,o):o;const d=r.find(p=>ef(p.orient));let h;return h=X(d)?Rt({},io(d.type)?s:a,l):l,{xField:c,yField:h}},Jwt=(i,e)=>{var t,n;const r=we((t=e.axes)!==null&&t!==void 0?t:[]),{bandField:s,linearField:a,categoryField:o,valueField:l}=(n=Lu(De.crosshair,i))!==null&&n!==void 0?n:{},u=r.find(p=>p.orient==="angle");let c;c=X(u)?Rt({},iTe(u.type)?s:a,o):o;const d=r.find(p=>p.orient==="radius");let h;return h=X(d)?Rt({},io(d.type)?s:a,l):l,{categoryField:c,valueField:h}},rTe=(i=3,e,t,n,r,s,a,o=!1,l,u)=>{const c=1&i,d=2&i;t||(t={x:0,y:0});let h=null,p=null,f=0,g=0;if(n.size){const O=Array.from(n.values())[0];f=O.axis.getScale().scale(O.value)+O.axis.getLayoutStartPoint().x-t.x,h=O.axis}if(r.size){const O=Array.from(r.values())[0];g=O.axis.getScale().scale(O.value)+O.axis.getLayoutStartPoint().y-t.y,p=O.axis}const v=!!n.size&&Number.isFinite(f),m=!!r.size&&Number.isFinite(g),b=o&&!v&&X(l),_=o&&!m&&X(u);let S,C,k;c&&(S=b?l:{height:0,leftPos:0,rightPos:0,topPos:0,x:0,bottom:{visible:!1,text:"",dx:0,dy:0},top:{visible:!1,text:"",dx:0,dy:0},visible:v,axis:h}),d&&(C=_?u:{width:0,leftPos:0,topPos:0,bottomPos:0,y:0,left:{visible:!1,text:"",dx:0,dy:0},right:{visible:!1,text:"",dx:0,dy:0},visible:m,axis:p});let E,A=0,P=0;if(s&&n.forEach(({axis:O,value:M})=>{var D;M=M??"";let L=null;const H=O.getScale();if(io(H.type))k=H.bandwidth(),k===0&&H.step&&(A=H.step());else if(Ln(H.type)){const B=e.fieldX[0],F=e.fieldX2,z=Vde(e.getViewData().latestData,+M,B,F);if(z){const N=e.dataToPositionX(z);F?(k=Math.abs(N-e.dataToPositionX1(z)),M=`${z[B]} ~ ${z[F]}`):k=1,f=N}L=O.niceLabelFormatter}if(S&&(!((D=s.label)===null||D===void 0)&&D.visible)&&!b){const B=GT(O.getSpec());O.getOrient()==="bottom"?(S.bottom.visible=!0,S.bottom.defaultFormatter=L,S.bottom.text=M,S.bottom.dx=0,S.bottom.dy=B):O.getOrient()==="top"&&(S.top.visible=!0,S.top.defaultFormatter=L,S.top.text=M,S.top.dx=0,S.top.dy=-B)}}),a&&r.forEach(({axis:O,value:M})=>{var D;M=M??"";let L=null;const H=O.getScale();if(io(H.type))E=H.bandwidth(),E===0&&H.step&&(P=H.step());else if(Ln(H.type)){const B=e.fieldY[0],F=e.fieldY2,z=Vde(e.getViewData().latestData,+M,B,F);if(z){const N=e.dataToPositionY(z);F?(E=Math.abs(N-e.dataToPositionY1(z)),M=`${z[B]} ~ ${z[F]}`):E=1,g=N}L=O.niceLabelFormatter}if(C&&(!((D=a.label)===null||D===void 0)&&D.visible)&&!_){const B=GT(O.getSpec());O.getOrient()==="left"?(C.left.visible=!0,C.left.defaultFormatter=L,C.left.text=M,C.left.dx=-B,C.left.dy=0):O.getOrient()==="right"&&(C.right.visible=!0,C.right.defaultFormatter=L,C.right.text=M,C.right.dx=B,C.right.dy=0)}}),S&&!b){const O={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0};if(Wde(O,n),S.leftPos=O.x1,S.rightPos=O.x2,S.topPos=O.y1,S.height=O.y2-O.y1,S.x=f+t.x,s&&s.label){const{top:M,bottom:D}=S;M.visible&&RI(M,"top",s.label),D.visible&&RI(D,"bottom",s.label)}}if(C&&!_){const O={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0};if(Wde(O,r),C.leftPos=O.x1,C.topPos=O.y1,C.bottomPos=O.y2,C.width=O.x2-O.x1,C.y=g+t.y,a&&a.label){const{left:M,right:D}=C;M.visible&&RI(M,"left",a.label),D.visible&&RI(D,"right",a.label)}}return{x:c&&S?S:void 0,y:d&&C?C:void 0,offsetWidth:A,offsetHeight:P,bandWidth:k??0,bandHeight:E??0}},RI=(i,e,t)=>{const{formatMethod:n,formatter:r}=t,{formatFunc:s,args:a}=em(n,r,i.text,{label:i.text,position:e});s?i.text=s(...a):i.defaultFormatter&&(i.text=i.defaultFormatter(i.text))},Wde=(i,e)=>{e.forEach(({axis:t})=>{t.getRegions().forEach(n=>{i.x1=Math.min(i.x1,n.getLayoutStartPoint().x),i.y1=Math.min(i.y1,n.getLayoutStartPoint().y),i.x2=Math.max(i.x2,n.getLayoutStartPoint().x+n.getLayoutRect().width),i.y2=Math.max(i.y2,n.getLayoutStartPoint().y+n.getLayoutRect().height)})})},sTe=(i,e,t,n)=>{const{x:r,topPos:s,height:a}=e,o=i.type;let l;if(o==="line")l={visible:!0,start:{x:r+t/2,y:s},end:{x:r+t/2,y:s+a}};else if(o==="rect"){const u=oTe(i,t,e.axis),{leftPos:c,rightPos:d}=e;l={visible:!0,start:{x:Math.max(r-u/2-n/2,c),y:s},end:{x:Math.min(r+t+u/2+n/2,d),y:s+a}}}return l},aTe=(i,e,t,n)=>{const{leftPos:r,width:s,y:a}=e,o=i.type;let l;if(o==="line")l={visible:!0,start:{x:r,y:a+t/2},end:{x:r+s,y:a+t/2}};else if(o==="rect"){const u=oTe(i,t,e.axis),{topPos:c,bottomPos:d}=e;l={visible:!0,start:{x:r,y:Math.max(a-u/2-n/2,c)},end:{x:r+s,y:Math.min(a+t+u/2+n/2,d)}}}return l},oTe=(i,e,t)=>{var n,r,s;let a=0;if(!((n=i.style)===null||n===void 0)&&n.sizePercent)a=(i.style.sizePercent-1)*e;else if(typeof((r=i.style)===null||r===void 0?void 0:r.size)=="number")a=i.style.size-e;else if(typeof((s=i.style)===null||s===void 0?void 0:s.size)=="function"){const o=t.getLayoutRect();a=i.style.size(o,t)-e}return a},T1=(i,e)=>{let t;if(X(i)){if(Xe(i))t=i;else if(Pe(i)){const n=i(e);Xe(n)&&(t=n)}}return t},lTe={left:["left","center"],right:["right","center"],top:["center","top"],lt:["left","top"],tl:["left","top"],rt:["right","top"],tr:["right","top"],bottom:["center","bottom"],bl:["left","bottom"],lb:["left","bottom"],br:["right","bottom"],rb:["right","bottom"],inside:["center","center"],center:["center","center"],centerBottom:["center","centerBottom"],centerTop:["center","centerTop"],centerLeft:["centerLeft","center"],centerRight:["centerRight","center"]},bk=(i,e)=>{var t,n;return(n=(t=lTe[i])===null||t===void 0?void 0:t[0])!==null&&n!==void 0?n:e},Sk=(i,e)=>{var t,n;return(n=(t=lTe[i])===null||t===void 0?void 0:t[1])!==null&&n!==void 0?n:e},Ude=(i,e,t)=>{const n=new Map,r=new Map;i.forEach(({axis:p,value:f})=>{["top","bottom"].includes(p.getOrient())?n.set(p.getSpecIndex(),{value:f,axis:p}):r.set(p.getSpecIndex(),{value:f,axis:p})});const s={visible:!!n.size,type:"rect"},a={visible:!!r.size,type:"rect"},{x:o,y:l,offsetWidth:u,offsetHeight:c,bandWidth:d,bandHeight:h}=rTe(3,e,t,n,r,s,a);return o?sTe(s,o,d,u):l?aTe(a,l,h,c):void 0},eCt=i=>yi(i)&&(X(i.left)||X(i.right)||X(i.top)||X(i.bottom)),tCt=i=>yi(i)&&(X(i.x)||X(i.y)),iCt={fontFamily:nF.fontFamily,spacing:10,wordBreak:"break-word"};function P1(i={},e,t){var n,r;return Object.assign(Object.assign({},t??iCt),{fill:(n=i.fill)!==null&&n!==void 0?n:i.fontColor,textAlign:i.textAlign,textBaseline:i.textBaseline,fontFamily:(r=i.fontFamily)!==null&&r!==void 0?r:e==null?void 0:e.fontFamily,fontSize:i.fontSize,fontWeight:i.fontWeight,lineHeight:i.lineHeight,spacing:i.spacing,multiLine:i.multiLine,maxWidth:i.maxWidth,wordBreak:i.wordBreak,autoWidth:i.autoWidth})}const nCt=i=>{var e;const{backgroundColor:t,border:n,shadow:r}=i,s={lineWidth:(e=n==null?void 0:n.width)!==null&&e!==void 0?e:0,shadow:!!r};n!=null&&n.color&&(s.stroke=n.color),t&&(s.fill=t),r&&(s.shadowColor=r.color,s.shadowBlur=r.blur,s.shadowOffsetX=r.x,s.shadowOffsetY=r.y,s.shadowSpread=r.spread);const{radius:a}=n??{};return X(a)&&(s.cornerRadius=[a,a,a,a]),s},rCt=(i,e,t)=>{var n,r,s,a,o;const{style:l={},enterable:u,transitionDuration:c}=e,{panel:d={},titleLabel:h,shape:p,keyLabel:f,valueLabel:g,spaceRow:v,maxContentHeight:m}=l,b=au(d.padding),_=Qg(d.padding),S=P1(h,t),C=P1(f,t),k=P1(g,t),E={fill:!0,size:(n=p==null?void 0:p.size)!==null&&n!==void 0?n:8,spacing:(r=p==null?void 0:p.spacing)!==null&&r!==void 0?r:6},A={panel:nCt(d),padding:b,title:{},content:[],titleStyle:{value:S,spaceRow:v},contentStyle:{shape:E,key:C,value:k,spaceRow:v},hasContentShape:!1,keyWidth:0,valueWidth:0,maxContentHeight:m,enterable:u,transitionDuration:c},{title:P={},content:O=[]}=i;let M=_.left+_.right,D=_.top+_.bottom,L=_.top+_.bottom,H=0;const B=O.filter(se=>(se.key||se.value)&&se.visible!==!1),F=!!B.length;let z=0,N=0,U=0,G=0;if(F){const se=[],_e=[],le=[],ve=[];let pe=0;A.content=B.map((Fe,Ee)=>{let it=0;const{hasShape:Qe,key:Ae,shapeType:je="",shapeFill:We,shapeStroke:ut,shapeLineWidth:vt,shapeSize:_t,value:zt,isKeyAdaptive:Ft,spaceRow:Ye,keyStyle:Je,valueStyle:rt,shapeHollow:dt,shapeColor:at}=Fe,Gt={height:0,spaceRow:Ye??v};if(X(Ae)){const ii=Rt({},C,P1(Je,void 0,{})),{width:ci,height:qt,text:Zt}=t8(Ae,ii);Gt.key=Object.assign(Object.assign({width:ci,height:qt},ii),{text:Zt}),Ft?_e.push(ci):se.push(ci),it=Math.max(it,qt)}if(X(zt)){const ii=Rt({},k,P1(rt,void 0,{})),{width:ci,height:qt,text:Zt}=t8(zt,ii);Gt.value=Object.assign(Object.assign({width:ci,height:qt},ii),{text:Zt}),le.push(ci),it=Math.max(it,qt)}if(Qe){const ii={visible:!0,symbolType:je},ci=We??at;dt?ii.stroke=ci:ii.fill=ci,ii.stroke=ut??ci,ii.lineWidth=vt,Gt.shape=ii;const qt=_t??E.size;it=Math.max(qt,it),ve.push(qt)}else Gt.shape={visible:!1};return Gt.height=it,pe+=it,Ee<B.length-1&&(pe+=Gt.spaceRow),Gt}),D+=pe,L+=Math.min(pe,m??1/0),z=se.length?Os(se):0,N=_e.length?Os(_e):0,U=le.length?Os(le):0,G=ve.length?Os(ve)+E.spacing:0,H=Math.max(G+z+C.spacing+U+k.spacing,G+N,H),A.hasContentShape=!!ve.length,A.keyWidth=z,A.valueWidth=U}let j=0,K=0,ie=0;const{visible:ae=!0,value:re="",valueStyle:J,spaceRow:ne}=P;A.title.visible=ae,A.title.spaceRow=ne??v;let te={};const Q=()=>te.autoWidth&&te.multiLine!==!1;if(ae){te=Rt({},S,P1(J,void 0,{})),Q()&&(te.multiLine=(s=te.multiLine)===null||s===void 0||s,te.maxWidth=(a=te.maxWidth)!==null&&a!==void 0?a:F?Math.ceil(H):void 0);const{text:se,width:_e,height:le}=t8(re,te);A.title.value=Object.assign(Object.assign({width:Q()?Math.min(_e,(o=te.maxWidth)!==null&&o!==void 0?o:Number.MAX_VALUE):_e,height:le},te),{text:se}),j=A.title.value.width,K=A.title.value.height,ie=K+(F?A.title.spaceRow:0)}return D+=ie,L+=ie,A.title.width=j,A.title.height=K,Q()?M+=H||j:M+=Math.max(j,H),F&&A.content.forEach(se=>{var _e;const le=se.value;le&&((_e=le.autoWidth)===null||_e===void 0||_e)&&(le.width=M-_.left-_.right-G-z-C.spacing-k.spacing,le.maxWidth||(le.maxWidth=Math.ceil(le.width)),A.valueWidth=Math.max(A.valueWidth,le.width))}),A.panel.width=M,A.panel.height=D,A.panelDomHeight=L,A},O1=(i,e)=>X(e)?i.map(t=>e[t]):void 0,Qy=(i,e)=>t=>i.every((n,r)=>t[n]===(e==null?void 0:e[r])),xk=i=>!Y(i)&&(ke(i)?i.length>0&&i.every(X):Object.keys(i).length>0);function sCt(i,e,t){var n,r,s;const a=Object.assign({regionIndex:0},e),o=t.getOption(),l=o.getRegionsInUserIdOrIndex(X(a.regionId)?[a.regionId]:void 0,X(a.regionIndex)?[a.regionIndex]:void 0)[0];if(!l)return"none";const u=aCt(i,l),c=(n=a.activeType)!==null&&n!==void 0?n:u.length>1?"dimension":"mark",d=l.getLayoutStartPoint(),h=l.getLayoutRect(),p=o.globalInstance.getContainer(),f=Object.assign({x:0,y:0},p?rrt(p):{}),g=m=>{var b;const{dimensionFields:_,dimensionData:S,measureFields:C,measureData:k,groupField:E,groupData:A}=m.data;return(b=m.series.getViewData())===null||b===void 0?void 0:b.latestData.find(O=>Qy(_,S)(O)&&Qy(C,k)(O)&&(Y(E)||Qy([E],[A])(O)))},v=m=>{var b,_;const S=(E=>({x:Math.min(Math.max(E.x,0),h.width),y:Math.min(Math.max(E.y,0),h.height)}))(m),C=(b=a.x)!==null&&b!==void 0?b:d.x+S.x,k=(_=a.y)!==null&&_!==void 0?_:d.y+S.y;return{canvasX:C,canvasY:k,clientX:f.x+C,clientY:f.y+k}};if(c==="dimension"){const m=u[0];if(!m)return"none";const b=new Map;u.forEach(k=>{var E;b.has(k.series)||b.set(k.series,[]),(E=b.get(k.series))===null||E===void 0||E.push(k)});const _=[{value:i[m.data.dimensionFields[0]],data:[...b.keys()].map(k=>{var E,A;return{series:k,datum:(A=(E=b.get(k))===null||E===void 0?void 0:E.map(P=>g(P)))!==null&&A!==void 0?A:[]}})}];X(m.dimType)&&(_[0].position=m.pos[m.dimType],_[0].dimType=m.dimType);const S={changePositionOnly:!1,action:"enter",tooltip:null,dimensionInfo:_,chart:(r=o.globalInstance.getChart())!==null&&r!==void 0?r:void 0,datum:void 0,model:void 0,source:cn.chart,event:v({x:u.reduce((k,E)=>k+E.pos.x,0)/u.length,y:u.reduce((k,E)=>k+E.pos.y,0)/u.length}),item:void 0,itemMap:new Map};t.processor.dimension.showTooltip(_,S,!1);const C=o.globalInstance;return jo.globalConfig.uniqueTooltip&&jo.hideTooltip(C.id),c}if(c==="mark"){const m=u[0];if(!m)return"none";const b=Object.assign(Object.assign({},g(m)),i),_=[{datum:[b],series:m.series}],S=[{value:b[m.data.dimensionFields[0]],data:_}],C={changePositionOnly:!1,tooltip:null,dimensionInfo:S,chart:(s=o.globalInstance.getChart())!==null&&s!==void 0?s:void 0,datum:b,model:m.series,source:cn.chart,event:v(m.pos),item:void 0,itemMap:new Map};t.processor.mark.showTooltip({datum:b,mark:null,series:m.series,dimensionInfo:S},C,!1);const k=o.globalInstance;return jo.globalConfig.uniqueTooltip&&jo.hideTooltip(k.id),c}return"none"}const aCt=(i,e)=>{const t=e.getSeries(),n=[];return t.forEach(r=>{var s,a,o,l,u,c,d;const h=r.getDimensionField(),p=r.getMeasureField(),f=r.getSeriesField(),g=X(f)?i[f]:void 0,v=X(f)&&(l=(o=(a=(s=r.getViewDataStatistics)===null||s===void 0?void 0:s.call(r))===null||a===void 0?void 0:a.latestData[f])===null||o===void 0?void 0:o.values)!==null&&l!==void 0?l:[],m=O1(h,i);let b=O1(p,i);const _=xk(b),S=!_&&X(f)&&Y(g)&&v.length>0,C=()=>{var k;const E=(k=r.getViewData())===null||k===void 0?void 0:k.latestData.find(Qy(h,m));if(!_&&(b=O1(p,E),!xk(b)))return;const A=r.type===xe.pie?r.dataToCentralPosition(E):r.dataToPosition(E);Y(A)||isNaN(A.x)||isNaN(A.y)||n.push({pos:A,data:{dimensionFields:h,dimensionData:m,measureFields:p,measureData:b,hasMeasureData:_,groupField:f,groupData:g},series:r})};if(r.coordinate==="cartesian"){const k=r,E=io((c=(u=r.getYAxisHelper())===null||u===void 0?void 0:u.getScale(0))===null||c===void 0?void 0:c.type)?"y":"x",A=h.map((O,M)=>[O,M]).filter(([,O])=>Y(m==null?void 0:m[O]));let P=[m??[]];A.length>0&&A.forEach(([O,M])=>{var D,L,H,B;const F=(B=(H=(L=(D=r.getViewDataStatistics)===null||D===void 0?void 0:D.call(r))===null||L===void 0?void 0:L.latestData[O])===null||H===void 0?void 0:H.values)!==null&&B!==void 0?B:[],z=[];P.forEach(N=>{F.forEach(U=>{var G;const j=(G=N==null?void 0:N.slice())!==null&&G!==void 0?G:[];j[M]=U,z.push(j)})}),P=z}),P.forEach(O=>{var M,D;if(S){const L=(M=k.getViewData())===null||M===void 0?void 0:M.latestData.filter(Qy(h,O));v.forEach(H=>{const B=L.find(z=>z[f]===H);if(b=O1(p,B),!xk(b))return;const F=k.dataToPosition(B);Y(F)||isNaN(F.x)||isNaN(F.y)||n.push({pos:F,data:{dimensionFields:h,dimensionData:O,measureFields:p,measureData:b,hasMeasureData:_,groupField:f,groupData:H},series:r,dimType:E})})}else{const L=(D=k.getViewData())===null||D===void 0?void 0:D.latestData.find(Qy(h,O));if(!_&&(b=O1(p,L),!xk(b)))return;const H=k.dataToPosition(L);if(Y(H)||isNaN(H.x)||isNaN(H.y))return;n.push({pos:H,data:{dimensionFields:h,dimensionData:O,measureFields:p,measureData:b,hasMeasureData:_,groupField:f,groupData:g},dimType:E,series:r})}})}else if(r.coordinate==="polar")if(r.type===xe.pie)C();else{const k=r;if(S){const E=((d=k.getViewData())===null||d===void 0?void 0:d.latestData.filter(Qy(h,m))).find(A=>A[f]===g);v.forEach(A=>{if(b=O1(p,E),!xk(b))return;const P=k.dataToPosition(E);Y(P)||isNaN(P.x)||isNaN(P.y)||n.push({pos:P,data:{dimensionFields:h,dimensionData:m,measureFields:p,measureData:b,hasMeasureData:_,groupField:f,groupData:A},series:r})})}else C()}else r.coordinate==="geo"&&C()}),n},Tv=i=>{var e,t,n;if((i==null?void 0:i.visible)===!1)return[];const r={mark:((e=i==null?void 0:i.mark)===null||e===void 0?void 0:e.visible)!==!1,dimension:((t=i==null?void 0:i.dimension)===null||t===void 0?void 0:t.visible)!==!1,group:((n=i==null?void 0:i.group)===null||n===void 0?void 0:n.visible)!==!1};return X(i==null?void 0:i.activeType)&&Object.keys(r).forEach(s=>{var a;r[s]=(a=i==null?void 0:i.activeType)===null||a===void 0?void 0:a.includes(s)}),Object.keys(r).filter(s=>r[s])};function oCt(i){return Y(i.mark)&&Y(i.model)&&Y(i.datum)}const Gde=(i,e,t)=>{var n,r;return(r=(n=i.tooltipHelper)===null||n===void 0?void 0:n.getDefaultTooltipPattern(e,t))!==null&&r!==void 0?r:null};class lCt{constructor(){this.activeTriggerSet={mark:new Set,dimension:new Set,group:new Set},this.ignoreTriggerSet={mark:new Set,dimension:new Set,group:new Set}}}class hu extends lCt{constructor(e){super(),this._getSeriesCacheInfo=()=>{var t,n,r;const{series:s}=this,a=s.getSeriesField();return{seriesFields:X(a)?we(a):(t=s.getSeriesKeys())!==null&&t!==void 0?t:[],dimensionFields:(n=s.getDimensionField())!==null&&n!==void 0?n:[],measureFields:(r=s.getMeasureField())!==null&&r!==void 0?r:[],type:s.type}},this._getDimensionData=t=>{const{dimensionFields:n}=this._seriesCacheInfo;return n[0]&&(t==null?void 0:t[n[0]])},this._getMeasureData=t=>{const{measureFields:n}=this._seriesCacheInfo;return n[0]&&(t==null?void 0:t[n[0]])},this._getSeriesFieldData=t=>{const{dimensionFields:n,seriesFields:r}=this._seriesCacheInfo;if(X(r[0])&&(t!=null&&t[r[0]]))return t==null?void 0:t[r[0]];const s=n[n.length-1];return n.length>1&&(r.length===0||this.series.getSeriesKeys().length),t==null?void 0:t[s]},this._getSeriesStyle=(t,n,r)=>{var s;for(const a of we(n)){const o=(s=this.series.getSeriesStyle(t))===null||s===void 0?void 0:s(a);if(X(o))return o}return r},this.markTooltipKeyCallback=(t,n)=>this._getSeriesFieldData(t),this.markTooltipValueCallback=(t,n)=>this._getMeasureData(t),this.shapeTypeCallback=(t,n)=>{var r;return(r=this._getSeriesStyle(t,"shape",null))!==null&&r!==void 0?r:this._getSeriesStyle(t,"symbolType",this.series.getDefaultShapeType())},this.shapeColorCallback=(t,n)=>this._getSeriesStyle(t,["fill","stroke"]),this.shapeStrokeCallback=(t,n)=>this._getSeriesStyle(t,["stroke","fill"]),this.dimensionTooltipTitleCallback=(t,n)=>this._getDimensionData(t),this.groupTooltipTitleCallback=(t,n)=>this._getSeriesFieldData(t),this.groupTooltipKeyCallback=(t,n)=>{const{seriesFields:r}=this._seriesCacheInfo;let s=this._seriesCacheInfo.dimensionFields;return r[0]&&(s=s.filter(a=>a!==r[0])),s.map(a=>t==null?void 0:t[a]).join("-")},this.series=e,this.updateTooltipSpec()}updateTooltipSpec(){var e,t,n,r;const s=(t=(e=this.series.getSpec())===null||e===void 0?void 0:e.tooltip)!==null&&t!==void 0?t:{},a=(r=(n=this.series.getChart().getSpec())===null||n===void 0?void 0:n.tooltip)!==null&&r!==void 0?r:{},o=Object.assign(Object.assign({},a),s);["mark","dimension","group"].forEach(l=>{const u=o[l];X(u)&&(o[l]=Object.assign(Object.assign({},u),{title:KW(u.title,{seriesId:this.series.id},!0),content:XW(u.content,{seriesId:this.series.id},!0)}))}),this.spec=o,this.activeType=Tv(o),this._seriesCacheInfo=this._getSeriesCacheInfo()}getDefaultTooltipPattern(e,t){switch(e){case"mark":return{visible:!0,activeType:e,title:{key:void 0,value:this.dimensionTooltipTitleCallback,hasShape:!1},content:[{seriesId:this.series.id,key:this.markTooltipKeyCallback,value:this.markTooltipValueCallback,hasShape:!0,shapeType:this.shapeTypeCallback,shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,shapeHollow:!1}]};case"group":return{visible:!0,activeType:e,title:{key:void 0,value:this.groupTooltipTitleCallback,hasShape:!1},content:[{seriesId:this.series.id,key:this.groupTooltipKeyCallback,value:this.markTooltipValueCallback,hasShape:!0,shapeType:this.shapeTypeCallback,shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,shapeHollow:!1}]};case"dimension":if(t){const n={key:void 0,value:this.dimensionTooltipTitleCallback,hasShape:!1},r=[];return t.forEach(({data:s})=>s.forEach(({series:a})=>{r.push({seriesId:a.id,key:this.markTooltipKeyCallback,value:this.markTooltipValueCallback,hasShape:!0,shapeType:this.shapeTypeCallback,shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,shapeHollow:!1})})),{visible:!0,activeType:e,title:n,content:r}}}return null}}const uF=(i,e,t)=>{const n=Pe(e)?e(i):e;return t?Object.assign(Object.assign({},i),n):Object.assign(Object.assign({},n),i)},KW=(i,e,t)=>X(i)?Pe(i)?(...n)=>uF(i(...n),e,t):uF(i,e,t):void 0,XW=(i,e,t)=>X(i)?we(i).map(n=>Pe(n)?(...r)=>we(n(...r)).map(s=>uF(s,e,t)):uF(n,e,t)):void 0,uCt=(i,e,t,n)=>{var r,s,a,o,l,u,c;const d=Object.assign(Object.assign({},e),{activeType:i}),{style:h={}}=e;switch(i){case"mark":case"group":if(t){const _=(s=(r=t.tooltipHelper)===null||r===void 0?void 0:r.spec)!==null&&s!==void 0?s:{};if(X(_.visible)||X(_.activeType)?d.visible=Tv(_).includes(i):X(e.visible)||X(e.activeType)?d.visible=Tv(e).includes(i):d.visible=!0,d.handler=(o=(a=_.handler)!==null&&a!==void 0?a:e.handler)!==null&&o!==void 0?o:void 0,(l=d.handler)===null||l===void 0?void 0:l.showTooltip)return d}break;case"dimension":if(n!=null&&n.length&&(uTe(n).every(_=>{var S;return!Tv((S=_.tooltipHelper)===null||S===void 0?void 0:S.spec).includes("dimension")})?d.visible=!1:X(e.visible)||X(e.activeType)?d.visible=Tv(e).includes("dimension"):d.visible=!0,d.handler=(u=e.handler)!==null&&u!==void 0?u:void 0,(c=d.handler)===null||c===void 0?void 0:c.showTooltip))return d}const p=cCt(i,t,n),f=dCt(i,t,n),g=Rt({},su(e[i]),f),v=p.title,m=r8(void 0,g,h.shape,void 0,v);X(g.title)?g.title=KW(g.title,Object.assign(Object.assign({},v),m)):g.title=KW(v,m,!0);const b=we(p.content);if(X(g.content)){const _=hCt(b);g.content=XW(g.content,S=>r8(S,g,h.shape,_))}else g.content=XW(b,_=>r8(void 0,g,h.shape,void 0,_),!0);return d[i]=Object.assign(Object.assign(Object.assign({},p),g),{activeType:i}),d},cCt=(i,e,t)=>{var n;let r={};switch(i){case"mark":case"group":e&&(r=(n=Gde(e,i))!==null&&n!==void 0?n:{});break;case"dimension":if(t!=null&&t.length){const s=[];t.forEach(({data:o})=>o.forEach(l=>{const{series:u}=l,c=[Object.assign(Object.assign({},t[0]),{data:[l]})],d=Gde(u,"dimension",c);d&&s.push(d)}));const a=[];s.forEach(({content:o})=>{Pe(o)?a.push(o):a.push(...we(o))}),r=Object.assign(Object.assign({},s[0]),{content:a})}}return r},dCt=(i,e,t)=>{var n,r;let s={};switch(i){case"mark":case"group":if(e){const a=(r=(n=e.tooltipHelper)===null||n===void 0?void 0:n.spec)!==null&&r!==void 0?r:{};s=a[i]?su(a[i]):{}}break;case"dimension":if(t!=null&&t.length){const a=uTe(t).filter(o=>{var l;const u=(l=o.tooltipHelper)===null||l===void 0?void 0:l.spec;return X(u==null?void 0:u.dimension)&&Tv(u).includes("dimension")}).map(o=>o.tooltipHelper.spec.dimension);if(a.length){let o=[];a.every(({content:l})=>Y(l))?o=void 0:a.forEach(({content:l})=>{Y(l)||(Pe(l)?o==null||o.push(l):o==null||o.push(...we(l)))}),s=Object.assign(Object.assign({},a[0]),{content:o})}}}return s},uTe=Nw(i=>i.reduce((e,t)=>e.concat(t.data.map(n=>n.series).filter(X)),[])),hCt=i=>{const e={};return i.forEach(t=>{var n;const r=(n=t.seriesId)!==null&&n!==void 0?n:0;e[r]||(e[r]=t)}),e},r8=(i,e,t,n,r)=>{var s,a,o;t&&(t.shapeSize=(s=t.shapeSize)!==null&&s!==void 0?s:t.size);const l=[i,e,t,(o=n==null?void 0:n[(a=i==null?void 0:i.seriesId)!==null&&a!==void 0?a:0])!==null&&o!==void 0?o:n==null?void 0:n[0],r].filter(X),u=new Set(l.reduce((d,h)=>d.concat(Object.keys(h)),[]).filter(d=>d.toLowerCase().includes("shape"))),c={};return u.forEach(d=>{let h,p=0;do h=l[p++][d];while(p<l.length&&Y(h));h!==void 0&&(c[d]=h)}),c},hl=(i,e,t,n)=>{let r;if(r=Pe(i)?i(e,t):i,n){const{formatFunc:s,args:a}=em(void 0,n,i,e);s&&a&&(r=s(...a))}return r},cF=(i,e,t)=>Y(i)?i:Pe(i)?i(e,t):i,pCt=(i,e,t)=>{if(Y(i))return i;let n=[];return we(i).forEach(r=>{Pe(r)?n=n.concat(we(r(e,t))):n.push(r)}),n};function fCt(i){var e;const t=!((e=i[0])===null||e===void 0)&&e.series?[{data:i,value:""}]:i;for(const{data:n}of t)for(const{datum:r}of n)for(const s of r??[])if(s)return s}class b0{}b0.dom=`${Ut}_TOOLTIP_HANDLER_DOM`,b0.canvas=`${Ut}_TOOLTIP_HANDLER_CANVAS`;const gCt="vchart-tooltip-element",mCt=20,Yde={key:"",value:"..."},qW=(i,e,t)=>{if(!e&&!t)return typeof i!="object"?i==null?void 0:i.toString():i;const n=Yh.getInstance();return e=e||"%Y%m%d",((t=t||"local")==="local"?n.timeFormat:n.timeUTCFormat)(e,i)},vCt=(i,e,t)=>{var n,r,s,a;if(!e||((n=t==null?void 0:t.event)===null||n===void 0?void 0:n.type)==="mouseout")return null;const o={title:{},content:[]},l=cF(i.title,e,t),{visible:u,value:c,valueTimeFormat:d,valueTimeFormatMode:h,valueStyle:p,hasShape:f,valueFormatter:g}=l??{},v=hl(u,e,t)!==!1;if(l&&v){const C=fCt(e);o.title={value:qW(hl(c,C,t,g),d,h),valueStyle:hl(p,C,t),hasShape:f}}else o.title={hasShape:!1,visible:!1};const m=pCt(i.content,e,t),{maxLineCount:b=mCt}=i,_=i.othersLine?Object.assign(Object.assign({},Yde),i.othersLine):Yde,S=C=>{if(C!=null&&C.length)for(const k of C)for(const E of m??[]){const A=Kde(k,E,t);if(A.visible!==!1){if(o.content.length===b-1){o.content.push(Object.assign(Object.assign({},A),_));break}if(!(o.content.length<b))break;o.content.push(A)}}};switch(i.activeType){case"mark":S((r=e[0])===null||r===void 0?void 0:r.datum);break;case"group":S(t.groupDatum);break;case"dimension":for(const{data:C}of e){for(const{datum:k,series:E}of C){if(!Tv((s=E.tooltipHelper)===null||s===void 0?void 0:s.spec).includes("dimension"))continue;const A=(a=m==null?void 0:m.filter(P=>Y(P.seriesId)||P.seriesId===E.id))!==null&&a!==void 0?a:[];for(const P of k){for(const O of A){const M=Kde(P,O,t);if(M.visible!==!1){if(o.content.length===b-1){o.content.push(Object.assign(Object.assign({},M),_));break}if(!(o.content.length<b))break;o.content.push(M)}}if(o.content.length>=b)break}if(o.content.length>=b)break}if(o.content.length>=b)break}}return o.title&&(o.content.length>0&&o.content[0].shapeType?(Y(o.title.shapeType)&&(o.title.shapeType=o.content[0].shapeType),Y(o.title.shapeColor)&&(o.title.shapeColor=o.content[0].shapeColor)):o.title.hasShape=!1),o},Kde=(i,e,t)=>{const n=qW(hl(e.key,i,t,e.keyFormatter),e.keyTimeFormat,e.keyTimeFormatMode),r=qW(hl(e.value,i,t,e.valueFormatter),e.valueTimeFormat,e.valueTimeFormatMode),s=hl(e.visible,i,t)!==!1&&(X(n)||X(r)),a=hl(e.isKeyAdaptive,i,t),o=hl(e.spaceRow,i,t),l=hl(e.shapeType,i,t),u=hl(e.shapeColor,i,t),c=hl(e.shapeFill,i,t),d=hl(e.shapeStroke,i,t),h=hl(e.shapeLineWidth,i,t),p=hl(e.shapeHollow,i,t),f=hl(e.keyStyle,i,t),g=hl(e.valueStyle,i,t);return{key:n,value:r,visible:s,isKeyAdaptive:a,hasShape:e.hasShape,shapeType:l,shapeFill:c,shapeStroke:d,shapeLineWidth:h,shapeHollow:p,shapeColor:u,keyStyle:f,valueStyle:g,spaceRow:o,datum:i}};class fq extends pq{constructor(){super(...arguments),this._visible=!0,this._attributes=null,this._isReleased=!1,this.showTooltip=(e,t,n)=>{const{changePositionOnly:r}=n;return r?this.changeTooltipPosition(n,t):this.changeTooltip(!0,n,t)},this._changeTooltip=(e,t,n)=>this._isReleased?1:e?this._changeTooltipPosition(t,n):(this._clearAllCache(),this._updateTooltip(!1,t),0),this._changeTooltipPosition=(e,t)=>{var n,r,s;if(this._isReleased)return 1;const a=e.event,{tooltipSpec:o,tooltipActual:l,changePositionOnly:u}=e;if(o.enterable){if(!this._isPointerEscaped&&this._isPointerMovingToTooltip(e))return this._isTooltipPaused||(this._isTooltipPaused=!0,this._cachePointerTimer=setTimeout(()=>{this._isPointerEscaped=!0},300)),0;this._isTooltipPaused=!1,this._isPointerEscaped=!1,clearTimeout(this._cachePointerTimer),this._cachePointerPosition=this._getPointerPositionRelativeToTooltipParent(e)}const c=l.activeType;if(o.handler)return(s=(r=(n=o.handler).showTooltip)===null||r===void 0?void 0:r.call(n,c,t,e))!==null&&s!==void 0?s:0;const d=o[c];if(!d)return 1;const h=this._getActualTooltipPosition(l,e,this._getTooltipBoxSize(l,u));l.position=h,d.updatePosition&&(l.position=d.updatePosition(l.position,t,e));let p=(d==null?void 0:d.visible)!==!1;return t&&a.type!=="pointerout"&&l.visible&&(l.title||l.content)||(p=!1),this._updateTooltip(p,Object.assign(Object.assign({},e),{changePositionOnly:u})),0},this._getActualTooltipPosition=(e,t,n)=>{var r,s,a,o,l,u,c;const d=t.event,{tooltipSpec:h}=t,p=(r=t.dimensionInfo)===null||r===void 0?void 0:r[0],f={x:1/0,y:1/0};let{offsetX:g,offsetY:v}=this._option;if(!h)return this._cacheTooltipPosition=void 0,f;const{activeType:m,data:b}=e,_=h[m],S=cF(_.position,b,t),C=(s=cF(_.positionMode,b,t))!==null&&s!==void 0?s:m==="mark"?"mark":"pointer",k=this._getParentElement(h),{width:E=0,height:A=0}=n??{},P=h.renderMode==="canvas",O=(a=t==null?void 0:t.chart)===null||a===void 0?void 0:a.getCanvasRect(),M=(o=O==null?void 0:O.width)!==null&&o!==void 0?o:FS,D=(l=O==null?void 0:O.height)!==null&&l!==void 0?l:BS;let L=!1;const H={width:0,height:0};let B={x:0,y:0},F={x:0,y:0},z=1,N=1;if(Dc(this._env)&&!h.confine){if(H.width=window.innerWidth,H.height=window.innerHeight,!P){F=(u=k==null?void 0:k.getBoundingClientRect())!==null&&u!==void 0?u:f;const Ye=(c=this._compiler.getCanvas())!==null&&c!==void 0?c:this._chartContainer,Je=Ye==null?void 0:Ye.getBoundingClientRect();B={x:Je.x-F.x,y:Je.y-F.y},z=II(Ye,Je),N=II(k,F)}}else H.width=M,H.height=D;const U=N/z;let G,j,K,ie,ae=S,re=S;const J=({orient:Ye,mode:Je,offset:rt})=>{var dt;let at,Gt;const ii=t.model,ci=ii==null?void 0:ii.getLayoutStartPoint();if(g=rt??g,Je==="mark"){L=!0;const qt=t.item,Zt=qt==null?void 0:qt.getBounds();Zt&&ci&&(at=Zt.x1+ci.x,Gt=Zt.x2+ci.x)}else if(Je==="crosshair"&&((dt=p==null?void 0:p.axis)===null||dt===void 0?void 0:dt.getCoordinateType())==="cartesian"){L=!0;const qt=Ude(t.dimensionInfo,W_(this._component.getRegions(),"cartesian"),ci);qt&&(at=qt.start.x,Gt=qt.end.x)}else ae=Ye;if(L)switch(bk(Ye)){case"left":G=at-E*U-g;break;case"right":G=Gt+g;break;case"center":G=(at+Gt)/2-E*U/2;break;case"centerLeft":G=(at+Gt)/2-E*U-g;break;case"centerRight":G=(at+Gt)/2+g}},ne=({orient:Ye,mode:Je,offset:rt})=>{var dt;let at,Gt;const ii=t.model,ci=ii==null?void 0:ii.getLayoutStartPoint();if(v=rt??v,Je==="mark"){L=!0;const qt=t.item,Zt=qt==null?void 0:qt.getBounds();Zt&&ci&&(at=Zt.y1+ci.y,Gt=Zt.y2+ci.y)}else if(Je==="crosshair"&&((dt=p==null?void 0:p.axis)===null||dt===void 0?void 0:dt.getCoordinateType())==="cartesian"){L=!0;const qt=Ude(t.dimensionInfo,W_(this._component.getRegions(),"cartesian"),ci);qt&&(at=qt.start.y,Gt=qt.end.y)}else re=Ye;if(L)switch(Sk(Ye)){case"top":j=at-A*U-v;break;case"bottom":j=Gt+v;break;case"center":j=(at+Gt)/2-A*U/2;break;case"centerTop":j=(at+Gt)/2-A*U-v;break;case"centerBottom":j=(at+Gt)/2+v}};if(yi(S)){if(eCt(S)){const{left:Ye,right:Je,top:rt,bottom:dt}=S;G=T1(Ye,d),j=T1(rt,d),K=T1(Je,d),ie=T1(dt,d)}else if(tCt(S)){const{x:Ye,y:Je}=S;Xe(Ye)||Pe(Ye)?G=T1(Ye,d):J(Ye),Xe(Je)||Pe(Je)?j=T1(Je,d):ne(Je)}}else X(S)&&(J({orient:S,mode:C}),ne({orient:S,mode:C}));let te,Q;const{canvasX:se,canvasY:_e}=d;if(Ce(G))te=G;else if(Ce(K))te=M-E*U-K;else{const Ye=se;switch(bk(ae,"right")){case"center":te=Ye-E*U/2;break;case"left":case"centerLeft":te=Ye-E*U-g;break;case"right":case"centerRight":te=Ye+g}}if(Ce(j))Q=j;else if(Ce(ie))Q=D-A*U-ie;else{const Ye=_e;switch(Sk(re,"bottom")){case"center":Q=Ye-A*U/2;break;case"top":case"centerTop":Q=Ye-A*U-v;break;case"bottom":case"centerBottom":Q=Ye+v}}te*=z,Q*=z,Dc(this._env)&&(te+=B.x,Q+=B.y),te/=N,Q/=N;const{width:le,height:ve}=H,pe=()=>te*N+F.x<0,Fe=()=>(te+E)*N+F.x>le,Ee=()=>Q*N+F.y<0,it=()=>(Q+A)*N+F.y>ve,Qe=()=>{pe()&&(L?te=-F.x/N:bk(S,"right")==="center"?te+=g+E/2:te+=2*g+E)},Ae=()=>{pe()&&(te=-F.x/N)},je=()=>{Fe()&&(L?te=(le-F.x)/N-E:bk(S,"right")==="center"?te-=g+E/2:te-=2*g+E)},We=()=>{Fe()&&(te=(le-F.x)/N-E)},ut=()=>{Ee()&&(L?Q=-F.y/N:Sk(S,"bottom")==="center"?Q+=v+A/2:Q+=2*v+A)},vt=()=>{Ee()&&(Q=0-F.y/N)},_t=()=>{it()&&(L?Q=(ve-F.y)/N-A:Sk(S,"bottom")==="center"?Q-=v+A/2:Q-=2*v+A)},zt=()=>{it()&&(Q=(ve-F.y)/N-A)};switch(bk(S,"right")){case"center":case"centerLeft":case"centerRight":pe()?(Qe(),We()):(je(),Ae());break;case"left":Qe(),We();break;case"right":je(),Ae()}switch(Sk(S,"bottom")){case"center":case"centerTop":case"centerBottom":Ee()?(ut(),zt()):(_t(),vt());break;case"top":ut(),zt();break;case"bottom":_t(),vt()}const Ft={x:te,y:Q};return this._cacheTooltipPosition=Ft,this._cacheTooltipSize={width:E,height:A},Ft}}get env(){return this._env}onAdd(e){super.onAdd(e);const t=e.component;this._component=t,this._chartOption=t.getOption(),this._env=this._chartOption.mode,this._chartContainer=this._chartOption.globalInstance.getContainer(),this._compiler=t.getCompiler(),this._initFromSpec()}hideTooltip(e){return this.changeTooltip(!1,e)}release(){var e,t,n;this._clearAllCache();const r=(e=this._component.getSpec())!==null&&e!==void 0?e:{};r.handler?(n=(t=r.handler).release)===null||n===void 0||n.call(t):(this._removeTooltip(),this._isReleased=!0)}_clearAllCache(){this._isTooltipPaused=!1,this._isPointerEscaped=!1,clearTimeout(this._cachePointerTimer),this._cachePointerTimer=-1,this._cachePointerPosition=void 0,this._cacheTooltipPosition=void 0,this._cacheTooltipSize=void 0}_throttle(e){const t=this._component.getSpec();let n;return n=Xe(t.throttleInterval)?t.throttleInterval:t.renderMode==="html"&&t.transitionDuration?50:10,P0(e,n)}_getDefaultOption(){var e,t;const{offset:n}=this._component.getSpec();return Object.assign(Object.assign({},i8),{offsetX:(e=n==null?void 0:n.x)!==null&&e!==void 0?e:i8.offsetX,offsetY:(t=n==null?void 0:n.y)!==null&&t!==void 0?t:i8.offsetY})}_getTooltipBoxSize(e,t){var n,r,s;if(!t||Y(this._attributes)){const u=(r=(n=this._chartOption)===null||n===void 0?void 0:n.getTheme())!==null&&r!==void 0?r:{};this._attributes=rCt(e,this._component.getSpec(),u)}const{panel:a,panelDomHeight:o}=(s=this._attributes)!==null&&s!==void 0?s:{},l=this._component.getSpec().renderMode==="canvas";return{width:(a==null?void 0:a.width)+(l?a.lineWidth:0),height:(o??(a==null?void 0:a.height))+(l?a.lineWidth:0)}}_getPointerPositionRelativeToTooltipParent(e){var t,n;let{canvasX:r,canvasY:s}=e.event;const{tooltipSpec:a}=e,o={x:1/0,y:1/0},l=a.renderMode==="canvas",u=this._getParentElement(a);let c={x:0,y:0},d={x:0,y:0},h=1,p=1;if(Dc(this._env)&&!a.confine&&!l){d=(t=u==null?void 0:u.getBoundingClientRect())!==null&&t!==void 0?t:o;const f=(n=this._compiler.getCanvas())!==null&&n!==void 0?n:this._chartContainer,g=f==null?void 0:f.getBoundingClientRect();c={x:g.x-d.x,y:g.y-d.y},h=II(f,g),p=II(u,d)}return r*=h,s*=h,Dc(this._env)&&(r+=c.x,s+=c.y),r/=p,s/=p,{x:r,y:s}}_isPointerMovingToTooltip(e){if(!this._cacheTooltipPosition||!this._cacheTooltipSize||!this._cachePointerPosition)return!1;const{width:t,height:n}=this._cacheTooltipSize,{x:r=0,y:s}=this._cacheTooltipPosition,a=this._getPointerPositionRelativeToTooltipParent(e);if(ME(a,{x1:r,y1:s,x2:r+t,y2:s+n},!1))return!0;const o={x:r,y:s},l={x:o.x+t,y:o.y},u={x:o.x,y:o.y+n},c={x:l.x,y:u.y},d=this._cachePointerPosition;return Gy([d,o,l],a.x,a.y)||Gy([d,u,c],a.x,a.y)||Gy([d,o,c],a.x,a.y)||Gy([d,l,u],a.x,a.y)}_getParentElement(e){return e.parentElement}getTooltipContainer(){return this._container}_initFromSpec(){this._option=this._getDefaultOption(),this.changeTooltip=this._throttle(this._changeTooltip),this.changeTooltipPosition=this._throttle(this._changeTooltipPosition)}reInit(){this._initFromSpec()}}fq.specKey="tooltip";const Br=(i,e)=>X(i)?ke(i)?i.map(t=>`${t}px`).join(" "):`${i}px`:e??"initial",cTe=i=>{const e=i.split(" ").map(t=>Number.isNaN(t)?Number.parseFloat(t.substring(0,t.length-2)):Number.parseFloat(t));return e.length===1?e[0]:e};let s8;const yCt=(i=document.body)=>{if(Y(s8)){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",i.appendChild(e);const t=document.createElement("div");e.appendChild(t),s8=e.offsetWidth-t.offsetWidth,e.parentNode.removeChild(e)}return s8};function _Ct(i){var e,t,n;const{panel:r={},title:s,content:a,titleStyle:o={},contentStyle:l={},padding:u,keyWidth:c,valueWidth:d,enterable:h,transitionDuration:p,panelDomHeight:f=0}=i??{},{fill:g,shadow:v,shadowBlur:m,shadowColor:b,shadowOffsetX:_,shadowOffsetY:S,shadowSpread:C,cornerRadius:k,stroke:E,lineWidth:A=0,width:P=0}=r,{value:O={}}=o,{shape:M={},key:D={},value:L={}}=l,H=bCt(M),B=wk(D),F=wk(L),{bottom:z,left:N,right:U,top:G}=Qg(u);return{panel:{width:Br(P+2*A),minHeight:Br(f+2*A),paddingBottom:Br(z),paddingLeft:Br(N),paddingRight:Br(U),paddingTop:Br(G),borderColor:E,borderWidth:Br(A),borderRadius:Br(k),backgroundColor:g?`${g}`:"transparent",boxShadow:v?`${_}px ${S}px ${m}px ${C}px ${b}`:"initial",pointerEvents:h?"auto":"none",transitionDuration:p?`${p}ms`:"initial",transitionProperty:p?"transform":"initial",transitionTimingFunction:p?"ease-out":"initial"},title:Object.assign({marginTop:"0px",marginBottom:a!=null&&a.length?Br(s==null?void 0:s.spaceRow):"0px"},wk(Rt({},O,s==null?void 0:s.value))),content:{},shapeColumn:{common:H,items:a==null?void 0:a.map(({spaceRow:j},K)=>({marginTop:"0px",marginBottom:K<a.length-1?Br(j):"0px"})),width:Br(M.size),marginRight:Br((e=M.spacing)!==null&&e!==void 0?e:8)},keyColumn:{common:B,items:a==null?void 0:a.map(({key:j,spaceRow:K},ie)=>Object.assign(Object.assign(Object.assign({marginTop:"0px",marginBottom:ie<a.length-1?Br(K):"0px"},B),wk(j)),j!=null&&j.multiLine?{width:Br(Math.ceil(j.width))}:void 0)),width:Br(c),marginRight:Br((t=D.spacing)!==null&&t!==void 0?t:26)},valueColumn:{common:F,items:a==null?void 0:a.map(({value:j,spaceRow:K},ie)=>Object.assign(Object.assign(Object.assign({marginTop:"0px",marginBottom:ie<a.length-1?Br(K):"0px"},F),wk(j)),j!=null&&j.multiLine?{width:Br(Math.ceil(j.width))}:void 0)),width:Br(d),marginRight:Br((n=L.spacing)!==null&&n!==void 0?n:0)}}}function wk(i,e){if(!i)return;const{fontFamily:t,fontSize:n,fill:r,textAlign:s,lineHeight:a,fontWeight:o,multiLine:l,wordBreak:u,maxWidth:c}=Rt({},e,i),d={};return d.fontFamily=t,d.fontSize=Br(n),d.color=r,d.textAlign=s,d.lineHeight=Br(kg(a,n)),d.fontWeight=o,d.whiteSpace=l?"initial":"nowrap",d.wordBreak=l?u??"break-word":"normal",d.maxWidth=Br(c),d}function bCt(i,e){if(!i)return;const{size:t}=Rt({},e,i),n={};return n.width=Br(t),n}class zd{static isInstance(e){return!!e&&e.type===zd.type}setOption(e){this._option=e,Object.values(this.children).forEach(t=>t.setOption(e))}getParentEl(){return zd.isInstance(this.parent)?this.parent.product:this.parent}constructor(e,t,n){this.type=zd.type,this._renderContentCache=null,this.children={},this.parent=e,this._option=t,this.childIndex=n??0}init(e,t){}initAll(){this.init(),Object.values(this.children).forEach(e=>e.initAll())}setStyle(e){this.product&&e&&Object.keys(e).forEach(t=>{this.product.style[t]!==e[t]&&(this.product.style[t]=e[t])})}setContent(e){}setVisibility(e){if(!this.product)return;const{style:t}=this.product;t.visibility=e?"visible":"hidden",Object.values(this.children).forEach(n=>n.setVisibility(e))}getVisibility(){var e,t;return!!(!((t=(e=this.product)===null||e===void 0?void 0:e.style)===null||t===void 0)&&t.visibility)&&this.product.style.visibility!=="hidden"}release(){var e;if(Object.values(this.children).forEach(t=>t.release()),this.children={},this.product){try{(e=this.getParentEl())===null||e===void 0||e.removeChild(this.product)}catch{}this.product=null}}createElement(e,t,n,r){const s=xv==null?void 0:xv.createElement(e),a=this.getParentEl();if(!s||!a)return;t&&s.classList.add(...t),n&&Object.keys(n).forEach(l=>{s.style[l]=n[l]}),r&&(s.id=r);let o=this.childIndex;if(zd.isInstance(this.parent)){let l=Number.MAX_VALUE;for(let u=0;u<a.children.length;u++){const c=Object.values(this.parent.children).find(d=>d.product===a.children[u]);c.childIndex>this.childIndex&&c.childIndex<l&&(l=c.childIndex,o=u)}}return o>=a.children.length?a.appendChild(s):a.insertBefore(s,a.children[o]),s}}zd.type="tooltipModel";const SCt={fontSize:"13px",marginBottom:"0px",fontWeight:"normal"},xCt={boxSizing:"border-box"},wCt={display:"inline-block",verticalAlign:"top"},CCt={paddingTop:"0px",paddingBottom:"0px",textAlign:"left",fontWeight:"normal"},kCt={paddingTop:"0px",paddingBottom:"0px",textAlign:"left",fontWeight:"normal"},ECt={paddingTop:"0px",paddingBottom:"0px",textAlign:"right",fontWeight:"normal"},ACt={lineHeight:"normal",boxSizing:"border-box"};class dTe extends zd{init(e,t,n){if(!this.product){const r=this.createElement(n??"div",[...e??[],"shape"],void 0,t);this.product=r}}setStyle(e,t){super.setStyle(e),this.setSvg(t)}setContent(e){this.setSvg(e)}setSvg(e){const t=PCt(e,this._option.valueToHtml);this.product&&t!==this._svgHtmlCache&&(this._svgHtmlCache=t,this.product.innerHTML=t)}release(){super.release(),this._svgHtmlCache=""}}const TCt={star:"M0 -1L0.22451398828979266 -0.3090169943749474L0.9510565162951535 -0.30901699437494745L0.3632712640026804 0.1180339887498948L0.5877852522924732 0.8090169943749473L8.326672684688674e-17 0.3819660112501051L-0.587785252292473 0.8090169943749476L-0.3632712640026804 0.11803398874989487L-0.9510565162951536 -0.30901699437494723L-0.22451398828979274 -0.30901699437494734Z"};function PCt(i,e){var t,n,r,s,a,o,l;if(!(i!=null&&i.hasShape)||!i.symbolType)return"";const{symbolType:u,fill:c,stroke:d,hollow:h=!1}=i,p=i.size?e(i.size):"8px",f=i.lineWidth?e(i.lineWidth)+"px":"0px";let g="currentColor";const v=()=>d?e(d):g,m=cTe(p),b=P=>new CT({symbolType:P,size:m,fill:!0});let _=b((t=TCt[u])!==null&&t!==void 0?t:u);const S=_.getParsedPath();S.path||(_=b(S.pathStr));const C=_.getParsedPath().path,k=C.toString(),E=C.bounds;let A=`${E.x1} ${E.y1} ${E.width()} ${E.height()}`;if(f!=="0px"){const[P,O,M,D]=A.split(" ").map(H=>Number(H)),L=Number(f.slice(0,-2));A=`${P-L/2} ${O-L/2} ${M+L} ${D+L}`}if(!c||ct(c)||h)return g=h?"none":c?e(c):"currentColor",`
    <svg width="${p}" height="${p}" viewBox="${A}"
      style="display: block;">
      <path
        d="${k}"
        style="fill: ${g}; stroke: ${v()}; stroke-width: ${f}"
      >
      </path>
    </svg>`;if(yi(c)){g=(n="gradientColor"+i.index)!==null&&n!==void 0?n:"";let P="";const O=((r=c.stops)!==null&&r!==void 0?r:[]).map(M=>`<stop offset="${e(M.offset.toString())}" stop-color="${e(M.color)}"/>`).join("");return c.gradient==="radial"?P=`<radialGradient id="${g}" cx="50%" cy="50%" r="50%" fx="0%" fy="0%">
      ${O}
      </radialGradient>`:c.gradient==="linear"&&(P=`<linearGradient id="${g}" x1="${100*((s=c.x0)!==null&&s!==void 0?s:0)}%" y1="${100*((a=c.y0)!==null&&a!==void 0?a:0)}%" x2="${100*((o=c.x1)!==null&&o!==void 0?o:0)}%" y2="${100*((l=c.y1)!==null&&l!==void 0?l:0)}%">
      ${O}
      </linearGradient>`),`
    <svg width="${p}" height="${p}" viewBox="-0.5 -0.5 1 1"
      style="display: block;">
      ${P}
      <path
        d="${k}"
        style="fill: url(#${g}); stroke: ${v()}; stroke-width: ${f}"
      >
      </path>
    </svg>`}return""}class hTe extends zd{init(e,t,n){this.product||(this.product=this.createElement(n??"span",e,void 0,t))}setContent(e,t){if(!this.product)return;let n=this._option.valueToHtml(e);t&&(n=n.replaceAll(`
`,"<br>")),n!==this.product.innerHTML&&(this.product.innerHTML=n)}}const Xde={overflowWrap:"normal",wordWrap:"normal"};class a8 extends zd{constructor(e,t,n,r){super(e,t,r),this.className=n}init(){var e,t;this.product||(this.product=this.createElement("div",[this.className]));const n=(t=(e=this._option.getTooltipActual())===null||e===void 0?void 0:e.content)!==null&&t!==void 0?t:[];if(this.className!=="shape-box"||n.some(r=>r.hasShape&&r.shapeType)){Object.keys(this.children).forEach(r=>{const s=lf(r);s>=n.length&&(this.children[s].release(),delete this.children[s])});for(let r=0;r<n.length;r++)if(!this.children[r]){if(this.className==="key-box"||this.className==="value-box"){const s=new hTe(this.product,this._option,r);s.init([this.className.substring(0,this.className.indexOf("-"))],void 0,"div"),this.children[r]=s}else if(this.className==="shape-box"){const s=new dTe(this.product,this._option,r);s.init(["shape"],void 0,"div"),this.children[r]=s}}}else Object.keys(this.children).forEach(r=>{const s=lf(r);this.children[s].release(),delete this.children[s]})}setStyle(){var e,t,n,r;const s=this._option.getTooltipStyle();super.setStyle(Rt({},wCt,s.content,this._getContentColumnStyle()));const a=(t=(e=this._option.getTooltipActual())===null||e===void 0?void 0:e.content)!==null&&t!==void 0?t:[],o=(r=(n=this._option.getTooltipAttributes())===null||n===void 0?void 0:n.content)!==null&&r!==void 0?r:[],l=(u,c)=>{var d,h;const{key:p,isKeyAdaptive:f}=u,{height:g}=o[c],{keyColumn:v}=s,m=Rt({},f?kCt:CCt,Object.assign(Object.assign(Object.assign({height:Br(g)},Xde),v.common),(d=v.items)===null||d===void 0?void 0:d[c]));return ct(p)&&((h=p==null?void 0:p.trim)===null||h===void 0?void 0:h.call(p))!==""||Xe(p)||m.visibility?m.visibility="visible":m.visibility="hidden",m};a.forEach((u,c)=>{var d;this.className==="key-box"?this.children[c].setStyle(l(u,c)):this.className==="value-box"?this.children[c].setStyle(((h,p)=>{var f;const{height:g}=o[p],{valueColumn:v}=s;return Rt({},ECt,Object.assign(Object.assign(Object.assign({height:Br(g)},Xde),v.common),(f=v.items)===null||f===void 0?void 0:f[p]))})(0,c)):this.className==="shape-box"&&((d=this.children[c])===null||d===void 0||d.setStyle(((h,p)=>{var f,g,v,m;const{height:b}=o[p],{shapeColumn:_}=s,S=l(h,p),C=`calc((${(g=(f=S.lineHeight)!==null&&f!==void 0?f:S.fontSize)!==null&&g!==void 0?g:"18px"} - ${(v=_.width)!==null&&v!==void 0?v:"8px"}) / 2)`;return Rt({},ACt,Object.assign(Object.assign({height:Br(b),paddingTop:C},_.common),(m=_.items)===null||m===void 0?void 0:m[p]))})(u,c),this._getShapeSvgOption(u,c)))})}setContent(){var e,t,n,r;const s=(t=(e=this._option.getTooltipActual())===null||e===void 0?void 0:e.content)!==null&&t!==void 0?t:[],a=(r=(n=this._option.getTooltipAttributes())===null||n===void 0?void 0:n.content)!==null&&r!==void 0?r:[];s.forEach((o,l)=>{var u,c,d,h,p,f,g;let v;if(this.className==="key-box"){const m=o.key;v=ct(m)&&((u=m==null?void 0:m.trim)===null||u===void 0?void 0:u.call(m))!==""||Xe(m)?m:jde,(c=this.children[l])===null||c===void 0||c.setContent(v,(d=a[l].key)===null||d===void 0?void 0:d.multiLine)}else if(this.className==="value-box"){const m=o.value;v=ct(m)&&((h=m==null?void 0:m.trim)===null||h===void 0?void 0:h.call(m))!==""||Xe(m)?m:jde,(p=this.children[l])===null||p===void 0||p.setContent(v,(f=a[l].value)===null||f===void 0?void 0:f.multiLine)}else this.className==="shape-box"&&(v=this._getShapeSvgOption(o,l),(g=this.children[l])===null||g===void 0||g.setContent(v))})}_getContentColumnStyle(){var e,t;const n=this._option.getTooltipStyle();switch(this.className){case"shape-box":const r=(t=(e=this._option.getTooltipActual())===null||e===void 0?void 0:e.content)!==null&&t!==void 0?t:[];return Object.assign(Object.assign({},n.shapeColumn),this.className!=="shape-box"||r.some(s=>s.hasShape&&s.shapeType)?{}:{display:"none"});case"key-box":return n.keyColumn;case"value-box":return n.valueColumn}}_getShapeSvgOption(e,t){var n,r;const s=this._option.getTooltipStyle(),a=Object.assign(Object.assign({},s.shapeColumn),(n=s.shapeColumn.items)===null||n===void 0?void 0:n[t]);return{hasShape:e.hasShape,symbolType:e.shapeType,size:a.width,fill:(r=e.shapeFill)!==null&&r!==void 0?r:e.shapeColor,stroke:e.shapeStroke,lineWidth:e.shapeLineWidth,hollow:e.shapeHollow,index:t}}}class OCt extends zd{init(){this.product||(this.product=this.createElement("div",["container-box"])),this.shapeBox||this._initShapeBox(),this.keyBox||this._initKeyBox(),this.valueBox||this._initValueBox()}_initShapeBox(){const e=new a8(this.product,this._option,"shape-box",0);e.init(),this.shapeBox=e,this.children[e.childIndex]=e}_initKeyBox(){const e=new a8(this.product,this._option,"key-box",1);e.init(),this.keyBox=e,this.children[e.childIndex]=e}_initValueBox(){const e=new a8(this.product,this._option,"value-box",2);e.init(),this.valueBox=e,this.children[e.childIndex]=e}setStyle(e){super.setStyle(Rt(this._getContentContainerStyle(),e)),Object.values(this.children).forEach(t=>{t.setStyle()})}setContent(){Object.values(this.children).forEach(e=>{e.setContent()})}_getContentContainerStyle(){const e={whiteSpace:"nowrap",lineHeight:"0px"},{panelDomHeight:t,panel:n,maxContentHeight:r}=this._option.getTooltipAttributes();if(X(r)&&t<n.height){const{shapeColumn:s={},keyColumn:a={},valueColumn:o={},panel:l={}}=this._option.getTooltipStyle(),u=[s.width,s.marginRight,a.width,a.marginRight,o.width,o.marginRight,l.paddingRight].reduce((c,d)=>c+cTe(d),0);return Object.assign(Object.assign({},e),{width:`${u+yCt(this._option.getContainer())}px`,maxHeight:Br(r),overflow:"auto"})}return e}release(){super.release(),this.shapeBox=null,this.keyBox=null,this.valueBox=null}}class MCt extends zd{init(){const e=this._option.getTooltipActual();this.product||(this.product=this.createElement("h2"));const{title:t}=e;t!=null&&t.hasShape&&(t!=null&&t.shapeType)?this.shape||this._initShape():this.shape&&this._releaseShape(),this.textSpan||this._initTextSpan()}_initShape(){const e=new dTe(this.product,this._option,0);e.init(),this.shape=e,this.children[e.childIndex]=e}_releaseShape(){this.shape&&(this.shape.release(),delete this.children[this.shape.childIndex],this.shape=null)}_initTextSpan(){const e=new hTe(this.product,this._option,1);e.init(),this.textSpan=e,this.children[e.childIndex]=e}setStyle(e){var t,n,r,s;const a=this._option.getTooltipStyle(),o=this._option.getTooltipActual(),{title:l}=o;super.setStyle(Rt({},SCt,a.title,e)),(t=this.shape)===null||t===void 0||t.setStyle({paddingRight:(n=a.shapeColumn.common)===null||n===void 0?void 0:n.marginRight},{hasShape:l==null?void 0:l.hasShape,symbolType:l==null?void 0:l.shapeType,size:(r=a.shapeColumn.common)===null||r===void 0?void 0:r.width,fill:l==null?void 0:l.shapeColor,hollow:l==null?void 0:l.shapeHollow}),(s=this.textSpan)===null||s===void 0||s.setStyle({color:"inherit"})}setContent(){var e,t,n,r,s,a;const o=this._option.getTooltipStyle(),l=this._option.getTooltipActual(),u=this._option.getTooltipAttributes(),{title:c}=l;this.init(),(e=this.shape)===null||e===void 0||e.setStyle(void 0,{hasShape:c==null?void 0:c.hasShape,symbolType:c==null?void 0:c.shapeType,size:(t=o.shapeColumn.common)===null||t===void 0?void 0:t.width,fill:c==null?void 0:c.shapeColor,hollow:c==null?void 0:c.shapeHollow}),(n=this.textSpan)===null||n===void 0||n.setStyle({color:"inherit"}),(r=this.textSpan)===null||r===void 0||r.setContent(c==null?void 0:c.value,(a=(s=u.title)===null||s===void 0?void 0:s.value)===null||a===void 0?void 0:a.multiLine)}release(){super.release(),this.shape=null,this.textSpan=null}}const pTe="99999999999999";class ICt extends zd{constructor(e,t,n){super(e.getContainer(),e,0),this.title=null,this.content=null,this._classList=t,this._id=n}setVisibility(e){if(super.setVisibility(e),!this.product)return;const{classList:t}=this.product;e?t.add("visible"):t.remove("visible")}init(){var e;const t=this._option.getTooltipActual();this.product||this._initPanel(this._classList,this._id);const{title:n}=t;(n==null?void 0:n.visible)!==!1&&X(n==null?void 0:n.value)?this.title||this._initTitle():this.title&&this._releaseTitle(),((e=t.content)!==null&&e!==void 0?e:[]).length>0?this.content||this._initContent():this.content&&this._releaseContent()}_initPanel(e,t){const n=this.createElement("div",e,{left:"0",top:"0",pointerEvents:"none",padding:"12px",position:"absolute",zIndex:pTe,fontFamily:"sans-serif",fontSize:"11px",borderRadius:"3px",borderStyle:"solid",lineHeight:"initial",background:"#fff",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.1)",maxWidth:"100wh",maxHeight:"100vh"},t);this.product=n}_initTitle(){const e=new MCt(this.product,this._option,0);e.init(),this.title=e,this.children[e.childIndex]=e}_releaseTitle(){this.title&&(this.title.release(),delete this.children[this.title.childIndex],this.title=null)}_initContent(){const e=new OCt(this.product,this._option,1);e.init(),this.content=e,this.children[e.childIndex]=e}_releaseContent(){this.content&&(this.content.release(),delete this.children[this.content.childIndex],this.content=null)}setStyle(){const e=this._option.getTooltipStyle();super.setStyle(Rt({},xCt,e.panel)),Object.values(this.children).forEach(t=>t.setStyle())}setContent(){Object.values(this.children).forEach(e=>{e.setContent()})}release(){super.release(),this.title=null,this.content=null}}const fTe=i=>{ce.registerComponentPlugin(i.type,i)};class F$ extends fq{getVisibility(){var e;return!!(!((e=this.model)===null||e===void 0)&&e.getVisibility())}setVisibility(e){var t;e!==this.getVisibility()&&((t=this.model)===null||t===void 0||t.setVisibility(e))}constructor(){super(F$.type),this.type=b0.dom,this._tooltipContainer=xv==null?void 0:xv.body}onAdd(e){super.onAdd(e),this._initStyle(),this.initEl()}initEl(){const e=this._component.getSpec(),t=e.parentElement;if(xv&&t){for(let n=0;n<t.children.length;n++)if(t.children[n].classList.contains(Nde)){this._container=t.children[n];break}this._container||(this._container=xv.createElement("div"),this._container.style.position="relative",this._container.style.zIndex=pTe,this._container.classList.add(Nde),t.appendChild(this._container)),this.model=new ICt({valueToHtml:this._option.sanitize,getTooltipStyle:()=>this._domStyle,getTooltipActual:()=>this._tooltipActual,getTooltipAttributes:()=>this._attributes,getContainer:()=>this._container},[e.className],this.name)}}_removeTooltip(){var e;(e=this.model)===null||e===void 0||e.release(),this._container=null}_updateTooltip(e,t){var n,r;const{tooltipActual:s,tooltipSpec:a}=t;if(e&&this.model){if(!t.changePositionOnly){this._tooltipActual=s,this._initStyle();const l=!this.model.product;this.model.initAll(),l&&this._initEvent(this.model.product),this.model.setStyle(),this.model.setContent()}this.setVisibility(e);const o=this.model.product;if(o){const{x:l=0,y:u=0}=(n=s.position)!==null&&n!==void 0?n:{};if(a.updateElement){this._updatePosition((r=this._cacheCustomTooltipPosition)!==null&&r!==void 0?r:{x:l,y:u}),a.updateElement(o,s,t);const c=this._getActualTooltipPosition(s,t,{width:o.offsetWidth,height:o.offsetHeight});this._updatePosition(c),this._cacheCustomTooltipPosition=c}else this._updatePosition({x:l,y:u})}}else this.setVisibility(e),this._cacheCustomTooltipPosition=void 0}_initStyle(){this._domStyle=_Ct(this._attributes)}_getParentElement(e){var t;return(t=this._container)!==null&&t!==void 0?t:super._getParentElement(e)}isTooltipShown(){return this.getVisibility()}reInit(){super.reInit(),this._initStyle()}_updatePosition({x:e,y:t}){const n=this.model.product;n&&(n.style.transform=`translate3d(${e}px, ${t}px, 0)`)}_initEvent(e){e.addEventListener("pointerleave",t=>{const{renderMode:n,enterable:r}=this._component.getSpec(),s=t.relatedTarget;n==="html"&&r&&(Y(s)||s!==this._compiler.getCanvas()&&!_xe(s,this.getTooltipContainer()))&&this._component.hideTooltip()})}}F$.type=b0.dom;const RCt=()=>{fTe(F$)};class B$ extends fq{constructor(){super(B$.type),this.type=b0.canvas}onAdd(e){var t;super.onAdd(e),this._tooltipCanvasId=(t=this._chartOption.modeParams)===null||t===void 0?void 0:t.tooltipCanvasId}_initTooltipComponent(e){const t=this._getLayer(e);this._tooltipComponent=new Xke({autoCalculatePosition:!1,autoMeasure:!1}),t.add(this._tooltipComponent)}_getLayer(e){if(this._layer)return this._layer;this._layer=e.createLayer(this._tooltipCanvasId);const t=this._layer.layerHandler.canvas.nativeCanvas;return t&&t.style&&(t.style.touchAction="none",t.style.pointerEvents="none"),this._layer}_removeTooltip(){this._layer&&this._layer.removeAllChild(),this._attributes=null}_updateTooltip(e,t){this._visible=e;const n=this._compiler.getStage();if(!n)return;if(!e)return void(this._tooltipComponent&&this._tooltipComponent.attribute.visible&&(this._tooltipComponent.hideAll(),this._tooltipComponent.setAttributes({visibleAll:!1})));this._tooltipComponent||this._initTooltipComponent(n);const{tooltipActual:r}=t,s=r.position;t.changePositionOnly?X(s)&&this._tooltipComponent.setAttributes(s):this._tooltipComponent.setAttributes(Object.assign(Object.assign({},this._attributes),s)),this._tooltipComponent.attribute.visible||(this._tooltipComponent.showAll(),this._tooltipComponent.setAttributes({visibleAll:!0}))}isTooltipShown(){var e;return(e=this._tooltipComponent)===null||e===void 0?void 0:e.attribute.visibleAll}release(){var e;super.release(),(e=this._layer)===null||e===void 0||e.release()}}B$.type=b0.canvas;const DCt=()=>{fTe(B$)},Yw=(i,e)=>{const t=e.beforeCall();return i.forEach((n,r)=>e.call(n,r,t)),t.keyMap&&(t.keyMap.clear(),t.keyMap=null),i},LCt={min:i=>i.length?ca(i.map(e=>1*e)):0,max:i=>i.length?Os(i.map(e=>1*e)):0,"array-min":i=>i.length?ca(i.map(e=>1*e)):0,"array-max":i=>i.length?Os(i.map(e=>1*e)):0,values:i=>{const e={},t=[];for(const n of i)e[n]||(t.push(n),e[n]=1);return t}},ZW=(i,e)=>{var t,n;let r=e.fields;if(Pe(r)&&(r=r()),!(r!=null&&r.length)||!(i!=null&&i.length))return{};r=px([],r);const s=e.target==="parser"?"parserData":"latestData",a=i[0][s]?i[0][s]:i||[],o=(n=(t=i[0]).getFields)===null||n===void 0?void 0:n.call(t);return gTe(a,r,o)},gTe=(i,e,t)=>{const n={};let r=[],s=[];return e.forEach(a=>{const o=a.key;n[o]={};const l=t==null?void 0:t[o],u=a.operations,c=u.some(p=>p==="min"||p==="max"||p==="allValid");let d=!0;r.length=0,i.forEach(p=>{p&&r.push(p[o])});const h=r.length;if(c){s.length=0,r.forEach((f,g)=>{Kx(f)&&s.push(f)});const p=r;r=s,s=p,d=r.length===h}else r=u.some(p=>p==="array-min"||p==="array-max")?r.reduce((p,f)=>(f&&f.forEach(g=>{Kx(g)&&p.push(g)}),p),[]):r.filter(p=>p!==void 0);a.filter&&(r=r.filter(a.filter)),u.forEach(p=>{if(a.customize)n[o][p]=a.customize;else{if(l&&l.lockStatisticsByDomain&&!Y(l.domain)){if(p==="values")return void(n[o][p]=l.domain.slice())}else if(p==="allValid")return;n[o][p]=LCt[p](r),p==="array-max"&&(n[o].max=n[o][p]),p==="array-min"&&(n[o].min=n[o][p])}}),c&&(n[o].allValid=d)}),n},FCt=(i,e)=>{const{config:t}=e;if(!t)return i;const{invalidType:n,checkField:r}=t();return n!=="zero"||r&&r.length&&i.forEach(s=>{r.forEach(a=>{Kx(s[a])||(s[a]=0)})}),i};class kf extends Cf{_compileProduct(){var e;const t=(e=this._data)===null||e===void 0?void 0:e.latestData;Y(t)||X(this.getProduct())||this._initProduct([])}generateProductId(){var e;return(e=this._data)===null||e===void 0?void 0:e.name}}const KT=`${Ut}_HIERARCHY_DEPTH`,Bg=`${Ut}_HIERARCHY_ROOT`,BCt=`${Ut}_HIERARCHY_ROOT_INDEX`;function tw(){return{keyMap:new Map,needDefaultSeriesField:!this._seriesField,defaultSeriesField:this._seriesField?null:this.getSeriesKeys()[0],getKey:this.generateDefaultDataKey(this._spec.dataKey)}}function eb(i,e,t){i&&(t.needDefaultSeriesField&&(i[$u]=t.defaultSeriesField),i[Tl]=e,i[rp]=t.getKey(i,e,t))}function gq(){return{keyMap:new Map,needDefaultSeriesField:!0,defaultSeriesField:this.getSeriesKeys()[0],getKey:this.generateDefaultDataKey(this._spec.dataKey),categoryField:this.getCategoryField()}}function $$(i,e,t,n=0,r,s){s===void 0&&(s=e),eb(i,e,t),i[KT]=n,i[Bg]=r||i[t.categoryField],i[BCt]=s,i.children&&i.children.length&&i.children.forEach((a,o)=>$$(a,o,t,i[KT]+1,i[Bg],s))}const qde=["appear","enter","update","exit","disappear","normal"];function Yi(i={},e,t){const n={};for(let r=0;r<qde.length;r++){const s=qde[r],a=e?e[s]:void 0;if(a===!1)continue;if(s==="normal"){a&&(n.normal=a);continue}if(s!=="update"&&!a&&!i[s])continue;let o,l;o=ke(i[s])?i[s]:[Object.assign(Object.assign({},Av[s]),i[s])],s==="exit"&&o.forEach(u=>{u.controlOptions={stopWhenStateChange:!0}}),a?(l=ke(a)?a.map((u,c)=>{var d;let h=u;return Jde(h)&&delete h.type,h.oneByOne&&(h=Zde(h,(d=t==null?void 0:t.dataIndex)!==null&&d!==void 0?d:Qde,t==null?void 0:t.dataCount)),h}):o.map((u,c)=>{var d;let h=Rt({},o[c],a);return Jde(h)&&delete h.type,h.oneByOne&&(h=Zde(h,(d=t==null?void 0:t.dataIndex)!==null&&d!==void 0?d:Qde,t==null?void 0:t.dataCount)),h}),n[s]=l):n[s]=o}return n.state=n.update,n}function an(i,e,t){var n,r,s,a,o;const l={};return X(e.animationAppear)&&(l.appear=(n=e.animationAppear[i])!==null&&n!==void 0?n:e.animationAppear),X(e.animationDisappear)&&(l.disappear=(r=e.animationDisappear[i])!==null&&r!==void 0?r:e.animationDisappear),X(e.animationEnter)&&(l.enter=(s=e.animationEnter[i])!==null&&s!==void 0?s:e.animationEnter),X(e.animationExit)&&(l.exit=(a=e.animationExit[i])!==null&&a!==void 0?a:e.animationExit),X(e.animationUpdate)&&(l.update=(o=e.animationUpdate[i])!==null&&o!==void 0?o:e.animationUpdate),e.animationNormal&&e.animationNormal[i]&&(l.normal=e.animationNormal[i]),NCt(l,t)}function Zde(i,e,t){const{oneByOne:n,duration:r,delay:s,delayAfter:a}=i;return i.delay=(o,l,u)=>{const c=e(o,u),d=Pe(r)?r(o,l,u):Ce(r)?r:0,h=Pe(s)?s(o,l,u):Ce(s)?s:0;let p=Pe(n)?n(o,l,u):n;return p===!1?h:(p=p===!0?0:p,h+c*(d+p))},i.delayAfter=(o,l,u)=>{const c=e(o,u),d=Pe(r)?r(o,l,u):Ce(r)?r:0,h=Pe(a)?a(o,l,u):Ce(a)?a:0;let p=Pe(n)?n(o,l,u):n;return p===!1?h:(p=p===!0?0:p,h+((t?t():l.mark.elements.length)-c)*(d+p))},delete i.oneByOne,i}function Qde(i,e){var t,n;return(t=i==null?void 0:i[Tl])!==null&&t!==void 0?t:(n=e==null?void 0:e.VGRAMMAR_ANIMATION_PARAMETERS)===null||n===void 0?void 0:n.elementIndex}function ym(i,e){var t,n,r,s,a;if(i.animation===!1||((t=i.morph)===null||t===void 0?void 0:t.enable)===!1)return!1;const o=((r=(n=i.animationAppear)===null||n===void 0?void 0:n[e])!==null&&r!==void 0?r:i.animationAppear)!==!1,l=((a=(s=i.animationUpdate)===null||s===void 0?void 0:s[e])!==null&&a!==void 0?a:i.animationUpdate)!==!1;return!(!o||!l)}function $Ct(i){return X(i.timeSlices)}function Jde(i){return!$Ct(i)&&X(i.channel)}function NCt(i,e){return i&&(QW(i=su(i),t=>{var n;return Pe(t)&&((n=t.prototype)===null||n===void 0?void 0:n.constructor)!==t?(...r)=>t(...r,e):t}),i)}function QW(i,e){if(ke(i))i.forEach((t,n)=>{i[n]=e(i[n],n),QW(i[n],e)});else if(yi(i))for(const t in i)i[t]=e(i[t],t),QW(i[t],e)}function jCt(i){var e,t,n,r;const s=i.getSpec();if(s.animation===!1||!X(i.getRegion().animate))return!1;let a=(e=s.animationThreshold)!==null&&e!==void 0?e:Number.MAX_SAFE_INTEGER;return(t=i.getMarks())===null||t===void 0||t.forEach(o=>{const l=o.getProgressiveConfig();l&&(l.large&&l.largeThreshold&&(a=Math.min(a,l.largeThreshold)),l.progressiveThreshold&&(a=Math.min(a,l.progressiveThreshold)))}),!(((r=(n=i.getRawData())===null||n===void 0?void 0:n.latestData)===null||r===void 0?void 0:r.length)>=a)}class pu extends M${constructor(){super(...arguments),this.markLabelSpec={}}getLabelSpec(e){return this.markLabelSpec[e]}setLabelSpec(e,t){this.markLabelSpec[e]=we(t)}addLabelSpec(e,t,n=!1){this.markLabelSpec[e]||(this.markLabelSpec[e]=[]),n?this.markLabelSpec[e].unshift(t):this.markLabelSpec[e].push(t)}getTheme(e,t){var n,r,s;const a=pAe(e),o=(n=this._option)===null||n===void 0?void 0:n.getTheme(),{markByName:l,mark:u}=o,c=this._option.type,d=bAe(bi(o,`series.${c}`),c,u,l),h=bi(o,`series.${c}_${a}`),p=((s=(r=this.stack)!==null&&r!==void 0?r:h==null?void 0:h.stack)!==null&&s!==void 0?s:d!=null&&d.stack)?bi(o,`series.${c}_stack`):void 0;return Rt({},d,h,p)}transformSpec(e,t,n){this._transformStack(e);const r=super.transformSpec(e,t,n);return this._transformLabelSpec(r.spec),Object.assign(Object.assign({},r),{markLabelSpec:this.markLabelSpec,stack:this.stack})}_transformLabelSpec(e){}_transformStack(e){Ir(e.stack)&&(this.stack=e.stack),Ir(e.percent)&&(this.stack=e.percent||this.stack),Ir(e.stackOffsetSilhouette)&&(this.stack=e.stackOffsetSilhouette||this.stack),X(e.stackValue)&&(this.stack=!0),Y(this.stack)&&this._supportStack&&e.seriesField&&(this.stack=!0)}_addMarkLabelSpec(e,t,n="label",r="initLabelMarkStyle",s,a){e&&we(e[n]).forEach(o=>{o&&o.visible&&this.addLabelSpec(t,Object.assign(Object.assign({animation:s??e.animation},o),{getStyleHandler:l=>{var u;return(u=l[r])===null||u===void 0?void 0:u.bind(l)}}),a)})}_getDefaultSpecFromChart(e){var t;const n=(t=super._getDefaultSpecFromChart(e))!==null&&t!==void 0?t:{},{outerRadius:r,innerRadius:s,direction:a}=e;return X(r)&&(n.outerRadius=r),X(s)&&(n.innerRadius=s),X(a)&&(n.direction=a),Object.keys(n).length>0?n:void 0}_mergeThemeToSpec(e,t){const n=this._theme;if(this._shouldMergeThemeToSpec()){const r=this._getDefaultSpecFromChart(t),s=a=>{const o=Rt({},n,r,a),l=n.label;return l&&yi(l)&&ke(o.label)&&(o.label=o.label.map(u=>Rt({},l,u))),o};return ke(e)?{spec:e.map(a=>s(a)),theme:n}:{spec:s(e),theme:n}}return{spec:e,theme:n}}}function zCt(i){return i===na["desktop-browser"]||i===na["desktop-miniApp"]?{hover:{enable:!0,trigger:"pointermove",triggerOff:"view:pointerleave"},select:{enable:!0,trigger:"pointertap"}}:m0(i)||O0(i)?{hover:{enable:!0,trigger:["pointerdown","pointermove"],triggerOff:"view:pointerleave"},select:{enable:!0,trigger:"tap"}}:null}class tb extends cq{getRegion(){return this._region}getLayoutStartPoint(){return this._region.getLayoutStartPoint()}getRootMark(){return this._rootMark}getSeriesMark(){return this._seriesMark}getRawData(){return this._rawData}getViewDataFilter(){return this._viewDataFilter}getViewData(){var e;return(e=this._data)===null||e===void 0?void 0:e.getDataView()}getViewDataProductId(){var e;return(e=this._data)===null||e===void 0?void 0:e.getProductId()}getViewDataStatistics(){return this._viewDataStatistics}getViewStackData(){return this._viewStackData}getSeriesField(){return this._seriesField}setSeriesField(e){X(e)&&(this._seriesField=e,this.getMarks().filter(t=>t.getDataView()===this.getViewData()).forEach(t=>{t.setFacet(this._seriesField)}))}getGroups(){return this._groups}getStack(){var e;return(e=this.getSpecInfo())===null||e===void 0?void 0:e.stack}getStackValue(){var e;return(e=this._spec.stackValue)!==null&&e!==void 0?e:`${Ut}_series_${this.type}`}getPercent(){return this._spec.percent}getStackOffsetSilhouette(){return this._spec.stackOffsetSilhouette}get tooltipHelper(){return this._tooltipHelper||this.initTooltip(),this._tooltipHelper}getInvalidType(){return this._invalidType}setInvalidType(e){var t;this._invalidType=e,(t=this.getViewData())===null||t===void 0||t.reRunAllTransform()}getMarkAttributeContext(){return this._markAttributeContext}constructor(e,t){var n;super(e,t),this.specKey="series",this.type="series",this.layoutType="absolute",this.modelType="series",this.name=void 0,this.transformerConstructor=pu,this.coordinate="none",this._region=null,this._layoutStartPoint={x:0,y:0},this._layoutRect={width:null,height:null},this.getLayoutRect=()=>{var r,s;return{width:(r=this._layoutRect.width)!==null&&r!==void 0?r:this._region.getLayoutRect().width,height:(s=this._layoutRect.height)!==null&&s!==void 0?s:this._region.getLayoutRect().height}},this._rootMark=null,this._seriesMark=null,this._viewDataMap=new Map,this._viewDataFilter=null,this._data=null,this.layoutZIndex=0,this._invalidType="break",this._region=t.region,this._dataSet=t.dataSet,!((n=this._spec)===null||n===void 0)&&n.name&&(this.name=this._spec.name)}created(){super.created(),this._buildMarkAttributeContext(),this.initData(),this.initGroups(),this.initStatisticalData(),this.event.emit(Pt.afterInitData,{model:this}),this.initRootMark(),this.initMark();const e=jCt(this);this._initExtensionMark({hasAnimation:e}),this.initMarkStyle(),this.initMarkState(),e&&this.initAnimation(),this._option.disableTriggerEvent||this.initInteraction(),this.afterInitMark(),this.initEvent(),this.event.emit(Pt.afterInitEvent,{model:this})}_buildMarkAttributeContext(){this._markAttributeContext={vchart:this._option.globalInstance,globalScale:(e,t)=>{var n;return(n=this._option.globalScale.getScale(e))===null||n===void 0?void 0:n.scale(t)},seriesColor:e=>{var t;return Y(e)&&(e=this.getSeriesKeys()[0]),(t=this._option.globalScale.getScale("color"))===null||t===void 0?void 0:t.scale(e)},getRegion:()=>this._region}}setAttrFromSpec(){super.setAttrFromSpec(),this.setSeriesField(this._spec.seriesField),X(this._spec.invalidType)&&(this._invalidType=this._spec.invalidType)}getInvalidCheckFields(){return[this.getStackValueField()]}initInvalidDataTransform(){var e,t;this._invalidType==="zero"&&(!((e=this._rawData)===null||e===void 0)&&e.dataSet)&&(pi(this._rawData.dataSet,"invalidTravel",FCt),(t=this._rawData)===null||t===void 0||t.transform({type:"invalidTravel",options:{config:()=>({invalidType:this._invalidType,checkField:this.getInvalidCheckFields()})}},!1))}initData(){var e,t,n,r;const s=(e=this._spec.data)!==null&&e!==void 0?e:this._option.getSeriesData(this._spec.dataId,this._spec.dataIndex);if(s&&(this._rawData=oq(s,this._dataSet,this._option.sourceDataList,{onError:(t=this._option)===null||t===void 0?void 0:t.onError})),(r=(n=this._rawData)===null||n===void 0?void 0:n.target)===null||r===void 0||r.addListener("change",this.rawDataUpdate.bind(this)),this._addDataIndexAndKey(),this._rawData){this.getStack()&&(this._viewDataFilter=YW(this._rawData,this._dataSet,{name:`${this.type}_${this.id}_viewDataFilter`}));const a=YW(this.getStack()?this._viewDataFilter:this._rawData,this._dataSet,{name:`${this.type}_${this.id}_viewData`});this._data=new kf(this._option,a),this.getStack()&&this._viewDataFilter.target.removeListener("change",a.reRunAllTransform)}this.initInvalidDataTransform()}initGroups(){const e=this.getGroupFields();e&&e.length&&(this._groups={fields:e})}initStatisticalData(){this._data&&this._statisticViewData()}getRawDataStatisticsByField(e,t){var n,r;if(this._rawStatisticsCache||(this._rawStatisticsCache={}),!this._rawStatisticsCache[e]){if(this._viewDataStatistics&&(!this._viewDataFilter||this._viewDataFilter.transformsArr.length<=1)&&this.getViewData().transformsArr.length<=1&&(!((n=this._viewDataStatistics.latestData)===null||n===void 0)&&n[e]))this._rawStatisticsCache[e]=this._viewDataStatistics.latestData[e];else if(this._rawData){const s=(r=this._rawData.getFields())===null||r===void 0?void 0:r[e];s&&s.lockStatisticsByDomain&&s.domain?(this._rawStatisticsCache[e]={},t?(this._rawStatisticsCache[e].min=ca(s.domain),this._rawStatisticsCache[e].max=Os(s.domain)):this._rawStatisticsCache[e].values=s.domain):this._rawStatisticsCache[e]=gTe(this._rawData.latestData,[{key:e,operations:t?["min","max"]:["values"]}])[e]}}return t&&(Y(this._rawStatisticsCache[e].min)||Y(this._rawStatisticsCache[e].max))&&(this._rawStatisticsCache[e].min=ca(this._rawStatisticsCache[e].values),this._rawStatisticsCache[e].max=Os(this._rawStatisticsCache[e].values)),this._rawStatisticsCache[e]}_statisticViewData(){pi(this._dataSet,"dimensionStatistics",ZW);const e=`${this.type}_${this.id}_viewDataStatic`;this._viewDataStatistics=new vn(this._dataSet,{name:e}),this._viewDataStatistics.parse([this._data.getDataView()],{type:"dataview"}),this._viewDataStatistics.transform({type:"dimensionStatistics",options:{fields:()=>{const t=this.getStatisticFields();return this._seriesField&&px(t,[{key:this._seriesField,operations:["values"]}]),t},target:"latest"}},!1),this._data.getDataView().target.removeListener("change",this._viewDataStatistics.reRunAllTransform),this.getStack()&&this.createdStackData()}createStatisticalData(e,t,n){pi(this._dataSet,"dimensionStatistics",ZW);const r=new vn(this._dataSet,{name:e});return r.parse([t],{type:"dataview"}),r.transform({type:"dimensionStatistics",options:{operations:["max","min","values"],fields:()=>{var s;const a=px(this.getStatisticFields(),(s=n==null?void 0:n(t.name))!==null&&s!==void 0?s:[]);return this._seriesField&&px(a,[{key:this._seriesField,operations:["values"]}]),a},target:"latest"}},!1),r}createdStackData(){const e=`${this.type}_${this.id}_viewStackData`;this._viewStackData=new vn(this._dataSet,{name:e}),this._viewStackData.parse([this._viewDataFilter],{type:"dataview"}),this._viewStackData.transform({type:"stackSplit",options:{fields:this.getStackGroupFields()}},!1)}_noAnimationDataKey(e,t){return t}generateDefaultDataKey(e){var t;return Y(e)?(n,r,s)=>{if(this._spec.animation===!1){const l=this._noAnimationDataKey(n,r);if(l!==void 0)return l}const{keyMap:a}=s,o=this._getSeriesDataKey(n);return a.get(o)===void 0?(a.set(o,0),o):(a.set(o,a.get(o)+1),`${o}_${a.get(o)}`)}:ct(e)?n=>n[e]:ke(e)&&e.every(n=>ct(n))?n=>e.map(r=>n[r]).join("-"):Pe(e)?(n,r)=>e(n,r):((t=this._option)===null||t===void 0||t.onError(`invalid dataKey: ${e}`),(n,r)=>{})}_addDataIndexAndKey(){var e;!((e=this._rawData)===null||e===void 0)&&e.dataSet&&(pi(this._rawData.dataSet,"addVChartProperty",Yw),this._rawData.transform({type:"addVChartProperty",options:{beforeCall:tw.bind(this),call:eb}},!1))}updateRawData(e){this._rawData&&this._rawData.updateRawData(e)}rawDataUpdate(e){var t;(t=this._rawDataStatistics)===null||t===void 0||t.reRunAllTransform(),this._rawStatisticsCache=null,this.event.emit(Pt.rawDataUpdate,{model:this})}viewDataFilterOver(e){this.event.emit(Pt.viewDataFilterOver,{model:this})}viewDataUpdate(e){var t;this.event.emit(Pt.viewDataUpdate,{model:this}),(t=this._data)===null||t===void 0||t.updateData(),this._viewDataStatistics&&this._viewDataStatistics.reRunAllTransform()}viewDataStatisticsUpdate(e){this.event.emit(Pt.viewDataStatisticsUpdate,{model:this})}getDatumPositionValue(e,t){return!e||Y(t)?null:e[t]}getDatumPositionValues(e,t){return!e||Y(t)?[]:ct(t)?[e[t]]:t.map(n=>e[n])}setValueFieldToStack(){}setValueFieldToPercent(){}setValueFieldToStackOffsetSilhouette(){}initRootMark(){var e,t;this._rootMark=this._createMark({type:"group",name:`seriesGroup_${this.type}_${this.id}`},{parent:(t=(e=this._region).getGroupMark)===null||t===void 0?void 0:t.call(e),dataView:!1}),this._rootMark.setZIndex(this.layoutZIndex)}_getExtensionMarkNamePrefix(){return`${this.type}_${this.id}_extensionMark`}_initExtensionMark(e){var t;if(!this._spec.extensionMark)return;const n=this.getMarksWithoutRoot();e.depend=n,(t=this._spec.extensionMark)===null||t===void 0||t.forEach((r,s)=>{this._createExtensionMark(r,null,this._getExtensionMarkNamePrefix(),s,e)})}_createExtensionMark(e,t,n,r,s){var a;const o=this._createMark({type:e.type,name:`${n}_${r}`},{skipBeforeLayouted:!0,markSpec:e,parent:t,dataView:!1,customShape:e==null?void 0:e.customShape,componentType:e.componentType,depend:s.depend,key:e.dataKey});if(o){if(s.hasAnimation){const l=Yi({},an(e.type,e,this._markAttributeContext));o.setAnimationConfig(l)}if(e.type==="group")n=`${n}_${r}`,(a=e.children)===null||a===void 0||a.forEach((l,u)=>{this._createExtensionMark(l,o,n,u,s)});else if(!(t||Y(e.dataId)&&Y(e.dataIndex))){const l=this._option.getSeriesData(e.dataId,e.dataIndex);l===this._rawData?o.setDataView(this.getViewData(),this.getViewDataProductId()):(o.setDataView(l),l.target.addListener("change",()=>{o.getData().updateData()}))}}}_updateExtensionMarkSpec(){var e;(e=this._spec.extensionMark)===null||e===void 0||e.forEach((t,n)=>{const r=this._marks.getMarkWithInfo({name:`${this._getExtensionMarkNamePrefix()}_${n}`});r&&(this.initMarkStyleWithSpec(r,t),r.updateStaticEncode(),r.updateLayoutState())})}getStackData(){var e;return(e=this._viewStackData)===null||e===void 0?void 0:e.latestData}_parseSelectorOfInteraction(e,t){if(!t||!t.length)return[];const n=[];return e.markIds?t.filter(r=>{e.markIds.includes(r.getProductId())&&n.push(`#${r.getProductId()}`)}):e.markNames?t.forEach(r=>{e.markNames.includes(r.name)&&n.push(`#${r.getProductId()}`)}):t.forEach(r=>{n.push(`#${r.getProductId()}`)}),n}_parseDefaultInteractionConfig(e){if(!(e!=null&&e.length))return[];const t=zCt(this._option.mode);let n=Object.assign({},t==null?void 0:t.hover),r=Object.assign({},t==null?void 0:t.select);const s=this._spec.hover;Ir(s)?n.enable=s:yi(s)&&(n.enable=!0,n=Rt(n,s));const a=this._spec.select;Ir(a)?r.enable=a:yi(a)&&(r.enable=!0,r=Rt(r,a));const o=[];if(n.enable){const l=this._parseSelectorOfInteraction(n,e);l.length&&o.push({seriesId:this.id,regionId:this._region.id,selector:l,type:"element-highlight",trigger:n.trigger,triggerOff:n.triggerOff,blurState:mt.STATE_HOVER_REVERSE,highlightState:mt.STATE_HOVER})}if(r.enable){const l=this._parseSelectorOfInteraction(r,e),u=r.mode==="multiple",c=X(r.triggerOff)?r.triggerOff:u?["empty"]:["empty",r.trigger];l.length&&o.push({type:"element-select",seriesId:this.id,regionId:this._region.id,selector:l,trigger:r.trigger,triggerOff:c,reverseState:mt.STATE_SELECTED_REVERSE,state:mt.STATE_SELECTED,isMultiple:u})}return o}_parseInteractionConfig(e){const t=this.getCompiler();if(!t)return;const{interactions:n}=this._spec,r=this._parseDefaultInteractionConfig(e);r&&r.length&&r.forEach(s=>{t.addInteraction(s)}),n&&n.length&&n.forEach(s=>{const a=this._parseSelectorOfInteraction(s,this.getMarks());a.length&&t.addInteraction(Object.assign(Object.assign({},s),{selector:a,seriesId:this.id,regionId:this._region.id}))})}initInteraction(){const e=this.getMarksWithoutRoot();this._parseInteractionConfig(e)}initAnimation(){}initMarkState(){this.initSeriesStyleState()}initSeriesStyleState(){var e;const t=this._spec.seriesStyle;if(!t||!t.length)return;const n=(e=this._seriesField)!==null&&e!==void 0?e:$u;this.getMarksWithoutRoot().forEach(r=>{const s={},a={},o={};t.forEach(u=>{var c;const d=(c=u[r.name])===null||c===void 0?void 0:c.style;d&&(s[u.name]=!0,o[u.name]=o[u.name]||{},Object.keys(d).forEach(h=>{a[h]=!0,o[u.name][h]=d[h]}))}),r.state.addStateInfo({stateValue:lde,level:-1,filter:u=>Array.isArray(u)?u.length!==0&&s[u[0][n]]===!0:s[u[n]]===!0});const l={};Object.keys(a).forEach(u=>{l[u]=c=>{var d,h;let p;if(Array.isArray(c)){if(c.length===0)return;p=(d=o[c[0][n]])===null||d===void 0?void 0:d[u]}return p=(h=o[c[n]])===null||h===void 0?void 0:h[u],p||r.getAttribute(u,c)}}),this.setMarkStyle(r,l,lde)})}afterInitMark(){this.event.emit(Pt.afterInitMark,{model:this}),this.setSeriesField(this._spec.seriesField),this.getMarks().forEach(e=>{var t,n;!((n=(t=e.stateStyle)===null||t===void 0?void 0:t.normal)===null||n===void 0)&&n.lineWidth&&e.setAttribute("stroke",this.getColorAttribute(),"normal",Ve.Base_Series)})}getMarksWithoutRoot(){return this.getMarks().filter(e=>!e.name.includes("seriesGroup"))}getMarksInType(e){return this._marks.getMarksInType(e)}getMarkInName(e){return this._marks.get(e)}getMarkInId(e){return this.getMarks().find(t=>t.id===e)}initEvent(){var e,t,n;(t=(e=this._data)===null||e===void 0?void 0:e.getDataView())===null||t===void 0||t.target.addListener("change",this.viewDataUpdate.bind(this)),(n=this._viewDataStatistics)===null||n===void 0||n.target.addListener("change",this.viewDataStatisticsUpdate.bind(this))}_releaseEvent(){super._releaseEvent(),this.getCompiler().removeInteraction(this.id)}initTooltip(){this._tooltipHelper=new hu(this)}_compareSpec(e,t,n){var r,s;const a=super._compareSpec(e,t),o=Object.keys(t||{}).sort(),l=Object.keys(e||{}).sort();return Rr(o,l)?((n=n??{data:!0}).invalidType=!0,e.invalidType!==t.invalidType&&(a.reCompile=!0),n.extensionMark=!0,(we(e.extensionMark).length!==we(t.extensionMark).length||!((r=t.extensionMark)===null||r===void 0)&&r.some((u,c)=>u.type!==e.extensionMark[c].type||u.id!==e.extensionMark[c].id))&&(a.reMake=!0),a.reMake?a:(!((s=t.extensionMark)===null||s===void 0)&&s.some((u,c)=>u.visible!==e.extensionMark[c].visible)&&(a.reCompile=!0),this._marks.getMarks().some(u=>{var c,d;return n[u.name]=!0,((c=t[u.name])===null||c===void 0?void 0:c.visible)!==((d=e[u.name])===null||d===void 0?void 0:d.visible)})&&(a.reCompile=!0),o.some(u=>!n[u]&&!Rr(e[u],t[u]))&&(a.reMake=!0),a)):(a.reMake=!0,a)}_updateSpecData(){!this._rawData||!this._spec.data||this._spec.data instanceof vn||lq(this._rawData,this._spec.data,!0)}reInit(e){super.reInit(e);const t=this.getMarksWithoutRoot();t.forEach(n=>{this._spec[n.name]&&this.initMarkStyleWithSpec(n,this._spec[n.name])}),this.initMarkStyle(),t.forEach(n=>{n.updateStaticEncode(),n.updateLayoutState(!0)}),this._updateExtensionMarkSpec(),this._updateSpecData(),this._tooltipHelper&&this._tooltipHelper.updateTooltipSpec()}onEvaluateEnd(e){this._data.updateData()}onRender(e){}release(){var e,t,n;super.release(),this._viewDataMap.clear();const r=(t=(e=this._rawData)===null||e===void 0?void 0:e.transformsArr)===null||t===void 0?void 0:t.findIndex(s=>s.type==="addVChartProperty");r>=0&&this._rawData.transformsArr.splice(r,1),(n=this._data)===null||n===void 0||n.release(),this._dataSet=this._data=this._rawData=this._rawDataStatistics=this._spec=this._region=this._viewDataStatistics=this._viewStackData=null}setLayoutStartPosition(e){Ce(e.x)&&(this._layoutStartPoint.x=e.x),Ce(e.y)&&(this._layoutStartPoint.y=e.y)}setLayoutRect({width:e,height:t},n){Ce(e)&&(this._layoutRect.width=e),Ce(t)&&(this._layoutRect.height=t)}getSeriesKeys(){var e,t;return this._seriesField?(t=(e=this.getRawDataStatisticsByField(this._seriesField))===null||e===void 0?void 0:e.values)!==null&&t!==void 0?t:[]:this.name?[this.name]:this.userId?[`${this.userId}`]:[`${this.type}_${this.id}`]}getSeriesStyle(e){return t=>{var n,r;return(r=(n=this._seriesMark)===null||n===void 0?void 0:n.getAttribute(t,e))!==null&&r!==void 0?r:void 0}}_getSeriesInfo(e,t){const n=this.getDefaultShapeType();return t.map(r=>({key:r,originalKey:r,style:this.getSeriesStyle({[e]:r}),shapeType:n}))}getSeriesInfoInField(e){var t,n;return this._getSeriesInfo(e,(n=(t=this.getRawDataStatisticsByField(e))===null||t===void 0?void 0:t.values)!==null&&n!==void 0?n:[])}getSeriesInfoList(){var e;return this._getSeriesInfo((e=this._seriesField)!==null&&e!==void 0?e:$u,this.getSeriesKeys())}_getDefaultColorScale(){var e,t;const n=this.getDefaultColorDomain(),r=this._getDataScheme();return(t=(e=new pP().domain(n)).range)===null||t===void 0?void 0:t.call(e,r)}_getDataScheme(){return HT(this.getColorScheme(),this.type)}getDefaultColorDomain(){var e,t;return this._seriesField?(t=(e=this.getViewDataStatistics())===null||e===void 0?void 0:e.latestData[this._seriesField])===null||t===void 0?void 0:t.values:[]}getColorAttribute(){var e,t;return{scale:(e=this._option.globalScale.getScale("color"))!==null&&e!==void 0?e:this._getDefaultColorScale(),field:(t=this._seriesField)!==null&&t!==void 0?t:$u}}getDimensionField(){return[]}getMeasureField(){return[]}onMarkPositionUpdate(){this.onMarkTreePositionUpdate(this.getMarksWithoutRoot())}onMarkTreePositionUpdate(e){}_createMark(e,t={}){var n,r,s,a;const{key:o,groupKey:l,skipBeforeLayouted:u,themeSpec:c={},markSpec:d,dataView:h,dataProductId:p,parent:f,isSeriesMark:g,depend:v,progressive:m,support3d:b=this._spec.support3d||!!this._spec.zField,morph:_=!1,clip:S,customShape:C,stateSort:k,noSeparateStyle:E=!1}=t,A=super._createMark(e,{key:o??this._getDataIdKey(),support3d:b,seriesId:this.id,attributeContext:this._markAttributeContext,componentType:t.componentType,noSeparateStyle:E});if(X(A)){this._marks.addMark(A,{name:e.name}),g&&(this._seriesMark=A),Y(f)?(n=this._rootMark)===null||n===void 0||n.addMark(A):f!==!1&&f.addMark(A),Y(h)?(A.setDataView(this.getViewData(),this.getViewDataProductId()),A.setSkipBeforeLayouted(!0)):h!==!1&&A.setDataView(h,p),Ir(u)&&A.setSkipBeforeLayouted(u),X(v)&&A.setDepend(...we(v));const P=this.getSpec()||{};A.setMorph(_),A.setMorphKey(((r=P.morph)===null||r===void 0?void 0:r.morphKey)||`${this.getSpecIndex()}`),A.setMorphElementKey((a=(s=P.morph)===null||s===void 0?void 0:s.morphElementKey)!==null&&a!==void 0?a:t.defaultMorphElementKey),Y(m)||A.setProgressiveConfig(m),Y(l)||A.setGroupKey(l),C&&A.setCustomizedShapeCallback(C),k&&A.setStateSortCallback(k),S&&A.setClip(S),this.initMarkStyleWithSpec(A,Rt({},c,d||P[A.name]))}return A}_getDataIdKey(){var e;return(e=super._getDataIdKey())!==null&&e!==void 0?e:rp}_getSeriesDataKey(e){let t="";if(!e)return t;const n=this.getDimensionField();t=n.map(s=>e[s]).join("_");const r=this.getSeriesField();return r&&!n.includes(r)&&(t+=`_${e[r]}`),t}addViewDataFilter(e){var t,n;(n=(t=this._viewDataFilter)!==null&&t!==void 0?t:this.getViewData())===null||n===void 0||n.transform(e,!1)}reFilterViewData(){var e,t;(t=(e=this._viewDataFilter)!==null&&e!==void 0?e:this.getViewData())===null||t===void 0||t.reRunAllTransform()}reTransformViewData(){var e,t;(t=(e=this._data)===null||e===void 0?void 0:e.getDataView())===null||t===void 0||t.reRunAllTransform()}fillData(){var e;(e=this.getRawData())===null||e===void 0||e.reRunAllTransform()}compile(){this.compileData()}getDefaultShapeType(){return"circle"}getFieldAlias(e){var t;return e!==aa&&e!==_0&&e!==Uu&&e!==Q_||(e=this.getStackValueField()),(t=sF(this.getRawData(),e))!==null&&t!==void 0?t:e}getMarkInfoList(){var e;const t=super.getMarkInfoList();return t.length?t:Object.values((e=eF[this.type])!==null&&e!==void 0?e:{})}_getInvalidConnectType(){return this._invalidType==="zero"?"zero":this._invalidType==="link"?"connect":"none"}_getInvalidDefined(e){const t=this.getInvalidCheckFields();return!t.length||t.every(n=>Kx(e[n]))}_getRelatedComponentSpecInfo(e){var t;const n=this.getSpecIndex(),r=(t=this._option.getSpecInfo().component[e])===null||t===void 0?void 0:t.filter(s=>s.seriesIndexes.includes(n));return r??[]}_forEachStackGroup(e,t){var n,r;(t=t??((n=this._viewStackData)===null||n===void 0?void 0:n.latestData))&&(!((r=t.values)===null||r===void 0)&&r.length?e(t):t.nodes&&Object.values(t.nodes).forEach(s=>{this._forEachStackGroup(e,s)}))}isDatumInViewData(e){if(!e)return!1;const t=this.getViewData().latestData;return!!t&&(!!t.includes(e)||t.some(n=>Object.keys(e).every(r=>e[r]===n[r])))}getSeriesFieldValue(e,t){var n;return e[(n=t??this.getSeriesField())!==null&&n!==void 0?n:$u]}}tb.mark=Dr,tb.transformerConstructor=pu;function HCt(i){return[xe.rose,xe.radar,xe.circularProgress].includes(i)}function mTe(i,e,t){const n=i.getScale(0),r="isInverse"in i&&i.isInverse();Ln(n.type)?t.sort((s,a)=>(s[e]-a[e])*(r?-1:1)):t.sort((s,a)=>(n.index(s[e])-n.index(a[e]))*(r?-1:1))}function D0(i){return{dataIndex:e=>{var t,n;const r=i.direction==="horizontal"?i.fieldY[0]:i.fieldX[0],s=e==null?void 0:e[r],a=i.direction==="horizontal"?i.scaleY:i.scaleX;return((n=(t=a==null?void 0:a.domain)===null||t===void 0?void 0:t.call(a))!==null&&n!==void 0?n:[]).indexOf(s)||0},dataCount:()=>{var e,t,n;const r=i.direction==="horizontal"?i.scaleY:i.scaleX;return(n=((t=(e=r==null?void 0:r.domain)===null||e===void 0?void 0:e.call(r))!==null&&t!==void 0?t:[]).length)!==null&&n!==void 0?n:0}}}class sh extends tb{constructor(){super(...arguments),this.coordinate="cartesian",this._bandPosition=.5,this._scaleConfig={bandPosition:this._bandPosition},this._direction="vertical",this._sortDataByAxis=!1,this._getPositionXEncoder=()=>{var e;return(e=this._positionXEncoder)===null||e===void 0?void 0:e.bind(this)},this._setPositionXEncoder=e=>{this._positionXEncoder=e.bind(this)},this._getPositionYEncoder=()=>{var e;return(e=this._positionYEncoder)===null||e===void 0?void 0:e.bind(this)},this._setPositionYEncoder=e=>{this._positionYEncoder=e.bind(this)}}_buildScaleConfig(){this._scaleConfig={bandPosition:this._bandPosition}}get fieldX(){return this._fieldX}setFieldX(e){this._fieldX=we(e)}get fieldY(){return this._fieldY}setFieldY(e){this._fieldY=we(e)}get fieldZ(){return this._fieldZ}setFieldZ(e){this._fieldZ=e&&we(e)}get fieldX2(){return this._fieldX2}setFieldX2(e){this._fieldX2=e}get fieldY2(){return this._fieldY2}setFieldY2(e){this._fieldY2=e}get direction(){return this._direction}get scaleX(){return this._scaleX}setScaleX(e){this._scaleX=e}get scaleY(){return this._scaleY}setScaleY(e){this._scaleY=e}get scaleZ(){return this._scaleZ}setScaleZ(e){this._scaleZ=e}getXAxisHelper(){return this._xAxisHelper}setXAxisHelper(e){this._xAxisHelper=e,this.onXAxisHelperUpdate()}getYAxisHelper(){return this._yAxisHelper}setYAxisHelper(e){this._yAxisHelper=e,this.onYAxisHelperUpdate()}getZAxisHelper(){return this._zAxisHelper}setZAxisHelper(e){this._zAxisHelper=e,this.onYAxisHelperUpdate()}get sortDataByAxis(){return this._sortDataByAxis}getStatisticFields(){const e=[];return[{axisHelper:this.getXAxisHelper(),fields:this._fieldX2?[...this._fieldX,this._fieldX2]:this._fieldX},{axisHelper:this.getYAxisHelper(),fields:this._fieldY2?[...this._fieldY,this._fieldY2]:this._fieldY},{axisHelper:this.getZAxisHelper(),fields:this._fieldZ}].forEach(t=>{t.axisHelper&&t.axisHelper.getScale&&t.fields&&t.fields.forEach(n=>{const r={key:n,operations:[]},s=t.axisHelper.getScale(0);Ln(s.type)?(r.operations=["max","min"],s.type==="log"&&(r.filter=a=>a>0)):r.operations=["values"],e.push(r)})}),this.getStack()&&e.push({key:this.getStackValueField(),operations:["allValid"]}),e}getGroupFields(){return this.direction==="vertical"?this._fieldX:this._fieldY}getStackGroupFields(){return this.getGroupFields()}getStackValue(){var e,t;const n=(e=this.direction==="horizontal"?this.getXAxisHelper():this.getYAxisHelper())===null||e===void 0?void 0:e.getAxisId();return(t=this._spec.stackValue)!==null&&t!==void 0?t:`${Ut}_series_${this.type}_${n}`}getStackValueField(){return this.direction==="horizontal"?we(this._spec.xField)[0]:we(this._spec.yField)[0]}setValueFieldToStack(){this.direction==="horizontal"?(this.setFieldX(aa),this.setFieldX2(Uu)):(this.setFieldY(aa),this.setFieldY2(Uu))}setValueFieldToPercent(){this.direction==="horizontal"?(this.setFieldX(_0),this.setFieldX2(Q_)):(this.setFieldY(_0),this.setFieldY2(Q_))}setValueFieldToStackOffsetSilhouette(){this.direction==="horizontal"?(this.setFieldX(BW),this.setFieldX2(FW)):(this.setFieldY(BW),this.setFieldY2(FW))}onXAxisHelperUpdate(){this.onMarkPositionUpdate()}onYAxisHelperUpdate(){this.onMarkPositionUpdate()}onZAxisHelperUpdate(){this.onMarkPositionUpdate()}setAttrFromSpec(){var e,t;super.setAttrFromSpec(),this.setFieldX(this._spec.xField),this.setFieldY(this._spec.yField),this.setFieldZ(this._spec.zField),this._specXField=we(this._spec.xField),this._specYField=we(this._spec.yField),X(this._spec.direction)&&(this._direction=this._spec.direction),this.setFieldX2((e=this._spec)===null||e===void 0?void 0:e.x2Field),this.setFieldY2((t=this._spec)===null||t===void 0?void 0:t.y2Field),this.getStack()&&this.setValueFieldToStack(),this.getPercent()&&this.setValueFieldToPercent(),this.getStackOffsetSilhouette()&&this.setValueFieldToStackOffsetSilhouette(),X(this._spec.sortDataByAxis)&&(this._sortDataByAxis=this._spec.sortDataByAxis===!0)}dataToPosition(e,t){return e?t&&!this.isDatumInViewData(e)?null:{x:this.dataToPositionX(e),y:this.dataToPositionY(e)}:null}_buildMarkAttributeContext(){super._buildMarkAttributeContext(),this._markAttributeContext.valueToX=this.valueToPositionX.bind(this),this._markAttributeContext.valueToY=this.valueToPositionY.bind(this),this._markAttributeContext.xBandwidth=(e=0)=>{var t,n,r;return(r=(n=(t=this.getXAxisHelper()).getBandwidth)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:0},this._markAttributeContext.yBandwidth=(e=0)=>{var t,n,r;return(r=(n=(t=this.getYAxisHelper()).getBandwidth)===null||n===void 0?void 0:n.call(t,e))!==null&&r!==void 0?r:0},this._markAttributeContext.valueToPosition=this.valueToPosition.bind(this)}valueToPosition(e,t){return{x:this.valueToPositionX(e),y:this.valueToPositionY(t)}}_axisPosition(e,t,n){return this._scaleConfig.datum=n,e.isContinuous?e.valueToPosition(t,this._scaleConfig):e.dataToPosition(we(t),this._scaleConfig)}valueToPositionX(e,t){return this._axisPosition(this._xAxisHelper,e,t)}valueToPositionY(e,t){return this._axisPosition(this._yAxisHelper,e,t)}_dataToPosition(e,t,n,r,s,a){const o=s();if(o)return o(e);if(!t)return a(u=>Number.NaN),Number.NaN;const l=(t.getFields?t.getFields():n).slice(0,r);return l&&l.length!==0?(t.isContinuous?a(u=>(this._scaleConfig.datum=u,t.valueToPosition(this.getDatumPositionValue(u,l[0]),this._scaleConfig))):a(u=>(this._scaleConfig.datum=u,t.dataToPosition(we(this.getDatumPositionValues(u,l)),this._scaleConfig))),s()(e)):(a(u=>null),null)}dataToPositionX(e){return this._dataToPosition(e,this._xAxisHelper,this.fieldX,void 0,this._getPositionXEncoder,this._setPositionXEncoder)}dataToPositionY(e){return this._dataToPosition(e,this._yAxisHelper,this.fieldY,void 0,this._getPositionYEncoder,this._setPositionYEncoder)}dataToPositionZ(e){if(!this._zAxisHelper)return Number.NaN;const{dataToPosition:t}=this._zAxisHelper;return t(this.getDatumPositionValues(e,this._fieldZ),{bandPosition:this._bandPosition})}dataToPositionX1(e){return this._xAxisHelper?this._fieldX2&&this._fieldX2 in e?this.valueToPositionX(this.getDatumPositionValues(e,this._fieldX2)):this.valueToPositionX(0):Number.NaN}dataToPositionY1(e){return this._yAxisHelper?this._fieldY2&&this._fieldY2 in e?this.valueToPositionY(this.getDatumPositionValues(e,this._fieldY2)):this.valueToPositionY(0):Number.NaN}positionToData(e){return e?{x:this.positionToDataX(e.x),y:this.positionToDataY(e.y)}:null}positionToDataX(e){return this._scaleX?this._scaleX.invert(e):null}positionToDataY(e){return this._scaleY?this._scaleY.invert(e):null}getRegionRectLeft(){if(!this._xAxisHelper)return Number.NaN;const{getScale:e}=this._xAxisHelper;return e(0).range()[0]}getRegionRectRight(){if(!this._xAxisHelper)return Number.NaN;const{getScale:e}=this._xAxisHelper;return e(0).range()[1]}afterInitMark(){super.afterInitMark(),this.setFieldX(this._fieldX),this.setFieldY(this._fieldY),this._buildScaleConfig()}getDimensionField(){return this._direction==="horizontal"?this._specYField:this._specXField}getDimensionContinuousField(){return this._direction==="horizontal"?[this.fieldY[0],this.fieldY2]:[this.fieldX[0],this.fieldX2]}getMeasureField(){return this._direction==="horizontal"?this._specXField:this._specYField}initEvent(){super.initEvent(),this.sortDataByAxis&&this.event.on(Pt.scaleDomainUpdate,{filter:e=>{var t;return e.model.id===((t=this._direction==="horizontal"?this._yAxisHelper:this._xAxisHelper)===null||t===void 0?void 0:t.getAxisId())}},()=>{this._sortDataInAxisDomain()})}_sortDataInAxisDomain(){var e,t,n;!((t=(e=this.getViewData())===null||e===void 0?void 0:e.latestData)===null||t===void 0)&&t.length&&(mTe(this._direction==="horizontal"?this._yAxisHelper:this._xAxisHelper,this._direction==="horizontal"?this._fieldY[0]:this._fieldX[0],this.getViewData().latestData),(n=this._data)===null||n===void 0||n.updateData(!0))}getInvalidCheckFields(){const e=[];return this._xAxisHelper&&this._xAxisHelper.isContinuous&&this._xAxisHelper.getAxisType()!==De.geoCoordinate&&(this._xAxisHelper.getFields?this._xAxisHelper.getFields():this._specXField).forEach(t=>{e.push(t)}),this._yAxisHelper&&this._yAxisHelper.isContinuous&&this._yAxisHelper.getAxisType()!==De.geoCoordinate&&(this._yAxisHelper.getFields?this._yAxisHelper.getFields():this._specYField).forEach(t=>{e.push(t)}),e}reInit(e){this._positionXEncoder&&(this._positionXEncoder=null),this._positionYEncoder&&(this._positionYEncoder=null),super.reInit(e)}}const vTe="monotone",yTe="linear",VCt="bevel";class mq{addSamplingCompile(){if(this._spec.sampling){const{width:e,height:t}=this._region.getLayoutRect(),n=[],r=this._fieldY,s=this._fieldX;n.push({type:"sampling",size:this._direction==="horizontal"?t:e,factor:this._spec.samplingFactor,yfield:this._direction==="horizontal"?s[0]:r[0],groupBy:this._seriesField,mode:this._spec.sampling}),this._data.getProduct().transform(n)}}addOverlapCompile(){var e;if(this._spec.markOverlap){const t=[];t.push({type:"markoverlap",direction:this._direction==="horizontal"&&this.coordinate==="cartesian"?2:1,delta:this._spec.pointDis,deltaMul:this._spec.pointDisMul,groupBy:this._seriesField}),(e=this._symbolMark)===null||e===void 0||e.getProduct().transform(t)}}reCompileSampling(){this._spec.sampling&&this.compile()}initLineMark(e,t){var n,r;return this._lineMark=this._createMark(hv.line,{defaultMorphElementKey:this.getDimensionField()[0],groupKey:this._seriesField,isSeriesMark:t==null||t,progressive:e,customShape:(n=this._spec.line)===null||n===void 0?void 0:n.customShape,stateSort:(r=this._spec.line)===null||r===void 0?void 0:r.stateSort}),this._lineMark}initLineMarkStyle(e,t){var n,r;const s=this._lineMark;if(s){if(this.setMarkStyle(s,{stroke:this.getColorAttribute()},"normal",Ve.Series),this._invalidType!=="zero"&&this.setMarkStyle(s,{defined:this._getInvalidDefined.bind(this),connectedType:this._getInvalidConnectType()},"normal",Ve.Series),this.event.on(Pt.viewDataStatisticsUpdate,{filter:a=>a.model===this},()=>{this.encodeDefined(s,"defined")}),this.coordinate==="polar")this.setMarkStyle(s,{lineJoin:VCt,curveType:yTe,closePath:!0},"normal",Ve.Series);else{const a=t??((r=(n=this.getSpec().line)===null||n===void 0?void 0:n.style)===null||r===void 0?void 0:r.curveType),o=a===vTe?e==="horizontal"?"monotoneY":"monotoneX":a;this.setMarkStyle(s,{curveType:o},"normal",Ve.Built_In)}this.setMarkStyle(s,{x:this.dataToPositionX.bind(this),y:this.dataToPositionY.bind(this),z:this._fieldZ?this.dataToPositionZ.bind(this):null},"normal",Ve.Series)}return s}_getEventElement(e,t=!1){let n=[];return e.dimensionInfo.some(r=>(r.data.some(s=>s.series===this&&(n=s.datum,!0)),!n.length)),n}_dimensionTrigger(e){const t=this._getEventElement(e);switch(e.action){case"enter":this._symbolActiveMark.getDataView().parse(t),this._symbolActiveMark.getData().updateData(!1);break;case"leave":this._symbolActiveMark.getDataView().parse([]),this._symbolActiveMark.getData().updateData(!1)}}initSymbolMark(e,t){const n=this._spec.point||{};if(n.visible!==!1&&(this._symbolMark=this._createMark(hv.point,{morph:ym(this._spec,hv.point.name),defaultMorphElementKey:this.getDimensionField()[0],groupKey:this._seriesField,progressive:e,isSeriesMark:!!t,customShape:n.customShape,stateSort:n.stateSort})),this._spec.activePoint===!0){const r=new vn(this._option.dataSet,{name:`${Ut}_series_${this.id}_active_point`});r.parse([]),this._symbolActiveMark=this._createMark({name:`active_point_${this.id}`,type:"symbol"},{morph:!1,groupKey:this._seriesField,isSeriesMark:!1,dataView:r,parent:this._region.getInteractionMark(),customShape:n.customShape,stateSort:n.stateSort}),this._symbolActiveMark.setVisible(!1)}return this._symbolMark}initSymbolMarkStyle(){const e=this._symbolMark;if(!e)return this._initSymbolActiveMarkAlone(),e;if(this._initSymbolMark(e),this._symbolActiveMark&&this._symbolMark.stateStyle.dimension_hover){this._symbolActiveMark.setVisible(!0),this.event.on(Jg.dimensionHover,this._dimensionTrigger.bind(this));for(const t in this._symbolMark.stateStyle){this._symbolActiveMark.stateStyle[t]={};for(const n in this._symbolMark.stateStyle[t])this._symbolActiveMark.stateStyle[t][n]={style:null,level:Ve.Series,referer:e}}this._symbolActiveMark.state.changeStateInfo({stateValue:mt.STATE_DIMENSION_HOVER,filter:()=>!0})}return e}_initSymbolMark(e){e&&(this.setMarkStyle(e,{fill:this.getColorAttribute()},"normal",Ve.Series),this._invalidType!=="zero"&&this.setMarkStyle(e,{visible:this._getInvalidDefined.bind(this)},"normal",Ve.Series),this.event.on(Pt.viewDataStatisticsUpdate,{filter:t=>t.model===this},()=>{this.encodeDefined(e,"visible")}),this.setMarkStyle(e,{x:this.dataToPositionX.bind(this),y:this.dataToPositionY.bind(this),z:this._fieldZ?this.dataToPositionZ.bind(this):null},"normal",Ve.Series))}_initSymbolActiveMarkAlone(){var e,t;const n=this._symbolActiveMark;n&&(this._initSymbolMark(n),n&&(!((t=(e=this._spec[hv.point.name])===null||e===void 0?void 0:e.state)===null||t===void 0)&&t.dimension_hover)&&(n.setVisible(!0),this.event.on(Jg.dimensionHover,this._dimensionTrigger.bind(this)),this.initMarkStyleWithSpec(n,Rt({},this._spec[hv.point.name],{visible:!0})),this._symbolActiveMark.state.changeStateInfo({stateValue:mt.STATE_DIMENSION_HOVER,filter:()=>!0})))}initLabelMarkStyle(e){var t;e&&(((t=e.getTarget())===null||t===void 0?void 0:t.type)!=="symbol"&&e.setRule("line-data"),this.setMarkStyle(e,{fill:this.getColorAttribute(),text:n=>n[this.getStackValueField()],z:this._fieldZ?this.dataToPositionZ.bind(this):null}),this._invalidType!=="zero"&&this.setMarkStyle(e,{visible:this._getInvalidDefined.bind(this)},"normal",Ve.Series),this.event.on(Pt.viewDataStatisticsUpdate,{filter:n=>n.model===this},()=>{this.encodeDefined(e,"visible")}))}initLineLabelMarkStyle(e){e&&this.setMarkStyle(e,{fill:this.getColorAttribute(),text:t=>t[this.getSeriesField()],z:this._fieldZ?this.dataToPositionZ.bind(this):null})}encodeDefined(e,t){var n,r,s,a;if(!e)return;const o=this._isFieldAllValid();if(this._invalidType==="zero"||o){if(((r=(n=e.stateStyle.normal)===null||n===void 0?void 0:n[t])===null||r===void 0?void 0:r.style)===!0)return;this.setMarkStyle(e,{[t]:!0},"normal",Ve.Series)}else{if(((a=(s=e.stateStyle.normal)===null||s===void 0?void 0:s[t])===null||a===void 0?void 0:a.style)!==!0)return;this.setMarkStyle(e,{[t]:this._getInvalidDefined.bind(this)},"normal",Ve.Series)}e.getProduct()&&e.compileEncode()}_isFieldAllValid(){const e=this.getViewDataStatistics(),t=this.getStackValueField();return!!(e&&e.latestData&&t)&&e.latestData[t]&&e.latestData[t].allValid}}class _Te extends Xo{setStyle(e,t="normal",n=0,r=this.stateStyle){if(Y(e))return;r[t]===void 0&&(r[t]={});const s=this._getIgnoreAttributes(),a=["strokeWidth","lineWidth","lineDash","strokeDash","lineJoin","stroke","strokeOpacity","opacity","fill","fillOpacity","texture","texturePadding","textureSize","textureColor"],o=this.isUserLevel(n);let l=!1;Object.keys(e).forEach(u=>{const c=e[u];if(Y(c)||s.includes(u))return;o&&a.includes(u)&&(SW(c==null?void 0:c.type)||c!=null&&c.scale||Pe(c))&&(l=!0);let d=this._styleConvert(c);o&&u==="angle"&&(d=this.convertAngleToRadian(d)),this.setAttribute(u,d,t,n,r)}),l&&this.setEnableSegments(l)}}class XT extends _Te{constructor(){super(...arguments),this.type=XT.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{lineWidth:1})}_getIgnoreAttributes(){var e,t;return((e=this.model)===null||e===void 0?void 0:e.type)===xe.radar&&((t=this.model)===null||t===void 0?void 0:t.coordinate)==="polar"?[]:["fill","fillOpacity"]}}XT.type="line";const N$=()=>{ce.registerMark(XT.type,XT),q_t(),JAe()};class bTe extends Xo{_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{size:1,symbolType:"circle",fill:void 0,lineWidth:0})}}class qT extends bTe{constructor(){super(...arguments),this.type=qT.type}}qT.type="symbol";const _m=()=>{ce.registerMark(qT.type,qT),yEe()};class gP extends pu{_transformLabelSpec(e){var t,n,r;((t=e.point)===null||t===void 0?void 0:t.visible)!==!1&&((r=(n=e.point)===null||n===void 0?void 0:n.style)===null||r===void 0?void 0:r.visible)!==!1?this._addMarkLabelSpec(e,"point"):this._addMarkLabelSpec(e,"line"),this._addMarkLabelSpec(e,"line","lineLabel","initLineLabelMarkStyle",void 0,!0)}}class WCt extends tTe{constructor(e){super(),this.component=e}releaseAll(){super.releaseAll(),this.component=null}}function UCt(i,e,t,n){switch(i){case De.cartesianBandAxis:return _k(By(t,["z"]),"band",e);case De.cartesianLinearAxis:return _k(By(t,["z"]),"linear",e);case De.cartesianLogAxis:return _k(By(t,["z"]),"log",e);case De.cartesianSymlogAxis:return _k(By(t,["z"]),"symlog",e);case De.cartesianAxis:case De.cartesianTimeAxis:return _k(By(t),void 0,e);case De.polarBandAxis:return n8(t.orient,"band",e);case De.polarLinearAxis:return n8(t.orient,"linear",e);case De.polarAxis:return n8(t.orient,void 0,e);case De.cartesianCrosshair:return Qwt(e,n);case De.polarCrosshair:return Jwt(e,n);case De.colorLegend:case De.sizeLegend:case De.discreteLegend:case De.dataZoom:case De.scrollBar:return GCt(t,Lu(i,e));default:return Lu(i,e)}}const GCt=(i,e)=>{var t;const n=(t=i.orient)!==null&&t!==void 0?t:e.orient,r=e[IAe(n)],s=Rt({},e,r);return delete s.horizontal,delete s.vertical,s};class mP extends M${getTheme(e,t){return UCt(this.type,this._option.getTheme(),e,t)}_mergeThemeToSpec(e,t){const{spec:n,theme:r}=super._mergeThemeToSpec(e,t);return this._adjustPadding(n),{spec:n,theme:r}}_adjustPadding(e){const{padding:t,noOuterPadding:n=!0,orient:r}=e;n&&t&&r&&(e.padding=Object.assign(Object.assign({},Qg(t)),{[r]:0}))}}var YCt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};let fu=class extends VAe{static createComponent(e,t){const{spec:n}=e,r=YCt(e,["spec"]);return new this(n,Object.assign(Object.assign({},t),r))}getRegions(){return this._regions}created(){super.created(),this.initLayout(),this.pluginService=new WCt(this)}constructor(e,t){super(e,t),this.name="component",this.modelType="component",this.transformerConstructor=mP,this._delegateEvent=(n,r,s,a=null,o=null)=>{var l,u;r instanceof FB||this.event.emit(s,{model:this,node:n,event:r,item:a,datum:o,source:cn.chart,chart:(u=(l=this._option)===null||l===void 0?void 0:l.globalInstance)===null||u===void 0?void 0:u.getChart()},"model")},this._option.animation&&(this.animate=new HAe({getCompiler:t.getCompiler}))}initLayout(){var e;super.initLayout(),this._regions=(e=this._regions)!==null&&e!==void 0?e:this._option.getRegionsInIndex(),this._layout&&(this._layout.layoutBindRegionID=this._regions.map(t=>t==null?void 0:t.id))}changeRegions(e){throw new Error("Method not implemented.")}_getNeedClearVRenderComponents(){throw new Error("Method not implemented.")}onRender(e){throw new Error("Method not implemented.")}getVRenderComponents(){return this._getNeedClearVRenderComponents()}callPlugin(e){this.pluginService&&this.pluginService.getAll().forEach(t=>e(t))}getContainer(){var e;return this._container||(this._container=(e=this._option)===null||e===void 0?void 0:e.globalInstance.getStage().find(t=>t.name==="root",!0)),this._container}_compareSpec(e,t){const n=super._compareSpec(e,t);return n.reMake||(n.reMake=["seriesId","seriesIndex","regionId","regionIndex"].some(r=>!Rr(t==null?void 0:t[r],e[r]))),(t==null?void 0:t.visible)!==e.visible&&(n.reCompile=!0),n}release(){var e;super.release(),this.clear(),(e=this.pluginService)===null||e===void 0||e.releaseAll(),this.pluginService=null}clear(){var e;const t=this._getNeedClearVRenderComponents();t&&t.length&&t.forEach(n=>{var r;n&&((r=this.getContainer())===null||r===void 0||r.removeChild(n),n=null)}),this._container=null,(e=this.pluginService)===null||e===void 0||e.clearAll()}compile(){this.compileMarks(),this.reAppendComponents()}compileMarks(e){this.getMarks().forEach(t=>{var n;t.compile({group:e}),(n=t.getProduct())===null||n===void 0||n.configure({context:{model:this}})})}reAppendComponents(){const e=this._getNeedClearVRenderComponents();e&&e.length&&e.forEach(t=>{var n;t&&!t.stage&&((n=this.getContainer())===null||n===void 0||n.appendChild(t))})}getBoundsInRect(e,t){return{x1:0,x2:0,y1:0,y2:0}}};fu.transformerConstructor=mP;class JW extends Xo{constructor(e,t){super(e,t),this.type="component",this._componentType=t.componentType,this._mode=t.mode}_initProduct(e){const t=this.getVGrammarView(),n=this.getProductId();this._product=t.mark(nt.component,e??t.rootMark,{componentType:this._componentType,mode:this._mode}).id(n),this._compiledProductId=n}}JW.type="component";const j$=()=>{ce.registerMark(JW.type,JW)},KCt=i=>i;var XCt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};class vq extends fu{getOrient(){return this._orient}getScale(){return this._scale}getScales(){return this._scales}getTickData(e=0){return this._tickData[e]}get visible(){return this._visible}getInverse(){return this._inverse}getCoordinateType(){return this._coordinateType}constructor(e,t){var n;super(e,t),this.specKey="axes",this._scales=[],this._tickData=[],this._visible=!0,this._tick=void 0,this._visible=(n=e.visible)===null||n===void 0||n,this._coordinateType="none"}_getNeedClearVRenderComponents(){return[]}getVRenderComponents(){var e,t;return we((t=(e=this._axisMark)===null||e===void 0?void 0:e.getProduct())===null||t===void 0?void 0:t.getGroupGraphicItem())}created(){var e,t,n,r,s,a,o,l,u,c,d,h,p,f,g,v,m;if(super.created(),this.setSeriesAndRegionsFromSpec(),this.initEvent(),this.initScales(),this.updateSeriesScale(),this._shouldComputeTickData()&&this._initData(),this._visible){const b=this._createMark({type:"component",name:`axis-${this.getOrient()}`},{componentType:this.getOrient()==="angle"?"circleAxis":"axis",mode:this._spec.mode,noSeparateStyle:!0,skipTheme:!0});if(this._axisMark=b,b.setZIndex(this.layoutZIndex),X(this._spec.id)&&b.setUserId(this._spec.id),this._marks.addMark(b),(e=this._spec.grid)===null||e===void 0?void 0:e.visible){const _=this._createMark({type:"component",name:`axis-${this.getOrient()}-grid`},{componentType:this.getOrient()==="angle"?Ga.circleAxisGrid:Ga.lineAxisGrid,mode:this._spec.mode,noSeparateStyle:!0,skipTheme:!0});_.setZIndex((a=(r=(n=(t=this._spec.grid)===null||t===void 0?void 0:t.style)===null||n===void 0?void 0:n.zIndex)!==null&&r!==void 0?r:(s=this._spec.grid)===null||s===void 0?void 0:s.zIndex)!==null&&a!==void 0?a:qn.Axis_Grid),_.setInteractive(!1),this._marks.addMark(_),this._gridMark=_}if(Ir(this._spec.interactive)&&this._marks.forEach(_=>_.setInteractive(this._spec.interactive)),this._option.animation!==!1&&bi(this._option.getChart().getSpec(),"animation")!==!1&&this._spec.animation===!0){const _=Yi((o=ce.getAnimationInKey("axis"))===null||o===void 0?void 0:o(),{appear:(u=(l=this._spec.animationAppear)!==null&&l!==void 0?l:bi(this._option.getChart().getSpec(),"animationAppear.axis"))!==null&&u!==void 0?u:bi(this._option.getChart().getSpec(),"animationAppear"),disappear:(d=(c=this._spec.animationDisappear)!==null&&c!==void 0?c:bi(this._option.getChart().getSpec(),"animationDisappear.axis"))!==null&&d!==void 0?d:bi(this._option.getChart().getSpec(),"animationDisappear"),enter:(p=(h=this._spec.animationEnter)!==null&&h!==void 0?h:bi(this._option.getChart().getSpec(),"animationEnter.axis"))!==null&&p!==void 0?p:bi(this._option.getChart().getSpec(),"animationEnter"),exit:(g=(f=this._spec.animationExit)!==null&&f!==void 0?f:bi(this._option.getChart().getSpec(),"animationExit.axis"))!==null&&g!==void 0?g:bi(this._option.getChart().getSpec(),"animationExit"),update:(m=(v=this._spec.animationUpdate)!==null&&v!==void 0?v:bi(this._option.getChart().getSpec(),"animationUpdate.axis"))!==null&&m!==void 0?m:bi(this._option.getChart().getSpec(),"animationUpdate")});_.enter&&(_.update[0].customParameters={enter:_.enter[0]}),this._marks.forEach(S=>S.setAnimationConfig(_))}}}_shouldComputeTickData(){return this.getVisible()||this._spec.forceInitTick}_initData(){const e=this._initTickDataSet(this._tickTransformOption());e.target.addListener("change",this._forceLayout.bind(this)),this._tickData=[new Cf(this._option,e)]}collectData(e,t){const n=[];return hs(this._regions,r=>{var s;let a=this.collectSeriesField(e,r);if(a=ke(a)?Ln(this._scale.type)?a:[a[0]]:[a],e||(this._dataFieldText=r.getFieldAlias(a[0])),a){const o=r.getViewData();if(t)a.forEach(l=>{n.push(r.getRawDataStatisticsByField(l,!1))});else if(o&&o.latestData&&o.latestData.length){const l=(s=r.getViewDataStatistics)===null||s===void 0?void 0:s.call(r);a.forEach(u=>{var c;!((c=l==null?void 0:l.latestData)===null||c===void 0)&&c[u]&&n.push(l.latestData[u])})}}},{userId:this._seriesUserId,specIndex:this._seriesIndex}),n}isSeriesDataEnable(){let e=!0;return hs(this._regions,t=>{var n;ke((n=t.getViewDataStatistics())===null||n===void 0?void 0:n.latestData)&&(e=!1)},{userId:this._seriesUserId,specIndex:this._seriesIndex}),e}setSeriesAndRegionsFromSpec(){const{seriesId:e,seriesIndex:t,regionId:n,regionIndex:r}=this._spec;X(e)&&(this._seriesUserId=we(e)),X(n)&&(this._regionUserId=we(n)),X(t)&&(this._seriesIndex=we(t)),X(r)&&(this._regionIndex=we(r)),this._regions=this._option.getRegionsInUserIdOrIndex(this._regionUserId,this._regionIndex),this.layout.layoutBindRegionID=this._regions.map(s=>s.id)}getBindSeriesFilter(){return{userId:this._seriesUserId,specIndex:this._seriesIndex}}initEvent(){this.event.on(Pt.scaleUpdate,{filter:({model:t})=>(t==null?void 0:t.id)===this.id},this.effect.scaleUpdate.bind(this));const e=eEe(this._regions,{userId:this._seriesUserId,specIndex:this._seriesIndex}).map(t=>t.getViewDataStatistics()).filter(t=>!!t);e.length>1?this._option.dataSet.multipleDataViewAddListener(e,"change",()=>{this.updateScaleDomain()}):e.length===1&&e[0].target.addListener("change",()=>{this.updateScaleDomain()}),hs(this._regions,t=>{t.event.on(Pt.rawDataUpdate,{filter:({model:n})=>(n==null?void 0:n.id)===t.id},()=>{this._clearRawDomain()})},{userId:this._seriesUserId,specIndex:this._seriesIndex})}updateScaleDomain(){}_clearRawDomain(){}onLayoutEnd(e){this.updateScaleRange(),this.event.emit(Pt.scaleUpdate,{model:this,value:"range"}),super.onLayoutEnd(e)}computeData(e){!this._tickData||!this._tickData.length||e!=="force"&&Rr(this._scale.range(),[0,1])||this._tickData.forEach(t=>{t.getDataView().reRunAllTransform(),t.updateData()})}initScales(){this._scales=[this._scale];const e=[];if(hs(this._regions,t=>{const n=t.getGroups();n&&e.push(n)},{userId:this._seriesUserId,specIndex:this._seriesIndex}),e.length!==0){const t=Os(e.map(n=>n.fields.length));for(let n=1;n<t;n++){const r=this._scale.clone();this._scales.push(r)}}}_compareSpec(e,t){const n=super._compareSpec(e,t);return n.reRender=!0,(t==null?void 0:t.type)!==(e==null?void 0:e.type)&&(n.reMake=!0),n}_delegateAxisContainerEvent(e){e.listenerCount("*")===0&&e.addEventListener("*",(t,n)=>this._delegateEvent(e,t,n))}_getAxisAttributes(){const e=this._spec,t={orient:this.getOrient(),select:this._option.disableTriggerEvent!==!0&&e.select,hover:this._option.disableTriggerEvent!==!0&&e.hover};if(e.domainLine&&e.domainLine.visible?t.line=Zwt(e.domainLine):t.line={visible:!1},e.label&&e.label.visible){const n=kB(e.label,["style","formatMethod","state"]);t.label=n,e.label.style&&(t.label.style=Pe(e.label.style)?(r,s,a,o)=>{var l;const u=e.label.style(r.rawValue,s,r,a,o);return Yt(Rt({},(l=this._theme.label)===null||l===void 0?void 0:l.style,u))}:Yt(e.label.style)),(e.label.formatMethod||e.label.formatter)&&(t.label.formatMethod=this._getLabelFormatMethod()),e.label.state&&(t.label.state=Wxt(e.label.state))}else t.label={visible:!1};if(e.tick&&e.tick.visible?(t.tick={visible:e.tick.visible,length:e.tick.tickSize,inside:e.tick.inside,alignWithLabel:e.tick.alignWithLabel,dataFilter:e.tick.dataFilter},e.tick.style&&(t.tick.style=Pe(e.tick.style)?(n,r,s,a)=>{var o;const l=e.tick.style(n,r,s,a);return Yt(Rt({},(o=this._theme.tick)===null||o===void 0?void 0:o.style,l))}:Yt(e.tick.style)),e.tick.state&&(t.tick.state=A1(e.tick.state))):t.tick={visible:!1},e.subTick&&e.subTick.visible?(t.subTick={visible:e.subTick.visible,length:e.subTick.tickSize,inside:e.subTick.inside,count:e.subTick.tickCount},e.subTick.style&&(t.subTick.style=Pe(e.subTick.style)?(n,r,s,a)=>{var o;const l=e.subTick.style(n,r,s,a);return Yt(Rt({},(o=this._theme.subTick)===null||o===void 0?void 0:o.style,l))}:Yt(e.subTick.style)),e.subTick.state&&(t.subTick.state=A1(e.subTick.state))):t.subTick={visible:!1},e.title&&e.title.visible){const n=e.title,{autoRotate:r,angle:s,style:a={},background:o,state:l,shape:u}=n,c=XCt(n,["autoRotate","angle","style","background","state","shape"]);let d,h=s;e.orient!=="left"&&e.orient!=="right"||r&&Y(h)&&(h=e.orient==="left"?-90:90,d=qwt[e.orient]),t.title=Object.assign(Object.assign({},c),{autoRotate:!1,angle:h?Pn(h):null,textStyle:Rt({},d,Yt(a)),pickable:a.pickable!==!1,childrenPickable:a.pickable!==!1,state:{}}),u&&u.visible?(t.title.shape=Object.assign(Object.assign({},u),{style:Yt(u.style)}),u.state&&(t.title.state.shape=A1(u.state))):t.title.shape={visible:!1},o&&o.visible?(t.title.background=Object.assign(Object.assign({},o),{style:Yt(o.style)}),o.state&&(t.title.state.background=A1(o.state))):t.title.background={visible:!1},l&&(t.title.state.text=A1(l))}else t.title={visible:!1};return e.background&&e.background.visible?(t.panel={visible:!0},e.background.style&&(t.panel.style=Yt(e.background.style)),e.background.state&&(t.panel.state=A1(e.background.state))):t.panel={visible:!1},t}_getGridAttributes(){const e=this._spec;return{alternateColor:e.grid.alternateColor,alignWithLabel:e.grid.alignWithLabel,style:Pe(e.grid.style)?()=>(t,n)=>{var r,s;const a=e.grid.style((r=t.datum)===null||r===void 0?void 0:r.rawValue,n,t.datum);return Yt(Rt({},(s=this._theme.grid)===null||s===void 0?void 0:s.style,a))}:Yt(e.grid.style),subGrid:e.subGrid.visible===!1?{visible:!1}:{type:"line",visible:e.subGrid.visible,alternateColor:e.subGrid.alternateColor,style:Yt(e.subGrid.style)}}}_getLabelFormatMethod(){const{formatMethod:e,formatter:t}=this._spec.label,{formatFunc:n}=em(e,t);return n?(r,s,a)=>n(s.rawValue,s,t):null}_initTickDataSet(e,t=0){return Fg(this._option.dataSet,"scale",KCt),pi(this._option.dataSet,"ticks",fvt),new vn(this._option.dataSet,{name:`${this.type}_${this.id}_ticks_${t}`}).parse(this._scales[t],{type:"scale"}).transform({type:"ticks",options:e},!1)}_tickTransformOption(){const e=this._tick||{},t=this._spec.label||{},{tickCount:n,forceTickCount:r,tickStep:s,tickMode:a}=e,{style:o,formatMethod:l,minGap:u}=t;return{sampling:this._spec.sampling!==!1,tickCount:n,forceTickCount:r,tickStep:s,tickMode:a,axisOrientType:this._orient,coordinateType:this._coordinateType,labelStyle:o,labelFormatter:l,labelGap:u}}addTransformToTickData(e,t){this._tickData.forEach(n=>{var r;(r=n==null?void 0:n.getDataView())===null||r===void 0||r.transform(e,t)})}dataToPosition(e){return this._scale.scale(e)}}vq.specKey="axes";const xb=()=>{_bt(),wbt(),j$(),ce.registerAnimation("axis",()=>({appear:{custom:Nmt},update:{custom:$mt},exit:{custom:got}}))};var ehe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};const qCt=[UT];class dF extends vq{getOrient(){return this._orient}set autoIndentOnce(e){this._autoIndentOnce=e}getScales(){return this._scales}constructor(e,t){super(e,t),this.type=De.cartesianAxis,this.name=De.cartesianAxis,this._defaultBandPosition=.5,this._defaultBandInnerPadding=.1,this._defaultBandOuterPadding=.3,this.layoutType="region-relative",this.layoutZIndex=qn.Axis,this.layoutLevel=up.Axis,this._orient="left",this._autoIndentOnce=!1,this._hasAutoIndent=!1,this._scales=[],this._tick=void 0,this._layoutCache={width:0,height:0,_lastComputeOutBounds:{x1:0,x2:0,y1:0,y2:0}},this._innerOffset={top:0,bottom:0,left:0,right:0},this.effect={scaleUpdate:n=>{this.computeData(n==null?void 0:n.value),hs(this._regions,r=>{const s=this.getOrient();Qr(s)?r.setXAxisHelper(this.axisHelper()):ef(s)?r.setYAxisHelper(this.axisHelper()):Um(s)&&r.setZAxisHelper(this.axisHelper())},{userId:this._seriesUserId,specIndex:this._seriesIndex})}},this._transformLayoutPosition=n=>{let{x:r,y:s}=n;return Ce(r)&&(r+=+(this._orient==="left")*this.getLayoutRect().width),Ce(s)&&(s+=+(this._orient==="top")*this.getLayoutRect().height),{x:r,y:s}},this._transformLayoutRect=n=>{if(!this._visible)return n;const r=this._latestBounds.clone().translate(-this.getLayoutStartPoint().x,-this.getLayoutStartPoint().y);switch(this._layout.layoutOrient){case"left":this._layout.layoutRectLevelMap.width===Iu&&(n.width=r.x1<0?-r.x1:0);break;case"right":this._layout.layoutRectLevelMap.width===Iu&&(n.width=r.x2>0?r.x2:0);break;case"top":this._layout.layoutRectLevelMap.height===Iu&&(n.height=r.y1<0?-r.y1:0);break;case"bottom":this._layout.layoutRectLevelMap.height===Iu&&(n.height=r.y2>0?r.y2:0)}return n.width=Math.ceil(n.width),n.height=Math.ceil(n.height),this._layout.setRectInSpec(this._layoutCacheProcessing(n))},this._updateAxisLayout=()=>{const n=this.getLayoutStartPoint(),r=this._getUpdateAttribute(!1),{grid:s}=r,a=ehe(r,["grid"]),o=this._axisMark.getProduct(),l=Rt({x:n.x,y:n.y},this._axisStyle,a);o.encode(l),this._gridMark&&this._gridMark.getProduct().encode(Rt({x:n.x,y:n.y},this._getGridAttributes(),s))},this._fixAxisOnZero=()=>{const{onZero:n,visible:r}=this._spec.domainLine;if(this.visible&&n&&r!==!1){const{onZeroAxisId:s,onZeroAxisIndex:a}=this._spec.domainLine,o=this._option.getComponentsByKey("axes"),l=Qr(this.getOrient()),u=d=>{var h;return(l?!Qr(d.getOrient()):Qr(d.getOrient()))&&Ln(d.getScale().type)&&(d.getTickData()?(h=d.getTickData().getLatestData())===null||h===void 0?void 0:h.find(p=>p.value===0):d.getScale().domain()[0]<=0&&d.getScale().domain()[1]>=0)},c=o.filter(d=>u(d));if(c.length){let d;if(X(s))d=c.find(h=>h.id===s);else if(X(a)){const h=o[a];u(h)&&(d=h)}else d=c[0];if(d){const h=this._axisMark.getProduct(),p=d.valueToPosition(0);l?h.encode({line:Object.assign(Object.assign({},this._axisStyle.line),{dy:this._orient==="bottom"?-(d.getScale().range()[0]-p):p})}):h.encode({line:Object.assign(Object.assign({},this._axisStyle.line),{dx:this._orient==="left"?p:-(d.getScale().range()[1]-p)})})}}}},this._orient=By(e,["z"]),Um(this._orient)&&(this.layoutType="absolute"),this._dataSet=t.dataSet,this._coordinateType="cartesian"}static getSpecInfo(e){const t=e[this.specKey];if(!t)return null;const n=e.direction==="horizontal";if(!ke(t)){if(!zde(t))return null;const{axisType:o,componentName:l}=Ede(t,n);return t.type=o,[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:l}]}let r=!0;if(t.filter(o=>o.orient==="z")[0]){const o=t.filter(u=>u.orient==="bottom")[0],l=t.filter(u=>ef(u.orient))[0];r=t.length===3&&o&&l}let s=t.map((o,l)=>({spec:o,index:l}));r||(s=s.filter(({spec:o})=>o.orient!=="z"));const a=[];return s.forEach(({spec:o,index:l})=>{if(!zde(o))return;const{axisType:u,componentName:c}=Ede(o,n);o.type=u,a.push({spec:o,specPath:[this.specKey,l],specInfoPath:["component",this.specKey,l],type:c})}),a}static createComponent(e,t){const{spec:n}=e,r=ehe(e,["spec"]),s=ce.getComponentInKey(r.type);return s?new s(n,Object.assign(Object.assign({},t),r)):(t.onError(`Component ${r.type} not found`),null)}initLayout(){super.initLayout(),this._layout.autoIndent=this._spec.autoIndent!==!1,this._layout.layoutOrient=this._orient}setLayout3dBox(e){this.layout3dBox=e}updateScaleRange(){let e=!1;const{width:t,height:n}=this.getLayoutRect(),{left:r,right:s,top:a,bottom:o}=this._innerOffset;let l=[];Qr(this.getOrient())?Ce(t)&&(l=this._inverse?[t-s,r]:[r,t-s]):Um(this.getOrient())?Ce(t)&&(l=this._inverse?[t-s,r]:[r,t-s],this._scale.range(l)):Ce(n)&&(l=this._inverse?[a,n-o]:[n-o,a]);const[u,c]=this._scale.range();return l[0]===u&&l[1]===c||(e=!0,this._scale.range(l)),e}init(e){var t;super.init(e),(t=this.pluginService)===null||t===void 0||t.load(qCt.map(n=>new n)),this.callPlugin(n=>{this.pluginService&&n.onInit&&n.onInit(this.pluginService,this)})}setAttrFromSpec(){var e;if(super.setAttrFromSpec(),this.visible){Qr(this.getOrient())?qr(this._spec.maxHeight)&&(this._spec.maxHeight="30%"):qr(this._spec.maxWidth)&&(this._spec.maxWidth="30%");const n=this._getAxisAttributes();n.label.formatMethod=this._getLabelFormatMethod(),n.verticalFactor=this.getOrient()==="top"||this.getOrient()==="right"?-1:1,this._axisStyle=n}this._tick=this._spec.tick;const t=(e=this._option.getChart())===null||e===void 0?void 0:e.getSpec();this._inverse=Xxt(this._spec,(t==null?void 0:t.direction)==="horizontal")}onLayoutStart(e,t,n){if(super.onLayoutStart(e,t,n),!Um(this.getOrient())&&this._spec.innerOffset){const r=this._spec;ef(this.getOrient())?["top","bottom"].forEach(s=>{this._innerOffset[s]=vo(r.innerOffset[s],t.height,t)}):["left","right"].forEach(s=>{this._innerOffset[s]=vo(r.innerOffset[s],t.width,t)})}}getSeriesStatisticsField(e){let t;return t=Qr(this.getOrient())?e.fieldX:Um(this.getOrient())?e.fieldZ:e.fieldY,Ln(this._scale.type)?t:[t[0]]}_tickTransformOption(){var e,t,n;return Object.assign(Object.assign({},super._tickTransformOption()),{noDecimals:(e=this._tick)===null||e===void 0?void 0:e.noDecimals,labelLastVisible:(t=this._spec.label)===null||t===void 0?void 0:t.lastVisible,labelFlush:(n=this._spec.label)===null||n===void 0?void 0:n.flush})}axisHelper(){return{isContinuous:Ln(this._scale.type),dataToPosition:this.dataToPosition.bind(this),getScale:(e=0)=>this._scales[e],getAxisType:()=>this.type,getAxisId:()=>this.id,isInverse:()=>this._inverse===!0,getSpec:()=>this._spec}}afterCompile(){var e;const t=(e=this._axisMark)===null||e===void 0?void 0:e.getProduct();t&&t.addEventListener(At.AFTER_ELEMENT_ENCODE,()=>{if(this._isLayout===!1&&(Qr(this.getOrient())?this.callPlugin(n=>{this.pluginService&&n.onDidLayoutHorizontal&&n.onDidLayoutHorizontal(this.pluginService,this)}):this.callPlugin(n=>{this.pluginService&&n.onDidLayoutVertical&&n.onDidLayoutVertical(this.pluginService,this)}),this._delegateAxisContainerEvent(t.getGroupGraphicItem()),this._unitText)){const{x:n,y:r}=this.getLayoutStartPoint(),s=Qr(this._orient)?{x:Os(this._scale.range())+n,y:r}:{x:n,y:ca(this._scale.range())+r};this._unitText.setAttributes(s)}}),this.callPlugin(n=>{this.pluginService&&n.onDidCompile&&n.onDidCompile(this.pluginService,this)})}onRender(e){}changeRegions(e){}update(e){}resize(e){}collectScale(){const e=[];return hs(this._regions,t=>{e.push(this.getOrient()==="left"||this.getOrient()==="right"?t.scaleY:t.scaleX)},{userId:this._seriesUserId,specIndex:this._seriesIndex}),e}collectSeriesField(e,t){var n,r;let s;return s=e>0?(r=(n=t.getGroups())===null||n===void 0?void 0:n.fields)===null||r===void 0?void 0:r[e]:Qr(this.getOrient())?t.getSpec().x2Field?[...t.fieldX,t.fieldX2]:t.fieldX:Um(this.getOrient())?t.fieldZ:t.getSpec().y2Field?[...t.fieldY,t.fieldY2]:t.fieldY,s}updateSeriesScale(){const e=this.getOrient();hs(this._regions,t=>{Qr(e)?(t.setScaleX(this._scale),t.setXAxisHelper(this.axisHelper())):ef(e)?(t.setScaleY(this._scale),t.setYAxisHelper(this.axisHelper())):Um(e)&&(t.setScaleZ(this._scale),t.setZAxisHelper(this.axisHelper()))},{userId:this._seriesUserId,specIndex:this._seriesIndex})}getBoundsInRect(e){var t;let n={x1:0,y1:0,x2:0,y2:0};if(!this._visible)return n;this._verticalLimitSize=Qr(this.getOrient())?e.height:e.width,this.setLayoutRect(e),!this.updateScaleRange()&&ke((t=this.getTickData())===null||t===void 0?void 0:t.getLatestData())||this.computeData("range");const r={skipLayout:!1},s=Qr(this.getOrient());this.pluginService&&(s?this.callPlugin(l=>{l.onWillLayoutHorizontal&&l.onWillLayoutHorizontal(this.pluginService,r,this)}):this.callPlugin(l=>{l.onWillLayoutVertical&&l.onWillLayoutVertical(this.pluginService,r,this)}));const a=this._axisMark.getProduct();let o=!1;if(!r.skipLayout){const l=this._getUpdateAttribute(!0),u=a.getGroupGraphicItem(),c=Rt(Object.assign({},this.getLayoutStartPoint()),this._axisStyle,l,{line:{visible:!1}}),d=u.getBoundsWithoutRender(c);o=!0,this._latestBounds=d,isFinite(d.width())&&(n=this._appendAxisUnit(d,s))}return o||(this._latestBounds=a.getBounds()),n}_getTitleLimit(e){var t,n,r,s,a;if(this._spec.title.visible&&Y((t=this._spec.title.style)===null||t===void 0?void 0:t.maxLineWidth)){const o=(a=(r=(n=this._axisStyle.title)===null||n===void 0?void 0:n.angle)!==null&&r!==void 0?r:(s=this._spec.title.style)===null||s===void 0?void 0:s.angle)!==null&&a!==void 0?a:0;if(e){const c=this.getLayoutRect().width,d=Math.abs(Math.cos(o));return d<1e-6?1/0:c/d}const l=this.getLayoutRect().height,u=Math.abs(Math.sin(o));return u<1e-6?1/0:l/u}return null}_getUpdateAttribute(e){var t;let n=0,r=0;if(!e){const m=this.getRegions();let{x:b,y:_}=m[0].getLayoutStartPoint(),S=b+m[0].getLayoutRect().width,C=_+m[0].getLayoutRect().height;for(let k=1;k<m.length;k++){const E=m[k],{x:A,y:P}=E.getLayoutStartPoint(),{width:O,height:M}=E.getLayoutRect();b=Math.min(b,A),S=Math.max(S,O+A),_=Math.min(_,P),C=Math.max(C,M+P)}n=Math.abs(C-_),r=Math.abs(S-b)}const{width:s,height:a}=this.getLayoutRect(),o=Qr(this._orient),l=ef(this._orient),u=Um(this._orient);let c={x:0,y:0},d=0,h=0;const p=this.layout3dBox?this.layout3dBox.length:0;if(o?(c={x:s,y:0},d=n,h=s):l&&(c={x:0,y:a},d=r,h=a),u){const m=(t=this.directionStr)!==null&&t!==void 0?t:"r2l",b=this.layout3dBox?this.layout3dBox.width:0;let _=[0,0],S=-Math.PI/2,C=0;m==="l2r"&&(C=this.layout3dBox.length,_=[0,0,0],S=Math.PI/2);const k=this.getLabelItems(s),E={start:{x:0,y:0},end:{x:p,y:0},z:C,alpha:S,anchor3d:_,title:{text:this._spec.title.text||this._dataFieldText,maxWidth:this._getTitleLimit(o)},items:k};return e||(E.grid={type:"line",start:{x:0,y:0},end:{x:p,y:0},items:k[0],verticalFactor:this._axisStyle.verticalFactor,depth:b,length:n,z:C,alpha:S,anchor3d:_}),E}let f=o?this.layout.minHeight:this.layout.minWidth;(o&&this._layout.layoutRectLevelMap.height===av||l&&this._layout.layoutRectLevelMap.width===av)&&(f=this._verticalLimitSize);const g=this.getLabelItems(h),v={start:{x:0,y:0},end:c,title:{text:this._spec.title.text||this._dataFieldText,maxWidth:this._getTitleLimit(o)},items:g,verticalLimitSize:this._verticalLimitSize,verticalMinSize:f};return e||(v.grid={type:"line",start:{x:0,y:0},end:c,items:g[0],verticalFactor:this._axisStyle.verticalFactor,depth:p,length:d}),v}getLabelItems(e){var t;const n=(t=this.getTickData())===null||t===void 0?void 0:t.getLatestData();return n&&n.length?[n.map(r=>{const s=this._getNormalizedValue([r.value],e);return ew(r.value,s)}).filter(r=>r.value>=0&&r.value<=1)]:[]}initEvent(){super.initEvent(),this.visible&&(this.event.on(Pt.layoutEnd,this._updateAxisLayout),this.event.on(Pt.layoutEnd,this._fixAxisOnZero),this.event.on(Pt.layoutRectUpdate,()=>{this._clearLayoutCache()}))}_getNormalizedValue(e,t){return t===0?0:this.dataToPosition(e)/t}_layoutCacheProcessing(e){return["width","height"].forEach(t=>{e[t]<this._layoutCache[t]?e[t]=this._layoutCache[t]:this._layoutCache[t]=e[t]}),this._autoIndentOnce&&this._hasAutoIndent?["x1","x2","y1","y2"].forEach(t=>{this.layout.getLastComputeOutBounds()[t]=this._layoutCache._lastComputeOutBounds[t]}):(this._hasAutoIndent=!0,["x1","x2","y1","y2"].forEach(t=>{this.layout.getLastComputeOutBounds()[t]<this._layoutCache._lastComputeOutBounds[t]?this.layout.getLastComputeOutBounds()[t]=this._layoutCache._lastComputeOutBounds[t]:this._layoutCache._lastComputeOutBounds[t]=this.layout.getLastComputeOutBounds()[t]})),e}_clearLayoutCache(){this._hasAutoIndent=!1,this._layoutCache.width=0,this._layoutCache.height=0,this._layoutCache._lastComputeOutBounds={x1:0,x2:0,y1:0,y2:0}}onDataUpdate(){this._clearLayoutCache()}_appendAxisUnit(e,t){var n;if(this._spec.unit&&this._spec.unit.visible){const{text:r,style:s}=this._spec.unit;let a,o;const{x:l,y:u}=this.getLayoutStartPoint();t?(a={x:Os(this._scale.range())+l,y:u},o={textAlign:"left",textBaseline:"middle"}):(a={x:l,y:ca(this._scale.range())+u},o={textAlign:this._orient==="left"?"left":"right",textBaseline:"bottom"}),o=Object.assign(Object.assign(Object.assign({},o),s),{x:a.x,y:a.y,text:r}),this._unitText?this._unitText.setAttributes(o):(this._unitText=Ux(o),this._unitText.name="axis-unit",(n=this.getContainer())===null||n===void 0||n.add(this._unitText));const c=this._unitText.AABBBounds;t?(e.x2+=c.x2>e.x2?c.x2-e.x2:0,e.y2+=c.y2>e.y2?c.y2-e.y2:0):(e.x1+=c.x1<e.x1?c.x1-e.x1:0,e.y1+=c.y1<e.y1?c.y1-e.y1:0)}return e}_getNeedClearVRenderComponents(){return this._unitText?[this._unitText]:[]}}dF.type=De.cartesianAxis,dF.specKey="axes";const ZCt=Math.sqrt(50),QCt=Math.sqrt(10),JCt=Math.sqrt(2);class z${constructor(){this._extend={},this.niceLabelFormatter=null}setExtraAttrFromSpec(){X(this._spec.nice)&&(this._nice=this._spec.nice),X(this._spec.zero)&&(this._zero=this._spec.zero),this._expand=this._spec.expand,this._domain=YT(this._spec)}transformScaleDomain(){this.setScaleNice()}setLinearScaleNice(){var e;if(!this._nice)return!1;let t=5;const n=this._spec.tick||{};if(Ce(n.forceTickCount))t=n.forceTickCount;else if(Pe(n.tickCount)){const a=this._scale.range();let o=Math.abs(a[a.length-1]-a[0]);o===1&&this._option&&(o=Qr(this._orient)?this._option.getChartViewRect().width:this._option.getChartViewRect().height),t=n.tickCount({rangeSize:o,labelStyle:this._spec.label&&this._spec.label.style})}else t=Ce(n.tickCount)?n.tickCount:5;this._spec.niceType==="accurateFirst"&&(t=Math.max(5,t));const{min:r,max:s}=(e=this._domain)!==null&&e!==void 0?e:{};return Y(r)&&Y(s)&&Y(this._softMaxValue)&&Y(this._softMinValue)?this._scale.nice(t):(X(r)||X(this._softMinValue))&&Y(s)&&Y(this._softMaxValue)?this._scale.niceMax(t):!(!Y(r)||!Y(this._softMinValue)||!X(s)&&!X(this._softMaxValue))&&this._scale.niceMin(t)}setLogScaleNice(){var e;if(!this._nice)return!1;const{min:t,max:n}=(e=this._domain)!==null&&e!==void 0?e:{};return Y(t)&&Y(n)&&Y(this._softMaxValue)&&Y(this._softMinValue)?this._scale.nice():(X(t)||X(this._softMinValue))&&Y(n)&&Y(this._softMaxValue)?this._scale.niceMax():!(!Y(t)||!Y(this._softMinValue)||!X(n)&&!X(this._softMaxValue))&&this._scale.niceMin()}setScaleNice(){return this._spec.type==="log"?this.setLogScaleNice():this.setLinearScaleNice()}dataToPosition(e,t){return this.valueToPosition(e[0])}valueToPosition(e){return this._scale.scale(e)}computeLinearDomain(e){const t=[];return e.length?e.forEach(n=>{const{min:r,max:s}=n;t[0]=t[0]===void 0?r:Math.min(t[0],r),t[1]=t[1]===void 0?s:Math.max(t[1],s)}):(t[0]=0,t[1]=0),this.setSoftDomainMinMax(t),this.expandDomain(t),this.includeZero(t),this.setDomainMinMax(t),t}expandDomain(e){if(!this._expand)return;let t=e[0],n=e[e.length-1];t===n&&(n===0?n=1:n>0?t=0:n<0&&(n=0)),X(this._expand.min)&&(e[0]=t-(n-t)*this._expand.min),X(this._expand.max)&&(e[e.length-1]=n+(n-t)*this._expand.max)}niceDomain(e){const{min:t,max:n}=YT(this._spec);if(X(t)||X(n)||this._spec.type!=="linear")return e;if(Math.abs(ca(e)-Os(e))<=1e-12){let r=e[0];const s=r>=0?1:-1;if(r=Math.abs(r),r<1)e[0]=0,e[1]=1;else{let a=r/5;const o=Math.floor(Math.log(a)/Math.LN10),l=a/Math.pow(10,o);a=(l>=ZCt?10:l>=QCt?5:l>=JCt?2:1)*Math.pow(10,o),e[0]=0,e[1]=10*a}s<0&&(e.reverse(),e[0]*=-1,e[1]*=-1)}return e}includeZero(e){this._zero&&(e[0]=Math.min(e[0],0),e[e.length-1]=Math.max(e[e.length-1],0))}setExtendDomain(e,t){if(t===void 0)return void delete this._extend[e];this._extend[e]=t;const n=this._scale.domain();this.extendDomain(n),this.includeZero(n),this.setDomainMinMax(n),this.niceDomain(n),this._scale.domain(n,this._nice),this._nice&&!this.setScaleNice()&&this._scale.rescale(),this.event.emit(Pt.scaleUpdate,{model:this,value:"domain"})}extendDomain(e){let t;const n=e.length-1,r=e[0]-e[n]>0,s=r?n:0,a=r?0:n;for(const o in this._extend)t=this._extend[o],t>e[a]&&(e[a]=t),t<e[s]&&(e[s]=t)}getDomainSpec(){return this._domain}setDomainMinMax(e){if(!this._domain)return;const{min:t,max:n}=this._domain;X(t)&&(e[0]=t),X(n)&&(e[1]=n)}setSoftDomainMinMax(e){const{softMin:t,softMax:n}=this._spec;if(X(t)){let r=Pe(t)?t(e):t;Y(r)&&(r=e[0]),r<=e[0]&&(e[0]=r,this._softMinValue=r)}if(X(n)){let r=Pe(n)?n(e):n;Y(r)&&(r=e[1]),r>=e[1]&&(e[1]=r),this._softMaxValue=r}}setZero(e){this._zero!==e&&(this._zero=e,this.updateScaleDomain())}updateScaleDomain(){if(!this.isSeriesDataEnable())return;const e=this.collectData(),t=this.computeLinearDomain(e);this.updateScaleDomainByModel(t)}updateScaleDomainByModel(e){e=e??this._scale.domain(),this.extendDomain(e),this.includeZero(e),this.setDomainMinMax(e),this.niceDomain(e),this._scale.domain(e,this._nice),this._nice&&!this.setScaleNice()&&this._scale.rescale(),this._updateNiceLabelFormatter(e),this._domainAfterSpec=this._scale.domain(),this.event.emit(Pt.scaleDomainUpdate,{model:this}),this.event.emit(Pt.scaleUpdate,{model:this,value:"domain"})}getDomainAfterSpec(){return this._domainAfterSpec}_updateNiceLabelFormatter(e){const t=Math.abs(e[1]-e[0]),n=Math.max(-Math.floor(Math.log10(t)),0)+2,r=Math.pow(10,n);this.niceLabelFormatter=s=>Ce(+s)?Math.round(+s*r)/r:s}}class Zv extends dF{constructor(){super(...arguments),this.type=De.cartesianLinearAxis,this._zero=!0,this._nice=!0,this._extend={},this._scale=new Zd}setAttrFromSpec(){super.setAttrFromSpec(),this.setExtraAttrFromSpec()}initScales(){var e,t;super.initScales();const n=[0,1];X((e=this._domain)===null||e===void 0?void 0:e.min)&&(n[0]=this._domain.min),X((t=this._domain)===null||t===void 0?void 0:t.max)&&(n[1]=this._domain.max),this._scale.domain(n)}computeDomain(e){return this.computeLinearDomain(e)}axisHelper(){const e=super.axisHelper();return e.setExtendDomain=this.setExtendDomain.bind(this),e.valueToPosition=this.valueToPosition.bind(this),e}}Zv.type=De.cartesianLinearAxis,Zv.specKey="axes",wa(Zv,z$);const Zu=()=>{xb(),ce.registerComponent(Zv.type,Zv)};class STe{constructor(){this._rawDomainIndex=[]}_initData(){var e;if(this._spec.showAllGroupLayers&&this._scales.length>1)for(let t=0;t<this._scales.length;t++){const n=((e=this._spec.layers)!==null&&e!==void 0?e:[])[this._scales.length-1-t]||{};if(n.visible!==!1&&n.tickCount!==0&&n.forceTickCount!==0){const r=this._initTickDataSet(Object.assign(Object.assign({},this._tickTransformOption()),n),t);r.target.addListener("change",this._forceLayout.bind(this));const s=new Cf(this._option,r);this._tickData.push(s),this._tickDataMap||(this._tickDataMap={}),this._tickDataMap[t]=s}}else{const t=this._initTickDataSet(this._tickTransformOption());t.target.addListener("change",this._forceLayout.bind(this));const n=new Cf(this._option,t);this._tickData=[n],this._tickDataMap={0:n}}}dataToPosition(e,t={}){var n,r;if(e.length===0||this._scales.length===0)return 0;const{position:s,bandScale:a}=this.getPosition(e);return s+a.bandwidth()*((r=(n=t.bandPosition)!==null&&n!==void 0?n:this._spec.bandPosition)!==null&&r!==void 0?r:this._defaultBandPosition)}valueToPosition(e){return this._scale.scale(e)}updateGroupScaleRange(){let e=this._scale;this._scales.forEach((t,n)=>{n>0&&(t.range([0,e.bandwidth()]),e=t)})}getPosition(e){let t=0,n=this._scale;if(this._scales.length===1||e.length===1)t=this.valueToPosition(e[0]);else{const r=Math.min(e.length,this._scales.length);for(let s=0;s<r;s++)t+=this._scales[s].scale(e[s]);n=this._scales[r-1]}return{position:t,bandScale:n}}calcScales(e,t){var n,r;const{bandPadding:s,paddingInner:a,paddingOuter:o}=this._spec,l=ke(s),u=ke(a),c=ke(o);for(let d=0;d<this._scales.length;d++){const h=l?s[d]:s,p=u?a[d]:a,f=c?o[d]:o;this._scales[d].paddingInner((n=p??h)!==null&&n!==void 0?n:e,!0).paddingOuter((r=f??h)!==null&&r!==void 0?r:t,!0)}}computeBandDomain(e){if(!e.length)return[];if(e.length===1)return e[0].values;const t=new Set;for(let n=0;n<e.length;n++)for(let r=0;r<e[n].values.length;r++)t.add(e[n].values[r]);return Array.from(t)}updateScaleDomain(){var e;if(!this.isSeriesDataEnable())return;!(!((e=this._rawDomainIndex)===null||e===void 0)&&e.length)&&this._scales.length&&this._updateRawDomain();const t=this._spec.domain;for(let n=0;n<this._scales.length;n++)if(t&&t.length&&n===0)this._scales[n].domain(t);else{const r=this.collectData(n),s=this.computeBandDomain(r);this._scales[n].domain(s.sort((a,o)=>this._rawDomainIndex[n][a]-this._rawDomainIndex[n][o]))}this.transformScaleDomain(),this.event.emit(Pt.scaleDomainUpdate,{model:this}),this.event.emit(Pt.scaleUpdate,{model:this,value:"domain"})}getLabelItems(e){const t=[];let n=[];return this._scales.forEach((r,s)=>{var a;const o=this._tickDataMap[s],l=(a=o==null?void 0:o.getLatestData())===null||a===void 0?void 0:a.length,u=l?o.getLatestData().map(c=>c.value):r.domain();if(u&&u.length)if(n&&n.length){const c=[],d=[];n.forEach(h=>{u.forEach(p=>{const f=we(h).concat(p);if(d.push(f),l){const g=ew(p,this._getNormalizedValue(f,e));c.push(g)}})}),l&&t.push(c.filter(h=>h.value>=0&&h.value<=1)),n=d}else u.forEach(c=>{n.push(c)}),l&&t.push(o.getLatestData().map(c=>ew(c.value,this._getNormalizedValue([c.value],e))).filter(c=>c.value>=0&&c.value<=1))}),t.reverse()}_updateRawDomain(){this._rawDomainIndex=[];const e=this._spec.domain;for(let t=0;t<this._scales.length;t++)if(e&&e.length&&t===0)this._scales[t].domain(e);else{const n=this.collectData(t,!0),r=this.computeBandDomain(n);this._rawDomainIndex[t]={},r.forEach((s,a)=>this._rawDomainIndex[t][s]=a)}}_clearRawDomain(){this._rawDomainIndex=[]}}class GE extends dF{constructor(){super(...arguments),this.type=De.cartesianBandAxis,this._scale=new bb}computeDomain(e){return this.computeBandDomain(e)}updateScaleRange(){const e=super.updateScaleRange();return this.updateGroupScaleRange(),e}initScales(){super.initScales(),this.calcScales(this._defaultBandInnerPadding,this._defaultBandOuterPadding)}axisHelper(){const e=t=>this._scales[t];return{isContinuous:!1,dataToPosition:this.dataToPosition.bind(this),getScale:e,getBandwidth:t=>e(t).bandwidth(),getAxisType:()=>this.type,getAxisId:()=>this.id,isInverse:()=>this._inverse,getSpec:()=>this._spec}}transformScaleDomain(){this.updateFixedWholeLength()}updateFixedWholeLength(){if(this._scale){const{bandSize:e,maxBandSize:t,minBandSize:n}=this._getOuterBandSizeFromSpec();if(e&&this._scale.bandwidth(e),t&&this._scale.maxBandwidth(t),n&&this._scale.minBandwidth(n),this._scale.isBandwidthFixed()&&this._spec.autoRegionSize&&(e||t)){const r=wW(this._scale.domain().length,e??t,this._scale.paddingInner(),this._scale.paddingOuter());["bottom","top"].includes(this._orient)?this._regions.forEach(s=>s.setMaxWidth(r)):["left","right"].includes(this._orient)&&this._regions.forEach(s=>s.setMaxHeight(r))}}}_getOuterBandSizeFromSpec(){var e;let{bandSize:t,maxBandSize:n,minBandSize:r,bandSizeLevel:s=0}=this._spec;const{gap:a,extend:o=0}=(e=this._spec.bandSizeExtend)!==null&&e!==void 0?e:{};s=Math.min(s,this._scales.length-1);for(let l=s;l>0;l--){const u=this._scales[l],c=u.domain(),d=u.paddingInner(),h=u.paddingOuter(),p=f=>{const g=l===s?o:0;return Y(a)||l<s?wW(c.length,f,d,h)+g:(f+(ct(a)?f*(Number(a.substring(0,a.length-1))/100):a))*c.length/(this._scales[l-1].paddingInner()+1)+g};X(t)&&(t=p(t)),X(n)&&(n=p(n)),X(r)&&(r=p(r))}return{bandSize:t,maxBandSize:n,minBandSize:r}}}GE.type=De.cartesianBandAxis,GE.specKey="axes",wa(GE,STe);const Qu=()=>{xb(),ce.registerComponent(GE.type,GE)};class hF extends Zv{constructor(){super(...arguments),this.type=De.cartesianTimeAxis,this._zero=!1,this.effect={scaleUpdate:e=>{this.computeData(e==null?void 0:e.value),hs(this._regions,t=>{Qr(this.getOrient())?t.setXAxisHelper(this.axisHelper()):t.setYAxisHelper(this.axisHelper())},{userId:this._seriesUserId,specIndex:this._seriesIndex})}}}setAttrFromSpec(){var e;super.setAttrFromSpec(),this._tick=Rt({},this._spec.tick,(e=this._spec.layers)===null||e===void 0?void 0:e[0])}_initData(){var e;if(super._initData(),(e=this._spec.layers)===null||e===void 0?void 0:e[1]){const t=new vn(this._option.dataSet,{name:`${this.type}_${this.id}_layer_1_ticks`}).parse(this._scale,{type:"scale"}).transform({type:"ticks",options:Object.assign(Object.assign({},this._tickTransformOption()),{tickCount:this._spec.layers[1].tickCount,forceTickCount:this._spec.layers[1].forceTickCount,tickStep:this._spec.layers[1].tickStep})},!1);this._layerTickData=new Cf(this._option,t)}}computeData(e){super.computeData(e),this._layerTickData&&(this._layerTickData.getDataView().reRunAllTransform(),this._layerTickData.updateData())}_getLabelFormatMethod(){var e,t,n,r,s,a,o,l;const u=Yh.getInstance(),c=((t=(e=this._spec.layers)===null||e===void 0?void 0:e[1])===null||t===void 0?void 0:t.timeFormat)||"%Y%m%d",d=(((r=(n=this._spec.layers)===null||n===void 0?void 0:n[1])===null||r===void 0?void 0:r.timeFormatMode)||"local")==="local"?u.timeFormat:u.timeUTCFormat,h=((a=(s=this._spec.layers)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.timeFormat)||"%Y%m%d",p=(((l=(o=this._spec.layers)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.timeFormatMode)||"local")==="local"?u.timeFormat:u.timeUTCFormat;return(f,g,v,m,b)=>{var _;let S;return S=b===0?p(h,f):d(c,f),!((_=this._spec.label)===null||_===void 0)&&_.formatMethod?this._spec.label.formatMethod(S,g):S}}getLabelItems(e){var t,n;const r=[],s=(t=this.getTickData())===null||t===void 0?void 0:t.getLatestData();s&&s.length&&r.push(s.map(o=>ew(o.value,this._getNormalizedValue([o.value],e))));const a=(n=this._layerTickData)===null||n===void 0?void 0:n.getLatestData();return a&&a.length&&r.push(a.map(o=>ew(o.value,this._getNormalizedValue([o.value],e)))),r}transformScaleDomain(){}}hF.type=De.cartesianTimeAxis,hF.specKey="axes";const ekt=()=>{xb(),ce.registerComponent(hF.type,hF)};class YE extends Zv{constructor(){super(...arguments),this.type=De.cartesianLogAxis,this._zero=!1,this._scale=new RX}initScales(){var e;super.initScales(),this._scale.base((e=this._spec.base)!==null&&e!==void 0?e:10),this._scale.clamp(!0,null,!1)}transformScaleDomain(){}}YE.type=De.cartesianLogAxis,YE.specKey="axes",wa(YE,z$);const tkt=()=>{xb(),ce.registerComponent(YE.type,YE)};class KE extends Zv{constructor(){super(...arguments),this.type=De.cartesianSymlogAxis,this._zero=!1,this._scale=new DX}initScales(){var e;super.initScales(),this._scale.constant((e=this._spec.constant)!==null&&e!==void 0?e:10)}transformScaleDomain(){}}KE.type=De.cartesianSymlogAxis,KE.specKey="axes",wa(KE,z$);const ikt=()=>{xb(),ce.registerComponent(KE.type,KE)};class NS extends sh{constructor(){super(...arguments),this.type=xe.line,this.transformerConstructor=gP,this._sortDataByAxis=!1}compile(){super.compile(),this.addSamplingCompile(),this.addOverlapCompile()}initMark(){var e;const t={progressiveStep:this._spec.progressiveStep,progressiveThreshold:this._spec.progressiveThreshold,large:this._spec.large,largeThreshold:this._spec.largeThreshold},n=(e=this._spec.seriesMark)!==null&&e!==void 0?e:"line";this.initLineMark(t,n==="line"),this.initSymbolMark(t,n==="point")}initTooltip(){super.initTooltip();const{dimension:e,group:t,mark:n}=this._tooltipHelper.activeTriggerSet;this._lineMark&&(e.add(this._lineMark),t.add(this._lineMark)),this._symbolMark&&(n.add(this._symbolMark),t.add(this._symbolMark))}initMarkStyle(){this.initLineMarkStyle(this._direction),this.initSymbolMarkStyle()}initAnimation(){var e,t,n,r;const s={direction:this.direction},a=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;if(this._lineMark.setAnimationConfig(Yi((n=ce.getAnimationInKey("line"))===null||n===void 0?void 0:n(s,a),an("line",this._spec,this._markAttributeContext))),this._symbolMark){const o=D0(this);this._symbolMark.setAnimationConfig(Yi((r=ce.getAnimationInKey("scaleInOut"))===null||r===void 0?void 0:r(),an("point",this._spec,this._markAttributeContext),o))}}onLayoutEnd(e){super.onLayoutEnd(e),this.reCompileSampling()}getSeriesStyle(e){var t;const n=((t=this._spec)===null||t===void 0?void 0:t.seriesMark)!=="point";return r=>{var s,a;return n&&r==="fill"&&(r="stroke"),(a=(s=this._seriesMark)===null||s===void 0?void 0:s.getAttribute(r,e))!==null&&a!==void 0?a:void 0}}getDefaultShapeType(){return"circle"}getActiveMarks(){return[this._lineMark,this._symbolMark]}}NS.type=xe.line,NS.mark=zEe,NS.transformerConstructor=gP,wa(NS,mq);const nkt=()=>{QX(),JX(),N$(),_m(),qAe(),L$(),Qu(),Zu(),ce.registerSeries(NS.type,NS)};class rkt{get dataList(){return this._dataArr}constructor(e,t){this._dataArr=[],this._onError=t,this._dataSet=e}parseData(e){this._dataArr=[];const t=we(e);for(let n=0;n<t.length;n++)this._dataArr.push(oq(t[n],this._dataSet,this._dataArr,{onError:this._onError}))}updateData(e,t=!1,n=!0){const r=we(e);return(!t||r.length===this._dataArr.length)&&(this._dataValueForEach(r,(s,a)=>{a.markRunning()}),this._dataValueForEach(r,(s,a)=>{lq(a,s,n)}),!0)}_dataValueForEach(e,t){e.forEach((n,r)=>{if(n instanceof vn)return;const s=this.getSeriesData(n.id,r);s&&t(n,s,r)})}getSeriesData(e,t){var n,r;if(!this._dataArr.length)return null;if(typeof e=="string"){const s=this._dataArr.filter(a=>a.name===e);return s[0]?s[0]:((n=this._onError)===null||n===void 0||n.call(this,`no data matches dataId ${e}!`),null)}return typeof t=="number"?this._dataArr[t]?this._dataArr[t]:((r=this._onError)===null||r===void 0||r.call(this,`no data matches dataIndex ${t}!`),null):this._dataArr[0]}}class skt{constructor(e,t){this._scaleSpecMap=new Map,this._scaleMap=new Map,this._modelScaleSpecMap=new Map,this._markAttributeScaleMap=new Map,this._spec=null,this._chart=null,this.getStatisticalFields=n=>{const r=[];return this._scaleSpecMap.forEach((s,a)=>{MS(s.domain)&&s.domain.forEach(o=>{o.dataId===n&&o.fields.forEach(l=>{px(r,[{key:l,operations:Ln(s.type)?["max","min"]:["values"]}])})})}),this._markAttributeScaleMap.forEach((s,a)=>{const o=this.getScale(a);s.forEach(l=>{this._getSeriesBySeriesId(l.seriesId).getRawData().name===n&&l.field&&px(r,[{key:l.field,operations:Ln(o.type)?["max","min"]:["values"]}])})}),r},this._spec=e,this._chart=t,this._setAttrFromSpec()}_createFromSpec(e){if(!e.id)return null;let t=this._scaleMap.get(e.id);return t||(t=e.type==="ordinal"&&e.id==="color"?zW("colorOrdinal"):zW(e.type)),t?(ke(e.range)&&t.range(e.range),ke(e.domain)&&(MS(e.domain)||t.domain(e.domain)),e.specified&&t.specified&&t.specified(e.specified),t):null}_setAttrFromSpec(){var e;if(!(!((e=this._spec)===null||e===void 0)&&e.length))return;const t=new Map,n=new Map;this._spec.forEach(r=>{const s=this._createFromSpec(r);s&&(t.set(r.id,s),n.set(r.id,r))}),this._modelScaleSpecMap.forEach(r=>{const s=this._createFromSpec(r);s&&(t.set(r.id,s),n.set(r.id,r))}),this._scaleSpecMap=n,this._scaleMap=t}updateSpec(e){const t={change:!1,reMake:!1,reRender:!1,reSize:!1,reCompile:!1};if(Rr(e,this._spec))return t;t.change=!0;for(let n=0;n<e.length;n++){const r=e[n],s=this._scaleMap.get(r.id);if(!s)return t.reMake=!0,t;const a=this._spec.find(o=>o.id===r.id);if(!a.id||a.type!==r.type)return t.reMake=!0,t;r.range&&!Rr(r.range,s.range())&&(s.range(r.range),t.reRender=!0),MS(r.domain)?t.reRender=!0:Rr(r.domain,s.domain())||(s.domain(r.domain),t.reRender=!0),this._scaleSpecMap.set(r.id,r)}return this._spec=e,t}registerModelScale(e){const t=this._createFromSpec(e);t&&(this._modelScaleSpecMap.set(e.id,e),this._scaleSpecMap.set(e.id,e),this._scaleMap.set(e.id,t))}removeModelScale(e){this._modelScaleSpecMap.forEach(t=>{e(t)&&(this._modelScaleSpecMap.delete(t.id),this._scaleSpecMap.delete(t.id),this._scaleMap.delete(t.id))})}getScale(e){return this._scaleMap.get(e)}getScaleSpec(e){return this._scaleSpecMap.get(e)}_getSeriesByRawDataId(e){const t=this._chart.getAllSeries();for(let n=0;n<t.length;n++){const r=t[n];if(r.getRawData().name===e)return r}return null}_getSeriesBySeriesId(e){const t=this._chart.getAllSeries();for(let n=0;n<t.length;n++){const r=t[n];if(r.id===e)return r}return null}updateScaleDomain(e){this._scaleSpecMap.forEach((t,n)=>{const r=this._scaleMap.get(n);if(!r)return;if(!MS(t.domain))return t.domain&&t.domain.length!==0||r.domain(e),void this._updateMarkScale(n,r,r.domain().slice());let s;s=Ln(t.type)?[null,null]:new Set,t.domain.forEach(o=>{const l=this._getSeriesByRawDataId(o.dataId);if(!l)return;const u=Ln(t.type);o.fields.forEach(c=>{const d=l.getRawDataStatisticsByField(c,u);d&&(u?(Y(s[0])?s[0]=d.min:s[0]=Math.min(d.min,s[0]),Y(s[1])?s[1]=d.max:s[1]=Math.max(d.max,s[1])):d.values.forEach(h=>{s.add(h)}))})});const a=s;Ln(t.type)||(s=Array.from(s)),r.domain(s),this._updateMarkScale(n,r,a)})}_updateMarkScale(e,t,n){const r=this._markAttributeScaleMap.get(e);r&&r.length!==0&&r.forEach(s=>{if(!s.field||!s.markScale||s.markScale===t)return;if(Y(s.changeDomain)||s.changeDomain==="none"||Y(s.seriesId))return void(Ln(t.type)?s.markScale.domain(n):t.domain(Array.from(n)));const a=this._getSeriesBySeriesId(s.seriesId),o=Ln(t.type),l=a.getRawDataStatisticsByField(s.field,o);if(!Mt(l))return s.changeDomain==="expand"?(o?(n[0]=Math.min(n[0],l.min),n[1]=Math.max(n[1],l.max)):(l.values.forEach(u=>{n.add(u)}),n=Array.from(n)),void s.markScale.domain(n)):void(s.changeDomain!=="replace"||(o?s.markScale.domain([l.min,l.max]):s.markScale.domain(l.values)));Ln(t.type)?s.markScale.domain(n):t.domain(Array.from(n))})}registerMarkAttributeScale(e,t){const n=this._scaleMap.get(e.scale);let r=this._markAttributeScaleMap.get(e.scale);r||(r=[],this._markAttributeScaleMap.set(e.scale,r));let s=n;return(Y(e.field)||!Y(e.changeDomain)&&e.changeDomain!=="none"&&!Y(t))&&(s=n.clone()),r.push(Object.assign(Object.assign({},e),{seriesId:t,markScale:s})),s}}let akt=class{constructor(e){this.stackRegion=({model:t})=>{const n=t.getSeries();if(!n.some(l=>l.getStack()))return;const r=n.some(l=>{var u,c;return(c=(u=l.getSpec())===null||u===void 0?void 0:u.totalLabel)===null||c===void 0?void 0:c.visible}),s=r||n.some(l=>l.getPercent()),a=n.some(l=>l.getStackOffsetSilhouette()),o=xAe(t,!0);for(const l in o)for(const u in o[l].nodes)kAe(o[l].nodes[u],t.getStackInverse(),s);if(a)for(const l in o)for(const u in o[l].nodes)zxt(o[l].nodes[u]);r&&t.getSeries().forEach(l=>{const u=l.getStackData(),c=l.getStackValue(),d=l.getStackValueField();u&&d&&CAe(o[c],d)})},this._chart=e}init(){this._chart.getAllRegions().forEach(e=>{e.event.on(Pt.regionSeriesDataFilterOver,{filter:({model:t})=>(t==null?void 0:t.id)===e.id},this.stackRegion)})}stackAll(){this._chart.getAllRegions().forEach(e=>{this.stackRegion({model:e})})}};var the=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};class Ur extends O${getSpec(){return this._spec}setSpec(e){this._spec=e}getOption(){return this._option}getLayoutRect(){return this._layoutRect}getViewRect(){return this._viewRect}getLayoutTag(){return this._layoutTag}setLayoutTag(e,t,n=!0){var r;return this._layoutTag=e,!((r=this.getCompiler())===null||r===void 0)&&r.getVGrammarView()&&(this.getCompiler().getVGrammarView().updateLayoutTag(),e&&n&&this.getCompiler().renderNextTick(t)),this._layoutTag}getGlobalScale(){return this._globalScale}getEvent(){return this._event}get chartData(){return this._chartData}constructor(e,t){var n,r,s,a;super(t),this.type="chart",this.id=yb(),this._regions=[],this._series=[],this._components=[],this._layoutRect={x:0,y:0,width:FS,height:BS},this._viewRect={width:FS,height:BS},this._viewBox={x1:0,y1:0,x2:FS,y2:BS},this._layoutTag=!0,this._idMap=new Map,this.state={layoutUpdateRank:1},this.padding={top:0,left:0,right:0,bottom:0},this.getAllSeries=()=>{var o;return(o=this._series)!==null&&o!==void 0?o:[]},this.getRegionsInIndex=o=>o&&o.length!==0?this._regions.filter((l,u)=>o.includes(u)):[this._regions[0]],this.getAllRegions=()=>this._regions,this.getRegionsInIds=o=>o?this._regions.filter(l=>o.includes(l.id)):[],this.getRegionsInQuerier=o=>o?this._regions.filter((l,u)=>we(o).some(c=>X(c.regionId)&&c.regionId===l.userId||c.regionIndex===u)):this._regions,this.getRegionsInUserId=o=>{if(o)return this._regions.find(l=>l.userId===o)},this.getRegionsInUserIdOrIndex=(o,l)=>this.getAllRegions().filter(u=>o!=null&&o.length?u.userId&&o.includes(u.userId):!(l!=null&&l.length)||l.includes(u.getSpecIndex())),this.getComponents=()=>this._components,this.getSeriesInIndex=o=>o&&o.length!==0?this._series.filter((l,u)=>o.includes(u)):[this._series[0]],this.getSeriesInIds=o=>o?this._series.filter(l=>o.includes(l.id)):[],this.getSeriesInUserId=o=>{if(o)return this._series.find(l=>l.userId===o)},this.getSeriesInUserIdOrIndex=(o,l)=>this.getAllSeries().filter(u=>o!=null&&o.length?u.userId&&o.includes(u.userId):!(l!=null&&l.length)||l.includes(u.getSpecIndex())),this.getComponentByIndex=(o,l)=>{const u=this._components.filter(c=>(c.specKey||c.type)===o);if(u&&u.length!==0)return u[l]},this.getComponentsByKey=o=>this._components.filter(l=>(l.specKey||l.type)===o),this.getComponentByUserId=o=>{const l=this._components.find(u=>u.userId===o);if(l)return l},this.getComponentsByType=o=>this._components.filter(l=>l.type===o),this._paddingSpec=Qg((n=e.padding)!==null&&n!==void 0?n:t.getTheme().padding),this._event=new T$(t.eventDispatcher,t.mode),this._dataSet=t.dataSet,this._chartData=new rkt(this._dataSet,(r=this._option)===null||r===void 0?void 0:r.onError),this._modelOption=Object.assign(Object.assign({},t),{mode:this._option.mode,map:this._idMap,getChartLayoutRect:()=>this._layoutRect,getChartViewRect:()=>this._viewRect,getChart:()=>this,globalScale:this._globalScale,onError:(s=this._option)===null||s===void 0?void 0:s.onError,disableTriggerEvent:((a=this._option)===null||a===void 0?void 0:a.disableTriggerEvent)===!0,getSeriesData:this._chartData.getSeriesData.bind(this._chartData)}),this._spec=e}created(){this._transformer=new this.transformerConstructor(Object.assign(Object.assign({},this._option),{type:this.type,seriesType:this.seriesType})),this._chartData.parseData(this._spec.data),this._createGlobalScale(),this._spec.background&&typeof this._spec.background=="object"&&this._createBackground(),this._createLayout(),this._transformer.forEachRegionInSpec(this._spec,this._createRegion.bind(this)),this._transformer.forEachSeriesInSpec(this._spec,this._createSeries.bind(this)),this._transformer.forEachComponentInSpec(this._spec,this._createComponent.bind(this),this._option.getSpecInfo())}init(){this._regions.forEach(e=>e.init({})),this._series.forEach(e=>e.init({})),this._components.forEach(e=>e.init({dataSet:this._dataSet})),this._initEvent(),this._canStack&&(this._stack=new akt(this),this._stack.init()),this.reDataFlow()}reDataFlow(){this._series.forEach(e=>{var t;return(t=e.getRawData())===null||t===void 0?void 0:t.markRunning()}),this._series.forEach(e=>e.fillData()),this.updateGlobalScaleDomain()}onResize(e,t,n=!0){const r={width:e,height:t};this._canvasRect=r,this._updateLayoutRect(this._option.viewBox),this.setLayoutTag(!0,null,n)}updateViewBox(e,t){this._option.viewBox=e,this._updateLayoutRect(e),this.setLayoutTag(!0,null,t)}_createBackground(){const e=Bxt(this._spec.background);e&&(this._backgroundMark=ce.createMark("group","chart-background",{model:this,map:this._option.map,getCompiler:this.getCompiler,globalScale:this._globalScale}),this._backgroundMark.created(),this._backgroundMark.setStyle(Object.assign(Object.assign({},e),{x:()=>this._viewBox.x1,y:()=>this._viewBox.y1,width:()=>this._viewBox.x2-this._viewBox.x1,height:()=>this._viewBox.y2-this._viewBox.y1})))}_createRegion(e,t){if(!e)return;const{spec:n}=t,r=the(t,["spec"]),s=new e(n,Object.assign(Object.assign({},this._modelOption),r));s&&(s.created(),this._regions.push(s))}_createSeries(e,t){if(!e)return;const{spec:n}=t,r=the(t,["spec"]);let s;if(X(n.regionId)?s=this.getRegionsInUserId(n.regionId):X(n.regionIndex)&&(s=this.getRegionsInIndex([n.regionIndex])[0]),!s&&!(s=this._regions[0]))return;const a=new e(n,Object.assign(Object.assign(Object.assign({},this._modelOption),r),{type:n.type,region:s,globalScale:this._globalScale,sourceDataList:this._chartData.dataList}));a&&(a.created(),this._series.push(a),s.addSeries(a))}getSeriesById(e){return this._series.find(t=>t.id===e)}_createComponent(e,t){const n=e.createComponent(t,Object.assign(Object.assign({},this._modelOption),{type:e.type,getAllRegions:this.getAllRegions,getRegionsInIndex:this.getRegionsInIndex,getRegionsInIds:this.getRegionsInIds,getRegionsInUserIdOrIndex:this.getRegionsInUserIdOrIndex,getAllSeries:this.getAllSeries,getSeriesInIndex:this.getSeriesInIndex,getSeriesInIds:this.getSeriesInIds,getSeriesInUserIdOrIndex:this.getSeriesInUserIdOrIndex,getAllComponents:this.getComponents,getComponentByIndex:this.getComponentByIndex,getComponentByUserId:this.getComponentByUserId,getComponentsByKey:this.getComponentsByKey,getComponentsByType:this.getComponentsByType}));n&&(n.created(),this._components.push(n))}getAllComponents(){return this._components}getAllModels(){return[].concat(this.getAllSeries(),this.getAllComponents(),this.getAllRegions())}getModelInFilter(e){if(ct(e))return this.getAllModels().find(n=>n.userId===e);if(Pe(e))return this.getAllModels().find(n=>e(n));let t=0;return this.getAllModels().find(n=>{var r;if(((r=n.specKey)!==null&&r!==void 0?r:n.type)===e.type){if(t===e.index)return!0;t++}return!1})}_createLayout(){this._updateLayoutRect(this._option.viewBox),this._initLayoutFunc()}setLayout(e){this._option.layout=e,this._initLayoutFunc()}_initLayoutFunc(){var e,t,n;if(this._layoutFunc=this._option.layout,!this._layoutFunc){let r=!1;(this._spec.zField||this._spec.series&&this._spec.series.some(a=>a.zField))&&(r=!0);const s=ce.getLayoutInKey((t=(e=this._spec.layout)===null||e===void 0?void 0:e.type)!==null&&t!==void 0?t:r?"layout3d":"base");if(s){const a=new s(this._spec.layout,{onError:(n=this._option)===null||n===void 0?void 0:n.onError});this._layoutFunc=a.layoutItems.bind(a)}}}layout(e){var t,n,r,s;if((n=(t=this._option.performanceHook)===null||t===void 0?void 0:t.beforeLayoutWithSceneGraph)===null||n===void 0||n.call(t),this.getLayoutTag()){this._event.emit(Pt.layoutStart,{chart:this,vchart:this._option.globalInstance}),this.onLayoutStart(e);const a=this.getLayoutElements();this._layoutFunc(this,a,this._layoutRect,this._viewBox),this._event.emit(Pt.afterLayout,{elements:a,chart:this}),this.setLayoutTag(!1),this.onLayoutEnd(e),this._event.emit(Pt.layoutEnd,{chart:this,vchart:this._option.globalInstance})}(s=(r=this._option.performanceHook)===null||r===void 0?void 0:r.afterLayoutWithSceneGraph)===null||s===void 0||s.call(r)}onLayoutStart(e){this.getAllModels().forEach(t=>t.onLayoutStart(this._layoutRect,this._viewRect,e))}onLayoutEnd(e){this.getAllModels().forEach(t=>{t.modelType!=="series"&&t.onLayoutEnd(e)})}onEvaluateEnd(e){[...this._components,...this._regions,...this._series].forEach(t=>t.onEvaluateEnd(e))}getLayoutElements(){return this.getAllModels().map(e=>e.layout).filter(e=>!!e)}getModelById(e){const t=this._idMap.get(e);if(t&&t instanceof cq)return t}getModelByUserId(e){const t=this.getSeriesInUserId(e);if(t)return t;const n=this.getRegionsInUserId(e);return n||this.getComponentByUserId(e)||void 0}getAllMarks(){return Array.from(this._idMap.values()).filter(e=>e&&e instanceof Xo)}getMarkById(e){const t=this._idMap.get(e);if(t&&t instanceof Xo)return t}updateData(e,t,n=!0,r){const s=this._dataSet.getDataView(e);s&&(s.markRunning(),s.parseNewData(t,r)),n&&this.updateGlobalScaleDomain(),this.getAllModels().forEach(a=>a.onDataUpdate())}updateFullData(e,t=!0){we(e).forEach(n=>{const r=this._dataSet.getDataView(n.id);r&&r.markRunning()}),we(e).forEach(n=>{const r=this._dataSet.getDataView(n.id);r&&lq(r,n,!0)}),t&&this.updateGlobalScaleDomain(),this.getAllModels().forEach(n=>n.onDataUpdate())}onRender(e){}setCanvasRect(e,t){this._canvasRect={width:e,height:t}}getCanvasRect(){return this._canvasRect||(this._canvasRect=$Ae(this._spec,this._option,{width:FS,height:BS})),this._canvasRect}getSeriesData(e,t){return this._chartData.getSeriesData(e,t)}_transformSpecScale(){var e,t;const n=(e=this._spec.scales)!==null&&e!==void 0?e:[];let r=n.find(a=>a.id==="color");const s=this.getColorScheme();if(!r&&(r={type:"ordinal",id:"color",domain:null,range:null},n.push(r),this._spec.color)){const a=this._spec.color;if(ke(a))r.range=a;else{const o=a;Object.prototype.hasOwnProperty.call(o,"type")&&(r.type=o.type),Object.prototype.hasOwnProperty.call(o,"domain")&&(r.domain=o.domain),Object.prototype.hasOwnProperty.call(o,"range")&&(r.range=o.range),Object.prototype.hasOwnProperty.call(o,"specified")&&(r.specified=o.specified)}}return!((t=r.range)===null||t===void 0)&&t.length||(r.range=HT(s),r.rangeTheme=!0),n}_createGlobalScale(){this._globalScale=new skt(this._transformSpecScale(),this),this._modelOption.globalScale=this._globalScale}updateGlobalScaleDomain(){const e=new Set;this._series.forEach(n=>{const r=n.getSeriesKeys();r&&r.forEach(s=>e.add(s))});const t=Array.from(e);this._globalScale.updateScaleDomain(t)}updateGlobalScale(e){rS(e,this._globalScale.updateSpec(this._transformSpecScale()))}updateGlobalScaleTheme(){const e=this._globalScale.getScaleSpec("color"),t=this.getColorScheme();e.rangeTheme&&(e.range=HT(t),this._globalScale.getScale("color").range(e.range))}updateSpec(e){const t={change:!1,reMake:!1,reRender:!1,reSize:!1,reCompile:!1};if(this.setLayoutTag(!0,null,!1),e.type!==this.type)return t.reMake=!0,t;const n=Object.keys(this._spec).sort(),r=Object.keys(e).sort();if(JSON.stringify(n)!==JSON.stringify(r))return t.reMake=!0,t;for(let a=0;a<n.length;a++){const o=n[a];if(ke(this._spec[o])&&this._spec[o].length!==e[o].length)return t.reMake=!0,t}const s=this._spec;return this._spec=e,this.updateChartConfig(t,s),t.reMake?t:(this.updateGlobalScale(t),t.reMake?t:(this.updateRegionSpec(t),t.reMake?t:(this.updateComponentSpec(t),t.reMake||(this.updateSeriesSpec(t),t.reMake||(this.reInit(),this.updateDataSpec(),this.updateGlobalScaleDomain())),t)))}updateChartConfig(e,t){var n,r;this._paddingSpec=Qg((n=this._spec.padding)!==null&&n!==void 0?n:(r=this._option)===null||r===void 0?void 0:r.getTheme().padding),this._updateLayoutRect(this._viewBox),Rr(this._spec.background,t.background)||(e.reMake=!0)}updateDataSpec(){this._spec.data&&this._chartData.updateData(this._spec.data,!1,!0)}updateRegionSpec(e){var t;!((t=this._spec)===null||t===void 0)&&t.region&&(this._spec.region.length===this._regions.length?this._regions.forEach(n=>{rS(e,n.updateSpec(this._spec.region[n.getSpecIndex()]))}):e.reMake=!0)}updateComponentSpec(e){const t={};this._components.forEach(n=>{var r,s;const a=n.specKey||n.type,o=(r=this._spec[a])!==null&&r!==void 0?r:{};ke(o)?(t[a]=t[a]||{specCount:o.length,componentCount:0},t[a].componentCount++,rS(e,n.updateSpec((s=o[n.getSpecIndex()])!==null&&s!==void 0?s:{},o))):rS(e,n.updateSpec(o))});for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];r.componentCount!==r.specCount&&(e.reMake=!0)}}updateSeriesSpec(e){this._spec.series.length===this._series.length?this._series.forEach(t=>{const n=this._spec.series[t.getSpecIndex()];rS(e,t.updateSpec(n))}):e.reMake=!0}getCanvas(){var e,t;return(t=(e=this.getCompiler())===null||e===void 0?void 0:e.getCanvas())!==null&&t!==void 0?t:null}_updateLayoutRect(e){let t=this.getCanvasRect();if(e){this._viewBox=e;const{x1:n=0,y1:r=0,x2:s,y2:a}=e;t={width:s-n,height:a-r}}else this._viewBox={x1:0,y1:0,x2:t.width,y2:t.height};this._viewRect=t,this.padding=gAe(this._paddingSpec,t,t),this._layoutRect.width=t.width-this.padding.left-this.padding.right,this._layoutRect.height=t.height-this.padding.top-this.padding.bottom,this._layoutRect.x=this.padding.left,this._layoutRect.y=this.padding.top,this._event.emit(Pt.layoutRectUpdate,{chart:this})}setCurrentTheme(){this.updateChartConfig({change:!0,reMake:!1},this._spec),this.setLayoutTag(!0,null,!1),this.updateGlobalScaleTheme(),this.reInit()}reInit(){[...this._regions,...this._series,...this._components].forEach(e=>{const t=e.getSpecInfo();t&&t.spec&&e.reInit(t.spec)})}clear(){this.getAllModels().forEach(e=>{var t;return(t=e.clear)===null||t===void 0?void 0:t.call(e)})}compile(){this.compileBackground(),this.compileLayout(),this.compileRegions(),this.compileSeries(),this.compileComponents()}afterCompile(){this.getAllRegions().forEach(e=>{var t;(t=e.afterCompile)===null||t===void 0||t.call(e)}),this.getAllSeries().forEach(e=>{var t;(t=e.afterCompile)===null||t===void 0||t.call(e)}),this.getAllComponents().forEach(e=>{var t;(t=e.afterCompile)===null||t===void 0||t.call(e)})}compileLayout(){const{width:e,height:t}=this.getCanvasRect();this.getCompiler().setSize(e,t)}compileBackground(){var e;this._backgroundMark&&(this._backgroundMark.compile(),(e=this._backgroundMark.getProduct())===null||e===void 0||e.configure({context:{model:this}}).layout(()=>{}))}compileRegions(){var e,t,n,r;(t=(e=this._option.performanceHook)===null||e===void 0?void 0:e.beforeRegionCompile)===null||t===void 0||t.call(e),this.getAllRegions().forEach(s=>{s.compile()}),(r=(n=this._option.performanceHook)===null||n===void 0?void 0:n.afterRegionCompile)===null||r===void 0||r.call(n)}compileSeries(){var e,t,n,r;(t=(e=this._option.performanceHook)===null||e===void 0?void 0:e.beforeSeriesCompile)===null||t===void 0||t.call(e),this.getAllSeries().forEach(s=>{s.compile()}),(r=(n=this._option.performanceHook)===null||n===void 0?void 0:n.afterSeriesCompile)===null||r===void 0||r.call(n)}compileComponents(){var e,t,n,r;(t=(e=this._option.performanceHook)===null||e===void 0?void 0:e.beforeComponentCompile)===null||t===void 0||t.call(e),this.getAllComponents().forEach(s=>{s.compile()}),(r=(n=this._option.performanceHook)===null||n===void 0?void 0:n.afterComponentCompile)===null||r===void 0||r.call(n)}release(){[...this._components,...this._regions,...this._series].forEach(e=>{e.beforeRelease()}),super.release(),this.clear(),[...this._components,...this._regions,...this._series].forEach(e=>{e.release()}),this._components=this._regions=this._series=[],this._spec={},this._dataSet=this._globalScale=this._layoutFunc=null,this._layoutTag=!1,this._idMap.clear()}onLayout(e){const t=e.rootMark;this.layout({group:t,srView:e})}updateState(e,t){const n=this.getAllSeries();for(const r in e){if(Mt(e[r]))continue;const s=e[r];let a={stateValue:r};a=Pe(s.filter)?Object.assign({filter:s.filter},a):Object.assign(Object.assign({},s.filter),a),s.level&&(a.level=s.level),n.forEach(o=>{o.getMarks().forEach(l=>{l.stateStyle[r]&&(t&&!t(o,l,r)||(l.state.changeStateInfo(a),l.updateMarkState(r)))})})}}setSelected(e,t,n){this._setStateInDatum(mt.STATE_SELECTED,!0,e,t,n)}setHovered(e,t,n){this._setStateInDatum(mt.STATE_HOVER,!0,e,t,n)}clearState(e){this.getAllRegions().forEach(t=>{t.interaction.clearEventElement(e,!0),t.interaction.resetInteraction(e,null)})}clearSelected(){this.clearState(mt.STATE_SELECTED)}clearHovered(){this.clearState(mt.STATE_HOVER)}_initEvent(){[Pt.dataZoomChange,Pt.scrollBarChange].forEach(e=>{this._event.on(e,({value:t})=>{this._disableMarkAnimation(["exit","update"]);const n=()=>{this._enableMarkAnimation(["exit","update"]),this._event.off(At.AFTER_MARK_RENDER_END,n)};this._event.on(At.AFTER_MARK_RENDER_END,n)})})}_enableMarkAnimation(e){this.getAllMarks().forEach(t=>{const n=t.getProduct();n&&n.animate&&n.animate.enableAnimationState(e)})}_disableMarkAnimation(e){this.getAllMarks().forEach(t=>{const n=t.getProduct();n&&n.animate&&n.animate.disableAnimationState(e)})}_setStateInDatum(e,t,n,r,s){const a=(n=n?we(n):null)?Object.keys(n[0]):null;this.getRegionsInQuerier(s).forEach(o=>{n?(o.getSeries().forEach(l=>{l.getMarks().forEach(u=>{if(u.getProduct()&&(!r||Pe(r)&&r(l,u))){const c=u.getProduct().isCollectionMark(),d=u.getProduct().elements;let h=d;if(c)h=d.filter(p=>{const f=p.getDatum();n.every((g,v)=>a.every(m=>g[m]==f[v][m]))});else if(n.length>1){const p=n.slice();h=d.filter(f=>{if(p.length===0)return!1;const g=f.getDatum(),v=p.findIndex(m=>a.every(b=>m[b]==g[b]));return v>=0&&(p.splice(v,1),!0)})}else{const p=d.find(f=>a.every(g=>n[0][g]==f.getDatum()[g]));p&&(h=[p])}h.forEach(p=>{o.interaction.startInteraction(e,p)})}})}),t&&o.interaction.reverseEventElement(e)):o.interaction.clearEventElement(e,!0)})}setDimensionIndex(e,t){var n,r,s,a;let o=null;Array.from(this._event.getComposedEventMap().values()).forEach(u=>{const{eventType:c,event:d}=u;if(c===Jg.dimensionHover||c===Jg.dimensionClick){const h=d.dispatch(e,t);h!=null&&h.length&&(o=h)}});const l=Y(e)||!o||o.every(u=>io(u.axis.getScale().type)&&Y(u.index));if(t.tooltip!==!1){const u=this.getComponentsByType(De.tooltip)[0];if(u!=null&&u.getVisible())if(l)(r=(n=u).hideTooltip)===null||r===void 0||r.call(n);else{const c={};o.forEach(d=>{const{axis:h,value:p,data:f}=d,g=h.getOrient()==="left"||h.getOrient()==="right";f.forEach(v=>{g?c[v.series.fieldY[0]]=p:c[v.series.fieldX[0]]=p})}),u.showTooltip(c,t.showTooltipOption)}}if(t.crosshair!==!1){const u=this.getComponentsByType(De.cartesianCrosshair)[0];u&&u.clearAxisValue&&u.setAxisValue&&(l?((s=u.clearAxisValue)===null||s===void 0||s.call(u),(a=u.hide)===null||a===void 0||a.call(u)):o.forEach(c=>{const{axis:d,value:h}=c;u.clearAxisValue(),u.setAxisValue(h,d),u.layoutByValue()}))}}getColorScheme(){var e,t;return(t=(e=this._option).getTheme)===null||t===void 0?void 0:t.call(e).colorScheme}}const ihe=(i,e)=>{var t;const n=i.spec,{regionId:r,regionIndex:s}=n;if(X(r)){const a=we(r);return(t=e.region)===null||t===void 0?void 0:t.filter(({spec:o})=>a.includes(o.id))}if(X(s))return we(s).map(a=>{var o;return(o=e.region)===null||o===void 0?void 0:o[a]}).filter(X)},okt=(i,e)=>{var t;const n=i.spec,{seriesId:r,seriesIndex:s}=n;if(X(r)){const a=we(r);return(t=e.series)===null||t===void 0?void 0:t.filter(({spec:o})=>a.includes(o.id))}if(X(s))return we(s).map(a=>{var o;return(o=e.series)===null||o===void 0?void 0:o[a]}).filter(X)};class ah{constructor(e){this._option=e,this.type=e.type,this.seriesType=e.seriesType}initChartSpec(e){return this.transformSpec(e),this.transformModelSpec(e)}transformSpec(e){e.region&&e.region.length!==0||(e.region=[{}]),e.tooltip===void 0&&(e.tooltip={}),X(e.stackInverse)&&e.region.forEach(t=>{!X(t.stackInverse)&&(t.stackInverse=e.stackInverse)}),X(e.stackSort)&&e.region.forEach(t=>{!X(t.stackSort)&&(t.stackSort=e.stackSort)})}transformModelSpec(e){return this.createSpecInfo(e,(t,n,r)=>{const{spec:s,specPath:a,specInfoPath:o,type:l}=n,u=new t.transformerConstructor(Object.assign(Object.assign({},this._option),{type:l})).transformSpec(s,e,r);Q3(e,a,u.spec),Q3(r,o??a,Object.assign(Object.assign({},n),u))})}createSpecInfo(e,t){var n,r;t||(t=(a,o,l)=>{const{spec:u,specPath:c,specInfoPath:d,type:h}=o,p=new a.transformerConstructor(Object.assign(Object.assign({},this._option),{type:h}));Q3(l,d??c,Object.assign(Object.assign({},o),{theme:p.getTheme(u,e)}))});const s={};return this.forEachRegionInSpec(e,t,s),this.forEachSeriesInSpec(e,t,s),(n=s.series)===null||n===void 0||n.forEach((a,o)=>{var l,u;const c=((u=(l=ihe(a,s))!==null&&l!==void 0?l:s.region)!==null&&u!==void 0?u:[])[0];c&&(c.seriesIndexes||(c.seriesIndexes=[]),c.seriesIndexes.push(o),a.regionIndexes=c.regionIndexes.slice())}),this.forEachComponentInSpec(e,t,s),Object.values((r=s.component)!==null&&r!==void 0?r:{}).forEach(a=>a.forEach((o,l)=>{var u,c,d;if(o){if(!o.regionIndexes){const h=(c=(u=ihe(o,s))!==null&&u!==void 0?u:s.region)!==null&&c!==void 0?c:[];o.regionIndexes=h.map(p=>p.regionIndexes[0])}if(!o.seriesIndexes){const h=okt(o,s);if(h)o.seriesIndexes=h.map(({seriesIndexes:p})=>p[0]);else{const p=new Set;((d=o.regionIndexes)!==null&&d!==void 0?d:[]).forEach(f=>{var g,v;const m=(g=s.region)===null||g===void 0?void 0:g[f];(v=m==null?void 0:m.seriesIndexes)===null||v===void 0||v.forEach(b=>p.add(b))}),o.seriesIndexes=Array.from(p)}}}})),s}_isValidSeries(e){return!0}_getDefaultSeriesSpec(e){var t,n,r,s;return{dataKey:e.dataKey,hover:e.hover,select:e.select,label:e.label,seriesStyle:e.seriesStyle,animation:(t=e.animation)!==null&&t!==void 0?t:this._option.animation,animationThreshold:(n=e.animationThreshold)!==null&&n!==void 0?n:(s=(r=this._option).getTheme)===null||s===void 0?void 0:s.call(r).animationThreshold,animationAppear:e.animationAppear,animationDisappear:e.animationDisappear,animationEnter:e.animationEnter,animationUpdate:e.animationUpdate,animationExit:e.animationExit,animationNormal:e.animationNormal,extensionMark:e.extensionMark,large:e.large,largeThreshold:e.largeThreshold,progressiveStep:e.progressiveStep,progressiveThreshold:e.progressiveThreshold,background:e.seriesBackground,invalidType:e.invalidType,seriesField:e.seriesField,morph:e.morph,interactions:e.interactions}}forEachRegionInSpec(e,t,n){var r;return((r=e.region)!==null&&r!==void 0?r:[]).map((s,a)=>t(ce.getRegionInType("region"),{spec:s,specPath:["region",a],type:"region",regionIndexes:[a]},n))}forEachSeriesInSpec(e,t,n){var r;return((r=e.series)!==null&&r!==void 0?r:[]).map((s,a)=>t(ce.getSeriesInType(s.type),{spec:s,specPath:["series",a],type:s.type,seriesIndexes:[a]},n))}forEachComponentInSpec(e,t,n){var r,s,a;const o=[],l=ce.getComponents();let u,c,d,h;const p=[];for(let g=0;g<l.length;g++){const{cmp:v,alwaysCheck:m}=l[g];v.type.startsWith(De.cartesianAxis)?u=v:v.type.startsWith(De.polarAxis)?c=v:v.type===De.geoCoordinate?d=v:(m||e[(r=v.specKey)!==null&&r!==void 0?r:v.type])&&(v.type===De.tooltip?h=v:p.push(v))}let f=!1;if(u){const g=u.getSpecInfo(e,n);(g==null?void 0:g.length)>0&&(f=!0,g.forEach(v=>{const m=ce.getComponentInKey(v.type);o.push(t(m,v,n))}))}if(c&&!f){const g=c.getSpecInfo(e,n);(g==null?void 0:g.length)>0&&(f=!0,g.forEach(v=>{const m=ce.getComponentInKey(v.type);o.push(t(m,v,n))}))}return d&&!f&&((s=d.getSpecInfo(e,n))===null||s===void 0||s.forEach(g=>{o.push(t(d,g,n))})),p.forEach(g=>{var v;(v=g.getSpecInfo(e,n))===null||v===void 0||v.forEach(m=>{o.push(t(g,m,n))})}),(a=h==null?void 0:h.getSpecInfo(e,n))===null||a===void 0||a.forEach(g=>{o.push(t(h,g,n))}),o}transformSeriesSpec(e){const t=this._getDefaultSeriesSpec(e);e.series&&e.series.length!==0?e.series.forEach(n=>{this._isValidSeries(n.type)&&Object.keys(t).forEach(r=>{r in n||(n[r]=t[r])})}):e.series=[t]}_findBandAxisBySeries(e,t,n){const r=(e==null?void 0:e.direction)==="horizontal"?["left","right"]:["top","bottom"];return n.find(s=>{if(!r.includes(s.orient))return!1;if(X(s.seriesId)){if(we(s.seriesId).includes(e==null?void 0:e.id))return!0}else if(X(s.seriesIndex)){if(we(s.seriesIndex).includes(t))return!0}else if(s.type==="band")return!0;return!0})}_applyAxisBandSize(e,t,n){const{barMaxWidth:r,barMinWidth:s,barWidth:a,barGapInGroup:o}=n;let l=!1;Xe(s)?(e.minBandSize=s,l=!0):Xe(a)?(e.minBandSize=a,l=!0):Xe(r)&&(e.minBandSize=r,l=!0),l&&(e.bandSizeLevel=Number.MAX_VALUE,e.bandSizeExtend={extend:t,gap:ke(o)?o[o.length-1]:o})}}class pp extends ah{needAxes(){return!0}_isValidSeries(e){return!this.seriesType||e===this.seriesType}_getDefaultSeriesSpec(e){const t=Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{xField:e.xField,yField:e.yField,zField:e.zField,seriesField:e.seriesField,seriesStyle:e.seriesStyle,direction:e.direction,stack:e.stack,percent:e.percent,stackOffsetSilhouette:e.stackOffsetSilhouette,totalLabel:e.totalLabel,sortDataByAxis:e.sortDataByAxis}),n=this.seriesType;return n&&(t.type=n,t[n]=e[n]),t}transformSpec(e){super.transformSpec(e);const t=this._getDefaultSeriesSpec(e);e.series&&e.series.length!==0?e.series.forEach(n=>{this._isValidSeries(n.type)&&Object.keys(t).forEach(r=>{r in n||(n[r]=t[r])})}):e.series=[t],this._transformAxisSpec(e)}_transformAxisSpec(e){if(this.needAxes()){e.axes||(e.axes=[]);const t={x:!1,y:!1,z:!1};e.axes.forEach(n=>{const{orient:r}=n;r!=="top"&&r!=="bottom"||(t.x=!0),r!=="left"&&r!=="right"||(t.y=!0),r==="z"&&(t.z=!0),bi(n,"trimPadding")&&Rt(n,NAe(this.type,e))}),t.x||e.axes.push({orient:"bottom"}),t.y||e.axes.push({orient:"left"}),e.zField&&!t.z&&e.axes.push({orient:"z"})}}}class xTe extends pp{_getDefaultSeriesSpec(e){var t;return Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{point:e.point,line:e.line,seriesMark:(t=e.seriesMark)!==null&&t!==void 0?t:"line",activePoint:e.activePoint,sampling:e.sampling,samplingFactor:e.samplingFactor,pointDis:e.pointDis,pointDisMul:e.pointDisMul,markOverlap:e.markOverlap,lineLabel:e.lineLabel})}transformSpec(e){super.transformSpec(e),R0(e)}}class XE extends Ur{constructor(){super(...arguments),this.transformerConstructor=xTe,this.type="line",this.seriesType=xe.line,this._canStack=!0}}XE.type="line",XE.seriesType=xe.line,XE.transformerConstructor=xTe;const lkt=()=>{nkt(),ce.registerChart(XE.type,XE)};class ZT extends _Te{constructor(){super(...arguments),this.type=ZT.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{lineWidth:0})}_getIgnoreAttributes(){return[]}}ZT.type="area";const H$=()=>{ce.registerMark(ZT.type,ZT),Y_t(),JAe()};class ukt extends hu{constructor(){super(...arguments),this._getSeriesStyle=(e,t,n)=>{var r,s,a,o;for(const l of we(t)){let u=(r=this.series.getSeriesStyle(e))===null||r===void 0?void 0:r(l);if(u!==!1||l!=="fill"&&l!=="stroke"||(u=l==="fill"?(a=(s=this.series.getSeriesStyle(e))===null||s===void 0?void 0:s("stroke"))===null||a===void 0?void 0:a[0]:(o=this.series.getSeriesStyle(e))===null||o===void 0?void 0:o("fill")),X(u))return u}return n}}}const ckt=()=>{Lwt(),qAe(),L$()};class wTe extends gP{constructor(){super(...arguments),this._supportStack=!0}_transformLabelSpec(e){var t,n,r;super._transformLabelSpec(e),this._addMarkLabelSpec(e,"area","areaLabel","initLineLabelMarkStyle",void 0,!0),((t=e.point)===null||t===void 0?void 0:t.visible)!==!1&&((r=(n=e.point)===null||n===void 0?void 0:n.style)===null||r===void 0?void 0:r.visible)!==!1||this._addMarkLabelSpec(e,"area")}_transformSpecAfterMergingTheme(e,t,n){var r,s,a,o,l;super._transformSpecAfterMergingTheme(e,t,n);const{area:u={},line:c={},seriesMark:d}=e,h=u.visible!==!1&&((r=u.style)===null||r===void 0?void 0:r.visible)!==!1,p=c.visible!==!1&&((s=c.style)===null||s===void 0?void 0:s.visible)!==!1;u.support3d=!(!u.support3d&&!c.support3d),u.zIndex=X(u.zIndex)||X(c.zIndex)?Math.max((a=u.zIndex)!==null&&a!==void 0?a:0,(o=c.zIndex)!==null&&o!==void 0?o:0):void 0,u.style&&delete u.style.stroke,u.state&&Object.keys(u.state).forEach(v=>{"style"in u.state[v]?delete u.state[v].style.stroke:delete u.state[v].stroke});let f=u,g=c;(d==="line"||p&&!h)&&(f=c,g=u),u.style=Rt({},g.style,f.style),u.state=Rt({},g.state,f.state),h||(u.style.fill=!1),p||(u.style.stroke=!1),u.interactive===!1&&(u.style.fillPickable=!1),c.interactive===!1&&(c.style.strokePickable=!1),u.interactive=!(!u.interactive&&(l=c.interactive)!==null&&l!==void 0&&!l),u.visible=!(!h&&!p),e.area=u,e.line=c}}class Ig extends sh{constructor(){super(...arguments),this.type=xe.area,this.transformerConstructor=wTe,this._sortDataByAxis=!1}initMark(){var e,t;const n={progressiveStep:this._spec.progressiveStep,progressiveThreshold:this._spec.progressiveThreshold,large:this._spec.large,largeThreshold:this._spec.largeThreshold},r=this._spec.area||{},s=r.visible!==!1&&((e=r.style)===null||e===void 0?void 0:e.visible)!==!1,a=(t=this._spec.seriesMark)!==null&&t!==void 0?t:"area";this._areaMark=this._createMark(Ig.mark.area,{groupKey:this._seriesField,defaultMorphElementKey:this.getDimensionField()[0],progressive:n,isSeriesMark:s&&a!=="point",customShape:r.customShape,stateSort:r.stateSort}),this.initSymbolMark(n,a==="point")}initMarkStyle(){this.initAreaMarkStyle(),this.initSymbolMarkStyle()}initAreaMarkStyle(){var e,t,n,r,s;const a=(n=(t=(e=this.getSpec().area)===null||e===void 0?void 0:e.style)===null||t===void 0?void 0:t.curveType)!==null&&n!==void 0?n:(s=(r=this.getSpec().line)===null||r===void 0?void 0:r.style)===null||s===void 0?void 0:s.curveType,o=a===vTe?this._direction==="horizontal"?"monotoneY":"monotoneX":a,l=this._areaMark;l&&(this._direction==="horizontal"?this.setMarkStyle(this._areaMark,{x:this.dataToPositionX.bind(this),x1:u=>{var c,d;return kn(this.dataToPositionX1(u),(d=(c=this._xAxisHelper)===null||c===void 0?void 0:c.getScale)===null||d===void 0?void 0:d.call(c,0))},y:this.dataToPositionY.bind(this),z:this._fieldZ?this.dataToPositionZ.bind(this):null,orient:this._direction},"normal",Ve.Series):this.setMarkStyle(this._areaMark,{x:this.dataToPositionX.bind(this),y1:u=>{var c,d;return kn(this.dataToPositionY1(u),(d=(c=this._yAxisHelper)===null||c===void 0?void 0:c.getScale)===null||d===void 0?void 0:d.call(c,0))},y:this.dataToPositionY.bind(this),z:this._fieldZ?this.dataToPositionZ.bind(this):null},"normal",Ve.Series),this.setMarkStyle(l,{fill:this.getColorAttribute(),stroke:this.getColorAttribute()},"normal",Ve.Series),this._invalidType!=="zero"&&this.setMarkStyle(l,{defined:this._getInvalidDefined.bind(this),connectedType:this._getInvalidConnectType()},"normal",Ve.Series),this.setMarkStyle(l,{curveType:o},"normal",Ve.Built_In),Object.keys(l.stateStyle).forEach(u=>{l.stateStyle[u].stroke&&l.setPostProcess("stroke",c=>[c,!1,!1,!1],u)}))}initAnimation(){var e,t,n,r;const s={direction:this.direction},a=(e=this._spec.animationAppear)===null||e===void 0?void 0:e.preset;if(this._lineMark&&this._lineMark.setAnimationConfig(Yi((t=ce.getAnimationInKey("line"))===null||t===void 0?void 0:t(s,a),an("line",this._spec,this._markAttributeContext))),this._areaMark&&this._areaMark.setAnimationConfig(Yi((n=ce.getAnimationInKey("area"))===null||n===void 0?void 0:n(s,a),an("area",this._spec,this._markAttributeContext))),this._symbolMark){const o=D0(this);this._symbolMark.setAnimationConfig(Yi((r=ce.getAnimationInKey("scaleInOut"))===null||r===void 0?void 0:r(),an("point",this._spec,this._markAttributeContext),o))}}initTooltip(){this._tooltipHelper=new ukt(this);const{dimension:e,group:t,mark:n}=this._tooltipHelper.activeTriggerSet;this._areaMark&&(e.add(this._areaMark),t.add(this._areaMark)),this._lineMark&&(e.add(this._lineMark),t.add(this._lineMark)),this._symbolMark&&(n.add(this._symbolMark),t.add(this._symbolMark))}viewDataStatisticsUpdate(e){super.viewDataStatisticsUpdate(e),this.encodeDefined(this._areaMark,"defined")}compile(){super.compile(),this.addSamplingCompile(),this.addOverlapCompile()}getDefaultShapeType(){return"square"}getActiveMarks(){return[this._areaMark,this._symbolMark,this._lineMark]}onLayoutEnd(e){super.onLayoutEnd(e),this.reCompileSampling()}getSeriesStyle(e){return t=>{var n,r,s,a,o;const l=(n=this._spec.seriesMark)!==null&&n!==void 0?n:"area";let u=(s=(r=this._seriesMark)===null||r===void 0?void 0:r.getAttribute(t,e))!==null&&s!==void 0?s:void 0;return t!=="fill"||u&&l!=="line"||(t="stroke",u=(o=(a=this._seriesMark)===null||a===void 0?void 0:a.getAttribute(t,e))!==null&&o!==void 0?o:void 0),t==="stroke"&&ke(u)?u[0]:u}}}Ig.type=xe.area,Ig.mark=tq,Ig.transformerConstructor=wTe,wa(Ig,mq);const dkt=()=>{QX(),JX(),N$(),H$(),_m(),ckt(),Qu(),Zu(),ce.registerSeries(Ig.type,Ig)};class CTe extends pp{_getDefaultSeriesSpec(e){return Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{point:e.point,line:e.line,area:e.area,seriesMark:e.seriesMark,activePoint:e.activePoint,sampling:e.sampling,samplingFactor:e.samplingFactor,pointDis:e.pointDis,pointDisMul:e.pointDisMul,markOverlap:e.markOverlap,areaLabel:e.areaLabel})}transformSpec(e){super.transformSpec(e),R0(e)}}class qE extends Ur{constructor(){super(...arguments),this.transformerConstructor=CTe,this.type="area",this.seriesType=xe.area,this._canStack=!0}}qE.type="area",qE.seriesType=xe.area,qE.transformerConstructor=CTe;const hkt=()=>{dkt(),ce.registerChart(qE.type,qE)};function kTe(i,e=!0){return(t,n,r)=>{const s=i.direction==="vertical"?i.yField:i.xField,a=t==null?void 0:t[s];return i.direction==="vertical"?{overall:e&&i.growFrom(),orient:a>0?"negative":"positive"}:{overall:!!e&&i.growFrom(),orient:a>0?"positive":"negative"}}}const vP=(i,e=!0)=>({type:i.direction==="horizontal"?"growWidthIn":"growHeightIn",options:kTe(i,e)}),iw=(i,e=!0)=>({type:i.direction==="horizontal"?"growWidthOut":"growHeightOut",options:kTe(i,e)}),pkt={type:"fadeIn"},fkt={type:"growCenterIn"};function ETe(i,e){if(e===!1)return{};switch(e){case"fadeIn":return pkt;case"scaleIn":return fkt;default:return vP(i)}}const gkt=()=>{ce.registerAnimation("bar",(i,e)=>({appear:ETe(i,e),enter:vP(i,!1),exit:iw(i,!1),disappear:iw(i)}))},mkt=()=>{ce.registerAnimation("bar3d",(i,e)=>({appear:ETe(i,e),enter:vP(i,!1),exit:iw(i,!1),disappear:iw(i)}))};class QT extends Xo{constructor(){super(...arguments),this.type=QT.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{width:void 0,height:void 0,lineWidth:0})}}QT.type="rect";const bm=()=>{ce.registerMark(QT.type,QT),qX(),ZAe()};function ATe(i,e,t){var n,r;if(i.values.length>0){let s;if(i.sortDatums.length){let a=i.sortDatums;e&&(a=i.sortDatums.slice().reverse());for(let o=0;o<a.length;o++)s=nhe(a[o].datum,s,a[o].series,t,(r=(n=a[o].series[t.axisHelper]).getScale)===null||r===void 0?void 0:r.call(n,0),o===0)}else{let a=i.series;e&&(a=a.slice().reverse()),a.forEach(({s:o,values:l},u)=>{var c,d;const h=(d=(c=o[t.axisHelper]).getScale)===null||d===void 0?void 0:d.call(c,0);for(let p=0;p<l.length;p++){const f=l[e?l.length-1-p:p];s=nhe(f,s,o,t,h,p===0&&u===0)}})}}for(const s in i.nodes)ATe(i.nodes[s],e,t)}function nhe(i,e,t,n,r,s){const a=t.getSpec().barMinHeight,o=t[n.axisHelper].isInverse(),l=kn(t[n.startMethod](i),r);let u=kn(t[n.endMethod](i),r);s&&(e=l);let c=Math.abs(l-u);c<a&&(c=a);let d=1;return u<l?d=-1:u===l&&(d=n.isVertical?o?1:-1:o?-1:1),u=e+d*c,i[n.start]=e,i[n.end]=u,u}class V$ extends pu{constructor(){super(...arguments),this._supportStack=!0}_transformLabelSpec(e){this._addMarkLabelSpec(e,"bar")}}class sp extends sh{constructor(){super(...arguments),this.type=xe.bar,this._barMarkName="bar",this._barMarkType="rect",this.transformerConstructor=V$,this._bandPosition=0,this._getBarXStart=(e,t)=>this._shouldDoPreCalculate()?(this._calculateStackRectPosition(!1),e[cde]):this._spec.barMinHeight?this._calculateRectPosition(e,!1):kn(this._dataToPosX(e),t),this._getBarXEnd=(e,t)=>this._shouldDoPreCalculate()?(this._calculateStackRectPosition(!1),e[dde]):kn(this._dataToPosX1(e),t),this._getBarYStart=(e,t)=>this._shouldDoPreCalculate()?(this._calculateStackRectPosition(!0),e[hde]):this._spec.barMinHeight?this._calculateRectPosition(e,!0):kn(this._dataToPosY(e),t),this._getBarYEnd=(e,t)=>this._shouldDoPreCalculate()?(this._calculateStackRectPosition(!0),e[pde]):kn(this._dataToPosY1(e),t),this._getBarBackgroundXStart=e=>{const t=e.range();return Math.min(t[0],t[t.length-1])},this._getBarBackgroundXEnd=e=>{const t=e.range();return Math.max(t[0],t[t.length-1])},this._getBarBackgroundYStart=e=>{const t=e.range();return Math.min(t[0],t[t.length-1])},this._getBarBackgroundYEnd=e=>{const t=e.range();return Math.max(t[0],t[t.length-1])},this._getBarBackgroundPositionXEncoder=()=>{var e;return(e=this._barBackgroundPositionXEncoder)===null||e===void 0?void 0:e.bind(this)},this._setBarBackgroundPositionXEncoder=e=>{this._barBackgroundPositionXEncoder=e.bind(this)},this._getBarBackgroundPositionYEncoder=()=>{var e;return(e=this._barBackgroundPositionYEncoder)===null||e===void 0?void 0:e.bind(this)},this._setBarBackgroundPositionYEncoder=e=>{this._barBackgroundPositionYEncoder=e.bind(this)}}initMark(){var e,t;const n={progressiveStep:this._spec.progressiveStep,progressiveThreshold:this._spec.progressiveThreshold,large:this._spec.large,largeThreshold:this._spec.largeThreshold};this._initBarBackgroundMark(n),this._barMark=this._createMark(Object.assign(Object.assign({},sp.mark.bar),{name:this._barMarkName,type:this._barMarkType}),{morph:ym(this._spec,this._barMarkName),defaultMorphElementKey:this.getDimensionField()[0],groupKey:this._seriesField,isSeriesMark:!0,progressive:n,customShape:(e=this._spec.bar)===null||e===void 0?void 0:e.customShape,stateSort:(t=this._spec.bar)===null||t===void 0?void 0:t.stateSort})}_initBarBackgroundMark(e){this._spec.barBackground&&this._spec.barBackground.visible&&(this._barBackgroundMark=this._createMark(sp.mark.barBackground,{dataView:this._barBackgroundViewData.getDataView(),dataProductId:this._barBackgroundViewData.getProductId(),progressive:e,customShape:this._spec.barBackground.customShape,stateSort:this._spec.barBackground.stateSort}))}initMarkStyle(){this._barMark&&this.setMarkStyle(this._barMark,{fill:this.getColorAttribute()},"normal",Ve.Series)}initLabelMarkStyle(e){e&&this.setMarkStyle(e,{fill:this.getColorAttribute(),text:t=>t[this.getStackValueField()],z:this._fieldZ?this.dataToPositionZ.bind(this):null})}initTooltip(){super.initTooltip();const{mark:e,group:t}=this._tooltipHelper.activeTriggerSet;this._barMark&&(e.add(this._barMark),t.add(this._barMark))}_statisticViewData(){var e,t;super._statisticViewData();const n=(e=this._spec.barBackground)!==null&&e!==void 0?e:{};if(!n.visible)return;const r=this._getRelatedComponentSpecInfo("axes").some(a=>a.type===De.cartesianBandAxis);let s;if(pi(this._option.dataSet,"addVChartProperty",Yw),r){const a=([o],{scaleDepth:l})=>{var u;let c=[{}];const d=this.getDimensionField(),h=Y(l)?d.length:Math.min(d.length,l);for(let p=0;p<h;p++){const f=d[p],g=(u=o.latestData[f])===null||u===void 0?void 0:u.values;if(!(g!=null&&g.length))continue;const v=[];for(let m=0;m<g.length;m++)for(let b=0;b<c.length;b++)v.push(Object.assign(Object.assign({},c[b]),{[f]:g[m]}));c=v}return c};pi(this._option.dataSet,"dimensionItems",a),s=new vn(this._option.dataSet).parse([this._viewDataStatistics],{type:"dataview"}).transform({type:"dimensionItems",options:{scaleDepth:Y(n.fieldLevel)?void 0:n.fieldLevel+1}},!1).transform({type:"addVChartProperty",options:{beforeCall:tw.bind(this),call:eb}},!1),(t=this._viewDataStatistics)===null||t===void 0||t.target.addListener("change",s.reRunAllTransform)}else{const a=([l])=>{const u=[],[c,d]=this.getDimensionContinuousField(),h={};return o.latestData.forEach(p=>{const f=`${p[c]}-${p[d]}`;h[f]||(h[f]={[c]:p[c],[d]:p[d]},u.push(h[f]))}),u};pi(this._option.dataSet,"dimensionItems",a);const o=this.getViewData();s=new vn(this._option.dataSet).parse([o],{type:"dataview"}).transform({type:"dimensionItems"},!1).transform({type:"addVChartProperty",options:{beforeCall:tw.bind(this),call:eb}},!1),o==null||o.target.addListener("change",s.reRunAllTransform)}this._barBackgroundViewData=new kf(this._option,s)}init(e){var t,n;super.init(e),this.direction==="vertical"?((t=this._xAxisHelper)===null||t===void 0?void 0:t.getScale(0).type)==="band"?this.initBandRectMarkStyle():this.initLinearRectMarkStyle():((n=this._yAxisHelper)===null||n===void 0?void 0:n.getScale(0).type)==="band"?this.initBandRectMarkStyle():this.initLinearRectMarkStyle()}_shouldDoPreCalculate(){const e=this.getRegion();return this.getStack()&&e.getSeries().filter(t=>t.type===this.type&&t.getSpec().barMinHeight).length}_calculateStackRectPosition(e){const t=this.getRegion();if(t._bar_series_position_calculated)return;let n,r,s,a,o;t._bar_series_position_calculated=!0,e?(n=pde,r=hde,s="_dataToPosY1",a="_dataToPosY",o="_yAxisHelper"):(n=dde,r=cde,s="_dataToPosX1",a="_dataToPosX",o="_xAxisHelper");const l=xAe(t,!1,u=>u.type===this.type);for(const u in l)for(const c in l[u].nodes)ATe(l[u].nodes[c],t.getStackInverse(),{isVertical:e,start:n,end:r,startMethod:s,endMethod:a,axisHelper:o})}_calculateRectPosition(e,t){var n,r;let s,a,o;t?(s="_dataToPosY1",a="_dataToPosY",o="_yAxisHelper"):(s="_dataToPosX1",a="_dataToPosX",o="_xAxisHelper");const l=(r=(n=this[o]).getScale)===null||r===void 0?void 0:r.call(n,0),u=this[o].isInverse(),c=this._spec.barMinHeight,d=kn(this[s](e),l),h=kn(this[a](e),l);let p=Math.abs(d-h);p<c&&(p=c);let f=1;return h<d?f=-1:h===d&&(f=t?u?1:-1:u?-1:1),d+f*p}_dataToPosX(e){return this.dataToPositionX(e)}_dataToPosX1(e){return this.dataToPositionX1(e)}_dataToPosY(e){return this.dataToPositionY(e)}_dataToPosY1(e){return this.dataToPositionY1(e)}initBandRectMarkStyle(){var e,t,n,r;const s=(t=(e=this._xAxisHelper)===null||e===void 0?void 0:e.getScale)===null||t===void 0?void 0:t.call(e,0),a=(r=(n=this._yAxisHelper)===null||n===void 0?void 0:n.getScale)===null||r===void 0?void 0:r.call(n,0);this.direction==="horizontal"?this.setMarkStyle(this._barMark,{x:o=>this._getBarXStart(o,s),x1:o=>this._getBarXEnd(o,s),y:o=>this._getPosition(this.direction,o),height:()=>this._getBarWidth(this._yAxisHelper),width:()=>{},y1:()=>{}},"normal",Ve.Series):this.setMarkStyle(this._barMark,{y:o=>this._getBarYStart(o,a),y1:o=>this._getBarYEnd(o,a),x:o=>this._getPosition(this.direction,o),width:()=>this._getBarWidth(this._xAxisHelper),x1:()=>{},height:()=>{}},"normal",Ve.Series),this._initStackBarMarkStyle(),this._initBandBarBackgroundMarkStyle()}_initStackBarMarkStyle(){var e,t,n,r;if(!this._spec.stackCornerRadius)return;const s=(t=(e=this._xAxisHelper)===null||e===void 0?void 0:e.getScale)===null||t===void 0?void 0:t.call(e,0),a=(r=(n=this._yAxisHelper)===null||n===void 0?void 0:n.getScale)===null||r===void 0?void 0:r.call(n,0);this._barMark.setClip(()=>{const o=[];return this._forEachStackGroup(l=>{let u=1/0,c=-1/0,d=!1,h=1/0,p=-1/0;l.values.forEach(g=>{const v=g[Uu],m=g[aa],b=g[Q_],_=g[_0];u=Math.min(u,v,m),c=Math.max(c,v,m),X(b)&&X(_)&&(d=!0,h=Math.min(h,b,_),p=Math.max(p,b,_))});const f=Object.assign(Object.assign(Object.assign({},l.values[0]),{[Uu]:u,[aa]:c}),d?{[Q_]:h,[_0]:p}:void 0);o.push(z_(Object.assign(Object.assign({},this.direction==="horizontal"?{x:this._getBarXStart(f,s),x1:this._getBarXEnd(f,s),y:this._getPosition(this.direction,f),height:this._getBarWidth(this._yAxisHelper)}:{y:this._getBarYStart(f,a),y1:this._getBarYEnd(f,a),x:this._getPosition(this.direction,f),width:this._getBarWidth(this._xAxisHelper)}),{cornerRadius:this._spec.stackCornerRadius,fill:!0})))}),o})}initLinearRectMarkStyle(){var e,t,n,r;const s=(t=(e=this._xAxisHelper)===null||e===void 0?void 0:e.getScale)===null||t===void 0?void 0:t.call(e,0),a=(r=(n=this._yAxisHelper)===null||n===void 0?void 0:n.getScale)===null||r===void 0?void 0:r.call(n,0);if(this.direction==="horizontal"){const o=X(this._fieldY2)?{y:l=>kn(this._dataToPosY(l),a),y1:l=>kn(this._dataToPosY1(l),a)}:{y:l=>kn(this._dataToPosY(l)-this._getBarWidth(this._yAxisHelper)/2,a),height:l=>this._getBarWidth(this._yAxisHelper)};this.setMarkStyle(this._barMark,Object.assign({x:l=>this._getBarXStart(l,s),x1:l=>this._getBarXEnd(l,s)},o),"normal",Ve.Series),this.setMarkStyle(this._barBackgroundMark,Object.assign({x:()=>this._getBarBackgroundXStart(s),x1:()=>this._getBarBackgroundXEnd(s)},o),"normal",Ve.Series)}else{const o=X(this._fieldX2)?{x:l=>kn(this._dataToPosX(l),s),x1:l=>kn(this._dataToPosX1(l),s)}:{x:l=>kn(this._dataToPosX(l)-this._getBarWidth(this._xAxisHelper)/2,s),width:l=>this._getBarWidth(this._xAxisHelper)};this.setMarkStyle(this._barMark,Object.assign(Object.assign({},o),{y:l=>this._getBarYStart(l,a),y1:l=>this._getBarYEnd(l,a)}),"normal",Ve.Series),this.setMarkStyle(this._barBackgroundMark,Object.assign(Object.assign({},o),{y:()=>this._getBarBackgroundYStart(a),y1:()=>this._getBarBackgroundYEnd(a)}),"normal",Ve.Series)}}_initBandBarBackgroundMarkStyle(){var e,t,n,r,s;if(!this._barBackgroundMark)return;const a=(t=(e=this._xAxisHelper)===null||e===void 0?void 0:e.getScale)===null||t===void 0?void 0:t.call(e,0),o=(r=(n=this._yAxisHelper)===null||n===void 0?void 0:n.getScale)===null||r===void 0?void 0:r.call(n,0),l=(s=this._spec.barBackground)!==null&&s!==void 0?s:{},u=Y(l.fieldLevel)?void 0:l.fieldLevel+1;this.direction==="horizontal"?this.setMarkStyle(this._barBackgroundMark,{x:()=>this._getBarBackgroundXStart(a),x1:()=>this._getBarBackgroundXEnd(a),y:c=>this._getPosition(this.direction,c,u,"barBackground"),height:()=>this._getBarWidth(this._yAxisHelper,u),width:()=>{},y1:()=>{}},"normal",Ve.Series):this.setMarkStyle(this._barBackgroundMark,{x:c=>this._getPosition(this.direction,c,u,"barBackground"),y:()=>this._getBarBackgroundYStart(o),y1:()=>this._getBarBackgroundYEnd(o),width:()=>this._getBarWidth(this._xAxisHelper,u),x1:()=>{},height:()=>{}},"normal",Ve.Series)}initAnimation(){var e,t;const n={yField:this._fieldY[0],xField:this._fieldX[0],direction:this.direction,growFrom:()=>{var a,o;return this.direction==="horizontal"?(a=this._xAxisHelper)===null||a===void 0?void 0:a.getScale(0).scale(0):(o=this._yAxisHelper)===null||o===void 0?void 0:o.getScale(0).scale(0)}},r=(e=this._spec.animationAppear)===null||e===void 0?void 0:e.preset,s=D0(this);this._barMark.setAnimationConfig(Yi((t=ce.getAnimationInKey("bar"))===null||t===void 0?void 0:t(n,r),an(this._barMarkName,this._spec,this._markAttributeContext),s))}_getBarWidth(e,t){var n,r;const s=this._groups?this._groups.fields.length:1,a=Y(t)?s:Math.min(s,t),o=(r=(n=e.getBandwidth)===null||n===void 0?void 0:n.call(e,a-1))!==null&&r!==void 0?r:6;if(this._spec.barWidth!==void 0&&a===s)return $S(this._spec.barWidth,o);const l=this._spec.barMinWidth!==void 0,u=this._spec.barMaxWidth!==void 0;let c=o;return l&&(c=Math.max(c,$S(this._spec.barMinWidth,o))),u&&(c=Math.min(c,$S(this._spec.barMaxWidth,o))),c}_getPosition(e,t,n,r){var s,a,o,l,u;let c,d,h;e==="horizontal"?(c=this.getYAxisHelper(),d="height",h=r==="barBackground"?this.dataToBarBackgroundPositionY.bind(this):this.dataToPositionY.bind(this)):(c=this.getXAxisHelper(),d="width",h=r==="barBackground"?this.dataToBarBackgroundPositionX.bind(this):this.dataToPositionX.bind(this));const p=c.getScale(0),f=this._groups?this._groups.fields.length:1,g=Y(n)?f:Math.min(f,n),v=(a=(s=c.getBandwidth)===null||s===void 0?void 0:s.call(c,g-1))!==null&&a!==void 0?a:6,m=g===f?this._barMark.getAttribute(d,t):v;if(g>1&&X(this._spec.barGapInGroup)){const _=this._groups.fields,S=we(this._spec.barGapInGroup);let C=0,k=0;for(let E=_.length-1;E>=1;E--){const A=_[E],P=(l=(o=c.getScale(E))===null||o===void 0?void 0:o.domain())!==null&&l!==void 0?l:[],O=P.length,M=$S((u=S[E-1])!==null&&u!==void 0?u:Hv(S),v),D=P.indexOf(t[A]);E===_.length-1?(C+=O*m+(O-1)*M,k+=D*(m+M)):(k+=D*(C+M),C+=C+(O-1)*M)}return p.scale(t[_[0]])+c.getBandwidth(0)/2-C/2+k}const b=Ln(p.type||"band");return h(t,g)+.5*(v-m)+(b?-v/2:0)}dataToBarBackgroundPositionX(e,t){return this._dataToPosition(e,this._xAxisHelper,this.fieldX,t,this._getBarBackgroundPositionXEncoder,this._setBarBackgroundPositionXEncoder)}dataToBarBackgroundPositionY(e,t){return this._dataToPosition(e,this._yAxisHelper,this.fieldY,t,this._getBarBackgroundPositionYEncoder,this._setBarBackgroundPositionYEncoder)}onLayoutEnd(e){super.onLayoutEnd(e),this.getRegion()._bar_series_position_calculated=!1,this._spec.sampling&&this.compile()}compile(){if(super.compile(),this._spec.sampling){const{width:e,height:t}=this._region.getLayoutRect(),n=[],r=this._fieldY,s=this._fieldX;n.push({type:"sampling",size:this._direction==="horizontal"?t:e,factor:this._spec.samplingFactor,yfield:this._direction==="horizontal"?s[0]:r[0],groupBy:this._seriesField,mode:this._spec.sampling}),this._data.getProduct().transform(n)}}getDefaultShapeType(){return"square"}getActiveMarks(){return[this._barMark]}compileData(){var e;super.compileData(),(e=this._barBackgroundViewData)===null||e===void 0||e.compile()}fillData(){var e,t;super.fillData(),(t=(e=this._barBackgroundViewData)===null||e===void 0?void 0:e.getDataView())===null||t===void 0||t.reRunAllTransform()}viewDataUpdate(e){var t,n,r;super.viewDataUpdate(e),(n=(t=this._barBackgroundViewData)===null||t===void 0?void 0:t.getDataView())===null||n===void 0||n.reRunAllTransform(),(r=this._barBackgroundViewData)===null||r===void 0||r.updateData()}release(){var e;super.release(),(e=this._barBackgroundViewData)===null||e===void 0||e.release(),this._barBackgroundViewData=null}}sp.type=xe.bar,sp.mark=E$,sp.transformerConstructor=V$;const TTe=()=>{QX(),bm(),gkt(),Qu(),Zu(),ce.registerSeries(sp.type,sp)};class W$ extends pp{_getDefaultSeriesSpec(e){return Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{barWidth:e.barWidth,barMaxWidth:e.barMaxWidth,barMinWidth:e.barMinWidth,barGapInGroup:e.barGapInGroup,barMinHeight:e.barMinHeight,sampling:e.sampling,samplingFactor:e.samplingFactor,barBackground:e.barBackground,stackCornerRadius:e.stackCornerRadius})}transformSpec(e){super.transformSpec(e),R0(e)}_transformAxisSpec(e){var t,n;if(super._transformAxisSpec(e),!e.axes)return;const r=e.series.some(a=>a.direction==="horizontal"),s=(t=e.axes.find(a=>a.type==="band"))!==null&&t!==void 0?t:e.axes.find(a=>(r?["left","right"]:["top","bottom"]).includes(a.orient));if(s&&!s.bandSize&&!s.maxBandSize&&!s.minBandSize&&e.autoBandSize){const a=yi(e.autoBandSize)&&(n=e.autoBandSize.extend)!==null&&n!==void 0?n:0,{barMaxWidth:o,barMinWidth:l,barWidth:u,barGapInGroup:c}=e.series.find(d=>d.type==="bar");this._applyAxisBandSize(s,a,{barMaxWidth:o,barMinWidth:l,barWidth:u,barGapInGroup:c})}}}class v_ extends Ur{constructor(){super(...arguments),this.transformerConstructor=W$,this.type="bar",this.seriesType=xe.bar,this._canStack=!0}}v_.type="bar",v_.seriesType=xe.bar,v_.transformerConstructor=W$;const vkt=()=>{TTe(),ce.registerChart(v_.type,v_)};class JT extends Xo{constructor(){super(...arguments),this.type=JT.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{width:void 0,height:void 0,length:3})}}JT.type="rect3d";const yq=()=>{ce.registerMark(JT.type,JT),Z_t(),ZAe()};class pF extends sp{constructor(){super(...arguments),this.type=xe.bar3d,this._barMarkName="bar3d",this._barMarkType="rect3d"}}pF.type=xe.bar3d,pF.mark=eq;const PTe=()=>{mkt(),yq(),Qu(),Zu(),ce.registerSeries(pF.type,pF)};class OTe extends W${_getDefaultSeriesSpec(e){return Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{barWidth:e.barWidth,barMaxWidth:e.barMaxWidth,barMinWidth:e.barMinWidth,barGapInGroup:e.barGapInGroup})}}class ZE extends v_{constructor(){super(...arguments),this.transformerConstructor=OTe,this.type="bar3d",this.seriesType=xe.bar3d}}ZE.type="bar3d",ZE.seriesType=xe.bar3d,ZE.transformerConstructor=OTe;const ykt=()=>{PTe(),ce.registerChart(ZE.type,ZE)},rhe=10,_kt=[10,20],bkt=Ts.Linear,she="circle",Skt=Ts.Ordinal,xkt=["circle","square","triangle","diamond","star"],wkt=(i,e)=>e==="fadeIn"?{type:"fadeIn"}:{type:"scaleIn"},Ckt=()=>{ce.registerAnimation("scatter",(i,e)=>Object.assign({appear:wkt(0,e)},hq))};class MTe extends pu{_transformLabelSpec(e){this._addMarkLabelSpec(e,"point")}}class Qv extends sh{constructor(){super(...arguments),this.type=xe.scatter,this.transformerConstructor=MTe,this._invalidType="zero"}setAttrFromSpec(){super.setAttrFromSpec(),this._size=this._spec.size,this._sizeField=this._spec.sizeField,this._shape=this._spec.shape,this._shapeField=this._spec.shapeField}_getSeriesAttribute(e,t,{defaultScaleType:n,defaultRange:r},s){var a,o,l,u;if(Pe(t))return t;if(ke(t)){if(Y(e))return(a=this._option)===null||a===void 0||a.onError(`${s}Field is required.`),t;if(n!=="ordinal"&&t.length>2)return(o=this._option)===null||o===void 0||o.onError(`${s} length is invalid, specify up to 2 ${s}s.`),t;const c=`${Ut}_series_scatter_${this.id}_scale_${s}`;return this._option.globalScale.registerModelScale({id:c,type:n,domain:[{dataId:this._rawData.name,fields:[e]}],range:t}),{scale:c,field:e}}if(yi(t)){if(Y(e))return(l=this._option)===null||l===void 0||l.onError(`${s}Field is required.`),t;const c=`${Ut}_series_scatter_${this.id}_scale_${s}`,d=Object.assign({id:c,type:n,domain:[{dataId:this._rawData.name,fields:[e]}],range:r},t);return this._option.globalScale.registerModelScale(d),{scale:d.id,field:e}}return(u=this._option)===null||u===void 0||u.onError(`${s} attribute is invalid.`),t}getSizeAttribute(e,t){return Y(t)?rhe:Xe(t)?t:ct(t)&&_nt(t)?parseFloat(t):this._getSeriesAttribute(e,t,{defaultScaleType:bkt,defaultRange:_kt},"size")}getShapeAttribute(e,t){return Y(t)?she:ct(t)?t:this._getSeriesAttribute(e,t,{defaultScaleType:Skt,defaultRange:xkt},"shape")}initMark(){var e,t;const n={progressiveStep:this._spec.progressiveStep,progressiveThreshold:this._spec.progressiveThreshold,large:this._spec.large,largeThreshold:this._spec.largeThreshold};this._symbolMark=this._createMark(Qv.mark.point,{morph:ym(this._spec,Qv.mark.point.name),defaultMorphElementKey:this.getDimensionField()[0],groupKey:this._seriesField,progressive:n,isSeriesMark:!0,customShape:(e=this._spec.point)===null||e===void 0?void 0:e.customShape,stateSort:(t=this._spec.point)===null||t===void 0?void 0:t.stateSort})}initMarkStyle(){this.initSymbolMarkStyle()}initAnimation(){var e,t,n;const r=D0(this),s=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;this._symbolMark.setAnimationConfig(Yi((n=ce.getAnimationInKey("scatter"))===null||n===void 0?void 0:n({},s),an("point",this._spec,this._markAttributeContext),r))}initSymbolMarkStyle(){const e=this._symbolMark;e&&(this._invalidType!=="zero"&&this.setMarkStyle(e,{visible:this._getInvalidDefined.bind(this)}),this.setMarkStyle(e,{x:this.dataToPositionX.bind(this),y:this.dataToPositionY.bind(this),z:this._fieldZ?this.dataToPositionZ.bind(this):null,fill:this.getColorAttribute(),size:Xe(this._size)||Pe(this._size)?this._size:rhe,symbolType:ct(this._shape)||Pe(this._shape)?this._shape:she},mt.STATE_NORMAL,Ve.Series),(X(this._sizeField)||X(this._size))&&this.setMarkStyle(e,{size:this.getSizeAttribute(this._sizeField,this._size)},mt.STATE_NORMAL,Ve.User_Mark),(X(this._shapeField)||X(this._shape))&&this.setMarkStyle(e,{symbolType:this.getShapeAttribute(this._shapeField,this._shape)},mt.STATE_NORMAL,Ve.User_Mark))}initTooltip(){super.initTooltip(),this._symbolMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._symbolMark)}viewDataStatisticsUpdate(e){super.viewDataStatisticsUpdate(e);const t=[this.getDimensionField()[0],this.getStackValueField()].every(n=>{var r,s,a;return n&&((a=(s=(r=this.getViewDataStatistics())===null||r===void 0?void 0:r.latestData)===null||s===void 0?void 0:s[n])===null||a===void 0?void 0:a.allValid)});this._invalidType==="zero"||t?this.setMarkStyle(this._symbolMark,{visible:!0},"normal",Ve.Series):this.setMarkStyle(this._symbolMark,{visible:this._getInvalidDefined.bind(this)},"normal",Ve.Series),this._symbolMark.getProduct()&&this._symbolMark.compileEncode()}initLabelMarkStyle(e){e&&(this._labelMark=e,this.setMarkStyle(e,{fill:this.getColorAttribute(),text:t=>t[this.getStackValueField()],z:this._fieldZ?this.dataToPositionZ.bind(this):null},mt.STATE_NORMAL,Ve.Series),this._invalidType!=="zero"&&this.setMarkStyle(e,{visible:this._getInvalidDefined.bind(this)},mt.STATE_NORMAL,Ve.Series))}handleZoom(e){var t,n;this.getMarksWithoutRoot().forEach(s=>{const a=s.getProduct();!a||!a.elements||!a.elements.length||a.elements.forEach((o,l)=>{const u=o.getGraphicItem(),c=o.getDatum(),d=this.dataToPosition(c);d&&u&&u.translateTo(d.x,d.y)})});const r=(n=(t=this._labelMark)===null||t===void 0?void 0:t.getComponent())===null||n===void 0?void 0:n.getProduct();r&&r.evaluate(null,null)}handlePan(e){var t,n;this.getMarksWithoutRoot().forEach(s=>{const a=s.getProduct();!a||!a.elements||!a.elements.length||a.elements.forEach((o,l)=>{const u=o.getGraphicItem(),c=o.getDatum(),d=this.dataToPosition(c);d&&u&&u.translateTo(d.x,d.y)})});const r=(n=(t=this._labelMark)===null||t===void 0?void 0:t.getComponent())===null||n===void 0?void 0:n.getProduct();r&&r.evaluate(null,null)}getDefaultShapeType(){return"circle"}getActiveMarks(){return[this._symbolMark]}}Qv.type=xe.scatter,Qv.mark=HEe,Qv.transformerConstructor=MTe;const kkt=()=>{_m(),Ckt(),Qu(),Zu(),ce.registerSeries(Qv.type,Qv)};class ITe extends pp{_getDefaultSeriesSpec(e){return Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{point:e.point,size:e.size,sizeField:e.sizeField,shape:e.shape,shapeField:e.shapeField})}}class QE extends Ur{constructor(){super(...arguments),this.transformerConstructor=ITe,this.type="scatter",this.seriesType=xe.scatter,this._canStack=!0}}QE.type="scatter",QE.seriesType=xe.scatter,QE.transformerConstructor=ITe;const Ekt=()=>{kkt(),ce.registerChart(QE.type,QE)};NK();const ahe={},_q=["clipAngle","clipExtent","scale","translate","center","rotate","precision","reflectX","reflectY","parallels","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function Akt(i,e){return function t(){const n=e();return n.type=i,n.path=NK().projection(n),n.copy=n.copy||function(){const r=t();return _q.forEach(s=>{n[s]&&r[s](n[s]())}),r.path.pointRadius(n.path.pointRadius()),r},n}}function pv(i,e){i&&ct(i)||h_("Projection type must be a name string.");const t=i.toLowerCase();return arguments.length>1&&(ahe[t]=Akt(t,e)),ahe[t]||null}const ohe={albers:Wxe,albersusa:Qrt,azimuthalequalarea:Jrt,azimuthalequidistant:est,conicconformal:nst,conicequalarea:bD,conicequidistant:ast,equalEarth:lst,equirectangular:rst,gnomonic:ust,identity:cst,mercator:tst,naturalEarth1:dst,orthographic:hst,stereographic:pst,transversemercator:fst};Object.keys(ohe).forEach(i=>{pv(i,ohe[i])});const lhe="Feature",RTe="FeatureCollection";function Tkt(i){return i.type===RTe?i.features:we(i).filter(e=>!Y(e)).map(e=>e.type===lhe?e:{type:lhe,geometry:e})}function Pkt(i){const e=we(i);return e.length===1?e[0]:{type:RTe,features:e.reduce((t,n)=>t.concat(Tkt(n)),[])}}function Okt(i){const e=pv((i||"mercator").toLowerCase());return e||h_("Unrecognized projection type: "+i),e()}function Mkt(i,e,t){Pe(i[e])&&i[e](t)}const Ikt=_q.concat(["pointRadius","fit","extent","size"]);function uhe(i,e){let t=[];return i&&Object.keys(i).forEach(n=>{Ikt.includes(n)&&(t=t.concat(vl(i[n],e)))}),t}let Rkt=class extends w${constructor(e){super(e),this.grammarType="projection"}parse(e){return super.parse(e),this.pointRadius(e.pointRadius),this.size(e.size),this.extent(e.extent),this.fit(e.fit),this.configure(e),this.commit(),this}pointRadius(e){return Y(this.spec.pointRadius)||this.detach(vl(this.spec.pointRadius,this.view)),this.spec.pointRadius=e,this.attach(vl(e,this.view)),this.commit(),this}size(e){return Y(this.spec.size)||this.detach(vl(this.spec.size,this.view)),this.spec.size=e,this.attach(vl(e,this.view)),this.commit(),this}extent(e){return Y(this.spec.extent)||this.detach(vl(this.spec.extent,this.view)),this.spec.extent=e,this.attach(vl(e,this.view)),this.commit(),this}fit(e){return Y(this.spec.fit)||this.detach(vl(this.spec.fit,this.view)),this.spec.fit=e,this.attach(vl(e,this.view)),this.commit(),this}configure(e){return this.detach(uhe(this.spec,this.view)),Y(e)?this.spec={type:this.spec.type,fit:this.spec.fit,extent:this.spec.extent,size:this.spec.size,pointRadius:this.spec.pointRadius}:(Object.assign(this.spec,e),this.attach(uhe(this.spec,this.view))),this.commit(),this}evaluate(e,t){if(this.projection&&this.projection.type===this.spec.type||(this.projection=Okt(this.spec.type),this.projection.type=this.spec.type),_q.forEach(n=>{Y(this.spec[n])||Mkt(this.projection,n,Ps(this.spec[n],t,pv))}),Y(this.spec.pointRadius)||this.projection.path.pointRadius(Ps(this.spec.pointRadius,t,pv)),!(Y(this.spec.fit)||Y(this.spec.extent)&&Y(this.spec.size))){const n=Pkt(Ps(this.spec.fit,t,pv));this.spec.extent?this.projection.fitExtent(Ps(this.spec.extent,t,pv),n):this.spec.size&&this.projection.fitSize(Ps(this.spec.size,t,pv),n)}return this.projection}output(){return this.projection}};const Dkt=()=>{He.registerGrammar("projection",Rkt,"projections")},Lkt=(i,e)=>{if(!e.from||!e.from())return i;const t=e.fields,n=e.key,r=e.values,s=e.default,a=e.as||[t],o=e.from().reduce(function(u,c){return c[t]&&u.set(c[t],c),u},new Map);let l;if(Pe(e.set))l=function(u){const c=o.get(u[n]);e.set(u,c)};else if(r){const u=r.length;l=function(c){const d=o.get(c[n]);if(Y(d))for(let h=0;h<u;++h)c[a[h]]=s;else for(let h=0;h<u;++h)c[a[h]]=d[r[h]]}}else l=function(u){const c=o.get(u[n]);u[a[0]]=X(c)?c:s};return i.length===0?[]:i.map(u=>(l(u),u))};class Fkt extends tb{constructor(){super(...arguments),this.type=xe.geo,this.coordinate="geo",this._nameProperty="name"}getMapViewData(){var e;return(e=this._mapViewData)===null||e===void 0?void 0:e.getDataView()}get nameField(){return this._nameField}set nameField(e){this._nameField=e}get valueField(){return this._valueField}set valueField(e){this._valueField=e}getNameProperty(){return this._nameProperty}getCentroidProperty(){return this._centroidProperty}getCoordinateHelper(){return this._coordinateHelper}setCoordinateHelper(e){this._coordinateHelper=e}getStatisticFields(){const e=[];return e.push({key:this._nameField,operations:["values"]}),e.push({key:this._valueField,operations:["max","min"]}),e}getGroupFields(){return null}dataToPosition(e,t){var n;let r=null;if(!e||t&&!this.isDatumInViewData(e))return r;const{dataToPosition:s,latitudeField:a,longitudeField:o}=this._coordinateHelper;if(r=this.nameToPosition(e),r===null){const l=o?e==null?void 0:e[o]:Number.NaN,u=a?e==null?void 0:e[a]:Number.NaN;r=(n=s==null?void 0:s([l,u]))!==null&&n!==void 0?n:null}return r}nameToPosition(e){const t=this.getDatumName(e);return Y(t)?null:this.nameValueToPosition(t)}nameValueToPosition(e){var t,n;const r=(n=(t=this.getMapViewData())===null||t===void 0?void 0:t.latestData)===null||n===void 0?void 0:n.filter(l=>this.getDatumName(l)===e)[0];if(Y(r))return null;const{dataToPosition:s}=this._coordinateHelper,a=this.getDatumCenter(r),o=s==null?void 0:s(a);return Y(o)||isNaN(o.x)||isNaN(o.y)?null:o}dataToLatitude(e){if(!this._coordinateHelper)return Number.NaN;const{dataToLatitude:t}=this._coordinateHelper;return t(e)}dataToLongitude(e){if(!this._coordinateHelper)return Number.NaN;const{dataToLatitude:t}=this._coordinateHelper;return t(e)}valueToPosition(e,t){return{x:this.dataToLongitude(e),y:this.dataToLatitude(t)}}positionToData(e){}latitudeToData(e){}longitudeToData(e){}dataToPositionX(e){var t;return(t=this._option)===null||t===void 0||t.onError("Method not implemented."),0}dataToPositionY(e){var t;return(t=this._option)===null||t===void 0||t.onError("Method not implemented."),0}dataToPositionZ(e){var t;return(t=this._option)===null||t===void 0||t.onError("Method not implemented."),0}release(){super.release(),this._mapViewData.release(),this._mapViewData=this._mapViewDataStatistics=null}getStackGroupFields(){return[this._nameField]}getStackValueField(){return this._spec.valueField}compileData(){var e;(e=this._mapViewData)===null||e===void 0||e.compile()}initStatisticalData(){if(super.initStatisticalData(),this._mapViewData){const e=`${Ut}_series_${this.id}_mapViewDataStatic`;this._mapViewDataStatistics=this.createStatisticalData(e,this._mapViewData.getDataView()),this._mapViewData.getDataView().target.removeListener("change",this._mapViewDataStatistics.reRunAllTransform)}}getSeriesKeys(){var e,t,n,r,s;return this._seriesField?(s=(t=(e=this.getRawDataStatisticsByField(this._seriesField))===null||e===void 0?void 0:e.values)!==null&&t!==void 0?t:(r=(n=this._mapViewDataStatistics)===null||n===void 0?void 0:n.latestData[this._seriesField])===null||r===void 0?void 0:r.values)!==null&&s!==void 0?s:[]:this.name?[this.name]:this.userId?[`${this.userId}`]:[`${this.type}_${this.id}`]}fillData(){var e,t;super.fillData(),(e=this._mapViewData.getDataView())===null||e===void 0||e.reRunAllTransform(),(t=this._mapViewDataStatistics)===null||t===void 0||t.reRunAllTransform()}getActiveMarks(){return[]}}const fF=`${Ut}_MAP_LOOK_UP_KEY`,Bkt=(i,e)=>(i.features&&i.features.forEach((t,n)=>{var r;t[Tl]=n;const s=(r=t.properties)===null||r===void 0?void 0:r[e.nameProperty];e.nameMap&&e.nameMap[s]?t[fF]=e.nameMap[s]:t[fF]=s}),i.features);class $kt extends hu{constructor(){super(...arguments),this.dimensionTooltipTitleCallback=e=>{var t;const n=this.series;return(t=this._getDimensionData(e))!==null&&t!==void 0?t:n.getDatumName(e)}}}class e2 extends Xo{constructor(){super(...arguments),this.type=e2.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{lineWidth:0,path:""})}}e2.type="path";const bq=()=>{ce.registerMark(e2.type,e2),vEe()};class Nkt{constructor(e){this.projection=pv(e.type)()}fit(e,t,n){const r={type:"FeatureCollection",features:n};this.projection.fitExtent([e,t],r)}center(e){var t,n;(n=(t=this.projection)===null||t===void 0?void 0:t.center)===null||n===void 0||n.call(t,e)}project(e){var t;return(t=this.projection)===null||t===void 0?void 0:t.call(this,e)}shape(e){var t,n;return(n=(t=this.projection)===null||t===void 0?void 0:t.path)===null||n===void 0?void 0:n.call(t,e)}invert(e){var t,n;return(n=(t=this.projection)===null||t===void 0?void 0:t.invert)===null||n===void 0?void 0:n.call(t,e)}scale(e){var t;if(!((t=this.projection)===null||t===void 0)&&t.scale){if(e===void 0)return this.projection.scale();this.projection.scale(e)}}translate(e){var t;if(!((t=this.projection)===null||t===void 0)&&t.scale){if(e===void 0)return this.projection.translate();this.projection.translate(e)}}evaluate(e,t,n){const r=this.projection.copy();return r==null?void 0:r.fitExtent([e,t],{type:"FeatureCollection",features:n})}}class jkt{parserScrollEvent(e){return e&&!(e.ctrlKey||e.deltaY===0&&e.deltaX===0)&&(e.scrollX=e.deltaX,e.scrollY=e.deltaY,e)}parserZoomEvent(e){if(!e)return e;const t=Math.pow(1.0005,-e.deltaY*Math.pow(16,e.deltaMode));return e.zoomDelta=t,e.zoomX=e.canvasX,e.zoomY=e.canvasY,e}clearZoom(){}clearScroll(){}clearDrag(){}parserDragEvent(){return!0}}class zkt{constructor(){this._lastScale=0}clearZoom(){this._lastScale=0,this.pointerId=null}parserDragEvent(e){return!0}parserZoomEvent(e){const t=e.scale;if(this._lastScale===0)return this._lastScale=t,e;e.zoomDelta=t/this._lastScale;const n=e.center;return e.zoomX=n.x,e.zoomY=n.y,this._lastScale=t,e}parserScrollEvent(e){return e}clearScroll(){}clearDrag(){}}function dg(i){return i===na["desktop-browser"]||i===na["desktop-miniApp"]?{start:"pointerdown",move:"pointermove",end:"pointerup",zoom:"wheel",zoomEnd:"pointerup",scroll:"wheel",trigger:jkt}:m0(i)||O0(i)?{start:"pointerdown",move:"pointermove",end:"pointerup",zoom:"pinch",zoomEnd:"pinchend",scroll:"pan",scrollEnd:"panend",trigger:zkt}:null}const M1={debounce:Pf,throttle:P0};class Sq{constructor(){this._isGestureListener=!1}initZoomable(e,t=na["desktop-browser"]){this._eventObj=e,this._renderMode=t,this._gestureController=this._option.getChart().getVGrammarView().renderer._gestureController,this._isGestureListener=m0(this._renderMode)||O0(this._renderMode),dg(this._renderMode)&&(this._clickEnable=!0,this._zoomableTrigger=new(this._getZoomTriggerEvent("trigger")))}_getZoomTriggerEvent(e){return dg(this._renderMode)[e]}_zoomEventDispatch(e,t,n){if(!this._isGestureListener&&!e.event)return;const r=this._isGestureListener?e:e.event.clone();this._zoomableTrigger.parserZoomEvent(r);const{zoomDelta:s,zoomX:a,zoomY:o}=r;Y(s)||ME({x:a,y:o},this._getRegionOrSeriesLayout(t),!1)&&(n&&n({zoomDelta:s,zoomX:a,zoomY:o},r),this._eventObj.emit("zoom",{scale:r.zoomDelta,scaleCenter:{x:r.zoomX,y:r.zoomY},model:this}))}_getRegionOrSeriesLayout(e){e.type!=="region"&&(e=e.getRegion());const{x:t,y:n,width:r,height:s}=e.layout.getLayout();return{x1:t,y1:n,x2:t+r,y2:n+s}}_bindZoomEventAsRegion(e,t,n,r){var s,a;const o=(s=r==null?void 0:r.delayType)!==null&&s!==void 0?s:"throttle",l=(a=r==null?void 0:r.delayTime)!==null&&a!==void 0?a:0,u=this._isGestureListener?this._gestureController:e,c=this._isGestureListener?[this._getZoomTriggerEvent("zoom")]:[this._getZoomTriggerEvent("zoom"),{level:fr.chart,consume:!0}],d=this._isGestureListener?[this._getZoomTriggerEvent("zoomEnd")]:[this._getZoomTriggerEvent("zoomEnd"),{level:fr.chart,consume:!1}];u.on(...d,M1[o](h=>{this._zoomableTrigger.clearZoom()},l)),u.on(...c,M1[o](h=>{this._zoomEventDispatch(h,t,n)},l))}initZoomEventOfSeries(e,t,n){this._option.disableTriggerEvent||dg(this._renderMode)&&this._bindZoomEventAsRegion(e.event,e,t,n)}initZoomEventOfRegions(e,t,n,r){this._option.disableTriggerEvent||dg(this._renderMode)&&e.forEach(s=>{t?s.getSeries().forEach(a=>{t(a)&&this._bindZoomEventAsRegion(a.event,a,n,r)}):this._bindZoomEventAsRegion(this._eventObj,s,n,r)})}_scrollEventDispatch(e,t,n){let r=!1;if(!this._isGestureListener&&(!e.event||this._option.disableTriggerEvent))return r;const s=this._isGestureListener?e:e.event;this._zoomableTrigger.parserScrollEvent(s);const{scrollX:a,scrollY:o,canvasX:l,canvasY:u}=s;return Y(a)&&Y(o)||ME({x:l,y:u},this._getRegionOrSeriesLayout(t),!1)&&(n&&(r=n({scrollX:a,scrollY:o},s)),this._eventObj.emit("scroll",{scrollX:a,scrollY:o,model:this})),r}_bindScrollEventAsRegion(e,t,n,r){var s,a;const o=(s=r==null?void 0:r.delayType)!==null&&s!==void 0?s:"throttle",l=(a=r==null?void 0:r.delayTime)!==null&&a!==void 0?a:0,u=this._isGestureListener?this._gestureController:e,c=this._isGestureListener?[this._getZoomTriggerEvent("scroll")]:[this._getZoomTriggerEvent("scroll"),{level:fr.chart,consume:!0}],d=this._isGestureListener?[this._getZoomTriggerEvent("scrollEnd")]:[this._getZoomTriggerEvent("scrollEnd"),{level:fr.chart,consume:!1}];u.on(...d,M1[o](h=>{this._zoomableTrigger.clearScroll()},l)),u.on(...c,M1[o](h=>this._scrollEventDispatch(h,t,n),l))}initScrollEventOfSeries(e,t,n){dg(this._renderMode)&&this._bindScrollEventAsRegion(e.event,e,t,n)}initScrollEventOfRegions(e,t,n,r){this._option.disableTriggerEvent||dg(this._renderMode)&&e.forEach(s=>{t?s.getSeries().forEach(a=>{t(a)&&this._bindScrollEventAsRegion(a.event,a,n,r)}):this._bindScrollEventAsRegion(this._eventObj,s,n,r)})}_bindDragEventAsRegion(e,t,n,r){e.on(this._getZoomTriggerEvent("start"),{level:fr.chart},s=>{if(!s.event)return;const{event:a}=s;ME({x:a.canvasX,y:a.canvasY},this._getRegionOrSeriesLayout(t),!1)&&this._handleDrag(s,n,r)}),e.on("click",{level:fr.chart},()=>!this._clickEnable)}initDragEventOfSeries(e,t,n){this._option.disableTriggerEvent||dg(this._renderMode)&&e.event.on(this._getZoomTriggerEvent("start"),{level:fr.model,filter:({model:r})=>(r==null?void 0:r.id)===e.id},r=>{this._handleDrag(r,t,n)})}initDragEventOfRegions(e,t,n,r){this._option.disableTriggerEvent||dg(this._renderMode)&&e.forEach(s=>{t?s.getSeries().forEach(a=>{t(a)&&(a.event.on(this._getZoomTriggerEvent("start"),{level:fr.model,filter:({model:o})=>(o==null?void 0:o.id)===a.id},o=>{this._handleDrag(o,n)}),a.event.on("click",{level:fr.model,filter:({model:o})=>(o==null?void 0:o.id)===a.id},()=>!this._clickEnable))}):this._bindDragEventAsRegion(this._eventObj,s,n,r)})}_handleDrag(e,t,n){var r,s,a;if(this._option.disableTriggerEvent||(this._clickEnable=!1,!this._zoomableTrigger.parserDragEvent(e.event)))return;const o=(r=n==null?void 0:n.delayType)!==null&&r!==void 0?r:"throttle",l=(s=n==null?void 0:n.delayTime)!==null&&s!==void 0?s:0,u=(a=n==null?void 0:n.realTime)===null||a===void 0||a,c=this._getZoomTriggerEvent("move"),d=this._getZoomTriggerEvent("end"),h=e.event;let p=h.canvasX,f=h.canvasY,g=h.canvasX,v=h.canvasY;const m=M1[o](_=>{this._clickEnable=!0;const S=_.event,C=[S.canvasX-g,S.canvasY-v];g=S.canvasX,v=S.canvasY,!u&&t&&t(C,_.event),this._eventObj.emit("panend",{delta:C,model:this}),this._zoomableTrigger.pointerId=null,this._eventObj.off(c,{level:fr.chart,source:cn.chart},b),this._eventObj.off(d,{level:fr.chart,source:cn.window},m)},l),b=M1[o](_=>{if(!this._zoomableTrigger.parserDragEvent(_.event))return;this._clickEnable=!1;const S=_.event,C=[S.canvasX-p,S.canvasY-f];p=S.canvasX,f=S.canvasY,u&&t&&t(C,_.event),this._eventObj.emit("panmove",{delta:C,model:this})},l);this._eventObj.on(c,{level:fr.chart,source:cn.chart},b),this._eventObj.on(d,{level:fr.chart,source:cn.chart},m)}}function Hkt(i,e){return`${Ut}_${e}_${i}`}class gF extends fu{constructor(){super(...arguments),this.type=De.geoCoordinate,this.name=De.geoCoordinate,this.layoutType="none",this.layoutZIndex=qn.Mark,this._projectionSpec={name:Hkt(this.type,this.id),type:"mercator"},this._actualScale=1,this._initialScale=1,this.effect={scaleUpdate:()=>{this.coordinateHelper()}},this._handleChartZoom=(e,t)=>{var n,r,s,a,o,l;let u=e.zoomDelta;const c=this._actualScale;return this._actualScale*=u,this._actualScale<((n=this._spec.zoomLimit)===null||n===void 0?void 0:n.min)?(this._actualScale=(r=this._spec.zoomLimit)===null||r===void 0?void 0:r.min,u=((s=this._spec.zoomLimit)===null||s===void 0?void 0:s.min)/c):this._actualScale>((a=this._spec.zoomLimit)===null||a===void 0?void 0:a.max)&&(this._actualScale=(o=this._spec.zoomLimit)===null||o===void 0?void 0:o.max,u=((l=this._spec.zoomLimit)===null||l===void 0?void 0:l.max)/c),t&&(t.zoomDelta=u),this.zoom(u,[e.zoomX,e.zoomY]),u},this.pan=(e=[0,0])=>{var t,n,r;const s=(n=(t=this._projection)===null||t===void 0?void 0:t.translate())!==null&&n!==void 0?n:[0,0];let a=s[0],o=s[1];a+=e[0],o+=e[1],(r=this._projection)===null||r===void 0||r.translate([a,o])}}get longitudeField(){return this._longitudeField}get latitudeField(){return this._latitudeField}get projectionSpec(){return this._projectionSpec}setProjection(e){this._projectionSpec=Object.assign(Object.assign({},e),{name:this._projectionSpec.name})}getZoom(){return this._actualScale}static getSpecInfo(e){if(Y(e))return null;const t=[];return e.region.forEach((n,r)=>{if(n.coordinate==="geo"){const s=Object.assign(Object.assign({},n),{padding:0});t.push({spec:s,regionIndex:r,type:De.geoCoordinate,specInfoPath:["component","geoCoordinate",r]})}}),t}setAttrFromSpec(){var e,t,n;super.setAttrFromSpec(),this._spec.roam&&this.initZoomable(this.event,this._option.mode),this._projectionSpec=Rt(this._projectionSpec,this._spec.projection),this._projectionSpec.zoom>((e=this._spec.zoomLimit)===null||e===void 0?void 0:e.max)&&(this._projectionSpec.zoom=this._spec.zoomLimit.max),this._projectionSpec.zoom<((t=this._spec.zoomLimit)===null||t===void 0?void 0:t.min)&&(this._projectionSpec.zoom=this._spec.zoomLimit.min),this._actualScale=(n=this._projectionSpec.zoom)!==null&&n!==void 0?n:1,this._initialScale=this._actualScale,this._longitudeField=this._spec.longitudeField,this._latitudeField=this._spec.latitudeField}created(){super.created(),this._regions=this._option.getRegionsInIndex([this._option.regionIndex]),this.initProjection(),this.coordinateHelper(),this.initEvent(),this._initCenterCache()}dispatchZoom(e,t){const n=t||{x:this.getLayoutStartPoint().x+this.getLayoutRect().width/2,y:this.getLayoutStartPoint().y+this.getLayoutRect().height/2},r=this._handleChartZoom({zoomDelta:e,zoomX:n.x,zoomY:n.y});r!==1&&this.event.emit("zoom",{scale:r,scaleCenter:n,model:this})}initEvent(){this.event.on(Pt.scaleUpdate,{filter:({model:e})=>(e==null?void 0:e.id)===this.id},this.effect.scaleUpdate.bind(this)),this._spec.roam&&(this.initZoomEventOfRegions(this._regions,null,this._handleChartZoom),this.initDragEventOfRegions(this._regions,()=>!0,this.pan),this._regions.forEach(e=>{e.getSeries().forEach(t=>{t.event.on("zoom",n=>(t.handleZoom(n),!0)),t.event.on("panmove",n=>(t.handlePan(n),!0))})}))}initProjection(){var e;this._projection=new Nkt(this._projectionSpec),this._projection.projection!==null||(e=this._option)===null||e===void 0||e.onError("unsupported projection type!")}coordinateHelper(){const e={longitudeField:this._longitudeField,latitudeField:this._latitudeField,dataToPosition:this.dataToPosition.bind(this),dataToLongitude:this.dataToLongitude.bind(this),dataToLatitude:this.dataToLatitude.bind(this),shape:this.shape.bind(this),getCoordinateId:()=>this.id};this._regions.forEach(t=>{t.getSeries().forEach(n=>{n.type===xe.map?n.setCoordinateHelper(e):(n.setXAxisHelper(Object.assign(Object.assign({},e),{isContinuous:!0,dataToPosition:(r,s)=>{var a;let o=r[0];if(Y(o)&&(s!=null&&s.datum)){const l=s.datum[n.getDimensionField()[0]];o=(a=this._centerCache.get(l))===null||a===void 0?void 0:a.x}return this.dataToLongitude(o)},valueToPosition:(r,s)=>{var a;if(Y(r)&&(s!=null&&s.datum)){const o=s.datum[n.getDimensionField()[0]];r=(a=this._centerCache.get(o))===null||a===void 0?void 0:a.x}return this.dataToLongitude(r)},getFields:()=>[this._longitudeField],getAxisType:()=>this.type,getAxisId:()=>this.id,isInverse:()=>!1})),n.setYAxisHelper(Object.assign(Object.assign({},e),{isContinuous:!0,dataToPosition:(r,s)=>{var a;let o=r[0];if(Y(o)&&(s!=null&&s.datum)){const l=s.datum[n.getDimensionField()[0]];o=(a=this._centerCache.get(l))===null||a===void 0?void 0:a.y}return this.dataToLatitude(o)},valueToPosition:(r,s)=>{var a;if(Y(r)&&(s!=null&&s.datum)){const o=s.datum[n.getDimensionField()[0]];r=(a=this._centerCache.get(o))===null||a===void 0?void 0:a.y}return this.dataToLatitude(r)},getFields:()=>[this._latitudeField],getAxisType:()=>this.type,getAxisId:()=>this.id,isInverse:()=>!1})))})})}onLayoutEnd(e){this.setLayoutRect(this._regions[0].getLayoutRect()),this.setLayoutStartPosition(this._regions[0].getLayoutStartPoint());const{width:t,height:n}=this.getLayoutRect(),{translate:r,scale:s,center:a}=this.evaluateProjection([0,0],[t,n]);r&&this._projection.translate(r),s&&this._projection.scale(s),a&&this._projection.center(a),hs(this._regions,o=>{var l;if(o.type===xe.map){o.areaPath.clear();const u=(l=o.getRootMark().getProduct())===null||l===void 0?void 0:l.getGroupGraphicItem();u&&u.attribute.postMatrix&&u.setAttributes({postMatrix:new gs})}}),this._actualScale=this._initialScale,super.onLayoutEnd(e)}onRender(e){}changeRegions(e){}_getNeedClearVRenderComponents(){return[]}collectFeatures(){const e=[];return this._regions.forEach(t=>{t.getSeries().forEach(n=>{var r,s;n.type===xe.map&&e.push(...(s=(r=n.getMapViewData())===null||r===void 0?void 0:r.latestData)!==null&&s!==void 0?s:[])})}),e}dataToPosition(e=[]){var t;const n=(t=this._projection)===null||t===void 0?void 0:t.project([e[0],e[1]]);return{x:n==null?void 0:n[0],y:n==null?void 0:n[1]}}dataToLatitude(e){var t;const n=(t=this._projection)===null||t===void 0?void 0:t.project([0,e]);return n==null?void 0:n[1]}dataToLongitude(e){var t;const n=(t=this._projection)===null||t===void 0?void 0:t.project([e,0]);return n==null?void 0:n[0]}zoom(e,t=[0,0]){var n,r,s,a,o,l;let u=(r=(n=this._projection)===null||n===void 0?void 0:n.scale())!==null&&r!==void 0?r:0;const c=(a=(s=this._projection)===null||s===void 0?void 0:s.translate())!==null&&a!==void 0?a:[0,0];let d=c[0],h=c[1];u*=e,d-=(t[0]-d)*(e-1),h-=(t[1]-h)*(e-1),(o=this._projection)===null||o===void 0||o.scale(u),(l=this._projection)===null||l===void 0||l.translate([d,h])}shape(e){return this._projection.shape(e)}invert(e){return this._projection.invert(e)}evaluateProjection(e,t){var n;const r=this._projection.evaluate(e,t,this.collectFeatures());let s=r.translate();const a=r.scale()*this._initialScale,o=(n=this._projectionSpec.center)!==null&&n!==void 0?n:r.invert([t[0]/2,t[1]/2]);return o&&(s=[t[0]/2,t[1]/2]),{translate:s,scale:a,center:o}}_initCenterCache(){this._centerCache||(this._centerCache=new Map),this._regions.forEach(e=>{e.getSeries().forEach(t=>{var n,r;t.type==="map"&&((r=(n=t.getMapViewData())===null||n===void 0?void 0:n.latestData)!==null&&r!==void 0?r:[]).forEach((s={})=>{const a=s[t.getDimensionField()[0]]||s[fF],o=t.getDatumCenter(s);a&&X(o)&&this._centerCache.set(a,{x:o[0],y:o[1]})})})})}release(){super.release(),this._centerCache&&this._centerCache.clear(),this._centerCache=null}}gF.type=De.geoCoordinate,wa(gF,Sq);const DTe=()=>{ce.registerComponent(gF.type,gF)};class LTe extends pu{_transformLabelSpec(e){this._addMarkLabelSpec(e,"area",void 0,void 0,!1)}}class Jv extends Fkt{constructor(){super(...arguments),this.type=xe.map,this.transformerConstructor=LTe,this._areaCache=new Map}getNameMap(){return this._nameMap}get areaPath(){return this._areaCache}setAttrFromSpec(){var e,t;super.setAttrFromSpec(),this.map=this._spec.map,this._nameMap=this._spec.nameMap,this._nameField=this._spec.nameField,this._valueField=this._spec.valueField,this._spec.nameProperty&&(this._nameProperty=this._spec.nameProperty),this._spec.centroidProperty&&(this._centroidProperty=this._spec.centroidProperty),this.map||(e=this._option)===null||e===void 0||e.onError(`map type '${this.map}' is not specified !`),J_.get(this.map)||(t=this._option)===null||t===void 0||t.onError(`'${this.map}' data is not registered !`)}initData(){var e,t;super.initData(),pi(this._dataSet,"copyDataView",P$),pi(this._dataSet,"map",Bkt),pi(this._dataSet,"lookup",Lkt);const n=J_.get(this.map);n||(e=this._option)===null||e===void 0||e.onError("no valid map data found!");const r=new vn(this._dataSet,{name:`map_${this.id}_data`});r.parse([n],{type:"dataview"}).transform({type:"copyDataView",options:{deep:!0},level:cp.copyDataView}).transform({type:"map",options:{nameMap:this._nameMap,nameProperty:this._nameProperty}}).transform({type:"lookup",options:{from:()=>{var s;return(s=this._data)===null||s===void 0?void 0:s.getLatestData()},key:fF,fields:this._nameField,set:(s,a)=>{a&&Object.keys(a).forEach(o=>{o in s||(s[o]=a[o])})}}}),(t=this._data)===null||t===void 0||t.getDataView().target.addListener("change",r.reRunAllTransform),this._mapViewData=new kf(this._option,r)}initMark(){this._pathMark=this._createMark(Jv.mark.area,{morph:ym(this._spec,Jv.mark.area.name),defaultMorphElementKey:this.getDimensionField()[0],groupKey:this.getDimensionField()[0],isSeriesMark:!0,skipBeforeLayouted:!0,dataView:this._mapViewData.getDataView(),dataProductId:this._mapViewData.getProductId()})}initMarkStyle(){const e=this._pathMark;e&&(this.setMarkStyle(e,{fill:t=>{var n,r,s,a;return X(t[(n=this._seriesField)!==null&&n!==void 0?n:$u])?((r=this._option.globalScale.getScale("color"))!==null&&r!==void 0?r:this._getDefaultColorScale()).scale(t[(s=this._seriesField)!==null&&s!==void 0?s:$u]):(a=this._spec)===null||a===void 0?void 0:a.defaultFillColor},path:this.getPath.bind(this)},"normal",Ve.Series),e.setPostProcess("fill",t=>X(t)?t:this._spec.defaultFillColor),this.setMarkStyle(e,{smoothScale:!0},"normal",Ve.Built_In))}initLabelMarkStyle(e){e&&(this._labelMark=e,this.setMarkStyle(e,{text:t=>this.getDatumName(t),x:t=>{var n;return(n=this.dataToPosition(t))===null||n===void 0?void 0:n.x},y:t=>{var n;return(n=this.dataToPosition(t))===null||n===void 0?void 0:n.y}}))}initAnimation(){var e;this._pathMark.setAnimationConfig(Yi((e=ce.getAnimationInKey("fadeInOut"))===null||e===void 0?void 0:e(),an("area",this._spec,this._markAttributeContext)))}initTooltip(){this._tooltipHelper=new $kt(this),this._pathMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._pathMark)}getPath(e){var t;const n=this._areaCache.get(e[Tl]);if(n)return n.shape;const r=(t=this._coordinateHelper)===null||t===void 0?void 0:t.shape(e);return this._areaCache.set(e[Tl],{shape:r}),r}onEvaluateEnd(){this._mapViewData.updateData()}getDimensionField(){return[this.nameField]}getMeasureField(){return[this.valueField]}release(){super.release(),this._areaCache.clear(),this._nameMap={},this._mapViewData=null}handleZoom(e){var t,n,r;const{scale:s,scaleCenter:a}=e;if(s===1)return;const o=(t=this.getRootMark().getProduct())===null||t===void 0?void 0:t.getGroupGraphicItem();o&&(o.attribute.postMatrix||o.setAttributes({postMatrix:new gs}),o.scale(s,s,a));const l=(r=(n=this._labelMark)===null||n===void 0?void 0:n.getComponent())===null||r===void 0?void 0:r.getProduct();l&&l.evaluate(null,null)}handlePan(e){var t,n,r;const{delta:s}=e;if(s[0]===0&&s[1]===0)return;const a=(t=this.getRootMark().getProduct())===null||t===void 0?void 0:t.getGroupGraphicItem();a&&(a.attribute.postMatrix||a.setAttributes({postMatrix:new gs}),a.translate(s[0],s[1]));const o=(r=(n=this._labelMark)===null||n===void 0?void 0:n.getComponent())===null||r===void 0?void 0:r.getProduct();o&&o.evaluate(null,null)}getDatumCenter(e){var t,n,r,s;return this._centroidProperty&&(!((t=e.properties)===null||t===void 0)&&t[this._centroidProperty])?(n=e.properties)===null||n===void 0?void 0:n[this._centroidProperty]:Ce(e.centroidX*e.centroidY)?[e.centroidX,e.centroidY]:!((r=e.properties)===null||r===void 0)&&r.center?e.properties.center:!((s=e.properties)===null||s===void 0)&&s.centroid?e.properties.centroid:[Number.NaN,Number.NaN]}getDatumName(e){var t;if(e[this.nameField])return e[this.nameField];const n=(t=e.properties)===null||t===void 0?void 0:t[this._nameProperty];if(n){if(this._spec.nameMap&&this._spec.nameMap[n])return this._spec.nameMap[n];if(this._spec.showDefaultName||!this._spec.nameMap)return n}return""}dataToPositionX(e){var t;return(t=this._option)===null||t===void 0||t.onError("Method not implemented."),0}dataToPositionY(e){var t;return(t=this._option)===null||t===void 0||t.onError("Method not implemented."),0}viewDataUpdate(e){var t,n,r;super.viewDataUpdate(e),(n=(t=this._mapViewData)===null||t===void 0?void 0:t.getDataView())===null||n===void 0||n.reRunAllTransform(),(r=this._mapViewData)===null||r===void 0||r.updateData()}_getDataIdKey(){return Tl}getActiveMarks(){return[this._pathMark]}}Jv.type=xe.map,Jv.mark=YEe,Jv.transformerConstructor=LTe;const Vkt=()=>{Dkt(),DTe(),bq(),ce.registerSeries(Jv.type,Jv),ce.registerImplement("registerMap",nwt),ce.registerImplement("unregisterMap",rwt),vm()},Wkt=(i,e)=>{if(!i||i.length===0)return i;const{indexField:t,total:n,groupData:r}=e,s=[],{dimensionValues:a,dimensionData:o}=r().latestData,l=Array.from(a[t]);let u={start:0,end:0,lastIndex:null};return l.forEach((c,d)=>{const h={start:u.end,end:u.end,lastIndex:u.lastIndex,lastEnd:u.end,index:c,isTotal:!1},p=o[c];if(p==null||p.forEach((f,g)=>{g===p.length-1?f[zT]=!0:delete f[zT]}),p.length>1){const f=g=>{if(n&&n.type!=="end"){if(n.type==="field"||n.type==="custom")return!!g[n.tagField]}else if(d===l.length-1)return!0;return!1};if(p.some(g=>f(g)))return u=Ukt(p,c,h,s,u,l,d,e,f),void s.push(h)}u=FTe(p,c,h,s,u,l,d,e),s.push(h)}),s};function Ukt(i,e,t,n,r,s,a,o,l){t.isTotal=!0;const{valueField:u,startAs:c,endAs:d,total:h}=o,p=[],f=[];if(i.forEach(_=>{l(_)?f.push(_):p.push(_)}),f.length===i.length){const _=FTe([i[0]],e,t,n,r,s,a,o);return f.forEach(S=>{S[c]=i[0][c],S[d]=i[0][d],S[u]=i[0][u]}),_}const g=f[0];let{start:v,end:m}=BTe(g,t,n,r,h);t.start=v,t.end=m;let b=m-v;return p.forEach(_=>{_[c]=+v,_[d]=fT(_[c],+_[u]),v=_[d],b=TV(b,+_[u])}),f.forEach(_=>{_[c]=+v,_[d]=fT(_[c],b),_[u]=b}),Object.assign(Object.assign({},t),{lastIndex:e})}function FTe(i,e,t,n,r,s,a,o){const{valueField:l,startAs:u,endAs:c,total:d,seriesField:h,seriesFieldName:p}=o;return i.forEach(f=>{let g=!1;if(d&&d.type!=="end"){if((d.type==="field"||d.type==="custom")&&f[d.tagField]){g=!0;const{start:v,end:m}=BTe(f,t,n,r,d);f[u]=v,f[c]=m,f[l]=m-v,t.start=v,t.end=m}}else a===s.length-1&&(t.start=0,f[u]=t.start,f[c]=t.end,g=!0);g||(f[u]=+t.end,f[c]=fT(f[u],+f[l]),t.end=f[c]),t.isTotal=g,(Y(h)||h===JL)&&(f[JL]=g?p.total:+f[l]>=0?p.increase:p.decrease)}),Object.assign(Object.assign({},t),{lastIndex:e})}function BTe(i,e,t,n,r){return r&&r.type!=="end"?r.type==="field"||r.type==="custom"?r.type==="custom"?Ykt(i,n,r):r.collectCountField&&!Y(i[r.collectCountField])?Kkt(i,t,e,r):Xkt(i,e,r):{start:0,end:0}:Gkt(e)}function Gkt(i){return{start:0,end:i.end}}function Ykt(i,e,t){return t.product(i,e)}function Kkt(i,e,t,n){let r=0,s=t.end;const a=e.length-+i[n.collectCountField],o=e.length-1;return a<0?wf("total.collectCountField error"):r=e[a].start,o<0?wf("total.collectCountField error"):s=e[o].end,{start:r,end:s}}function Xkt(i,e,t){let n=0,r=e.end;return t.startField&&!Y(i[t.startField])&&(n=+i[t.startField]),t.valueField&&!Y(i[t.valueField])&&(r=fT(n,+i[t.valueField])),{start:n,end:r}}const qkt=(i,e)=>{if(!i)return i;const{indexField:t,valueField:n,total:r,seriesField:s}=e,a={[t]:(r==null?void 0:r.text)||"total",[n]:i.reduce((o,l)=>fT(o,+l[n]),0)};return s&&(a[s]="total"),i.push(a),i},Zkt={type:"fadeIn"},Qkt={type:"growCenterIn"};function Jkt(i,e){switch(e){case"fadeIn":return Zkt;case"scaleIn":return Qkt;default:return vP(i,!1)}}const eEt=()=>{ce.registerAnimation("waterfall",(i,e)=>({appear:Jkt(i,e),enter:vP(i,!1),exit:iw(i,!1),disappear:iw(i,!1)}))};class t2 extends Xo{constructor(){super(...arguments),this.type=t2.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{x1:0,y1:0})}}t2.type="rule";const Kw=()=>{ce.registerMark(t2.type,t2),ZX()},tEt=(i,e)=>{if(!e.fields)return i;const t={};return{dimensionValues:t,dimensionData:$Te(i.map(n=>n.latestData).flat(),e.fields,t)}};function $Te(i,e,t){if(e.length===0)return i;const n=e[0],r=e.slice(1);t[n]=new Set;const s=iEt(i,n,t[n]);return r.length?nEt(s,(a,o)=>$Te(a,r,t)):s}function iEt(i,e,t){const n={};return i.forEach(r=>{const s=r[e];n[s]||(n[s]=[],t.add(s)),n[s].push(r)}),n}function nEt(i,e){return Object.keys(i).reduce((t,n)=>(t[n]=e(i[n],n),t),{})}class rEt{get fields(){return this._fields}get groupData(){return this._groupData}constructor(e){this._fields=[],this._fields=e}initData(e,t){const n=e.name,r=new vn(t instanceof f0?t:e.dataSet);r.name=n,r.parse([e],{type:"dataview"}),pi(t,"dimensionTree",tEt),r.transform({type:"dimensionTree",options:{fields:this._fields}},!1),r.target.addListener("change",this.groupDataUpdate.bind(this)),this._groupData=r}groupDataUpdate(){}getGroupValueInField(e){var t,n,r;const s=(r=(n=(t=this.groupData)===null||t===void 0?void 0:t.latestData)===null||n===void 0?void 0:n.dimensionValues)===null||r===void 0?void 0:r[e];return s?Array.from(s):[]}}class NTe extends V${constructor(){super(...arguments),this._supportStack=!1}_transformLabelSpec(e){this._addMarkLabelSpec(e,"bar"),this._addMarkLabelSpec(e,"bar","stackLabel")}}const che={rect:dhe,symbol:jTe,arc:hhe,point:uEt,"line-data":aEt,stackLabel:zTe,line:phe,area:phe,rect3d:dhe,arc3d:hhe,treemap:hEt,venn:pEt};function sEt(i,e){var t;const{labelSpec:n}=e;return n.overlap&&!yi(n.overlap)&&(n.overlap={}),((t=che[i])!==null&&t!==void 0?t:che.point)(e)}function xq(i,e,t,n){var r;const{labelMark:s,series:a}=i,o={text:e[a.getMeasureField()[0]],data:e,textType:(r=i.labelSpec.textType)!==null&&r!==void 0?r:"text"},l=Object.keys(s.stateStyle.normal);for(const d of l){const h=s.getAttribute(d,e);o[d]=h}const{formatFunc:u,args:c}=em(t,n,o.text,e);return u&&(o.text=u(...c,{series:a})),o}function wq(i){return Pe(i)?e=>i(e.data):i}function jTe(i){var e,t,n;const{series:r,labelSpec:s}=i,a=r.direction==="horizontal"?"right":"top",o=(e=wq(s.position))!==null&&e!==void 0?e:a;let l;return l=s.overlap!==!1&&{strategy:(n=(t=s.overlap)===null||t===void 0?void 0:t.strategy)!==null&&n!==void 0?n:oEt(),avoidBaseMark:o!=="center"},{position:o,overlap:l}}function aEt(i){const e=jTe(i);return Ir(e.overlap)||(e.overlap.avoidBaseMark=!1),e}function oEt(){return[{type:"position",position:["top","bottom","right","left","top-right","top-left","bottom-left","bottom-right"]}]}function dhe(i){var e,t,n,r,s,a;const{series:o,labelSpec:l={}}=i,u=(e=wq(l.position))!==null&&e!==void 0?e:"outside",c=(t=o.direction)!==null&&t!==void 0?t:"vertical",d=o.direction==="horizontal"?(n=o.getXAxisHelper())===null||n===void 0?void 0:n.isInverse():(r=o.getYAxisHelper())===null||r===void 0?void 0:r.isInverse();let h,p=u;ct(u)&&u==="outside"&&(p=g=>{const{data:v}=g,m=o.getMeasureField()[0],b=(v==null?void 0:v[m])>=0&&d||(v==null?void 0:v[m])<0&&!d?1:0;return{vertical:["top","bottom"],horizontal:["right","left"]}[c][b]}),h=l.overlap!==!1&&{strategy:(a=(s=l.overlap)===null||s===void 0?void 0:s.strategy)!==null&&a!==void 0?a:lEt(o)};let f=!1;return ct(u)&&u.includes("inside")&&(f=!0),{position:p,overlap:h,smartInvert:f}}function lEt(i){return[{type:"position",position:e=>{var t,n;const{data:r}=e,s=i.getMeasureField()[0];return(i.direction==="horizontal"?!((t=i.getXAxisHelper())===null||t===void 0)&&t.isInverse():!((n=i.getYAxisHelper())===null||n===void 0)&&n.isInverse())?(r==null?void 0:r[s])>=0?i.direction==="horizontal"?["left","inside-left"]:["bottom","inside-bottom"]:i.direction==="horizontal"?["right","inside-right"]:["top","inside-top"]:(r==null?void 0:r[s])>=0?i.direction==="horizontal"?["right","inside-right"]:["top","inside-top"]:i.direction==="horizontal"?["left","inside-left"]:["bottom","inside-bottom"]}}]}function uEt(i){const{labelSpec:e}=i;let t;return t=e.overlap!==!1&&{avoidBaseMark:!1},{position:"center",overlap:t}}function hhe(i){var e;const{labelSpec:t}=i,n=(e=wq(t.position))!==null&&e!==void 0?e:"outside",r=n;let s;return s=t.smartInvert?t.smartInvert:ct(n)&&n.includes("inside"),{position:r,smartInvert:s}}function cEt(i,e,t,n){return e.direction==="horizontal"?t==="middle"?.5*(e.totalPositionX(i,"end")+e.totalPositionY(i,"start")):t==="max"?e.totalPositionX(i,i.end>=i.start?"end":"start")+n:t==="min"?e.totalPositionX(i,i.end>=i.start?"start":"end")-n:e.totalPositionX(i,"end")+(i.end>=i.start?n:-n):e.totalPositionX(i,"index",.5)}function dEt(i,e,t,n){return e.direction==="horizontal"?e.totalPositionY(i,"index",.5):t==="middle"?.5*(e.totalPositionY(i,"end")+e.totalPositionY(i,"start")):t==="max"?e.totalPositionY(i,i.end>=i.start?"end":"start")-n:t==="min"?e.totalPositionY(i,i.end>=i.start?"start":"end")+n:e.totalPositionY(i,"end")+(i.end>=i.start?-n:n)}function zTe(i,e,t){const n=i.series,r=i.labelSpec||{},s=n.getTotalData();return{customLayoutFunc:a=>a.map(o=>{const l=r.position||"withChange",u=r.offset||0,c=e?e(o.data):o.data,d=xq(i,c,r.formatMethod);return d.x=cEt(c,n,l,u),d.y=dEt(c,n,l,u),n.direction==="horizontal"?d.textAlign=l==="middle"?"center":l==="withChange"&&c.end-c.start>=0||l==="max"?"left":"right":d.textBaseline=l==="middle"?l:l==="withChange"&&c.end-c.start>=0||l==="max"?"bottom":"top",t==null||t(o,c,d),Ux(Object.assign(Object.assign({},d),{id:o.id}))}),dataFilter:a=>{const o=[];return s.forEach(l=>{const u=a.find(c=>{var d;return l.index===((d=c.data)===null||d===void 0?void 0:d[n.getDimensionField()[0]])});u&&(u.data=l,o.push(u))}),o},overlap:{strategy:[]}}}function hEt(i){return{customLayoutFunc:(e,t)=>t,overlap:!1}}function pEt(i){return{customLayoutFunc:(e,t)=>t,smartInvert:!0}}function phe(i){var e,t,n,r;const{labelSpec:s,series:a}=i,o=(n=(t=(e=a.getViewDataStatistics)===null||e===void 0?void 0:e.call(a).latestData)===null||t===void 0?void 0:t[a.getSeriesField()])===null||n===void 0?void 0:n.values,l=o?o.map((u,c)=>({[a.getSeriesField()]:u,index:c})):[];return{position:(r=s.position)!==null&&r!==void 0?r:"end",data:l}}class y_ extends sp{constructor(){super(...arguments),this.type=xe.waterfall,this.transformerConstructor=NTe,this._leaderLineMark=null,this._stackLabelMark=null,this._labelMark=null}getTotalData(){var e;return(e=this._totalData)===null||e===void 0?void 0:e.getLatestData()}initGroups(){const e=this.getGroupFields();e&&e.length&&(this._groups=new rEt(e),this._data&&this._groups.initData(this._data.getDataView(),this._dataSet))}setAttrFromSpec(){super.setAttrFromSpec(),this.setValueFieldToStack(),this._fieldX=[this._fieldX[0]],this._fieldY=[this._fieldY[0]],Y(this._seriesField)&&(this._seriesField=JL)}getSeriesKeys(){return this._seriesField===JL?[this._theme.seriesFieldName.increase,this._theme.seriesFieldName.decrease,this._theme.seriesFieldName.total]:super.getSeriesKeys()}initData(){var e;super.initData(),pi(this._dataSet,"waterfallFillTotal",qkt),pi(this._dataSet,"waterfall",Wkt),(Y(this._spec.total)||this._spec.total.type==="end")&&((e=this._rawData)===null||e===void 0||e.transform({type:"waterfallFillTotal",options:{indexField:this.getGroupFields()[0],valueField:this.getStackValueField(),seriesField:this.getSeriesField(),seriesFieldName:this._theme.seriesFieldName,total:this._spec.total}},!1));const t=YW(this.getViewData(),this._dataSet,{name:`${Ut}_series_${this.id}_totalData`});this.getViewData().target.removeListener("change",t.reRunAllTransform),this._totalData=new kf(this._option,t),t.transform({type:"waterfall",options:{indexField:this.getGroupFields()[0],valueField:this.getStackValueField(),seriesField:this.getSeriesField(),seriesFieldName:this._theme.seriesFieldName,startAs:Uu,endAs:aa,total:this._spec.total,groupData:()=>this.getGroups().groupData}},!1)}initAnimation(){var e,t,n,r;const s={yField:this.direction==="horizontal"?this._fieldY[0]:this.getStackValueField(),xField:this.direction==="horizontal"?this.getStackValueField():this._fieldX[0],direction:this.direction,growFrom:()=>{var l,u;return this.direction==="horizontal"?(l=this._xAxisHelper)===null||l===void 0?void 0:l.getScale(0).scale(0):(u=this._yAxisHelper)===null||u===void 0?void 0:u.getScale(0).scale(0)}},a=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset,o=D0(this);this._barMark.setAnimationConfig(Yi((n=ce.getAnimationInKey("waterfall"))===null||n===void 0?void 0:n(s,a),an("bar",this._spec,this._markAttributeContext),o)),this._leaderLineMark&&this._leaderLineMark.setAnimationConfig(Yi((r=ce.getAnimationInKey("fadeInOut"))===null||r===void 0?void 0:r(),an("leaderLine",this._spec,this._markAttributeContext)))}viewDataUpdate(e){this._totalData.getDataView().reRunAllTransform(),this._totalData.updateData(),super.viewDataUpdate(e)}addViewDataFilter(e){}reFilterViewData(){}onEvaluateEnd(e){super.onEvaluateEnd(e),this._totalData.updateData()}initMark(){var e,t;super.initMark();const n=this._createMark(y_.mark.leaderLine,{key:"index",customShape:(e=this._spec.leaderLine)===null||e===void 0?void 0:e.customShape,stateSort:(t=this._spec.leaderLine)===null||t===void 0?void 0:t.stateSort});n&&(this._leaderLineMark=n,n.setDataView(this._totalData.getDataView(),this._totalData.getProductId()))}initLabelMarkStyle(e){var t;if(e){if(!this._labelMark&&(!((t=this._spec.label)===null||t===void 0)&&t.visible))return super.initLabelMarkStyle(e),void(this._labelMark=e);this._stackLabelMark=e,e.skipEncode=!0,e.setRule("stackLabel"),e.setDataView(this._totalData.getDataView(),this._totalData.getProductId()),this.setMarkStyle(e,{text:n=>{var r;return((r=this._spec.stackLabel)===null||r===void 0?void 0:r.valueType)==="absolute"?n.end:TV(n.end,n.start)}})}}initTotalLabelMarkStyle(e){this.setMarkStyle(e,{text:t=>{var n;return"end"in t?((n=this._spec.totalLabel)===null||n===void 0?void 0:n.valueType)==="absolute"?t.end:TV(t.end,t.start):this.direction==="horizontal"?t[this._fieldX[0]]:t[this._fieldY[0]]}})}getTotalLabelComponentStyle(e){return zTe(Object.assign(Object.assign({},e),{series:this,labelSpec:this._spec.totalLabel}),t=>{const n=this.direction==="vertical"?t[this._fieldX[0]]:t[this._fieldY[0]];return this._totalData.getLatestData().find(r=>r.index===n)})}totalPositionX(e,t,n=.5){const{dataToPosition:r,getBandwidth:s}=this._xAxisHelper;return this._direction==="horizontal"?kn(r([e[t]],{bandPosition:this._bandPosition})):r([e[t]],{bandPosition:this._bandPosition})+.5*s(0)-this._barMark.getAttribute("width",e)*(.5-n)}totalPositionY(e,t,n=.5){const{dataToPosition:r,getBandwidth:s}=this._yAxisHelper;return this._direction==="horizontal"?r([e[t]],{bandPosition:this._bandPosition})+.5*s(0)-this._barMark.getAttribute("height",e)*(.5-n):kn(r([e[t]],{bandPosition:this._bandPosition}))}initMarkStyle(){super.initMarkStyle(),this._leaderLineMark&&(this._direction==="horizontal"?this.setMarkStyle(this._leaderLineMark,{visible:e=>!Y(e.lastIndex),x:e=>this.totalPositionX(e,"lastEnd",0),x1:e=>this.totalPositionX(e,e.isTotal?"end":"start",0),y:e=>e.lastIndex?this.totalPositionY(e,"lastIndex",1):0,y1:e=>this.totalPositionY(e,"index",0)},"normal",Ve.Series):this.setMarkStyle(this._leaderLineMark,{visible:e=>!Y(e.lastIndex),x:e=>e.lastIndex?this.totalPositionX(e,"lastIndex",1):0,x1:e=>this.totalPositionX(e,"index",0),y:e=>this.totalPositionY(e,"lastEnd",0),y1:e=>this.totalPositionY(e,e.isTotal?"end":"start",0)},"normal",Ve.Series))}}y_.type=xe.waterfall,y_.mark=eAe,y_.transformerConstructor=NTe;const fEt=()=>{Kw(),bm(),eEt(),vm(),Qu(),Zu(),ce.registerSeries(y_.type,y_)},i2=`${Ut}_BOX_PLOT_OUTLIER_VALUE`;var sr;(function(i){i.OUTLIER="outlier",i.MAX="max",i.MIN="min",i.MEDIAN="median",i.Q1="q1",i.Q3="q3",i.SERIES_FIELD="seriesField"})(sr||(sr={}));const gEt=(i,e)=>{const t=[],{outliersField:n,dimensionField:r}=e;return(i[0].latestData||[]).forEach(s=>{let a=s[n];ke(a)||(a=[a]),t.push(...a.map(o=>{const l={[i2]:o};return r.forEach(u=>{l[u]=s[u]}),l}))}),t};class mEt extends hu{constructor(){super(...arguments),this.getContentKey=e=>t=>{if(this.isOutlierMark(t))return e===sr.OUTLIER?this.series.getOutliersField():e===sr.SERIES_FIELD?this.series.getSeriesField():null;switch(e){case sr.MIN:return this.series.getMinField();case sr.MAX:return this.series.getMaxField();case sr.MEDIAN:return this.series.getMedianField();case sr.Q1:return this.series.getQ1Field();case sr.Q3:return this.series.getQ3Field();case sr.SERIES_FIELD:return this.series.getSeriesField()}return null},this.getContentValue=e=>t=>{if(this.isOutlierMark(t))return e===sr.OUTLIER?t[i2]:e===sr.SERIES_FIELD?t[this.series.getSeriesField()]:null;switch(e){case sr.MIN:return t[this.series.getMinField()];case sr.MAX:return t[this.series.getMaxField()];case sr.MEDIAN:return t[this.series.getMedianField()];case sr.Q1:return t[this.series.getQ1Field()];case sr.Q3:return t[this.series.getQ3Field()];case sr.SERIES_FIELD:return t[this.series.getSeriesField()]}return null},this.shapeColorCallback=e=>this.series.getShaftShape()==="line"?this.series.getMarkInName("boxPlot").getAttribute("stroke",e):this.series.getMarkInName("boxPlot").getAttribute("fill",e),this.getOutlierFillColor=e=>{var t;const n=this.series.getOutliersStyle();return(t=n==null?void 0:n.fill)!==null&&t!==void 0?t:this.series.getMarkInName("outlier").getAttribute("fill",e)},this.isOutlierMark=e=>X(e[i2])}getDefaultTooltipPattern(e){return{visible:!0,activeType:e,title:{key:void 0,value:this.dimensionTooltipTitleCallback,hasShape:!1},content:[{key:this.getContentKey(sr.OUTLIER),value:this.getContentValue(sr.OUTLIER),hasShape:!0,shapeType:this.shapeTypeCallback,shapeColor:this.getOutlierFillColor,shapeStroke:this.getOutlierFillColor,shapeHollow:!1},{key:this.getContentKey(sr.MAX),value:this.getContentValue(sr.MAX),hasShape:!0,shapeType:this.shapeTypeCallback,shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,shapeHollow:!1},{key:this.getContentKey(sr.Q3),value:this.getContentValue(sr.Q3),hasShape:!0,shapeType:this.shapeTypeCallback,shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,shapeHollow:!1},{key:this.getContentKey(sr.MEDIAN),value:this.getContentValue(sr.MEDIAN),hasShape:!0,shapeType:this.shapeTypeCallback,shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,shapeHollow:!1},{key:this.getContentKey(sr.Q1),value:this.getContentValue(sr.Q1),hasShape:!0,shapeType:this.shapeTypeCallback,shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,shapeHollow:!1},{key:this.getContentKey(sr.MIN),value:this.getContentValue(sr.MIN),hasShape:!0,shapeType:this.shapeTypeCallback,shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,shapeHollow:!1},{key:this.getContentKey(sr.SERIES_FIELD),value:this.getContentValue(sr.SERIES_FIELD),hasShape:!0,shapeType:this.shapeTypeCallback,shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,shapeHollow:!1}]}}}class n2 extends Xo{constructor(){super(...arguments),this.type=n2.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{lineWidth:2,boxWidth:30,shaftWidth:20,shaftShape:"line"})}_initProduct(e){const t=this.getStyle("shaftShape"),n=this.getVGrammarView(),r=this.getProductId(),s=t==="bar"?"barBoxplot":"boxplot",a=this.getStyle("direction");this._product=n.glyph(s,e??n.rootMark).id(r).configureGlyph({direction:a}),this._compiledProductId=r}}n2.type="boxPlot";const vEt=()=>{ce.registerMark(n2.type,n2),rbt(),lbt()};class ib extends sh{constructor(){super(...arguments),this.type=xe.boxPlot}getMinField(){return this._minField}getMaxField(){return this._maxField}getQ1Field(){return this._q1Field}getMedianField(){return this._medianField}getQ3Field(){return this._q3Field}getOutliersField(){return this._outliersField}getShaftShape(){return this._shaftShape}getBoxFillColor(){return this._boxFillColor}getStrokeColor(){return this._strokeColor}getOutliersStyle(){return this._outliersStyle}setAttrFromSpec(){var e,t,n,r,s;super.setAttrFromSpec();const a=(t=(e=this._spec.boxPlot)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{};this._minField=this._spec.minField,this._maxField=this._spec.maxField,this._q1Field=this._spec.q1Field,this._medianField=this._spec.medianField,this._q3Field=this._spec.q3Field,this._outliersField=this._spec.outliersField,this._lineWidth=(n=a.lineWidth)!==null&&n!==void 0?n:2,this._boxWidth=a.boxWidth,this._shaftShape=(r=a.shaftShape)!==null&&r!==void 0?r:"line",this._shaftWidth=a.shaftWidth,this._boxFillColor=a.boxFill,this._strokeColor=a.stroke,this._shaftFillOpacity=this._shaftShape==="bar"?(s=a.shaftFillOpacity)!==null&&s!==void 0?s:.5:void 0,this._outliersStyle=this._spec.outliersStyle}initMark(){const e={progressiveStep:this._spec.progressiveStep,progressiveThreshold:this._spec.progressiveThreshold,large:this._spec.large,largeThreshold:this._spec.largeThreshold};this._boxPlotMark=this._createMark(ib.mark.boxPlot,{isSeriesMark:!0,progressive:e}),this._outlierMark=this._createMark(ib.mark.outlier,{progressive:e,key:Tl,dataView:this._outlierDataView.getDataView(),dataProductId:this._outlierDataView.getProductId()})}initMarkStyle(){var e,t,n,r,s;const a=this._boxPlotMark;if(a){const l={direction:this._direction,lineWidth:this._lineWidth,shaftShape:this._shaftShape,fill:(e=this._boxFillColor)!==null&&e!==void 0?e:this._shaftShape==="line"?"#FFF":this.getColorAttribute(),minMaxFillOpacity:this._shaftFillOpacity,stroke:(t=this._strokeColor)!==null&&t!==void 0?t:this._shaftShape==="line"?this.getColorAttribute():"#000"},u=this._direction==="horizontal"?Object.assign(Object.assign({y:this.dataToPositionY.bind(this)},l),{boxHeight:()=>{var c;return(c=this._boxWidth)!==null&&c!==void 0?c:this._getMarkWidth()},ruleHeight:()=>{var c;return(c=this._shaftWidth)!==null&&c!==void 0?c:this._getMarkWidth()},q1q3Height:()=>{var c;return(c=this._boxWidth)!==null&&c!==void 0?c:this._getMarkWidth()},minMaxHeight:()=>{var c;return(c=this._shaftWidth)!==null&&c!==void 0?c:this._getMarkWidth()}}):Object.assign(Object.assign({x:this.dataToPositionX.bind(this)},l),{boxWidth:()=>{var c;return(c=this._boxWidth)!==null&&c!==void 0?c:this._getMarkWidth()},ruleWidth:()=>{var c;return(c=this._shaftWidth)!==null&&c!==void 0?c:this._getMarkWidth()},q1q3Width:()=>{var c;return(c=this._boxWidth)!==null&&c!==void 0?c:this._getMarkWidth()},minMaxWidth:()=>{var c;return(c=this._shaftWidth)!==null&&c!==void 0?c:this._getMarkWidth()}});this.setMarkStyle(a,u,mt.STATE_NORMAL,Ve.Series)}const o=this._outlierMark;o&&this.setMarkStyle(o,{fill:(r=(n=this._outliersStyle)===null||n===void 0?void 0:n.fill)!==null&&r!==void 0?r:this.getColorAttribute(),size:Xe((s=this._outliersStyle)===null||s===void 0?void 0:s.size)?this._outliersStyle.size:10,symbolType:"circle"},mt.STATE_NORMAL,Ve.Series)}initBoxPlotMarkStyle(){var e,t;const n=this._boxPlotMark,r=this._direction==="horizontal"?this._xAxisHelper:this._yAxisHelper;if(n&&r){const{dataToPosition:a}=r,o=(e=r==null?void 0:r.getScale)===null||e===void 0?void 0:e.call(r,0);this.setMarkStyle(n,{min:l=>kn(a(this.getDatumPositionValues(l,this._minField),{bandPosition:this._bandPosition}),o),q1:l=>kn(a(this.getDatumPositionValues(l,this._q1Field),{bandPosition:this._bandPosition}),o),median:l=>kn(a(this.getDatumPositionValues(l,this._medianField),{bandPosition:this._bandPosition}),o),q3:l=>kn(a(this.getDatumPositionValues(l,this._q3Field),{bandPosition:this._bandPosition}),o),max:l=>kn(a(this.getDatumPositionValues(l,this._maxField),{bandPosition:this._bandPosition}),o)},mt.STATE_NORMAL,Ve.Series)}const s=this._outlierMark;if(s&&r){const{dataToPosition:a}=r,o=(t=r==null?void 0:r.getScale)===null||t===void 0?void 0:t.call(r,0),l=this._direction==="horizontal"?{y:this.dataToPositionY.bind(this),x:u=>kn(a(this.getDatumPositionValues(u,i2),{bandPosition:this._bandPosition}),o)}:{x:this.dataToPositionX.bind(this),y:u=>kn(a(this.getDatumPositionValues(u,i2),{bandPosition:this._bandPosition}),o)};this.setMarkStyle(s,l,mt.STATE_NORMAL,Ve.Series)}}initData(){if(super.initData(),!this._data)return;pi(this._dataSet,"foldOutlierData",gEt),pi(this._dataSet,"addVChartProperty",Yw);const e=new vn(this._dataSet,{name:`${this.type}_outlier_${this.id}_data`});e.parse([this.getViewData()],{type:"dataview"}),e.name=`${Ut}_series_${this.id}_outlierData`,e.transform({type:"foldOutlierData",options:{dimensionField:this._direction==="horizontal"?this._fieldY:this._fieldX,outliersField:this._outliersField}}),e.transform({type:"addVChartProperty",options:{beforeCall:tw.bind(this),call:eb}},!1),this._outlierDataView=new kf(this._option,e)}init(e){super.init(e),this.initBoxPlotMarkStyle()}_getMarkWidth(){if(this._autoBoxWidth)return this._autoBoxWidth;const e=this._direction==="horizontal"?this._yAxisHelper:this._xAxisHelper,t=this._direction==="horizontal"?this._fieldY:this._fieldX,n=e.getBandwidth(t.length-1)/t.length;return this._autoBoxWidth=n,this._autoBoxWidth}onLayoutEnd(e){super.onLayoutEnd(e),this._autoBoxWidth=null}_initAnimationSpec(e={}){const t=Ie({},e);return["appear","enter","update","exit","disappear"].forEach(n=>{t[n]&&t[n].type==="scaleIn"?t[n].type=this._shaftShape==="line"?"boxplotScaleIn":"barBoxplotScaleIn":t[n]&&t[n].type==="scaleOut"&&(t[n].type=this._shaftShape==="line"?"boxplotScaleOut":"barBoxplotScaleOut")}),t}initAnimation(){var e,t,n,r,s,a,o;const l=D0(this);if(this._boxPlotMark){const u=this._initAnimationSpec((e=ce.getAnimationInKey("scaleInOut"))===null||e===void 0?void 0:e()),c=this._initAnimationSpec(an("boxPlot",this._spec,this._markAttributeContext));this._boxPlotMark.setAnimationConfig(Yi(u,c,l))}if(this._outlierMark){const u={appear:(t=this._spec.animationAppear)===null||t===void 0?void 0:t.symbol,disappear:(n=this._spec.animationDisappear)===null||n===void 0?void 0:n.symbol,enter:(r=this._spec.animationEnter)===null||r===void 0?void 0:r.symbol,exit:(s=this._spec.animationExit)===null||s===void 0?void 0:s.symbol,update:(a=this._spec.animationUpdate)===null||a===void 0?void 0:a.symbol};this._outlierMark.setAnimationConfig(Yi((o=ce.getAnimationInKey("scaleInOut"))===null||o===void 0?void 0:o(),u,l))}}initTooltip(){this._tooltipHelper=new mEt(this),this._boxPlotMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._boxPlotMark),this._outlierMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._outlierMark)}getStatisticFields(){const e=super.getStatisticFields(),t=e.find(n=>n.key===this._outliersField);return t&&(t.operations=["array-min","array-max"]),e}onEvaluateEnd(e){super.onEvaluateEnd(e),this._outlierDataView.updateData()}getDefaultShapeType(){return"square"}getActiveMarks(){return[this._boxPlotMark]}}ib.type=xe.boxPlot,ib.mark=tAe;const yEt=()=>{vEt(),_m(),L$(),Qu(),Zu(),ce.registerSeries(ib.type,ib)};class nw extends Xo{getTextType(){return this._textType}constructor(e,t){super(e,t),this.type=nw.type,this._textType="text"}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{angle:0,textAlign:"center",lineWidth:0,textConfig:[]})}initStyleWithSpec(e,t){super.initStyleWithSpec(e,t),e.textType&&(this._textType=e.textType)}compileEncode(){super.compileEncode(),this._textType==="rich"&&this._product.encodeState("group",{textType:this._textType})}}nw.type="text";const Ju=()=>{ce.registerMark(nw.type,nw),_Ee(),J_t()};function fhe(i,e,t,n,r,s,a,o,l){i.setMarkStyle(e,{textAlign:u=>{if(l()==="vertical")return"center";const c=r(u),d=s(u);if(t==="middle")return"center";if(c>=d){if(t==="start")return"left";if(t==="end")return"right";if(t==="outside")return"left"}else{if(t==="start")return"right";if(t==="end")return"left";if(t==="outside")return"right"}return"center"},textBaseline:u=>{if(l()==="horizontal")return"middle";const c=a(u),d=o(u);if(t==="middle")return"middle";if(d>=c){if(t==="start")return"bottom";if(t==="end")return"top";if(t==="outside")return"bottom"}else{if(t==="start")return"top";if(t==="end")return"bottom";if(t==="outside")return"top"}return"middle"}}),i.setMarkStyle(e,{x:u=>{const c=l(),d=r(u),h=s(u);if(c==="vertical"||t==="middle")return(d+h)/2;if(d>=h){if(t==="start")return h+n;if(t==="end")return d-n;if(t==="outside")return d+n}else{if(t==="start")return h-n;if(t==="end")return d+n;if(t==="outside")return d-n}return(d+h)/2},y:u=>{const c=l(),d=a(u),h=o(u);if(c==="horizontal"||t==="middle")return(d+h)/2;if(d>=h){if(t==="start")return h+n;if(t==="end")return d-n;if(t==="outside")return d+n}else{if(t==="start")return h-n;if(t==="end")return d+n;if(t==="outside")return d-n}return(d+h)/2}},"normal",Ve.Series)}class _Et extends hu{getDefaultTooltipPattern(e){return{visible:!0,activeType:e,title:{key:void 0,value:this.dimensionTooltipTitleCallback,hasShape:!1},content:[{key:this.markTooltipKeyCallback,value:t=>this.series.getSpec().direction==="horizontal"?t[this.series.getSpec().xField[0]]+"-"+t[this.series.getSpec().xField[1]]:t[this.series.getSpec().yField[0]]+"-"+t[this.series.getSpec().yField[1]],hasShape:!0,shapeType:this.shapeTypeCallback,shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,shapeHollow:!1}]}}}const HTe=i=>({type:"growCenterIn",options:{direction:i.direction==="horizontal"?"x":"y"}}),bEt={type:"fadeIn"},ghe=i=>({type:"growCenterOut",options:{direction:i.direction==="horizontal"?"x":"y"}});function SEt(i,e){return e==="fadeIn"?bEt:HTe(i)}const xEt=()=>{ce.registerAnimation("rangeColumn",(i,e)=>({appear:SEt(i,e),enter:HTe(i),exit:ghe(i),disappear:ghe(i)}))};class VTe extends V${constructor(){super(...arguments),this._supportStack=!1}_transformLabelSpec(e){var t;((t=e.label)===null||t===void 0?void 0:t.position)!=="bothEnd"&&this._addMarkLabelSpec(e,"bar")}}class Xh extends sp{constructor(){super(...arguments),this.type=xe.rangeColumn,this._barMarkType="rect",this._barName=xe.bar,this.transformerConstructor=VTe}initMark(){var e,t,n,r,s,a,o,l,u,c;this._initBarBackgroundMark();const d=(e=this._spec.label)===null||e===void 0?void 0:e.position;this._barMark=this._createMark(Xh.mark.bar,{morph:ym(this._spec,Xh.mark.bar.name),defaultMorphElementKey:this.getDimensionField()[0],groupKey:this._seriesField,isSeriesMark:!0,customShape:(t=this._spec.bar)===null||t===void 0?void 0:t.customShape,stateSort:(n=this._spec.bar)===null||n===void 0?void 0:n.stateSort}),((r=this._spec.label)===null||r===void 0?void 0:r.visible)!==!1&&d==="bothEnd"&&(((a=(s=this._spec.label)===null||s===void 0?void 0:s.minLabel)===null||a===void 0?void 0:a.visible)!==!1&&(this._minLabelMark=this._createMark(Xh.mark.minLabel,{markSpec:(o=this._spec.label)===null||o===void 0?void 0:o.minLabel})),((u=(l=this._spec.label)===null||l===void 0?void 0:l.maxLabel)===null||u===void 0?void 0:u.visible)!==!1&&(this._maxLabelMark=this._createMark(Xh.mark.maxLabel,{markSpec:(c=this._spec.label)===null||c===void 0?void 0:c.maxLabel})))}initMarkStyle(){var e,t,n,r,s,a,o,l,u,c;super.initMarkStyle();const d=this._minLabelMark,h=(e=this._spec.label)===null||e===void 0?void 0:e.minLabel;if(d){this.setMarkStyle(d,{fill:(n=(t=h==null?void 0:h.style)===null||t===void 0?void 0:t.fill)!==null&&n!==void 0?n:this.getColorAttribute(),text:m=>{const b=this._spec.direction==="horizontal"?m[this._spec.xField[0]]:m[this._spec.yField[0]];return h!=null&&h.formatMethod?h.formatMethod(b,m):b}});const g=(r=h==null?void 0:h.position)!==null&&r!==void 0?r:"end",v=(s=h==null?void 0:h.offset)!==null&&s!==void 0?s:this._direction==="vertical"?-20:-25;fhe(this,d,g,v,m=>this._barMark.getAttribute("x",m),m=>this._direction==="vertical"?this._barMark.getAttribute("x",m)+this._barMark.getAttribute("width",m):this._barMark.getAttribute("x1",m),m=>this._barMark.getAttribute("y",m),m=>this._direction==="vertical"?this._barMark.getAttribute("y1",m):this._barMark.getAttribute("y",m)+this._barMark.getAttribute("height",m),()=>this._direction)}const p=this._maxLabelMark,f=(a=this._spec.label)===null||a===void 0?void 0:a.maxLabel;if(p){this.setMarkStyle(p,{fill:(l=(o=f==null?void 0:f.style)===null||o===void 0?void 0:o.fill)!==null&&l!==void 0?l:this.getColorAttribute(),text:m=>{const b=this._spec.direction==="horizontal"?m[this._spec.xField[1]]:m[this._spec.yField[1]];return f!=null&&f.formatMethod?f.formatMethod(b,m):b}});const g=(u=f==null?void 0:f.position)!==null&&u!==void 0?u:"start",v=(c=f==null?void 0:f.offset)!==null&&c!==void 0?c:this._direction==="vertical"?-20:-25;fhe(this,p,g,v,m=>this._barMark.getAttribute("x",m),m=>this._direction==="vertical"?this._barMark.getAttribute("x",m)+this._barMark.getAttribute("width",m):this._barMark.getAttribute("x1",m),m=>this._barMark.getAttribute("y",m),m=>this._direction==="vertical"?this._barMark.getAttribute("y1",m):this._barMark.getAttribute("y",m)+this._barMark.getAttribute("height",m),()=>this._direction)}}initLabelMarkStyle(e){e&&(this.setMarkStyle(e,{text:t=>{let n,r;return this._spec.direction==="horizontal"?(n=t[this._spec.xField[0]],r=t[this._spec.xField[1]]):(n=t[this._spec.yField[0]],r=t[this._spec.yField[1]]),n+"-"+r},z:this._fieldZ?this.dataToPositionZ.bind(this):null}),this._labelMark=e)}_dataToPosX(e){return this._xAxisHelper.dataToPosition(this.getDatumPositionValues(e,this._spec.xField[0]),{bandPosition:this._bandPosition})}_dataToPosX1(e){return this._xAxisHelper.dataToPosition(this.getDatumPositionValues(e,this._spec.xField[1]),{bandPosition:this._bandPosition})}_dataToPosY(e){return this._yAxisHelper.dataToPosition(this.getDatumPositionValues(e,this._spec.yField[0]),{bandPosition:this._bandPosition})}_dataToPosY1(e){return this._yAxisHelper.dataToPosition(this.getDatumPositionValues(e,this._spec.yField[1]),{bandPosition:this._bandPosition})}initAnimation(){var e,t,n,r,s;const a=D0(this),o=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;this._barMark.setAnimationConfig(Yi((n=ce.getAnimationInKey("rangeColumn"))===null||n===void 0?void 0:n({direction:this.direction},o),an("bar",this._spec,this._markAttributeContext),a)),this._minLabelMark&&this._minLabelMark.setAnimationConfig(Yi((r=ce.getAnimationInKey("fadeInOut"))===null||r===void 0?void 0:r(),an("label",this._spec,this._markAttributeContext),a)),this._maxLabelMark&&this._maxLabelMark.setAnimationConfig(Yi((s=ce.getAnimationInKey("fadeInOut"))===null||s===void 0?void 0:s(),an("label",this._spec,this._markAttributeContext),a))}initTooltip(){this._tooltipHelper=new _Et(this),this._barMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._barMark),this._minLabelMark&&this._tooltipHelper.ignoreTriggerSet.mark.add(this._minLabelMark),this._maxLabelMark&&this._tooltipHelper.ignoreTriggerSet.mark.add(this._maxLabelMark),this._labelMark&&this._tooltipHelper.ignoreTriggerSet.mark.add(this._labelMark)}}Xh.type=xe.rangeColumn,Xh.mark=oAe,Xh.transformerConstructor=VTe;const wEt=()=>{bm(),Ju(),xEt(),vm(),Qu(),Zu(),ce.registerSeries(Xh.type,Xh)};class mF extends Xh{constructor(){super(...arguments),this.type=xe.rangeColumn3d,this._barMarkType="rect3d",this._barName=xe.bar3d}}mF.type=xe.rangeColumn3d,mF.mark=lAe;const CEt=()=>{yq(),Qu(),Zu(),ce.registerSeries(mF.type,mF)};class kEt extends hu{getDefaultTooltipPattern(e,t){switch(e){case"mark":case"group":return{visible:!0,activeType:e,title:{key:void 0,value:this.dimensionTooltipTitleCallback,hasShape:!1},content:[{key:this.markTooltipKeyCallback,value:this.markTooltipValueCallback,hasShape:!0,shapeType:this.shapeTypeCallback,shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,shapeHollow:!1}]};case"dimension":if(t){const n={key:void 0,value:this._getDimensionData,hasShape:!1},r=[];return t.forEach(({data:s})=>s.forEach(({series:a})=>{a.type==="rangeArea"&&r.push({seriesId:a.id,key:this.markTooltipKeyCallback,value:o=>this.series.getSpec().direction==="horizontal"?o[this.series.getSpec().xField[0]]+"-"+o[this.series.getSpec().xField[1]]:o[this.series.getSpec().yField[0]]+"-"+o[this.series.getSpec().yField[1]],hasShape:!0,shapeType:this.shapeTypeCallback,shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,shapeHollow:!1})})),{visible:!0,activeType:e,title:n,content:r}}}return null}}class rw extends Ig{constructor(){super(...arguments),this.type=xe.rangeArea}initMark(){var e;const{customShape:t,stateSort:n}=(e=this._spec.area)!==null&&e!==void 0?e:{};this._areaMark=this._createMark(rw.mark.area,{defaultMorphElementKey:this.getDimensionField()[0],groupKey:this._seriesField,isSeriesMark:!0,customShape:t,stateSort:n})}initMarkStyle(){this.initAreaMarkStyle()}initAreaMarkStyle(){const e=this._areaMark;e&&(super.initAreaMarkStyle(),this._direction==="horizontal"?this.setMarkStyle(this._areaMark,{x1:t=>{if(!this._xAxisHelper)return Number.NaN;const{dataToPosition:n}=this._xAxisHelper;return n(this.getDatumPositionValues(t,this._spec.xField[1]),{bandPosition:this._bandPosition})}},"normal",Ve.Series):this.setMarkStyle(this._areaMark,{y1:t=>{if(!this._yAxisHelper)return Number.NaN;const{dataToPosition:n}=this._yAxisHelper;return n(this.getDatumPositionValues(t,this._spec.yField[1]),{bandPosition:this._bandPosition})}},"normal",Ve.Series),this.setMarkStyle(e,{stroke:!1},"normal",Ve.Series))}initTooltip(){this._tooltipHelper=new kEt(this),this._areaMark&&this._tooltipHelper.activeTriggerSet.dimension.add(this._areaMark)}_isFieldAllValid(){const e=this.getViewDataStatistics(),t=this.fieldY;return!!(e&&e.latestData&&t.length)&&t.every(n=>e.latestData[n]&&e.latestData[n].allValid)}}rw.type=xe.rangeArea,rw.mark=hAe;const EEt=()=>{H$(),Qu(),Zu(),ce.registerSeries(rw.type,rw)};class yP extends tb{constructor(){super(...arguments),this.coordinate="polar",this._outerRadius=$T,this._innerRadius=0,this._angleField=[],this._radiusField=[],this._sortDataByAxis=!1}get outerRadius(){return this._outerRadius}get innerRadius(){return this._innerRadius}getAngleField(){return this._angleField}setAngleField(e){return this._angleField=X(e)?we(e):[],this._angleField}getRadiusField(){return this._radiusField}setRadiusField(e){return this._radiusField=X(e)?we(e):[],this._radiusField}get innerRadiusField(){return this._innerRadiusField}setInnerRadiusField(e){return this._innerRadiusField=we(e),this._innerRadiusField}get radiusScale(){return this._radiusScale}setRadiusScale(e){return this._radiusScale=e,e}get angleScale(){return this._angleScale}setAngleScale(e){return this._angleScale=e,e}get angleAxisHelper(){return this._angleAxisHelper}set angleAxisHelper(e){this._angleAxisHelper=e,this.onAngleAxisHelperUpdate()}get radiusAxisHelper(){return this._radiusAxisHelper}set radiusAxisHelper(e){this._radiusAxisHelper=e,this.onRadiusAxisHelperUpdate()}get sortDataByAxis(){return this._sortDataByAxis}_buildMarkAttributeContext(){super._buildMarkAttributeContext(),this._markAttributeContext.valueToPosition=this.valueToPosition.bind(this),this._markAttributeContext.getCenter=()=>this.angleAxisHelper.center(),this._markAttributeContext.getLayoutRadius=()=>this._computeLayoutRadius()}valueToPosition(e,t){if(Y(e)||Y(t)||!this.angleAxisHelper||!this.radiusAxisHelper)return{x:Number.NaN,y:Number.NaN};const n=this.angleAxisHelper.dataToPosition(we(e)),r=this.radiusAxisHelper.dataToPosition(we(t));return this.angleAxisHelper.coordToPoint({angle:n,radius:r})}dataToPosition(e,t){return e&&this.angleAxisHelper&&this.radiusAxisHelper?t&&!this.isDatumInViewData(e)?null:this.valueToPosition(this.getDatumPositionValues(e,this._angleField),this.getDatumPositionValues(e,this._radiusField)):null}dataToPositionX(e){var t;return(t=this.dataToPosition(e))===null||t===void 0?void 0:t.x}dataToPositionY(e){var t;return(t=this.dataToPosition(e))===null||t===void 0?void 0:t.y}dataToPositionZ(e){return 0}positionToData(e){}radiusToData(e){}angleToData(e){}getStatisticFields(){var e,t;const n=[];return!((e=this.radiusAxisHelper)===null||e===void 0)&&e.getScale&&this._radiusField.forEach(r=>{const s={key:r,operations:[]};Ln(this.radiusAxisHelper.getScale(0).type)?s.operations=["max","min"]:s.operations=["values"],n.push(s)}),!((t=this.angleAxisHelper)===null||t===void 0)&&t.getScale&&this._angleField.forEach(r=>{const s={key:r,operations:[]};Ln(this.angleAxisHelper.getScale(0).type)?s.operations=["max","min"]:s.operations=["values"],n.push(s)}),n}setAttrFromSpec(){super.setAttrFromSpec(),X(this._spec.outerRadius)&&(this._outerRadius=this._spec.outerRadius),X(this._spec.radius)&&(this._outerRadius=this._spec.radius),X(this._spec.innerRadius)&&(this._innerRadius=this._spec.innerRadius),X(this._spec.sortDataByAxis)&&(this._sortDataByAxis=this._spec.sortDataByAxis===!0)}onRadiusAxisHelperUpdate(){this.onMarkPositionUpdate()}onAngleAxisHelperUpdate(){this.onMarkPositionUpdate()}afterInitMark(){super.afterInitMark()}_computeLayoutRadius(){const e=this._angleAxisHelper||this._radiusAxisHelper;if(e)return e.layoutRadius();const{width:t,height:n}=this._region.getLayoutRect();return Math.min(t/2,n/2)}initEvent(){super.initEvent(),this.sortDataByAxis&&this.event.on(Pt.scaleDomainUpdate,{filter:e=>{var t;return e.model.id===((t=this._angleAxisHelper)===null||t===void 0?void 0:t.getAxisId())}},()=>{this._sortDataInAxisDomain()})}_sortDataInAxisDomain(){var e,t;!((t=(e=this.getViewData())===null||e===void 0?void 0:e.latestData)===null||t===void 0)&&t.length&&mTe(this.angleAxisHelper,this._angleField[0],this.getViewData().latestData)}getInvalidCheckFields(){const e=[];return this.angleAxisHelper.isContinuous&&this._angleField.forEach(t=>{e.push(t)}),this.radiusAxisHelper.isContinuous&&this._radiusField.forEach(t=>{e.push(t)}),e}}function AEt(i){return Kx(i)?Number.parseFloat(i):0}const TEt=(i,e)=>{const t=i.map(E=>Object.assign({},E));if(!t||t.length===0)return t;const{angleField:n,startAngle:r,endAngle:s,minAngle:a,asStartAngle:o,asEndAngle:l,asMiddleAngle:u,asRadian:c,asRatio:d,asQuadrant:h,asK:p}=e,f=(E,A,P)=>{E[o]=A,E[l]=A+P,E[u]=A+P/2,E[c]=P,E[h]=x0t(A+P/2)};let g=0,v=-1/0;for(let E=0;E<t.length;E++){const A=AEt(t[E][n]);g+=A,v=Math.max(A,v),t[E][G7]=A}const m=t.map(E=>Number(E[n])),b=s-r;let _=r,S=b,C=0;const k=P0t(m);if(t.forEach((E,A)=>{const P=E[G7],O=g?P/g:0;let M=O*b;M<a?(M=a,S-=a):C+=P;const D=_,L=_+M;E[d]=O,E[p]=v?P/v:0,E._percent_=k[A],f(E,D,M),_=L}),S<b)if(S<=.001){const E=b/t.length;t.forEach((A,P)=>{f(A,r+P*E,E)})}else{const E=S/C;_=r,t.forEach(A=>{const P=A[c]===a?a:A[G7]*E;f(A,_,P),_+=P})}return g!==0&&(t[t.length-1][l]=s),t};function U$(i,e,t){return(n,r,s)=>e?i.growField==="radius"?{overall:0}:{overall:i.growFrom(n,r,t)}:{overall:!1}}const mhe=i=>({type:i.growField==="radius"?"growRadiusIn":"growAngleIn",options:U$(i,!0,Oa.appear)}),PEt={type:"fadeIn"},WTe=i=>({type:i.growField==="radius"?"growRadiusIn":"growAngleIn",easing:"linear",options:U$(i,!0,Oa.enter)}),UTe=i=>({type:i.growField==="radius"?"growRadiusOut":"growAngleOut",easing:"linear",options:U$(i,!0,Oa.exit)}),GTe=i=>({type:i.growField==="radius"?"growRadiusOut":"growAngleOut",options:U$(i,!0,Oa.exit)});function YTe(i,e){if(e===!1)return{};switch(e){case"fadeIn":return PEt;case"growRadius":return mhe(Object.assign(Object.assign({},i),{growField:"radius"}));default:return mhe(Object.assign(Object.assign({},i),{growField:"angle"}))}}const OEt=()=>{ce.registerAnimation("pie",(i,e)=>({appear:YTe(i,e),enter:WTe(i),exit:UTe(i),disappear:GTe(i)}))},MEt=()=>{ce.registerAnimation("pie3d",(i,e)=>({appear:YTe(i,e),enter:WTe(i),exit:UTe(i),disappear:GTe(i)}))};function IEt(i,e){var t,n,r,s;const a=(n=(t=e.options)===null||t===void 0?void 0:t.distance)!==null&&n!==void 0?n:10,o=Ce(e.duration)?e.duration/2:1e3,l=(r=e.options.easing)!==null&&r!==void 0?r:"cubicOut";return{oneByOne:e.oneByOne,loop:(s=e.loop)!==null&&s!==void 0&&s,timeSlices:[{duration:o,effects:{easing:l,channel:{x:{from:u=>i.getAttribute("x",u),to:u=>i.getAttribute("x",u)+Us({x:0,y:0},a,u[Og]).x},y:{from:u=>i.getAttribute("y",u),to:u=>i.getAttribute("y",u)+Us({x:0,y:0},a,u[Og]).y}}}},{duration:o,effects:{easing:l,channel:{x:{to:u=>i.getAttribute("x",u),from:u=>i.getAttribute("x",u)+Us({x:0,y:0},a,u[Og]).x},y:{to:u=>i.getAttribute("y",u),from:u=>i.getAttribute("y",u)+Us({x:0,y:0},a,u[Og]).y}}}}]}}class KTe extends Xo{constructor(e,t){super(e,t),this.type=sw.type,this._unCompileChannel={centerOffset:!0,radiusOffset:!0},this.computeOuterRadius=(n,r,s="normal",a,o)=>{var l;return o+((l=this.getAttribute("radiusOffset",r,s,a))!==null&&l!==void 0?l:0)},this.computeCenter=(n,r,s="normal",a,o)=>Us({x:0,y:0},this.getAttribute("centerOffset",r,s,a),r[Og])[n]+o,this._computeExChannel.x=this.computeCenter,this._computeExChannel.y=this.computeCenter,this._computeExChannel.outerRadius=this.computeOuterRadius,this._extensionChannel.centerOffset=["x","y"],this._extensionChannel.radiusOffset=["outerRadius"]}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{startAngle:0,endAngle:0,outerRadius:0,innerRadius:0,cornerRadius:0,lineWidth:0,innerPadding:0,outerPadding:0})}}class sw extends KTe{constructor(){super(...arguments),this.type=sw.type}}sw.type="arc";const wb=()=>{W_t(),QAe(),ce.registerMark(sw.type,sw)};class Cq extends pu{_transformLabelSpec(e){this._addMarkLabelSpec(e,"pie")}_mergeThemeToSpec(e,t){const n=this._theme;let r=e;if(this._shouldMergeThemeToSpec()){const s=this._getDefaultSpecFromChart(t);r=Rt({},this._theme,s,e);const a=(o,l)=>Rt({},o==="inside"?this._theme.innerLabel:this._theme.outerLabel,l);ke(r.label)?r.label=r.label.map(o=>a(o.position,o)):r.label=a(r.label.position,r.label)}return{spec:r,theme:n}}_getDefaultSpecFromChart(e){var t;const n=(t=super._getDefaultSpecFromChart(e))!==null&&t!==void 0?t:{},{centerX:r,centerY:s}=e;return X(r)&&(n.centerX=r),X(s)&&(n.centerY=s),Object.keys(n).length>0?n:void 0}}class aw extends yP{constructor(){super(...arguments),this.transformerConstructor=Cq,this._pieMarkName="pie",this._pieMarkType="arc",this._startAngle=S$,this._endAngle=zX,this._pieMark=null,this._labelMark=null,this._labelLineMark=null,this.dataToCentralPosition=e=>{const t=e[Og];if(Y(t))return null;const n=this.computeDatumRadius(e),r=this.computeDatumInnerRadius(e),s=this.computeCenter(e);return Us(s,(n+r)/2,t)}}getCenter(){var e,t,n,r;const{width:s,height:a}=this._region.getLayoutRect();return{x:(t=(e=this._spec)===null||e===void 0?void 0:e.centerX)!==null&&t!==void 0?t:s/2,y:(r=(n=this._spec)===null||n===void 0?void 0:n.centerY)!==null&&r!==void 0?r:a/2}}_buildMarkAttributeContext(){super._buildMarkAttributeContext(),this._markAttributeContext.getCenter=()=>({x:()=>this.getCenter().x,y:()=>this.getCenter().y}),this._markAttributeContext.startAngleScale=e=>this.startAngleScale(e),this._markAttributeContext.endAngleScale=e=>this.endAngleScale(e)}setAttrFromSpec(){var e,t;super.setAttrFromSpec(),this._centerOffset=(e=this._spec.centerOffset)!==null&&e!==void 0?e:0,this._cornerRadius=(t=this._spec.cornerRadius)!==null&&t!==void 0?t:0;const n=w0t(X(this._spec.startAngle)?Pn(this._spec.startAngle):this._startAngle,X(this._spec.endAngle)?Pn(this._spec.endAngle):this._endAngle);this._startAngle=n.startAngle,this._endAngle=n.endAngle,this._padAngle=X(this._spec.padAngle)?Pn(this._spec.padAngle):0,this.setAngleField(this._spec.valueField||this._spec.angleField),this._spec.categoryField&&this.setSeriesField(this._spec.categoryField),this._radiusField=[],this._specAngleField=this._angleField.slice(),this._specRadiusField=[]}initData(){super.initData();const e=this.getViewData();if(!e)return;pi(this._dataSet,"pie",TEt),e.transform({type:"pie",options:{angleField:this._angleField[0],startAngle:this._startAngle,endAngle:this._endAngle,minAngle:X(this._spec.minAngle)?Pn(this._spec.minAngle):0,asStartAngle:Mce,asEndAngle:Ice,asRatio:M0t,asMiddleAngle:Og,asRadian:D0t,asQuadrant:R0t,asK:I0t}},!1);const t=new vn(this._dataSet,{name:`${Ut}_series_${this.id}_viewDataLabel`});t.parse([this.getViewData()],{type:"dataview"}),this._viewDataLabel=new kf(this._option,t)}initMark(){var e,t;this._pieMark=this._createMark(Object.assign(Object.assign({},aw.mark.pie),{name:this._pieMarkName,type:this._pieMarkType}),{morph:ym(this._spec,this._pieMarkName),defaultMorphElementKey:this._seriesField,key:rp,groupKey:this._seriesField,skipBeforeLayouted:!0,isSeriesMark:!0,customShape:(e=this._spec.pie)===null||e===void 0?void 0:e.customShape,stateSort:(t=this._spec.pie)===null||t===void 0?void 0:t.stateSort})}startAngleScale(e){return Y3(Mce)(e)}endAngleScale(e){return Y3(Ice)(e)}initMarkStyle(){const e=this._pieMark;e&&this.setMarkStyle(e,{x:()=>this.getCenter().x,y:()=>this.getCenter().y,fill:this.getColorAttribute(),outerRadius:gde(this._outerRadius)?this._outerRadius:()=>this._computeLayoutRadius()*this._outerRadius,innerRadius:gde(this._innerRadius)?this._innerRadius:()=>this._computeLayoutRadius()*this._innerRadius,cornerRadius:()=>this._computeLayoutRadius()*this._cornerRadius,startAngle:t=>this.startAngleScale(t),endAngle:t=>this.endAngleScale(t),padAngle:this._padAngle,centerOffset:this._centerOffset},"normal",Ve.Series)}initInteraction(){this._parseInteractionConfig(this._pieMark?[this._pieMark]:[])}initTooltip(){super.initTooltip(),this._pieMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._pieMark)}initMarkStyleWithSpec(e,t,n){if(super.initMarkStyleWithSpec(e,t,n),e.name===this._pieMarkName){const r=this.getSpec()[e.name];if(r)for(const s in r.state||{})this.setMarkStyle(e,this.generateRadiusStyle(r.state[s]),s,Ve.User_Mark)}}initLabelMarkStyle(e){e&&this.setMarkStyle(e,{visible:Y3(O0t).bind(this),text:t=>t[this.getDimensionField()[0]],fill:this.getColorAttribute(),z:this.dataToPositionZ.bind(this)})}afterInitMark(){super.afterInitMark()}initEvent(){var e;super.initEvent(),(e=this._viewDataLabel.getDataView())===null||e===void 0||e.target.addListener("change",this.viewDataLabelUpdate.bind(this))}initGroups(){}onLayoutEnd(e){this._viewDataLabel.getDataView().reRunAllTransform(),this.onMarkPositionUpdate(),super.onLayoutEnd(e)}getDimensionField(){return this._seriesField?[this._seriesField]:[]}getMeasureField(){return this._specAngleField}viewDataLabelUpdate(){this.event.emit(Pt.viewDataLabelUpdate,{model:this}),this._viewDataLabel.updateData()}generateRadiusStyle(e){if(!e)return;const t={};return e.outerRadius&&(t.outerRadius=()=>this._computeLayoutRadius()*e.outerRadius),e.innerRadius&&(t.innerRadius=()=>this._computeLayoutRadius()*e.innerRadius),e.cornerRadius&&(t.cornerRadius=()=>this._computeLayoutRadius()*e.cornerRadius),t}computeCenter(e){return{x:this._pieMark.getAttribute("x",e,"normal"),y:this._pieMark.getAttribute("y",e,"normal")}}getRadius(e="normal"){var t,n,r,s,a,o,l;const u=e==="normal"?(r=(n=this.getSpec()[((t=this._pieMark)===null||t===void 0?void 0:t.name)||"pie"])===null||n===void 0?void 0:n.style)===null||r===void 0?void 0:r.outerRadius:(l=(o=(a=this.getSpec()[((s=this._pieMark)===null||s===void 0?void 0:s.name)||"pie"])===null||a===void 0?void 0:a.state)===null||o===void 0?void 0:o[e])===null||l===void 0?void 0:l.outerRadius;return u??this._outerRadius}getInnerRadius(e="normal"){var t,n,r,s,a,o,l;const u=e==="normal"?(r=(n=this.getSpec()[((t=this._pieMark)===null||t===void 0?void 0:t.name)||"pie"])===null||n===void 0?void 0:n.style)===null||r===void 0?void 0:r.innerRadius:(l=(o=(a=this.getSpec()[((s=this._pieMark)===null||s===void 0?void 0:s.name)||"pie"])===null||a===void 0?void 0:a.state)===null||o===void 0?void 0:o[e])===null||l===void 0?void 0:l.innerRadius;return u??this._innerRadius}computeRadius(e,t){return this._computeLayoutRadius()*e*(Y(t)?1:t)+this._centerOffset}computeDatumRadius(e,t){return this._computeLayoutRadius()*this.getRadius(t)+this._centerOffset}_compareSpec(e,t,n){(n=n??{data:!0}).centerX=!0,n.centerX=!0,n.centerY=!0,n.centerOffset=!0,n.radius=!0,n.innerRadius=!0,n.cornerRadius=!0,n.startAngle=!0,n.endAngle=!0,n.padAngle=!0;const{centerX:r,centerY:s,centerOffset:a,radius:o,innerRadius:l,cornerRadius:u,startAngle:c,endAngle:d,padAngle:h}=t,p=super._compareSpec(e,t,n);return(e=e??{}).centerY===s&&e.centerX===r&&e.centerOffset===a&&e.radius===o&&e.innerRadius===l&&e.cornerRadius===u&&e.startAngle===c&&e.endAngle===d&&e.padAngle===h||(p.reRender=!0,p.change=!0),p}computeDatumInnerRadius(e,t){return this._computeLayoutRadius()*this.getInnerRadius(t)+this._centerOffset}dataToPosition(e,t){const n=e[Og];if(Y(n)||t&&!this.isDatumInViewData(e))return null;const r=this.computeDatumRadius(e),s=this.computeCenter(e);return Us(s,r,n)}initAnimation(){var e,t;const n={growFrom:(s,a,o)=>{var l;if(o===Oa.appear)return this._startAngle;if(o===Oa.disappear)return this._endAngle;const u=[Oa.disappear,Oa.exit],c=a.mark.elements,d=s,h=d==null?void 0:d[Tl];if(c.find(f=>{var g;return((g=f.data[0])===null||g===void 0?void 0:g[Tl])<h})===void 0)return this._startAngle;if(c.find(f=>{var g;return((g=f.data[0])===null||g===void 0?void 0:g[Tl])>h})===void 0)return this._endAngle;const p=[...c].reverse().find(f=>{var g;return((g=f.data[0])===null||g===void 0?void 0:g[Tl])<h});return u.includes(o)?(l=p==null?void 0:p.getNextGraphicAttributes())===null||l===void 0?void 0:l.endAngle:p==null?void 0:p.getGraphicAttribute("endAngle",!0)}},r=(e=this._spec.animationAppear)===null||e===void 0?void 0:e.preset;if(this._pieMark){const s=Yi((t=ce.getAnimationInKey("pie"))===null||t===void 0?void 0:t(n,r),an("pie",this._spec,this._markAttributeContext));s.normal&&s.normal.type&&(s.normal=IEt(this._pieMark,s.normal)),this._pieMark.setAnimationConfig(s)}}getDefaultShapeType(){return"circle"}getGroupFields(){return[]}getStackGroupFields(){return[]}getStackValueField(){return""}_noAnimationDataKey(e,t){return t}getActiveMarks(){return[this._pieMark]}}aw.transformerConstructor=Cq,aw.mark=WEe;class eU extends aw{constructor(){super(...arguments),this.type=xe.pie}}eU.type=xe.pie;const REt=()=>{wb(),OEt(),ce.registerSeries(eU.type,eU)};class r2 extends KTe{constructor(){super(...arguments),this.type=r2.type,this._support3d=!0}}r2.type="arc3d";const XTe=()=>{QAe(),U_t(),ce.registerMark(r2.type,r2)};class qTe extends Cq{_transformLabelSpec(e){this._addMarkLabelSpec(e,"pie3d")}}class JE extends aw{constructor(){super(...arguments),this.type=xe.pie3d,this._pieMarkName="pie3d",this._pieMarkType="arc3d",this.transformerConstructor=qTe}setAttrFromSpec(){var e,t;super.setAttrFromSpec(),this._angle3d=(t=(e=this._spec)===null||e===void 0?void 0:e.angle3d)!==null&&t!==void 0?t:-Math.PI/3}initMarkStyle(){super.initMarkStyle();const e=this._pieMark;e&&this.setMarkStyle(e,{beta:()=>this._angle3d},"normal",Ve.Series)}initLabelMarkStyle(e,t={}){if(!e)return;super.initLabelMarkStyle(e);const n={};e.setSupport3d(!0),n.beta=this._angle3d,n.anchor3d=r=>{const{x:s,y:a}=this.getCenter();return[s,a]},n.angle=r=>{const s=r[Og];return t.position==="inside"?jx(s):0},this.setMarkStyle(e,Object.assign(Object.assign({},n),{z:100}),void 0,Ve.Mark)}}JE.type=xe.pie3d,JE.mark=UEe,JE.transformerConstructor=qTe;const DEt=()=>{MEt(),XTe(),ce.registerSeries(JE.type,JE)},vhe=i=>{const e=i.growField==="angle"?0:i.innerRadius;return i.growField==="angle"?{type:i.growField==="angle"?"growAngleIn":"growRadiusIn"}:{channel:{innerRadius:{from:e,to:(t,n)=>n.getGraphicAttribute("innerRadius")},outerRadius:{from:e,to:(t,n)=>n.getGraphicAttribute("outerRadius")}}}},LEt={type:"fadeIn"},FEt=i=>({type:i.growField==="angle"?"growAngleIn":"growRadiusIn"}),BEt=i=>({type:i.growField==="angle"?"growAngleOut":"growRadiusOut"}),$Et=i=>({type:i.growField==="angle"?"growAngleOut":"growRadiusOut"});function NEt(i,e){if(e===!1)return{};switch(e){case"fadeIn":return LEt;case"growAngle":return vhe(Object.assign(Object.assign({},i),{growField:"angle"}));default:return vhe(Object.assign(Object.assign({},i),{growField:"radius"}))}}const jEt=()=>{ce.registerAnimation("rose",(i,e)=>({appear:NEt(i,e),enter:FEt(i),exit:BEt(i),disappear:$Et(i)}))};class ZTe extends yP{getStackGroupFields(){return this._angleField}getStackValueField(){return we(this._spec.valueField)[0]||we(this._spec.radiusField)[0]}getGroupFields(){return this._angleField}setAttrFromSpec(){super.setAttrFromSpec(),this.setAngleField(this._spec.categoryField||this._spec.angleField),this.setRadiusField(this._spec.valueField||this._spec.radiusField),this._specAngleField=this._angleField.slice(),this._specRadiusField=this._radiusField.slice(),this.setInnerRadiusField(this._spec.valueField||this._spec.radiusField),this.getStack()&&this.setValueFieldToStack(),this.getPercent()&&this.setValueFieldToPercent()}setValueFieldToStack(){this.setRadiusField(aa),this.setInnerRadiusField(Uu)}setValueFieldToPercent(){this.setRadiusField(_0),this.setInnerRadiusField(Q_)}getDimensionField(){return this._specAngleField}getMeasureField(){return this._specRadiusField}getDefaultShapeType(){return"square"}}class QTe extends pu{constructor(){super(...arguments),this._supportStack=!0}_transformLabelSpec(e){this._addMarkLabelSpec(e,"rose")}}const yhe=(i,e)=>{var t,n,r,s,a,o;const l=(t=i.type)!==null&&t!==void 0?t:i.orient==="angle"?"band":"linear",u=`${De.polarAxis}-${l}`,c=(n=i.startAngle)!==null&&n!==void 0?n:e.startAngle,d=(r=i.endAngle)!==null&&r!==void 0?r:e.endAngle;return{axisType:l,componentName:u,startAngle:c??HX,endAngle:d??(X(c)?c+360:tEe),center:X(e.center)?e.center:X(e==null?void 0:e.centerX)||X(e==null?void 0:e.centerY)?{x:e==null?void 0:e.centerX,y:e==null?void 0:e.centerY}:void 0,outerRadius:(o=(a=(s=i.radius)!==null&&s!==void 0?s:e.outerRadius)!==null&&a!==void 0?a:e.radius)!==null&&o!==void 0?o:$T,layoutRadius:e.layoutRadius}};var _he=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};class vF extends vq{get center(){return this._center}get startAngle(){return this._startAngle}get endAngle(){return this._endAngle}getOrient(){return this._orient}getGroupScales(){return this._groupScales}static getSpecInfo(e){const t=e[this.specKey];if(!t)return null;if(!ke(t)){if(!Hde(t))return null;const{axisType:a,componentName:o,startAngle:l,endAngle:u,center:c,outerRadius:d,layoutRadius:h}=yhe(t,e);return t.center=c,t.startAngle=l,t.endAngle=u,t.outerRadius=d,t.type=a,t.layoutRadius=h,[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:o}]}const n=[];let r;const s=[];return t.forEach((a,o)=>{if(!Hde(a))return;const{axisType:l,componentName:u,startAngle:c,endAngle:d,center:h,outerRadius:p,layoutRadius:f}=yhe(a,e);a.center=h,a.startAngle=c,a.endAngle=d,a.outerRadius=p,a.type=l,a.layoutRadius=f;const g={spec:a,specPath:[this.specKey,o],specInfoPath:["component",this.specKey,o],type:u};n.push(g),a.orient==="radius"?s.push(g):r=o}),s.forEach(a=>{a.angleAxisIndex=r}),n}static createComponent(e,t){const{spec:n}=e,r=_he(e,["spec"]),s=ce.getComponentInKey(r.type);return s?new s(n,Object.assign(Object.assign({},t),r)):(t.onError(`Component ${r.type} not found`),null)}constructor(e,t){super(e,t),this.type=De.polarAxis,this.name=De.polarAxis,this._defaultBandPosition=0,this._defaultBandInnerPadding=0,this._defaultBandOuterPadding=0,this.layoutType="absolute",this.layoutZIndex=qn.Axis,this._tick=void 0,this._center=null,this._startAngle=S$,this._endAngle=zX,this._orient="radius",this._groupScales=[],this.effect={scaleUpdate:n=>{this.computeData(n==null?void 0:n.value),hs(this._regions,r=>{this.getOrient()==="radius"?r.radiusAxisHelper=this.axisHelper():r.angleAxisHelper=this.axisHelper()},{userId:this._seriesUserId,specIndex:this._seriesIndex})}},this._transformLayoutPosition=n=>{var r;const s=(r=this.getRegions())===null||r===void 0?void 0:r[0];return s?s.getLayoutStartPoint():n},this._coordinateType="polar"}setAttrFromSpec(){super.setAttrFromSpec(),this.visible&&(this._axisStyle=this._getAxisAttributes(),this._gridStyle=this._getGridAttributes()),this._tick=this._spec.tick,this._orient=this._spec.orient==="angle"?"angle":"radius",this._center=this._spec.center,this._startAngle=Pn(this._spec.startAngle),this._endAngle=Pn(this._spec.endAngle),this._inverse=this._spec.inverse}onRender(e){}changeRegions(){}_tickTransformOption(){var e;return Object.assign(Object.assign({},super._tickTransformOption()),{noDecimal:(e=this._tick)===null||e===void 0?void 0:e.noDecimals,startAngle:this.startAngle,labelOffset:GT(this._spec),getRadius:()=>this.getOuterRadius(),inside:this._spec.inside})}afterCompile(){var e;const t=(e=this._axisMark)===null||e===void 0?void 0:e.getProduct();t&&t.addEventListener(At.AFTER_ELEMENT_ENCODE,()=>{this._isLayout===!1&&this._delegateAxisContainerEvent(t.getGroupGraphicItem())})}updateScaleRange(){const e=this._scale.range();let t;return t=this.getOrient()==="radius"?this._inverse?[this.computeLayoutOuterRadius(),this.computeLayoutInnerRadius()]:[this.computeLayoutInnerRadius(),this.computeLayoutOuterRadius()]:this._inverse?[this._endAngle,this._startAngle]:[this._startAngle,this._endAngle],(!e||!t||e[0]!==t[0]||e[1]!==t[1])&&(this._scale.range(t),!0)}collectSeriesField(e,t){var n,r;let s;return s=e>0?(r=(n=t.getGroups())===null||n===void 0?void 0:n.fields)===null||r===void 0?void 0:r[e]:this.getOrient()==="radius"?t.getRadiusField():t.getAngleField(),s}updateSeriesScale(){hs(this._regions,e=>{this.getOrient()==="radius"?(e.setRadiusScale(this._scale),e.radiusAxisHelper=this.axisHelper()):(e.setAngleScale(this._scale),e.angleAxisHelper=this.axisHelper())},{userId:this._seriesUserId,specIndex:this._seriesIndex})}getSeriesStatisticsField(e){const t=this.getOrient()==="radius"?e.getRadiusField():e.getAngleField();return Ln(this._scale.type)?t:[t[0]]}initGroupScales(){}axisHelper(){return{isContinuous:Ln(this._scale.type),dataToPosition:this.dataToPosition.bind(this),coordToPoint:this.coordToPoint.bind(this),pointToCoord:this.pointToCoord.bind(this),center:this.getCenter.bind(this),layoutRadius:this.computeLayoutRadius.bind(this),getScale:e=>this._scales[e],getAxisId:()=>this.id,getSpec:()=>this._spec}}positionToData(e){const t=this.pointToCoord(e);return this.getOrient()==="radius"?this.invert(t.radius):this.invert(t.angle)}coordToPoint(e){const t=this.getCenter();return Us(t,e.radius,e.angle)}pointToCoord(e){const{x:t,y:n}=this.getCenter();let r=e.x-t,s=e.y-n;const a=this._startAngle,o=this._endAngle,l=Math.sqrt(r*r+s*s);r/=l,s/=l;let u=Math.atan2(s,r);if(u<a)for(;u<=a;)u+=2*Math.PI;if(u>o)for(;u>=o;)u-=2*Math.PI;return{radius:l,angle:u}}getCenter(){var e,t;const n=this.getRefLayoutRect(),{width:r,height:s}=n;return{x:vo((e=this._center)===null||e===void 0?void 0:e.x,r,n,r/2),y:vo((t=this._center)===null||t===void 0?void 0:t.y,s,n,s/2)}}getOuterRadius(){return this.computeLayoutOuterRadius()}getInnerRadius(){return this.computeLayoutInnerRadius()}updateLayoutAttribute(){this._visible&&(this.getOrient()==="radius"?this._layoutRadiusAxis():this._layoutAngleAxis()),super.updateLayoutAttribute()}_getNormalizedValue(e,t){return t===0?0:(this.dataToPosition(e)-this._getStartValue())/t}getLabelItems(e){var t;const n=(t=this.getTickData())===null||t===void 0?void 0:t.getLatestData();return n&&n.length?[n.map(r=>ew(r.value,this._getNormalizedValue([r.value],e)))]:[]}_getStartValue(){return this.getOrient()==="radius"?this.computeLayoutInnerRadius():this._startAngle}_layoutAngleAxis(){const e=this.getCenter(),t=this.computeLayoutOuterRadius(),n=this.computeLayoutInnerRadius(),r=this._endAngle-this._startAngle,s=this.getLabelItems(r),a=Object.assign(Object.assign({},this.getLayoutStartPoint()),{inside:this._spec.inside,center:e,radius:t,innerRadius:n,startAngle:this._startAngle,endAngle:this._endAngle}),o=Object.assign(Object.assign({},a),{title:{text:this._spec.title.text||this._dataFieldText},items:s,orient:"angle"});this._spec.grid.visible&&(o.grid=Object.assign({type:"line",smoothLink:!0,items:s[0]},a)),this._update(o)}_layoutRadiusAxis(){var e,t,n;const r=this.getCenter(),s=this.computeLayoutOuterRadius(),a=this.computeLayoutInnerRadius(),o=this.coordToPoint({angle:this._startAngle,radius:s}),l=this.coordToPoint({angle:this._startAngle,radius:a}),u=ds.distancePP(l,o),c=this.getLabelItems(u),d=Object.assign(Object.assign({},this.getLayoutStartPoint()),{start:l,end:o,verticalFactor:-1}),h=Object.assign(Object.assign({},d),{title:{text:this._spec.title.text||this._dataFieldText},items:c,orient:"radius"});!((e=this._spec.grid)===null||e===void 0)&&e.visible&&(h.grid=Object.assign({items:c[0],type:!((t=this._spec.grid)===null||t===void 0)&&t.smooth?"circle":"polygon",center:r,closed:!0,sides:(n=this._getRelatedAngleAxis())===null||n===void 0?void 0:n.getScale().domain().length,startAngle:this._startAngle,endAngle:this._endAngle},d)),this._update(h)}_getRelatedAngleAxis(){const e=this._option.angleAxisIndex;if(X(e))return this._option.getComponentByIndex(this.specKey,e)}computeLayoutRadius(){const e=this.getRefLayoutRect();if(Xe(this._spec.layoutRadius))return this._spec.layoutRadius;if(Pe(this._spec.layoutRadius))return this._spec.layoutRadius(e,this.getCenter());const{width:t,height:n}=e;return this._spec.layoutRadius==="auto"&&t>0&&n>0?Unt(e,this.getCenter(),this._startAngle,this._endAngle):Math.min(t/2,n/2)}computeLayoutOuterRadius(){var e;const t=(e=this._spec.outerRadius)!==null&&e!==void 0?e:this._spec.radius,n=t??this.getRefSeriesRadius().outerRadius;return this.computeLayoutRadius()*n}computeLayoutInnerRadius(){var e;const t=(e=this._spec.innerRadius)!==null&&e!==void 0?e:this.getRefSeriesRadius().innerRadius;return this.computeLayoutRadius()*t}getRefLayoutRect(){return this.getRegions()[0].getLayoutRect()}getRefSeriesRadius(){let e=$T,t=0;const n=this.getChart().getSpec();return hs(this.getRegions(),r=>{const s=r;if(HCt(s.type)){const{outerRadius:a=n.outerRadius,innerRadius:o=n.innerRadius}=s;Ce(a)&&(e=a),Ce(o)&&(t=o)}},{userId:this._seriesUserId,specIndex:this._seriesIndex}),{outerRadius:e,innerRadius:t}}_update(e){const{grid:t}=e,n=_he(e,["grid"]);this._axisMark.getProduct().encode(Rt({},this._axisStyle,n)),this._gridMark&&this._gridMark.getProduct().encode(Rt({},this._gridStyle,t))}invert(e){var t;if(this.getOrient()==="angle"&&this._scale.type==="band"){const n=this._scale.range(),r=n[n.length-1]-n[0],s=((t=this.getSpec().bandPosition)!==null&&t!==void 0?t:this._defaultBandPosition)===.5?0:this._scale.bandwidth()/2;if(n[0]<0){const a=(e+s+Math.abs(n[0]))%r-Math.abs(n[0]);return this._scale.invert(a)}return this._scale.invert((e+s)%r)}return this._scale.invert(e)}}vF.type=De.polarAxis,vF.specKey="axes";class eA extends vF{constructor(){super(...arguments),this.type=De.polarLinearAxis,this._zero=!0,this._nice=!0,this._extend={},this._scale=new Zd}setAttrFromSpec(){super.setAttrFromSpec(),this.setExtraAttrFromSpec()}initScales(){super.initScales(),this.setScaleNice()}computeDomain(e){return this.computeLinearDomain(e)}axisHelper(){const e=super.axisHelper();return e.setExtendDomain=this.setExtendDomain.bind(this),e}}eA.type=De.polarLinearAxis,eA.specKey="axes",wa(eA,z$);const Xw=()=>{xb(),ce.registerComponent(eA.type,eA)};class tA extends vF{constructor(){super(...arguments),this.type=De.polarBandAxis,this._scale=new bb}computeDomain(e){return this.computeBandDomain(e)}updateScaleRange(){const e=super.updateScaleRange();return this.updateGroupScaleRange(),e}axisHelper(){const e=super.axisHelper();return Object.assign(Object.assign({},e),{getBandwidth:t=>e.getScale(t).bandwidth()})}initScales(){super.initScales(),this.calcScales(this._defaultBandInnerPadding,this._defaultBandOuterPadding)}transformScaleDomain(){}}tA.type=De.polarBandAxis,tA.specKey="axes",wa(tA,STe);const _P=()=>{xb(),ce.registerComponent(tA.type,tA)};class e0 extends ZTe{constructor(){super(...arguments),this.type=xe.rose,this.transformerConstructor=QTe,this._roseMark=null,this._labelMark=null}initMark(){this.initRoseMark()}initMarkStyle(){this.initRoseMarkStyle()}_buildMarkAttributeContext(){super._buildMarkAttributeContext(),this._markAttributeContext.getCenter=()=>({x:()=>this.angleAxisHelper.center().x,y:()=>this.angleAxisHelper.center().y}),this._markAttributeContext.startAngleScale=e=>this.startAngleScale(e),this._markAttributeContext.endAngleScale=e=>this.endAngleScale(e)}initRoseMark(){var e,t;this._roseMark=this._createMark(e0.mark.rose,{morph:ym(this._spec,e0.mark.rose.name),defaultMorphElementKey:this.getDimensionField()[0],groupKey:this._seriesField,isSeriesMark:!0,customShape:(e=this._spec.rose)===null||e===void 0?void 0:e.customShape,stateSort:(t=this._spec.rose)===null||t===void 0?void 0:t.stateSort})}getRoseAngle(){var e,t,n;return(n=(t=(e=this.angleAxisHelper).getBandwidth)===null||t===void 0?void 0:t.call(e,this._groups?this._groups.fields.length-1:0))!==null&&n!==void 0?n:.5}startAngleScale(e){return this.angleAxisHelper.dataToPosition(this.getDatumPositionValues(e,this.getGroupFields()))-.5*this.angleAxisHelper.getBandwidth(this.getGroupFields().length-1)}endAngleScale(e){return this.angleAxisHelper.dataToPosition(this.getDatumPositionValues(e,this.getGroupFields()))+this.getRoseAngle()-.5*this.angleAxisHelper.getBandwidth(this.getGroupFields().length-1)}initRoseMarkStyle(){const e=this._roseMark;e&&this.setMarkStyle(e,{x:()=>this.angleAxisHelper.center().x,y:()=>this.angleAxisHelper.center().y,startAngle:t=>this.startAngleScale(t),endAngle:t=>this.endAngleScale(t),fill:this.getColorAttribute(),outerRadius:t=>kn(this.radiusAxisHelper.dataToPosition([t[this._radiusField[0]]]),this.radiusAxisHelper.getScale(0)),innerRadius:t=>{var n;if(!this.getStack())return 0;const r=kn(this.radiusAxisHelper.dataToPosition([t[this._innerRadiusField[0]]]),this.radiusAxisHelper.getScale(0));return r<=Number.MIN_VALUE?this._computeLayoutRadius()*((n=this._spec.innerRadius)!==null&&n!==void 0?n:0):r}})}initTooltip(){super.initTooltip(),this._roseMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._roseMark)}initLabelMarkStyle(e){e&&this.setMarkStyle(e,{text:t=>t[this.getDimensionField()[0]],fill:this.getColorAttribute(),z:0})}initAnimation(){var e,t,n;const r=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;if(this._roseMark){const s={innerRadius:()=>{var a;return this._computeLayoutRadius()*((a=this._spec.innerRadius)!==null&&a!==void 0?a:0)}};this._roseMark.setAnimationConfig(Yi((n=ce.getAnimationInKey("rose"))===null||n===void 0?void 0:n(s,r),an("rose",this._spec,this._markAttributeContext)))}}getDefaultShapeType(){return"circle"}getActiveMarks(){return[this._roseMark]}}e0.type=xe.rose,e0.mark=GEe,e0.transformerConstructor=QTe;const zEt=()=>{ce.registerSeries(e0.type,e0),wb(),jEt(),_P(),Xw()};class HEt extends cu{constructor(e,t,n,r,s){super(e,t,n,r,s);const a=this.params.pointToCoord,o=this.params.coordToPoint;Pe(a)&&Pe(o)||(this.valid=!1),this._pointToCoord=a,this._coordToPoint=o}getEndProps(){return this.valid===!1?{}:this._coordToPoint({angle:this._toAngle,radius:this._toRadius})}onBind(){const{angle:e,radius:t}=this._pointToCoord(this.from);Ce(e*t)||(this.valid=!1),this._fromAngle=e,this._fromRadius=t;const{angle:n,radius:r}=this._pointToCoord(this.to);Ce(n*r)||(this.valid=!1),this._toAngle=n,this._toRadius=r}onUpdate(e,t,n){if(this.valid!==!1)if(e){const{x:r,y:s}=this.getEndProps();n.x=r,n.y=s}else{const{x:r,y:s}=this._coordToPoint({angle:this._fromAngle+(this._toAngle-this._fromAngle)*t,radius:this._fromRadius+(this._toRadius-this._fromRadius)*t});n.x=r,n.y=s}}}class VEt extends Wwe{constructor(e,t,n,r,s){super(e,t,n,r,s);const a=this.params.pointToCoord,o=this.params.coordToPoint;this._pointToCoord=a,this._coordToPoint=o}onUpdate(e,t,n){this.points=this.points.map((r,s)=>{const a=this.polarPointInterpolation(this.interpolatePoints[s][0],this.interpolatePoints[s][1],t);return a.context=r.context,a}),n.points=this.points}polarPointInterpolation(e,t,n){const r=this._pointToCoord(e),s=this._pointToCoord({x:e.x1,y:e.y1}),a=uf(r.angle),o=uf(s.angle),l=this._pointToCoord(t),u=this._pointToCoord({x:t.x1,y:t.y1}),c=uf(l.angle),d=uf(u.angle),h=a+(c-a)*n,p=r.radius+(l.radius-r.radius)*n,f=o+(d-o)*n,g=s.radius+(u.radius-s.radius)*n,{x:v,y:m}=this._coordToPoint({angle:h,radius:p}),{x:b,y:_}=this._coordToPoint({angle:f,radius:g}),S=new As(v,m,b,_);return S.defined=t.defined,S}}const JTe=i=>({type:i==="in"?"fadeIn":"fadeOut"}),WEt=(i,e)=>({type:e==="in"?"growPointsIn":"growPointsOut",options:()=>({center:i.center()})});function DI(i,e,t){return e==="fadeIn"?JTe(t):WEt(i,t)}const UEt=(i,e)=>{const t=()=>{var a;return(a=i.center())===null||a===void 0?void 0:a.x},n=(a,o)=>o.getGraphicAttribute("x"),r=()=>{var a;return(a=i.center())===null||a===void 0?void 0:a.y},s=(a,o)=>o.getGraphicAttribute("y");return e==="in"?{channel:{x:{from:t,to:n},y:{from:r,to:s}}}:{channel:{x:{from:n,to:t},y:{from:s,to:r}}}};function bhe(i,e,t){return e==="fadeIn"?JTe(t):UEt(i,t)}const She=(i,e)=>({custom:pot,customParameters:(t,n)=>{var r;return{group:n.getGraphicItem(),startAngle:(r=i.startAngle)!==null&&r!==void 0?r:Math.PI/2,orient:"clockwise",center:i.center(),radius:i.radius(),animationType:e}}}),GEt=()=>{ce.registerAnimation("radar",(i,e)=>({appear:e==="clipIn"?void 0:DI(i,e,"in"),enter:DI(i,e,"in"),exit:DI(i,e,"out"),disappear:e==="clipIn"?void 0:DI(i,e,"out"),update:[{options:{excludeChannels:["points","defined"]}},{channel:["points"],custom:VEt,customParameters:i,duration:Av.update.duration,easing:Av.update.easing}]})),ce.registerAnimation("radarSymbol",(i,e)=>({appear:e==="clipIn"?void 0:bhe(i,e,"in"),enter:{type:"scaleIn"},exit:{type:"scaleOut"},disappear:e==="clipIn"?void 0:bhe(i,e,"out"),update:[{options:{excludeChannels:["x","y"]}},{channel:["x","y"],custom:HEt,customParameters:i,duration:Av.update.duration,easing:Av.update.easing}]})),ce.registerAnimation("radarGroup",(i,e)=>({appear:She(i,"in"),disappear:She(i,"out")})),Uw()};class Pv extends ZTe{constructor(){super(...arguments),this.type=xe.radar,this.transformerConstructor=gP,this._sortDataByAxis=!1}initGroups(){}compile(){super.compile(),this.addOverlapCompile()}initMark(){var e,t,n,r;const s={progressiveStep:this._spec.progressiveStep,progressiveThreshold:this._spec.progressiveThreshold,large:this._spec.large,largeThreshold:this._spec.largeThreshold},a=((e=this._spec.area)===null||e===void 0?void 0:e.visible)!==!1&&((n=(t=this._spec.area)===null||t===void 0?void 0:t.style)===null||n===void 0?void 0:n.visible)!==!1,o=(r=this._spec.seriesMark)!==null&&r!==void 0?r:"area";this.initAreaMark(s,a&&o==="area"),this.initLineMark(s,o==="line"||o==="area"&&!a),this.initSymbolMark(s,o==="point")}initMarkStyle(){this.initAreaMarkStyle(),this.initLineMarkStyle(),this.initSymbolMarkStyle()}initAreaMark(e,t){var n,r;this._areaMark=this._createMark(Pv.mark.area,{progressive:e,isSeriesMark:t,customShape:(n=this._spec.area)===null||n===void 0?void 0:n.customShape,stateSort:(r=this._spec.area)===null||r===void 0?void 0:r.stateSort})}initAreaMarkStyle(){const e=this._areaMark;e&&(this.setMarkStyle(e,{x:this.dataToPositionX.bind(this),y:this.dataToPositionY.bind(this),x1:t=>t&&this.angleAxisHelper&&this.radiusAxisHelper?this.valueToPosition(this.getDatumPositionValues(t,this._angleField),this.getStack()?this.getDatumPositionValues(t,this._innerRadiusField):this.radiusScale.domain()[0]).x:Number.NaN,y1:t=>!t||!this.angleAxisHelper||!this.radiusAxisHelper?Number.NaN:this.valueToPosition(this.getDatumPositionValues(t,this._angleField),this.getStack()?this.getDatumPositionValues(t,this._innerRadiusField):this.radiusScale.domain()[0]).y,fill:this.getColorAttribute(),curveType:yTe,closePath:!0},"normal",Ve.Series),this._invalidType!=="zero"&&this.setMarkStyle(e,{defined:this._getInvalidDefined.bind(this),connectedType:this._getInvalidConnectType()},"normal",Ve.Series),this.event.on(Pt.viewDataStatisticsUpdate,{filter:t=>t.model===this},()=>{this.encodeDefined(e,"defined")}))}initTooltip(){super.initTooltip();const{dimension:e,group:t,mark:n}=this._tooltipHelper.activeTriggerSet;this._lineMark&&(e.add(this._lineMark),t.add(this._lineMark)),this._areaMark&&(e.add(this._areaMark),t.add(this._areaMark)),this._symbolMark&&(n.add(this._symbolMark),t.add(this._symbolMark))}initAnimation(){var e,t,n,r;const s={center:()=>{var o;return(o=this.angleAxisHelper)===null||o===void 0?void 0:o.center()},radius:()=>{const o=this.getLayoutRect();return Math.min(o.width,o.height)},startAngle:X(this._spec.startAngle)?Pn(this._spec.startAngle):S$,pointToCoord:o=>{var l;return(l=this.angleAxisHelper)===null||l===void 0?void 0:l.pointToCoord(o)},coordToPoint:o=>this.angleAxisHelper.coordToPoint(o)},a=(n=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset)!==null&&n!==void 0?n:"clipIn";a==="clipIn"&&this._rootMark&&this._rootMark.setAnimationConfig(Yi((r=ce.getAnimationInKey("radarGroup"))===null||r===void 0?void 0:r(s,a),an("group",this._spec,this._markAttributeContext))),[[this._areaMark,"radar"],[this._lineMark,"radar"],[this._symbolMark,"radarSymbol"]].forEach(([o,l])=>{if(X(o)){const u=ce.getAnimationInKey(l);o.setAnimationConfig(Yi(u==null?void 0:u(s,a),an(o.name,this._spec,this._markAttributeContext)))}})}getDefaultShapeType(){return"square"}getActiveMarks(){return[this._areaMark,this._symbolMark,this._lineMark]}getSeriesStyle(e){return t=>{var n,r,s,a;let o=(r=(n=this._seriesMark)===null||n===void 0?void 0:n.getAttribute(t,e))!==null&&r!==void 0?r:void 0;return t!=="fill"||o||(t="stroke",o=(a=(s=this._seriesMark)===null||s===void 0?void 0:s.getAttribute(t,e))!==null&&a!==void 0?a:void 0),t==="stroke"&&ke(o)?o[0]:o}}}Pv.type=xe.radar,Pv.mark=VEe,Pv.transformerConstructor=gP,wa(Pv,mq);const YEt=()=>{ce.registerSeries(Pv.type,Pv),JX(),H$(),N$(),_m(),GEt(),_P(),Xw()};class KEt extends hu{updateTooltipSpec(){var e;super.updateTooltipSpec(),X((e=this.spec)===null||e===void 0?void 0:e.mark)&&(this.spec.mark.updateContent=(t,n,r)=>{const s=[],a=t.filter(o=>o.key==="children");return a.length>0&&a[0].value.forEach(o=>{let l=!0;for(const u in o)s.push({shapeType:"circle",hasShape:l,shapeColor:this.shapeColorCallback(n[0].datum[0]),shapeStroke:this.shapeStrokeCallback(n[0].datum[0]),key:u,value:o[u]+""}),l=!1}),t.concat(s)})}getDefaultTooltipPattern(e){return e==="mark"?{visible:!0,activeType:e,title:{key:"event info",value:"event info"},content:[{hasShape:!0,shapeType:"square",shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,key:t=>t.type,value:t=>t.id},{hasShape:!0,shapeType:"square",shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,key:"event_time",value:t=>Yh.getInstance().timeFormat("%Y%m%d",t.event_time)},{hasShape:!0,shapeType:"square",shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,key:"action_type",value:t=>t.action_type},{shapeType:"square",hasShape:!0,shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,key:"children",value:t=>t.children}],updateContent:(t,n,r)=>{const s=[];return t[3].value.forEach(a=>{let o=!0;for(const l in a)s.push({shapeType:"circle",hasShape:o,shapeColor:this.shapeColorCallback(n[0].datum[0]),shapeStroke:this.shapeStrokeCallback(n[0].datum[0]),key:l,value:a[l]+""}),o=!1}),t.concat(s)}}:null}}const XEt=(i,e)=>{var t;const n=!((t=i[0])===null||t===void 0)&&t.latestData?i[0].latestData:i||[],r=[];return n.forEach(s=>{const a={};for(const l in s)l!==e&&(a[l]=s[l]);const o=s[e];o==null||o.forEach(l=>{r.push(Object.assign({},a,l))})}),r},qEt={fill:"#bbb",fillOpacity:.2};class Tc extends sh{constructor(){super(...arguments),this.type=xe.dot}getSeriesGroupField(){return this._seriesField}setSeriesGroupField(e){X(e)&&(this._seriesGroupField=e)}getTitleField(){return this._titleField}setTitleField(e){X(e)&&(this._titleField=e)}getSubTitleField(){return this._subTitleField}setSubTitleField(e){X(e)&&(this._subTitleField=e)}getDotTypeField(){return this._dotTypeField}setDotTypeField(e){X(e)&&(this._dotTypeField=e)}getHighLightSeriesGroup(){return this._highLightSeriesGroup}setHighLightSeriesGroup(e){X(e)&&(this._highLightSeriesGroup=e)}setGridBackground(e){X(e)&&(this._gridBackground=e)}initData(){var e;super.initData(),this._xDimensionStatisticsDomain=this.getRawData().latestData.map(t=>t[this._fieldY[0]]),pi(this._option.dataSet,"objFlat",XEt),pi(this._option.dataSet,"copyDataView",P$),Fg(this._option.dataSet,"dataview",RB),(e=this.getViewData())===null||e===void 0||e.transform({type:"objFlat",options:"dots",level:cp.dotObjFlat},!1)}setSeriesField(e){X(e)&&(this._seriesField=e,this.getMarksInType(["line","area"]).forEach(t=>{t.setFacet(this._seriesField)}))}getStatisticFields(){return[{key:this._fieldY[0],operations:["values"],customize:this._xDimensionStatisticsDomain}]}setAttrFromSpec(){var e;super.setAttrFromSpec(),this.setSeriesGroupField(this._spec.seriesGroupField),this.setTitleField(this._spec.titleField),this.setSubTitleField(this._spec.subTitleField),this.setDotTypeField(this._spec.dotTypeField),this.setHighLightSeriesGroup(this._spec.highLightSeriesGroup),this.setGridBackground(Rt(qEt,((e=this._spec.grid)===null||e===void 0?void 0:e.background)||{}))}initMark(){this._clipMark=this._createMark(Tc.mark.group),this._containerMark=this._createMark(Tc.mark.group,{parent:this._clipMark,dataView:this.getRawData()}),this._gridBackgroundMark=this._createMark(Tc.mark.gridBackground,{parent:this._containerMark,dataView:this.getRawData()}),this._gridMark=this._createMark(Tc.mark.grid,{parent:this._containerMark,dataView:this.getRawData()}),this._dotMark=this._createMark(Tc.mark.dot,{skipBeforeLayouted:!1,isSeriesMark:!0,parent:this._containerMark}),this._titleMark=this._createMark(Tc.mark.title,{parent:this._containerMark,dataView:this.getRawData()}),this._subTitleMark=this._createMark(Tc.mark.subTitle,{parent:this._containerMark,dataView:this.getRawData()}),this._symbolMark=this._createMark(Tc.mark.symbol,{parent:this._containerMark,dataView:this.getRawData()})}initMarkStyle(){const e=this._clipMark;e&&(this.setMarkStyle(e,{x:-this._spec.leftAppendPadding,y:0,width:1e4,height:this._spec.clipHeight,clip:!0},"normal",Ve.Series),e.setInteractive(!1));const t=this._containerMark;t&&(this.setMarkStyle(t,{x:this._spec.leftAppendPadding},"normal",Ve.Series),t.setInteractive(!1));const n=this._gridBackgroundMark;n&&this.setMarkStyle(n,{x:this.getRegionRectLeft.bind(this),x1:this.getRegionRectRight.bind(this),y:this.dataToGridBackgroundPositionY.bind(this),y1:this.dataToGridBackgroundPositionY1.bind(this),fill:this._gridBackground.fill,fillOpacity:this.dataToGridBackgroundOpacity.bind(this)},"normal",Ve.Series);const r=this._gridMark;r&&this.setMarkStyle(r,{stroke:this.getColorAttribute(),x:this.getRegionRectLeft.bind(this),y:this.dataToPositionY.bind(this),x1:this.getRegionRectRight.bind(this),y1:this.dataToPositionY.bind(this)},"normal",Ve.Series);const s=this._dotMark;s&&this.setMarkStyle(s,{x:this.dataToPositionX.bind(this),y:this.dataToPositionY.bind(this),fill:this.getDotColorAttribute(),fillOpacity:this.dataToOpacity.bind(this)},"normal",Ve.Series);const a=this._titleMark;a&&this.setMarkStyle(a,{fill:this.getColorAttribute(),text:u=>u[this.getTitleField()],x:this.getRegionRectLeft.bind(this),y:this.dataToPositionY.bind(this)},"normal",Ve.Series);const o=this._subTitleMark;o&&this.setMarkStyle(o,{fill:this.getColorAttribute(),text:u=>u[this.getSubTitleField()],x:this.getRegionRectLeft.bind(this),y:this.dataToPositionY.bind(this)},"normal",Ve.Series);const l=this._symbolMark;l&&this.setMarkStyle(l,{x:this.getRegionRectLeft.bind(this),y:this.dataToPositionY.bind(this),fill:this.getColorAttribute()},"normal",Ve.Series)}dataToGridBackgroundPositionY(e){if(!this._yAxisHelper)return Number.NaN;const{dataToPosition:t,getBandwidth:n}=this._yAxisHelper;return t(this.getDatumPositionValues(e,this._fieldY),{bandPosition:this._bandPosition})-n(0)/2}dataToGridBackgroundPositionY1(e){if(!this._yAxisHelper)return Number.NaN;const{dataToPosition:t,getBandwidth:n}=this._yAxisHelper;return t(this.getDatumPositionValues(e,this._fieldY),{bandPosition:this._bandPosition})+n(0)/2}dataToOpacity(e){var t,n,r,s;if(!this._xAxisHelper)return Number.NaN;const{dataToPosition:a,getScale:o}=this._xAxisHelper;return a(this.getDatumPositionValues(e,this._fieldX),{bandPosition:this._bandPosition})<o(0).range()[0]||a(this.getDatumPositionValues(e,this._fieldX),{bandPosition:this._bandPosition})>o(0).range()[1]?0:(s=(r=(n=(t=this._theme)===null||t===void 0?void 0:t.dot)===null||n===void 0?void 0:n.style)===null||r===void 0?void 0:r.fillOpacity)!==null&&s!==void 0?s:1}dataToGridBackgroundOpacity(e){return e[this._seriesGroupField]===this._highLightSeriesGroup?this._gridBackground.fillOpacity:0}onLayoutEnd(e){var t,n;super.onLayoutEnd(e);const r=(n=(t=this._spec)===null||t===void 0?void 0:t.leftAppendPadding)!==null&&n!==void 0?n:0;this.setMarkStyle(this._clipMark,{width:this.getLayoutRect().width+r},"normal",Ve.Series)}getDefaultColorDomain(){var e,t;return this._seriesGroupField?(e=this.getViewDataStatistics())===null||e===void 0?void 0:e.latestData[this._seriesGroupField].values:this._seriesField?(t=this.getViewDataStatistics())===null||t===void 0?void 0:t.latestData[this._seriesField].values:[]}getColorAttribute(){var e,t,n;return{scale:(e=this._option.globalScale.getScale("color"))!==null&&e!==void 0?e:this._getDefaultColorScale(),field:(n=(t=this._seriesGroupField)!==null&&t!==void 0?t:this._seriesField)!==null&&n!==void 0?n:$u}}getDotColorScale(){var e,t,n;const r=this._dotTypeField?(e=this.getViewDataStatistics())===null||e===void 0?void 0:e.latestData[this._dotTypeField].values:this._seriesGroupField?(t=this.getViewDataStatistics())===null||t===void 0?void 0:t.latestData[this._seriesGroupField].values:this._seriesField?(n=this.getViewDataStatistics())===null||n===void 0?void 0:n.latestData[this._seriesField].values:[],s=this._getDataScheme();return new pP().domain(r).range(s)}getDotColorAttribute(){var e,t,n,r;return{scale:(e=this._option.globalScale.getScale("color"))!==null&&e!==void 0?e:this.getDotColorScale(),field:(r=(n=(t=this._dotTypeField)!==null&&t!==void 0?t:this._seriesGroupField)!==null&&n!==void 0?n:this._seriesField)!==null&&r!==void 0?r:$u}}initTooltip(){this._tooltipHelper=new KEt(this),this._dotMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._dotMark)}onEvaluateEnd(e){super.onEvaluateEnd(e)}onMarkTreePositionUpdate(e){e.forEach(t=>{t.type==="group"?this.onMarkTreePositionUpdate(t.getMarks()):t.updateLayoutState()})}getDotData(){var e;return(e=this._dotMark)===null||e===void 0?void 0:e.getData()}_getDataIdKey(){}getStackValueField(){return null}getActiveMarks(){return[this._dotMark]}}Tc.type=xe.dot,Tc.mark=qEe;const ZEt=()=>{_m(),Kw(),bm(),Ju(),ce.registerSeries(Tc.type,Tc)};class QEt extends hu{getDefaultTooltipPattern(e){return e==="mark"?{visible:!0,activeType:e,title:{key:"link info",value:"link info"},content:[{hasShape:!0,shapeType:"square",shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,key:"time",value:t=>Yh.getInstance().timeFormat("%Y%m%d %H:%M",t.from.split("_")[1])},{hasShape:!0,shapeType:"square",shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,key:"type",value:t=>t.action_type},{hasShape:!0,shapeType:"square",shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,key:"from",value:t=>t.from},{hasShape:!0,shapeType:"square",shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,key:"to",value:t=>t.to}]}:null}}const JEt=(i,e)=>{const{infoKey:t,fields:n,linkData:r,dotData:s}=e,{fromField:a,toField:o,xField:l,yField:u}=n(),c=r(),d=s(),h={};return d.forEach(p=>{const f={};for(const v in p)v!==t&&(f[v]=p[v]);const g=p[t];g==null||g.forEach(v=>{h[v.node_name]=Object.assign({},f,v)})}),c.forEach(p=>{var f,g,v,m;p[a+"_xField"]=(f=h==null?void 0:h[p[a]])===null||f===void 0?void 0:f[l],p[a+"_yField"]=(g=h==null?void 0:h[p[a]])===null||g===void 0?void 0:g[u],p[o+"_xField"]=(v=h==null?void 0:h[p[o]])===null||v===void 0?void 0:v[l],p[o+"_yField"]=(m=h==null?void 0:h[p[o]])===null||m===void 0?void 0:m[u]}),c};class Rg extends sh{constructor(){super(...arguments),this.type=xe.link}getFromField(){return this._fromField}setFromField(e){X(e)&&(this._fromField=e)}getToField(){return this._toField}setToField(e){X(e)&&(this._toField=e)}getDotTypeField(){return this._dotTypeField}setDotTypeField(e){X(e)&&(this._dotTypeField=e)}getDotSeriesSpec(){return this._dotSeriesSpec}setDotSeriesSpec(e){X(e)&&(this._dotSeriesSpec=e)}_getDotData(){const e=this._option.getChart().getSeriesInIndex([this._spec.dotSeriesIndex])[0];return e?e.getRawData().latestData:[]}initData(){var e;super.initData(),pi(this._option.dataSet,"linkDotInfo",JEt),(e=this.getViewData())===null||e===void 0||e.transform({type:"linkDotInfo",options:{infoKey:"dots",fields:()=>({fromField:this._fromField,toField:this._toField,xField:this._dotSeriesSpec.xField,yField:this._dotSeriesSpec.yField}),linkData:()=>this._rawData.latestData,dotData:()=>this._getDotData()},level:cp.linkDotInfo},!1)}setAttrFromSpec(){super.setAttrFromSpec(),this.setFromField(this._spec.fromField),this.setToField(this._spec.toField),this.setDotTypeField(this._spec.dotTypeField),this.setDotSeriesSpec(this._spec.dotSeriesSpec)}initMark(){this._clipMark=this._createMark(Rg.mark.group),this._containerMark=this._createMark(Rg.mark.group,{parent:this._clipMark}),this._linkMark=this._createMark(Rg.mark.link,{skipBeforeLayouted:!1,parent:this._containerMark}),this._arrowMark=this._createMark(Rg.mark.arrow,{skipBeforeLayouted:!1,isSeriesMark:!0,parent:this._containerMark})}initMarkStyle(){var e,t,n,r;const s=this._clipMark;s&&(this.setMarkStyle(s,{x:-this._spec.leftAppendPadding,y:0,width:1e4,height:this._spec.clipHeight,clip:!0},"normal",Ve.Series),s.setInteractive(!1));const a=this._containerMark;a&&(this.setMarkStyle(a,{x:this._spec.leftAppendPadding,width:this.getLayoutRect().width},"normal",Ve.Series),a.setInteractive(!1));const o=this._linkMark;o&&this.setMarkStyle(o,{stroke:this.getColorAttribute(),strokeOpacity:this.dataToOpacity.bind(this),x:this.dataToPositionXFrom.bind(this),y:this.dataToPositionYFrom.bind(this),x1:this.dataToPositionXTo.bind(this),y1:this.dataToPositionYTo.bind(this)},"normal",Ve.Series);const l=this._arrowMark;if(l){const u=(r=(n=(t=(e=this._theme)===null||e===void 0?void 0:e.arrow)===null||t===void 0?void 0:t.style)===null||n===void 0?void 0:n.size)!==null&&r!==void 0?r:10;this.setMarkStyle(l,{x:this.dataToPositionXTo.bind(this),y:c=>this.dataToPositionArrowYTo(c,u),fill:this.getColorAttribute(),fillOpacity:this.dataToOpacity.bind(this),size:u,symbolType:c=>this.isPositionYFromHigher(c)?"triangleDown":"triangleUp"},"normal",Ve.Series)}}afterInitMark(){super.afterInitMark()}dataToPositionXFrom(e){if(!this._xAxisHelper)return Number.NaN;const{dataToPosition:t}=this._xAxisHelper;return t(this.getDatumPositionValues(e,this._fromField+"_xField"),{bandPosition:this._bandPosition})}dataToPositionYFrom(e){if(!this._yAxisHelper)return Number.NaN;const{dataToPosition:t}=this._yAxisHelper;return t(this.getDatumPositionValues(e,this._fromField+"_yField"))}dataToPositionXTo(e){if(!this._xAxisHelper)return Number.NaN;const{dataToPosition:t}=this._xAxisHelper;return t(this.getDatumPositionValues(e,this._toField+"_xField"),{bandPosition:this._bandPosition})}dataToPositionYTo(e){if(!this._yAxisHelper)return Number.NaN;const{dataToPosition:t}=this._yAxisHelper;return t(this.getDatumPositionValues(e,this._toField+"_yField"),{bandPosition:this._bandPosition})}dataToPositionArrowYTo(e,t){if(!this._yAxisHelper)return Number.NaN;const{dataToPosition:n}=this._yAxisHelper,r=this.isPositionYFromHigher(e)?-t/2:t/2;return n(this.getDatumPositionValues(e,this._toField+"_yField"),{bandPosition:this._bandPosition})+r}dataToOpacity(e){return this.isPositionXOuterRange(e,this._fromField+"_xField")||this.isPositionXOuterRange(e,this._toField+"_xField")||e[this._fromField]===e[this._toField]?0:1}isPositionYFromHigher(e){return this.dataToPositionYFrom(e)<this.dataToPositionYTo(e)}isPositionXOuterRange(e,t){if(!this._xAxisHelper)return!1;const{dataToPosition:n,getScale:r}=this._xAxisHelper;return n(this.getDatumPositionValues(e,t),{bandPosition:this._bandPosition})<r(0).range()[0]||n(this.getDatumPositionValues(e,t),{bandPosition:this._bandPosition})>r(0).range()[1]}getDefaultColorDomain(){var e,t;return this._dotTypeField?(e=this.getViewDataStatistics())===null||e===void 0?void 0:e.latestData[this._dotTypeField].values:this._seriesField?(t=this.getViewDataStatistics())===null||t===void 0?void 0:t.latestData[this._seriesField].values:[]}getColorAttribute(){var e,t,n;return{scale:(e=this._option.globalScale.getScale("color"))!==null&&e!==void 0?e:this._getDefaultColorScale(),field:(n=(t=this._dotTypeField)!==null&&t!==void 0?t:this._seriesField)!==null&&n!==void 0?n:$u}}initInteraction(){const e=[];this._linkMark&&e.push(this._linkMark),this._arrowMark&&e.push(this._arrowMark),this._parseInteractionConfig(e)}initTooltip(){this._tooltipHelper=new QEt(this),this._linkMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._linkMark),this._arrowMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._arrowMark)}onMarkTreePositionUpdate(e){e.forEach(t=>{t.type==="group"?this.onMarkTreePositionUpdate(t.getMarks()):t.updateLayoutState()})}getDotInfoData(){var e,t;return(t=(e=this._linkMark)!==null&&e!==void 0?e:this._arrowMark)===null||t===void 0?void 0:t.getData()}getActiveMarks(){return[this._linkMark,this._arrowMark]}}Rg.type=xe.link,Rg.mark=XEe;const eAt=()=>{Kw(),_m(),Qu(),Zu(),ce.registerSeries(Rg.type,Rg)};class qw extends yP{constructor(){super(...arguments),this._arcGroupMark=null,this._getAngleValueStart=e=>{const t=this._getAngleAxis(),{tickMask:n}=this._spec;if(n!=null&&n.forceAlign&&this._isTickMaskVisible(t)){const r=e[this.getStack()?Uu:Z3],s=this._getAngleAxisSubTickData(t),a=s[1].value-s[0].value,o=Pn(n.offsetAngle);let l;if(X(r)){const u=eae(s,d=>d.value-r),c=r>s[u].value-a/2?Math.min(u,s.length-1):u>0?u-1:void 0;c!==void 0&&(l=this.angleAxisHelper.dataToPosition([s[c].value-a/2]))}return Y(l)&&(l=this.angleAxisHelper.dataToPosition([s[0].value-a/2])),l+o}return this._getAngleValueStartWithoutMask(e)},this._getAngleValueEnd=e=>{const t=this._getAngleAxis(),{tickMask:n}=this._spec;if(n!=null&&n.forceAlign&&this._isTickMaskVisible(t)){const r=e[this.getStack()?aa:this._angleField[0]],s=this._getAngleAxisSubTickData(t),a=s[1].value-s[0].value,o=Pn(n.offsetAngle),l=eae(s,d=>d.value-r),u=r>s[l].value-a/2?Math.min(l,s.length-1):l>0?l-1:void 0;let c;return c=u!==void 0?this.angleAxisHelper.dataToPosition([s[u].value+a/2]):this.angleAxisHelper.dataToPosition([s[0].value-a/2]),c+o}return this._getAngleValueEndWithoutMask(e)}}setAttrFromSpec(){var e,t,n;super.setAttrFromSpec();const r=(e=this._option.globalInstance.getChart())===null||e===void 0?void 0:e.getSpec(),s=(t=this._spec.startAngle)!==null&&t!==void 0?t:r==null?void 0:r.startAngle;this._startAngle=X(s)?Pn(s):S$;const a=(n=this._spec.endAngle)!==null&&n!==void 0?n:r==null?void 0:r.endAngle;this._endAngle=X(a)?Pn(a):zX,this.setAngleField(this._spec.valueField||this._spec.angleField),this.setRadiusField(this._spec.categoryField||this._spec.radiusField),this._specAngleField=this._angleField.slice(),this._specRadiusField=this._radiusField.slice()}getStackGroupFields(){return this._radiusField}getStackValueField(){var e;return(e=this._angleField)===null||e===void 0?void 0:e[0]}getGroupFields(){return this._angleField}_convertMarkStyle(e){const t=super._convertMarkStyle(e);if(t.fill){const n=e.fill;(n==null?void 0:n.gradient)!=="conical"||X(n==null?void 0:n.startAngle)||X(n==null?void 0:n.endAngle)||(t.fill=Object.assign(Object.assign({},n),{startAngle:this._startAngle,endAngle:this._endAngle}))}return t}_getAngleValueStartWithoutMask(e){if(this.getStack()){const t=kn(this.angleAxisHelper.dataToPosition([e[Uu]]),this.angleAxisHelper.getScale(0));if(Ce(t))return t}return this._startAngle}_getAngleValueEndWithoutMask(e){if(this.getStack()){const t=kn(this.angleAxisHelper.dataToPosition([e[aa]]),this.angleAxisHelper.getScale(0));if(Ce(t))return t}return this.angleAxisHelper.dataToPosition([e[this._angleField[0]]])}getDimensionField(){return this._specRadiusField}getMeasureField(){return this._specAngleField}initMark(){this._initArcGroupMark()}initMarkStyle(){this._initArcGroupMarkStyle()}_initArcGroupMark(){return this._arcGroupMark=this._createMark(qw.mark.group,{skipBeforeLayouted:!1}),this._arcGroupMark}_initArcGroupMarkStyle(){const e=this._arcGroupMark;e.setZIndex(this.layoutZIndex),e.created(),this.setMarkStyle(e,{x:0,y:0},"normal",Ve.Series),e.setClip(()=>{const t=this._getAngleAxis();if(this._isTickMaskVisible(t)){const{tickMask:s}=this._spec,{angle:a,offsetAngle:o,style:l={}}=s,u=this._getAngleAxisSubTickData(t),{x:c,y:d}=this.angleAxisHelper.center(),h=this._computeLayoutRadius(),p=l;return u.map(({value:f})=>{const g=this.angleAxisHelper.dataToPosition([f])+Pn(o),v=Pn(a)/2;return _X(Object.assign(Object.assign({},p),{x:c,y:d,startAngle:g-v,endAngle:g+v,innerRadius:h*this._innerRadius,outerRadius:h*this._outerRadius,fill:!0}))})}const{width:n,height:r}=this.getLayoutRect();return[z_({width:n,height:r,fill:!0})]}),this._arcGroupMark.setInteractive(!1)}_getAngleAxis(){if(!this.angleAxisHelper)return;const e=this.angleAxisHelper.getAxisId();return this._option.getChart().getAllComponents().find(t=>t.id===e)}_getAngleAxisTickData(e){var t;return(t=e==null?void 0:e.getTickData())===null||t===void 0?void 0:t.getLatestData()}_isTickMaskVisible(e){const t=this._getAngleAxisTickData(e),{tickMask:n}=this._spec;return n&&n.visible!==!1&&(t==null?void 0:t.length)>1}_getAngleAxisSubTickData(e){var t;const n=this._getAngleAxisTickData(e),r=[],{subTick:s={},tick:a={}}=(t=e==null?void 0:e.getSpec())!==null&&t!==void 0?t:{},{tickCount:o=4}=s,{alignWithLabel:l}=a;if((n==null?void 0:n.length)>=2){const u=n[1].value-n[0].value;for(let c=0;c<n.length-1;c++){const d=n[c],h=n[c+1];r.push(d);for(let p=0;p<o;p++){const f=(p+1)/(o+1),g=(1-f)*d.value+f*(h?h.value:l?1:d.value+u);r.push({value:g})}}return r.push(n[n.length-1]),r}return n}}qw.mark=iq;const tAt=i=>({type:"growAngleIn",options:{overall:i.startAngle}}),iAt={type:"fadeIn"};function nAt(i,e){return e==="fadeIn"?iAt:tAt(i)}const e2e=()=>{ce.registerAnimation("circularProgress",(i,e)=>({appear:nAt(i,e),enter:{type:"growAngleIn"},disappear:{type:"growAngleOut"}}))};class t2e extends pu{constructor(){super(...arguments),this._supportStack=!0}}class t0 extends qw{constructor(){super(...arguments),this.type=xe.circularProgress,this.transformerConstructor=t2e,this._progressMark=null,this._trackMark=null,this._getRadiusValueStart=e=>{if(this.getGroupFields().length>1){const t=this.radiusAxisHelper.dataToPosition(this.getDatumPositionValues(e,this.getGroupFields()));if(Ce(t))return t}return this.radiusAxisHelper.dataToPosition([e[this._radiusField[0]]])},this._getRadiusValueEnd=e=>{var t,n;if(this.getGroupFields().length>1){const r=this.radiusAxisHelper.dataToPosition(this.getDatumPositionValues(e,this.getGroupFields()))+((n=(t=this.radiusAxisHelper).getBandwidth)===null||n===void 0?void 0:n.call(t,this._groups?this._groups.fields.length-1:0));if(Ce(r))return r}return this.radiusAxisHelper.dataToPosition([e[this._radiusField[0]]])+this.radiusAxisHelper.getScale(0).step()}}getStackGroupFields(){return this.getGroupFields()}getGroupFields(){return this._radiusField}initMark(){super.initMark(),this._initTrackMark(),this._initProgressMark()}initMarkStyle(){super.initMarkStyle(),this._initTrackMarkStyle(),this._initProgressMarkStyle()}_initProgressMark(){var e,t;return this._progressMark=this._createMark(t0.mark.progress,{parent:this._arcGroupMark,isSeriesMark:!0,customShape:(e=this._spec.progress)===null||e===void 0?void 0:e.customShape,stateSort:(t=this._spec.progress)===null||t===void 0?void 0:t.stateSort}),this._progressMark}_initProgressMarkStyle(){var e;const t=this._progressMark;t&&this.setMarkStyle(t,{x:()=>this.angleAxisHelper.center().x,y:()=>this.angleAxisHelper.center().y,startAngle:this._getAngleValueStart,endAngle:this._getAngleValueEnd,innerRadius:this._getRadiusValueStart,outerRadius:this._getRadiusValueEnd,cap:(e=this._spec.roundCap)!==null&&e!==void 0&&e,boundsMode:"imprecise",cornerRadius:this._spec.cornerRadius,fill:this.getColorAttribute(),zIndex:200,forceShowCap:!0},"normal",Ve.Series)}initInteraction(){const e=[];this._trackMark&&e.push(this._trackMark),this._progressMark&&e.push(this._progressMark),this._parseInteractionConfig(e)}initTooltip(){super.initTooltip(),this._progressMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._progressMark)}_initTrackMark(){var e,t;return this._trackMark=this._createMark(t0.mark.track,{parent:this._arcGroupMark,customShape:(e=this._spec.track)===null||e===void 0?void 0:e.customShape,stateSort:(t=this._spec.track)===null||t===void 0?void 0:t.stateSort}),this._trackMark}_initTrackMarkStyle(){const e=this._trackMark;e&&this.setMarkStyle(e,{visible:t=>{const n=this.angleAxisHelper.getScale(0).range(),r=Math.min(n[0],n[n.length-1]),s=this._getAngleValueStartWithoutMask(t);return Math.abs(s-r)<=1e-14},x:()=>this.angleAxisHelper.center().x,y:()=>this.angleAxisHelper.center().y,startAngle:()=>{const t=this.getStack()?Uu:this._angleField[0],n=this.angleAxisHelper.getScale(0).domain();return this._getAngleValueStart({[t]:n[0]})},endAngle:()=>{const t=this.getStack()?aa:this._angleField[0],n=this.angleAxisHelper.getScale(0).domain();return this._getAngleValueEnd({[t]:n[n.length-1]})},innerRadius:this._getRadiusValueStart,outerRadius:this._getRadiusValueEnd,cornerRadius:this._spec.cornerRadius,fill:this.getColorAttribute(),zIndex:100},"normal",Ve.Series)}initAnimation(){var e,t,n,r;const s=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;this._progressMark.setAnimationConfig(Yi((n=ce.getAnimationInKey("circularProgress"))===null||n===void 0?void 0:n({startAngle:this._startAngle},s),an("progress",this._spec,this._markAttributeContext))),this._trackMark.setAnimationConfig(Yi((r=ce.getAnimationInKey("fadeInOut"))===null||r===void 0?void 0:r(),an("track",this._spec,this._markAttributeContext)))}getActiveMarks(){return[this._progressMark]}}t0.type=xe.circularProgress,t0.mark=KEe,t0.transformerConstructor=t2e;const rAt=()=>{ce.registerSeries(t0.type,t0),wb(),e2e(),vm(),_P(),Xw()};function i2e(i){return()=>i.direction==="vertical"?{orient:"negative"}:{orient:"positive"}}const sAt=i=>({type:i.direction==="horizontal"?"growWidthIn":"growHeightIn",options:i2e(i)}),aAt=i=>({type:i.direction==="horizontal"?"growWidthOut":"growHeightOut",options:i2e(i)}),oAt={type:"fadeIn"};function lAt(i,e){return e===!1?{}:e==="fadeIn"?oAt:sAt(i)}const uAt=()=>{ce.registerAnimation("linearProgress",(i,e)=>({appear:lAt(i,e),enter:{type:"grow"},disappear:aAt(i)}))};class cAt extends hu{getDefaultTooltipPattern(e,t){const n=super.getDefaultTooltipPattern(e,t);switch(e){case"mark":case"group":return n;case"dimension":return n.visible=!1,n}return null}}class i0 extends sh{constructor(){super(...arguments),this.type=xe.linearProgress,this._progressMark=null,this._trackMark=null,this._progressGroupMark=null}initMark(){this._initProgressGroupMark(),this._initTrackMark(),this._initProgressMark()}initMarkStyle(){this._initProgressGroupMarkStyle(),this._initTrackMarkStyle(),this._initProgressMarkStyle()}_initProgressMark(){var e,t;return this._progressMark=this._createMark(i0.mark.progress,{isSeriesMark:!0,parent:this._progressGroupMark,customShape:(e=this._spec.progress)===null||e===void 0?void 0:e.customShape,stateSort:(t=this._spec.progress)===null||t===void 0?void 0:t.stateSort}),this._progressMark}_initProgressMarkStyle(){var e,t,n,r,s,a,o,l;const u=this._progressMark;if(u)if(this._spec.direction==="vertical"){const c=(t=(e=this._spec.progress)===null||e===void 0?void 0:e.leftPadding)!==null&&t!==void 0?t:0,d=(r=(n=this._spec.progress)===null||n===void 0?void 0:n.rightPadding)!==null&&r!==void 0?r:0;this.setMarkStyle(u,{x:h=>{var p,f;return kn(this.dataToPositionX(h),(f=(p=this._xAxisHelper)===null||p===void 0?void 0:p.getScale)===null||f===void 0?void 0:f.call(p,0))-this._spec.bandWidth/2+c},y:h=>{var p,f;return kn(this.dataToPositionY(h),(f=(p=this._yAxisHelper)===null||p===void 0?void 0:p.getScale)===null||f===void 0?void 0:f.call(p,0))},height:()=>{var h;return(h=this._yAxisHelper)===null||h===void 0?void 0:h.dataToPosition([0],{bandPosition:this._bandPosition})},width:this._spec.bandWidth-c-d,cornerRadius:this._spec.cornerRadius,fill:this.getColorAttribute()},"normal",Ve.Series)}else{const c=(a=(s=this._spec.progress)===null||s===void 0?void 0:s.topPadding)!==null&&a!==void 0?a:0,d=(l=(o=this._spec.progress)===null||o===void 0?void 0:o.bottomPadding)!==null&&l!==void 0?l:0;this.setMarkStyle(u,{x:h=>{var p,f;return kn(this.dataToPositionX(h),(f=(p=this._xAxisHelper)===null||p===void 0?void 0:p.getScale)===null||f===void 0?void 0:f.call(p,0))-this._xAxisHelper.dataToPosition([1],{bandPosition:this._bandPosition})},y:h=>{var p,f;return kn(this.dataToPositionY(h),(f=(p=this._yAxisHelper)===null||p===void 0?void 0:p.getScale)===null||f===void 0?void 0:f.call(p,0))-this._spec.bandWidth/2+c},height:this._spec.bandWidth-c-d,width:()=>{var h;return(h=this._xAxisHelper)===null||h===void 0?void 0:h.dataToPosition([1],{bandPosition:this._bandPosition})},cornerRadius:this._spec.cornerRadius,fill:this.getColorAttribute()},"normal",Ve.Series)}}_initTrackMark(){var e,t;return this._trackMark=this._createMark(i0.mark.track,{parent:this._progressGroupMark,customShape:(e=this._spec.track)===null||e===void 0?void 0:e.customShape,stateSort:(t=this._spec.track)===null||t===void 0?void 0:t.stateSort}),this._trackMark}_initTrackMarkStyle(){const e=this._trackMark;e&&(this._spec.direction==="vertical"?this.setMarkStyle(e,{x:t=>{var n,r;return kn(this.dataToPositionX(t),(r=(n=this._xAxisHelper)===null||n===void 0?void 0:n.getScale)===null||r===void 0?void 0:r.call(n,0))-this._spec.bandWidth/2},y:0,width:this._spec.bandWidth,height:()=>this._scaleY.range()[0],cornerRadius:this._spec.cornerRadius},"normal",Ve.Series):this.setMarkStyle(e,{x:0,y:t=>{var n,r;return kn(this.dataToPositionY(t),(r=(n=this._yAxisHelper)===null||n===void 0?void 0:n.getScale)===null||r===void 0?void 0:r.call(n,0))-this._spec.bandWidth/2},height:this._spec.bandWidth,width:()=>this._scaleX.range()[1],cornerRadius:this._spec.cornerRadius},"normal",Ve.Series))}_initProgressGroupMark(){return this._progressGroupMark=this._createMark(i0.mark.group,{skipBeforeLayouted:!1}),this._progressGroupMark}_initProgressGroupMarkStyle(){const e=this._progressGroupMark;e.setZIndex(this.layoutZIndex),e.created(),this.setMarkStyle(e,{clip:!0,x:0,y:0,path:()=>{var t;const n=[];return(t=this._rawData)===null||t===void 0||t.rawData.forEach((r,s)=>{var a,o,l,u;if(this._spec.direction==="vertical"){const c=kn(this.dataToPositionX(r),(o=(a=this._xAxisHelper)===null||a===void 0?void 0:a.getScale)===null||o===void 0?void 0:o.call(a,0))-this._spec.bandWidth/2,d=this._scaleY.range()[0];n.push(z_({x:c,y:0,height:d,width:this._spec.bandWidth,cornerRadius:this._spec.cornerRadius,fill:!0}))}else{const c=kn(this.dataToPositionY(r),(u=(l=this._yAxisHelper)===null||l===void 0?void 0:l.getScale)===null||u===void 0?void 0:u.call(l,0))-this._spec.bandWidth/2,d=this._scaleX.range()[1];n.push(z_({x:0,y:c,height:this._spec.bandWidth,width:d,cornerRadius:this._spec.cornerRadius,fill:!0}))}}),n}},"normal",Ve.Series),this._progressGroupMark.setInteractive(!1)}initInteraction(){const e=[];this._trackMark&&e.push(this._trackMark),this._progressMark&&e.push(this._progressMark),this._parseInteractionConfig(e)}initAnimation(){var e,t,n,r;const s={direction:this.direction},a=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;this._progressMark.setAnimationConfig(Yi((n=ce.getAnimationInKey("linearProgress"))===null||n===void 0?void 0:n(s,a),an("progress",this._spec,this._markAttributeContext))),this._trackMark.setAnimationConfig(Yi((r=ce.getAnimationInKey("fadeInOut"))===null||r===void 0?void 0:r(),an("track",this._spec,this._markAttributeContext)))}initTooltip(){this._tooltipHelper=new cAt(this),this._progressMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._progressMark),this._trackMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._trackMark)}getActiveMarks(){return[this._progressMark]}}i0.type=xe.linearProgress,i0.mark=JEe;const dAt=()=>{bm(),uAt(),vm(),ce.registerSeries(i0.type,i0)},xhe=[0],hAt="hidden",whe=20,pAt=[20,40],fAt=[200,500],gAt="circle",mAt={shrink:!1,enlarge:!1,fontSizeLimitMin:0},vAt=!0,Che=1,yAt=["triangleForward","triangle","diamond","square","star","cardioid","circle","pentagon","rect"],o8=`${Ut}_WORD_CLOUD_WEIGHT`,khe=`${Ut}_WORD_CLOUD_TEXT`;class ow extends tb{constructor(){super(...arguments),this._fontSizeRange=[whe,whe],this._isWordCloudShape=!1,this._dataChange=!0,this.getWordColor=e=>e.isFillingWord?(this._fillingColorCallback&&!this._dataChange||(this._fillingColorCallback=this._wordCloudShapeConfig.fillingColorHexField?t=>t[this._wordCloudShapeConfig.fillingColorHexField]:this.initColorCallback(this._wordCloudShapeConfig.fillingSeriesField,!0)),this._fillingColorCallback(e)):(this._keyWordColorCallback&&!this._dataChange||(this._keyWordColorCallback=this._colorHexField?t=>t[this._colorHexField]:this.initColorCallback(this._seriesField,!1)),this._keyWordColorCallback(e))}setValueField(e){X(e)&&(this._valueField=e)}setFontSizeRange(e){X(e)?this._fontSizeRange=e:this._fontSizeRange=pAt}setAttrFromSpec(){var e,t,n,r,s,a,o,l,u,c;super.setAttrFromSpec(),this._padding=this._option.getChart().padding,this._nameField=this._spec.nameField,this._fontFamilyField=this._spec.fontFamilyField,this._fontWeightField=this._spec.fontWeightField,this._fontStyleField=this._spec.fontStyleField,this._colorHexField=this._spec.colorHexField,this._colorMode=(e=this._spec.colorMode)!==null&&e!==void 0?e:"ordinal",this._colorList=this._spec.colorList,this.setValueField(this._spec.valueField),this._fontWeightRange=(t=this._spec.fontWeightRange)!==null&&t!==void 0?t:fAt,this._rotateAngles=(n=this._spec.rotateAngles)!==null&&n!==void 0?n:xhe,this.setFontSizeRange(this._spec.fontSizeRange),this._maskShape=(r=this._spec.maskShape)!==null&&r!==void 0?r:gAt,this._keepAspect=this._spec.keepAspect,this._random=(s=this._spec.random)!==null&&s!==void 0?s:vAt,this._fontPadding=(o=(a=this._spec.word)===null||a===void 0?void 0:a.padding)!==null&&o!==void 0?o:Che,this._textField=!((l=this._spec.word)===null||l===void 0)&&l.formatMethod?khe:this._nameField,this._wordCloudConfig=Object.assign({drawOutOfBound:hAt,layoutMode:"default",zoomToFit:mAt},this._spec.wordCloudConfig),this._wordCloudShapeConfig=Object.assign({fillingSeriesField:this.getSeriesField(),fillingRotateAngles:xhe,layoutMode:"default"},this._spec.wordCloudShapeConfig),this._fillingFontPadding=(c=(u=this._spec.fillingWord)===null||u===void 0?void 0:u.padding)!==null&&c!==void 0?c:Che,this._isWordCloudShape=!yAt.includes(this._maskShape),this._defaultFontFamily=this._option.getTheme().fontFamily}initData(){var e,t;super.initData(),(t=(e=this.getViewData())===null||e===void 0?void 0:e.target)===null||t===void 0||t.addListener("change",()=>{this._dataChange=!0,this.compile()})}initMark(){this._wordMark=this._createMark(ow.mark.word,{key:rp,defaultMorphElementKey:this._seriesField,groupKey:this._seriesField,isSeriesMark:!0})}initMarkStyle(){var e,t,n;const r=this._wordMark,s=(e=this._spec.word)!==null&&e!==void 0?e:{};r&&(this.setMarkStyle(r,{fill:this.getWordColor,text:a=>a[this._textField],x:a=>a.x,y:a=>a.y,fontFamily:a=>a.fontFamily,fontSize:a=>a.fontSize,fontStyle:a=>a.fontStyle,fontWeight:a=>a.fontWeight,angle:a=>a.angle,visible:a=>a.visible},"normal",Ve.Series),this.setMarkStyle(r,{fontFamily:(n=(t=s.style)===null||t===void 0?void 0:t.fontFamily)!==null&&n!==void 0?n:this._defaultFontFamily},"normal",Ve.User_Mark))}initTooltip(){super.initTooltip(),this._wordMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._wordMark)}initAnimation(){var e,t;const n=this._wordMark;if(n){const r=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset,s={animationConfig:()=>{var a,o;return(o=(a=n.getAnimationConfig())===null||a===void 0?void 0:a.appear)===null||o===void 0?void 0:o[0]}};n.setAnimationConfig(Yi(ce.getAnimationInKey("wordCloud")(s,r),an("word",this._spec,this._markAttributeContext)))}}getWordOrdinalColorScale(e,t){var n,r,s,a,o;const l=t?this._wordCloudShapeConfig.fillingColorList:this._colorList,u=e?(n=this.getViewData())===null||n===void 0?void 0:n.latestData.map(d=>d[e]):[],c=(s=l??((r=this._option.globalScale.getScale("color"))===null||r===void 0?void 0:r.range()))!==null&&s!==void 0?s:this._getDataScheme();return(o=(a=new pP().domain(u)).range)===null||o===void 0?void 0:o.call(a,c)}initColorCallback(e,t){var n;if(this._colorMode==="ordinal"){const s=this.getWordOrdinalColorScale(e,t);return a=>{var o;return s.scale(a[(o=this._seriesField)!==null&&o!==void 0?o:$u])}}let r=(n=t?this._colorList:this._wordCloudShapeConfig.fillingColorList)!==null&&n!==void 0?n:this._option.globalScale.getScale("color").range();return r.length===1&&(r=[r[0],r[0]]),s=>r[0]}compile(){var e,t;super.compile();const{width:n,height:r}=this._region.getLayoutRect();if(!Ce(n)||!Ce(r)||!(r>0&&n>0))return;const s=[],a=this._valueField,o=new Zd,l=this._fontWeightRange;if(a){const[c,d]=G5((e=this.getViewData())===null||e===void 0?void 0:e.latestData.map(h=>+h[a]));o.domain([c,d],!0).range(l),s.push({type:"map",as:o8,callback:h=>c===d?o.scale(d):o.scale(h[a])})}const u=(t=this._spec.word)!==null&&t!==void 0?t:{};u.formatMethod&&s.push({type:"map",as:khe,callback:u.formatMethod}),this._isWordCloudShape?s.push(Object.assign({type:"wordcloudShape"},this._wordCloudShapeTransformOption())):s.push(Object.assign({type:"wordcloud"},this._wordCloudTransformOption())),this._wordMark.getProduct().transform(s)}_wordCloudTransformOption(){var e,t,n,r,s;const{width:a,height:o}=this._region.getLayoutRect(),l=(t=(e=this._spec.word)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{};return{layoutType:Dc(this._option.mode)?this._wordCloudConfig.layoutMode:"fast",size:[a,o],shape:this._maskShape,dataIndexKey:rp,text:{field:this._textField},fontSize:this._valueField?{field:this._valueField}:this._fontSizeRange[0],fontSizeRange:this._fontSizeRange==="auto"?null:this._fontSizeRange,padding:this._fontPadding,rotate:this._rotateAngles,fontFamily:(r=(n=this._fontFamilyField)!==null&&n!==void 0?n:l.fontFamily)!==null&&r!==void 0?r:this._defaultFontFamily,fontWeight:this._fontWeightField?{field:this._fontWeightField}:this._valueField?{field:o8}:null,fontStyle:(s=this._fontStyleField)!==null&&s!==void 0?s:l.fontStyle,randomVisible:this._random,clip:this._wordCloudConfig.drawOutOfBound==="clip",shrink:this._wordCloudConfig.zoomToFit.shrink,enlarge:this._wordCloudConfig.zoomToFit.enlarge,minFontSize:this._wordCloudConfig.zoomToFit.fontSizeLimitMin,progressiveTime:this._wordCloudConfig.progressiveTime,progressiveStep:this._wordCloudConfig.progressiveStep}}_wordCloudShapeTransformOption(){var e,t,n,r,s,a,o,l,u,c;const{width:d,height:h}=this._region.getLayoutRect(),p=(t=(e=this._spec.word)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{},f=(n=this._wordCloudShapeConfig)!==null&&n!==void 0?n:{},g=this._wordCloudShapeConfig.fillingRotateAngles;return{dataIndexKey:rp,size:[d,h],shape:this._maskShape,text:{field:this._textField},fontSize:this._valueField?{field:this._valueField}:this._fontSizeRange[0],fontSizeRange:this._fontSizeRange==="auto"?null:this._fontSizeRange,padding:this._fontPadding,rotateList:this._rotateAngles,fontFamily:(s=(r=this._fontFamilyField)!==null&&r!==void 0?r:p.fontFamily)!==null&&s!==void 0?s:this._defaultFontFamily,fontWeight:this._fontWeightField?{field:this._fontWeightField}:this._valueField?{field:o8}:null,fontStyle:(a=this._fontStyleField)!==null&&a!==void 0?a:p.fontStyle,fillingFontFamily:(l=(o=f.fillingFontFamilyField)!==null&&o!==void 0?o:p.fontFamily)!==null&&l!==void 0?l:this._defaultFontFamily,fillingPadding:this._fillingFontPadding,fillingFontStyle:(u=f.fillingFontStyleField)!==null&&u!==void 0?u:p.fontStyle,fillingFontWeight:(c=f.fillingFontWeightField)!==null&&c!==void 0?c:p.fontWeight,fillingRotateList:g,fillingTimes:f.fillingTimes,fillingXStep:f.fillingXStep,fillingYStep:f.fillingYStep,fillingXRatioStep:f.fillingXRatioStep,fillingYRatioStep:f.fillingYRatioStep,fillingInitialOpacity:f.fillingInitialOpacity,fillingDeltaOpacity:f.fillingDeltaOpacity,fillingInitialFontSize:f.fillingInitialFontSize,fillingDeltaFontSize:f.fillingDeltaFontSize,ratio:f.ratio,fillingRatio:f.fillingRatio,removeWhiteBorder:f.removeWhiteBorder,textLayoutTimes:f.textLayoutTimes,fontSizeShrinkFactor:f.fontSizeShrinkFactor,stepFactor:f.stepFactor,layoutMode:f.layoutMode,importantWordCount:f.importantWordCount,globalShinkLimit:f.globalShinkLimit,fontSizeEnlargeFactor:f.fontSizeEnlargeFactor,fillingDeltaFontSizeFactor:f.fillingDeltaFontSizeFactor}}getStatisticFields(){const e=[];return e.push({key:this._nameField,operations:["values"]}),e.push({key:this._valueField,operations:["max","min"]}),e}dataToPosition(e){return null}dataToPositionX(e){return null}dataToPositionY(e){return null}dataToPositionZ(e){return null}valueToPosition(e,t){return null}getGroupFields(){return[]}getStackGroupFields(){return[]}getStackValueField(){return""}onLayoutEnd(e){super.onLayoutEnd(e),this.compile(),this._dataChange=!1}getActiveMarks(){return[this._wordMark]}reInit(){super.reInit(),this._keyWordColorCallback&&(this._keyWordColorCallback=null),this._fillingColorCallback&&(this._fillingColorCallback=null)}}ow.mark=$W;const _At=i=>({custom:fot,customParameters:(e,t)=>i,easing:"linear",loop:1/0,duration:6e3});function bAt(i,e,t){return i*t<e?i+(e-t*i)/(t-1):(e-i)/(t-1)}const SAt=i=>({channel:{fontSize:{from:0}},duration:200,delay:(e,t,n)=>{const r=i.animationConfig(),s=(r==null?void 0:r.duration)||200,a=(r==null?void 0:r.totalTime)||Av.appear.duration,o=n.VGRAMMAR_ANIMATION_PARAMETERS.elementCount;return n.VGRAMMAR_ANIMATION_PARAMETERS.elementIndex*bAt(s,a,o)}});function xAt(i,e){return e===!1?{}:e==="fadeIn"?{type:"fadeIn"}:SAt(i)}const n2e=()=>{ce.registerAnimation("wordCloud",(i,e)=>({appear:xAt(i,e),enter:{type:"fadeIn"},exit:{type:"fadeOut"},disappear:{type:"fadeOut"}}))},r2e=()=>{ce.registerAnimation("wordCloud3d",i=>({appear:_At(i)}))},l8={triangleForward:EAt,triangleUpright:Ehe,triangle:Ehe,diamond:wAt,square:kAt,star:CAt,cardioid:AAt,circle:TAt,pentagon:PAt};function wAt(){return function(i){const e=i%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))}}function CAt(){return function(i){const e=(i+.955)%(2*Math.PI/10);return(i+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}function kAt(){return function(i){return Math.min(1/Math.abs(Math.cos(i)),1/Math.abs(Math.sin(i)))}}function Ehe(){return function(i){const e=(i+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))}}function EAt(){return function(i){const e=i%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))}}function AAt(){return function(i){return 1-Math.sin(i)}}function TAt(){return function(){return 1}}function PAt(){return function(i){const e=(i+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))}}function s2e(i,e){const t=e[0],n=e[1];let r=1;const s=[e[0]>>1,e[1]>>1];switch(i){case"cardioid":s[1]=~~(n/2.7*.6),r=Math.floor(Math.min(t/2.3,n/2.6));break;case"triangleForward":r=n/Math.sqrt(.75)>t?Math.floor(t/2):Math.floor(n/(2*Math.sqrt(.75)));break;case"triangle":case"triangleUpright":s[1]=~~(n/1.5),r=Math.floor(Math.min(n/1.5,t/2));break;case"rect":r=Math.floor(Math.max(n/2,t/2));break;default:r=Math.floor(Math.min(t/2,n/2))}return{maxRadius:r,center:s}}const OAt=i=>l8[i]?l8[i]():l8.circle(),Ahe=(i,e)=>"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-i)+i).toFixed()+"%)";function Ay(i){return Pe(i)?i:function(){return i}}class Zw{constructor(e){var t,n;switch(this.options=Ie({},Zw.defaultOptions,e),Pe(this.options.shape)?this.shape=this.options.shape:this.shape=OAt(this.options.shape),this.getText=(t=Ay(this.options.text))!==null&&t!==void 0?t:r=>r,this.getTextFontWeight=Ay(this.options.fontWeight),this.getTextFontSize=Ay(this.options.fontSize),this.getTextFontStyle=Ay(this.options.fontStyle),this.getTextFontFamily=Ay(this.options.fontFamily),this.outputCallback=(n=this.options.outputCallback)!==null&&n!==void 0?n:r=>r,this.options.color){case"random-dark":this.getTextColor=()=>Ahe(10,50);break;case"random-light":this.getTextColor=()=>Ahe(50,90);break;default:this.getTextColor=Ay(this.options.color)}if(Y(this.options.rotate))if(this.options.useRandomRotate){const r=Math.abs(this.options.maxRotation-this.options.minRotation),s=Math.abs(Math.floor(this.options.rotationSteps)),a=Math.min(this.options.maxRotation,this.options.minRotation);this.getTextRotate=()=>this.options.rotateRatio===0||Math.random()>this.options.rotateRatio?0:r===0?a:s>0?a+Math.floor(Math.random()*s)*r/(s-1):a+Math.random()*r}else this.getTextRotate=()=>0;else this.getTextRotate=Pe(this.options.rotate)?r=>{var s;return Pn((s=this.options.rotate(r))!==null&&s!==void 0?s:0)}:(r,s)=>{const a=we(this.options.rotate),o=this.options.random?Math.random():jnt(s);return Pn(a[Math.floor(o*a.length)])}}exceedTime(){var e;return this.options.progressiveStep>0?this.progressiveIndex>=(((e=this.currentStepIndex)!==null&&e!==void 0?e:0)+1)*this.options.progressiveStep:this.options.progressiveTime>0&&new Date().getTime()-this.escapeTime>this.options.progressiveTime}progressiveRun(){var e;if(this.options.progressiveStep>0?this.currentStepIndex=((e=this.currentStepIndex)!==null&&e!==void 0?e:0)+1:this.options.progressiveTime>0&&(this.escapeTime=Date.now()),this.data&&this.progressiveIndex&&this.progressiveIndex<this.data.length){this.progressiveResult=[];const t=this.data.length;let n=this.progressiveIndex;for(;n<t&&(this.layoutWord(n),n++,this.progressiveIndex=n,!this.exceedTime()););return this.progressiveResult}return this.result}initProgressive(){this.progressiveIndex=-1,this.options.progressiveStep>0?this.currentStepIndex=0:this.options.progressiveTime>0&&(this.escapeTime=Date.now()),this.progressiveResult=[]}output(){return this.result?this.outputCallback(this.result):null}progressiveOutput(){return this.progressiveResult?this.outputCallback(this.progressiveResult):null}unfinished(){return this.data&&this.data.length&&!Y(this.progressiveIndex)&&this.progressiveIndex<this.data.length}release(){this.data=null,this.result=null,this.progressiveIndex=null,this.progressiveResult=null}}Zw.defaultOptions={fontFamily:'"Trebuchet MS", "Heiti TC", "", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",fontStyle:"normal",minFontSize:12,drawOutOfBound:!1,shrink:!1,minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationSteps:0,rotateRatio:.1,random:!1,shape:"circle",progressiveTime:0,progressiveStep:0,backgroundColor:"#fff"};const The={archimedean:MAt,rectangular:IAt};function MAt(i){const e=i[0]/i[1];return t=>[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}function IAt(i){const e=4*i[0]/i[1];let t=0,n=0;return r=>{const s=r<0?-1:1;switch(Math.sqrt(1+4*s*r)-s&3){case 0:t+=e;break;case 1:n+=4;break;case 2:t-=e;break;default:n-=4}return[t,n]}}class gx extends Zw{constructor(e){var t;super(Ie({},gx.defaultOptions,e)),this.cw=64,this.ch=2048,this._size=[256,256],this._isBoardExpandCompleted=!1,this._placeStatus=0,this._tTemp=null,this._dtTemp=null,this._dy=0,this.cacheMap=new Map,this.options.minFontSize<=gx.defaultOptions.minFontSize&&(this.options.minFontSize=gx.defaultOptions.minFontSize),this.spiral=ct(this.options.spiral)?(t=The[this.options.spiral])!==null&&t!==void 0?t:The.archimedean:this.options.spiral,this.random=this.options.random?Math.random:()=>1,this.getTextPadding=Ay(this.options.padding)}zoomRatio(){return this._originSize[0]/this._size[0]}dy(){return this._dy}layoutWord(e){const t=this.data[e];if((""+t.text).trim()==="")return!0;const{maxRadius:n,center:r}=s2e(this.options.shape,this._size);if(t.x=r[0],t.y=r[1],RAt(this.contextAndRatio,t,this.data,e,this.cw,this.ch),this._placeStatus=0,t.hasText&&this.place(this._board,t,this._bounds,n))return this.result.push(t),this._bounds?LAt(this._bounds,t):this._bounds=[{x:t.x+t.x0,y:t.y+t.y0},{x:t.x+t.x1,y:t.y+t.y1}],t.x-=this._size[0]>>1,t.y-=this._size[1]>>1,this._tTemp=null,this._dtTemp=null,!0;if(this.updateBoardExpandStatus(t.fontSize),t.hasText&&this.shouldShrinkContinue()){if(this._placeStatus===1){const s=t.fontSize*this._originSize[0]/this.options.minFontSize,a=Math.max(t.width,t.height);if(a<=s)this.expandBoard(this._board,this._bounds,a/this._size[0]);else{if(!this.options.clip)return!0;this.expandBoard(this._board,this._bounds,s/this._size[0])}}else this._placeStatus,this.expandBoard(this._board,this._bounds);return this.updateBoardExpandStatus(t.fontSize),!1}return this._tTemp=null,this._dtTemp=null,!0}layout(e,t){this.initProgressive(),this.result=[],this._size=[t.width,t.height],this.clearCache(),this._originSize=[...this._size];const n=this.getContext(ji.createCanvas({width:1,height:1}));this.contextAndRatio=n,this._board=new Array((this._size[0]>>5)*this._size[1]).fill(0),this._bounds=null;const r=e.length;let s=0;this.result=[];const a=e.map((l,u)=>({text:this.getText(l),fontFamily:this.getTextFontFamily(l),fontStyle:this.getTextFontStyle(l),fontWeight:this.getTextFontWeight(l),angle:this.getTextRotate(l,u),fontSize:~~this.getTextFontSize(l),padding:this.getTextPadding(l),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:l,x:0,y:0,width:0,height:0})).sort(function(l,u){return u.fontSize-l.fontSize});this.data=a;let o=0;for(;s<r&&(this.layoutWord(s)||o>=2?(s++,o=0):o++,this.progressiveIndex=s,!this.exceedTime()););if(!this.options.clip&&this.options.enlarge&&this._bounds&&this.shrinkBoard(this._bounds),this._bounds&&["cardioid","triangle","triangle-upright"].includes(this.options.shape)){const l=(this._bounds[0].y+this._bounds[1].y)/2;this._dy=-(l-this._size[1]/2)}return this.result}formatTagItem(e){const t=this._size,n=this.zoomRatio(),r=this.dy(),s=t[0]>>1,a=t[1]>>1,o=e.length,l=[];let u,c;for(let d=0;d<o;++d)u=e[d],c={},c.datum=u.datum,c.x=(u.x+s)*n,c.y=(u.y+a+r)*n,c.fontFamily=u.fontFamily,c.fontSize=u.fontSize*n,c.fontStyle=u.fontStyle,c.fontWeight=u.fontWeight,c.angle=u.angle,l.push(c);return l}output(){return this.outputCallback?this.outputCallback(this.formatTagItem(this.result)):this.formatTagItem(this.result)}progressiveOutput(){return this.outputCallback?this.outputCallback(this.formatTagItem(this.progressiveResult)):this.formatTagItem(this.progressiveResult)}updateBoardExpandStatus(e){this._isBoardExpandCompleted=e*(this._originSize[0]/this._size[0])<this.options.minFontSize}shouldShrinkContinue(){return!this.options.clip&&this.options.shrink&&!this._isBoardExpandCompleted}shrinkBoard(e){const t=e[0],n=e[1];if(n.x>=this._size[0]||n.y>=this._size[1])return;const r=Math.min(t.x,this._size[0]-n.x),s=Math.min(t.y,this._size[1]-n.y),a=2*Math.min(r/this._size[0],s/this._size[1]);this._size=this._size.map(o=>o*(1-a))}expandBoard(e,t,n){const r=this._size[0]*(n||1.1)-this._size[0]>>5;let s=2*r>2?r:2;s%2!=0&&s++;let a=Math.ceil(this._size[1]*(s<<5)/this._size[0]);a%2!=0&&a++;const o=this._size[0],l=this._size[1],u=new Array(s).fill(0),c=new Array(a/2*(s+(o>>5))).fill(0);this.insertZerosToArray(e,l*(o>>5),c.length+s/2);for(let d=l-1;d>0;d--)this.insertZerosToArray(e,d*(o>>5),u.length);this.insertZerosToArray(e,0,c.length+s/2),this._size=[o+(s<<5),l+a],t&&(t[0].x+=(s<<5)/2,t[0].y+=a/2,t[1].x+=(s<<5)/2,t[1].y+=a/2)}insertZerosToArray(e,t,n){const r=Math.floor(n/6e4),s=n%6e4;for(let a=0;a<r;a++)e.splice(t+6e4*a,0,...new Array(6e4).fill(0));e.splice(t+6e4*r,0,...new Array(s).fill(0))}getContext(e){e.width=1,e.height=1;const t=e.getContext("2d").getImageData(0,0,1,1),n=Math.sqrt(t.data.length>>2);e.width=(this.cw<<5)/n,e.height=this.ch/n;const r=e.getContext("2d");return r.fillStyle=r.strokeStyle="red",r.textAlign="center",{context:r,ratio:n,canvas:e}}place(e,t,n,r){let s=!1;if(this.shouldShrinkContinue()&&(t.width>this._size[0]||t.height>this._size[1]))return this._placeStatus=1,!1;const a=this.random()<.5?1:-1;if(!this.shouldShrinkContinue()&&this.isSizeLargerThanMax(t,a))return null;const o=t.x,l=t.y,u=Math.sqrt(this._size[0]*this._size[0]+this._size[1]*this._size[1]),c=this.spiral(this._size);let d,h,p,f,g=-a;for(this._tTemp=null,this._dtTemp=null;d=c(g+=a);){h=d[0],p=d[1];const v=Math.sqrt(h**2+p**2);let m=Math.atan(p/h);h<0?m+=Math.PI:p<0&&(m=2*Math.PI+m);const b=this.shape(m);if(Math.min(Math.abs(h),Math.abs(p))>=u)break;if(v>=r)s&&this._tTemp===null&&(this._tTemp=g,this._dtTemp=a);else{if(t.x=o+~~(v*b*Math.cos(-m)),t.y=l+~~(v*b*Math.sin(-m)),f=t,this.options.clip)if(this.shouldShrinkContinue()){if(u8(f,this._size)){s&&this._tTemp===null&&(this._tTemp=g,this._dtTemp=a);continue}}else{if(BAt(f,this._size)){s&&this._tTemp===null&&(this._tTemp=g,this._dtTemp=a);continue}u8(f,this._size)&&(f=$At(f,this._size))}else if(u8(f,this._size)){s&&this._tTemp===null&&(this._tTemp=g,this._dtTemp=a);continue}if(s=!0,(!n||FAt(f,n))&&(!n||!DAt(f,e,this._size))){const _=f.sprite,S=f.width>>5,C=this._size[0]>>5,k=f.x-(S<<4),E=127&k,A=32-E,P=f.y1-f.y0;let O,M=(f.y+f.y0)*C+(k>>5);for(let D=0;D<P;D++){O=0;for(let L=0;L<=S;L++)e[M+L]|=O<<A|(L<S?(O=_[D*S+L])>>>E:0);M+=C}return t.sprite=null,f.sprite=null,!0}}}return this._tTemp!==null&&(this._placeStatus=3),!this.shouldShrinkContinue()&&this.setCache(f,a),!1}clearCache(){this.cacheMap.clear()}setCache(e,t){const n=`${e.angle}-${t}`,r=e.x1-e.x0,s=e.y1-e.y0;if(!this.cacheMap.has(n))return void this.cacheMap.set(n,{width:r,height:s});const{width:a,height:o}=this.cacheMap.get(n);(r<a&&s<o||r<=a&&s<o)&&this.cacheMap.set(n,{width:r,height:s})}isSizeLargerThanMax(e,t){const n=`${e.angle}-${t}`;if(!this.cacheMap.has(n))return!1;const{width:r,height:s}=this.cacheMap.get(n),a=e.x1-e.x0,o=e.y1-e.y0;return a>=r&&o>=s}}function RAt(i,e,t,n,r,s){if(e.sprite)return;const a=i.context,o=i.ratio;a.setTransform(o,0,0,o,0,0),a.clearRect(0,0,(r<<5)/o,s/o);let l=0,u=0,c=0;const d=t.length;let h,p,f,g,v;for(--n;++n<d;){if(e=t[n],a.save(),a.font=e.fontStyle+" "+e.fontWeight+" "+~~((e.fontSize+1)/o)+"px "+e.fontFamily,h=a.measureText(e.text+"m").width*o,f=e.fontSize<<1,e.angle){const _=Math.sin(e.angle),S=Math.cos(e.angle),C=h*S,k=h*_,E=f*S,A=f*_;h=Math.max(Math.abs(C+A),Math.abs(C-A))+31>>5<<5,f=~~Math.max(Math.abs(k+E),Math.abs(k-E))}else h=h+31>>5<<5;if(f>c&&(c=f),l+h>=r<<5&&(l=0,u+=c,c=0),u+f>=s)break;a.translate((l+(h>>1))/o,(u+(f>>1))/o),e.angle&&a.rotate(e.angle),a.fillText(e.text,0,0),e.padding&&(a.lineWidth=2*e.padding,a.strokeText(e.text,0,0)),a.restore(),e.width=h,e.height=f,e.xoff=l,e.yoff=u,e.x1=h>>1,e.y1=f>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,l+=h}const m=a.getImageData(0,0,(r<<5)/o,s/o).data,b=[];for(;--n>=0;){if(!(e=t[n]).hasText)continue;for(h=e.width,p=h>>5,f=e.y1-e.y0,g=0;g<f*p;g++)b[g]=0;if(l=e.xoff,l==null)return;u=e.yoff;let _=0,S=-1;for(v=0;v<f;v++){for(g=0;g<h;g++){const C=p*v+(g>>5),k=m[(u+v)*(r<<5)+(l+g)<<2]?1<<31-g%32:0;b[C]|=k,_|=k}_?S=v:(e.y0++,f--,v--,u++)}e.y1=e.y0+S,e.sprite=b.slice(0,(e.y1-e.y0)*p)}}function DAt(i,e,t){const n=t[0]>>5,r=i.sprite,s=i.width>>5,a=i.x-(s<<4),o=127&a,l=32-o,u=i.y1-i.y0;let c,d=(i.y+i.y0)*n+(a>>5);for(let h=0;h<u;h++){c=0;for(let p=0;p<=s;p++)if((c<<l|(p<s?(c=r[h*s+p])>>>o:0))&e[d+p])return!0;d+=n}return!1}function LAt(i,e){const t=i[0],n=i[1];e.x+e.x0<t.x&&(t.x=e.x+e.x0),e.y+e.y0<t.y&&(t.y=e.y+e.y0),e.x+e.x1>n.x&&(n.x=e.x+e.x1),e.y+e.y1>n.y&&(n.y=e.y+e.y1)}function FAt(i,e){return i.x+i.x1>e[0].x&&i.x+i.x0<e[1].x&&i.y+i.y1>e[0].y&&i.y+i.y0<e[1].y}gx.defaultOptions={enlarge:!1,minFontSize:2};const BAt=(i,e)=>i.x+i.x0>e[0]||i.y+i.y0>e[0]||i.x+i.x1<0||i.y+i.y1<0,u8=(i,e)=>i.x+i.x0<0||i.y+i.y0<0||i.x+i.x1>e[0]||i.y+i.y1>e[1];function $At(i,e){const t=i.sprite,n=i.y1-i.y0,r=i.width>>5;let s=0;const a=[],o=Math.max(-(i.y0+i.y),0),l=Math.min(n+(e[1]-(i.y1+i.y)),n),u=Math.max(-(i.x0+i.x),0)>>5,c=Math.min(r+(e[0]-(i.x1+i.x)>>5)+1,r);for(let g=0;g<n;g++){for(let v=0;v<r;v++)g<o||l<=g||v<u||c<=v||a.push(t[s+v]);s+=r}const d=u<<5,h=r-c<<5,p=o,f=n-l;return Object.assign(Object.assign({},i),{width:i.width-d-h,height:i.height-p-f,x0:i.x0+d,x1:i.x1-h,y0:i.y0+p,y1:i.y1-f,x:i.x+d/2-h/2,sprite:a})}let a2e=class o2e extends Zw{constructor(e){super(Ie({},o2e.defaultOptions,e)),this.fillGridAt=(t,n)=>{t>=this.ngx||n>=this.ngy||t<0||n<0||(this.grid[t][n]=!1)},this.updateGrid=(t,n,r,s,a)=>{const o=a.occupied;let l=o.length;for(;l--;){const u=t+o[l][0],c=n+o[l][1];u>=this.ngx||c>=this.ngy||u<0||c<0||this.fillGridAt(u,c)}},this.gridSize=Math.max(Math.floor(this.options.gridSize),4)}getPointsAtRadius(e){if(this.pointsAtRadius[e])return this.pointsAtRadius[e];const t=8*e;let n=t;const r=[];for(e===0&&r.push([this.center[0],this.center[1],0]);n--;){const s=this.shape(n/t*2*Math.PI);r.push([this.center[0]+e*s*Math.cos(-n/t*2*Math.PI),this.center[1]+e*s*Math.sin(-n/t*2*Math.PI)*this.options.ellipticity,n/t*2*Math.PI])}return this.pointsAtRadius[e]=r,r}getTextInfo(e,t=1,n){var r;const s=this.options.clip?1:t,a=Math.max(Math.floor(this.getTextFontSize(e)*s),this.options.minFontSize);let o=this.getText(e)+"";if(this.options.clip&&(o=o.slice(0,Math.ceil(o.length*t))),!o)return null;const l=this.getTextFontWeight(e),u=this.getTextFontStyle(e),c=this.getTextRotate&&(r=this.getTextRotate(e,n))!==null&&r!==void 0?r:0,d=this.getTextFontFamily(e),h=document.createElement("canvas"),p=h.getContext("2d",{willReadFrequently:!0});p.font=u+" "+l+" "+a.toString(10)+"px "+d;const f=p.measureText(o).width,g=Math.max(a,p.measureText("m").width,p.measureText("").width);let v=f+2*g,m=3*g;const b=Math.ceil(v/this.gridSize),_=Math.ceil(m/this.gridSize);v=b*this.gridSize,m=_*this.gridSize;const S=-f/2,C=.4*-g,k=Math.ceil((v*Math.abs(Math.sin(c))+m*Math.abs(Math.cos(c)))/this.gridSize),E=Math.ceil((v*Math.abs(Math.cos(c))+m*Math.abs(Math.sin(c)))/this.gridSize),A=E*this.gridSize,P=k*this.gridSize;h.setAttribute("width",""+A),h.setAttribute("height",""+P),p.scale(1,1),p.translate(A/2,P/2),p.rotate(-c),p.font=u+" "+l+" "+a.toString(10)+"px "+d,p.fillStyle="#000",p.textBaseline="middle",p.fillText(o,S,C);const O=p.getImageData(0,0,A,P).data;if(this.exceedTime())return null;const M=[];let D,L=E;const H=[k/2,E/2,k/2,E/2],B=(F,z,N)=>{let U=this.gridSize;for(;U--;){let G=this.gridSize;for(;G--;)if(O[4*((z*this.gridSize+U)*A+(F*this.gridSize+G))+3])return N.push([F,z]),F<H[3]&&(H[3]=F),F>H[1]&&(H[1]=F),z<H[0]&&(H[0]=z),void(z>H[2]&&(H[2]=z))}};for(;L--;)for(D=k;D--;)B(L,D,M);return{datum:e,occupied:M,bounds:H,gw:E,gh:k,fillTextOffsetX:S,fillTextOffsetY:C,fillTextWidth:f,fillTextHeight:g,fontSize:a,fontStyle:u,fontWeight:l,fontFamily:d,angle:c,text:o}}canFitText(e,t,n,r,s){let a=s.length;for(;a--;){const o=e+s[a][0],l=t+s[a][1];if(o>=this.ngx||l>=this.ngy||o<0||l<0){if(!this.options.drawOutOfBound)return!1}else if(!this.grid[o][l])return!1}return!0}layoutWord(e,t=1){const n=this.data[e],r=this.getTextInfo(n,t,e);if(!r||this.exceedTime())return!1;if(!this.options.drawOutOfBound&&(!this.options.shrink||r.fontSize<=this.options.minFontSize)&&!this.options.clip){const o=r.bounds;if(o[1]-o[3]+1>this.ngx||o[2]-o[0]+1>this.ngy)return!1}let s=this.maxRadius+1;const a=o=>{const l=Math.floor(o[0]-r.gw/2),u=Math.floor(o[1]-r.gh/2),c=r.gw,d=r.gh;return!!this.canFitText(l,u,c,d,r.occupied)&&(r.distance=this.maxRadius-s,r.theta=o[2],this.outputText(l,u,r),this.updateGrid(l,u,c,d,r),!0)};for(;s--;){let o=this.getPointsAtRadius(this.maxRadius-s);if(this.options.random&&(o=[].concat(o),oxe(o)),o.some(a))return!0}return(this.options.clip||!!(this.options.shrink&&r.fontSize>this.options.minFontSize))&&this.layoutWord(e,.75*t)}outputText(e,t,n){const r=this.getTextColor(n),s={text:n.text,datum:n.datum,color:r,fontStyle:n.fontStyle,fontWeight:n.fontWeight,fontFamily:n.fontFamily,angle:n.angle,width:n.fillTextWidth,height:n.fillTextHeight,x:(e+n.gw/2)*this.gridSize,y:(t+n.gh/2)*this.gridSize+n.fillTextOffsetY+.5*n.fontSize,fontSize:n.fontSize};this.result.push(s),this.progressiveResult&&this.progressiveResult.push(s)}initGrid(e){let t;if(this.grid=[],e){let n=document.createElement("canvas").getContext("2d");n.fillStyle=this.options.backgroundColor,n.fillRect(0,0,1,1);let r=n.getImageData(0,0,1,1).data,s=e.getContext("2d").getImageData(0,0,this.ngx*this.gridSize,this.ngy*this.gridSize).data;const a=(l,u)=>{let c=this.gridSize;for(;c--;){let d=this.gridSize;for(;d--;)for(t=4;t--;)if(s[4*((u*this.gridSize+c)*this.ngx*this.gridSize+(l*this.gridSize+d))+t]!==r[t])return void(this.grid[l][u]=!1)}};let o=this.ngx;for(;o--;){this.grid[o]=[];let l=this.ngy;for(;l--;)a(o,l),this.grid[o][l]!==!1&&(this.grid[o][l]=!0)}s=n=r=void 0}else{let n=this.ngx;for(;n--;){this.grid[n]=[];let r=this.ngy;for(;r--;)this.grid[n][r]=!0}}}layout(e,t){this.initProgressive(),this.data=e,this.pointsAtRadius=[],this.ngx=Math.floor(t.width/this.gridSize),this.ngy=Math.floor(t.height/this.gridSize);const{center:n,maxRadius:r}=s2e(this.options.shape,[t.width,t.height]);this.center=t.origin?[t.origin[0]/this.gridSize,t.origin[1]/this.gridSize]:[n[0]/this.gridSize,n[1]/this.gridSize],this.maxRadius=Math.floor(r/this.gridSize),this.initGrid(t.canvas),this.result=[];let s=0;for(;s<e.length&&(this.layoutWord(s),s++,this.progressiveIndex=s,!this.exceedTime()););return this.result}};a2e.defaultOptions={gridSize:8,ellipticity:1};class G$ extends Zw{constructor(e){super(Ie({},G$.defaultOptions,e)),this.random=this.options.random?Math.random:()=>0,this.aspectRatio=1}fit(e){for(let t=0,n=this.result.length;t<n;t++)if(NAt(e,this.result[t]))return!1;return!0}getTextInfo(e,t){const n={datum:e,fontSize:this.getTextFontSize(e),fontWeight:this.getTextFontWeight(e),fontStyle:this.getTextFontStyle(e),fontFamily:this.getTextFontFamily(e),angle:this.getTextRotate(e,t),text:this.getText(e)+"",x:this.center[0],y:this.center[1]},r=nP(n);return n.width=r.width(),n.height=r.height(),n.top=this.center[1]-n.height+.21*n.height,n.left=this.center[0]-n.width/2,n}layoutWord(e){const t=this.getTextInfo(this.data[e],e);let n=2*Math.PI,r=0,s=t.left,a=t.top;const o=t.width,l=t.height;let u=1,c=this.fit(t);for(;!c&&r<this.maxRadius;)r+=.5,u=this.shape(r/this.maxRadius*2*Math.PI),n+=.5*(this.options.random?this.random()>.5?1:-1:e%2==0?1:-1),s=this.center[0]-o/2+r*u*Math.cos(n)*this.aspectRatio,a=this.center[1]-l/2+r*u*Math.sin(n),t.left=s,t.top=a,t.x=s+o/2,t.y=a+l/2,c=this.fit(t);return!!c&&!!(this.options.clip||t.left>=0&&t.left+t.width<=this.width&&t.top>=0&&t.top+t.height<=this.height)&&(this.result.push(t),!0)}layout(e,t){if(!(e!=null&&e.length))return[];this.initProgressive(),this.result=[],this.maxRadius=Math.sqrt(t.width*t.width+t.height*t.height)/2,this.center=[t.width/2,t.height/2],this.width=t.width,this.height=t.height,this.data=e.sort((r,s)=>this.getTextFontSize(s)-this.getTextFontSize(r));let n=0;for(;n<e.length&&(this.layoutWord(n),n++,this.progressiveIndex=n,!this.exceedTime()););return this.result}}function NAt(i,e){return!(i.left+i.width<e.left||i.top+i.height<e.top||i.left>e.left+e.width||i.top>e.top+e.height)}G$.defaultOptions={enlarge:!1};const jAt={x:"x",y:"y",z:"z",fontFamily:"fontFamily",fontSize:"fontSize",fontStyle:"fontStyle",fontWeight:"fontWeight",angle:"angle"},zAt=(i,e)=>{var t,n,r,s,a,o;if(i.size&&(i.size[0]<=0||i.size[1]<=0))return Kn.getInstance().info("Wordcloud size dimensions must be greater than 0"),[];const l=e,u=((t=i.size)!==null&&t!==void 0?t:[500,500]).slice();u[0]=Math.floor(u[0]),u[1]=Math.floor(u[1]);const c=i.fontFamily?py(i.fontFamily):"sans-serif",d=i.fontStyle?py(i.fontStyle):"normal",h=i.fontWeight?py(i.fontWeight):"normal",p=i.rotate?py(i.rotate):0,f=py(i.text),g=(n=i.spiral)!==null&&n!==void 0?n:"archimedean",v=i.padding?py(i.padding):1,m=(r=i.shape)!==null&&r!==void 0?r:"square",b=(s=i.shrink)!==null&&s!==void 0&&s,_=(a=i.enlarge)!==null&&a!==void 0&&a,S=(o=i.clip)!==null&&o!==void 0&&o,C=i.minFontSize,k=i.randomVisible,E=i.as||jAt,A=i.depth_3d,P=i.postProjection;let O=i.fontSize?py(i.fontSize):14;const M=i.fontSizeRange;if(M&&!Xe(O)){const H=O,B=HAt(VAt(H,l),M);O=F=>B(H(F))}let D=gx;i.layoutType==="fast"?D=G$:i.layoutType==="grid"&&(D=a2e);const L=new D({text:f,padding:v,spiral:g,shape:m,rotate:p,fontFamily:c,fontStyle:d,fontWeight:h,fontSize:O,shrink:b,clip:S,enlarge:_,minFontSize:C,random:k,progressiveStep:i.progressiveStep,progressiveTime:i.progressiveTime,outputCallback:H=>{const B=[];let F,z;for(let N=0,U=H.length;N<U;N++)z=H[N],F=z.datum,F[E.x]=z.x,F[E.y]=z.y,F[E.fontFamily]=z.fontFamily,F[E.fontSize]=z.fontSize,F[E.fontStyle]=z.fontStyle,F[E.fontWeight]=z.fontWeight,F[E.angle]=z.angle,P==="StereographicProjection"&&WAt(u,z,F,E,A),B.push(F);return B}});return L.layout(l,{width:u[0],height:u[1]}),i.progressiveStep>0||i.progressiveTime>0?{progressive:L}:L.output()},py=i=>ct(i)||Xe(i)||Pe(i)||ke(i)?i:e=>e[i.field],c8=i=>i<0?-Math.sqrt(-i):Math.sqrt(i),HAt=(i,e)=>{if(i[0]===i[1])return a=>e[0];const t=c8(i[0]),n=c8(i[1]),r=Math.min(t,n),s=Math.max(t,n);return a=>(c8(a)-r)/(s-r)*(e[1]-e[0])+e[0]},VAt=(i,e)=>{let t=1/0,n=-1/0;const r=e.length;let s;for(let a=0;a<r;++a)s=lf(i(e[a])),s<t&&(t=s),s>n&&(n=s);return e.length===1&&t===n&&(t-=1e4),[t,n]};function WAt(i,e,t,n,r){const s=Math.max(i[0],i[1])/2,a=UAt(i[0],i[1],s,{x:s,y:s,z:r??s},e);t[n.x]=a.x,t[n.y]=a.y,t[n.z]=a.z}function UAt(i,e,t,n,r){const{x:s,y:a}=r,o=s/i*Math.PI*2;let l=Math.PI-a/e*Math.PI;return l+=(l<Math.PI/2?1:-1)*Math.pow(Math.min(l-Math.PI/2,1),2)/5,{x:t*Math.sin(l)*Math.cos(o)+n.x,y:t*Math.cos(l)+n.y,z:t*Math.sin(l)*Math.sin(o)+n.z}}const Y$=()=>{He.registerTransform("wordcloud",{transform:zAt,markPhase:"beforeJoin"},!0)};var yF;(function(i){i.BEFORE_WORDCLOUD_SHAPE_LAYOUT="beforeWordcloudShapeLayout",i.AFTER_WORDCLOUD_SHAPE_LAYOUT="afterWordcloudShapeLayout"})(yF||(yF={}));const GAt=(i,e)=>{if(e.length===1&&e[0]==="#537EF5")return!0;if(!Array.isArray(i)||!Array.isArray(e)||i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0},YAt=()=>{let i=-1;const e=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9];return()=>(i=(i+1)%e.length,e[i])},KAt=i=>/^[\u4e00-\u9fa5]+$/.test(i),l2e=(i,e)=>{if(Y(i))return 0;let t=0;for(const n of i)KAt(n)?t+=1:t+=.53;return t};function XAt(i){return i&&(nxe(i)||rxe(i)||i.startsWith("<svg"))?new Promise((e,t)=>{var n;const r=yX({image:i}),s=(n=r.resources)===null||n===void 0?void 0:n.get(i);s&&s.state==="success"&&s.data?e(s.data):(r.successCallback=()=>{var a;if(r){const o=(a=r.resources)===null||a===void 0?void 0:a.get(i);o&&o.state==="success"&&o.data?e(o.data):t(new Error("image load failed"+i))}else t(new Error("image load failed"+i))},r.failCallback=()=>{Kn.getInstance().error("image ",i)})}):null}function qAt(i){return typeof i=="function"?i:function(){return i}}function ZAt(i){const e=XAt(i.shapeUrl);return e?e.then(t=>i&&i.removeWhiteBorder&&t?JAt(t,i.tempCanvas,i.tempCtx):t):null}function QAt(i,e){const{size:t,tempCanvas:n,tempCtx:r}=e,s=eTt(i,t);n.width=t[0],n.height=t[1],r.clearRect(0,0,n.width,n.height),r.drawImage(i,s.x,s.y,s.width,s.height);const a=r.getImageData(0,0,t[0],t[1]),o=new Array(t[0]*t[1]).fill(0);let l=1;const u=[[0,1],[1,0],[-1,0],[0,-1]];let c=[];for(let M=0;M<t[1];M++)for(let D=0;D<t[0];D++)if(o[M*t[0]+D]===0&&!_F(a,M,D)){o[M*t[0]+D]=l,c.push([M,D]);for(let L=0;L<c.length;L++)for(let H=0;H<4;H++){let B=c[L][0]+u[H][0],F=c[L][1]+u[H][1];B=B<0?0:B>=t[1]?t[1]-1:B,F=F<0?0:F>=t[0]?t[0]-1:F,o[B*t[0]+F]!==0||_F(a,B,F)||(o[B*t[0]+F]=l,c.push([B,F]))}l++,c=[]}const d={},h={},p={},f={},g={},v={},m={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0,width:0,height:0};for(let M=0;M<t[1];M++)for(let D=0;D<t[0];D++){const L=o[M*t[0]+D];L!==0&&(O(M,D)&&(d[L]=d[L]||[],d[L].push([D,M]),f[L]||(f[L]=[1/0,-1/0,1/0,-1/0]),M<f[L][0]&&(f[L][0]=M),M>f[L][1]&&(f[L][1]=M),D<f[L][2]&&(f[L][2]=D),D>f[L][3]&&(f[L][3]=D),D<m.x1&&(m.x1=D),D>m.x2&&(m.x2=D),M<m.y1&&(m.y1=M),M>m.y2&&(m.y2=M)),h[L]=h[L]||0,h[L]++)}const b=[];for(const M in d){const D=d[M],L=~~(D.reduce((U,G)=>U+G[0],0)/D.length),H=~~(D.reduce((U,G)=>U+G[1],0)/D.length);p[M]=[L,H],b.push(...D);const[B,F,z,N]=f[M];g[M]=~~Math.max(Math.sqrt((L-z)**2+(H-B)**2),Math.sqrt((L-N)**2+(H-F)**2),Math.sqrt((L-z)**2+(H-F)**2),Math.sqrt((L-N)**2+(H-B)**2)),v[M]=(N-z)/(F-B)}const _=Object.keys(p).map(M=>({label:M-1,boundary:d[M],area:h[M],center:p[M],maxPoint:f[M],maxR:g[M],ratio:v[M]}));m.width=m.x2-m.x1+1,m.height=m.y2-m.y1+1;const S=~~(b.reduce((M,D)=>M+D[0],0)/b.length),C=~~(b.reduce((M,D)=>M+D[1],0)/b.length),k=~~Math.max(Math.sqrt((S-m.x1)**2+(C-m.y1)**2),Math.sqrt((S-m.x2)**2+(C-m.y2)**2),Math.sqrt((S-m.x1)**2+(C-m.y2)**2),Math.sqrt((S-m.x2)**2+(C-m.y1)**2)),E=m.width/m.height,A=Object.keys(h).reduce((M,D)=>M+h[D],0),P={regions:_,labels:o,labelNumber:l-1};return Object.assign(e,{segmentation:P,shapeConfig:s,shapeBounds:m,shapeMaxR:k,shapeRatio:E,shapeCenter:[S,C],shapeArea:A});function O(M,D){const L=[[0,1],[1,0],[-1,0],[0,-1]];if(M===0||D===0||M===t[1]-1||D===t[0]-1)return!0;for(let H=0;H<4;H++){let B=M+L[H][0],F=D+L[H][1];if(B=B<0?0:B>=t[1]?t[1]-1:B,F=F<0?0:F>=t[0]?t[0]-1:F,o[B*t[0]+F]===0)return!0}return!1}}function _F(i,e,t){const n=i.width;return i.data[e*n*4+4*t+3]===0||i.data[e*n*4+4*t+0]===255&&i.data[e*n*4+4*t+1]===255&&i.data[e*n*4+4*t+2]===255}function JAt(i,e,t){e.width=i.width,e.height=i.height,t.clearRect(0,0,e.width,e.height),t.drawImage(i,0,0);const n=e.width,r=t.getImageData(0,0,e.width,e.height);let s=0,a=r.height,o=0,l=r.width;for(;s<a&&Phe(r,n,s);)++s;for(;a-1>s&&Phe(r,n,a-1);)--a;for(;o<l&&Ohe(r,n,o,s,a);)++o;for(;l-1>o&&Ohe(r,n,l-1,s,a);)--l;const u=t.getImageData(o,s,l-o,a-s);return e.width=u.width,e.height=u.height,t.clearRect(0,0,e.width,e.height),t.putImageData(u,0,0),e}function Phe(i,e,t){for(let n=0;n<e;++n)if(!_F(i,t,n))return!1;return!0}function Ohe(i,e,t,n,r){for(let s=n;s<r;++s)if(!_F(i,s,t))return!1;return!0}function eTt(i,e){const t=i.width,n=i.height;let r=e[0]/t;n*r>e[1]&&(r=e[1]/n);const s=Math.floor(r*t),a=Math.floor(r*n);return{x:(e[0]-s)/2,y:(e[1]-a)/2,width:s,height:a,scale:r}}function tTt(i,e){const{segmentation:{regions:t}}=e;let n=-1/0,r=0,s=0;t.forEach((u,c)=>{const d=u.area;d>n&&(n=d,s=c),r+=d});let a=0;t.forEach(u=>{const c=u.area,d=Math.ceil(c/r*i.length),h=c/n;u.words=[],u.regionNum=d,u.regionWeight=h,a+=d}),a<i.length&&(t[s].wordsNum+=i.length-a);let o=s;const l=t.map(u=>u.regionNum);i.forEach(u=>{let c=0,d=0;u.regionIndex=-1;do{if(l[o]>0&&u.weight<=t[o].regionWeight){u.regionIndex=o,t[o].words.push(u),l[o]--,o=(o+1)%t.length;break}o=(o+1)%t.length,c++,d++,d>t.length+1&&(t.forEach(h=>{h.regionWeight+=.15}),d=0)}while(u.regionIndex===-1&&c<3*t.length);u.regionIndex===-1&&(u.regionIndex=s,t[s].words.push(u),l[s]--)}),t.forEach(u=>{u.words.sort((c,d)=>d.weight-c.weight)})}function iTt(i,e,t){const{size:n,stepFactor:r}=e,{segmentation:{regions:s},tempCtx:a,tempCanvas:o,boardSize:l,shapeCenter:u,shapeMaxR:c,shapeRatio:d}=t,h=kq(t);for(const p of s){const{words:f,center:g,maxR:v,ratio:m}=p;for(let b=0;b<f.length;b++){nb(o,a,i,b);const _=f[b];_.x=g[0],_.y=g[1],_.hasText&&_.sprite&&lw(h,_,v,m,n,l,r)&&(_.hasPlaced=!0)}}for(let p=0;p<e.textLayoutTimes;p++){const f=i.filter(g=>(g.hasPlaced||(g.hasText=!1,g.sprite=null,g.fontSize=Math.max(~~(g.fontSize*e.fontSizeShrinkFactor),e.minFontSize)),!g.hasPlaced));if(f.length===0)break;for(let g=0;g<f.length;g++){const v=f[g];nb(o,a,f,g),v.x=u[0],v.y=u[1],v.hasText&&lw(h,v,c,d,n,l,r)&&(v.hasPlaced=!0)}}e.board=h}function u2e(i,e,t){const{stepFactor:n,importantWordCount:r,globalShinkLimit:s}=e,{size:a,segmentation:{regions:o},tempCtx:l,tempCanvas:u,boardSize:c,shapeCenter:d,shapeMaxR:h,shapeRatio:p}=t,f=kq(t);let g=f.slice(0);const v=e.fontSizeShrinkFactor;let m=null,b=1,_=1;const S=r;let C=0;i.length>S&&(C=i.sort((k,E)=>E.weight-k.weight)[S].weight);for(let k=0;k<o.length;k++){const E=o[k],{words:A,center:P,maxR:O,ratio:M}=E;let D=!1;for(let L=0;L<A.length;L++){nb(u,l,i,L);const H=A[L];if(H.x=P[0],H.y=P[1],!H.skip&&H.hasText&&H.sprite&&lw(g,H,O,M,a,c,n))H.hasPlaced=!0;else{if(!H.skip&&H.weight>C&&_>s){const B=H.datum[Symbol.for("vGrammar_id")];B!==m&&(m=B,b=_),_*=v,i.forEach(F=>{F.hasText=!1,F.sprite=null,F.fontSize=F.fontSize*v}),g=f.slice(0),D=!0;break}if(!H.skip&&H.datum[Symbol.for("vGrammar_id")]===m){i.forEach(B=>{B.hasText=!1,B.sprite=null,B.fontSize=B.fontSize/_}),H.skip=!0,_=b,m=null,g=f.slice(0),D=!0;break}}}D&&(k=-1)}for(let k=0;k<e.textLayoutTimes;k++){const E=i.filter(A=>(A.hasPlaced||(A.hasText=!1,A.sprite=null,A.fontSize=Math.max(~~(A.fontSize*e.fontSizeShrinkFactor),e.minFontSize)),!A.hasPlaced));if(E.length===0)break;for(let A=0;A<E.length;A++){const P=E[A];nb(u,l,E,A),P.x=d[0],P.y=d[1],P.hasText&&lw(g,P,h,p,a,c,n)&&(P.hasPlaced=!0)}}e.board=g}function nTt(i,e,t){const{size:n,stepFactor:r,importantWordCount:s}=e,{segmentation:{regions:a},tempCtx:o,tempCanvas:l,boardSize:u,shapeCenter:c,shapeMaxR:d,shapeRatio:h}=t,p=kq(t);let f=p.slice(0);const g=e.fontSizeEnlargeFactor,v=Math.min(s,i.length);let m=0;i.length>v&&(m=i.sort((C,k)=>k.weight-C.weight)[v-1].weight);let b=0,_=1,S=!1;for(let C=0;C<a.length;C++){const k=a[C],{words:E,center:A,maxR:P,ratio:O}=k;let M=!1;for(let D=0;D<E.length;D++){nb(l,o,i,D);const L=E[D];if(L.x=A[0],L.y=A[1],L.hasText&&L.sprite&&lw(f,L,P,O,n,u,r)){if(L.hasPlaced=!0,L.weight>=m&&b++,b>=v&&!S){_*=g,i.forEach(H=>{H.hasText=!1,H.sprite=null,H.fontSize=H.fontSize*g}),f=p.slice(0),M=!0,b=0;break}}else{if(L.weight>=m&&_>1){i.forEach(H=>{H.hasText=!1,H.sprite=null,H.fontSize=H.fontSize/g}),_/=g,S=!0,f=p.slice(0),M=!0;break}if(L.weight>=m)return u2e(i,e,t)}}M&&(C=-1)}for(let C=0;C<e.textLayoutTimes;C++){const k=i.filter(E=>(E.hasPlaced||(E.hasText=!1,E.sprite=null,E.fontSize=Math.max(~~(E.fontSize*e.fontSizeShrinkFactor),e.minFontSize)),!E.hasPlaced));if(k.length===0)break;for(let E=0;E<k.length;E++){const A=k[E];nb(l,o,k,E),A.x=c[0],A.y=c[1],A.hasText&&lw(f,A,d,h,n,u,r)&&(A.hasPlaced=!0)}}e.board=f}function lw(i,e,t,n,r,s,a){const o=e.x,l=e.y,u=rTt(n),c=1*a;let d,h,p,f=-c;for(;d=u(f+=c);){const{wordSize:g,bounds:{dTop:v,dBottom:m,dLeft:b,dRight:_}}=e;if(h=d[0],p=d[1],Math.min(Math.abs(h),Math.abs(p))>=t)break;if(e.x=~~(o+h),e.y=~~(l+p),!(e.x-b<0||e.x+_>r[0]||e.y-v<0||e.y+m>r[1]||d2e(e,i,s)))return c2e(e,i,s),!0}return!1}function c2e(i,e,t){const{wordSize:n}=i,r=i.sprite,s=n[0]>>5,a=t[0]>>5,o=i.x-(s<<4),l=o%32,u=32-l,c=n[1];let d,h=(i.y-(n[1]>>1))*a+(o>>5);if(l===0)for(let p=0;p<c;p++){for(let f=0;f<s;f++)e[h+f]|=r[p*s+f];h+=a}else for(let p=0;p<c;p++){d=0;for(let f=0;f<=s;f++)e[h+f]|=d<<u|(f<s?(d=r[p*s+f])>>>l:0);h+=a}}function d2e(i,e,t){const{sprite:n,wordSize:r}=i,s=t[0]>>5,a=r[0]>>5,o=i.x-(a<<4),l=o%32,u=32-l,c=r[1];let d,h=(i.y-(r[1]>>1))*s+(o>>5);if(l===0)for(let p=0;p<c;p++){for(let f=0;f<a;f++)if(e[h+f]&n[p*a+f])return!0;h+=s}else for(let p=0;p<c;p++){d=0;for(let f=0;f<=a;f++)if((d<<u|(f<a?(d=n[p*a+f])>>>l:0))&e[h+f])return!0;h+=s}return!1}function rTt(i){return function(e){return[i*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function nb(i,e,t,n){if(t[n].sprite||t[n].fontSize===0)return;const r=2048,s=Math.PI/180,a=t.length;i.width=r,i.height=2048,e.clearRect(0,0,r,2048),e.textAlign="center";let o,l,u=0,c=0,d=0,h=0;const p=n;for(--n;++n<a;){const m=t[n],b=Math.max(m.fontSize,2);if(e.save(),e.font=m.fontStyle+" "+m.fontWeight+" "+b+"px "+m.fontFamily,o=e.measureText(m.text+"m").width+2*m.padding,l=2*b+2*m.padding,m.rotate!==0){const _=Math.sin(m.rotate*s),S=Math.cos(m.rotate*s),C=o*S,k=o*_,E=l*S,A=l*_;o=Math.max(Math.abs(C+A),Math.abs(C-A)),l=~~Math.max(Math.abs(k+E),Math.abs(k-E))}if(o=o+31>>5<<5,l=Math.ceil(l),l>d&&(d=l),u+o>=r&&(u=0,c+=d,d=l),c+l>=2048){if(c===0){m.hasText=!1;continue}break}c+l>=h&&(h=c+l),e.translate(u+(o>>1),c+(l>>1)),m.rotate!==0&&e.rotate(m.rotate*s),e.fillText(m.text,0,0),m.padding&&(e.lineWidth=2*m.padding,e.strokeText(m.text,0,0)),e.restore(),m.LT=[u,c],m.wordSize=[o,l],m.hasText=!0,u+=o}if(h===0)return;const f=e.getImageData(0,0,r,h).data;let g,v;for(;--n>=p;){const m=t[n];if(!m.hasText){m.bounds={dTop:1/0,dBottom:-1/0,dLeft:1/0,dRight:-1/0};break}const{LT:b=[0,0],wordSize:_}=m;[u,c]=b;const S=_[0]>>5,C=new Array(S*_[1]).fill(0);let[k,E,A,P]=[1/0,-1/0,1/0,-1/0];for(v=0;v<_[1];v++){let O;for(g=0;g<_[0];g++)if(f[4*((c+v)*r+(u+g))+3]>0){const M=1<<31-g%32;C[S*v+(g>>5)]|=M,g<A&&(A=g),g>P&&(P=g),O|=M}O&&(v<k&&(k=v),v>E&&(E=v))}m.bounds={dTop:(_[1]>>1)-k,dBottom:E-(_[1]>>1),dLeft:(_[0]>>1)-A,dRight:P-(_[0]>>1)},m.sprite=C,delete m.LT}}function kq(i){const{segmentation:{labels:e},boardSize:t,size:n}=i,r=t[0]>>5,s=new Array(r*n[1]).fill(0);for(let a=0;a<n[1];a++)for(let o=0;o<n[0];o++)if(e[a*n[0]+o]===0){const l=1<<31-o%32;s[r*a+(o>>5)]|=l}if(t[0]>n[0]){const a=(1<<t[0]-n[0])-1;for(let o=0;o<n[1];o++)s[r*o+r-1]|=a}return s}function sTt(i,e,t){const{size:n,fillingTimes:r,fillingXStep:s,fillingYStep:a,getFillingFontStyle:o,getFillingFontWeight:l,getFillingFontFamily:u,fillingInitialFontSize:c,fillingDeltaFontSize:d,fillingInitialOpacity:h,fillingDeltaOpacity:p,fillingRotateList:f,getFillingPadding:g,random:v,board:m,minFillFoontSize:b}=e,{boardSize:_,shapeBounds:S,tempCtx:C,tempCanvas:k,randomGenerator:E}=t;let A=c,P=h;const O=[];for(let L=0;L<r;L++)M(A,P),A=Math.max(A>d?A-d:d,b),P=P>p?P-p:p;return O;function M(L,H){const B=i.map(ie=>{const{text:ae,color:re,fillingColor:J,hasPlaced:ne,datum:te}=ie;return{x:0,y:0,weight:0,text:ae,fontFamily:u(te),fontStyle:o(te),fontWeight:l(te),fontSize:L,rotate:f[~~(E()*f.length)],padding:g(te),opacity:H,visible:!0,color:re,fillingColor:J,hasPlaced:ne,datum:te}});D(B);let F=0;const{x1:z,y1:N,x2:U,y2:G}=S,[j,K]=[z+~~(E()*s*2),N+~~(E()*a*2)];for(let ie=K;ie<=G;ie+=a)for(let ae=j;ae<=U;ae+=s){nb(k,C,B,F);const re=B[F];re.x=ae,re.y=ie;const{wordSize:J,bounds:ne,hasPlaced:te}=re;if(!te||!ne){++F===B.length&&(F=0,v&&D(B));continue}const{dTop:Q,dBottom:se,dLeft:_e,dRight:le}=ne;re.x-_e<0||re.x+le>n[0]||re.y-Q<0||re.y+se>n[1]||re.hasText&&re.sprite&&!d2e(re,m,_)&&(c2e(re,m,_),O.push(Object.assign({},re)),++F===B.length&&(F=0,v&&D(B)))}}function D(L){return L.sort(()=>E()-.5)}}function aTt(i,e,t){tTt(i,t),e.layoutMode==="ensureMapping"?u2e(i,e,t):e.layoutMode==="ensureMappingEnlarge"?nTt(i,e,t):iTt(i,e,t);const n=sTt(i,e,t),r=[],s=[];for(let a=0;a<i.length;a++)i[a].hasPlaced?s.push(i[a]):r.push(i[a]);return r.forEach(a=>a.visible=!1),{fillingWords:n,successedWords:s,failedWords:r}}const oTt={x:"x",y:"y",fontFamily:"fontFamily",fontSize:"fontSize",fontStyle:"fontStyle",fontWeight:"fontWeight",angle:"angle",opacity:"opacity",visible:"visible",isFillingWord:"isFillingWord",color:"color"};class lTt{constructor(e,t){this.progressiveResult=[],this.options=e,this.view=t}layout(e){this.data=e;const t=this.options,n={shapeUrl:t.shape,size:t.size,ratio:t.ratio||.8,tempCanvas:void 0,tempCtx:void 0,removeWhiteBorder:t.removeWhiteBorder||!1,boardSize:[0,0],random:!1,randomGenerator:void 0},r=ji.createCanvas({width:t.size[0],height:t.size[1]}),s=r.getContext("2d");s.textAlign="center",s.textBaseline="middle",n.tempCanvas=r,n.tempCtx=s;const a=t.size[0]+31>>5<<5;n.boardSize=[a,t.size[1]],n.random?n.randomGenerator=Math.random:n.randomGenerator=YAt();const o=ZAt(n);o?(this.segmentationInput=n,this.isImageFinished=!1,this.isLayoutFinished=!1,o.then(l=>{this.shapeImage=l,this.isImageFinished=!0}).catch(l=>{this.shapeImage=null,this.isImageFinished=!0})):(this.isImageFinished=!0,this.isLayoutFinished=!0)}unfinished(){return!this.isLayoutFinished}output(){return this.progressiveResult}progressiveRun(){this.isImageFinished&&!this.isLayoutFinished&&(this.shapeImage&&this.doLayout(),this.isLayoutFinished=!0)}progressiveOutput(){return this.progressiveResult}doLayout(){var e,t,n;const r=this.segmentationInput,s=QAt(this.shapeImage,r),a=this.options,o=this.data,l=a.colorMode||"ordinal",u={getText:Vl(a.text),getFontSize:Vl(a.fontSize),fontSizeRange:a.fontSizeRange,colorMode:l,getColor:a.colorField?Vl(a.colorField):Vl(a.text),getFillingColor:Vl(a.fillingColorField),colorList:a.colorList||(l==="ordinal"?["#2E62F1"]:["#537EF5","#2E62F1","#2358D8","#184FBF","#0C45A6","#013B8E"]),getColorHex:Vl(a.colorHexField),getFontFamily:Vl(a.fontFamily||"sans-serif"),rotateList:a.rotateList||[0],getPadding:Vl(a.padding||1),getFontStyle:Vl(a.fontStyle||"normal"),getFontWeight:Vl(a.fontWeight||"normal"),getFontOpacity:a.fontOpacity?Vl(a.fontOpacity):()=>1};cTt(o,u,s);const c={size:a.size,ratio:a.ratio||.8,shapeUrl:a.shape,random:a.random===void 0||a.random,textLayoutTimes:a.textLayoutTimes||3,removeWhiteBorder:a.removeWhiteBorder||!1,layoutMode:a.layoutMode||"default",fontSizeShrinkFactor:a.fontSizeShrinkFactor||.8,stepFactor:a.stepFactor||1,importantWordCount:a.importantWordCount||10,globalShinkLimit:a.globalShinkLimit||.2,fontSizeEnlargeFactor:a.fontSizeEnlargeFactor||1.5,fillingRatio:a.fillingRatio||.7,fillingTimes:a.fillingTimes||4,fillingXStep:a.fillingXRatioStep?Math.max(Math.floor(a.size[0]*a.fillingXRatioStep),1):a.fillingXStep||4,fillingYStep:a.fillingYRatioStep?Math.max(Math.floor(a.size[1]*a.fillingYRatioStep),1):a.fillingYStep||4,fillingInitialFontSize:a.fillingInitialFontSize,fillingDeltaFontSize:a.fillingDeltaFontSize,fillingInitialOpacity:a.fillingInitialOpacity||.8,fillingDeltaOpacity:a.fillingDeltaOpacity||.05,getFillingFontFamily:Vl(a.fillingFontFamily||"sans-serif"),getFillingFontStyle:Vl(a.fillingFontStyle||"normal"),getFillingFontWeight:Vl(a.fillingFontWeight||"normal"),getFillingPadding:Vl(a.fillingPadding||.4),fillingRotateList:a.fillingRotateList||[0,90],fillingDeltaFontSizeFactor:a.fillingDeltaFontSizeFactor||.2,fillingColorList:a.fillingColorList||["#537EF5"],sameColorList:!1,minInitFontSize:a.minInitFontSize||10,minFontSize:a.minFontSize||4,minFillFoontSize:a.minFillFoontSize||2},d=GAt(u.colorList,c.fillingColorList);c.sameColorList=d,uTt(o,u,c,a),dTt(o,u,c,s);const{getText:h,getFontFamily:p,getFontStyle:f,getFontWeight:g,getPadding:v,getColor:m,getFillingColor:b,getColorHex:_,fontSizeScale:S,colorScale:C,fillingColorScale:k,getFontOpacity:E,rotateList:A}=u,P=o.map(j=>{var K,ie;return{x:0,y:0,weight:0,text:h(j),fontFamily:p(j),fontWeight:g(j),fontStyle:f(j),rotate:A[~~(r.randomGenerator()*A.length)],fontSize:Math.max(c.minInitFontSize,~~S(j)),opacity:E(j),padding:v(j),color:_&&_(j)||C&&C(m(j))||"black",fillingColor:!b||((K=a.colorField)===null||K===void 0?void 0:K.field)===((ie=a.fillingColorField)===null||ie===void 0?void 0:ie.field)&&d?void 0:_&&_(j)||k&&k(b(j))||"black",datum:j,visible:!0,hasPlaced:!1}}),O=Os(P.map(j=>j.fontSize));P.forEach(j=>j.weight=j.fontSize/O),P.sort((j,K)=>K.weight-j.weight);const{fillingWords:M,successedWords:D,failedWords:L}=aTt(P,c,s),H=(t=(e=a.text)===null||e===void 0?void 0:e.field)!==null&&t!==void 0?t:"textKey",B=(n=a.dataIndexKey)!==null&&n!==void 0?n:"defaultDataIndexKey",F=a.as||oTt;let z,N;const U=[];for(let j=0;j<P.length;++j)z=P[j],N=z.datum,N[F.x]=z.x,N[F.y]=z.y,N[F.fontFamily]=z.fontFamily,N[F.fontSize]=z.fontSize,N[F.fontStyle]=z.fontStyle,N[F.fontWeight]=z.fontWeight,N[F.angle]=Pn(z.rotate),N[F.opacity]=z.opacity,N[F.visible]=z.visible,N[F.isFillingWord]=!1,N[F.color]=z.color,N[B]=`${z.text}_${j}_keyword`,U.push(N);const G=[];M.forEach((j,K)=>{var ie,ae;const re={};re[F.x]=j.x,re[F.y]=j.y,re[F.fontFamily]=j.fontFamily,re[F.fontSize]=j.fontSize,re[F.fontStyle]=j.fontStyle,re[F.fontWeight]=j.fontWeight,re[F.angle]=Pn(j.rotate),re[F.opacity]=j.opacity,re[F.visible]=j.visible,re[F.isFillingWord]=!0,re[F.color]=b?((ie=a.colorField)===null||ie===void 0?void 0:ie.field)===((ae=a.fillingColorField)===null||ae===void 0?void 0:ae.field)&&d?j.color:j.fillingColor:c.fillingColorList[~~(r.randomGenerator()*c.fillingColorList.length)],re[H]=j.text,re[B]=`${j.text}_${K}_fillingWords`,G.push(re)}),this.view&&this.view.emit&&this.view.emit(yF.AFTER_WORDCLOUD_SHAPE_LAYOUT,{successedWords:D,failedWords:L}),this.progressiveResult=U.concat(G)}release(){this.segmentationInput=null,this.data=null,this.shapeImage=null,this.progressiveResult=null,this.options=null}}const uTt=(i,e,t,n)=>{var r,s,a,o;const{colorMode:l,getColor:u,getFillingColor:c}=e,{sameColorList:d}=t;let h,p,f=e.colorList,g=t.fillingColorList;if(l==="ordinal"){const v=i.map(m=>u(m));if(h=m=>new V_().domain(v).range(f).scale(m),c&&(((r=n.colorField)===null||r===void 0?void 0:r.field)!==((s=n.fillingColorField)===null||s===void 0?void 0:s.field)||!d)){const m=i.map(b=>c(b));p=b=>new V_().domain(m).range(g).scale(b)}}else{f.length===1&&(f=[f[0],f[0]]);const v=new Zd().domain(iA(u,i)).range(f);if(h=m=>v.scale(m),c&&(((a=n.colorField)===null||a===void 0?void 0:a.field)!==((o=n.fillingColorField)===null||o===void 0?void 0:o.field)||!d)){g.length===1&&(g=[g[0],g[0]]);const m=new Zd().domain(iA(c,i)).range(g);p=b=>m.scale(b)}}Object.assign(e,{colorScale:h,fillingColorScale:p})},cTt=(i,e,t)=>{let{fontSizeRange:n}=e;const{getFontSize:r,getText:s}=e;let a;if(r){if(r&&n){const o=new GL().domain(iA(r,i)).range(n);a=l=>o.scale(r(l))}else if(r&&Pe(r)&&!n){const[l,u]=iA(r,i),c=i.map(p=>({text:s(p),value:r(p),weight:u===l?1:(r(p)-l)/(u-l)})),d=Mhe(c,t,!0);n=[~~(.5*d),~~d];const h=new GL().domain(iA(r,i)).range(n);a=p=>h.scale(r(p))}}else{const o=i.map(u=>({text:s(u)})),l=Mhe(o,t,!1);a=qAt(l)}Object.assign(e,{getFontSize:r,fontSizeRange:n,fontSizeScale:a})},Mhe=(i,e,t)=>{const n=e.shapeArea,r=e.ratio,s=e.segmentation.regions,a=Math.ceil(Math.sqrt(n)/12),o=i.reduce((u,c)=>{const d=l2e(c.text);return d<a?u+d*(t?(.5+.5*c.weight)**2:1):u},0);if(o===0)return 12;let l=20;if(s.length===1)l=Math.sqrt(r*(n/(1.7*o)));else{const u=[];for(let c=0;c<s.length;c++){const d=s[c].area,h=s[c].ratio,p=d/n;if(p<.1)continue;const f=p*(o*(h<1?2.7-h:1.7)),g=Math.sqrt(r*(d/f));u.push(g)}l=u.length?Math.min(...u):Math.sqrt(r*(n/(1.7*o)))}return l};function dTt(i,e,t,n){const{getText:r}=e;let{fillingInitialFontSize:s,fillingDeltaFontSize:a}=t;const{fillingRatio:o}=t,l=Math.ceil(Math.sqrt(n.shapeArea)/4);if(!s||!a){const u=o/100,c=i.reduce((h,p)=>{const f=l2e(r(p));return f>l?h:h+f},0)/i.length;let d;if(c===0)d=8;else{const h=.2*n.shapeArea;d=Math.sqrt(u*(h/c))}s=~~d,a=d*t.fillingDeltaFontSizeFactor,Object.assign(t,{fillingInitialFontSize:s,fillingDeltaFontSize:a})}}const iA=(i,e)=>{let t=1/0,n=-1/0;const r=e.length;let s;for(let a=0;a<r;++a)s=lf(i(e[a])),s<t&&(t=s),s>n&&(n=s);return e.length===1&&t===n&&(t-=1e4),[t,n]},Vl=i=>i?typeof i=="string"||typeof i=="number"?()=>i:Pe(i)?i:e=>e[i.field]:null,hTt=(i,e,t,n)=>{if(!i.size||Y(i.size[0])||Y(i.size[1])||i.size[0]<=0||i.size[1]<=0)return Kn.getInstance().info("Wordcloud size dimensions must be greater than 0"),[];if(i.size=[Math.ceil(i.size[0]),Math.ceil(i.size[1])],i.shape||h_("WordcloudShape shape must be specified."),i.text||h_("WordcloudShape text must be specified."),n!=null&&n.emit&&n.emit(yF.BEFORE_WORDCLOUD_SHAPE_LAYOUT),!e||e.length===0)return[];const r=new lTt(i,n);return r.layout(e),r.unfinished()?{progressive:r}:r.output()},h2e=()=>{He.registerTransform("wordcloudShape",{transform:hTt,markPhase:"beforeJoin"},!0)};class s2 extends ow{constructor(){super(...arguments),this.type=xe.wordCloud}}s2.type=xe.wordCloud;const p2e=()=>{Y$(),Ju(),n2e(),ce.registerSeries(s2.type,s2)},pTt=()=>{h2e(),Y$(),Ju(),n2e(),ce.registerSeries(s2.type,s2)};class a2 extends ow{constructor(){super(...arguments),this.type=xe.wordCloud3d}_wordCloudTransformOption(){var e;return Object.assign(Object.assign({},super._wordCloudTransformOption()),{postProjection:(e=this._spec.postProjection)!==null&&e!==void 0?e:"StereographicProjection",depth_3d:this._spec.depth_3d})}_wordCloudShapeTransformOption(){var e;return Object.assign(Object.assign({},super._wordCloudShapeTransformOption()),{postProjection:(e=this._spec.postProjection)!==null&&e!==void 0?e:"StereographicProjection",depth_3d:this._spec.depth_3d})}initMark(){this._wordMark=this._createMark(ow.mark.word,{groupKey:this._seriesField,support3d:!0,isSeriesMark:!0})}initMarkStyle(){super.initMarkStyle();const e=this._wordMark;e&&this.setMarkStyle(e,{z:t=>{var n;return(n=t.z)!==null&&n!==void 0?n:0}},"normal",Ve.Series)}initAnimation(){var e,t;const n=(e=this._padding)!==null&&e!==void 0?e:{};this._wordMark&&this._wordMark.setAnimationConfig(Yi((t=ce.getAnimationInKey("wordCloud3d"))===null||t===void 0?void 0:t(()=>{var r;const s=this.getCompiler().getVGrammarView(),a=s.width()-n.left||0-n.right||0,o=s.height()-n.top||0-n.bottom||0,l=Math.max(a,o)/2;return{center:{x:l,y:l,z:(r=this._spec.depth_3d)!==null&&r!==void 0?r:l},r:l}}),an("word",this._spec,this._markAttributeContext)))}}a2.type=xe.wordCloud3d;const f2e=()=>{Y$(),Ju(),r2e(),ce.registerSeries(a2.type,a2)},fTt=()=>{h2e(),Y$(),Ju(),r2e(),ce.registerSeries(a2.type,a2)},gTt=(i,e)=>{var t,n;const r=i.map(C=>Object.assign({},C));if(!r||r.length===0)return r;const{valueField:s,asTransformRatio:a,asReachRatio:o,asHeightRatio:l,asValueRatio:u,asNextValueRatio:c,asLastValueRatio:d,asLastValue:h,asCurrentValue:p,asNextValue:f,heightVisual:g=!1,isCone:v=!0,range:m}=e,b=r.reduce((C,k)=>Math.max(C,Number.parseFloat(k[s])||-1/0),-1/0),_=r.reduce((C,k)=>Math.min(C,Number.parseFloat(k[s])||1/0),1/0),S=[(t=m==null?void 0:m.min)!==null&&t!==void 0?t:_,(n=m==null?void 0:m.max)!==null&&n!==void 0?n:b];return r.forEach((C,k)=>{var E,A;const P=Number.parseFloat(C[s]),O=Number.parseFloat((E=r[k-1])===null||E===void 0?void 0:E[s]),M=Number.parseFloat((A=r[k+1])===null||A===void 0?void 0:A[s]),D=Ce(M*P)&&P!==0?M/P:0,L=Ce(P*O)&&O!==0?P/O:0;h&&(C[h]=O),f&&(C[f]=M),a&&(C[a]=D),o&&(C[o]=k===0?1:L),l&&(C[l]=g===!0?D:1/r.length),u&&(C[u]=P/S[1]),c&&(C[c]=k===r.length-1?v?0:C[u]:M/S[1]),d&&(C[d]=k===0?1:O/S[1]),p&&(C[p]=P)}),r},mTt=(i,e)=>{var t,n;const r=(n=(t=i[0])===null||t===void 0?void 0:t.latestData)===null||n===void 0?void 0:n.map(s=>Object.assign({},s));return r&&r.length!==0&&(r.shift(),r.forEach(s=>{s[e.asIsTransformLevel]=!0})),r},vTt=`${Ut}_FUNNEL_TRANSFORM_RATIO`,tU=`${Ut}_FUNNEL_REACH_RATIO`,yTt=`${Ut}_FUNNEL_HEIGHT_RATIO`,LI=`${Ut}_FUNNEL_VALUE_RATIO`,Ihe=`${Ut}_FUNNEL_LAST_VALUE_RATIO`,Rhe=`${Ut}_FUNNEL_NEXT_VALUE_RATIO`,_Tt=`${Ut}_FUNNEL_LAST_VALUE`,bTt=`${Ut}_FUNNEL_CURRENT_VALUE`,STt=`${Ut}_FUNNEL_NEXT_VALUE`,Dhe=`${Ut}_FUNNEL_TRANSFORM_LEVEL`,ng=20,fy=5,xTt="80%",wTt=0;class CTt extends hu{constructor(){super(...arguments),this.dimensionTooltipTitleCallback=(e,t)=>{var n,r,s;const a=this.series;return((n=t==null?void 0:t.mark)===null||n===void 0?void 0:n.name)==="transform"?"":(r=this._getDimensionData(e))!==null&&r!==void 0?r:(s=e.properties)===null||s===void 0?void 0:s[`${a.getCategoryField()}`]},this.markTooltipValueCallback=(e,t)=>{var n;return((n=t==null?void 0:t.mark)===null||n===void 0?void 0:n.name)==="transform"?`${(100*(e==null?void 0:e[tU])).toFixed(1)}%`:this._getMeasureData(e)},this.markTooltipKeyCallback=(e,t)=>{var n;if(((n=t==null?void 0:t.mark)===null||n===void 0?void 0:n.name)==="transform")return"";const{dimensionFields:r,seriesFields:s}=this._seriesCacheInfo,a=r[r.length-1];return X(s[0])?e==null?void 0:e[s[0]]:e==null?void 0:e[a]}}}class g2e extends Xo{_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{points:[]})}}class o2 extends g2e{constructor(){super(...arguments),this.type=o2.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{lineWidth:0})}}o2.type="polygon";const m2e=()=>{ce.registerMark(o2.type,o2),Q_t(),eTe()};class Eq extends pu{_transformLabelSpec(e){this._addMarkLabelSpec(e,"funnel"),e.isTransform&&this._addMarkLabelSpec(e,"transform","transformLabel")}}class qh extends tb{constructor(){super(...arguments),this.type=xe.funnel,this._funnelMarkName="funnel",this._funnelMarkType="polygon",this._transformMarkName="transform",this._transformMarkType="polygon",this.transformerConstructor=Eq,this._funnelMark=null,this._funnelTransformMark=null,this._labelMark=null,this._transformLabelMark=null,this._funnelOuterLabelMark={}}getCategoryField(){return this._categoryField}setCategoryField(e){return this._categoryField=e,this._categoryField}getValueField(){return this._valueField}setValueField(e){return this._valueField=e,this._valueField}setAttrFromSpec(){var e,t;super.setAttrFromSpec(),this.setCategoryField(this._spec.categoryField),this.setValueField(this._spec.valueField),this._funnelOrient=(e=this._spec.funnelOrient)!==null&&e!==void 0?e:"top",this._shape=(t=this._spec.shape)!==null&&t!==void 0?t:"trapezoid",this._isHorizontal()?this._funnelAlign=["top","bottom"].includes(this._spec.funnelAlign)?this._spec.funnelAlign:"center":this._funnelAlign=["left","right"].includes(this._spec.funnelAlign)?this._spec.funnelAlign:"center",this._spec.categoryField&&this.setSeriesField(this._spec.categoryField)}initData(){if(super.initData(),!this._data)return;pi(this._dataSet,"funnel",gTt),pi(this._dataSet,"funnelTransform",mTt);const e=new vn(this._dataSet,{name:`${Ut}_series_${this.id}_viewDataTransform`});e.parse([this.getViewData()],{type:"dataview"}),this._viewDataTransform=new kf(this._option,e)}getStatisticFields(){const e=[];return e.push({key:this._categoryField,operations:["values"]}),e.push({key:this._valueField,operations:["max","min"]}),e}_statisticViewData(){var e,t,n,r,s,a,o,l,u;super._statisticViewData(),this._data.getDataView().transform({type:"funnel",options:{valueField:this.getValueField(),isCone:this._spec.isCone,asCurrentValue:bTt,asTransformRatio:vTt,asReachRatio:tU,asHeightRatio:yTt,asValueRatio:LI,asNextValueRatio:Rhe,asLastValueRatio:Ihe,asLastValue:_Tt,asNextValue:STt,range:{min:(t=(e=this._spec.range)===null||e===void 0?void 0:e.min)!==null&&t!==void 0?t:(r=(n=this.getViewDataStatistics().latestData)===null||n===void 0?void 0:n[this.getValueField()])===null||r===void 0?void 0:r.min,max:(a=(s=this._spec.range)===null||s===void 0?void 0:s.max)!==null&&a!==void 0?a:(l=(o=this.getViewDataStatistics().latestData)===null||o===void 0?void 0:o[this.getValueField()])===null||l===void 0?void 0:l.max}}}),(u=this._viewDataTransform.getDataView())===null||u===void 0||u.transform({type:"funnelTransform",options:{asIsTransformLevel:Dhe}})}initMark(){var e,t,n,r,s,a,o,l,u,c,d,h;if(this._funnelMark=this._createMark(Object.assign(Object.assign({},qh.mark.funnel),{name:this._funnelMarkName,type:this._funnelMarkType}),{themeSpec:(e=this._theme)===null||e===void 0?void 0:e.funnel,morph:ym(this._spec,this._funnelMarkName),defaultMorphElementKey:this._seriesField,groupKey:this._seriesField,isSeriesMark:!0,customShape:(t=this._spec.funnel)===null||t===void 0?void 0:t.customShape,stateSort:(n=this._spec.funnel)===null||n===void 0?void 0:n.stateSort,noSeparateStyle:!0}),this._spec.isTransform&&(this._funnelTransformMark=this._createMark(Object.assign(Object.assign({},qh.mark.transform),{name:this._transformMarkName,type:this._transformMarkType}),{themeSpec:(r=this._theme)===null||r===void 0?void 0:r.transform,skipBeforeLayouted:!1,dataView:this._viewDataTransform.getDataView(),dataProductId:this._viewDataTransform.getProductId(),customShape:(s=this._spec.transform)===null||s===void 0?void 0:s.customShape,stateSort:(a=this._spec.transform)===null||a===void 0?void 0:a.stateSort,noSeparateStyle:!0})),(l=(o=this._spec)===null||o===void 0?void 0:o.outerLabel)===null||l===void 0?void 0:l.visible){const{line:p}=(u=this._spec.outerLabel)!==null&&u!==void 0?u:{},{line:f}=(d=(c=this._theme)===null||c===void 0?void 0:c.outerLabel)!==null&&d!==void 0?d:{};this._funnelOuterLabelMark.label=this._createMark(qh.mark.outerLabel,{themeSpec:(h=this._theme)===null||h===void 0?void 0:h.outerLabel,markSpec:this._spec.outerLabel,skipBeforeLayouted:!0,noSeparateStyle:!0}),this._funnelOuterLabelMark.line=this._createMark(qh.mark.outerLabelLine,{themeSpec:f,markSpec:p,depend:[this._funnelOuterLabelMark.label],noSeparateStyle:!0})}}initTooltip(){this._tooltipHelper=new CTt(this),this._funnelMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._funnelMark),this._funnelTransformMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._funnelTransformMark)}getDimensionField(){return this._seriesField?[this._seriesField]:[]}getMeasureField(){return[this._valueField]}getGroupFields(){return null}initMarkStyle(){const e=this._funnelMark;e&&this.setMarkStyle(e,{points:s=>this.getPoints(s),visible:s=>X(s[this._valueField]),fill:this.getColorAttribute()},"normal",Ve.Series);const t=this._funnelTransformMark;t&&this.setMarkStyle(t,{points:s=>this.getPoints(s)},"normal",Ve.Series);const n=this._funnelOuterLabelMark.label;n&&this.setMarkStyle(n,{text:s=>{const a=`${s[this.getCategoryField()]}`;return Pe(this._spec.outerLabel.formatMethod)?this._spec.outerLabel.formatMethod(a,s):a},x:s=>this._computeOuterLabelPosition(s).x,y:s=>this._computeOuterLabelPosition(s).y,textAlign:s=>this._computeOuterLabelPosition(s).align,textBaseline:s=>this._computeOuterLabelPosition(s).textBaseline,maxLineWidth:s=>this._computeOuterLabelLimit(s)},"normal",Ve.Series);const r=this._funnelOuterLabelMark.line;r&&n&&this.setMarkStyle(r,{x:s=>this._computeOuterLabelLinePosition(s).x1,y:s=>this._computeOuterLabelLinePosition(s).y1,x1:s=>this._computeOuterLabelLinePosition(s).x2,y1:s=>this._computeOuterLabelLinePosition(s).y2},"normal",Ve.Series)}initLabelMarkStyle(e){var t,n;if(!e)return;const r=e.getTarget(),s=e.getComponent();r===this._funnelMark?(this._labelMark=e,this.setMarkStyle(e,{text:a=>`${a[this.getCategoryField()]} ${a[this.getValueField()]}`,x:a=>this._computeLabelPosition(a).x,y:a=>this._computeLabelPosition(a).y,maxLineWidth:a=>this._computeLabelLimit(a,this._spec.label),stroke:this.getColorAttribute()},"normal",Ve.Series),!((t=this._funnelOuterLabelMark)===null||t===void 0)&&t.label&&this._funnelOuterLabelMark.label.setDepend(s),!((n=this._funnelOuterLabelMark)===null||n===void 0)&&n.line&&this._funnelOuterLabelMark.line.setDepend(...this._funnelOuterLabelMark.line.getDepend())):this._funnelTransformMark&&r===this._funnelTransformMark&&(this._transformLabelMark=e,this.setMarkStyle(e,{text:a=>`${(100*Y3(tU).bind(this)(a)).toFixed(1)}%`,x:a=>this._computeLabelPosition(a).x,y:a=>this._computeLabelPosition(a).y,maxLineWidth:a=>this._computeLabelLimit(a,this._spec.transformLabel)},"normal",Ve.Series))}initAnimation(){var e,t,n,r,s,a,o;const l=(n=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset)!==null&&n!==void 0?n:"clipIn";l==="clipIn"&&this._rootMark&&this._rootMark.setAnimationConfig(Yi((r=ce.getAnimationInKey("cartesianGroupClip"))===null||r===void 0?void 0:r({direction:()=>this._isHorizontal()?"x":"y",width:()=>{const u=this.getRootMark().getProduct();if(u){const{x1:c,x2:d}=u.getBounds();return Math.max(c,d)}return this.getLayoutRect().width},height:()=>{const u=this.getRootMark().getProduct();if(u){const{y1:c,y2:d}=u.getBounds();return Math.max(c,d)}return this.getLayoutRect().height},orient:()=>this._isReverse()?"negative":"positive"},l),an("group",this._spec,this._markAttributeContext))),[(s=this._funnelOuterLabelMark)===null||s===void 0?void 0:s.label].forEach(u=>{u&&u.setAnimationConfig(Yi(ce.getAnimationInKey("fadeInOut")(),an(u.name,this._spec,this._markAttributeContext)))}),[this._funnelMark,this._funnelTransformMark].forEach(u=>{u&&u.setAnimationConfig(Yi(ce.getAnimationInKey("funnel")({},l),an(u.name,this._spec,this._markAttributeContext)))}),!((a=this._funnelOuterLabelMark)===null||a===void 0)&&a.line&&this._funnelOuterLabelMark.line.setAnimationConfig(Yi((o=ce.getAnimationInKey("fadeInOut"))===null||o===void 0?void 0:o(),an("outerLabelLine",this._spec,this._markAttributeContext)))}initGroups(){}getStackGroupFields(){return[]}getStackValueField(){return null}initEvent(){var e;super.initEvent(),(e=this._viewDataTransform.getDataView())===null||e===void 0||e.target.addListener("change",t=>{this._viewDataTransform.updateData()})}getPoints(e){const t=this.isTransformLevel(e),n=this._getMainAxisLength(t)/2;let r,s;t?(r=this._shape==="rect"?this._getSecondaryAxisLength(e[Ihe])/2:this._getSecondaryAxisLength(e[LI])/2,s=this._getSecondaryAxisLength(e[LI])/2):(r=this._getSecondaryAxisLength(e[LI])/2,s=this._shape==="rect"?r:this._getSecondaryAxisLength(e[Rhe])/2);const{x:a,y:o}=this._getPositionByData(e),l=this._getPolygonPoints([a,o],r,s,r,s,n);return this._funnelAlign!=="center"&&this._adjustPoints(l),l}isTransformLevel(e){return!!(e!=null&&e[Dhe])}_buildMarkAttributeContext(){super._buildMarkAttributeContext(),this._markAttributeContext.valueToPosition=this.valueToPosition.bind(this),this._markAttributeContext.getPoints=this.getPoints.bind(this),this._markAttributeContext.isTransformLevel=this.isTransformLevel.bind(this)}valueToPosition(e){var t,n,r;const s=(r=(n=(t=this.getViewData())===null||t===void 0?void 0:t.latestData)===null||n===void 0?void 0:n.find)===null||r===void 0?void 0:r.call(n,a=>a[this._categoryField]===e);return X(s)?this._getPolygonCenter(this.getPoints(s)):null}dataToPosition(e,t){return t&&!this.isDatumInViewData(e)?null:this.valueToPosition(e[this._categoryField])}dataToPositionX(e){var t;return(t=this.dataToPosition(e))===null||t===void 0?void 0:t.x}dataToPositionY(e){var t;return(t=this.dataToPosition(e))===null||t===void 0?void 0:t.y}dataToPositionZ(e){return 0}_getMainAxisLength(e=!1){var t;const n=this.getViewData().latestData.length,r=this._isHorizontal()?this.getLayoutRect().width:this.getLayoutRect().height,s=!!this._spec.isTransform,a=s?0:(t=this._spec.gap)!==null&&t!==void 0?t:0,o=s?Math.max(0,n-1):0,l=this._spec.heightRatio||.5,u=(r-a*Math.max(0,n-1))/(n+l*o);return e?s?u*l:0:u}_getSecondaryAxisLength(e){const t=Number.isNaN(e)||!Number.isFinite(e)?0:e,n=this._computeMaxSize(),r=this._computeMinSize();return r+(n-r)*t}_getPositionByData(e){var t;const n=(t=this.getViewData().latestData)===null||t===void 0?void 0:t.findIndex(h=>h[this._categoryField]===e[this._categoryField]&&h[rp]===e[rp]);if(!X(n)||n<0)return{};const r=this.isTransformLevel(e),s=this._isHorizontal(),a=s?this.getLayoutRect().height:this.getLayoutRect().width,o=s?this.getLayoutRect().width:this.getLayoutRect().height,l=a/2;let u=0;const c=this._getMainAxisLength(),d=this._getMainAxisLength(!0);return u+=n*(c+d),u+=r?-d/2:c/2,!this._spec.isTransform&&this._spec.gap&&(u+=this._spec.gap*n),this._isReverse()&&(u=o-u),this._isHorizontal()?{x:u,y:l}:{x:l,y:u}}_getPolygonPoints(e,t,n,r,s,a){const o=e[0],l=e[1];switch(this._funnelOrient){case"left":return[{x:o-a,y:l+t},{x:o-a,y:l-r},{x:o+a,y:l-s},{x:o+a,y:l+n}];case"right":return[{x:o+a,y:l-r},{x:o+a,y:l+r},{x:o-a,y:l+n},{x:o-a,y:l-n}];case"bottom":return[{x:o+t,y:l+a},{x:o-r,y:l+a},{x:o-s,y:l-a},{x:o+n,y:l-a}];default:return[{x:o-t,y:l-a},{x:o+r,y:l-a},{x:o+s,y:l+a},{x:o-n,y:l+a}]}}_getPolygonCenter(e){if(this._isHorizontal()){const r=(e[0].x+e[3].x)/2,s=(e[0].y+e[3].y)/2;return{x:(r+(e[1].x+e[2].x)/2)/2,y:(s+(e[1].y+e[2].y)/2)/2}}const t=(e[0].x+e[3].x)/2,n=(e[0].y+e[3].y)/2;return{x:(t+(e[1].x+e[2].x)/2)/2,y:(n+(e[1].y+e[2].y)/2)/2}}_adjustPoints(e){let t,n,r;return this._isHorizontal()?(r="y",this._funnelOrient==="left"?(t=this._funnelAlign==="bottom"?-e[1].y:e[1].y,n=this._funnelAlign==="bottom"?-e[2].y:e[2].y):(t=this._funnelAlign==="bottom"?-e[0].y:e[0].y,n=this._funnelAlign==="bottom"?-e[3].y:e[3].y)):(r="x",this._funnelOrient==="top"?(t=this._funnelAlign==="left"?e[0].x:-e[0].x,n=this._funnelAlign==="left"?e[3].x:-e[3].x):(t=this._funnelAlign==="left"?e[1].x:-e[1].x,n=this._funnelAlign==="left"?e[2].x:-e[2].x)),e[0][r]-=t,e[1][r]-=t,e[2][r]-=n,e[3][r]-=n,e}_computeLabelPosition(e){const t=this.getPoints(e);return this._getPolygonCenter(t)}_computeLabelLimit(e,t){const n=t==null?void 0:t.limit;if(Xe(n))return n;const r=this.getPoints(e);return n==="shapeSize"?this._isHorizontal()?Math.abs(r[3].x-r[0].x):(Math.abs(r[0].x-r[1].x)+Math.abs(r[2].x-r[3].x))/2:this._isHorizontal()?Math.abs(r[3].x-r[0].x):void 0}_computeOuterLabelPosition(e){var t,n;let r,s,a=(t=this._spec.outerLabel)===null||t===void 0?void 0:t.position,o="center",l="middle";if(a=this._isHorizontal()?["top","bottom"].includes(a)?a:this._funnelAlign==="bottom"?"top":"bottom":["left","right"].includes(a)?a:this._funnelAlign==="left"?"right":"left",((n=this._spec.outerLabel)===null||n===void 0?void 0:n.alignLabel)!==!1)({x:r,y:s}=this._getPositionByData(e)),a==="left"?(r=0,o="left"):a==="right"?(r=this.getLayoutRect().width,o="right"):a==="top"?(s=0,l="top"):a==="bottom"&&(s=this.getLayoutRect().height,l="bottom");else{const{x2:u,y2:c}=this._computeOuterLabelLinePosition(e);r=u,s=c,a==="left"?(r-=fy,o="right"):a==="right"?(r+=fy,o="left"):a==="top"?(s-=fy,l="bottom"):a==="bottom"&&(s+=fy,l="top")}return{x:r,y:s,align:o,textBaseline:l}}_computeOuterLabelLimit(e){var t,n,r,s,a;if(this._isHorizontal())return this._getMainAxisLength(this.isTransformLevel(e));const o=this.getPoints(e),l=(Math.abs(o[0].x-o[1].x)+Math.abs(o[2].x-o[3].x))/2,u=this.getCategoryField(),c=(r=(n=(t=this._labelMark)===null||t===void 0?void 0:t.getComponent())===null||n===void 0?void 0:n.getProduct().getGroupGraphicItem().find(({attribute:f,type:g})=>{var v;return g==="text"&&((v=f.data)===null||v===void 0?void 0:v[u])===e[u]},!0))===null||r===void 0?void 0:r.AABBBounds,d=c?c.x2-c.x1:0,h=this._funnelOuterLabelMark.line?ng:0;let p=this.getLayoutRect().width-Math.max(l,d);return this._funnelAlign==="center"&&(p/=2),p-h-((a=(s=this._spec.outerLabel)===null||s===void 0?void 0:s.spaceWidth)!==null&&a!==void 0?a:fy)}_computeOuterLabelLinePosition(e){var t,n,r,s,a,o,l,u,c,d,h;const p=this.getCategoryField(),f=(a=(s=(r=(n=(t=this._funnelOuterLabelMark)===null||t===void 0?void 0:t.label)===null||n===void 0?void 0:n.getProduct())===null||r===void 0?void 0:r.elements)===null||s===void 0?void 0:s.find(P=>{var O;return((O=P.data[0])===null||O===void 0?void 0:O[p])===e[p]}))===null||a===void 0?void 0:a.getBounds(),g=(u=(l=(o=this._labelMark)===null||o===void 0?void 0:o.getComponent())===null||l===void 0?void 0:l.getProduct().getGroupGraphicItem().find(({attribute:P,type:O})=>{var M;return O==="text"&&((M=P.data)===null||M===void 0?void 0:M[p])===e[p]},!0))===null||u===void 0?void 0:u.AABBBounds,v=(c=this._spec.outerLabel)!==null&&c!==void 0?c:{};let m,b,_,S;if(this._isHorizontal()){const P=(d=v.spaceWidth)!==null&&d!==void 0?d:fy,O=this.getPoints(e),M=(Math.abs(O[0].y-O[1].y)+Math.abs(O[2].y-O[3].y))/2;return this._spec.outerLabel.position==="top"||this._funnelAlign==="bottom"?(_=this._getPolygonCenter(O).y-M/2-P,S=v.alignLabel!==!1?(f==null?void 0:f.y2)+P:_-P,m=this._getPolygonCenter(O).x,_-S<ng&&(S=_-ng),b=m):(_=this._getPolygonCenter(O).y+M/2+P,S=v.alignLabel!==!1?(f==null?void 0:f.y1)-P:_+P,m=this._getPolygonCenter(O).x,S-_<ng&&(S=_+ng),b=m),{x1:m,x2:b,y1:_,y2:S}}const C=this.getPoints(e),k=(Math.abs(C[0].x-C[1].x)+Math.abs(C[2].x-C[3].x))/2,E=(g==null?void 0:g.x2)-(g==null?void 0:g.x1)||0,A=(h=v.spaceWidth)!==null&&h!==void 0?h:fy;return this._spec.outerLabel.position==="right"||this._funnelAlign==="left"?(m=this._getPolygonCenter(C).x+Math.max(E/2,k/2)+A,b=v.alignLabel!==!1?(f==null?void 0:f.x1)-A:m+A,_=this._getPolygonCenter(C).y,b-m<ng&&(b=m+ng),S=_):(m=this._getPolygonCenter(C).x-Math.max(E/2,k/2)-A,b=v.alignLabel!==!1?(f==null?void 0:f.x2)+A:m-A,_=this._getPolygonCenter(C).y,m-b<ng&&(b=m-ng),S=_),{x1:m,x2:b,y1:_,y2:S}}_computeMaxSize(){var e;const t=this._isHorizontal()?this.getLayoutRect().height:this.getLayoutRect().width,n=(e=this._spec.maxSize)!==null&&e!==void 0?e:xTt;return vo(n,t)}_computeMinSize(){var e;const t=this._isHorizontal()?this.getLayoutRect().height:this.getLayoutRect().width,n=(e=this._spec.minSize)!==null&&e!==void 0?e:wTt;return vo(n,t)}_isHorizontal(){return this._funnelOrient==="left"||this._funnelOrient==="right"}_isReverse(){return this._funnelOrient==="bottom"||this._funnelOrient==="right"}getDefaultShapeType(){return"square"}getActiveMarks(){return[this._funnelMark]}}qh.type=xe.funnel,qh.mark=ZEe,qh.transformerConstructor=Eq;const kTt=()=>{m2e(),Ju(),Kw(),ce.registerSeries(qh.type,qh),ce.registerAnimation("funnel",(i,e)=>Object.assign({appear:e==="clipIn"?void 0:{type:"fadeIn"}},D$)),Dwt(),vm()};class l2 extends g2e{constructor(){super(...arguments),this.type=l2.type}}l2.type="pyramid3d";const v2e=()=>{ce.registerMark(l2.type,l2),G_t(),eTe()};class y2e extends Eq{_transformLabelSpec(e){this._addMarkLabelSpec(e,"funnel3d"),e.isTransform&&this._addMarkLabelSpec(e,"transform3d","transformLabel")}}class hf extends qh{constructor(){super(...arguments),this.type=xe.funnel3d,this._funnelMarkName="funnel3d",this._funnelMarkType="pyramid3d",this._transformMarkName="transform3d",this._transformMarkType="pyramid3d",this.transformerConstructor=y2e}initMark(){var e,t,n,r,s,a,o,l;if(this._funnelMark=this._createMark(Object.assign(Object.assign({},hf.mark.funnel3d),{name:this._funnelMarkName,type:this._funnelMarkType}),{themeSpec:(e=this._theme)===null||e===void 0?void 0:e.funnel3d,key:this._seriesField,isSeriesMark:!0,support3d:!0}),this._spec.isTransform&&(this._funnelTransformMark=this._createMark(Object.assign(Object.assign({},hf.mark.transform3d),{name:this._transformMarkName,type:this._transformMarkType}),{themeSpec:(t=this._theme)===null||t===void 0?void 0:t.transform3d,key:this._seriesField,skipBeforeLayouted:!1,dataView:this._viewDataTransform.getDataView(),dataProductId:this._viewDataTransform.getProductId()})),(r=(n=this._spec)===null||n===void 0?void 0:n.outerLabel)===null||r===void 0?void 0:r.visible){const{line:u}=(s=this._spec.outerLabel)!==null&&s!==void 0?s:{},{line:c}=(o=(a=this._theme)===null||a===void 0?void 0:a.outerLabel)!==null&&o!==void 0?o:{};this._funnelOuterLabelMark.label=this._createMark(hf.mark.outerLabel,{themeSpec:(l=this._theme)===null||l===void 0?void 0:l.outerLabel,key:this._seriesField,markSpec:this._spec.outerLabel}),this._funnelOuterLabelMark.line=this._createMark(hf.mark.outerLabelLine,{themeSpec:c,key:this._seriesField,markSpec:u,depend:[this._funnelOuterLabelMark.label]})}}initMarkStyle(){super.initMarkStyle();const e=this._funnelMark;e&&this.setMarkStyle(e,{z:t=>{if(this._isHorizontal())return 0;const n=this.getPoints(t),r=Math.max(Math.abs(n[0].x-n[1].x),Math.abs(n[2].x-n[3].x));return(this._computeMaxSize()-r)/2}},"normal",Ve.Series)}initLabelMarkStyle(e){var t,n;super.initLabelMarkStyle(e),this.setMarkStyle(e,{z:r=>{if(this._isHorizontal())return 0;const s=this.getPoints(r),a=Math.max(Math.abs(s[0].x-s[1].x),Math.abs(s[2].x-s[3].x));return(this._computeMaxSize()-a)/2}},"normal",Ve.Series),this._labelMark=e,!((t=this._funnelOuterLabelMark)===null||t===void 0)&&t.label&&this._funnelOuterLabelMark.label.setDepend(e.getComponent()),!((n=this._funnelOuterLabelMark)===null||n===void 0)&&n.line&&this._funnelOuterLabelMark.line.setDepend(...this._funnelOuterLabelMark.line.getDepend())}}hf.type=xe.funnel3d,hf.mark=QEe,hf.transformerConstructor=y2e;const ETt=()=>{v2e(),Ju(),Kw(),ce.registerSeries(hf.type,hf)},bF=(i,e)=>{const t=(i-e[0])/(e[1]-e[0]||1);return Math.max(0,Math.min(1,t))},SF=i=>{const e=i.mark.elements.filter(n=>n.diffState===Sn.update),t=ca(e.map(n=>{var r;return(r=n==null?void 0:n.data)===null||r===void 0?void 0:r[0].depth}));return e.filter(n=>{var r;return((r=n==null?void 0:n.data)===null||r===void 0?void 0:r[0].depth)===t})},Lhe=(i,e,t)=>Mt(i)?[e,t]:[ca(i.map(n=>1*n.getGraphicAttribute("startAngle",!1))),Os(i.map(n=>1*n.getGraphicAttribute("endAngle",!1)))],ATt=i=>({channel:{startAngle:{from:(e,t)=>{const{startAngle:n,endAngle:r}=i.animationInfo(),s=SF(t),a=Lhe(s,n,r);return bF(e.startAngle,a)*(r-n)+n},to:e=>e.startAngle},endAngle:{from:(e,t)=>{const{startAngle:n,endAngle:r}=i.animationInfo(),s=SF(t),a=Lhe(s,n,r);return bF(e.endAngle,a)*(r-n)+n},to:e=>e.endAngle},outerRadius:{from:e=>e.innerRadius,to:e=>e.outerRadius},innerRadius:{from:e=>e.innerRadius,to:e=>e.innerRadius}}}),Fhe=i=>[ca(i.map(e=>1*e.getGraphicAttribute("startAngle",!1))),Os(i.map(e=>1*e.getGraphicAttribute("endAngle",!1)))],Bhe=i=>({channel:{startAngle:{from:(e,t)=>t.getGraphicAttribute("startAngle",!1),to:(e,t)=>{const{startAngle:n,endAngle:r}=i.animationInfo(),s=SF(t),a=Fhe(s);return bF(t.getGraphicAttribute("startAngle",!1),a)*(r-n)+n}},endAngle:{from:(e,t)=>t.getGraphicAttribute("endAngle",!1),to:(e,t)=>{const{startAngle:n,endAngle:r}=i.animationInfo(),s=SF(t),a=Fhe(s);return bF(t.getGraphicAttribute("endAngle",!1),a)*(r-n)+n}},outerRadius:{from:(e,t)=>t.getGraphicAttribute("outerRadius",!1),to:()=>i.animationInfo().innerRadius},innerRadius:{from:(e,t)=>t.getGraphicAttribute("innerRadius",!1),to:()=>i.animationInfo().innerRadius}}}),TTt=(i,e)=>{switch(e){case"fadeIn":return{type:"fadeIn"};case"growAngle":return{type:"growAngleIn"};default:return{type:"growRadiusIn"}}},PTt=()=>{ce.registerAnimation("sunburst",(i,e)=>({appear:TTt(i,e),enter:ATt(i),exit:Bhe(i),disappear:Bhe(i)}))},Aq=(i,e=[],t)=>{const n=(t==null?void 0:t.maxDepth)>=0;return i.forEach(r=>{(!n||r.depth<=t.maxDepth)&&(e.push(t!=null&&t.callback?t.callback(r):r),r.children&&(n&&r.depth===t.maxDepth?(r.children=null,r.isLeaf=!0):Aq(r.children,e,t)))}),e};function OTt(i,e,t,n,r){const s=i.children,a=s.length;let o=0;const l=new Array(a+1);l[0]=0;for(let c=0;c<a;++c)o+=s[c].value,l[c+1]=o;const u=(c,d,h,p,f,g,v)=>{if(c>=d-1){const E=s[c];return E.x0=p,E.y0=f,E.x1=g,void(E.y1=v)}const m=l[c],b=h/2+m;let _=c+1,S=d-1;for(;_<S;){const E=_+S>>>1;l[E]<b?_=E+1:S=E}b-l[_-1]<l[_]-b&&c+1<_&&--_;const C=l[_]-m,k=h-C;if(g-p>v-f){const E=h?(p*k+g*C)/h:g;u(c,_,C,p,f,E,v),u(_,d,k,E,f,g,v)}else{const E=h?(f*k+v*C)/h:v;u(c,_,C,p,f,g,E),u(_,d,k,p,E,g,v)}};u(0,a,i.value,e,t,n,r)}function K$(i,e,t,n,r,s={x0:"x0",x1:"x1",y0:"y0",y1:"y1"}){const a=i.children;let o,l=-1;const u=a.length,c=i.value&&(n-e)/i.value;for(;++l<u;)o=a[l],o[s.y0]=t,o[s.y1]=r,o[s.x0]=e,o[s.x1]=e+=o.value*c}function Tq(i,e,t,n,r){const s=i.children;let a,o=-1;const l=s.length,u=i.value&&(r-t)/i.value;for(;++o<l;)a=s[o],a.x0=e,a.x1=n,a.y0=t,t+=a.value*u,a.y1=t}function MTt(i,e,t,n,r){(i.depth%2==1?Tq:K$)(i,e,t,n,r)}function ITt(i,e,t,n,r,s){const a=[],o=e.children;let l,u,c=0,d=0;const h=o.length;let p,f,g,v,m,b,_,S,C,k=e.value;for(;c<h;){p=r-t,f=s-n;do g=o[d++].value;while(!g&&d<h);for(v=g,m=g,S=Math.max(f/p,p/f)/(k*i),C=g*g*S,_=Math.max(m/C,C/v);d<h;++d){if(u=o[d].value,g+=u,u<v&&(v=u),u>m&&(m=u),C=g*g*S,b=Math.max(m/C,C/v),b>_){g-=u;break}_=b}l=Object.assign({},e,{value:g,children:o.slice(c,d)}),a.push(l),p<f?K$(l,t,n,r,k?n+=f*g/k:s):Tq(l,t,n,k?t+=p*g/k:r,s),k-=g,c=d}return a}const RTt=i=>(e,t,n,r,s)=>{ITt(i,e,t,n,r,s)},X$=(i,e,t=0,n=-1,r,s)=>{let a=0,o=n??-1,l=t;return i.forEach((u,c)=>{var d,h;const p={flattenIndex:++o,key:s?s(u):`${(d=r==null?void 0:r.key)!==null&&d!==void 0?d:""}-${c}`,maxDepth:-1,depth:t,index:c,value:u.value,isLeaf:!0,datum:r?r.datum.concat(u):[u],parentKey:r==null?void 0:r.key};if(!((h=u.children)===null||h===void 0)&&h.length){p.children=[],p.isLeaf=!1;const f=X$(u.children,p.children,t+1,o,p,s);p.value=Y(u.value)?f.sum:Math.max(f.sum,Ly(u.value)),o=f.flattenIndex,l=Math.max(f.maxDepth,l)}else p.isLeaf=!0,p.value=Ly(u.value);a+=Math.abs(p.value),e.push(p)}),{sum:a,maxDepth:l,flattenIndex:o}},sS=(i,e,t,n)=>{let r=n;return i.forEach((s,a)=>{var o;r=e(s,a,t,r),!((o=s.children)===null||o===void 0)&&o.length&&(r=sS(s.children,e,s,r))}),n},J3=(i,e,t,n)=>{let r=n;return i.forEach((s,a)=>{var o;!((o=s.children)===null||o===void 0)&&o.length&&(r=J3(s.children,e,s,r)),r=e(s,a,t,r)}),r},$he={binary:OTt,dice:K$,slice:Tq,sliceDice:MTt};class q${constructor(e){var t;this._filterByArea=(s,a)=>{var o;const l=this._getMinAreaByDepth(s.depth);if(l>0&&s.value*a<l)return!1;if(!((o=s.children)===null||o===void 0)&&o.length){const u=s.children.filter(c=>this._filterByArea(c,a));u.length?u.length!==s.children.length&&(s.children=u):(s.isLeaf=!0,s.children=null)}return!0},this._getMinAreaByDepth=s=>{var a;return s<0?0:(a=ke(this.options.minVisibleArea)?this.options.minVisibleArea[s]:this.options.minVisibleArea)!==null&&a!==void 0?a:0},this._getGapWidthByDepth=s=>{var a;return s<0?0:(a=ke(this.options.gapWidth)?this.options.gapWidth[s]:this.options.gapWidth)!==null&&a!==void 0?a:0},this._getPaddingByDepth=s=>{var a;return s<0?0:(a=ke(this.options.padding)?this.options.padding[s]:this.options.padding)!==null&&a!==void 0?a:0},this._getLabelPaddingByDepth=s=>{var a;return s<0?0:(a=ke(this.options.labelPadding)?this.options.labelPadding[s]:this.options.labelPadding)!==null&&a!==void 0?a:0},this._layoutNode=s=>{const a=this._getGapWidthByDepth(s.depth);let o=s.x0,l=s.y0,u=s.x1,c=s.y1;if(s.maxDepth=this._maxDepth,a>0&&(o+=a/2,u-=a/2,l+=a/2,c-=a/2,o>u&&(o=(o+u)/2,u=o),l>c&&(l=(l+c)/2,c=l),s.x0=o,s.x1=u,s.y0=l,s.y1=c),s.children){const d=this._getLabelPaddingByDepth(s.depth),h=this._getPaddingByDepth(s.depth);h>0&&h<Math.min(u-o,c-l)/2&&(l+=h,c-=h,o+=h,u-=h),d>0&&(this.options.labelPosition==="top"&&l+d<c?(s.labelRect={x0:o,y0:l,x1:u,y1:l+d},l+=d):this.options.labelPosition==="bottom"&&c-d>l?(s.labelRect={x0:o,y0:c-d,x1:u,y1:c},c-=d):this.options.labelPosition==="left"&&o+d<u?(s.labelRect={x0:o,y0:l,x1:o+d,y1:c},o+=d):this.options.labelPosition==="right"&&u-d>o&&(s.labelRect={x0:u-d,y0:l,x1:u,y1:c},u-=d));const p=this._getGapWidthByDepth(s.depth+1);p>0&&(o-=p/2,u+=p/2,l-=p/2,c+=p/2),this._splitNode(s,o,l,u,c)}},this.options=Object.assign({},q$.defaultOpionts,e);const n=this.options.nodeKey,r=Pe(n)?n:n?lp(n):null;this._getNodeKey=r,this._splitNode=this.options.splitType==="squarify"?RTt(this.options.aspectRatio):(t=$he[this.options.splitType])!==null&&t!==void 0?t:$he.binary,this._maxDepth=-1}layout(e,t){var n;if(!e||!e.length)return[];const r="width"in t?{x0:0,x1:t.width,y0:0,y1:t.height,width:t.width,height:t.height}:{x0:Math.min(t.x0,t.x1),x1:Math.max(t.x0,t.x1),y0:Math.min(t.y0,t.y1),y1:Math.max(t.y0,t.y1),width:Math.abs(t.x1-t.x0),height:Math.abs(t.y1-t.y0)},s=[],a=X$(e,s,0,-1,null,this._getNodeKey);if(this._maxDepth=a.maxDepth,a.sum<=0)return[];const o={flattenIndex:-1,maxDepth:-1,key:"-1",depth:-1,index:-1,value:a.sum,datum:null,x0:r.x0,x1:r.x1,y0:r.y0,y1:r.y1,children:s},l=r.width*r.height/a.sum;return this._filterByArea(o,l),this._layout(o),(n=o.children)!==null&&n!==void 0?n:[]}_filterChildren(e){const t=this.options.maxDepth;if(Xe(t)&&t>=0&&e.depth>=t)return!1;const n=this.options.minChildrenVisibleArea;if(Xe(n)&&Math.abs((e.x1-e.x0)*(e.y1-e.y0))<n)return!1;const r=this.options.minChildrenVisibleSize;return!Xe(r)||!(Math.abs(e.x1-e.x0)<r||Math.abs(e.y1-e.y0)<r)}_layout(e){var t;this._filterChildren(e)||(e.children=null,e.isLeaf=!0),this._layoutNode(e),!((t=e.children)===null||t===void 0)&&t.length&&e.children.forEach(n=>{var r;!((r=n==null?void 0:n.children)===null||r===void 0)&&r.length?this._layout(n):this._layoutNode(n)})}}q$.defaultOpionts={aspectRatio:(1+Math.sqrt(5))/2,gapWidth:0,labelPadding:0,labelPosition:"top",splitType:"binary",minVisibleArea:10};const DTt=(i,e)=>{const t=new q$(i).layout(e,"width"in i?{width:i.width,height:i.height}:{x0:i.x0,x1:i.x1,y0:i.y0,y1:i.y1});if(i.flatten){const n=[];return Aq(t,n,{maxDepth:i==null?void 0:i.maxDepth}),n}return t},LTt={x0:"startAngle",x1:"endAngle",y0:"innerRadius",y1:"outerRadius"};class u2{constructor(e){this._layoutNode=r=>{if(r.maxDepth=this._maxDepth,r.children){const s=this._parsedInnerRadius[r.depth+1],a=this._parsedOutterRadius[r.depth+1];K$(r,r.startAngle,Math.min(s,a),r.endAngle,Math.max(s,a),LTt);const o=ke(this.options.label)?this.options.label[r.depth+1]:this.options.label;r.children.forEach(l=>{if(l.x=this._parsedCenter[0],l.y=this._parsedCenter[1],o)return this._layoutLabel(l,Ir(o)?{align:"center",rotate:"radial"}:o)})}},this.options=e?Object.assign({},u2.defaultOpionts,e):Object.assign({},u2.defaultOpionts);const t=this.options.nodeKey,n=Pe(t)?t:t?lp(t):null;this._getNodeKey=n,this._maxDepth=-1}_parseRadius(e,t){const n=e.x0+Pc(this.options.center[0],e.width),r=e.y0+Pc(this.options.center[1],e.height),s=Math.min(e.width/2,e.height/2),a=this.options.innerRadius,o=this.options.outerRadius,l=ke(a),u=l?a.map(f=>Pc(f,s)):Pc(a,s),c=ke(o),d=this.options.gapRadius,h=c?o.map(f=>Pc(f,s)):Pc(o,s),p=lxe(0,t+1);if(l)this._parsedInnerRadius=p.map((f,g)=>{const v=u[g];return Y(v)?s:v}),this._parsedOutterRadius=p.map((f,g)=>{var v,m;return c?(v=h[g])!==null&&v!==void 0?v:s:g<t?this._parsedInnerRadius[g+1]-(ke(d)?(m=d[g])!==null&&m!==void 0?m:0:d):h});else if(c)this._parsedOutterRadius=p.map((f,g)=>Y(h[g])?s:h[g]),this._parsedInnerRadius=p.map((f,g)=>{var v;return g===0?u:this._parsedOutterRadius[g-1]-(ke(d)?(v=d[g])!==null&&v!==void 0?v:0:d)});else{const f=Pc(a,s),g=(h-f)/(t+1);this._parsedInnerRadius=p.map((v,m)=>f+m*g),this._parsedOutterRadius=p.map((v,m)=>{var b;return this._parsedInnerRadius[m]+g-(ke(d)?(b=d[m])!==null&&b!==void 0?b:0:d)})}this._parsedCenter=[n,r],this._maxRadius=s}layout(e,t){const n="width"in t?{x0:0,x1:t.width,y0:0,y1:t.height,width:t.width,height:t.height}:{x0:Math.min(t.x0,t.x1),x1:Math.max(t.x0,t.x1),y0:Math.min(t.y0,t.y1),y1:Math.max(t.y0,t.y1),width:Math.abs(t.x1-t.x0),height:Math.abs(t.y1-t.y0)};if(!e||!e.length)return[];const r=[],s=X$(e,r,0,-1,null,this._getNodeKey);return this._parseRadius(n,s.maxDepth),this._maxDepth=s.maxDepth,this._layout(r,{flattenIndex:-1,maxDepth:-1,key:"-1",depth:-1,index:-1,value:s.sum,datum:null,children:r,startAngle:this.options.startAngle,endAngle:this.options.endAngle}),r}_layout(e,t){this._layoutNode(t),e.forEach(n=>{var r;!((r=n==null?void 0:n.children)===null||r===void 0)&&r.length?this._layout(n.children,n):this._layoutNode(n)})}_layoutLabel(e,t){var n;const r=(e.startAngle+e.endAngle)/2,s=(t.align==="start"?e.innerRadius:t.align==="end"?e.outerRadius:(e.innerRadius+e.outerRadius)/2)+((n=t.offset)!==null&&n!==void 0?n:0),a=Us({x:this._parsedCenter[0],y:this._parsedCenter[1]},s,r);if(e.label={x:a.x,y:a.y,textBaseline:"middle"},t.rotate==="tangential")e.label.angle=r-Math.PI/2,e.label.textAlign="center",e.label.maxLineWidth=Math.abs(e.endAngle-e.startAngle)*s;else{const o=r%(2*Math.PI),l=o<0?o+2*Math.PI:o;l>Math.PI/2&&l<1.5*Math.PI?(e.label.angle=l+Math.PI,e.label.textAlign=t.align==="start"?"end":t.align==="end"?"start":"center"):(e.label.angle=l,e.label.textAlign=t.align),e.label.maxLineWidth=e.isLeaf?void 0:Math.abs(e.outerRadius-e.innerRadius)}}}u2.defaultOpionts={startAngle:Math.PI/2,endAngle:-3*Math.PI/2,center:["50%","50%"],gapRadius:0,innerRadius:0,outerRadius:"70%"};const FTt=1664525,BTt=1013904223,Nhe=4294967296;function $Tt(i=1){let e=i;return()=>(e=(FTt*e+BTt)%Nhe)/Nhe}function NTt(i,e){let t=0;const n=oxe(Array.from(i),e),r=n.length;let s,a,o=[];for(;t<r;)s=n[t],a&&_2e(a,s)?++t:(o=jTt(o,s),a=zTt(o),t=0);return a}function jTt(i,e){let t,n;if(d8(e,i))return[e];for(t=0;t<i.length;++t)if(FI(e,i[t])&&d8(lE(i[t],e),i))return[i[t],e];for(t=0;t<i.length-1;++t)for(n=t+1;n<i.length;++n)if(FI(lE(i[t],i[n]),e)&&FI(lE(i[t],e),i[n])&&FI(lE(i[n],e),i[t])&&d8(b2e(i[t],i[n],e),i))return[i[t],i[n],e];Kn.getInstance().error("error when packEncloseRandom")}function FI(i,e){const t=i.radius-e.radius,n=e.x-i.x,r=e.y-i.y;return t<0||t*t<n*n+r*r}function _2e(i,e){const t=i.radius-e.radius+1e-9*Math.max(i.radius,e.radius,1),n=e.x-i.x,r=e.y-i.y;return t>0&&t*t>n*n+r*r}function d8(i,e){for(let t=0;t<e.length;++t)if(!_2e(i,e[t]))return!1;return!0}function zTt(i){switch(i.length){case 1:return HTt(i[0]);case 2:return lE(i[0],i[1]);case 3:return b2e(i[0],i[1],i[2])}}function HTt(i){return{x:i.x,y:i.y,radius:i.radius}}function lE(i,e){const t=i.x,n=i.y,r=i.radius,s=e.x,a=e.y,o=e.radius,l=s-t,u=a-n,c=o-r,d=Math.sqrt(l*l+u*u);return{x:(t+s+l/d*c)/2,y:(n+a+u/d*c)/2,radius:(d+r+o)/2}}function b2e(i,e,t){const n=i.x,r=i.y,s=i.radius,a=e.x,o=e.y,l=e.radius,u=t.x,c=t.y,d=t.radius,h=n-a,p=n-u,f=r-o,g=r-c,v=l-s,m=d-s,b=n*n+r*r-s*s,_=b-a*a-o*o+l*l,S=b-u*u-c*c+d*d,C=p*f-h*g,k=(f*S-g*_)/(2*C)-n,E=(g*v-f*m)/C,A=(p*_-h*S)/(2*C)-r,P=(h*m-p*v)/C,O=E*E+P*P-1,M=2*(s+k*E+A*P),D=k*k+A*A-s*s,L=-(Math.abs(O)>1e-6?(M+Math.sqrt(M*M-4*O*D))/(2*O):D/M);return{x:n+k+E*L,y:r+A+P*L,radius:L}}function jhe(i,e,t){const n=i.x-e.x;let r,s;const a=i.y-e.y;let o,l;const u=n*n+a*a;u?(s=e.radius+t.radius,s*=s,l=i.radius+t.radius,l*=l,s>l?(r=(u+l-s)/(2*u),o=Math.sqrt(Math.max(0,l/u-r*r)),t.x=i.x-r*n-o*a,t.y=i.y-r*a+o*n):(r=(u+s-l)/(2*u),o=Math.sqrt(Math.max(0,s/u-r*r)),t.x=e.x+r*n-o*a,t.y=e.y+r*a+o*n)):(t.x=e.x+t.radius,t.y=e.y)}function zhe(i,e){const t=i.radius+e.radius-1e-6,n=e.x-i.x,r=e.y-i.y;return t>0&&t*t>n*n+r*r}function Hhe(i){const e=i._,t=i.next._,n=e.radius+t.radius,r=(e.x*t.radius+t.x*e.radius)/n,s=(e.y*t.radius+t.y*e.radius)/n;return r*r+s*s}function BI(i){return{_:i,next:null,prev:null}}function VTt(i,e){const t=(i=we(i)).length;if(!t)return 0;let n=i[0];if(n.x=0,n.y=0,t===1)return n.radius;const r=i[1];if(n.x=-r.radius,r.x=n.radius,r.y=0,t===2)return n.radius+r.radius;let s=i[2];jhe(r,n,s);let a,o,l,u,c,d,h,p=BI(n),f=BI(r),g=BI(s);p.next=f,g.prev=f,f.next=g,p.prev=g,g.next=p,f.prev=p;for(let m=3;m<t;++m){h=!1,s=i[m],jhe(p._,f._,s),g=BI(s),a=f.next,o=p.prev,l=f._.radius,u=p._.radius;do if(l<=u){if(zhe(a._,g._)){f=a,p.next=f,f.prev=p,--m,h=!0;break}l+=a._.radius,a=a.next}else{if(zhe(o._,g._)){p=o,p.next=f,f.prev=p,--m,h=!0;break}u+=o._.radius,o=o.prev}while(a!==o.next);if(!h){for(g.prev=p,g.next=f,p.next=f.prev=f=g,c=Hhe(p),g=g.next;g!==f;)d=Hhe(g),d<c&&(p=g,c=d),g=g.next;f=p.next}}const v=[f._];for(g=f.next;g!==f;)v.push(g._),g=g.next;s=NTt(v,e);for(let m=0;m<t;++m)n=i[m],n.x-=s.x,n.y-=s.y;return s.radius}function Vhe(i){return function(e){e.children||(e.radius=Math.max(0,+i(e)||0))}}function h8(i,e,t){return function(n){const r=n==null?void 0:n.children;if(r){let s;const a=r.length,o=i(n)*e||0;if(o)for(s=0;s<a;++s)r[s].radius+=o;const l=VTt(r,t);if(o)for(s=0;s<a;++s)r[s].radius-=o;n.radius=l+o}}}function Whe(i,e){return function(t,n,r){t.radius*=i,t.maxDepth=e,r&&(t.x=r.x+i*t.x,t.y=r.y+i*t.y)}}class c2{constructor(e){this.options=e;const t=e==null?void 0:e.nodeKey,n=Pe(t)?t:t?lp(t):null;this._getNodeKey=n,this._getPadding=Xe(e==null?void 0:e.padding)?r=>e.padding:ke(e==null?void 0:e.padding)?r=>{var s;return(s=e.padding[r.depth+1])!==null&&s!==void 0?s:0}:()=>0,this._maxDepth=-1}layout(e,t){var n;const r="width"in t?{x0:0,x1:t.width,y0:0,y1:t.height,width:t.width,height:t.height}:{x0:Math.min(t.x0,t.x1),x1:Math.max(t.x0,t.x1),y0:Math.min(t.y0,t.y1),y1:Math.max(t.y0,t.y1),width:Math.abs(t.x1-t.x0),height:Math.abs(t.y1-t.y0)};if(!e||!e.length)return[];const s=[],a=X$(e,s,0,-1,null,this._getNodeKey);this._maxDepth=a.maxDepth;const o=$Tt(),l={flattenIndex:-1,maxDepth:-1,key:"root",depth:-1,index:-1,value:a.sum,datum:null,children:s,x:r.x0+r.width/2,y:r.y0+r.height/2},{nodeSort:u,setRadius:c,padding:d,includeRoot:h}=(n=this.options)!==null&&n!==void 0?n:{};if(u!==!1){const p=Pe(u)?this.options.nodeKey:c2.defaultOpionts.nodeSort;sS([l],f=>{f.children&&f.children.length&&f.children.sort(p)})}if(c)sS([l],Vhe(c)),J3([l],h8(this._getPadding,.5,o)),sS([l],Whe(1,this._maxDepth));else{const p=Math.min(r.width,r.height);sS([l],Vhe(c2.defaultOpionts.setRadius)),J3([l],h8(Yht,1,o)),d&&J3([l],h8(this._getPadding,l.radius/p,o)),sS([l],Whe(p/(2*l.radius),this._maxDepth))}return h?[l]:s}}c2.defaultOpionts={setRadius:i=>Math.sqrt(i.value),padding:0,nodeSort:(i,e)=>e.value-i.value};const WTt=()=>{He.registerTransform("treemap",{transform:DTt,markPhase:"beforeJoin"},!0)},bP=(i,e={})=>{if(!i)return[];const t=[];return Aq(i,t,e),t},UTt=(i,e)=>{if(!i)return i;const t=e(),{width:n,height:r}=t;return new u2(t).layout(i,{width:n,height:r})},GTt=10;class YTt extends hu{constructor(){super(...arguments),this.markTooltipKeyCallback=e=>e==null?void 0:e[this.series.getDimensionField()[0]]}}var Ov;(function(i){i.DrillDown="drillDown",i.DrillUp="drillUp"})(Ov||(Ov={}));const KTt=(i,e)=>{const t=e.info(),n=e.keyField(),r=t==null?void 0:t.key;if(Y(r))return i;if(t.type===Ov.DrillDown){const s=AAe(i,r,n,"children");return we(s)}if(t.type===Ov.DrillUp){const s=TAe(i,r,n,"children");if(s)return we(s)}return i};class Pq{_getDrillTriggerEvent(e){var t;const{mode:n}=this._drillParams;return(t=dg(n))===null||t===void 0?void 0:t[e]}_hideTooltip(){const e=this.getChart().getComponentsByType(De.tooltip)[0];e&&e.hideTooltip()}initDrillable(e){this._drillParams=e}initDrillableData(e){const{getRawData:t}=this._drillParams;pi(e,"drillFilter",KTt),t().transform({type:"drillFilter",options:{info:()=>this._drillInfo,keyField:()=>this._drillParams.drillField()}})}bindDrillEvent(){const{event:e,getRawData:t,drillField:n}=this._drillParams,r=n();this._getDrillTriggerEvent("start")&&e.on(this._getDrillTriggerEvent("start"),s=>{var a,o,l;if(Y(s.datum)||Y((a=s.datum)===null||a===void 0?void 0:a[r]))return void this.drillUp();this._hideTooltip();const u=s.datum[r],c=(l=(o=this._drillInfo)===null||o===void 0?void 0:o.path)!==null&&l!==void 0?l:[],d=Hxt(t().rawData,u,r,"children");c[c.length-1]===d[d.length-1]?this.drillUp():this.drillDown(d)})}drillDown(e=[]){const{getRawData:t,event:n}=this._drillParams;if(!ke(e)||Mt(e))return e;const r=e[e.length-1];return this._drillInfo={key:r,path:e,type:Ov.DrillDown},t().reRunAllTransform(),n.emit(Pt.drill,{value:{path:e,type:Ov.DrillDown},model:this}),e}drillUp(){var e,t;const{getRawData:n,event:r}=this._drillParams,s=(t=(e=this._drillInfo)===null||e===void 0?void 0:e.path)!==null&&t!==void 0?t:[];if(!ke(s)||Mt(s))return s;const a=s.pop();return this._drillInfo={key:a,path:s,type:Ov.DrillUp},n().reRunAllTransform(),r.emit(Pt.drill,{value:{path:s,type:Ov.DrillUp},model:this}),s}}class n0 extends yP{constructor(){super(...arguments),this.type=xe.sunburst}setCategoryField(e){return this._categoryField=e,this._categoryField}getCategoryField(){return this._categoryField}setValueField(e){return this._valueField=e,this._valueField}getValueField(){return this._valueField}getDimensionField(){return[this._categoryField]}getMeasureField(){return[this._valueField]}setAttrFromSpec(){var e;super.setAttrFromSpec(),this.setCategoryField(this._spec.categoryField),this.setValueField(this._spec.valueField),this.setSeriesField((e=this._spec.seriesField)!==null&&e!==void 0?e:Bg),this._spec.drill&&this.initDrillable({event:this.event,mode:this._option.mode,drillField:()=>{var t;return(t=this._spec.drillField)!==null&&t!==void 0?t:rp},getRawData:()=>this.getRawData()}),this._startAngle=Pn(this._spec.startAngle),this._endAngle=Pn(this._spec.endAngle),this._centerX=this._spec.centerX,this._centerY=this._spec.centerY,this._offsetX=this._spec.offsetX,this._offsetY=this._spec.offsetY,this.__innerRadius=this._spec.innerRadius,this.__outerRadius=this._spec.outerRadius,this._gap=this._spec.gap,this._labelLayout=this._spec.labelLayout,this._sunburst=this._spec.sunburst,this._label=this._spec.label,this._labelAutoVisible=this._spec.labelAutoVisible}initData(){super.initData();const e=this.getRawData();e&&(this._spec.drill&&this.initDrillableData(this._dataSet),pi(this._dataSet,"sunburstLayout",UTt),pi(this._dataSet,"flatten",bP),e.transform({type:"sunburstLayout",options:()=>{const{innerRadius:t,outerRadius:n,gap:r,label:s}=this._computeLevel();return{nodeKey:this._categoryField,width:this.getLayoutRect().width,height:this.getLayoutRect().height,center:[X(this._centerX)?this._centerX:this.getLayoutRect().width/2,X(this._centerY)?this._centerY:this.getLayoutRect().height/2],startAngle:this._startAngle,endAngle:this._endAngle,innerRadius:t,outerRadius:n,gapRadius:r,label:s}}}),e.transform({type:"flatten",options:{callback:t=>{if(t.datum){const n=t.datum[t.depth];return Object.assign(Object.assign({},t),n)}return t}}}))}getStatisticFields(){return super.getStatisticFields().concat([{key:this._categoryField,operations:["values"]},{key:this._valueField,operations:["max","min"]},{key:KT,operations:["max","min","values"]},{key:Bg,operations:["values"]}])}_addDataIndexAndKey(){const e=this.getRawData();Y(e==null?void 0:e.dataSet)||(pi(e.dataSet,"addVChartProperty",Yw),e.transform({type:"addVChartProperty",options:{beforeCall:gq.bind(this),call:$$}}))}initMark(){this._initArcMark(),this._initLabelMark()}initMarkStyle(){this._initArcMarkStyle(),this._initLabelMarkStyle()}_initArcMark(){var e,t;if(this._sunburst.visible===!1)return;const n=this._createMark(n0.mark.sunburst,{isSeriesMark:!0,customShape:(e=this._spec.sunburst)===null||e===void 0?void 0:e.customShape,stateSort:(t=this._spec.sunburst)===null||t===void 0?void 0:t.stateSort});this._sunburstMark=n}_initArcMarkStyle(){Y(this._sunburstMark)||this.setMarkStyle(this._sunburstMark,{x:e=>e.x+(X(this._offsetX)?this._offsetX:0),y:e=>e.y+(X(this._offsetY)?this._offsetY:0),outerRadius:e=>e.outerRadius,innerRadius:e=>e.innerRadius,startAngle:e=>e.startAngle,endAngle:e=>e.endAngle,fill:this.getColorAttribute()},mt.STATE_NORMAL,Ve.Series)}_initLabelMark(){if(this._label.visible!==!0)return;const e=this._createMark(n0.mark.label,{isSeriesMark:!1});this._labelMark=e}_initLabelMarkStyle(){Y(this._labelMark)||this.setMarkStyle(this._labelMark,{visible:e=>{var t;const n=this._labelAutoVisible;return yi(n)&&n.enable===!0?(e.endAngle-e.startAngle)*(e.outerRadius-e.innerRadius)>((t=n==null?void 0:n.circumference)!==null&&t!==void 0?t:GTt):this._spec.label.visible},x:e=>{var t;return((t=e.label)===null||t===void 0?void 0:t.x)+(X(this._offsetX)?this._offsetX:0)},y:e=>{var t;return((t=e.label)===null||t===void 0?void 0:t.y)+(X(this._offsetY)?this._offsetY:0)},textBaseline:e=>{var t;return(t=e.label)===null||t===void 0?void 0:t.textBaseline},textAlign:e=>{var t;return(t=e.label)===null||t===void 0?void 0:t.textAlign},angle:e=>{var t,n;return(n=(t=e.label)===null||t===void 0?void 0:t.angle)!==null&&n!==void 0?n:0},fontSize:10,text:e=>e.name},mt.STATE_NORMAL,Ve.Series)}initTooltip(){this._tooltipHelper=new YTt(this),this._sunburstMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._sunburstMark),this._labelMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._labelMark)}initAnimation(){var e,t;const n={animationInfo:()=>({innerRadius:this._computeRadius(we(this.__innerRadius))[0],outerRadius:this._computeRadius(we(this.__outerRadius))[0],startAngle:we(this._startAngle)[0],endAngle:we(this._endAngle)[0]})},r=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;this.getMarksInType("arc").forEach(s=>{var a;s.setAnimationConfig(Yi((a=ce.getAnimationInKey("sunburst"))===null||a===void 0?void 0:a(n,r),an(s.name,this._spec,this._markAttributeContext)))}),this.getMarksInType("text").forEach(s=>{var a;s.setAnimationConfig(Yi((a=ce.getAnimationInKey("fadeInOut"))===null||a===void 0?void 0:a(),an(s.name,this._spec,this._markAttributeContext)))})}initEvent(){super.initEvent(),this._spec.drill&&this.bindDrillEvent()}onLayoutEnd(e){super.onLayoutEnd(e),this._rawData.reRunAllTransform()}_computeRadius(e){return ke(e)?e.map(t=>this._computeLayoutRadius()*t):this._computeLayoutRadius()*e}_computeLevel(){return{innerRadius:this._computeRadius(this.__innerRadius),outerRadius:this._computeRadius(this.__outerRadius),gap:this._gap,label:this._labelLayout}}getGroupFields(){return[]}getStackGroupFields(){return[]}getStackValueField(){return""}_noAnimationDataKey(e,t){}getActiveMarks(){return[this._sunburstMark]}}n0.type=xe.sunburst,n0.mark=aAe,wa(n0,Pq);const XTt=()=>{ce.registerSeries(n0.type,n0),wb(),Ju(),vm(),PTt()},qTt=(i,e)=>{if(!i)return i;const t=e(),{width:n,height:r}=t;return n===0||r===0?i:new c2(t).layout(i,{width:n,height:r})};class ZTt extends hu{constructor(){super(...arguments),this.markTooltipKeyCallback=e=>e==null?void 0:e[this.series.getDimensionField()[0]]}}const QTt=i=>i==="fadeIn"?{type:"fadeIn"}:{type:"growRadiusIn"},JTt=()=>{ce.registerAnimation("circlePacking",(i,e)=>({appear:QTt(e),enter:{type:"growRadiusIn"},exit:{type:"growRadiusOut"},disappear:{type:"growRadiusOut"}}))};class r0 extends sh{constructor(){super(...arguments),this.type=xe.circlePacking}setCategoryField(e){return this._categoryField=e,this._categoryField}getCategoryField(){return this._categoryField}setValueField(e){return this._valueField=e,this._valueField}getValueField(){return this._valueField}getDimensionField(){return[this._categoryField]}getMeasureField(){return[this._valueField]}setAttrFromSpec(){var e;super.setAttrFromSpec(),this.setCategoryField(this._spec.categoryField),this.setValueField(this._spec.valueField),this.setSeriesField((e=this._spec.seriesField)!==null&&e!==void 0?e:Bg),this._spec.drill&&this.initDrillable({event:this.event,mode:this._option.mode,drillField:()=>{var t;return(t=this._spec.drillField)!==null&&t!==void 0?t:rp},getRawData:()=>this.getRawData()}),this._circlePacking=this._spec.circlePacking,this._label=this._spec.label,this._layoutPadding=this._spec.layoutPadding}initData(){super.initData();const e=this.getRawData();Y(e)||(this._spec.drill&&this.initDrillableData(this._dataSet),pi(this._dataSet,"circlePackingLayout",qTt),pi(this._dataSet,"flatten",bP),e.transform({type:"circlePackingLayout",options:()=>({nodeKey:this._categoryField,padding:this._layoutPadding,includeRoot:!1,width:this.getLayoutRect().width||1,height:this.getLayoutRect().height||1})}),e.transform({type:"flatten",options:{callback:t=>{if(t.datum){const n=t.datum[t.depth];return Object.assign(Object.assign({},t),n)}return t}}}))}_addDataIndexAndKey(){const e=this.getRawData();Y(e==null?void 0:e.dataSet)||(pi(e.dataSet,"addVChartProperty",Yw),e.transform({type:"addVChartProperty",options:{beforeCall:gq.bind(this),call:$$}}))}initMark(){this._initCirclePackingMark(),this._initLabelMark()}initMarkStyle(){this._initCirclePackingMarkStyle(),this._initLabelMarkStyle()}_initCirclePackingMark(){var e,t;if(((e=this._circlePacking)===null||e===void 0?void 0:e.visible)===!1)return;const n=this._createMark(r0.mark.circlePacking,{isSeriesMark:!0,customShape:(t=this._spec.circlePacking)===null||t===void 0?void 0:t.customShape});this._circlePackingMark=n}_initCirclePackingMarkStyle(){Y(this._circlePackingMark)||this.setMarkStyle(this._circlePackingMark,{x:e=>e.x,y:e=>e.y,outerRadius:e=>e.radius,innerRadius:0,startAngle:0,endAngle:2*Math.PI,fill:this.getColorAttribute(),zIndex:e=>e.depth},mt.STATE_NORMAL,Ve.Series)}_initLabelMark(){var e;if(((e=this._label)===null||e===void 0?void 0:e.visible)===!1)return;const t=this._createMark(r0.mark.label,{isSeriesMark:!1});this._labelMark=t}_initLabelMarkStyle(){Y(this._labelMark)||this.setMarkStyle(this._labelMark,{x:e=>e.x,y:e=>e.y,text:e=>e.key,cursor:"pointer"},mt.STATE_NORMAL,Ve.Series)}getStatisticFields(){return super.getStatisticFields().concat([{key:this._categoryField,operations:["values"]},{key:this._valueField,operations:["max","min"]},{key:KT,operations:["max","min","values"]},{key:Bg,operations:["values"]}])}initTooltip(){this._tooltipHelper=new ZTt(this),this._tooltipHelper.updateTooltipSpec(),this._circlePackingMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._circlePackingMark),this._labelMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._labelMark)}initAnimation(){var e;const t=(e=this._spec.animationAppear)===null||e===void 0?void 0:e.preset;this.getMarksInType("arc").forEach(n=>{var r;n.setAnimationConfig(Yi((r=ce.getAnimationInKey("circlePacking"))===null||r===void 0?void 0:r(void 0,t),an(n.name,this._spec,this._markAttributeContext)))}),this.getMarksInType("text").forEach(n=>{var r;n.setAnimationConfig(Yi((r=ce.getAnimationInKey("scaleInOut"))===null||r===void 0?void 0:r(),an(n.name,this._spec,this._markAttributeContext)))})}initEvent(){super.initEvent(),this._spec.drill&&this.bindDrillEvent()}onLayoutEnd(e){super.onLayoutEnd(e),this._rawData.reRunAllTransform()}_noAnimationDataKey(e,t){}getActiveMarks(){return[this._circlePackingMark]}}r0.type=xe.circlePacking,r0.mark=uAe,wa(r0,Pq);const e2t=()=>{ce.registerSeries(r0.type,r0),wb(),Ju(),L$(),JTt()},S2e=i=>{let e=0;return i.forEach((t,n)=>{var r;Y(t.value)&&(!((r=t.children)===null||r===void 0)&&r.length?t.value=S2e(t.children):t.value=0),e+=Math.abs(t.value)}),e};function Uhe(i){return i.depth}function Ghe(i,e){return e-1-i.endDepth}function t2t(i,e){return i.sourceLinks.length?i.depth:e-1}function i2t(i,e,t){return i.targetLinks.length?i.depth:i.sourceLinks.length?ca(i.sourceLinks.map(n=>t[n.target].depth))-1:0}const $I=(i,e)=>(i==null?void 0:i.y0)-(e==null?void 0:e.y0),Yhe=(i,e)=>{if(Y(i.value))return null;const t=(e?i.targetLinks:i.sourceLinks).reduce((n,r)=>(Y(r.value)?n.count+=1:n.sum+=r.value,n),{sum:0,count:0});return t.count>0?(i.value-t.sum)/t.count:null},n2t={left:Uhe,right:Ghe,justify:t2t,center:i2t,start:Uhe,end:Ghe},r2t=EB(0,1);class SP{constructor(e){this._ascendingSourceBreadth=(r,s)=>$I(this._nodeMap[r.source],this._nodeMap[s.source])||r.index-s.index,this._ascendingTargetBreadth=(r,s)=>$I(this._nodeMap[r.target],this._nodeMap[s.target])||r.index-s.index,this.options=Object.assign({},SP.defaultOptions,e);const t=this.options.nodeKey,n=Pe(t)?t:t?lp(t):null;this._getNodeKey=n,this._logger=Kn.getInstance(),this._alignFunc=Pe(this.options.setNodeLayer)?r=>this.options.setNodeLayer(r.datum):n2t[this.options.nodeAlign]}layout(e,t){if(!e)return null;const n="width"in t?{x0:0,x1:t.width,y0:0,y1:t.height,width:t.width,height:t.height}:{x0:Math.min(t.x0,t.x1),x1:Math.max(t.x0,t.x1),y0:Math.min(t.y0,t.y1),y1:Math.max(t.y0,t.y1),width:Math.abs(t.x1-t.x0),height:Math.abs(t.y1-t.y0)};zle(this.options.direction)?this._viewBox={x0:n.y0,x1:n.y1,y0:n.x0,y1:n.x1,width:n.height,height:n.width}:this._viewBox=n;const r=this.computeNodeLinks(e),s=r.nodes;let a=r.links;if(this._nodeMap=r.nodeMap,this.computeNodeValues(s),this.computeNodeDepths(s),["right","end","justify"].includes(this.options.nodeAlign)&&this.computeNodeEndDepths(s),this._maxDepth<=1)return null;const o=this.computeNodeBreadths(s);return this.computeLinkBreadths(s),s.forEach(l=>{l.sourceLinks=l.sourceLinks.filter(u=>!Y(u.source)&&!Y(u.target)),l.targetLinks=l.targetLinks.filter(u=>!Y(u.source)&&!Y(u.target))}),a=a.filter(l=>!Y(l.source)&&!Y(l.target)),zle(this.options.direction)&&(s.forEach(l=>{const u=l.y0,c=l.y1;l.y0=l.x0,l.y1=l.x1,l.x0=u,l.x1=c}),a.forEach(l=>{l.vertical=!0;const u=l.x0,c=l.x1;l.x0=l.y0,l.x1=l.y1,l.y0=u,l.y1=c})),a.forEach(l=>{const u=this._nodeMap[l.source],c=this._nodeMap[l.target];l.sourceRect={x0:u.x0,x1:u.x1,y0:u.y0,y1:u.y1},l.targetRect={x0:c.x0,x1:c.x1,y1:c.y1,y0:c.y0}}),{nodes:s,links:a,columns:o}}computeHierarchicNodeLinks(e){const t=[],n=[],r={},s={},a=[];S2e(e);const o=(l,u,c)=>{l.forEach((d,h)=>{const p=this._getNodeKey?this._getNodeKey(d):c?`${c[c.length-1].key}-${h}`:`${u}-${h}`,f=Y(d.value)?0:Ly(d.value);if(r[p])r[p].value=void 0;else{const g={depth:u,datum:d,index:h,key:p,value:f,sourceLinks:[],targetLinks:[]};r[p]=g,t.push(g)}c&&a.push({source:c[c.length-1].key,target:p,value:f,parents:c}),d.children&&d.children.length&&o(d.children,u+1,c?c.concat([r[p]]):[r[p]])})};return o(e,0,null),a.forEach((l,u)=>{const c=`${l.source}-${l.target}`;if(s[c])return s[c].value+=Ly(l.value),void s[c].datum.push(l);const d={index:u,key:`${l.source}-${l.target}`,source:l.source,target:l.target,datum:[l],value:l.value,parents:l.parents.map(h=>h.key)};n.push(d),r[l.source].sourceLinks.push(d),r[l.target].targetLinks.push(d),s[c]=d}),{nodes:t,links:n,nodeMap:r}}computeSourceTargetNodeLinks(e){const t=[],n=[],r={};e.nodes&&e.nodes.forEach((a,o)=>{const l={depth:-1,datum:a,index:o,key:this._getNodeKey?this._getNodeKey(a):o,value:a.value,sourceLinks:[],targetLinks:[]};r[l.key]=l,t.push(l)});const s=[];return e.links.forEach((a,o)=>{const l=!Y(a.source),u=!Y(a.target);if(e.nodes&&(!r[a.source]||!r[a.target]))return;e.nodes||!l||r[a.source]||(r[a.source]={value:void 0,depth:-1,index:t.length,key:a.source,datum:null,sourceLinks:[],targetLinks:[]},t.push(r[a.source])),e.nodes||!u||r[a.target]||(r[a.target]={value:void 0,depth:-1,index:t.length,key:a.target,datum:null,sourceLinks:[],targetLinks:[]},t.push(r[a.target]));const c={index:o,source:a.source,target:a.target,datum:a,value:a.value};this.options.divideNodeValueToLink&&Y(a.value)&&s.push(c),n.push(c),l&&r[a.source].sourceLinks.push(c),u&&r[a.target].targetLinks.push(c)}),this.options.divideNodeValueToLink&&s.length&&s.forEach(a=>{const o=[Yhe(r[a.source]),Yhe(r[a.target],!0)].filter(l=>!Y(l));o.length&&(a.value=ca(o))}),{nodeMap:r,nodes:t,links:n}}computeNodeLinks(e){let t;"links"in e?t=this.computeSourceTargetNodeLinks(e):(this._isHierarchic=!0,t=this.computeHierarchicNodeLinks(e.nodes));let n=t.nodes;const r=t.links;if(this.options.linkSortBy)for(let s=0,a=n.length;s<a;s++)n[s].sourceLinks.sort(this.options.linkSortBy),n[s].targetLinks.sort(this.options.linkSortBy);return this.options.dropIsolatedNode&&(n=n.filter(s=>s.targetLinks.length||s.sourceLinks.length)),{nodes:n,links:r,nodeMap:t.nodeMap}}computeNodeValues(e){for(let t=0,n=e.length;t<n;t++){const r=e[t];r.value=Math.max(Y(r.value)?0:Ly(r.value),r.sourceLinks.reduce((s,a)=>{var o;return s+((o=Ly(a.value))!==null&&o!==void 0?o:0)},0),r.targetLinks.reduce((s,a)=>{var o;return s+((o=Ly(a.value))!==null&&o!==void 0?o:0)},0))}}computeNodeDepths(e){const t=e.length;let n,r,s=e,a=0;for(;s.length&&a<t;){n=[],r={};for(let o=0,l=s.length;o<l;o++){const u=s[o];if(u&&(u.depth=a,u.sourceLinks&&u.sourceLinks.length))for(let c=0,d=u.sourceLinks.length;c<d;c++){const h=u.sourceLinks[c];r[h.target]||(n.push(this._nodeMap[h.target]),r[h.target]=!0)}}s=n,a+=1}a>t&&this._logger.warn("Error: there is a circular link"),this._maxDepth=a}computeNodeEndDepths(e){const t=e.length;let n,r,s=e,a=0;for(;s.length&&a<t;){n=[],r={};for(let o=0,l=s.length;o<l;o++){const u=s[o];if(u){u.endDepth=a;for(let c=0,d=u.targetLinks.length;c<d;c++){const h=u.targetLinks[c];r[h.source]||(n.push(this._nodeMap[h.source]),r[h.source]=!0)}}}s=n,a+=1}a>t&&this._logger.warn("Error: there is a circular link")}computeNodeLayers(e){const t=this.options.nodeWidth,n=this.options.linkWidth,r=this.options.minStepWidth,s=this._viewBox.width;let a=null,o=null,l=!1;if(ct(t)){const c=sa(parseFloat(t.replace("%",""))/100,0,1);let d=s/(this._maxDepth-1+c);r>0&&(d=Math.max(r,d)),a=d*c,o=d*(1-c),l=!0}else if(Xe(t)){if(a=t,Xe(n))o=n;else if(Y(n)){let c=(s-t)/(this._maxDepth-1);r>0&&(c=Math.max(r,c)),o=c-t}l=!0}else Pe(t)&&Xe(n)&&(o=n);const u=[];for(let c=0,d=e.length;c<d;c++){const h=e[c];h.layer=this._isHierarchic?h.depth:sa(Math.floor(this._alignFunc(h,this._maxDepth,this._nodeMap)),0,this._maxDepth-1);const p=h.layer;p===this._maxDepth-1&&(h.isLastLayer=!0),l&&(h.x0=this._viewBox.x0+p*(a+o),h.x1=h.x0+a),u[p]?u[p].push(h):u[p]=[h]}if(this.options.nodeSortBy)for(let c=0,d=u.length;c<d;c++)u[c].sort(this.options.nodeSortBy);if(!l&&Pe(t)){let c=this._viewBox.x0;for(let d=0;d<this._maxDepth;d++){const h=u[d];let p=0,f=0;for(let g=0,v=h&&h.length;g<v;g++){const m=h[g],b=t(m);m.x0=c,m.x1=c+b,p=Math.max(a,b);const _=m.sourceLinks;for(let S=0,C=_.length;S<C;S++){const k=_[S],E=Pe(n)?n(k,this._viewBox):o;f=Math.max(f,E)}}c+=p+f}}return u}initializeNodeBreadths(e){var t,n;const r=(t=this.options.minLinkHeight)!==null&&t!==void 0?t:0;let s=(n=this.options.minNodeHeight)!==null&&n!==void 0?n:0;(Y(s)||s<r)&&(s=r);let a=0,o=null,l=null;if(Pe(this.options.nodeGap))o=this.options.nodeGap,a=e.reduce((p,f)=>{const g=f.reduce((m,b)=>m+b.value,0),v=f.reduce((m,b)=>m+this.options.nodeGap(b),0);return Math.min(p,(this._viewBox.height-v)/g)},1/0);else{const p=e.reduce((g,v)=>Math.max(g,v.length),0),f=Math.min(s>0?Math.max(this.options.nodeGap,s):this.options.nodeGap,this._viewBox.height/p);o=()=>f,this._gapY=f,this.options.equalNodeHeight?l=this._viewBox.height/p-f:a=e.reduce((g,v)=>{const m=v.reduce((b,_)=>b+_.value,0);return Math.min(g,(this._viewBox.height-(v.length-1)*f)/m)},1/0)}const u=this.options.gapPosition==="start",c=!u&&this.options.gapPosition!=="end",d=Xe(this.options.nodeHeight)?p=>this.options.nodeHeight:Pe(this.options.nodeHeight)?this.options.nodeHeight:l>0?p=>l:p=>Math.max(p.value*a,s,0),h=Xe(this.options.linkHeight)?()=>this.options.linkHeight:Pe(this.options.linkHeight)?this.options.linkHeight:(p,f,g)=>Math.max(f.value?g*r2t(p.value/f.value):0,r,0);for(let p=0,f=e.length;p<f;p++){const g=e[p];if(!g||!g.length)continue;let v=this._viewBox.y0,m=0,b=0;for(let S=0,C=g.length;S<C;S++){const k=g[S];m=o(k),u&&(v+=m),b=d(k),k.y0=v,k.y1=v+b,v=u?k.y1:k.y1+m;for(let E=0,A=k.sourceLinks.length;E<A;E++){const P=k.sourceLinks[E];P.thickness=h(P,k,b)}}let _=this._viewBox.y1-v+(c?m:0);if(_>0){if(this.options.crossNodeAlign!=="start")if(this.options.crossNodeAlign==="end")for(let S=0,C=g.length;S<C;++S){const k=g[S];k.y0+=_,k.y1+=_}else{_/=g.length+1;for(let S=0,C=g.length;S<C;++S){const k=g[S];k.y0+=_*(S+1),k.y1+=_*(S+1)}}}else if(_<0&&g.length>1&&(_/=g.length-1,m+_>0)){m+=_,this._gapY=Math.min(m);for(let S=1,C=g.length;S<C;++S){const k=g[S];k.y0+=_*S,k.y1+=_*S}}this.reorderLinks(g)}}computeNodeBreadths(e){const t=this.computeNodeLayers(e);this.initializeNodeBreadths(t);const n=this.options.iterations;if(!this._isHierarchic&&!Pe(this.options.setNodeLayer)&&!Pe(this.options.nodeGap))for(let r=0;r<n;++r){const s=Math.pow(.99,r),a=Math.max(1-s,(r+1)/n);this.relaxRightToLeft(t,s,a),this.relaxLeftToRight(t,s,a)}return t}relaxLeftToRight(e,t,n){for(let r=1,s=e.length;r<s;++r){const a=e[r];for(let o=0,l=a.length;o<l;o++){const u=a[o];let c=0,d=0;for(let p=0,f=u.targetLinks.length;p<f;p++){const g=u.targetLinks[p],v=g.value*(u.layer-this._nodeMap[g.source].layer);c+=this.targetTop(this._nodeMap[g.source],u)*v,d+=v}if(!(d>0))continue;const h=(c/d-u.y0)*t;u.y0+=h,u.y1+=h,this.reorderNodeLinks(u)}Y(this.options.nodeSortBy)&&a.sort($I),this.resolveCollisions(a,n)}}relaxRightToLeft(e,t,n){for(let r=e.length-2;r>=0;--r){const s=e[r];for(let a=0,o=s.length;a<o;a++){const l=s[a];let u=0,c=0;for(let h=0,p=l.sourceLinks.length;h<p;h++){const f=l.sourceLinks[h],g=f.value*(this._nodeMap[f.target].layer-l.layer);u+=this.sourceTop(l,this._nodeMap[f.target])*g,c+=g}if(!(c>0))continue;const d=(u/c-l.y0)*t;l.y0+=d,l.y1+=d,this.reorderNodeLinks(l)}this.options.nodeSortBy===void 0&&s.sort($I),this.resolveCollisions(s,n)}}resolveCollisions(e,t){const n=e.length>>1,r=e[n];this.resolveCollisionsBottomToTop(e,r.y0-this._gapY,n-1,t),this.resolveCollisionsTopToBottom(e,r.y1+this._gapY,n+1,t),this.resolveCollisionsBottomToTop(e,this._viewBox.y1,e.length-1,t),this.resolveCollisionsTopToBottom(e,this._viewBox.y0,0,t)}resolveCollisionsTopToBottom(e,t,n,r){for(;n<e.length;++n){const s=e[n],a=(t-s.y0)*r;a>1e-6&&(s.y0+=a,s.y1+=a),t=s.y1+this._gapY}}resolveCollisionsBottomToTop(e,t,n,r){for(;n>=0;--n){const s=e[n],a=(s.y1-t)*r;a>1e-6&&(s.y0-=a,s.y1-=a),t=s.y0-this._gapY}}targetTop(e,t){let n,r,s,a=e.y0-(e.sourceLinks.length-1)*this._gapY/2;for(n=0,r=e.sourceLinks.length;n<r&&(s=e.sourceLinks[n],s.target!==t.key);n++)a+=s.thickness+this._gapY;for(n=0,r=t.targetLinks.length;n<r&&(s=t.targetLinks[n],s.source!==e.key);n++)a-=s.thickness;return a}sourceTop(e,t){let n,r,s,a=t.y0-(t.targetLinks.length-1)*this._gapY/2;for(n=0,r=t.targetLinks.length;n<r&&(s=t.targetLinks[n],s.source!==e.key);n++)a+=s.thickness+this._gapY;for(n=0,r=e.sourceLinks.length;n<r&&(s=e.sourceLinks[n],s.target!==t.key);n++)a-=s.thickness;return a}computeLinkBreadthsNoOverlap(e){for(let t=0,n=e.length;t<n;t++){const r=e[t];let s=r.y0,a=!1;for(let l=0,u=r.sourceLinks.length;l<u;l++){const c=r.sourceLinks[l];a||(c.y0=s+c.thickness/2),c.x0=r.x1,s+c.thickness>r.y1||a?(c.y0=r.y1-c.thickness/2,a=!0):s+=c.thickness}let o=r.y0;a=!1;for(let l=0,u=r.targetLinks.length;l<u;l++){const c=r.targetLinks[l];a||(c.y1=o+c.thickness/2),c.x1=r.x0,o+c.thickness>r.y1||a?(c.y1=r.y1-c.thickness/2,a=!0):o+=c.thickness}}}computeLinkBreadthsOverlap(e){const t=this.options.linkOverlap;for(let n=0,r=e.length;n<r;n++){const s=e[n],a=t==="start"?s.y0:t==="end"?s.y1:(s.y0+s.y1)/2,o=t==="start"?.5:t==="end"?-.5:0;for(let l=0,u=s.sourceLinks.length;l<u;l++){const c=s.sourceLinks[l];c.y0=a+o*c.thickness,c.x0=s.x1}for(let l=0,u=s.targetLinks.length;l<u;l++){const c=s.targetLinks[l];c.y1=a+o*c.thickness,c.x1=s.x0}}}computeLinkBreadths(e){this.options.linkOverlap?this.computeLinkBreadthsOverlap(e):this.computeLinkBreadthsNoOverlap(e)}reorderNodeLinks(e){if(Y(this.options.linkSortBy)){const t=e.targetLinks,n=e.sourceLinks;for(let r=0,s=t.length;r<s;r++){const a=t[r];this._nodeMap[a.source].sourceLinks.sort(this._ascendingTargetBreadth)}for(let r=0,s=n.length;r<s;r++){const a=n[r];this._nodeMap[a.target].targetLinks.sort(this._ascendingSourceBreadth)}}}reorderLinks(e){if(Y(this.options.linkSortBy))for(let t=0,n=e.length;t<n;t++){const r=e[t];r.sourceLinks.sort(this._ascendingTargetBreadth),r.targetLinks.sort(this._ascendingSourceBreadth)}}}SP.defaultOptions={iterations:6,nodeAlign:"justify",direction:"horizontal",nodeWidth:24,nodeGap:8,crossNodeAlign:"middle",dropIsolatedNode:!0};const s2t=(i,e)=>{const t=new SP(i).layout(Array.isArray(e)?e[0]:e,"width"in i?{width:i.width,height:i.height}:{x0:i.x0,x1:i.x1,y0:i.y0,y1:i.y1});return t?[t]:[]},a2t=()=>{He.registerTransform("sankey",{transform:s2t,markPhase:"beforeJoin"},!0)},x2e=(i,e,t)=>{e.forEach(n=>{Y(n[t])||i.add(n[t]),n.children&&n.children.length>0&&x2e(i,n.children,t)})},o2t=i=>{var e;if(!i||!ke(i))return[];if(i.length>1){const t={links:[],nodes:[]};return i.forEach(n=>{n.id!=="links"&&n.id!=="nodes"||(t[n.id]=n.values)}),[t]}return!((e=i[0])===null||e===void 0)&&e.latestData?i[0].latestData:i},l2t=(i,e)=>{if(!i||!(e!=null&&e.view)||!i.length)return[];const t=e.view();if(t.x1-t.x0==0||t.y1-t.y0==0||t.x1-t.x0==-1/0||t.x1-t.x0==1/0||t.y1-t.y0==-1/0||t.y1-t.y0==1/0)return[];const n=i[0];if((e.sourceField!=="source"||e.targetField!=="target"||e.valueField!=="value")&&n.links){const a=[];n.links.forEach(o=>{const l={};for(const u in o)u===e.sourceField?l.source=o[e.sourceField]:u===e.targetField?l.target=o[e.targetField]:u===e.valueField?l.value=o[e.valueField]:l[u]=o[u];a.push(l)}),n.links=a}const r=new SP(e),s=[];return s.push(r.layout(n,t)),s},u2t=i=>{var e,t;return i&&ke(i)&&(!((e=i[0])===null||e===void 0)&&e.latestData)&&i[0].latestData.length&&i[0].latestData[0]&&(t=i[0].latestData[0].nodes)!==null&&t!==void 0?t:[]},c2t=i=>{var e,t;return i&&ke(i)&&(!((e=i[0])===null||e===void 0)&&e.latestData)&&i[0].latestData.length&&i[0].latestData[0]&&(t=i[0].latestData[0].links)!==null&&t!==void 0?t:[]};class d2t extends hu{getDefaultTooltipPattern(e,t){switch(e){case"mark":return{visible:!0,activeType:e,title:{key:void 0,value:n=>{if(n.source){if(Xe(n.source)){const r=this.series.getSeriesKeys();return r[n.source]+" => "+r[n.target]}return n.source+" => "+n.target}return n.datum?n.datum[this.series.getSpec().categoryField]:n.key},hasShape:!1},content:[{key:this.markTooltipKeyCallback,value:n=>n.value,hasShape:!0,shapeType:this.shapeTypeCallback,shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,shapeHollow:!1}]};case"dimension":if(t){const n={key:void 0,value:this._getDimensionData,hasShape:!1},r=[];return t.forEach(({data:s})=>s.forEach(({series:a})=>{r.push({seriesId:a.id,key:this.markTooltipKeyCallback,value:this.markTooltipValueCallback,hasShape:!0,shapeType:this.shapeTypeCallback,shapeColor:this.shapeColorCallback,shapeStroke:this.shapeStrokeCallback,shapeHollow:!1})})),{visible:!0,activeType:e,title:n,content:r}}}return null}}const h2t=(i,e=!0)=>({type:i.direction==="horizontal"?"growWidthIn":"growHeightIn",options:{overall:e&&i.growFrom(),orient:"positive"}}),p2t=(i,e)=>e==="fadeIn"?{type:"fadeIn"}:h2t(i),f2t=i=>i==="fadeIn"?{type:"fadeIn"}:{type:"linkPathGrowIn"},g2t=()=>{ce.registerAnimation("sankeyNode",(i,e)=>Object.assign({appear:p2t(i,e)},D$)),ce.registerAnimation("sankeyLinkPath",(i,e)=>({appear:f2t(e),enter:{type:"linkPathGrowIn"},exit:{type:"linkPathGrowOut"},disappear:{type:"linkPathGrowOut"}}))};class d2 extends Xo{constructor(){super(...arguments),this.type=d2.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{x:0,y:0,x0:0,y0:0,x1:100,y1:100,thickness:1,round:!0})}_initProduct(e){const t=this.getVGrammarView(),n=this.getProductId(),r=this.getStyle("direction");this._product=t.glyph("linkPath",e??t.rootMark).id(n).configureGlyph({direction:r}),this._compiledProductId=n}}d2.type="linkPath";const m2t=()=>{mbt(),ce.registerMark(d2.type,d2)};class s0 extends sh{constructor(){super(...arguments),this.type=xe.sankey,this._nodeLayoutZIndex=qn.Node,this._labelLayoutZIndex=qn.Label,this._viewBox=new Da,this._fillByNode=e=>{var t,n,r,s,a;if(e&&e.sourceRect&&e.targetRect)return this._fillByLink(e);const o=(n=(t=this._spec.node)===null||t===void 0?void 0:t.style)===null||n===void 0?void 0:n.fill;if(X(o))return o;if(X(this._spec.seriesField)){const l=(s=(r=this._option)===null||r===void 0?void 0:r.globalScale)===null||s===void 0?void 0:s.getScale("color"),u=e!=null&&e.datum?e.datum:e;return l==null?void 0:l.scale(u==null?void 0:u[this._spec.seriesField])}return(a=this._colorScale)===null||a===void 0?void 0:a.scale(this._getNodeNameFromData(e))},this._fillByLink=e=>{var t,n,r,s,a,o,l;const u=(n=(t=this._spec.link)===null||t===void 0?void 0:t.style)===null||n===void 0?void 0:n.fill;if(u)return u;if(X(this._spec.seriesField)){const d=(s=(r=this._nodesSeriesData)===null||r===void 0?void 0:r.getLatestData())===null||s===void 0?void 0:s.find(f=>e.source===f.key),h=d==null?void 0:d.datum,p=(o=(a=this._option)===null||a===void 0?void 0:a.globalScale)===null||o===void 0?void 0:o.getScale("color");return p==null?void 0:p.scale(h==null?void 0:h[this._spec.seriesField])}const c=Xe(e.source)?this.getNodeList()[e.source]:e.source;return(l=this._colorScale)===null||l===void 0?void 0:l.scale(c)},this._handleEmphasisElement=e=>{var t;const n=(t=this._spec.emphasis)!==null&&t!==void 0?t:{},r=e.item;n.effect==="adjacency"?r&&r.mark.id().includes("node")?this._handleNodeAdjacencyClick(r):r&&r.mark.id().includes("link")?this._handleLinkAdjacencyClick(r):this._handleClearEmpty():n.effect==="related"&&(r&&r.mark.id().includes("node")?this._handleNodeRelatedClick(r):r&&r.mark.id().includes("link")?this._handleLinkRelatedClick(r):this._handleClearEmpty())},this._handleClearEmpty=()=>{var e,t,n;const r=(e=this._nodeMark)===null||e===void 0?void 0:e.getProductElements();if(!r||!r.length)return;const s=(t=this._linkMark)===null||t===void 0?void 0:t.getProductElements();if(!s||!s.length)return;const a=(n=this._labelMark)===null||n===void 0?void 0:n.getProductElements();if(!a||!a.length)return;const o=[mt.STATE_SANKEY_EMPHASIS,mt.STATE_SANKEY_EMPHASIS_REVERSE];r.forEach(l=>{l.removeState(o)}),s.forEach(l=>{l.removeState(o)}),a.forEach(l=>{l.removeState(o)})},this._handleNodeAdjacencyClick=e=>{const t=e.getDatum(),n=[t.key];if(this._linkMark){const r=this._linkMark.getProductElements();if(!r||!r.length)return;r.forEach((s,a)=>{const o=s.getDatum(),l=o!=null&&o.parents?"parents":"source";if(we(o[l]).includes(t.key)){let u;if(n.includes(o.source)||n.push(o.source),n.includes(o.target)||n.push(o.target),l==="parents"){const c=o.datum;u=(c?c.filter(d=>d.parents.some(h=>h.key===t.key)).reduce((d,h)=>d+h.value,0):0)/o.value}s.removeState(mt.STATE_SANKEY_EMPHASIS_REVERSE),s.addState(mt.STATE_SANKEY_EMPHASIS),s.addState(mt.STATE_SANKEY_EMPHASIS,{ratio:u})}else o.target===t.key?n.includes(o.source)||n.push(o.source):(s.removeState(mt.STATE_SANKEY_EMPHASIS),s.addState(mt.STATE_SANKEY_EMPHASIS_REVERSE))})}this._nodeMark&&this._highLightElements(this._nodeMark.getProductElements(),n),this._labelMark&&this._highLightElements(this._labelMark.getProductElements(),n)},this._handleLinkAdjacencyClick=e=>{const t=e.getDatum(),n=[t.source,t.target];if(this._linkMark){const r=this._linkMark.getProductElements();if(!r||!r.length)return;r.forEach(s=>{s===e?(s.removeState(mt.STATE_SANKEY_EMPHASIS_REVERSE),s.addState(mt.STATE_SANKEY_EMPHASIS,{ratio:1})):(s.removeState(mt.STATE_SANKEY_EMPHASIS),s.addState(mt.STATE_SANKEY_EMPHASIS_REVERSE))})}this._nodeMark&&this._highLightElements(this._nodeMark.getProductElements(),n),this._labelMark&&this._highLightElements(this._labelMark.getProductElements(),n)},this._handleNodeRelatedClick=e=>{var t;const n=e.getDatum(),r=this._nodeMark.getProductElements();if(!r||!r.length)return;const s=this._linkMark.getProductElements();if(!(!s||!s.length))if((!((t=s[0].getDatum())===null||t===void 0)&&t.parents?"parents":"source")=="source"){const a=[n.key],o=[];if(s.forEach((l,u)=>{var c,d,h,p;const f=l.getDatum(),g=f!=null&&f.parents?"parents":"source";if(we(f[g]).includes(n.key)){if(o.includes((c=f.key)!==null&&c!==void 0?c:f.index)||o.push((d=f.key)!==null&&d!==void 0?d:f.index),a.includes(f.source)||a.push(f.source),!a.includes(f.target)){a.push(f.target);let v=r.find(m=>m.data[0].key===f.target).data[0].sourceLinks;for(;(v==null?void 0:v.length)>0;){const m=[];return v.forEach(b=>{var _,S;if(!o.includes((_=b.key)!==null&&_!==void 0?_:b.index)&&(o.push((S=b.key)!==null&&S!==void 0?S:b.index),!a.includes(b.target))){a.push(b.target);const C=r.find(k=>k.data[0].key===b.target);m.push(C.data[0].targetLinks)}}),void(v=m)}}}else if(f.target===n.key&&(o.includes((h=f.key)!==null&&h!==void 0?h:f.index)||o.push((p=f.key)!==null&&p!==void 0?p:f.index),!a.includes(f.source))){a.push(f.source);let v=r.find(m=>m.data[0].key===f.source).data[0].targetLinks;for(;(v==null?void 0:v.length)>0;){const m=[];return v.forEach(b=>{var _,S;if(!o.includes((_=b.key)!==null&&_!==void 0?_:b.index)&&(o.push((S=b.key)!==null&&S!==void 0?S:b.index),!a.includes(b.source))){a.push(b.source);const C=r.find(k=>k.data[0].key===b.source);m.push(C.data[0].targetLinks)}}),void(v=m)}}}),this._linkMark){const l=this._linkMark.getProductElements();if(!l||!l.length)return;l.forEach((u,c)=>{var d;o.includes((d=u.getDatum().key)!==null&&d!==void 0?d:u.getDatum().index)?(u.removeState(mt.STATE_SANKEY_EMPHASIS_REVERSE),u.addState(mt.STATE_SANKEY_EMPHASIS)):(u.removeState(mt.STATE_SANKEY_EMPHASIS),u.addState(mt.STATE_SANKEY_EMPHASIS_REVERSE))})}this._nodeMark&&this._highLightElements(this._nodeMark.getProductElements(),a),this._labelMark&&this._highLightElements(this._labelMark.getProductElements(),a)}else{const a=[n.key],o=n.targetLinks.reduce((l,u)=>(we(u.datum).forEach(c=>{const d=c.parents,h=d.length;for(let p=0;p<h;p++){const f=d[p].key,g=d[p+1]?d[p+1].key:n.key,v=c.value,m=l.find(b=>b.source===f&&b.target===g);m?m.value+=v:l.push({source:f,target:g,value:v})}}),l),[]);s.forEach((l,u)=>{const c=l.getDatum(),d=c!=null&&c.parents?"parents":"source",h=c.datum,p=h?h.filter(g=>g[d].some(v=>v.key===n.key)):null,f=o.find(g=>g.source===c.source&&g.target===c.target);if(p&&p.length){a.includes(c.source)||a.push(c.source),a.includes(c.target)||a.push(c.target);const g=p.reduce((v,m)=>v+m.value,0)/c.value;return l.removeState(mt.STATE_SANKEY_EMPHASIS_REVERSE),l.addState(mt.STATE_SANKEY_EMPHASIS),void l.addState(mt.STATE_SANKEY_EMPHASIS,{ratio:g})}if(f)return a.includes(c.source)||a.push(c.source),a.includes(c.target)||a.push(c.target),l.removeState(mt.STATE_SANKEY_EMPHASIS_REVERSE),l.addState(mt.STATE_SANKEY_EMPHASIS),void l.addState(mt.STATE_SANKEY_EMPHASIS,{ratio:f.value/c.value});l.removeState(mt.STATE_SANKEY_EMPHASIS),l.addState(mt.STATE_SANKEY_EMPHASIS_REVERSE)}),this._nodeMark&&this._highLightElements(this._nodeMark.getProductElements(),a),this._labelMark&&this._highLightElements(this._labelMark.getProductElements(),a)}},this._handleLinkRelatedClick=e=>{var t;const n=this._nodeMark.getProductElements();if(!n||!n.length)return;const r=this._linkMark.getProductElements();if(!(!r||!r.length))if((!((t=e.getDatum())===null||t===void 0)&&t.parents?"parents":"source")=="source"){const s=[mt.STATE_SANKEY_EMPHASIS,mt.STATE_SANKEY_EMPHASIS_REVERSE];if(this._linkMark&&r.forEach(a=>{a.removeState(s)}),this._nodeMark&&n.forEach(a=>{a.removeState(s)}),this._labelMark){const a=this._labelMark.getProductElements();if(!a||!a.length)return;a.forEach(o=>{o.removeState(s)})}}else{const s=e.getDatum(),a=[s.source,s.target],o=[];we(s.datum).forEach(l=>{const u=l.parents,c=u.length;for(let d=0;d<c-1;d++){const h=u[d].key,p=u[d+1].key,f=l.value,g=o.find(v=>v.source===h&&v.target===p);o.push({source:u[d].key,target:u[d+1].key,value:l.value}),g?g.value+=f:o.push({source:h,target:p,value:f})}}),r.forEach(l=>{const u=l.getDatum(),c=u.datum;if(u.source===s.source&&u.target===s.target)return l.removeState(mt.STATE_SANKEY_EMPHASIS_REVERSE),void l.addState(mt.STATE_SANKEY_EMPHASIS,{ratio:1});const d=c?c.filter(p=>{const f=p.parents.map(g=>g.key);return f.includes(s.source)&&f.includes(s.target)}):null;if(d&&d.length){a.includes(u.source)||a.push(u.source),a.includes(u.target)||a.push(u.target);const p=d.filter(g=>g.parents.some((v,m)=>{var b;return v.key===s.source&&((b=g.parents[m+1])===null||b===void 0?void 0:b.key)===s.target})).reduce((g,v)=>g+v.value,0),f=p/u.value;return l.removeState(mt.STATE_SANKEY_EMPHASIS_REVERSE),l.addState(mt.STATE_SANKEY_EMPHASIS),void l.addState(mt.STATE_SANKEY_EMPHASIS,{ratio:f})}const h=o.find(p=>p.source===u.source&&p.target===u.target);if(h)return a.includes(u.source)||a.push(u.source),a.includes(u.target)||a.push(u.target),l.removeState(mt.STATE_SANKEY_EMPHASIS_REVERSE),l.addState(mt.STATE_SANKEY_EMPHASIS),void l.addState(mt.STATE_SANKEY_EMPHASIS,{ratio:h.value/u.value});l.removeState(mt.STATE_SANKEY_EMPHASIS),l.addState(mt.STATE_SANKEY_EMPHASIS_REVERSE)}),this._highLightElements(n,a),this._labelMark&&this._highLightElements(this._labelMark.getProductElements(),a)}}}getCategoryField(){return this._categoryField}setCategoryField(e){return this._categoryField=e,this._categoryField}getValueField(){return this._valueField}setValueField(e){return this._valueField=e,this._valueField}setAttrFromSpec(){var e,t,n;super.setAttrFromSpec(),this.setCategoryField(this._spec.categoryField),this.setValueField(this._spec.valueField),this.setSeriesField((e=this._spec.seriesField)!==null&&e!==void 0?e:this._spec.categoryField),this._labelLimit=(n=(t=this._spec.label)===null||t===void 0?void 0:t.limit)!==null&&n!==void 0?n:100}initData(){var e,t,n,r;super.initData();const s=this.getViewData(),a=this.getRawData();if(a&&s){pi(this._dataSet,"sankeyLayout",l2t),pi(this._dataSet,"sankeyFormat",o2t),a.transform({type:"sankeyFormat"},!1),s.transform({type:"sankeyLayout",options:{view:()=>({x0:this._viewBox.x1,x1:this._viewBox.x2,y0:this._viewBox.y1,y1:this._viewBox.y2}),sourceField:this._spec.sourceField,targetField:this._spec.targetField,valueField:this._spec.valueField,direction:this._spec.direction,nodeAlign:(e=this._spec.nodeAlign)!==null&&e!==void 0?e:"justify",nodeGap:(t=this._spec.nodeGap)!==null&&t!==void 0?t:8,nodeWidth:(n=this._spec.nodeWidth)!==null&&n!==void 0?n:10,linkWidth:this._spec.linkWidth,minStepWidth:this._spec.minStepWidth,minNodeHeight:(r=this._spec.minNodeHeight)!==null&&r!==void 0?r:4,minLinkHeight:this._spec.minLinkHeight,iterations:this._spec.iterations,nodeKey:this._spec.nodeKey,linkSortBy:this._spec.linkSortBy,nodeSortBy:this._spec.nodeSortBy,setNodeLayer:this._spec.setNodeLayer,dropIsolatedNode:this._spec.dropIsolatedNode,nodeHeight:this._spec.nodeHeight,linkHeight:this._spec.linkHeight,equalNodeHeight:this._spec.equalNodeHeight,linkOverlap:this._spec.linkOverlap},level:cp.sankeyLayout});const{dataSet:o}=this._option;pi(o,"sankeyNodes",u2t),pi(o,"flatten",bP);const l=new vn(o,{name:`sankey-node-${this.id}-data`});l.parse([this.getViewData()],{type:"dataview"}),l.transform({type:"sankeyNodes"}),l.transform({type:"flatten",options:{callback:c=>{if(c.datum){const d=c.datum[c.depth];return Object.assign(Object.assign({},c),d)}return c}}},!1),l.transform({type:"addVChartProperty",options:{beforeCall:tw.bind(this),call:eb}},!1),this._nodesSeriesData=new kf(this._option,l),pi(o,"sankeyLinks",c2t);const u=new vn(o,{name:`sankey-link-${this.id}-data`});u.parse([this.getViewData()],{type:"dataview"}),u.transform({type:"sankeyLinks"}),u.transform({type:"addVChartProperty",options:{beforeCall:tw.bind(this),call:eb}},!1),this._linksSeriesData=new kf(this._option,u)}}initMark(){var e,t,n,r;const s=this._createMark(s0.mark.node,{isSeriesMark:!0,dataView:this._nodesSeriesData.getDataView(),dataProductId:this._nodesSeriesData.getProductId(),customShape:(e=this._spec.node)===null||e===void 0?void 0:e.customShape,stateSort:(t=this._spec.node)===null||t===void 0?void 0:t.stateSort});s&&(s.setZIndex(this._nodeLayoutZIndex),this._nodeMark=s);const a=this._createMark(s0.mark.link,{dataView:this._linksSeriesData.getDataView(),dataProductId:this._linksSeriesData.getProductId(),customShape:(n=this._spec.link)===null||n===void 0?void 0:n.customShape,stateSort:(r=this._spec.link)===null||r===void 0?void 0:r.stateSort});if(a&&(this._linkMark=a),this._spec.label&&this._spec.label.visible){const o=this._createMark(s0.mark.label,{dataView:this._nodesSeriesData.getDataView(),dataProductId:this._nodesSeriesData.getProductId()});o&&(this._labelMark=o)}}_buildMarkAttributeContext(){super._buildMarkAttributeContext(),this._markAttributeContext.valueToNode=this.valueToNode.bind(this),this._markAttributeContext.valueToLink=this.valueToLink.bind(this)}valueToNode(e){const t=this._nodesSeriesData.getLatestData(),n=we(e)[0];return t&&t.find(r=>r.key===n)}valueToLink(e){const t=this._linksSeriesData.getLatestData(),n=we(e);return t&&t.find(r=>r&&r.source===n[0]&&r.target===n[1])}valueToPositionX(e){const t=this.valueToNode(e);return t==null?void 0:t.x0}valueToPositionY(e){const t=this.valueToNode(e);return t==null?void 0:t.y0}initMarkStyle(){this._initNodeMarkStyle(),this._initLinkMarkStyle(),this._initLabelMarkStyle()}_initNodeMarkStyle(){const e=this._nodeMark;e&&this.setMarkStyle(e,{x:t=>t.x0,x1:t=>t.x1,y:t=>t.y0,y1:t=>t.y1,fill:this._fillByNode},mt.STATE_NORMAL,Ve.Mark)}_initLinkMarkStyle(){var e;const t=this._linkMark;t&&this.setMarkStyle(t,{x0:n=>n.x0,x1:n=>n.x1,y0:n=>n.y0,y1:n=>n.y1,thickness:n=>n.thickness,fill:this._fillByLink,direction:(e=this._spec.direction)!==null&&e!==void 0?e:"horizontal"},mt.STATE_NORMAL,Ve.Series)}_initLabelMarkStyle(){this._labelMark&&(this._spec.direction==="vertical"?this._spec.label.position==="inside-start"?this.setMarkStyle(this._labelMark,{x:e=>e.x0,y:e=>(e.y0+e.y1)/2,fill:"#ffffff",text:e=>this._createText(e),limit:e=>{var t;return(t=this._spec.label.limit)!==null&&t!==void 0?t:e.x1-e.x0},textAlign:"left",textBaseline:"middle"},mt.STATE_NORMAL,Ve.Series):this._spec.label.position==="inside-middle"?this.setMarkStyle(this._labelMark,{x:e=>(e.x0+e.x1)/2,y:e=>(e.y0+e.y1)/2,fill:"#ffffff",text:e=>this._createText(e),limit:e=>{var t;return(t=this._spec.label.limit)!==null&&t!==void 0?t:e.x1-e.x0},textAlign:"center",textBaseline:"middle"},mt.STATE_NORMAL,Ve.Series):this._spec.label.position==="inside-end"?this.setMarkStyle(this._labelMark,{x:e=>e.x1,y:e=>(e.y0+e.y1)/2,fill:"#ffffff",text:e=>this._createText(e),limit:e=>{var t;return(t=this._spec.label.limit)!==null&&t!==void 0?t:e.x1-e.x0},textAlign:"right",textBaseline:"middle"},mt.STATE_NORMAL,Ve.Series):this.setMarkStyle(this._labelMark,{x:e=>(e.x0+e.x1)/2,y:e=>e.y1>=this._viewBox.y2?e.y0:e.y1,fill:this._fillByNode,text:e=>this._createText(e),limit:this._labelLimit,textAlign:"center",textBaseline:e=>e.y1>=this._viewBox.y2?"bottom":"top"},mt.STATE_NORMAL,Ve.Series):this._spec.label.position==="inside-start"?this.setMarkStyle(this._labelMark,{x:e=>e.x0,y:e=>(e.y0+e.y1)/2,fill:"#ffffff",text:e=>this._createText(e),limit:e=>{var t;return(t=this._spec.label.limit)!==null&&t!==void 0?t:e.x1-e.x0},textAlign:"left",textBaseline:"middle"},mt.STATE_NORMAL,Ve.Series):this._spec.label.position==="inside-middle"?this.setMarkStyle(this._labelMark,{x:e=>(e.x0+e.x1)/2,y:e=>(e.y0+e.y1)/2,fill:"#ffffff",text:e=>this._createText(e),limit:e=>{var t;return(t=this._spec.label.limit)!==null&&t!==void 0?t:e.x1-e.x0},textAlign:"center",textBaseline:"middle"},mt.STATE_NORMAL,Ve.Series):this._spec.label.position==="inside-end"?this.setMarkStyle(this._labelMark,{x:e=>e.x1,y:e=>(e.y0+e.y1)/2,fill:"#ffffff",text:e=>this._createText(e),limit:e=>{var t;return(t=this._spec.label.limit)!==null&&t!==void 0?t:e.x1-e.x0},textAlign:"right",textBaseline:"middle"},mt.STATE_NORMAL,Ve.Series):this._spec.label.position==="left"?this.setMarkStyle(this._labelMark,{x:e=>e.x0,y:e=>(e.y0+e.y1)/2,fill:this._fillByNode,text:e=>this._createText(e),limit:this._labelLimit,textAlign:"right",textBaseline:"middle"},mt.STATE_NORMAL,Ve.Series):this._spec.label.position==="right"?this.setMarkStyle(this._labelMark,{x:e=>e.x1,y:e=>(e.y0+e.y1)/2,fill:this._fillByNode,text:e=>this._createText(e),limit:this._labelLimit,textAlign:"left",textBaseline:"middle"},mt.STATE_NORMAL,Ve.Series):this.setMarkStyle(this._labelMark,{x:e=>e.x1>=this._viewBox.x2?e.x0:e.x1,y:e=>(e.y0+e.y1)/2,fill:this._fillByNode,text:e=>this._createText(e),limit:this._labelLimit,textAlign:e=>e.x1>=this._viewBox.x2?"right":"left",textBaseline:"middle"},mt.STATE_NORMAL,Ve.Series),this._labelMark.setZIndex(this._labelLayoutZIndex))}_createText(e){var t;if(Y(e)||Y(e.datum))return"";let n=e.datum[this._spec.categoryField]||"";return!((t=this._spec.label)===null||t===void 0)&&t.formatMethod&&(n=this._spec.label.formatMethod(n,e.datum)),n}initAnimation(){var e,t,n,r,s;const a={direction:this.direction,growFrom:()=>{var l,u;return this.direction==="horizontal"?(l=this._xAxisHelper)===null||l===void 0?void 0:l.getScale(0).scale(0):(u=this._yAxisHelper)===null||u===void 0?void 0:u.getScale(0).scale(0)}},o=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;this._nodeMark&&this._nodeMark.setAnimationConfig(Yi((n=ce.getAnimationInKey("sankeyNode"))===null||n===void 0?void 0:n(a,o),an("node",this._spec,this._markAttributeContext))),this._linkMark&&this._linkMark.setAnimationConfig(Yi((r=ce.getAnimationInKey("sankeyLinkPath"))===null||r===void 0?void 0:r(a,o),an("link",this._spec,this._markAttributeContext))),this._labelMark&&this._labelMark.setAnimationConfig(Yi((s=ce.getAnimationInKey("fadeInOut"))===null||s===void 0?void 0:s(),an("label",this._spec,this._markAttributeContext)))}initEvent(){var e,t,n;super.initEvent(),(e=this._nodesSeriesData.getDataView())===null||e===void 0||e.target.addListener("change",this.nodesSeriesDataUpdate.bind(this)),(t=this._linksSeriesData.getDataView())===null||t===void 0||t.target.addListener("change",this.linksSeriesDataUpdate.bind(this));const r=(n=this._spec.emphasis)!==null&&n!==void 0?n:{};if(this._option.disableTriggerEvent!==!0&&r.enable&&(r.effect==="adjacency"||r.effect==="related")){const s=r.trigger==="hover"?"pointerover":"pointerdown";this.event.on(s,{level:fr.chart},this._handleEmphasisElement)}}nodesSeriesDataUpdate(){this._nodesSeriesData.updateData(),this._nodeList=null,this._setNodeOrdinalColorScale()}linksSeriesDataUpdate(){this._linksSeriesData.updateData()}_highLightElements(e,t){e&&e.length&&e.forEach(n=>{n.removeState([mt.STATE_SANKEY_EMPHASIS_REVERSE,mt.STATE_SANKEY_EMPHASIS]),t.includes(n.getDatum().key)||n.addState(mt.STATE_SANKEY_EMPHASIS_REVERSE)})}initTooltip(){this._tooltipHelper=new d2t(this),this._nodeMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._nodeMark),this._linkMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._linkMark),this._labelMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._labelMark)}_setNodeOrdinalColorScale(){var e,t,n,r,s;const a=(t=(e=this._option)===null||e===void 0?void 0:e.globalScale)===null||t===void 0?void 0:t.getScale("color");if(a!=null&&a._specified)return void(this._colorScale=a);let o,l;a&&(o=a.domain(),l=a.range()),l||(l=this._getDataScheme()),o&&!Y(o[0])||(o=this.getNodeList(),o.length>10&&(l=(n=this._getDataScheme()[1])===null||n===void 0?void 0:n.scheme));const u=new pP;(s=(r=u.domain(o)).range)===null||s===void 0||s.call(r,l),this._colorScale=u}getNodeList(){var e;if(this._nodeList)return this._nodeList;const t=this._rawData.latestData[0],n=t!=null&&t.nodes?!((e=t.nodes[0])===null||e===void 0)&&e.children?Array.from(this.extractNamesFromTree(t.nodes,this._spec.categoryField)):t.nodes.map((r,s)=>r[this._spec.categoryField]):t!=null&&t.links?Array.from(this.extractNamesFromLink(t.links)):t==null?void 0:t.values.map((r,s)=>r[this._spec.categoryField]);return this._nodeList=n,n}_getNodeNameFromData(e){var t;return e!=null&&e.datum?e.datum[this._spec.categoryField]:(t=e.key)!==null&&t!==void 0?t:e[this._spec.categoryField]}extractNamesFromTree(e,t){const n=new Set;return e.forEach(r=>{n.add(r[t]),r.children&&this.extractNamesFromTree(r.children,t).forEach(s=>n.add(s))}),n}extractNamesFromLink(e){const t=new Set,{sourceField:n,targetField:r}=this._spec;return e.forEach(s=>{X(s[n])&&t.add(s[n]),X(s[r])&&t.add(s[r])}),t}getDimensionField(){return[this._spec.categoryField]}getMeasureField(){return[this._valueField]}getRawDataStatisticsByField(e,t){var n;return this._rawStatisticsCache||(this._rawStatisticsCache={}),!this._rawStatisticsCache[e]&&(this._viewDataStatistics&&this.getViewData().transformsArr.length<=1&&(!((n=this._viewDataStatistics.latestData)===null||n===void 0)&&n[e])?this._rawStatisticsCache[e]=this._viewDataStatistics.latestData[e]:this._rawData&&(this._rawStatisticsCache[e]={values:this._collectByField(e)})),this._rawStatisticsCache[e]}_collectByField(e){var t,n,r;const s=[],a=(n=(t=this.getRawData())===null||t===void 0?void 0:t.latestData)===null||n===void 0?void 0:n[0];if(!a)return[];if(a.links)!((r=a.nodes)===null||r===void 0)&&r.length&&a.nodes.forEach(o=>{o[this._seriesField]&&s.push(o[this._seriesField])});else if(a.nodes){const o=new Set;return x2e(o,a.nodes,this._seriesField),Array.from(o)}return s}onLayoutEnd(e){super.onLayoutEnd(e),this._viewBox.set(0,0,this._region.getLayoutRect().width,this._region.getLayoutRect().height),this.getViewData().reRunAllTransform()}getDefaultShapeType(){return"square"}_noAnimationDataKey(e,t){}getActiveMarks(){return[this._nodeMark,this._linkMark]}}s0.type=xe.sankey,s0.mark=nAe;const v2t=()=>{a2t(),bm(),m2t(),Ju(),g2t(),vm(),ce.registerSeries(s0.type,s0)},y2t=(i,e)=>{let t={},n=e.fields;if(Pe(n)&&(n=n()),!(n!=null&&n.length)||!(i!=null&&i.length)||!i[0].latestData)return t;const r=i[0].latestData,s=bP(r);return t=ZW([{latestData:s}],e),t};class _2t extends hu{constructor(){super(...arguments),this.markTooltipKeyCallback=e=>e==null?void 0:e[this.series.getDimensionField()[0]]}get defaultShapeType(){return"square"}}const b2t=i=>i==="fadeIn"?{type:"fadeIn"}:{type:"growCenterIn"},S2t=()=>{ce.registerAnimation("treemap",(i,e)=>({appear:b2t(e),enter:{type:"growCenterIn"},exit:{type:"growCenterOut"},disappear:{type:"growCenterOut"}}))};class w2e extends pu{_transformLabelSpec(e){this._addMarkLabelSpec(e,"nonLeaf","nonLeafLabel","initNonLeafLabelMarkStyle"),this._addMarkLabelSpec(e,"leaf")}}class tf extends sh{constructor(){super(...arguments),this.type=xe.treemap,this.transformerConstructor=w2e,this._viewBox=new Da,this._enableAnimationHook=this.enableMarkAnimation.bind(this),this.isHierarchyData=()=>!0}getCategoryField(){return this._categoryField}setCategoryField(e){return this._categoryField=e,this._categoryField}getValueField(){return this._valueField}setValueField(e){return this._valueField=e,this._valueField}setAttrFromSpec(){var e;super.setAttrFromSpec(),this.setCategoryField(this._spec.categoryField),this.setValueField(this._spec.valueField),this.setSeriesField((e=this._spec.seriesField)!==null&&e!==void 0?e:Bg),this._spec.roam&&(this.initZoomable(this.event,this._option.mode),this._matrix=new gs),this._spec.drill&&this.initDrillable({event:this.event,mode:this._option.mode,drillField:()=>{var t,n;return(n=(t=this._spec.drillField)!==null&&t!==void 0?t:this._categoryField)!==null&&n!==void 0?n:rp},getRawData:()=>this.getRawData()}),Ce(this._spec.maxDepth)&&(this._maxDepth=this._spec.maxDepth-1)}initData(){super.initData(),this.getViewData()&&this._spec.drill&&this.initDrillableData(this._dataSet)}compile(){super.compile(),this._runTreemapTransform()}_runTreemapTransform(e=!1){var t,n,r,s;const a=this._data.getProduct();a&&a.transform([{type:"treemap",x0:this._viewBox.x1,x1:this._viewBox.x2,y0:this._viewBox.y1,y1:this._viewBox.y2,maxDepth:this._maxDepth,gapWidth:this._spec.gapWidth,padding:this._spec.nodePadding,splitType:this._spec.splitType,aspectRatio:this._spec.aspectRatio,labelPadding:!((t=this._spec.nonLeafLabel)===null||t===void 0)&&t.visible?(n=this._spec.nonLeafLabel)===null||n===void 0?void 0:n.padding:0,labelPosition:(r=this._spec.nonLeafLabel)===null||r===void 0?void 0:r.position,minVisibleArea:(s=this._spec.minVisibleArea)!==null&&s!==void 0?s:10,minChildrenVisibleArea:this._spec.minChildrenVisibleArea,minChildrenVisibleSize:this._spec.minChildrenVisibleSize,flatten:!0},{type:"map",callback:o=>(o&&[Bg,"name"].forEach(l=>{o[l]=o.datum[o.depth][l]}),o)}]),e&&this.getCompiler().renderNextTick()}_addDataIndexAndKey(){var e;!((e=this._rawData)===null||e===void 0)&&e.dataSet&&(pi(this._rawData.dataSet,"addVChartProperty",Yw),this._rawData.transform({type:"addVChartProperty",options:{beforeCall:gq.bind(this),call:$$}}))}getRawDataStatisticsByField(e,t){var n;if(!this._rawDataStatistics){const r=`${this.type}_${this.id}_rawDataStatic`;this._rawDataStatistics=this._createHierarchyDataStatistics(r,[this._rawData]),this._rawData.target.removeListener("change",this._rawDataStatistics.reRunAllTransform),this._rawDataStatistics.reRunAllTransform()}return(n=this._rawDataStatistics.latestData)===null||n===void 0?void 0:n[e]}_createHierarchyDataStatistics(e,t){pi(this._dataSet,"hierarchyDimensionStatistics",y2t),pi(this._dataSet,"flatten",bP);const n=new vn(this._dataSet,{name:e});return n.parse(t,{type:"dataview"}),n.transform({type:"hierarchyDimensionStatistics",options:{fields:()=>{const r=this.getStatisticFields();return this._seriesField&&this._seriesField!==this._categoryField&&r.push({key:this._seriesField,operations:["values"]}),r}}},!1),n}getStatisticFields(){return super.getStatisticFields().concat([{key:this._categoryField,operations:["values"]},{key:this._valueField,operations:["max","min"]},{key:KT,operations:["max","min","values"]},{key:Bg,operations:["values"]}])}initMark(){var e,t,n,r;const s=this._createMark(tf.mark.nonLeaf,{isSeriesMark:!0,customShape:(e=this._spec.nonLeaf)===null||e===void 0?void 0:e.customShape,stateSort:(t=this._spec.nonLeaf)===null||t===void 0?void 0:t.stateSort});s&&(s.setTransform([{type:"filter",callback:o=>!this._shouldFilterElement(o,"nonLeaf")}]),this._nonLeafMark=s);const a=this._createMark(tf.mark.leaf,{isSeriesMark:!0,customShape:(n=this._spec.leaf)===null||n===void 0?void 0:n.customShape,stateSort:(r=this._spec.leaf)===null||r===void 0?void 0:r.stateSort});a&&(a.setTransform([{type:"filter",callback:o=>!this._shouldFilterElement(o,"leaf")}]),this._leafMark=a)}initMarkStyle(){this._initLeafMarkStyle(),this._initNonLeafMarkStyle()}_initLeafMarkStyle(){this._leafMark&&this.setMarkStyle(this._leafMark,{x:e=>e.x0,y:e=>e.y0,x1:e=>e.x1,y1:e=>e.y1,fill:this.getColorAttribute()},mt.STATE_NORMAL,Ve.Series)}_initNonLeafMarkStyle(){this._nonLeafMark&&this.setMarkStyle(this._nonLeafMark,{x:e=>e.x0,y:e=>e.y0,x1:e=>e.x1,y1:e=>e.y1,fill:this.getColorAttribute()},mt.STATE_NORMAL,Ve.Series)}initLabelMarkStyle(e){e&&(this._labelMark=e,e.setRule("treemap"),this.setMarkStyle(e,{x:t=>(t.x0+t.x1)/2,y:t=>(t.y0+t.y1)/2,text:t=>{var n;return(n=t.datum[t.depth])===null||n===void 0?void 0:n[this.getDimensionField()[0]]},maxLineWidth:t=>t.x1===t.x0?Number.MIN_VALUE:t.x1-t.x0},mt.STATE_NORMAL,Ve.Series),e.getTextType()==="rich"&&this.setMarkStyle(e,{maxWidth:t=>Math.abs(t.x0-t.x1),maxHeight:t=>Math.abs(t.y0-t.y1),ellipsis:!0},mt.STATE_NORMAL,Ve.Series))}initNonLeafLabelMarkStyle(e){e&&(this._nonLeafLabelMark=e,e.setRule("treemap"),this.setMarkStyle(e,{x:t=>t.labelRect?(t.labelRect.x0+t.labelRect.x1)/2:(t.x0+t.x1)/2,y:t=>t.labelRect?(t.labelRect.y0+t.labelRect.y1)/2:(t.y0+t.y1)/2,text:t=>{var n;return(n=t.datum[t.depth])===null||n===void 0?void 0:n[this.getDimensionField()[0]]},maxLineWidth:t=>t.x1===t.x0?Number.MIN_VALUE:t.x1-t.x0},mt.STATE_NORMAL,Ve.Series),e.getTextType()==="rich"&&this.setMarkStyle(e,{maxWidth:t=>Math.abs(t.x0-t.x1),maxHeight:t=>Math.abs(t.y0-t.y1),ellipsis:!0},mt.STATE_NORMAL,Ve.Series))}initAnimation(){this.getMarksInType("rect").forEach(e=>{var t;e.setAnimationConfig(Yi((t=ce.getAnimationInKey("treemap"))===null||t===void 0?void 0:t(),an(e.name,this._spec,this._markAttributeContext)))})}initEvent(){super.initEvent(),this._spec.roam&&(this.initDragEventOfSeries(this),this.event.on("panmove",e=>{this.handlePan(e)}),this.initZoomEventOfSeries(this),this.event.on("zoom",e=>{this.handleZoom(e)})),this._spec.drill&&this.bindDrillEvent()}_getDataIdKey(){return"key"}initTooltip(){this._tooltipHelper=new _2t(this),this._leafMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._leafMark),this._nonLeafMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._nonLeafMark)}_shouldFilterElement(e,t){const n=e.isLeaf;return t==="leaf"?!n:n}handlePan(e){const{delta:t}=e;if(t[0]===0&&t[1]===0)return;this._matrix.reset(),this._matrix.translate(t[0],t[1]);const{a:n,b:r,c:s,d:a,e:o,f:l}=this._matrix;this._matrix.multiply(n,r,s,a,o,l),this._viewBox.transformWithMatrix(this._matrix),this._runTreemapTransform(!0)}handleZoom(e){const{scale:t,scaleCenter:n}=e;if(t===1)return;this._matrix.reset();const{x:r,y:s}=n;this._matrix.translate(r,s),this._matrix.scale(t,t),this._matrix.translate(-r,-s);const{a,b:o,c:l,d:u,e:c,f:d}=this._matrix;this._matrix.multiply(a,o,l,u,c,d),this.disableMarkAnimation(),this.event.on(At.AFTER_DO_RENDER,this._enableAnimationHook),this._viewBox.transformWithMatrix(this._matrix),this._runTreemapTransform(!0)}getDimensionField(){return[this._categoryField]}getMeasureField(){return[this._valueField]}onLayoutEnd(e){super.onLayoutEnd(e),this._viewBox.set(0,0,this.getLayoutRect().width,this.getLayoutRect().height),this._runTreemapTransform()}enableMarkAnimation(){this.getMarks().forEach(e=>{var t;(t=e.getProduct().animate)===null||t===void 0||t.enable()}),[this._labelMark,this._nonLeafLabelMark].forEach(e=>{e&&e.getComponent()&&e.getComponent().getProduct().getGroupGraphicItem().enableAnimation()}),this.event.off(At.AFTER_DO_RENDER,this._enableAnimationHook)}disableMarkAnimation(){this.getMarks().forEach(e=>{var t;(t=e.getProduct().animate)===null||t===void 0||t.disable()}),[this._labelMark,this._nonLeafLabelMark].forEach(e=>{e&&e.getComponent()&&e.getComponent().getProduct().getGroupGraphicItem().disableAnimation()})}getDefaultShapeType(){return"square"}getActiveMarks(){return[this._nonLeafMark,this._leafMark]}}tf.type=xe.treemap,tf.mark=iAe,tf.transformerConstructor=w2e,wa(tf,Pq),wa(tf,Sq);const x2t=()=>{bm(),Ju(),S2t(),vm(),WTt(),ce.registerSeries(tf.type,tf)},w2t=i=>({channel:{angle:{from:i.startAngle+Math.PI/2}}}),C2t={type:"fadeIn"};function k2t(i,e){return e==="fadeIn"?C2t:w2t(i)}const E2t=()=>{ce.registerAnimation("gaugePointer",(i,e)=>{const t=k2t(i,e);return{appear:t,enter:t,disappear:{type:"fadeOut"}}})};class C2e extends pu{constructor(){super(...arguments),this._supportStack=!1}}class $g extends qw{constructor(){super(...arguments),this.type=xe.gaugePointer,this.transformerConstructor=C2e,this._pinMark=null,this._pointerMark=null,this._pinBackgroundMark=null}setAttrFromSpec(){var e;super.setAttrFromSpec(),this.setRadiusField(this._spec.radiusField),this._pointerType=((e=this._spec.pointer)===null||e===void 0?void 0:e.type)==="rect"?"rect":"path"}initMark(){this._pinBackgroundMark=this._createMark($g.mark.pinBackground),this._pointerMark=this._createMark(Object.assign(Object.assign({},$g.mark.pointer),{type:this._pointerType}),{isSeriesMark:!0}),this._pinMark=this._createMark($g.mark.pin)}initMarkStyle(){this.initPinBackgroundMarkStyle(),this.initPointerMarkStyle(),this.initPinMarkStyle()}initGroups(){}initPointerMarkStyle(){const e=this._pointerMark,t=this._spec.pointer;e&&(this.setMarkStyle(e,{x:n=>{var r,s;const{x:a}=this._getPointerAnchor(n,t);return a-this._getPointerWidth()*((s=(r=t==null?void 0:t.center)===null||r===void 0?void 0:r[0])!==null&&s!==void 0?s:0)},y:n=>{var r,s;const{y:a}=this._getPointerAnchor(n,t);return a-this._getPointerHeight(n)*((s=(r=t==null?void 0:t.center)===null||r===void 0?void 0:r[1])!==null&&s!==void 0?s:0)},anchor:n=>{const{x:r,y:s}=this._getPointerAnchor(n,t);return[r,s]},fill:this.getColorAttribute(),zIndex:200}),this._pointerType==="path"?this.setMarkStyle(e,{scaleX:this._getPointerWidth.bind(this),scaleY:this._getPointerHeight.bind(this),angle:n=>this._getPointerAngle(n)+Math.PI/2}):this.setMarkStyle(e,{width:this._getPointerWidth.bind(this),height:this._getPointerHeight.bind(this),angle:n=>this._getPointerAngle(n)-Math.PI/2}))}initTooltip(){super.initTooltip(),this._pointerMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._pointerMark)}_getPointerAnchor(e,t){var n;return(n=t.isOnCenter)===null||n===void 0||n?this.angleAxisHelper.center():this.radiusAxisHelper.coordToPoint({radius:this._innerRadius*this._computeLayoutRadius(),angle:this.angleAxisHelper.dataToPosition([e[this._angleField[0]]])})}_getPointerWidth(){return this._spec.pointer.width*this._computeLayoutRadius()}_getPointerHeight(e){var t,n;const r=this._spec.pointer,s=this._radiusField[0];return X(this.radiusAxisHelper)&&X(s)?this.radiusAxisHelper.dataToPosition([e[s]])-((t=r==null?void 0:r.innerPadding)!==null&&t!==void 0?t:0)-((n=r==null?void 0:r.outerPadding)!==null&&n!==void 0?n:10):r.height*this._computeLayoutRadius()}_getPointerAngle(e){return this.angleAxisHelper.dataToPosition([e[this._angleField[0]]])}_getRotatedPointerCenterOffset(e){var t,n,r,s;const a=this._spec.pointer,o=this._getPointerWidth()*((n=(t=a==null?void 0:a.center)===null||t===void 0?void 0:t[0])!==null&&n!==void 0?n:0),l=-this._getPointerHeight(e)*((s=(r=a==null?void 0:a.center)===null||r===void 0?void 0:r[1])!==null&&s!==void 0?s:0),u=this._getPointerAngle(e)-Math.PI/2,c=Math.cos(u),d=Math.sin(u);return{x:o*c+l*d,y:-(l*c-o*d)}}initPinBackgroundMarkStyle(){const e=this._pinBackgroundMark,t=this._spec.pinBackground;e&&this.setMarkStyle(e,{x:n=>this._getPointerAnchor(n,t).x,y:n=>this._getPointerAnchor(n,t).y,scaleX:()=>t.width*this._computeLayoutRadius(),scaleY:()=>t.height*this._computeLayoutRadius(),fill:this.getColorAttribute(),zIndex:100})}initPinMarkStyle(){const e=this._pinMark,t=this._spec.pin;e&&this.setMarkStyle(e,{x:n=>this._getPointerAnchor(n,t).x,y:n=>this._getPointerAnchor(n,t).y,scaleX:()=>t.width*this._computeLayoutRadius(),scaleY:()=>t.height*this._computeLayoutRadius(),fill:this.getColorAttribute(),zIndex:300})}initInteraction(){this._parseInteractionConfig(this._pointerMark?[this._pointerMark]:[])}initAnimation(){var e,t,n;const r=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;this._pointerMark.setAnimationConfig(Yi((n=ce.getAnimationInKey("gaugePointer"))===null||n===void 0?void 0:n({startAngle:this._startAngle},r),an("pointer",this._spec,this._markAttributeContext)))}getDefaultShapeType(){return"circle"}getActiveMarks(){return[]}}$g.type=xe.gaugePointer,$g.mark=sAe,$g.transformerConstructor=C2e;const A2t=()=>{ce.registerSeries($g.type,$g),bq(),bm(),E2t(),_P(),Xw()};class k2e extends pu{constructor(){super(...arguments),this._supportStack=!1}_transformLabelSpec(e){this._addMarkLabelSpec(e,"segment")}}class a0 extends qw{constructor(){super(...arguments),this.type=xe.gauge,this.transformerConstructor=k2e,this._segmentMark=null,this._trackMark=null,this._padAngle=0}setAttrFromSpec(){var e;super.setAttrFromSpec(),this._padAngle=Pn((e=this._spec.padAngle)!==null&&e!==void 0?e:0)}initData(){var e;super.initData(),pi(this._option.dataSet,"spiltSegment",(t,n)=>{const r=t.slice();return r.sort((s,a)=>s[this._angleField[0]]-a[this._angleField[0]]),r.forEach((s,a)=>{s[q7]=s[this._angleField[0]],s[Z3]=a>0?r[a-1][q7]:void 0}),r}),(e=this.getViewData())===null||e===void 0||e.transform({type:"spiltSegment"},!1)}initMark(){super.initMark(),this._trackMark=this._createMark(a0.mark.track,{parent:this._arcGroupMark,dataView:!1}),this._segmentMark=this._createMark(a0.mark.segment,{parent:this._arcGroupMark,isSeriesMark:!0})}initMarkStyle(){super.initMarkStyle(),this.initTrackMarkStyle(),this.initSegmentMarkStyle()}initSegmentMarkStyle(){var e;const t=this._segmentMark;t&&this.setMarkStyle(t,{x:()=>this.angleAxisHelper.center().x,y:()=>this.angleAxisHelper.center().y,startAngle:this._getAngleValueStart.bind(this),endAngle:this._getAngleValueEnd.bind(this),innerRadius:()=>{var n;return this._computeLayoutRadius()*((n=this._spec.innerRadius)!==null&&n!==void 0?n:0)},outerRadius:()=>{var n,r;return this._computeLayoutRadius()*((r=(n=this._spec.radius)!==null&&n!==void 0?n:this._spec.outerRadius)!==null&&r!==void 0?r:1)},cap:(e=this._spec.roundCap)!==null&&e!==void 0&&e,boundsMode:"imprecise",cornerRadius:this._spec.cornerRadius,fill:this.getColorAttribute(),zIndex:200,forceShowCap:!0})}initTooltip(){super.initTooltip(),this._segmentMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._segmentMark)}initTrackMarkStyle(){var e;const t=this._trackMark;t&&this.setMarkStyle(t,{x:()=>this.angleAxisHelper.center().x,y:()=>this.angleAxisHelper.center().y,startAngle:this._startAngle,endAngle:this._endAngle,innerRadius:()=>{var n;return this._computeLayoutRadius()*((n=this._spec.innerRadius)!==null&&n!==void 0?n:0)},outerRadius:()=>{var n,r;return this._computeLayoutRadius()*((r=(n=this._spec.radius)!==null&&n!==void 0?n:this._spec.outerRadius)!==null&&r!==void 0?r:1)},cap:(e=this._spec.roundCap)!==null&&e!==void 0&&e,boundsMode:"imprecise",cornerRadius:this._spec.cornerRadius,zIndex:100})}_getAngleValueStartWithoutMask(e){const t=this._getAngleValueStartWithoutPadAngle(e),n=this._getAngleValueEndWithoutPadAngle(e);return Math.min(t+this._padAngle/2,(t+n)/2)}_getAngleValueEndWithoutMask(e){const t=this._getAngleValueStartWithoutPadAngle(e),n=this._getAngleValueEndWithoutPadAngle(e);return Math.max(n-this._padAngle/2,(t+n)/2)}_getAngleValueStartWithoutPadAngle(e){return X(e[Z3])?this.angleAxisHelper.dataToPosition([e[Z3]]):this._startAngle}_getAngleValueEndWithoutPadAngle(e){return this.angleAxisHelper.dataToPosition([e[q7]])}initAnimation(){var e,t,n;const r=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset;this._segmentMark.setAnimationConfig(Yi((n=ce.getAnimationInKey("circularProgress"))===null||n===void 0?void 0:n({startAngle:this._startAngle},r),an("segment",this._spec,this._markAttributeContext)))}getDefaultShapeType(){return"circle"}getActiveMarks(){return[]}}a0.type=xe.gauge,a0.mark=rAe,a0.transformerConstructor=k2e;const T2t=()=>{ce.registerSeries(a0.type,a0),wb(),e2e(),Xw()};class h2 extends bTe{constructor(){super(...arguments),this.type=h2.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{padding:0})}}h2.type="cell";const P2t=()=>{ce.registerMark(h2.type,h2),ebt(),iSt()};function O2t(i){return i===!1?{}:{type:"fadeIn"}}const M2t=()=>{ce.registerAnimation("heatmap",(i,e)=>Object.assign(Object.assign({},D$),{appear:O2t(e)}))};class I2t extends hu{getDefaultTooltipPattern(e,t){const n=super.getDefaultTooltipPattern(e,t);return X(n)&&e==="dimension"&&(n.visible=!1),n}}class E2e extends pu{_transformLabelSpec(e){this._addMarkLabelSpec(e,"cell")}}class Ng extends sh{constructor(){super(...arguments),this.type=xe.heatmap,this.transformerConstructor=E2e}getFieldValue(){return this._fieldValue}setFieldValue(e){this._fieldValue=we(e)}setAttrFromSpec(){super.setAttrFromSpec(),this.setFieldValue(this._spec.valueField)}initMark(){var e,t,n,r;const s={progressiveStep:this._spec.progressiveStep,progressiveThreshold:this._spec.progressiveThreshold,large:this._spec.large,largeThreshold:this._spec.largeThreshold};this._cellMark=this._createMark(Ng.mark.cell,{morph:ym(this._spec,Ng.mark.cell.name),defaultMorphElementKey:this.getDimensionField()[0],isSeriesMark:!0,progressive:s,customShape:(e=this._spec.cell)===null||e===void 0?void 0:e.customShape,stateSort:(t=this._spec.cell)===null||t===void 0?void 0:t.stateSort}),this._backgroundMark=this._createMark(Ng.mark.cellBackground,{progressive:s,customShape:(n=this._spec.cellBackground)===null||n===void 0?void 0:n.customShape,stateSort:(r=this._spec.cellBackground)===null||r===void 0?void 0:r.stateSort})}initMarkStyle(){this.initCellMarkStyle(),this.initCellBackgroundMarkStyle()}initLabelMarkStyle(e){e&&this.setMarkStyle(e,{fill:this.getColorAttribute(),text:t=>t[this.getMeasureField()[0]]})}initCellMarkStyle(){this.setMarkStyle(this._cellMark,{x:e=>this.dataToPositionX(e),y:e=>this.dataToPositionY(e),size:()=>[this.getCellSize(this._xAxisHelper),this.getCellSize(this._yAxisHelper)],fill:this.getColorAttribute()},"normal",Ve.Series)}initCellBackgroundMarkStyle(){var e,t,n;const r=au((n=(t=(e=this._spec.cellBackground)===null||e===void 0?void 0:e.style)===null||t===void 0?void 0:t.padding)!==null&&n!==void 0?n:0);this.setMarkStyle(this._backgroundMark,{x:s=>{const a=this.getCellSize(this._xAxisHelper);return this.dataToPositionX(s)-a/2+r[3]},y:s=>{const a=this.getCellSize(this._yAxisHelper);return this.dataToPositionY(s)-a/2+r[0]},width:()=>this.getCellSize(this._xAxisHelper)-r[1]-r[3],height:()=>this.getCellSize(this._yAxisHelper)-r[0]-r[2]},"normal",Ve.Series)}getColorAttribute(){var e;return{scale:(e=this._option.globalScale.getScale("color"))!==null&&e!==void 0?e:this._getDefaultColorScale(),field:this.getFieldValue[0]}}initInteraction(){this._parseInteractionConfig(this._cellMark?[this._cellMark]:[])}initAnimation(){var e,t,n;const r=(t=(e=this._spec)===null||e===void 0?void 0:e.animationAppear)===null||t===void 0?void 0:t.preset,s=D0(this);this._cellMark.setAnimationConfig(Yi((n=ce.getAnimationInKey("heatmap"))===null||n===void 0?void 0:n(r),an("cell",this._spec,this._markAttributeContext),s))}getCellSize(e){var t,n;return(n=(t=e.getBandwidth)===null||t===void 0?void 0:t.call(e,0))!==null&&n!==void 0?n:6}initTooltip(){this._tooltipHelper=new I2t(this),this._cellMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._cellMark)}getDefaultShapeType(){return"square"}getDimensionField(){return[].concat(this.fieldX,this.fieldY)}getMeasureField(){return this.getFieldValue()}getActiveMarks(){return[this._cellMark]}}Ng.type=xe.heatmap,Ng.mark=cAe,Ng.transformerConstructor=E2e;const R2t=()=>{Ju(),P2t(),M2t(),Qu(),Zu(),ce.registerSeries(Ng.type,Ng)},D2t=(i,e)=>{var t,n,r,s,a,o,l,u,c,d,h,p,f,g,v;if(!i||!(e!=null&&e.view)||!ke(i))return i;const m=e.view();if(m.x1-m.x0==0||m.y1-m.y0==0||m.x1-m.x0==-1/0||m.x1-m.x0==1/0||m.y1-m.y0==-1/0||m.y1-m.y0==1/0)return i;const b=Pn((t=e.startAngle)!==null&&t!==void 0?t:-90),_=Pn((n=e.endAngle)!==null&&n!==void 0?n:270),S=Math.max((m.x1-m.x0)/2,(m.y1-m.y0)/2),C=Pc((r=e.innerRadius)!==null&&r!==void 0?r:0,S),k=Pc(e.outerRadius,S),E=[Xe((s=e.center)===null||s===void 0?void 0:s[0])?e.center[0]:m.x0+Pc((o=(a=e.center)===null||a===void 0?void 0:a[0])!==null&&o!==void 0?o:"50%",m.x1-m.x0),Xe((l=e.center)===null||l===void 0?void 0:l[1])?e.center[1]:m.y0+Pc((c=(u=e.center)===null||u===void 0?void 0:u[1])!==null&&c!==void 0?c:"50%",m.y1-m.y0)],A=lp(e.field),P=i.map(A),[O,M]=G5(P),D=O===M?j=>(C+k)/2:j=>C+(k-C)*(j-O)/(M-O),L=Y(e.radiusField)?A:lp(e.radiusField),H=(h=(d=e==null?void 0:e.radiusRange)===null||d===void 0?void 0:d[1])!==null&&h!==void 0?h:5;let B=j=>H;if(L){const[j,K]=L!==A?G5(i.map(L)):[O,M],ie=(f=(p=e.radiusRange)===null||p===void 0?void 0:p[0])!==null&&f!==void 0?f:5,ae=(v=(g=e.radiusRange)===null||g===void 0?void 0:g[1])!==null&&v!==void 0?v:5;j!==K&&(B=re=>ie+(ae-ie)*(L(re)-j)/(K-j))}const F=Math.min(b,_),z=Math.max(b,_),N=L2t(F,z,i.length),U=[],G=(z-F)/60;return i.forEach((j,K)=>{const ie=D(P[K]),ae=B(j);let re,J,ne=N[K];for(let te=0;te<60&&(re=E[0]+ie*Math.cos(ne),J=E[1]+ie*Math.sin(ne),F2t({x:re,y:J,size:ae},U)||re-ae<m.x0||re+ae>m.x1||J-ae<m.y0||J+ae>m.y1);te++)te<59&&(ne+=G,ne>z?ne=F:ne<F&&(ne=z));U.push(Object.assign({[BEe]:re,[$Ee]:J,[NEe]:ae},j))}),U},L2t=(i,e,t)=>{let n=0,r=Math.max(Math.ceil(2*(e-i)/Math.PI),2),s=(e-i)/r,a=0,o=1,l=0,u=0;const c=[];let d=i;for(;l<t;)u<r&&(c.push(d+(u%2?Math.floor(u/2)+Math.floor(r/2):u/2)*s*o),u++),l++,u===r&&(u=0,a+=1,o*=-1,n===0?n=s/2:n/=2,d=o===-1?e-n:i+n,a>=2&&(s/=2,r*=2));return c},F2t=(i,e)=>!(!e||!e.length)&&e.some(t=>Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)<Math.pow(i.size+t.size,2)),B2t=(i,e)=>{if(!i||!ke(i))return[];const{keyword:t,categoryField:n}=e,r=i[0].latestData[0];return{[n]:t,[Tl]:r==null?void 0:r[Tl],[$u]:r==null?void 0:r[$u]}};class p2 extends Xo{constructor(){super(...arguments),this.type=p2.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{x:0,y:0,ripple:0})}_initProduct(e){const t=this.getVGrammarView(),n=this.getProductId();this._product=t.glyph("ripplePoint",e??t.rootMark).id(n),this._compiledProductId=n}}p2.type="ripple";const A2e=()=>{ce.registerMark(p2.type,p2),ubt()},$2t=(i,e)=>e==="fadeIn"?{type:"fadeIn"}:{type:"scaleIn"},N2t=()=>{ce.registerAnimation("correlation",(i,e)=>Object.assign({appear:$2t(0,e)},hq))};class T2e extends pu{_transformLabelSpec(e){this._addMarkLabelSpec(e,"nodePoint"),this._addMarkLabelSpec(e,"centerPoint","centerLabel")}}class jg extends yP{constructor(){super(...arguments),this.type=xe.correlation,this.transformerConstructor=T2e,this._viewBox=new Da}getCategoryField(){return this._categoryField}setCategoryField(e){return this._categoryField=e,this._categoryField}getValueField(){return this._valueField}setValueField(e){return this._valueField=e,this._valueField}getSeriesField(){return this._seriesField}setSeriesField(e){X(e)&&(this._seriesField=e)}getSizeField(){return this._sizeField}setSizeField(e){X(e)&&(this._sizeField=e)}getSizeRange(){return this._sizeRange}setSizeRange(e){X(e)&&(this._sizeRange=e)}setAttrFromSpec(){super.setAttrFromSpec(),this.setCategoryField(this._spec.categoryField),this.setValueField(this._spec.valueField),this.setSeriesField(this._spec.seriesField),this.setSizeField(this._spec.sizeField),this.setSizeRange(this._spec.sizeRange)}initData(){var e,t,n;if(super.initData(),!this._data)return;pi(this._dataSet,"correlation",D2t);const r=new f0;Fg(r,"dataview",RB),pi(r,"correlationCenter",B2t);const s=new vn(r,{name:`${this.type}_${this.id}_center`});s.parse([this.getViewData()],{type:"dataview"}),s.transform({type:"correlationCenter",options:{keyword:(n=(t=(e=this._spec.centerLabel)===null||e===void 0?void 0:e.style)===null||t===void 0?void 0:t.text)!==null&&n!==void 0?n:"",categoryField:this._spec.categoryField}}),this._centerSeriesData=new kf(this._option,s)}_statisticViewData(){super._statisticViewData(),this._data.getDataView().transform({type:"correlation",options:{view:()=>({x0:this._viewBox.x1,x1:this._viewBox.x2,y0:this._viewBox.y1,y1:this._viewBox.y2}),field:this._spec.valueField,radiusRange:this._spec.sizeRange,radiusField:this._spec.sizeField,center:[this._spec.centerX,this._spec.centerY],innerRadius:this._spec.innerRadius,outerRadius:this._spec.outerRadius,startAngle:this._spec.startAngle,endAngle:this._spec.endAngle}})}initMark(){var e,t,n,r;const s=this._createMark(jg.mark.nodePoint,{groupKey:this._seriesField,isSeriesMark:!0,key:Tl,customShape:(e=this._spec.nodePoint)===null||e===void 0?void 0:e.customShape,stateSort:(t=this._spec.nodePoint)===null||t===void 0?void 0:t.stateSort});s&&(s.setZIndex(qn.Node),this._nodePointMark=s);const a=this._createMark(jg.mark.ripplePoint,{key:Tl,dataView:this._centerSeriesData.getDataView(),dataProductId:this._centerSeriesData.getProductId()});a&&(this._ripplePointMark=a);const o=this._createMark(jg.mark.centerPoint,{key:Tl,dataView:this._centerSeriesData.getDataView(),dataProductId:this._centerSeriesData.getProductId(),customShape:(n=this._spec.centerPoint)===null||n===void 0?void 0:n.customShape,stateSort:(r=this._spec.centerPoint)===null||r===void 0?void 0:r.stateSort});o&&(o.setZIndex(qn.Node),this._centerPointMark=o)}initMarkStyle(){this._initNodePointMarkStyle(),this._initRipplePointMarkStyle(),this._initCenterPointMarkStyle()}_initNodePointMarkStyle(){var e,t,n,r;const s=this._nodePointMark;if(!s)return;const a=(t=(e=this._spec.nodePoint)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{};this.setMarkStyle(s,{x:o=>o[BEe],y:o=>o[$Ee],size:o=>o[NEe],fill:(n=a.fill)!==null&&n!==void 0?n:this.getColorAttribute(),fillOpacity:(r=a.fillOpacity)!==null&&r!==void 0?r:1,lineWidth:0},mt.STATE_NORMAL,Ve.Series)}_initRipplePointMarkStyle(){var e,t,n,r,s;const a=this._ripplePointMark;if(!a)return;const o=(t=(e=this._spec.ripplePoint)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{};this.setMarkStyle(a,{x:()=>{var l;return(l=this._spec.centerX)!==null&&l!==void 0?l:(this._viewBox.x1+this._viewBox.x2)/2},y:()=>{var l;return(l=this._spec.centerY)!==null&&l!==void 0?l:(this._viewBox.y1+this._viewBox.y2)/2},size:()=>Math.max(this._viewBox.x2-this._viewBox.x1,this._viewBox.y2-this._viewBox.y1)/2,fill:(n=o.fill)!==null&&n!==void 0?n:this.getColorAttribute(),opacity:(r=o.fillOpacity)!==null&&r!==void 0?r:.2,ripple:(s=o.ripple)!==null&&s!==void 0?s:0},mt.STATE_NORMAL,Ve.Series)}_initCenterPointMarkStyle(){var e,t,n,r,s,a;const o=this._centerPointMark;o&&this.setMarkStyle(o,{x:()=>{var l;return(l=this._spec.centerX)!==null&&l!==void 0?l:(this._viewBox.x1+this._viewBox.x2)/2},y:()=>{var l;return(l=this._spec.centerY)!==null&&l!==void 0?l:(this._viewBox.y1+this._viewBox.y2)/2},size:()=>.2*Math.max(this._viewBox.x2-this._viewBox.x1,this._viewBox.y2-this._viewBox.y1)/2,fill:(n=(t=(e=this._spec.centerPoint)===null||e===void 0?void 0:e.style)===null||t===void 0?void 0:t.fill)!==null&&n!==void 0?n:this.getColorAttribute(),fillOpacity:(a=(s=(r=this._spec.centerPoint)===null||r===void 0?void 0:r.style)===null||s===void 0?void 0:s.fillOpacity)!==null&&a!==void 0?a:1},mt.STATE_NORMAL,Ve.Series)}initTooltip(){super.initTooltip(),this._nodePointMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._nodePointMark)}initLabelMarkStyle(e){e&&this.setMarkStyle(e,{fill:this.getColorAttribute(),text:t=>t[this._categoryField],z:this.dataToPositionZ.bind(this)},mt.STATE_NORMAL,Ve.Series)}initAnimation(){var e,t;const n=(e=this._spec.animationAppear)===null||e===void 0?void 0:e.preset;this._nodePointMark.setAnimationConfig(Yi((t=ce.getAnimationInKey("correlation"))===null||t===void 0?void 0:t({},n),an("nodePoint",this._spec,this._markAttributeContext)))}getGroupFields(){return[]}getStackGroupFields(){return[]}getStackValueField(){return""}getActiveMarks(){return[this._nodePointMark,this._centerPointMark]}getDimensionField(){return[this._categoryField]}getMeasureField(){return[this._valueField]}onLayoutEnd(e){super.onLayoutEnd(e),this._viewBox.set(0,0,this._region.getLayoutRect().width,this._region.getLayoutRect().height),this._rawData.reRunAllTransform(),this.getViewData().reRunAllTransform()}}jg.type=xe.correlation,jg.mark=dAe,jg.transformerConstructor=T2e;const j2t=()=>{_m(),A2e(),ce.registerSeries(jg.type,jg),N2t()};class P2e extends ah{_isValidSeries(e){return e===xe.map}_getDefaultSeriesSpec(e){return Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{type:e.type,nameField:e.nameField,valueField:e.valueField,seriesField:e.seriesField,map:e.map,nameProperty:e.nameProperty,centroidProperty:e.centroidProperty,nameMap:e.nameMap,area:e.area,defaultFillColor:e.defaultFillColor,showDefaultName:e.showDefaultName})}transformSpec(e){super.transformSpec(e),e.region.forEach(n=>{n.coordinate="geo"});const t=this._getDefaultSeriesSpec(e);e.series&&e.series.length!==0?e.series.forEach(n=>{this._isValidSeries(n.type)&&Object.keys(t).forEach(r=>{r in n||(n[r]=t[r])})}):e.series=[t]}}class nA extends Ur{constructor(){super(...arguments),this.transformerConstructor=P2e,this.type="map",this.seriesType=xe.map}}nA.type="map",nA.seriesType=xe.map,nA.transformerConstructor=P2e;const z2t=()=>{Vkt(),ce.registerChart(nA.type,nA)};class Oq extends ah{_isValidSeries(e){return!this.seriesType||e===this.seriesType}getIndicatorSpec(e){var t,n,r;const s=we(e.indicator),a=(t=e.innerRadius)!==null&&t!==void 0?t:(r=(n=e.series)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.innerRadius;return X(a)&&s.forEach(o=>{Y(o.limitRatio)&&(o.limitRatio=a)}),s}_getDefaultSeriesSpec(e){const t=Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{radius:e.radius,outerRadius:e.outerRadius,innerRadius:e.innerRadius,startAngle:e.startAngle,endAngle:e.endAngle,sortDataByAxis:e.sortDataByAxis}),n=this.seriesType;return n&&(t.type=n,t[n]=e[n]),t}transformSpec(e){super.transformSpec(e),ke(e.dataZoom)&&e.dataZoom.length>0&&e.dataZoom.forEach(t=>{t.filterMode==="axis"&&(t.filterMode="filter")}),this.transformSeriesSpec(e),X(e.indicator)&&(e.indicator=this.getIndicatorSpec(e))}}class O2e extends Oq{needAxes(){return!1}_getDefaultSeriesSpec(e){return Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{seriesField:e.seriesField,categoryField:e.categoryField||e.radiusField,valueField:e.valueField||e.angleField,startAngle:e.startAngle,endAngle:e.endAngle,radius:e.radius,innerRadius:e.innerRadius,centerX:e.centerX,centerY:e.centerY})}_transformProgressAxisSpec(e,t,n,r,s){var a,o;e.axes||(e.axes=[]);let l=((a=e.axes)!==null&&a!==void 0?a:[]).find(d=>d.orient==="radius"),u=((o=e.axes)!==null&&o!==void 0?o:[]).find(d=>d.orient==="angle");u||(u=t,e.axes.push(u)),l||(l=n,e.axes.push(l)),Y(u.type)&&(u.type="linear"),Y(l.type)&&(l.type="band");const c=YT(u,{min:0,max:1});Y(u.min)&&(u.min=c.min),Y(u.max)&&(u.max=c.max),r&&Object.assign(u,Rt({},r,u)),s&&Object.assign(l,Rt({},s,l))}}class M2e extends Oq{needAxes(){return!0}_getDefaultSeriesSpec(e){return Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{categoryField:e.categoryField||e.angleField,valueField:e.valueField||e.radiusField})}transformSpec(e){var t;if(super.transformSpec(e),this.needAxes()){e.axes||(e.axes=[]);const n={radius:!1,angle:!1};((t=e.axes)!==null&&t!==void 0?t:[]).forEach(r=>{const{orient:s}=r;s==="radius"&&(n.radius=!0),s==="angle"&&(n.angle=!0)}),n.angle||e.axes.push({orient:"angle"}),n.radius||e.axes.push({orient:"radius"})}}}class xP extends Oq{needAxes(){return!1}_getDefaultSeriesSpec(e){return Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{categoryField:e.categoryField||e.seriesField,valueField:e.valueField||e.angleField,center:e.center,centerOffset:e.centerOffset,cornerRadius:e.cornerRadius,padAngle:e.padAngle,minAngle:e.minAngle})}}class Mq extends Ur{constructor(){super(...arguments),this.transformerConstructor=xP}}Mq.transformerConstructor=xP;class rA extends Mq{constructor(){super(...arguments),this.transformerConstructor=xP,this.type="pie",this.seriesType=xe.pie}}rA.type="pie",rA.seriesType=xe.pie,rA.transformerConstructor=xP;const H2t=()=>{REt(),ce.registerChart(rA.type,rA)};class I2e extends xP{transformSpec(e){super.transformSpec(e),e.series.forEach(t=>{t.type==="pie3d"&&(t.angle3d=e.angle3d)})}}class sA extends Mq{constructor(){super(...arguments),this.transformerConstructor=I2e,this.type="pie3d",this.seriesType=xe.pie3d}}sA.type="pie3d",sA.seriesType=xe.pie3d,sA.transformerConstructor=I2e;const V2t=()=>{DEt(),ce.registerChart(sA.type,sA)};class R2e extends M2e{_getDefaultSeriesSpec(e){var t,n,r;return Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{radius:(t=e.radius)!==null&&t!==void 0?t:$T,outerRadius:(n=e.outerRadius)!==null&&n!==void 0?n:$T,innerRadius:(r=e.innerRadius)!==null&&r!==void 0?r:0,seriesField:e.seriesField,stack:e.stack,percent:e.percent})}transformSpec(e){var t;super.transformSpec(e),((t=e.axes)!==null&&t!==void 0?t:[]).forEach(n=>{["domainLine","grid","label","tick"].forEach(r=>{n[r]||(n[r]={visible:!1})}),n.orient==="angle"&&Y(n.bandPosition)&&(n.bandPosition=.5)}),e.crosshair=we(e.crosshair||{}).map(n=>Rt({categoryField:{visible:!0,line:{visible:!0,type:"rect"}}},n))}}class aA extends Ur{constructor(){super(...arguments),this.transformerConstructor=R2e,this.type="rose",this.seriesType=xe.rose,this._canStack=!0}}aA.type="rose",aA.seriesType=xe.rose,aA.transformerConstructor=R2e;const W2t=()=>{zEt(),ce.registerChart(aA.type,aA)};class D2e extends M2e{_getDefaultSeriesSpec(e){var t;return Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{seriesField:e.seriesField,line:e.line,point:e.point,stack:e.stack,percent:e.percent,area:Rt({visible:!1},e.area),seriesMark:(t=e.seriesMark)!==null&&t!==void 0?t:"area",activePoint:e.activePoint,pointDis:e.pointDis,pointDisMul:e.pointDisMul,markOverlap:e.markOverlap})}transformSpec(e){var t;super.transformSpec(e),((t=e.axes)!==null&&t!==void 0?t:[]).forEach(n=>{n.orient==="radius"&&(["domainLine","label","tick"].forEach(r=>{n[r]||(n[r]={visible:!1})}),n.grid||(n.grid={visible:!0}))}),e.crosshair=we(e.crosshair||{}).map(n=>Rt({categoryField:{visible:!0,line:{visible:!0,type:"line"}}},n))}}class oA extends Ur{constructor(){super(...arguments),this.transformerConstructor=D2e,this.type="radar",this.seriesType=xe.radar,this._canStack=!0}}oA.type="radar",oA.seriesType=xe.radar,oA.transformerConstructor=D2e;const U2t=()=>{YEt(),ce.registerChart(oA.type,oA)};class L2e extends ah{_getDefaultSeriesSpec(e){const t=super._getDefaultSeriesSpec(e);return delete t.data,t}_transformAxisSpec(e){e.axes&&e.autoBandSize&&e.series.forEach((t,n)=>{var r;if(t.type==="bar"){const s=this._findBandAxisBySeries(t,n,e.axes);if(s&&!s.bandSize&&!s.maxBandSize&&!s.minBandSize){const a=yi(t.autoBandSize)&&(r=t.autoBandSize.extend)!==null&&r!==void 0?r:0,{barMaxWidth:o,barMinWidth:l,barWidth:u,barGapInGroup:c}=t;this._applyAxisBandSize(s,a,{barMaxWidth:o,barMinWidth:l,barWidth:u,barGapInGroup:c})}}})}transformSpec(e){if(super.transformSpec(e),e.series&&e.series.length){const t=this._getDefaultSeriesSpec(e);e.series.forEach(n=>{this._isValidSeries(n.type)&&Object.keys(t).forEach(r=>{r in n||(n[r]=t[r])})})}e.axes&&e.axes.length&&e.axes.forEach(t=>{bi(t,"trimPadding")&&Rt(t,NAe(this.type,e))}),this._transformAxisSpec(e)}}class xF extends Ur{constructor(){super(...arguments),this.transformerConstructor=L2e,this.type="common",this._canStack=!0}}xF.type="common",xF.transformerConstructor=L2e;const G2t=()=>{ce.registerChart(xF.type,xF)},iU=12;class F2e extends ah{_getSeriesDataLength(e,t){var n,r;if(t.data){const a=we(t.data)[0];return a instanceof vn?(n=a.latestData)===null||n===void 0?void 0:n.length:(r=a.values)===null||r===void 0?void 0:r.length}const s=we(e.data).find((a,o)=>t.dataId?a instanceof vn?a.name===t.dataId:a.id===t.dataId:t.dataIndex===o);return s?s instanceof vn?s.latestData.length:s.values.length:0}addAttrToComponentSpec(e,t,n){return Array.isArray(e)?e[0][t]=n:e[t]=n,e}transformSpec(e){var t,n,r,s,a,o,l,u,c,d,h;super.transformSpec(e);let p=0;const f=[],g=[],v=[],m=[],b=[],_=e.series.filter(A=>A.type!==xe.link).length,S=(500-20*(_-1))/_,C=((t=e==null?void 0:e.appendPadding)===null||t===void 0?void 0:t.left)||0,k=((n=e==null?void 0:e.appendPadding)===null||n===void 0?void 0:n.right)||0;if(e!=null&&e.legends){f.push({modelId:`legendRow${p}`,col:1,row:p}),this.addAttrToComponentSpec(e.legends,"id",`legendRow${p}`);const A=we(e.legends);let P=(r=A[0].height)!==null&&r!==void 0?r:40;if(A[0].padding){const O=Qg(A[0].padding);P+=Number((s=O==null?void 0:O.bottom)!==null&&s!==void 0?s:0),P+=Number((a=O==null?void 0:O.top)!==null&&a!==void 0?a:0),A[0].offsetY=Number((l=(o=A[0])===null||o===void 0?void 0:o.offsetY)!==null&&l!==void 0?l:0)+Number((u=O==null?void 0:O.top)!==null&&u!==void 0?u:0)}b.push({index:p,size:P}),p++}e!=null&&e.dataZoom&&(f.push({modelId:`dataZoomRow${p}`,col:1,row:p}),this.addAttrToComponentSpec(e.dataZoom,"id",`dataZoomRow${p}`),p++,b.push({index:p,size:10}),p++),g.push({id:`regionAxesRow${p}`}),f.push({modelId:`axesRow${p}`,col:1,row:p}),e.axes[0].id=`axesRow${p}`,e.axes[0].regionIndex=Array.from(Array(e.series.length),(A,P)=>P+1),p++,(c=e==null?void 0:e.series)===null||c===void 0||c.forEach(A=>{var P,O;if([xe.bar,xe.line,xe.area,xe.dot].includes(A.type)){if(f.push({modelId:`${A.type}Row${p}`,col:1,row:p}),f.push({modelId:`axesLeftRow${p}`,col:0,row:p}),g.push({id:`${A.type}Row${p}`,clip:!1}),b.push({index:p,size:(A==null?void 0:A.height)||S}),v.push({orient:"left",id:`axesLeftRow${p}`,type:A.type===xe.dot?"band":"linear",visible:A.type!==xe.dot,title:{visible:!0,autoRotate:!1,style:{text:A==null?void 0:A.barTitle,dx:-20,textBaseline:"middle",textAlign:"end"}},grid:{visible:typeof((P=A==null?void 0:A.grid)===null||P===void 0?void 0:P.visible)!="boolean"||((O=A==null?void 0:A.grid)===null||O===void 0?void 0:O.visible),style:(M,D)=>{var L,H,B,F,z;let N=0;if(D===0){const U=(L=A==null?void 0:A.grid)===null||L===void 0?void 0:L.style;N=(B=(H=U==null?void 0:U.lineWidth)!==null&&H!==void 0?H:U==null?void 0:U.strokeWidth)!==null&&B!==void 0?B:1}return{lineWidth:N,stroke:((z=(F=A==null?void 0:A.grid)===null||F===void 0?void 0:F.style)===null||z===void 0?void 0:z.stroke)||"#dfdfdf",lineDash:[0,0]}}},domainLine:{visible:!1},tick:{visible:!1},label:{visible:!1},regionIndex:g.length-1}),A.type===xe.dot){f.push({modelId:`scrollBarRightRow${p}`,col:2,row:p});const M=this._getSeriesDataLength(e,A);let D=0;M&&(D=((A==null?void 0:A.height)||S)/(30*M)),m.push(Object.assign({orient:"right",visible:A.type===xe.dot&&D<1,id:`scrollBarRightRow${p}`,start:0,end:Math.min(D,1),filterMode:"axis",regionIndex:g.length-1,axisId:`axesLeftRow${p}`},we(e==null?void 0:e.scrollBar)[0]))}A.regionIndex=g.length-1,p++,b.push({index:p,size:(A==null?void 0:A.padding)||20}),p++,A.leftAppendPadding=C,A.type===xe.dot&&(A.title.style.dx=-C,A.subTitle.style.dx=-C)}}),(d=e==null?void 0:e.series)===null||d===void 0||d.forEach(A=>{if(A.type===xe.link){const P=A.dotSeriesIndex+1;f.push({modelId:`${A.type}Row${P}`,col:1,row:P-1}),A.regionIndex=e.series[A.dotSeriesIndex].regionIndex,A.leftAppendPadding=C,A.height=e.series[A.dotSeriesIndex].height,A.clipHeight=e.series[A.dotSeriesIndex].clipHeight}}),e!=null&&e.legends&&this.addAttrToComponentSpec(e.legends,"regionIndex",[g.length-1]);const E={type:"grid",col:4,row:p,colWidth:[{index:0,size:C},{index:2,size:iU},{index:3,size:k}],rowHeight:b,elements:f};e.layout=E,e.region=g,(h=e.axes)===null||h===void 0||h.push(...v),e.scrollBar=m}}var Y2t=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};class wF extends Ur{constructor(){super(...arguments),this.transformerConstructor=F2e,this.type="sequence"}_createSeries(e,t){if(!e)return;const{spec:n}=t,r=Y2t(t,["spec"]);let s;if(n.type===xe.link&&(n.dotSeriesSpec=this._spec.series[n.dotSeriesIndex]),n.regionId&&(s=this.getRegionsInUserId(n.regionId)),s||(s=this.getRegionsInIndex(n.regionIndex?[n.regionIndex]:void 0)[0]),!s)return;const a=new e(n,Object.assign(Object.assign(Object.assign({},this._modelOption),r),{region:s,specKey:"series",globalScale:this._globalScale}));a&&(a.created(),this._series.push(a),s.addSeries(a))}}wF.type="sequence",wF.transformerConstructor=F2e;const K2t=()=>{ZEt(),eAt(),Qu(),Zu(),ce.registerChart(wF.type,wF)};class Iq extends pp{transformSpec(e){super.transformSpec(e),e.axes.forEach(t=>t.type="linear")}_getDefaultSeriesSpec(e){return Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{x2Field:e==null?void 0:e.x2Field,y2Field:e==null?void 0:e.y2Field,barMinHeight:e==null?void 0:e.barMinHeight,barBackground:e==null?void 0:e.barBackground})}}class Rq extends Ur{constructor(){super(...arguments),this.transformerConstructor=Iq,this._canStack=!0}}Rq.transformerConstructor=Iq;class Z$ extends Iq{transformSpec(e){super.transformSpec(e),R0(e)}}class lA extends Rq{constructor(){super(...arguments),this.transformerConstructor=Z$,this.type="histogram",this.seriesType=xe.bar}}lA.type="histogram",lA.seriesType=xe.bar,lA.transformerConstructor=Z$;const X2t=()=>{TTe(),ce.registerChart(lA.type,lA)};class uA extends Rq{constructor(){super(...arguments),this.transformerConstructor=Z$,this.type="histogram3d",this.seriesType=xe.bar3d}}uA.type="histogram3d",uA.seriesType=xe.bar3d,uA.transformerConstructor=Z$;const q2t=()=>{PTe(),ce.registerChart(uA.type,uA)};class B2e extends O2e{_getDefaultSeriesSpec(e){var t,n;const r=super._getDefaultSeriesSpec(e);return Object.assign(Object.assign({},r),{cornerRadius:(t=e.cornerRadius)!==null&&t!==void 0?t:0,roundCap:(n=e.roundCap)!==null&&n!==void 0&&n,progress:e.progress,track:e.track,tickMask:e.tickMask})}transformSpec(e){super.transformSpec(e),this._transformProgressAxisSpec(e,{orient:"angle",visible:!1},{orient:"radius",visible:!1},{forceInitTick:e.tickMask&&e.tickMask.visible!==!1})}}class cA extends Ur{constructor(){super(...arguments),this.transformerConstructor=B2e,this.type="circularProgress",this.seriesType=xe.circularProgress,this._canStack=!0}}cA.type="circularProgress",cA.seriesType=xe.circularProgress,cA.transformerConstructor=B2e;const Z2t=()=>{rAt(),ce.registerChart(cA.type,cA)};class $2e extends O2e{_getDefaultSeriesSpec(e){const t=super._getDefaultSeriesSpec(e);return Object.assign(Object.assign({},t),{radiusField:e.radiusField,pin:e.pin,pinBackground:e.pinBackground,pointer:e.pointer})}_getDefaultCircularProgressSeriesSpec(e){return Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{type:xe.circularProgress})}transformSpec(e){var t,n,r,s,a;super.transformSpec(e);let o=(t=e.series)===null||t===void 0?void 0:t.find(l=>l.type===xe.gauge||l.type===xe.circularProgress);Y(o)&&(o=(n=e.gauge)!==null&&n!==void 0?n:this._getDefaultCircularProgressSeriesSpec(e),o.type==="circularProgress"&&(Y(o.radiusField)&&Y(o.categoryField)&&(o.radiusField=(s=(r=e.radiusField)!==null&&r!==void 0?r:e.categoryField)!==null&&s!==void 0?s:e.seriesField),Y(o.valueField)&&Y(o.angleField)&&(o.valueField=(a=e.valueField)!==null&&a!==void 0?a:e.angleField)),e.series.length===1?e.series.push(o):e.series.forEach(l=>{l.type===o.type&&Object.keys(o).forEach(u=>{u in l||(l[u]=o[u])})})),o.type===xe.circularProgress?this._transformProgressAxisSpec(e,{orient:"angle",visible:!0,domainLine:{visible:!1},grid:{visible:!1}},{orient:"radius",visible:!1},{zIndex:qn.Region+50}):this._transformGaugeAxisSpec(e)}_transformGaugeAxisSpec(e){var t;e.axes||(e.axes=[]);const n={radius:null,angle:null};((t=e.axes)!==null&&t!==void 0?t:[]).forEach(r=>{const{orient:s}=r;s==="radius"&&(n.radius=r),s==="angle"&&(n.angle=r)}),n.angle||(n.angle={orient:"angle",visible:!0},e.axes.push(n.angle)),n.radius||(n.radius={orient:"radius",visible:!1},e.axes.push(n.radius)),Y(n.angle.type)&&(n.angle.type="linear"),Y(n.radius.type)&&(n.radius.type="linear"),Y(n.angle.zIndex)&&(n.angle.zIndex=qn.Region+50)}}class dA extends Ur{constructor(){super(...arguments),this.transformerConstructor=$2e,this.type="gauge",this.seriesType=xe.gaugePointer}}dA.type="gauge",dA.seriesType=xe.gaugePointer,dA.transformerConstructor=$2e;const Q2t=()=>{A2t(),T2t(),ce.registerChart(dA.type,dA)};class Q$ extends ah{transformSpec(e){super.transformSpec(e),this.transformSeriesSpec(e)}}class Dq extends Ur{constructor(){super(...arguments),this.transformerConstructor=Q$,this.type="wordCloud",this.seriesType=xe.wordCloud}}Dq.transformerConstructor=Q$;class N2e extends Q${_getDefaultSeriesSpec(e){const t=Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{nameField:e.nameField,valueField:e.valueField,seriesField:e.seriesField,fontFamilyField:e.fontFamilyField,fontWeightField:e.fontWeightField,fontStyleField:e.fontStyleField,colorHexField:e.colorHexField,colorMode:e.colorMode,colorList:e.colorList,rotateAngles:e.rotateAngles,fontWeightRange:e.fontWeightRange,fontSizeRange:e.fontSizeRange,maskShape:e.maskShape,keepAspect:e.keepAspect,random:e.random,wordCloudConfig:e.wordCloudConfig,wordCloudShapeConfig:e.wordCloudShapeConfig,word:e.word,fillingWord:e.fillingWord}),n=this.seriesType;return n&&(t.type=n,t[n]=e[n]),t}}class __ extends Dq{constructor(){super(...arguments),this.transformerConstructor=N2e,this.type="wordCloud",this.seriesType=xe.wordCloud}}__.type="wordCloud",__.seriesType=xe.wordCloud,__.transformerConstructor=N2e;const J2t=()=>{p2e(),ce.registerChart(__.type,__)},ePt=()=>{pTt(),p2e(),ce.registerChart(__.type,__)};class j2e extends Q${_getDefaultSeriesSpec(e){const t=Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{nameField:e.nameField,valueField:e.valueField,seriesField:e.seriesField,fontFamilyField:e.fontFamilyField,fontWeightField:e.fontWeightField,fontStyleField:e.fontStyleField,colorHexField:e.colorHexField,colorMode:e.colorMode,colorList:e.colorList,rotateAngles:e.rotateAngles,fontWeightRange:e.fontWeightRange,fontSizeRange:e.fontSizeRange,depth_3d:e.depth_3d,maskShape:e.maskShape,keepAspect:e.keepAspect,random:e.random,wordCloudConfig:e.wordCloudConfig,wordCloudShapeConfig:e.wordCloudShapeConfig,word:e.word,fillingWord:e.fillingWord}),n=this.seriesType;return n&&(t.type=n,t[n]=e[n]),t}}class b_ extends Dq{constructor(){super(...arguments),this.transformerConstructor=j2e,this.type="wordCloud3d",this.seriesType=xe.wordCloud3d}}b_.type="wordCloud3d",b_.seriesType=xe.wordCloud3d,b_.transformerConstructor=j2e;const tPt=()=>{f2e(),ce.registerChart(b_.type,b_)},iPt=()=>{fTt(),f2e(),ce.registerChart(b_.type,b_)};class J$ extends ah{needAxes(){return!1}_getDefaultSeriesSpec(e){const t=Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{categoryField:e.categoryField,valueField:e.valueField,seriesField:e.seriesField,funnelAlign:e.funnelAlign,funnelOrient:e.funnelOrient,heightRatio:e.heightRatio,shape:e.shape,funnel:e.funnel,transform:e.transform,outerLabel:e.outerLabel,transformLabel:e.transformLabel,isTransform:e.isTransform,maxSize:e.maxSize,minSize:e.minSize,gap:e.gap,isCone:e.isCone,range:e.range}),n=this.seriesType;return n&&(t.type=n,t[n]=e[n]),t}transformSpec(e){super.transformSpec(e);const t=this._getDefaultSeriesSpec(e);e.series&&e.series.length!==0?e.series.forEach(n=>{this._isValidSeries(n.type)&&Object.keys(t).forEach(r=>{r in n||(n[r]=t[r])})}):e.series=[t]}}class hA extends Ur{constructor(){super(...arguments),this.transformerConstructor=J$,this.type="funnel",this.seriesType=xe.funnel}}hA.type="funnel",hA.seriesType=xe.funnel,hA.transformerConstructor=J$;const nPt=()=>{kTt(),ce.registerChart(hA.type,hA)};class pA extends Ur{constructor(){super(...arguments),this.transformerConstructor=J$,this.type="funnel3d",this.seriesType=xe.funnel3d}}pA.type="funnel3d",pA.seriesType=xe.funnel3d,pA.transformerConstructor=J$;const rPt=()=>{ETt(),ce.registerChart(pA.type,pA)};class z2e extends pp{needAxes(){return!1}_getDefaultSeriesSpec(e){var t,n;const r=super._getDefaultSeriesSpec(e);return Object.assign(Object.assign({},r),{direction:(t=e.direction)!==null&&t!==void 0?t:"horizontal",cornerRadius:(n=e.cornerRadius)!==null&&n!==void 0?n:0,bandWidth:e.bandWidth,progress:e.progress,track:e.track})}transformSpec(e){var t,n;if(super.transformSpec(e),e.axes||(e.axes=[]),e.direction==="vertical"){let r=null,s=null;((t=e.axes)!==null&&t!==void 0?t:[]).forEach(o=>{const{orient:l}=o;l==="left"&&(r=o),l==="bottom"&&(s=o)}),r||(r={orient:"left",visible:!1},e.axes.push(r)),s||(s={orient:"bottom",visible:!1},e.axes.push(s)),Y(s.type)&&(s.type="band"),Y(r.type)&&(r.type="linear");const a=YT(r,{min:0,max:1});Y(r.min)&&(r.min=a.min),Y(r.max)&&(r.max=a.max)}else{let r=null,s=null;((n=e.axes)!==null&&n!==void 0?n:[]).forEach(o=>{const{orient:l}=o;l==="left"&&(r=o),l==="bottom"&&(s=o)}),r||(r={type:"band",orient:"left",visible:!1},e.axes.push(r)),s||(s={orient:"bottom",visible:!1},e.axes.push(s)),Y(s.type)&&(s.type="linear"),Y(r.type)&&(r.type="band");const a=YT(s,{min:0,max:1});Y(s.min)&&(s.min=a.min),Y(s.max)&&(s.max=a.max)}}}class fA extends Ur{constructor(){super(...arguments),this.transformerConstructor=z2e,this.type="linearProgress",this.seriesType=xe.linearProgress,this._canStack=!0}}fA.type="linearProgress",fA.seriesType=xe.linearProgress,fA.transformerConstructor=z2e;const sPt=()=>{dAt(),ce.registerChart(fA.type,fA)};class H2e extends pp{_getDefaultSeriesSpec(e){var t,n;const r=Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{barWidth:e.barWidth,barMaxWidth:e.barMaxWidth,barMinWidth:e.barMinWidth,barGapInGroup:e.barGapInGroup,barBackground:e.barBackground,barMinHeight:e.barMinHeight,stackCornerRadius:e.stackCornerRadius});return r.bar=e.bar,e.direction==="horizontal"?r.xField=(t=e.xField)!==null&&t!==void 0?t:[e.minField,e.maxField]:r.yField=(n=e.yField)!==null&&n!==void 0?n:[e.minField,e.maxField],r}transformSpec(e){super.transformSpec(e),R0(e)}}class gA extends Ur{constructor(){super(...arguments),this.transformerConstructor=H2e,this.type="rangeColumn",this.seriesType=xe.rangeColumn}}gA.type="rangeColumn",gA.seriesType=xe.rangeColumn,gA.transformerConstructor=H2e;const aPt=()=>{wEt(),ce.registerChart(gA.type,gA)};class V2e extends pp{_getDefaultSeriesSpec(e){var t,n;const r=Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{barGapInGroup:e.barGapInGroup});return r.bar3d=e.bar3d,e.direction==="horizontal"?r.xField=(t=e.xField)!==null&&t!==void 0?t:[e.minField,e.maxField]:r.yField=(n=e.yField)!==null&&n!==void 0?n:[e.minField,e.maxField],r}}class mA extends Ur{constructor(){super(...arguments),this.transformerConstructor=V2e,this.type="rangeColumn3d",this.seriesType=xe.rangeColumn3d}}mA.type="rangeColumn3d",mA.seriesType=xe.rangeColumn3d,mA.transformerConstructor=V2e;const oPt=()=>{CEt(),ce.registerChart(mA.type,mA)};class W2e extends ah{_getDefaultSeriesSpec(e){const t=X(e.startAngle)?e.startAngle:HX,n=X(e.endAngle)?e.endAngle:t+jx(2*Math.PI),r=Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{categoryField:e.categoryField,valueField:e.valueField,seriesField:e.seriesField,centerX:e.centerX,centerY:e.centerY,offsetX:e.offsetX,offsetY:e.offsetY,startAngle:t,endAngle:n,innerRadius:e.innerRadius,outerRadius:e.outerRadius,gap:e.gap,labelLayout:e.labelLayout,label:e.label,labelAutoVisible:e.labelAutoVisible,drill:e.drill,drillField:e.drillField}),s=xe.sunburst;return r.type=s,r[s]=e[s],r}transformSpec(e){super.transformSpec(e),this.transformSeriesSpec(e)}}class vA extends Ur{constructor(){super(...arguments),this.transformerConstructor=W2e,this.type="sunburst",this.seriesType=xe.sunburst}}vA.type="sunburst",vA.seriesType=xe.sunburst,vA.transformerConstructor=W2e;const lPt=()=>{XTt(),ce.registerChart(vA.type,vA)};class U2e extends ah{_getDefaultSeriesSpec(e){const t=Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{categoryField:e.categoryField,valueField:e.valueField,seriesField:e.seriesField,layoutPadding:e.layoutPadding,label:e.label,circlePacking:e.circlePacking,drill:e.drill,drillField:e.drillField}),n=xe.circlePacking;return t.type=n,t[n]=e[n],t}transformSpec(e){super.transformSpec(e),this.transformSeriesSpec(e)}}class yA extends Ur{constructor(){super(...arguments),this.transformerConstructor=U2e,this.type="circlePacking",this.seriesType=xe.circlePacking}}yA.type="circlePacking",yA.seriesType=xe.circlePacking,yA.transformerConstructor=U2e;const uPt=()=>{e2t(),ce.registerChart(yA.type,yA)};class G2e extends ah{_getDefaultSeriesSpec(e){const t=Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{categoryField:e.categoryField,valueField:e.valueField,seriesField:e.seriesField,aspectRatio:e.aspectRatio,splitType:e.splitType,maxDepth:e.maxDepth,gapWidth:e.gapWidth,nodePadding:e.nodePadding,minVisibleArea:e.minVisibleArea,minChildrenVisibleArea:e.minChildrenVisibleArea,minChildrenVisibleSize:e.minChildrenVisibleSize,roam:e.roam,drill:e.drill,drillField:e.drillField,leaf:e.leaf,nonLeaf:e.nonLeaf,nonLeafLabel:e.nonLeafLabel}),n=this.seriesType;return n&&(t.type=n,t[n]=e[n]),t}transformSpec(e){super.transformSpec(e),this.transformSeriesSpec(e)}}class _A extends Ur{constructor(){super(...arguments),this.transformerConstructor=G2e,this.type="treemap",this.seriesType=xe.treemap}}_A.type="treemap",_A.seriesType=xe.treemap,_A.transformerConstructor=G2e;const cPt=()=>{x2t(),ce.registerChart(_A.type,_A)};class Y2e extends W${transformSpec(e){super.transformSpec(e),e.legends&&we(e.legends).forEach(t=>{t.select=!1,t.hover=!1,t.filter=!1}),R0(e)}_getDefaultSeriesSpec(e){return Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{bar:e.bar,stackLabel:e.stackLabel,leaderLine:e.leaderLine,total:e.total})}}class bA extends v_{constructor(){super(...arguments),this.transformerConstructor=Y2e,this.type="waterfall",this.seriesType=xe.waterfall}}bA.type="waterfall",bA.seriesType=xe.waterfall,bA.transformerConstructor=Y2e;const dPt=()=>{fEt(),ce.registerChart(bA.type,bA)};class K2e extends pp{_getDefaultSeriesSpec(e){var t;const n=[e.maxField,e.medianField,e.q1Field,e.q3Field,e.minField,e.outliersField],r=Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{boxPlot:e.boxPlot,direction:(t=e.direction)!==null&&t!==void 0?t:"vertical",minField:e.minField,maxField:e.maxField,q1Field:e.q1Field,medianField:e.medianField,q3Field:e.q3Field,outliersField:e.outliersField,outliersStyle:e.outliersStyle});return r[r.direction==="horizontal"?"xField":"yField"]=n,r}transformSpec(e){super.transformSpec(e),e.axes||(e.axes=[{orient:"bottom"},{orient:"left"}]),R0(e)}}class SA extends Ur{constructor(){super(...arguments),this.transformerConstructor=K2e,this.type="boxPlot",this.seriesType=xe.boxPlot}}SA.type="boxPlot",SA.seriesType=xe.boxPlot,SA.transformerConstructor=K2e;const hPt=()=>{yEt(),ce.registerChart(SA.type,SA)};class X2e extends ah{_getDefaultSeriesSpec(e){const t=Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{categoryField:e.categoryField,valueField:e.valueField,sourceField:e.sourceField,targetField:e.targetField,direction:e.direction,nodeAlign:e.nodeAlign,nodeGap:e.nodeGap,nodeWidth:e.nodeWidth,linkWidth:e.linkWidth,minStepWidth:e.minStepWidth,minNodeHeight:e.minNodeHeight,minLinkHeight:e.minLinkHeight,dropIsolatedNode:e.dropIsolatedNode,nodeHeight:e.nodeHeight,linkHeight:e.linkHeight,equalNodeHeight:e.equalNodeHeight,linkOverlap:e.linkOverlap,iterations:e.iterations,nodeKey:e.nodeKey,linkSortBy:e.linkSortBy,nodeSortBy:e.nodeSortBy,setNodeLayer:e.setNodeLayer,node:e.node,link:e.link,label:e.label,emphasis:e.emphasis}),n=this.seriesType;return n&&(t.type=n,t[n]=e[n]),t}transformSpec(e){super.transformSpec(e),this.transformSeriesSpec(e)}}class xA extends Ur{constructor(){super(...arguments),this.transformerConstructor=X2e,this.type="sankey",this.seriesType=xe.sankey}_setStateInDatum(e,t,n,r,s){const a=ke(n)?n[0]:n,o=a?Object.keys(a):null;this.getRegionsInQuerier(s).forEach(l=>{if(!a)return void l.interaction.clearEventElement(e,!0);let u=!1;l.getSeries().forEach(c=>{var d,h;let p=null;c.getMarksWithoutRoot().forEach(f=>{if(f.type==="text")return;let g=null;const v=f.getProduct();v&&((!r||Pe(r)&&r(c,f))&&(g=v.elements.find(m=>o.every(b=>{var _;let S=(_=m.getDatum())===null||_===void 0?void 0:_.datum;return ke(S)&&(S=S[0]),a[b]==(S==null?void 0:S[b])}))),g&&(u=!0,l.interaction.startInteraction(e,g),(v.id().includes("node")||v.id().includes("link"))&&(p=g)))}),p&&((h=(d=c)._handleEmphasisElement)===null||h===void 0||h.call(d,{item:p}))}),t&&u&&l.interaction.reverseEventElement(e)})}}xA.type="sankey",xA.seriesType=xe.sankey,xA.transformerConstructor=X2e;const pPt=()=>{v2t(),ce.registerChart(xA.type,xA)};class q2e extends pp{_getDefaultSeriesSpec(e){var t,n;const r=Object.assign({},super._getDefaultSeriesSpec(e));return r.area=e.area,e.direction==="horizontal"?r.xField=(t=e.xField)!==null&&t!==void 0?t:[e.minField,e.maxField]:r.yField=(n=e.yField)!==null&&n!==void 0?n:[e.minField,e.maxField],r.stack=!1,r}transformSpec(e){super.transformSpec(e),R0(e)}}class wA extends Ur{constructor(){super(...arguments),this.transformerConstructor=q2e,this.type="rangeArea",this.seriesType=xe.rangeArea}}wA.type="rangeArea",wA.seriesType=xe.rangeArea,wA.transformerConstructor=q2e;const fPt=()=>{EEt(),ce.registerChart(wA.type,wA)};class Z2e extends pp{_getDefaultSeriesSpec(e){const t=super._getDefaultSeriesSpec(e);return Object.assign(Object.assign({},t),{valueField:e.valueField,cell:e.cell})}}class CA extends Ur{constructor(){super(...arguments),this.transformerConstructor=Z2e,this.type="heatmap",this.seriesType=xe.heatmap}}CA.type="heatmap",CA.seriesType=xe.heatmap,CA.transformerConstructor=Z2e;const gPt=()=>{R2t(),ce.registerChart(CA.type,CA)};class Q2e extends ah{_getDefaultSeriesSpec(e){const t=Object.assign(Object.assign({},super._getDefaultSeriesSpec(e)),{categoryField:e.categoryField,valueField:e.valueField,seriesField:e.seriesField,sizeField:e.sizeField,sizeRange:e.sizeRange,centerX:e.centerX,centerY:e.centerY,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,ripplePoint:e.ripplePoint,centerPoint:e.centerPoint,centerLabel:e.centerLabel,nodePoint:e.nodePoint,label:e.label}),n=xe.correlation;return t.type=n,t[n]=e[n],t}transformSpec(e){super.transformSpec(e),this.transformSeriesSpec(e)}}class kA extends Ur{constructor(){super(...arguments),this.transformerConstructor=Q2e,this.type="correlation",this.seriesType=xe.correlation}}kA.type="correlation",kA.seriesType=xe.correlation,kA.transformerConstructor=Q2e;const mPt=()=>{j2t(),ce.registerChart(kA.type,kA)};function J2e(i){var e,t;const n=Object.assign({},i);return Mt(i.style)||(n.textStyle=Yt(i.style)),Mt(i.textStyle)||Rt(n.textStyle,Yt(i.textStyle)),!((e=i.shape)===null||e===void 0)&&e.style&&Yt(n.shape.style),!((t=i.background)===null||t===void 0)&&t.style&&Yt(n.background.style),n}var vPt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};function yPt(i,e){const{title:t={},item:n={},pager:r={},background:s={},type:a,id:o,visible:l,orient:u,position:c,data:d,filter:h,regionId:p,regionIndex:f,seriesIndex:g,seriesId:v,padding:m}=i,b=vPt(i,["title","item","pager","background","type","id","visible","orient","position","data","filter","regionId","regionIndex","seriesIndex","seriesId","padding"]);return t.visible&&(b.title=J2e(t)),Mt(n.focusIconStyle)||Yt(n.focusIconStyle),n.shape&&(n.shape=Gh(n.shape)),n.label&&(n.label=Gh(n.label)),n.value&&(n.value=Gh(n.value)),n.background&&(n.background=Gh(n.background)),Nu(n.maxWidth)&&(n.maxWidth=Number(n.maxWidth.substring(0,n.maxWidth.length-1))*e.width/100),Nu(n.width)&&(n.width=Number(n.width.substring(0,n.width.length-1))*e.width/100),Nu(n.height)&&(n.height=Number(n.height.substring(0,n.height.length-1))*e.width/100),b.item=n,r.type==="scrollbar"?(Mt(r.railStyle)||Yt(r.railStyle),Mt(r.sliderStyle)||Yt(r.sliderStyle)):(Mt(r.textStyle)||Yt(r.textStyle),r.handler&&Gh(r.handler)),b.pager=r,s.visible&&!Mt(s.style)&&(Rt(b,s.style),X(s.padding)&&(b.padding=s.padding)),b}const _Pt=(i,e)=>{const t=[],n={},{series:r,seriesField:s}=e;return r().forEach(a=>{const o=s(a);let l;l=o===a.getSeriesField()?a.getSeriesInfoList():a.getSeriesInfoInField(o),l.forEach(u=>{n[u.key]||(n[u.key]=!0,t.push(u))})}),t},bPt=(i,e)=>{var t,n,r;const{series:s,selected:a,field:o,data:l}=e,u=a(),c=l();if(u.length===0&&c.length)return[];if(u.length===c.length)return i;const d={};u.forEach(p=>{d[p]=!0});const h=(t=o())!==null&&t!==void 0?t:$u;return ke(i)&&(!((n=i[0])===null||n===void 0)&&n.nodes)?(i[0].nodes=i[0].nodes.filter(p=>d[p.key]===!0),!((r=i[0])===null||r===void 0)&&r.links&&(i[0].links=i[0].links.filter(p=>d[p.source]===!0&&d[p.target]===!0))):X(h)&&(i=i.filter(p=>d[s.getSeriesFieldValue(p,h)]===!0)),i};class Lq extends fu{constructor(){super(...arguments),this.layoutType="normal",this.layoutZIndex=qn.Legend,this.layoutLevel=up.Legend,this.specKey="legends",this._orient="left",this._visible=!0,this._position="middle",this._preSelectedData=[],this._selectedData=[],this.effect={onSelectedDataChange:()=>{hs(this._regions,e=>{var t;(t=e.getViewData())===null||t===void 0||t.markRunning()},{userId:this._seriesUserId,specIndex:this._seriesIndex}),hs(this._regions,e=>{e.reFilterViewData()},{userId:this._seriesUserId,specIndex:this._seriesIndex})}}}get orient(){return this._orient}get visible(){return this._visible}get position(){return this._position}getLegendData(){return this._legendData.getLatestData()}getSelectedData(){return this._selectedData}setAttrFromSpec(){var e;super.setAttrFromSpec(),this._orient=rq(this._spec.orient)?this._spec.orient:"left",this._position=(e=this._spec.position)!==null&&e!==void 0?e:"middle",this._visible=this._spec.visible!==!1;const{regionId:t,regionIndex:n,seriesId:r,seriesIndex:s}=this._spec;X(r)&&(this._seriesUserId=we(r)),X(t)&&(this._regionUserId=we(t)),X(s)&&(this._seriesIndex=we(s)),X(n)&&(this._regionUserIndex=we(n)),this._regions=this._option.getRegionsInUserIdOrIndex(this._regionUserId,this._regionUserIndex)}created(){super.created(),this.initData()}onRender(e){}_compareSpec(e,t){const n=super._compareSpec(e,t);return n.reRender=!0,(e==null?void 0:e.orient)!==(t==null?void 0:t.orient)?(n.reMake=!0,n):(Rr(t,e)||(n.reCompile=!0),n)}changeRegions(e){}_bindLegendDataChange(){this._preSelectedData=this._selectedData.slice(),this._initSelectedData()}initData(){const e=this._initLegendData();e.target.addListener("change",this._bindLegendDataChange.bind(this)),this._legendData=new Cf(this._option,e),this._initSelectedData(),hs(this._regions,t=>{t.event.on(Pt.rawDataUpdate,{filter:({model:n})=>(n==null?void 0:n.id)===t.id},()=>{this._legendData.getDataView().reRunAllTransform()})},{userId:this._seriesUserId,specIndex:this._seriesIndex})}setSelectedData(e){var t,n,r;const s=this._selectedData;Y(e)||JSON.stringify(s)===JSON.stringify(e)||(hs(this._regions,a=>{a.legendSelectedFilter&&(e=a.legendSelectedFilter(this,e))},{userId:this._seriesUserId,specIndex:this._seriesIndex}),this._selectedData=[...e],(n=(t=this.effect).onSelectedDataChange)===null||n===void 0||n.call(t),this.event.emit(Pt.legendSelectedDataChange,{model:this}),(r=this._legendComponent)===null||r===void 0||r.setSelected(this._selectedData))}afterSetLayoutStartPoint(e){if(super.afterSetLayoutStartPoint(e),this._legendComponent){const{x:t,y:n}=e;Ce(t*n)&&this._legendComponent.setAttributes({x:t,y:n})}}getBoundsInRect(e,t){if(!this._visible)return{x1:0,y1:0,x2:0,y2:0};const n={x1:this.getLayoutStartPoint().x,y1:this.getLayoutStartPoint().y,x2:0,y2:0},r=this._getLegendAttributes(e);if(r.disableTriggerEvent=this._option.disableTriggerEvent,this._legendComponent)Rr(r,this._cacheAttrs)||this._legendComponent.setAttributes(Rt({},r,{defaultSelected:this._selectedData}));else{const o=new(this._getLegendConstructor())(Rt({},r,{defaultSelected:this._selectedData}));o.name="legend",this._legendComponent=o,this.getContainer().add(o),this._option.disableTriggerEvent||this._initEvent(),o.on("*",(l,u)=>this._delegateEvent(this._legendComponent,l,u))}this._cacheAttrs=r;const s=isFinite(this._legendComponent.AABBBounds.width())?this._legendComponent.AABBBounds.width():0,a=isFinite(this._legendComponent.AABBBounds.height())?this._legendComponent.AABBBounds.height():0;if(this.layoutType!=="normal-inline"){const o=this.layoutOrient==="bottom"||this.layoutOrient==="top"?"horizontal":"vertical",l=this._position,{width:u,height:c}=t;let d=0,h=0;o==="horizontal"?l==="middle"?d=(u-s)/2:l==="end"&&(d=u-s):l==="middle"?h=(c-a)/2:l==="end"&&(h=c-a),this._legendComponent.setAttributes({dx:d,dy:h})}return n.x2=n.x1+s,n.y2=n.y1+a,n}onDataUpdate(){var e,t,n;if(JSON.stringify(this._preSelectedData)!==JSON.stringify(this._selectedData)){if(this._legendComponent){const r=this._getLegendAttributes(this.getLayoutRect());Rr(r,this._cacheAttrs)||this._legendComponent.setAttributes(Rt({},r,{defaultSelected:this._selectedData}))}(t=(e=this.effect).onSelectedDataChange)===null||t===void 0||t.call(e),(n=this.getChart())===null||n===void 0||n.setLayoutTag(!0,null,!1),this.event.emit(Pt.legendSelectedDataChange,{model:this})}}_getNeedClearVRenderComponents(){return[this._legendComponent]}clear(){super.clear(),this._cacheAttrs=null,this._preSelectedData=null}}Lq.specKey="legends";class CF extends Lq{constructor(){super(...arguments),this.type=De.discreteLegend,this.name=De.discreteLegend}static getSpecInfo(e){const t=e[this.specKey];if(!t)return;if(!ke(t))return t.type&&t.type!=="discrete"?void 0:[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:De.discreteLegend}];const n=[];return t.forEach((r,s)=>{r.type&&r.type!=="discrete"||n.push({spec:r,specPath:[this.specKey,s],specInfoPath:["component",this.specKey,s],type:De.discreteLegend})}),n}init(e){super.init(e),hs(this._regions,t=>{t.addViewDataFilter({type:"discreteLegendFilter",options:{series:t,selected:()=>this._selectedData,field:()=>this._getSeriesLegendField(t),data:()=>this.getLegendDefaultData()},level:cp.legendFilter})},{userId:this._seriesUserId,specIndex:this._seriesIndex})}_initLegendData(){pi(this._option.dataSet,"discreteLegendFilter",bPt),pi(this._option.dataSet,"discreteLegendDataMake",_Pt);const e=new vn(this._option.dataSet,{name:`${this.type}_${this.id}_data`});return e.transform({type:"discreteLegendDataMake",options:{series:()=>{const t=[];return hs(this._regions,n=>{t.push(n)},{specIndex:this._spec.seriesIndex,userId:this._spec.seriesId}),t},seriesField:t=>this._getSeriesLegendField(t)}}),e}_getSeriesLegendField(e){var t,n,r;const s=e.getSeriesField(),a=(t=this._spec.scaleName)!==null&&t!==void 0?t:this._spec.scale;if(Y(a)||!e.getRawData())return s;const o=this._option.globalScale.getScaleSpec(a);if(!o)return s;if(this._spec.field)return this._spec.field;if(!MS(o.domain))return s;const l=o.domain.find(u=>u.dataId===e.getRawData().name);return l&&(r=(n=l.fields)===null||n===void 0?void 0:n[0])!==null&&r!==void 0?r:s}_initSelectedData(){const e=this.getLegendDefaultData();if(this._unselectedData){const t=[],n=[];e.forEach(r=>{this._unselectedData.includes(r)?n.push(r):t.push(r)}),this._selectedData=t,this._unselectedData=n}else this._spec.defaultSelected?this._selectedData=[...this._spec.defaultSelected]:this._selectedData=e}getLegendDefaultData(e){return Pe(this._spec.data)?this._getLegendItems().map(t=>t.label):this._legendData.getLatestData().map(e?t=>t.originalKey:t=>t.key)}_addDefaultTitleText(e){var t,n,r,s;if(!((t=e.title)===null||t===void 0)&&t.visible&&Y(e.title.text)&&Y((n=e.title.style)===null||n===void 0?void 0:n.text)){const a=(s=(r=this._regions)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.getSeries()[0];if(!a)return;e.title.text=sF(a.getRawData(),a.getSeriesField())}}_getLegendAttributes(e){const t=this.layoutOrient==="bottom"||this.layoutOrient==="top"?"horizontal":"vertical",n=Object.assign(Object.assign({layout:t,items:this._getLegendItems(),zIndex:this.layoutZIndex},yPt(this._spec,e)),{maxWidth:e.width,maxHeight:e.height});return this._addDefaultTitleText(n),this._addLegendItemFormatMethods(n),n}_getLegendConstructor(){return zke}setSelectedData(e){e&&(this._unselectedData=this.getLegendDefaultData().filter(t=>!e.includes(t))),super.setSelectedData(e)}_initEvent(){if(this._legendComponent){const e=this._spec.filter!==!1;this._legendComponent.addEventListener(yl.legendItemClick,t=>{const n=bi(t,"detail.currentSelected");e&&this.setSelectedData(n),this.event.emit(Pt.legendItemClick,{model:this,value:n,event:t})}),this._legendComponent.addEventListener(yl.legendItemHover,t=>{const n=bi(t,"detail");this.event.emit(Pt.legendItemHover,{model:this,value:n,event:t})}),this._legendComponent.addEventListener(yl.legendItemUnHover,t=>{const n=bi(t,"detail");this.event.emit(Pt.legendItemUnHover,{model:this,value:n,event:t})})}}_getLegendItems(){const e=(this._legendData.getLatestData()||[]).map(t=>{var n,r;const s=t.style("fillOpacity"),a=t.style("strokeOpacity"),o=t.style("opacity"),l=t.style("texture");return{label:t.key,shape:{symbolType:(r=(n=t.style("symbolType"))!==null&&n!==void 0?n:t.shapeType)!==null&&r!==void 0?r:"circle",fillOpacity:Ce(s)?s:1,strokeOpacity:Ce(a)?a:1,opacity:Ce(o)?o:1,texturePadding:l?1:null,textureSize:l?4:null,texture:l,fill:t.style("fill"),stroke:t.style("stroke"),textureColor:t.style("textureColor"),innerBorder:t.style("innerBorder"),outerBorder:t.style("outerBorder"),lineDash:t.style("lineDash"),lineDashOffset:t.style("lineDashOffset"),lineWidth:t.style("lineWidth")}}});return Pe(this._spec.data)?this._spec.data(e,this._option.globalScale.getScale("color"),this._option.globalScale):e}_addLegendItemFormatMethods(e){var t,n,r,s;const{formatMethod:a,formatter:o}=(n=(t=this._spec.item)===null||t===void 0?void 0:t.label)!==null&&n!==void 0?n:{},{formatMethod:l,formatter:u}=(s=(r=this._spec.item)===null||r===void 0?void 0:r.value)!==null&&s!==void 0?s:{},{formatFunc:c}=em(a,o);o&&!a&&c&&(e.item.label.formatMethod=(h,p)=>c(h,p,o));const{formatFunc:d}=em(l,u);u&&!l&&d&&(e.item.value.formatMethod=(h,p)=>d(u,h,p,o))}}CF.specKey="legends",CF.type=De.discreteLegend;const SPt=()=>{ce.registerComponent(CF.type,CF)},xPt=(i,e)=>{const{series:t,field:n,scale:r}=e,s=n();if(n&&s){let a=1/0,o=-1/0;return t().forEach(l=>{const u=l.getRawDataStatisticsByField(s,!0),c=u==null?void 0:u.min,d=u==null?void 0:u.max;Ce(c)&&(a=Math.min(c,a)),Ce(d)&&(o=Math.max(d,o))}),[a,o]}if(r){const a=r();return a?a.domain():[]}return[]},wPt=(i,e)=>{const{selected:t,field:n,data:r,isHierarchyData:s}=e,a=t(),o=n(),l=s||(u=>u&&u.some(c=>c&&Vxt(c)));if(a===r())return i;if(o&&!Mt(a)){const[u,c]=a;return l(i)?PAe(i,+u,+c):i.filter(d=>d[o]>=u&&d[o]<=c)}return i};var CPt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};function kPt(i){const e=Rt({},i),{title:t={},handler:n={},rail:r={},track:s={},startText:a,endText:o,handlerText:l,sizeBackground:u,background:c={},type:d,id:h,visible:p,orient:f,position:g,data:v,defaultSelected:m,field:b,filter:_,regionId:S,regionIndex:C,seriesIndex:k,seriesId:E,padding:A}=e,P=CPt(e,["title","handler","rail","track","startText","endText","handlerText","sizeBackground","background","type","id","visible","orient","position","data","defaultSelected","field","filter","regionId","regionIndex","seriesIndex","seriesId","padding"]);return t.visible&&(P.title=J2e(t)),P.showHandler=n.visible!==!1,Mt(n.style)||(P.handlerStyle=Yt(n.style)),X(r.width)&&(P.railWidth=r.width),X(r.height)&&(P.railHeight=r.height),Mt(r.style)||(P.railStyle=Yt(r.style)),Mt(s.style)||(P.trackStyle=Yt(s.style)),P.startText=Gh(a),P.endText=Gh(o),P.handlerText=Gh(l),Mt(u)||(P.sizeBackground=Yt(u)),c.visible&&!Mt(c.style)&&(Rt(P,c.style),X(c.padding)&&(P.padding=c.padding)),P}function Khe(i){return i==="color"||i==="size"}const EPt={color:_$,size:b$},APt=["#C4E7FF","#98CAFF","#75ACFF","#518FF9","#2775DC","#005CBE","#00429F","#00287E"],TPt=[2,10];class kF extends Lq{static getSpecInfo(e){const t=e[this.specKey];if(!t)return;if(!ke(t))return Khe(t.type)?[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:t.type==="color"?De.colorLegend:De.sizeLegend}]:void 0;const n=[];return t.forEach((r,s)=>{Khe(r.type)&&n.push({spec:r,specPath:[this.specKey,s],specInfoPath:["component",this.specKey,s],type:r.type==="color"?De.colorLegend:De.sizeLegend})}),n}constructor(e,t){super(e,t),this.type=De.colorLegend,this.name=De.colorLegend;const n=this._spec.type==="color"?De.colorLegend:De.sizeLegend;this.type=n,this.name=n}setAttrFromSpec(){super.setAttrFromSpec(),this._field=this._spec.field,this._legendType=this._spec.type}init(e){super.init(e),hs(this._regions,t=>{t.addViewDataFilter({type:"continuousLegendFilter",options:{selected:()=>this._selectedData,field:()=>this._field,data:()=>this._legendData.getLatestData(),isHierarchyData:t.isHierarchyData},level:cp.legendFilter})},{userId:this._seriesUserId,specIndex:this._seriesIndex})}_getScaleInGlobal(){const e=this._option.globalScale;let t=this._spec.scale;return t||(t=this._legendType),e.getScale(t)}_initLegendData(){pi(this._option.dataSet,"continuousLegendFilter",wPt),pi(this._option.dataSet,"continuousLegendDataMake",xPt);const e=new vn(this._option.dataSet,{name:`${this.type}_${this.id}_data`});return e.transform({type:"continuousLegendDataMake",options:{series:()=>eEe(this._regions,{userId:this._seriesUserId,specIndex:this._seriesIndex}),field:()=>this._field,scale:this._getScaleInGlobal.bind(this)}}),e}_initSelectedData(){this._spec.defaultSelected?this._selectedData=this._spec.defaultSelected.slice():this._selectedData=this._legendData.getLatestData()}_addDefaultTitleText(e){var t,n,r,s;if(!((t=e.title)===null||t===void 0)&&t.visible&&Y(e.title.text)&&Y((n=e.title.style)===null||n===void 0?void 0:n.text)){const a=this._field;if(a){const c=(s=(r=this._regions)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.getSeries()[0];return c?void(e.title.text=sF(c.getRawData(),a)):void 0}let o=this._spec.scale;o||(o=this._legendType);const l=this._option.globalScale.getScaleSpec(o);if(!MS(l==null?void 0:l.domain))return;const u=l.domain[0];if(u.fields.length===0)return;e.title.text=sF(this._option.dataSet.getDataView(u.dataId),u.fields[0])}}_getLegendAttributes(e){var t,n;const r=this.layoutOrient==="bottom"||this.layoutOrient==="top"?"horizontal":"vertical",s=r==="horizontal"?"bottom":this.layoutOrient;let a=[];const o=this._getScaleInGlobal();o&&o.type==="linear"&&(a=o.range()),Mt(a)&&(a=this._legendType==="color"?APt:TPt);let l=(t=this._legendData.getLatestData()[0])!==null&&t!==void 0?t:0,u=(n=this._legendData.getLatestData()[1])!==null&&n!==void 0?n:1;this._legendData.getLatestData()[0]===this._legendData.getLatestData()[1]&&(l=Math.min(0,this._legendData.getLatestData()[0]),u=this._legendData.getLatestData()[0]===0?1:Math.max(0,this._legendData.getLatestData()[0]));const c=Object.assign({layout:r,align:s,zIndex:this.layoutZIndex,min:l,max:u,value:this._spec.defaultSelected,[this._legendType==="color"?"colors":"sizeRange"]:a},kPt(this._spec));return this._addDefaultTitleText(c),c}_getLegendConstructor(){return EPt[this._legendType]}_initEvent(){if(this._legendComponent){const e=this._spec.filter!==!1;this._legendComponent.addEventListener("change",Pf(t=>{const n=bi(t,"detail.value");e&&this.setSelectedData(n),this.event.emit(Pt.legendFilter,{model:this,value:n,event:t})},30))}}}kF.specKey="legends",kF.type=De.continuousLegend;const PPt=()=>{ce.registerComponent(kF.type,kF)};class Fq{constructor(e){this._showTooltipByHandler=(t,n)=>{var r,s,a;if(Y(t))return 1;n.changePositionOnly||this.clearCache(),this._updateViewSpec(n);const o=this._cacheViewSpec;if(Y(o==null?void 0:o[this.activeType])||o.visible===!1)return 1;n.tooltipSpec=o,this._updateActualTooltip(t,n),n.tooltipActual=this._cacheActualTooltip;const{title:l,content:u}=this._cacheActualTooltip,c=Y(l==null?void 0:l.key)&&Y(l==null?void 0:l.value)&&!(u!=null&&u.length);if(this.component.event.emit(Pt.tooltipShow,Object.assign(Object.assign({},n),{isEmptyTooltip:Y(l==null?void 0:l.key)&&Y(l==null?void 0:l.value)&&!(u!=null&&u.length),tooltipData:t,activeType:this.activeType,tooltip:this.component})),c)return 1;let d;return!((r=o.handler)===null||r===void 0)&&r.showTooltip?d=o.handler.showTooltip.bind(o.handler):!((s=this.component.tooltipHandler)===null||s===void 0)&&s.showTooltip&&(d=this.component.tooltipHandler.showTooltip.bind(this.component.tooltipHandler)),d?(a=d(this.activeType,t,n))!==null&&a!==void 0?a:0:1},this.component=e}_preprocessDimensionInfo(e){const t=[];if(e==null||e.forEach(n=>{const r=Object.assign(Object.assign({},n),{data:n.data.filter(({series:s})=>{var a,o;return((o=(a=s.getSpec())===null||a===void 0?void 0:a.tooltip)===null||o===void 0?void 0:o.visible)!==!1})});r.data.length>0&&t.push(r)}),t.length>0)return t}_getDimensionInfo(e){var t,n;let r;const s=this.component.getChart(),a=s.getCompiler().getStage().getLayer(void 0),o={x:e.event.viewX,y:e.event.viewY};if(a.globalTransMatrix.transformPoint({x:e.event.viewX,y:e.event.viewY},o),r=[...(t=LAe(s,o,!0))!==null&&t!==void 0?t:[],...(n=MAe(s,o))!==null&&n!==void 0?n:[]],r.length===0)r=void 0;else if(r.length>1){const l=r.filter(u=>{var c;const d=u.axis;if(d.getSpec().hasDimensionTooltip)return!0;if(!io(d.getScale().type))return!1;let h;for(const p of(c=d==null?void 0:d.getRegions())!==null&&c!==void 0?c:[]){for(const f of p.getSeries())if(f.coordinate==="cartesian"){h=f;break}if(X(h))break}return X(h)&&h.getDimensionField()[0]===h.fieldY[0]?d.getOrient()==="left"||d.getOrient()==="right":d.getOrient()==="bottom"||d.getOrient()==="top"});if(r=l.length?l:r.slice(0,1),r.length>1){const u=new Set;r.forEach(c=>{c.data=c.data.filter(({key:d})=>!u.has(d)&&(u.add(d),!0))})}}return r}_updateViewSpec(e){const{changePositionOnly:t,model:n,dimensionInfo:r}=e;t&&this._cacheViewSpec||(this._cacheViewSpec=uCt(this.activeType,this.component.getSpec(),n,r))}_updateActualTooltip(e,t){var n,r,s,a;const o=this._cacheViewSpec[this.activeType],{changePositionOnly:l}=t;if(!l||!this._cacheActualTooltip){const u=vCt(o,e,t),c=!!X(u)&&cF(o.visible,e,t)!==!1;this._cacheActualTooltip=Object.assign(Object.assign({},u),{visible:c,activeType:o.activeType,data:e});const{title:d,content:h}=this._cacheActualTooltip;this._cacheActualTooltip.title=(r=(n=o.updateTitle)===null||n===void 0?void 0:n.call(o,d,e,t))!==null&&r!==void 0?r:d,this._cacheActualTooltip.content=(a=(s=o.updateContent)===null||s===void 0?void 0:s.call(o,h,e,t))!==null&&a!==void 0?a:h}}clearCache(){this._cacheViewSpec=void 0,this._cacheActualTooltip=void 0}}class OPt extends Fq{constructor(){super(...arguments),this.activeType="dimension"}showTooltip(e,t,n){const r=Object.assign(Object.assign({},t),{dimensionInfo:this._preprocessDimensionInfo(e),changePositionOnly:n,tooltip:this.component});return this._showTooltipByHandler(e,r)}shouldHandleTooltip(e,t){var n,r;const{tooltipInfo:s}=t;if(Y(s))return!1;const a=(n=e.model)===null||n===void 0?void 0:n.tooltipHelper;return!!((r=a==null?void 0:a.activeType)!==null&&r!==void 0?r:this.component.getSpec().activeType).includes("dimension")}getMouseEventData(e){var t;return{tooltipInfo:this._getDimensionInfo(e),ignore:[...(t=this.component.getOption().getAllSeries())!==null&&t!==void 0?t:[]].some(n=>{var r;const s=(r=n.tooltipHelper)===null||r===void 0?void 0:r.ignoreTriggerSet.dimension;return e.model&&(s==null?void 0:s.has(e.model))||e.mark&&(s==null?void 0:s.has(e.mark))})}}}class MPt extends Fq{constructor(){super(...arguments),this.activeType="mark"}showTooltip(e,t,n){const{datum:r,series:s,dimensionInfo:a}=e,o=[{datum:[r],series:s}],l=Object.assign(Object.assign({},t),{dimensionInfo:this._preprocessDimensionInfo(a),changePositionOnly:n,tooltip:this.component});return this._showTooltipByHandler(o,l)}shouldHandleTooltip(e,t){var n;const{tooltipInfo:r}=t;if(Y(r))return!1;const s=(n=e.model)===null||n===void 0?void 0:n.tooltipHelper;return!!(s!=null&&s.activeType.includes("mark"))}getMouseEventData(e,t){var n;let r,s;if(((n=e.model)===null||n===void 0?void 0:n.modelType)==="series"){const a=e.model,o=a.tooltipHelper,l=o==null?void 0:o.activeTriggerSet.mark,u=o==null?void 0:o.ignoreTriggerSet.mark;l!=null&&l.has(e.model)||l!=null&&l.has(e.mark)?r={mark:e.mark,datum:e.datum,series:a,dimensionInfo:t}:(u!=null&&u.has(e.model)||u!=null&&u.has(e.mark))&&(s=!0)}return{tooltipInfo:r,ignore:s}}}class IPt extends Fq{constructor(){super(...arguments),this.activeType="group"}showTooltip(e,t,n){const{datum:r,series:s,dimensionInfo:a}=e,o=[{datum:we(r),series:s}],l=Object.assign(Object.assign({},t),{groupDatum:this._getGroupDatum(t),dimensionInfo:this._preprocessDimensionInfo(a),changePositionOnly:n,tooltip:this.component});return this._showTooltipByHandler(o,l)}shouldHandleTooltip(e,t){var n;const{tooltipInfo:r}=t;if(Y(r))return!1;const s=(n=e.model)===null||n===void 0?void 0:n.tooltipHelper;return!!(s!=null&&s.activeType.includes("group"))}getMouseEventData(e,t){var n,r;let s,a;if(((n=e.model)===null||n===void 0?void 0:n.modelType)==="series"){const o=e.model,l=o.tooltipHelper,u=l==null?void 0:l.activeTriggerSet.group,c=l==null?void 0:l.ignoreTriggerSet.group;if(u!=null&&u.has(e.model)||u!=null&&u.has(e.mark)){const d=this.component.getSpec()[this.activeType];(d!=null&&d.triggerMark?we(d.triggerMark):[]).includes((r=e.mark)===null||r===void 0?void 0:r.name)&&(s={mark:e.mark,datum:e.datum,series:o,dimensionInfo:t})}else(c!=null&&c.has(e.model)||c!=null&&c.has(e.mark))&&(a=!0)}return{tooltipInfo:s,ignore:a}}_getGroupDatum(e){const{model:t,mark:n,datum:r}=e,s=t;if(["line","area"].includes(n.type))return we(r);const a=s.getViewData().latestData,o=s.getSeriesField();if(!o)return a;const l=we(r)[0][o];return a.filter(u=>u[o]===l)}}const Xhe=i=>X(i)&&!ke(i),p8=i=>X(i)&&ke(i);class ePe extends mP{_shouldMergeThemeToSpec(){return!1}_initTheme(e,t){const{spec:n,theme:r}=super._initTheme(e,t);return n.style=Rt({},this._theme,n.style),{spec:n,theme:r}}_transformSpecAfterMergingTheme(e,t,n){var r,s,a,o,l,u,c,d,h;super._transformSpecAfterMergingTheme(e,t,n),e.visible=(r=e.visible)===null||r===void 0||r,e.activeType=Tv(e),e.renderMode=(s=e.renderMode)!==null&&s!==void 0?s:O0(this._option.mode)||!Dc(this._option.mode)?"canvas":"html",e.trigger=(a=e.trigger)!==null&&a!==void 0?a:"hover",e.className=(o=e.className)!==null&&o!==void 0?o:gCt,e.enterable=(l=e.enterable)!==null&&l!==void 0&&l,e.transitionDuration=(u=e.transitionDuration)!==null&&u!==void 0?u:150,e.triggerOff=(c=e.triggerOff)!==null&&c!==void 0?c:e.trigger,e.confine=(d=e.confine)!==null&&d!==void 0?d:e.renderMode==="canvas",X(e.mark)&&(e.mark.activeType="mark"),X(e.dimension)&&(e.dimension.activeType="dimension"),X(e.parentElement)?ct(e.parentElement)&&(e.parentElement=(h=globalThis==null?void 0:globalThis.document)===null||h===void 0?void 0:h.getElementById(e.parentElement)):Dc(this._option.mode)&&(e.parentElement=xv==null?void 0:xv.body)}}let EA=class extends fu{constructor(){super(...arguments),this.layoutZIndex=1,this.type=De.tooltip,this.name=De.tooltip,this.transformerConstructor=ePe,this.specKey="tooltip",this.layoutType="none",this._alwaysShow=!1,this._eventList=[],this._isTooltipShown=!1,this._clickLock=!1,this._mountEvent=(e,t,n)=>{this.event.on(e,t,n),this._eventList.push({eventType:e,handler:n})},this._getMouseOutHandler=e=>t=>{var n,r,s;if(this._alwaysShow||!this._isTooltipShown&&!(!((r=(n=this.tooltipHandler)===null||n===void 0?void 0:n.isTooltipShown)===null||r===void 0)&&r.call(n)))return;const a=Dc((s=this._option)===null||s===void 0?void 0:s.mode),{clientX:o,clientY:l}=t.event;a&&this._isPointerOnTooltip(t)||a&&e&&this._isPointerInChart({x:o,y:l})||this._handleChartMouseOut(t)},this._handleChartMouseOut=e=>{this._alwaysShow||this._spec.triggerOff!=="none"&&(this._hideTooltipByHandler(Object.assign(Object.assign({},e),{tooltip:this})),this._cacheInfo=void 0,this._cacheParams=void 0,this._cacheActiveType=void 0)},this._getMouseMoveHandler=e=>t=>{if(this.tooltipHandler||this._initHandler(),this.processor||this._initProcessor(),this._alwaysShow||this._isPointerOnTooltip(t)||!e&&this._clickLock)return;const n=this._getMouseEventData(t),{tooltipInfo:{dimension:r},ignore:{mark:s,dimension:a}}=n,o={mark:!1,dimension:!1,group:!1};o.group=this._showTooltipByMouseEvent("group",n,t,e),o.group||(o.mark=this._showTooltipByMouseEvent("mark",n,t,e)),o.mark||o.group||(o.dimension=this._showTooltipByMouseEvent("dimension",n,t,e)),Object.values(o).every(l=>!l)&&!oCt(t)&&(s&&Xhe(this._cacheInfo)?o.mark=this._showTooltipByMouseEvent("mark",n,t,e,!0):a&&p8(this._cacheInfo)?o.dimension=this._showTooltipByMouseEvent("dimension",n,t,e,!0):X(r)&&(o.dimension=this._showTooltipByMouseEvent("dimension",n,t,e))),o.mark||o.group||o.dimension&&!Y(r)||(this._handleChartMouseOut(t),e&&this._clickLock&&(this._clickLock=!1))},this._showTooltipByMouseEvent=(e,t,n,r,s)=>{var a;const o=this.processor[e];if(!o.shouldHandleTooltip(n,{tooltipInfo:t.tooltipInfo[e],ignore:t.ignore[e]}))return!1;let l;if(s)l=!o.showTooltip(this._cacheInfo,n,!0);else{const c=t.tooltipInfo[e],d=this._isSameAsCache(c,n,e);l=!o.showTooltip(c,n,d),l&&(this._cacheInfo=c,this._cacheParams=n,this._cacheActiveType=e)}l&&(this._isTooltipShown=!0,r&&this._spec.lockAfterClick&&!this._clickLock&&(this._clickLock=!0));const u=(a=this._option)===null||a===void 0?void 0:a.globalInstance;return l&&jo.globalConfig.uniqueTooltip&&u&&jo.hideTooltip(u.id),l},this._getMouseEventData=e=>{const t={tooltipInfo:{},ignore:{}};let n="dimension";const{tooltipInfo:r,ignore:s}=this.processor[n].getMouseEventData(e);t.tooltipInfo[n]=r,t.ignore[n]=s;const a=r;for(n of Object.keys(this.processor))if(n!=="dimension"){const{tooltipInfo:o,ignore:l}=this.processor[n].getMouseEventData(e,a);t.tooltipInfo[n]=o,t.ignore[n]=l}return t},this._hideTooltipByHandler=e=>{var t,n,r,s;if(!this._isTooltipShown&&!(!((n=(t=this.tooltipHandler)===null||t===void 0?void 0:t.isTooltipShown)===null||n===void 0)&&n.call(t)))return 0;let a;if(this.event.emit(Pt.tooltipHide,Object.assign(Object.assign({},e),{source:cn.chart,tooltip:this})),Object.values(this.processor).forEach(o=>{o.clearCache()}),!((r=this._spec.handler)===null||r===void 0)&&r.hideTooltip?a=this._spec.handler.hideTooltip.bind(this._spec.handler):!((s=this.tooltipHandler)===null||s===void 0)&&s.hideTooltip&&(a=this.tooltipHandler.hideTooltip.bind(this.tooltipHandler)),a){const o=a(e);return o||(this._isTooltipShown=!1),o}return 1}}static getSpecInfo(e){const t=e[this.specKey];if(!t)return null;if(!ke(t))return[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:De.tooltip}];const n=[];return t.forEach((r,s)=>{n.push({spec:r,specPath:[this.specKey,s],specInfoPath:["component",this.specKey,s],type:De.tooltip})}),n}isTooltipShown(){return this._isTooltipShown}changeRegions(e){}_getNeedClearVRenderComponents(){return[]}_registerEvent(){}_releaseEvent(){}onLayout(e){}onLayoutEnd(e){}onRender(e){}created(){super.created(),this._regions=this._option.getAllRegions(),this._initEvent()}release(){var e,t;super.release(),this._eventList.forEach(({eventType:n,handler:r})=>{this.event.off(n,r)}),this._eventList=[],(t=(e=this.tooltipHandler)===null||e===void 0?void 0:e.release)===null||t===void 0||t.call(e),this._isTooltipShown=!1}beforeRelease(){this.event.emit(Pt.tooltipHide,{tooltip:this,chart:this.getChart()}),this.event.emit(Pt.tooltipRelease,{tooltip:this,chart:this.getChart()})}_initHandler(){var e,t,n;const r=(e=this._spec.renderMode)!==null&&e!==void 0?e:"html",s=this._option.globalInstance.getTooltipHandlerByUser();if(s)this.tooltipHandler=s;else{const a=r==="canvas"?b0.canvas:b0.dom,o=ce.getComponentPluginInType(a);o||H_("Can not find tooltip handler: "+a);const l=new o;l.name=`${this._spec.className}-${(t=this._option.globalInstance.id)!==null&&t!==void 0?t:0}-${this.getSpecIndex()}`,(n=this.pluginService)===null||n===void 0||n.load([l]),this.tooltipHandler=l}}_initProcessor(){this.processor={mark:new MPt(this),dimension:new OPt(this),group:new IPt(this)}}_initEvent(){var e;if(this._option.disableTriggerEvent)return;const t=we((e=this._spec.trigger)!==null&&e!==void 0?e:"hover"),n=this._option.mode;t.includes("hover")&&(this._mountEvent("pointermove",{source:"chart"},this._getMouseMoveHandler(!1)),(m0(n)||O0(n))&&(this._mountEvent("pointerdown",{source:"chart"},this._getMouseMoveHandler(!1)),this._mountEvent("pointerup",{source:"window"},this._getMouseOutHandler(!0))),this._mountEvent("pointerout",{source:"canvas"},this._getMouseOutHandler(!1))),t.includes("click")&&(this._mountEvent("pointertap",{source:"chart"},this._getMouseMoveHandler(!0)),this._mountEvent("pointerup",{source:"window"},this._getMouseOutHandler(!0)))}reInit(e){var t,n;super.reInit(e),this.tooltipHandler?(n=(t=this.tooltipHandler).reInit)===null||n===void 0||n.call(t):this._initHandler()}showTooltip(e,t){var n;if(this.tooltipHandler||this._initHandler(),this.processor||this._initProcessor(),!(!((n=this.tooltipHandler)===null||n===void 0)&&n.showTooltip))return!1;const r=sCt(e,t,this);return r!=="none"&&(this._alwaysShow=!!(t!=null&&t.alwaysShow)),r}hideTooltip(){const e={changePositionOnly:!1,tooltip:this,item:void 0,datum:void 0,source:cn.chart};return this._alwaysShow=!1,!this._hideTooltipByHandler(e)}_isSameAsCache(e,t,n){if(n!==this._cacheActiveType)return!1;if(e===this._cacheInfo)return!0;if(Y(this._cacheInfo)||Y(e))return!1;if(p8(e)){if(Xhe(this._cacheInfo))return!1;const s=this._cacheInfo;if(!(s.length===e.length&&e.every((a,o)=>OAe(a,s[o]))))return!1}else{if(p8(this._cacheInfo))return!1;const s=this._cacheInfo;if(!((e==null?void 0:e.datum)===s.datum&&(e==null?void 0:e.mark)===s.mark&&(e==null?void 0:e.series)===s.series))return!1}const r=this._cacheParams;return!Y(r)&&!Y(t)&&r.mark===t.mark&&r.model===t.model&&r.datum===t.datum}_isPointerInChart(e){var t;const n=(t=this._option)===null||t===void 0?void 0:t.globalInstance;if(!n||!n.getChart())return!1;const{x:r,y:s}=e,a=n.getCanvas(),{x:o,y:l,width:u,height:c}=a.getBoundingClientRect();return r>=o&&r<=o+u&&s>=l&&s<=l+c}_isPointerOnTooltip(e){var t,n;if(this._spec.enterable&&this._spec.renderMode==="html"){const{event:r}=e;let s;if(X(r.nativeEvent)){const o=r.nativeEvent;s=o.relatedTarget,o.composedPath&&o.composedPath().length>0&&(s=o.composedPath()[0])}else s=r.relatedTarget;const a=(n=(t=this.tooltipHandler)===null||t===void 0?void 0:t.getTooltipContainer)===null||n===void 0?void 0:n.call(t);if(X(a)&&X(s)&&_xe(s,a))return!0}return!1}getVisible(){return this._spec.visible!==!1}};EA.type=De.tooltip,EA.transformerConstructor=ePe,EA.specKey="tooltip";const RPt=()=>{ce.registerComponent(EA.type,EA)};function DPt(i){return i===na["desktop-browser"]||i===na["desktop-miniApp"]?{click:"pointertap",hover:"pointermove",hoverOut:"pointerleave",clickOut:"pointerleave"}:m0(i)||O0(i)?{click:"tap",hover:["pointerdown","pointermove"],hoverOut:"pointerleave",clickOut:"pointerleave"}:null}var qhe;(function(i){i[i.ALL=3]="ALL",i[i.HORIZONTAL=2]="HORIZONTAL",i[i.VERTICAL=1]="VERTICAL"})(qhe||(qhe={}));var Zhe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};const LPt={x:["top","bottom"],y:["left","right"],category:["angle"],value:["radius"]};class Bq extends fu{get enableRemain(){return this.triggerOff==="none"}constructor(e,t){super(e,t),this.specKey="crosshair",this.layoutType="none",this.gridZIndex=qn.CrossHair_Grid,this.labelZIndex=qn.CrossHair,this.trigger="hover",this._handleIn=n=>{if(!this._option)return;const{x:r,y:s}=this.calculateTriggerPoint(n);this.showDefault=!1,this._layoutCrosshair(r,s);const a=this._getNeedClearVRenderComponents();this._hasActive=a.some(o=>o&&o.attribute.visible!==!1)},this._handleClickInEvent=n=>{this._handleIn(n),this._clickLock=this._hasActive&&this._spec.lockAfterClick,this._clickLock&&Xe(this.triggerOff)&&(this._timer&&clearTimeout(this._timer),this._timer=setTimeout(()=>{this._clickLock=!1,this._handleOutEvent()},this.triggerOff))},this._handleHoverInEvent=P0(n=>{this._clickLock||this._handleIn(n)},10),this._handleOutEvent=()=>{this.enableRemain||this._clickLock||!this._hasActive||(this.clearOutEvent(),this.hide())},this._handleTooltipShow=n=>{const r=n.tooltipData;if(n.isEmptyTooltip||!r||!r.length)return void this._handleTooltipHideOrRelease();if(yi(this._spec.followTooltip)&&this._spec.followTooltip[n.activeType]===!1)return void this._handleTooltipHideOrRelease();const{x:s,y:a}=this.calculateTriggerPoint(n);this.showDefault=!1,this._layoutCrosshair(s,a,r,n.activeType);const o=this._getNeedClearVRenderComponents();this._hasActive=o.some(l=>l&&l.attribute.visible!==!1)},this._handleTooltipHideOrRelease=()=>{this.clearOutEvent(),this.hide()},this.enable=!0,this.showDefault=!0}_getLimitBounds(){var e,t;if(!this._limitBounds){const{width:n,height:r}=(t=(e=this._option.globalInstance.getChart())===null||e===void 0?void 0:e.getViewRect())!==null&&t!==void 0?t:{width:0,height:0};this._limitBounds={x1:0,y1:0,x2:n,y2:r}}return this._limitBounds}_showDefaultCrosshair(){this.showDefault&&this._showDefaultCrosshairBySpec()}setAttrFromSpec(){super.setAttrFromSpec(),this._parseCrosshairSpec()}created(){super.created(),this._initEvent()}_compareSpec(e,t){const n=super._compareSpec(e,t);return n.reMake||Rr(t,e)||(n.reRender=!0,n.reMake=!0),n}_initEvent(){if(!this._option.disableTriggerEvent)if(this._spec.followTooltip)this._registerTooltipEvent();else{const e=this._getTriggerEvent();e&&e.forEach(t=>{this._registerEvent(t.in,!1,t.click),t.out&&this._registerEvent(t.out,!0)})}}_registerEvent(e,t,n){const r=t?this._handleOutEvent:n?this._handleClickInEvent:this._handleHoverInEvent,s=t?{level:fr.chart}:{source:cn.chart};ke(e)?e.forEach(a=>{this.event.on(a,s,r)}):this.event.on(e,s,r)}_eventOff(e,t,n){const r=t?this._handleOutEvent:n?this._handleClickInEvent:this._handleHoverInEvent;ke(e)?e.forEach(s=>{this.event.off(s,r)}):this.event.off(e,r)}updateLayoutAttribute(){this._limitBounds=null,this._showDefaultCrosshair()}calculateTriggerPoint(e){const{event:t}=e,n=this._option.getCompiler().getStage().getLayer(void 0),r={x:t.viewX,y:t.viewY};return n.globalTransMatrix.transformPoint({x:t.viewX,y:t.viewY},r),{x:r.x-this.getLayoutStartPoint().x,y:r.y-this.getLayoutStartPoint().y}}_getTriggerEvent(){const{mode:e=na["desktop-browser"]}=this._option,t=DPt(e);if(t){const n=this.trigger||"hover",r=s=>s==="click"?this.triggerOff==="none"?null:t.clickOut:t.hoverOut;if(ke(n)){const s=[];return n.forEach(a=>{s.push({click:a==="click",in:t[a],out:r(a)})}),s}return[{click:n==="click",in:t[n],out:r(n)}]}return null}_registerTooltipEvent(){this.event.on(Pt.tooltipHide,{source:cn.chart},this._handleTooltipHideOrRelease),this.event.on(Pt.tooltipShow,{source:cn.chart},this._handleTooltipShow),this.event.on(Pt.tooltipRelease,{source:cn.chart},this._handleTooltipHideOrRelease)}_getAxisInfoByField(e){var t,n;const r=(n=(t=this._option).getComponentsByKey)===null||n===void 0?void 0:n.call(t,"axes");if(!(r!=null&&r.length))return null;let s=bi(this._spec,`${e}Field.bindingAxesIndex`);if(s||(s=[],r.forEach((p,f)=>{LPt[e].includes(p.getOrient())&&s.push(f)})),!s.length)return null;const a=new Map;let o=1/0,l=1/0,u=-1/0,c=-1/0;const{x:d,y:h}=this.getLayoutStartPoint();return s.forEach(p=>{o=1/0,l=1/0,u=-1/0,c=-1/0;const f=r.find(g=>g.getSpecIndex()===p);f&&(f.getRegions().forEach(g=>{const{x:v,y:m}=g.getLayoutStartPoint();o=Math.min(o,v-d),l=Math.min(l,m-h),u=Math.max(u,v+g.getLayoutRect().width-d),c=Math.max(c,m+g.getLayoutRect().height-h)}),a.set(p,{x1:o,y1:l,x2:u,y2:c,axis:f}))}),a}changeRegions(e){}onLayoutEnd(e){const t=this._regions[0];this.setLayoutRect(t.getLayoutRect()),this.setLayoutStartPosition(t.getLayoutStartPoint()),super.onLayoutEnd(e)}onRender(e){}_releaseEvent(){this.clearOutEvent();const e=this._getTriggerEvent();e&&e.forEach(t=>{this._eventOff(t.in,!1,t.click),t.out&&this._eventOff(t.out,!0)})}_parseCrosshairSpec(){this._parseFieldInfo();const{trigger:e,triggerOff:t,labelZIndex:n,gridZIndex:r}=this._spec;e&&(this.trigger=e),(t==="none"||Xe(t)&&t>0)&&(this.triggerOff=t),n!==void 0&&(this.labelZIndex=n),r!==void 0&&(this.gridZIndex=r)}_parseField(e,t){var n,r,s;const a={},{line:o={},label:l={},visible:u}=e;if(a.visible=u,a.type=o.type||"line",o.visible===!1)a.style={visible:!1};else{const c=o.style||{},{stroke:d,fill:h,lineWidth:p}=c,f=c,{strokeOpacity:g,fillOpacity:v,opacity:m}=f,b=Zhe(f,["strokeOpacity","fillOpacity","opacity"]),_=a.type==="line";let S=_?g:v;if(Xe(m)&&(S=(S??1)*m),a.style=Object.assign({opacity:S,pickable:!1,visible:!0},b),_)a.style.stroke=d||h,a.style.lineWidth=bi(o,"width",p||2);else{a.style.fill=h||d,!((s=(r=(n=this._spec[t])===null||n===void 0?void 0:n.line)===null||r===void 0?void 0:r.style)===null||s===void 0)&&s.stroke&&(a.style.stroke=this._spec[t].line.style.stroke);const C=bi(o,"width");if(typeof C=="string"){const k=parseInt(C.substring(0,C.length-1),10)/100;a.style.sizePercent=k}else typeof C!="number"&&typeof C!="function"||(a.style.size=C)}}if(l.visible){const c=l.labelBackground||{},d=l.style||{},h=c.style||{},{fill:p="rgba(47, 59, 82, 0.9)",stroke:f,outerBorder:g}=h,v=Zhe(h,["fill","stroke","outerBorder"]);a.label={visible:!0,formatMethod:l.formatMethod,formatter:l.formatter,minWidth:c.minWidth,maxWidth:c.maxWidth,padding:c.padding,textStyle:Object.assign(Object.assign({fontSize:14,pickable:!1},d),{fill:d.fill||"#fff",stroke:bi(d,"stroke")}),panel:(Ir(c.visible)?c.visible:c)?Object.assign({visible:!0,pickable:!1,fill:p,stroke:f,outerBorder:Object.assign({stroke:p,distance:0,lineWidth:3},g)},v):{visible:!1},zIndex:this.labelZIndex,childrenPickable:!1,pickable:!1}}else a.label={visible:!1};return a}_filterAxisByPoint(e,t,n){return e&&e.forEach(r=>{const s=r.axis;if(C0t(r,t,n)&&e.delete(s.getSpecIndex()),s.type.startsWith("polarAxis")){const a=s.getCenter(),o=s.getInnerRadius(),l=s.getOuterRadius(),u=ds.distancePP({x:t,y:n},a);(u>l||u<o)&&e.delete(s.getSpecIndex())}}),e}clearOutEvent(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._clickLock&&(this._clickLock=null),this._hasActive&&(this._hasActive=null)}}Bq.specKey="crosshair";class EF extends Bq{static getSpecInfo(e){const t=e[this.specKey];if(Y(t))return;if(!ke(t))return t.xField||t.yField?[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:De.cartesianCrosshair}]:void 0;const n=[];return t.forEach((r,s)=>{(r.xField||r.yField)&&n.push({spec:r,specPath:[this.specKey,s],specInfoPath:["component",this.specKey,s],type:De.cartesianCrosshair})}),n}constructor(e,t){super(e,t),this.type=De.cartesianCrosshair,this.name=De.cartesianCrosshair,this._currValueX=new Map,this._currValueY=new Map}_showDefaultCrosshairBySpec(){const{xField:e,yField:t}=this._spec;if(e!=null&&e.visible&&e.defaultSelect){const{axisIndex:n,datum:r}=e.defaultSelect;this._defaultCrosshair(n,r,1)}if(t!=null&&t.visible&&t.defaultSelect){const{axisIndex:n,datum:r}=t.defaultSelect;this._defaultCrosshair(n,r,2)}}_defaultCrosshair(e,t,n){const r=this._option.getComponentsByKey("axes").find(s=>s.getSpecIndex()===e);r&&(n===1?(this._currValueX.clear(),this._currValueX.set(e,{axis:r,value:t})):(this._currValueY.clear(),this._currValueY.set(e,{axis:r,value:t})),this.layoutByValue(n))}_findAllAxisContains(e,t){const n=this._getAxisInfoByField("x"),r=this._getAxisInfoByField("y");return{xAxisMap:this._filterAxisByPoint(n,e,t),yAxisMap:this._filterAxisByPoint(r,e,t)}}_getValueAt(e,t){return e.getScale().invert(t)}clearAxisValue(){this._currValueX.clear(),this._currValueY.clear()}setAxisValue(e,t){Qr(t.getOrient())?this._currValueX.set(t.getSpecIndex(),{value:e,axis:t}):this._currValueY.set(t.getSpecIndex(),{value:e,axis:t})}_getAllAxisValues(e,t,n,r){let s=!1;return e.forEach(a=>{io(a.axis.getScale().type)&&(s?this.enable=!1:s=!0)}),!!this.enable&&(e.forEach((a,o)=>{const l=a.axis;n.set(o,{value:this._getValueAt(l,t-(r?l.getLayoutStartPoint().x-this.getLayoutStartPoint().x:l.getLayoutStartPoint().y-this.getLayoutStartPoint().y)),axis:l})}),!0)}_layoutCrosshair(e,t,n,r){var s;let a=e,o=t;if(n&&n.length){if(r==="dimension"){const c=n[0],d=c.data[0],h=d.series.dataToPosition(d.datum[0]);(X(c.dimType)?c.dimType==="y":ef((s=c==null?void 0:c.axis)===null||s===void 0?void 0:s.getOrient()))?o=h.y:a=h.x}else if(r==="mark"){const c=n[0],d=c.series.dataToPosition(c.datum[0]);a=d.x,o=d.y}}const{xAxisMap:l,yAxisMap:u}=this._findAllAxisContains(a,o);if(l&&l.size===0||u&&u.size===0){if(this.enableRemain)return;this.hide()}else this._currValueX.clear(),this._currValueY.clear(),l&&l.size&&this._getAllAxisValues(l,a,this._currValueX,!0),u&&u.size&&this._getAllAxisValues(u,o,this._currValueY,!1),this.layoutByValue(3)}hide(){this._xCrosshair&&this._xCrosshair.hideAll(),this._xTopLabel&&this._xTopLabel.hideAll(),this._xBottomLabel&&this._xBottomLabel.hideAll(),this._yCrosshair&&this._yCrosshair.hideAll(),this._yLeftLabel&&this._yLeftLabel.hideAll(),this._yRightLabel&&this._yRightLabel.hideAll()}layoutByValue(e=3){if(!this.enable)return;const t=W_(this._regions,"cartesian");if(!t)return;const{x:n,y:r,offsetWidth:s,offsetHeight:a,bandWidth:o,bandHeight:l}=rTe(e,t,this.getLayoutStartPoint(),this._currValueX,this._currValueY,this._xHair,this._yHair,this.enableRemain,this._cacheXCrossHairInfo,this._cacheYCrossHairInfo);this.enableRemain&&(n&&(this._cacheXCrossHairInfo=Object.assign(Object.assign({},n),{_isCache:!0})),r&&(this._cacheYCrossHairInfo=Object.assign(Object.assign({},r),{_isCache:!0}))),n&&this._layoutVertical(n,o,s),r&&this._layoutHorizontal(r,l,a)}_layoutVertical(e,t,n){var r,s;if(e._isCache&&this.enableRemain||!this._xHair)return;const{x:a,topPos:o,height:l,top:u,bottom:c,visible:d}=e;if(d){const h=this._xHair.type,p=sTe(this._xHair,e,t,n);if(this._updateCrosshair("x",h,p),u.visible){const f=Object.assign(Object.assign(Object.assign({x:a+t/2,y:o},u),this._xHair.label),{textStyle:Object.assign(Object.assign({},(r=this._xHair.label)===null||r===void 0?void 0:r.textStyle),{textAlign:"center",textBaseline:"bottom"}),zIndex:this.labelZIndex,visible:!0});this._updateCrosshairLabel(this._xTopLabel,f,g=>{g.name="crosshair-x-top-label",this._xTopLabel=g})}else this._xTopLabel&&this._xTopLabel.hideAll();if(c.visible){const f=Object.assign(Object.assign(Object.assign({x:a+t/2,y:o+l},c),this._xHair.label),{textStyle:Object.assign(Object.assign({},(s=this._xHair.label)===null||s===void 0?void 0:s.textStyle),{textAlign:"center",textBaseline:"top"}),zIndex:this.labelZIndex,visible:!0});this._updateCrosshairLabel(this._xBottomLabel,f,g=>{g.name="crosshair-x-bottom-label",this._xBottomLabel=g})}else this._xBottomLabel&&this._xBottomLabel.hideAll()}}_layoutHorizontal(e,t,n){var r,s;if(e._isCache&&this.enableRemain||!this._yHair)return;const{leftPos:a,width:o,y:l,left:u,right:c,visible:d}=e;if(d){const h=this._yHair.type,p=aTe(this._yHair,e,t,n);if(this._updateCrosshair("y",h,p),u.visible){const f=Object.assign(Object.assign(Object.assign({x:a,y:l+t/2},u),this._yHair.label),{textStyle:Object.assign(Object.assign({},(r=this._yHair.label)===null||r===void 0?void 0:r.textStyle),{textAlign:"right",textBaseline:"middle"}),zIndex:this.labelZIndex});this._updateCrosshairLabel(this._yLeftLabel,f,g=>{g.name="crosshair-y-left-label",this._yLeftLabel=g})}else this._yLeftLabel&&this._yLeftLabel.hideAll();if(c.visible){const f=Object.assign(Object.assign(Object.assign({x:a+o,y:l+t},c),this._yHair.label),{textStyle:Object.assign(Object.assign({},(s=this._yHair.label)===null||s===void 0?void 0:s.textStyle),{textAlign:"left",textBaseline:"middle"}),zIndex:this.labelZIndex});this._updateCrosshairLabel(this._yRightLabel,f,g=>{g.name="crosshair-y-right-label",this._yRightLabel=g})}else this._yRightLabel&&this._yRightLabel.hideAll()}}_parseFieldInfo(){const{xField:e,yField:t}=this._spec;e&&e.visible&&(this._xHair=this._parseField(e,"xField")),t&&t.visible&&(this._yHair=this._parseField(t,"yField"))}_updateCrosshair(e,t,n){const r=this.getContainer();let s;if(s=e==="x"?this._xCrosshair:this._yCrosshair,s)s.setAttributes(n);else{const a=e==="x"?this._xHair.style:this._yHair.style;t==="line"?s=new oP(Object.assign(Object.assign({},n),{lineStyle:a,zIndex:this.gridZIndex+1,disableTriggerEvent:this._option.disableTriggerEvent,pickable:!1})):t==="rect"&&(s=new n$(Object.assign(Object.assign({},n),{rectStyle:a,zIndex:this.gridZIndex,disableTriggerEvent:this._option.disableTriggerEvent,pickable:!1}))),r==null||r.add(s),e==="x"?this._xCrosshair=s:this._yCrosshair=s}}_updateCrosshairLabel(e,t,n){const r=this.getContainer();e?e.setAttributes(t):(n(e=new Mf(t)),r==null||r.add(e)),nTe(e,this._getLimitBounds())}_getNeedClearVRenderComponents(){return[this._xCrosshair,this._xTopLabel,this._xBottomLabel,this._yCrosshair,this._yLeftLabel,this._yRightLabel]}}EF.specKey="crosshair",EF.type=De.cartesianCrosshair;const FPt=()=>{ce.registerComponent(EF.type,EF)};var Qhe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};const BPt=(i,e,t,n,r,s=!1,a,o)=>{let l={x:0,y:0,center:{x:0,y:0},radius:0,distance:0,startAngle:0,endAngle:0,innerRadius:0,visible:!1,label:{visible:!1,text:"",offset:0}},u={x:0,y:0,center:{x:0,y:0},radius:0,distance:0,startAngle:0,endAngle:0,innerRadius:0,visible:!1,sides:i.angleAxisHelper.getScale(0).domain().length,label:{visible:!1,text:"",offset:0}};if(n){l.visible=!!e.size;const c=i.angleAxisHelper.getBandwidth(0);e.forEach(d=>{var h,{axis:p,value:f,coord:g}=d,v=Qhe(d,["axis","value","coord"]);f=f??"",Rt(l,v);const m=i.angleAxisHelper.dataToPosition([f]);l.angle=m;const b=p.niceLabelFormatter;!((h=n.label)===null||h===void 0)&&h.visible&&(l.label.visible=!0,l.label.defaultFormatter=b,l.label.text=f,l.label.offset=GT(p.getSpec())),l.startAngle=m-c/2,l.endAngle=m+c/2})}if(r&&(u.visible=!!t.size,t.forEach(c=>{var d,{axis:h,value:p,coord:f}=c,g=Qhe(c,["axis","value","coord"]);p=p??"";const v=h.niceLabelFormatter;!((d=r.label)===null||d===void 0)&&d.visible&&(u.label.visible=!0,u.label.defaultFormatter=v,u.label.text=p,u.label.offset=GT(h.getSpec())),u.angle=f.angle,u.axis=h,Rt(u,g)})),s&&!l.visible&&X(a))l=a;else if(l.label.visible&&n&&n.label){const{label:c}=l,{formatMethod:d,formatter:h}=n.label,{formatFunc:p,args:f}=em(d,h,c.text,{label:c.text,orient:"angle"});p?c.text=p(...f):c.defaultFormatter&&(c.text=c.defaultFormatter(c.text))}if(s&&!u.visible&&X(o))u=o;else if(u.label.visible&&r&&r.label){const{label:c}=u,{formatMethod:d,formatter:h}=r.label,{formatFunc:p,args:f}=em(d,h,c.text,{label:c.text,orient:"radius"});p?c.text=p(...f):c.defaultFormatter&&(c.text=c.defaultFormatter(c.text))}return{angle:l,radius:u}},$Pt=(i,e)=>{const{angle:t,innerRadius:n,radius:r,startAngle:s,endAngle:a,center:o}=e;let l;return l=(i.type==="rect"?"sector":"line")=="sector"?{center:o,innerRadius:n,radius:r,startAngle:s,endAngle:a}:{start:Us(o,n,t),end:Us(o,r,t)},l},NPt=(i,e)=>{const{center:t,startAngle:n,endAngle:r,distance:s,sides:a,axis:o,point:l,radius:u,innerRadius:c}=e;let d=s;if((i.smooth?"circle":"polygon")=="polygon"){const h=o.getCenter(),p=lD(h,l),f=(r-n)/a,g=Math.floor((p-n)/f),v=g*f+n,m=Math.min((g+1)*f+n,r),b=Us(h,s,v),_=Us(h,s,m),S=mxe([_.x,_.y],[b.x,b.y],[h.x,h.y],[l.x,l.y]);S&&(d=sa(ds.distancePN(l,S[0],S[1])+s,c,u))}return{center:t,startAngle:n,endAngle:r,radius:d,sides:a}};class AF extends Bq{static getSpecInfo(e){const t=e[this.specKey];if(Y(t))return;if(!ke(t))return t.categoryField||t.valueField?[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:De.polarCrosshair}]:void 0;const n=[];return t.forEach((r,s)=>{(r.categoryField||r.valueField)&&n.push({spec:r,specPath:[this.specKey,s],specInfoPath:["component",this.specKey,s],type:De.polarCrosshair})}),n}constructor(e,t){super(e,t),this.type=De.polarCrosshair,this.name=De.polarCrosshair,this._currValueAngle=new Map,this._currValueRadius=new Map}_showDefaultCrosshairBySpec(){const{categoryField:e,valueField:t}=this._spec;if(e!=null&&e.visible&&e.defaultSelect){const{axisIndex:n,datum:r}=e.defaultSelect;this._defaultCrosshair(n,r,1)}if(t!=null&&t.visible&&t.defaultSelect){const{axisIndex:n,datum:r}=t.defaultSelect;this._defaultCrosshair(n,r,2)}}_defaultCrosshair(e,t,n){const r=this._option.getComponentsByKey("axes").find(s=>s.getSpecIndex()===e);if(r){if(n===1){this._currValueAngle.clear();const s={angle:r.valueToPosition(t),radius:r.getOuterRadius()},a=r.coordToPoint(s);this._currValueAngle.set(e,this._getValueByAxis(r,a))}else{this._currValueRadius.clear();const s={angle:r.startAngle,radius:r.valueToPosition(t)},a=r.coordToPoint(s);this._currValueRadius.set(e,this._getValueByAxis(r,a))}this.layoutByValue(3)}}hide(){this._radiusCrosshair&&this._radiusCrosshair.hideAll(),this._radiusLabelCrosshair&&this._radiusLabelCrosshair.hideAll(),this._angleCrosshair&&this._angleCrosshair.hideAll(),this._angleLabelCrosshair&&this._angleLabelCrosshair.hideAll()}_findAllAxisContains(e,t){const n=this._getAxisInfoByField("category"),r=this._getAxisInfoByField("value");return{angleAxisMap:this._filterAxisByPoint(n,e,t),radiusAxisMap:this._filterAxisByPoint(r,e,t)}}_getAllAxisValues(e,t,n){let r=!1;return e.forEach(s=>{io(s.axis.getScale().type)&&(r?this.enable=!1:r=!0)}),!!this.enable&&(e.forEach((s,a)=>{const o=s.axis;n.set(a,this._getValueByAxis(o,t))}),!0)}_getValueByAxis(e,t){const{x:n,y:r}=e.getLayoutStartPoint(),{x:s,y:a}=this.getLayoutStartPoint(),o=e.positionToData({x:t.x-(n-s),y:t.y-(r-a)}),l={x:e.getCenter().x+this.getLayoutStartPoint().x,y:e.getCenter().y+this.getLayoutStartPoint().y};return{value:o,axis:e,center:l,innerRadius:e.getInnerRadius(),radius:e.getOuterRadius(),startAngle:e.startAngle,endAngle:e.endAngle,distance:ds.distancePP(t,e.getCenter()),coord:e.pointToCoord(t),point:t}}_layoutCrosshair(e,t,n,r){let s=e,a=t;if(n&&n.length){if(r==="dimension"){const u=n[0];if(u.axis){const c=u.axis.pointToCoord({x:s,y:a}),d=u.axis.getOrient()==="radius"?{radius:u.position,angle:c.angle}:{radius:c.radius,angle:u.position},h=u.axis.coordToPoint(d);s=h.x,a=h.y}}else if(r==="mark"){const u=n[0],c=u.series.dataToPosition(u.datum[0]);s=c.x,a=c.y}}const{angleAxisMap:o,radiusAxisMap:l}=this._findAllAxisContains(s,a);if(o.size!==0||l.size!==0)this._currValueAngle.clear(),this._currValueRadius.clear(),o&&this._getAllAxisValues(o,{x:s,y:a},this._currValueAngle),l&&this._getAllAxisValues(l,{x:s,y:a},this._currValueRadius),this.layoutByValue(3);else{if(this.enableRemain)return;this.hide()}}layoutByValue(e=3){if(!this.enable)return;const t=W_(this._regions,"polar");if(!t)return;const{angle:n,radius:r}=BPt(t,this._currValueAngle,this._currValueRadius,this._angleHair,this._radiusHair,this.enableRemain,this._cacheAngleCrossHairInfo,this._cacheRadiusCrossHairInfo);this.enableRemain&&(this._cacheAngleCrossHairInfo=Object.assign(Object.assign({},n),{_isCache:!0}),this._cacheRadiusCrossHairInfo=Object.assign(Object.assign({},r),{_isCache:!0})),e&&(this._layoutRadius(r),this._layoutAngle(n))}_layoutAngle(e){var t;if(e._isCache&&this.enableRemain)return;const n=this.getContainer(),{angle:r,radius:s,label:a,center:o,visible:l}=e;if(l){const u=this._angleHair.type==="rect"?"sector":"line",c=$Pt(this._angleHair,e);if(this._angleCrosshair)this._angleCrosshair.setAttributes(c);else{let d;u==="line"?d=new oP(Object.assign(Object.assign({},c),{lineStyle:this._angleHair.style,zIndex:this.gridZIndex,pickable:!1})):u==="sector"&&(d=new s$(Object.assign(Object.assign({},c),{sectorStyle:this._angleHair.style,zIndex:this.gridZIndex,pickable:!1}))),this._angleCrosshair=d,n.add(d)}if(a.visible){const d=ymt(r),h=Object.assign(Object.assign(Object.assign(Object.assign({},Us(o,s+a.offset,r)),this._angleHair.label),a),{textStyle:Object.assign(Object.assign({},(t=this._angleHair.label)===null||t===void 0?void 0:t.textStyle),{textAlign:d.align,textBaseline:d.baseline}),zIndex:this.labelZIndex});this._updateCrosshairLabel(this._angleLabelCrosshair,h,p=>{p.name="crosshair-angle-label",this._angleLabelCrosshair=p})}else this._angleLabelCrosshair&&this._angleLabelCrosshair.hideAll()}}_layoutRadius(e){var t;if(e._isCache&&this.enableRemain)return;const{center:n,startAngle:r,label:s,visible:a}=e,o=this.getContainer();if(a){const l=this._radiusHair.smooth?"circle":"polygon",u=NPt(this._radiusHair,e),c=u.radius;if(this._radiusCrosshair)this._radiusCrosshair.setAttributes(u);else{let d;d=l==="polygon"?new a$(Object.assign(Object.assign({},u),{lineStyle:this._radiusHair.style,zIndex:this.gridZIndex+1})):new r$(Object.assign(Object.assign({},u),{lineStyle:this._radiusHair.style,zIndex:this.gridZIndex})),this._radiusCrosshair=d,o.add(d)}if(s.visible){const d=T0t(r),h=Object.assign(Object.assign(Object.assign(Object.assign({},Us(n,c,r)),this._radiusHair.label),s),{textStyle:Object.assign(Object.assign({},(t=this._radiusHair.label)===null||t===void 0?void 0:t.textStyle),{textAlign:d.align,textBaseline:d.baseline}),zIndex:this.labelZIndex});this._updateCrosshairLabel(this._radiusLabelCrosshair,h,p=>{p.name="crosshair-radius-label",this._radiusLabelCrosshair=p})}else this._radiusLabelCrosshair&&this._radiusLabelCrosshair.hideAll()}}_parseFieldInfo(){var e;const{categoryField:t,valueField:n}=this._spec;t&&t.visible&&(this._angleHair=this._parseField(t,"categoryField")),n&&n.visible&&(this._radiusHair=this._parseField(n,"valueField"),this._radiusHair.smooth=(e=n==null?void 0:n.line)===null||e===void 0?void 0:e.smooth)}_updateCrosshairLabel(e,t,n){const r=this.getContainer();e?e.setAttributes(t):(e=new Mf(t),r==null||r.add(e),n(e)),nTe(e,this._getLimitBounds())}_getNeedClearVRenderComponents(){return[this._radiusCrosshair,this._radiusLabelCrosshair,this._angleCrosshair,this._angleLabelCrosshair]}}AF.specKey="crosshair",AF.type=De.polarCrosshair;const jPt=()=>{ce.registerComponent(AF.type,AF)},zPt=(i,e)=>{const{getNewDomain:t,isContinuous:n,field:r}=e,s=r(),a=t();if(Y(a)||Y(s))return i;if(a.length===0)return[];const o={};a.forEach(u=>{o[u]||(o[u]=1)});let l=null;return l=n()?u=>u[s]>=a[0]&&u[s]<=a[1]:u=>o[u[s]+""]||o[u[s]],i.filter(l)},HPt=(i,e)=>{const{stateFields:t,valueFields:n,dataCollection:r}=e.input,{stateField:s,valueField:a}=e.output,o={},l=[];return r.forEach((u,c)=>{var d;if(Y(t[c]))return;const h=(d=u.getFields())===null||d===void 0?void 0:d[t[c]];h&&h.lockStatisticsByDomain&&h.domain.forEach(p=>{o[p]=0}),u.latestData.forEach(p=>{we(t[c]).forEach(f=>{Y(p[f])||(Y(o[p[f]])&&(o[p[f]]=0),Y(n[c])||(o[p[f]]+=isNaN(parseFloat(p[n[c]]))?1:parseFloat(p[n[c]])))})})}),Object.keys(o).forEach((u,c)=>{const d={[s]:u};a&&(d[a]=o[u]),l.push(d)}),l};class $q extends fu{get relatedAxisComponent(){return this._relatedAxisComponent}setStartAndEnd(e,t,n=["percent","percent"]){const[r="percent",s="percent"]=n,a=r==="percent"?e:this.dataToStatePoint(e),o=s==="percent"?t:this.dataToStatePoint(t);this._handleChange(a,o,!0)}enableInteraction(){this._activeRoam=!0}disableInteraction(){this._activeRoam=!1}zoomIn(e){this._handleChartZoom({zoomDelta:1.2,zoomX:e==null?void 0:e.x,zoomY:e==null?void 0:e.y})}zoomOut(e){this._handleChartZoom({zoomDelta:.8,zoomX:e==null?void 0:e.x,zoomY:e==null?void 0:e.y})}_handleChange(e,t,n){var r,s;(s=(r=this._spec)===null||r===void 0?void 0:r.zoomLock)!==null&&s!==void 0&&s||t-e!==this._spanCache&&(t-e<this._minSpan||t-e>this._maxSpan)?this._shouldChange=!1:(this._shouldChange=!0,this._spanCache=t-e)}_isReverse(){const e=this._relatedAxisComponent;if(!e)return!1;const t=e.getScale();return t.range()[0]>t.range()[1]&&(!e.getInverse()||this._isHorizontal)}_updateRangeFactor(e){const t=this._relatedAxisComponent.getScale(),n=this._isReverse(),r=n?[1-this._end,1-this._start]:[this._start,this._end];if(n)switch(e){case"startHandler":t.rangeFactorEnd(r[1]);break;case"endHandler":t.rangeFactorStart(r[0]);break;default:t.rangeFactorStart(r[0],!0),t.rangeFactorEnd(r[1])}else switch(e){case"startHandler":t.rangeFactorStart(r[0]);break;case"endHandler":t.rangeFactorEnd(r[1]);break;default:t.rangeFactorEnd(r[1],!0),t.rangeFactorStart(r[0])}const s=t.rangeFactor();s?(this._start=n?1-s[1]:s[0],this._end=n?1-s[0]:s[1]):(this._start=0,this._end=1)}get visible(){return this._visible}constructor(e,t){super(e,t),this.layoutType="none",this._orient="left",this._cacheVisibility=void 0,this._dataUpdating=!1,this._shouldChange=!0,this._stateField="x",this._activeRoam=!0,this._zoomAttr={enable:!0,rate:1,focus:!0},this._dragAttr={enable:!0,rate:1,reverse:!0},this._scrollAttr={enable:!0,rate:1,reverse:!0},this.effect={onZoomChange:n=>{var r,s;const a=this._relatedAxisComponent;if(a&&this._filterMode==="axis"){const o=a.getScale(),l=a.getSpec();this._auto&&this._getAxisBandSize(l)&&this._spec.ignoreBandSize&&(o.bandwidth("auto"),o.maxBandwidth("auto"),o.minBandwidth("auto")),this._updateRangeFactor(n),this._auto&&((s=(r=this._component)===null||r===void 0?void 0:r.setStartAndEnd)===null||s===void 0||s.call(r,this._start,this._end)),a.effect.scaleUpdate()}else hs(this._regions,o=>{var l;(l=o.getViewData())===null||l===void 0||l.markRunning()},{userId:this._seriesUserId,specIndex:this._seriesIndex}),hs(this._regions,o=>{o.reFilterViewData()},{userId:this._seriesUserId,specIndex:this._seriesIndex})}},this._visible=!0,this._handleStateChange=(n,r,s)=>{var a,o;return this._startValue=n,this._endValue=r,this._newDomain=this._parseDomainFromState(this._startValue,this._endValue),(o=(a=this.effect).onZoomChange)===null||o===void 0||o.call(a,s),!0},this._handleChartZoom=n=>{var r,s;if(!this._activeRoam)return;const{zoomDelta:a,zoomX:o,zoomY:l}=n,{x:u,y:c}=this._regions[0].getLayoutStartPoint(),{width:d,height:h}=this._regions[0].getLayoutRect(),p=Math.abs(this._start-this._end),f=(s=(r=this._spec.roamZoom)===null||r===void 0?void 0:r.rate)!==null&&s!==void 0?s:1;if(p>=1&&a<1||p<=.01&&a>1)return;const g=this._isHorizontal?o:l,v=p*(a-1)*f;let m=v/2,b=v/2;if(g){const C=this._isHorizontal?u:c,k=this._isHorizontal?d:h;m=Math.abs(C-g)/Math.abs(k-C)*v,b=Math.abs(k-g)/Math.abs(k-C)*v}const _=sa(this._start+m,0,1),S=sa(this._end-b,0,1);this._handleChange(Math.min(_,S),Math.max(_,S),!0)},this._handleChartScroll=(n,r)=>{var s;if(!this._activeRoam)return!1;const{scrollX:a,scrollY:o}=n;let l=this._isHorizontal?a:o;const u=this._isHorizontal?dn(a/o)>=.5:dn(o/a)>=.5;this._scrollAttr.reverse||(l=-l),u&&this._handleChartMove(l,(s=this._scrollAttr.rate)!==null&&s!==void 0?s:1);const c=this._start!==0&&this._end!==1;return u&&c},this._handleChartDrag=(n,r)=>{var s;if(!this._activeRoam)return;const[a,o]=n;let l=this._isHorizontal?a:o;this._dragAttr.reverse&&(l=-l),this._handleChartMove(l,(s=this._dragAttr.rate)!==null&&s!==void 0?s:1)},this._handleChartMove=(n,r)=>{const s=this._isHorizontal?this.getLayoutRect().width:this.getLayoutRect().height;if(Math.abs(n)>=1e-6){if(n>0&&this._end<1){const a=Math.min(1-this._end,n/s)*r;this._handleChange(this._start+a,this._end+a,!0)}else if(n<0&&this._start>0){const a=Math.max(-this._start,n/s)*r;this._handleChange(this._start+a,this._end+a,!0)}}return!1},this._orient=By(e),this._isHorizontal=IAe(this._orient)==="horizontal"}created(){super.created(),this._setAxisFromSpec(),this._setRegionsFromSpec(),this._initEvent(),this._initData(),this._initStateScale(),this._setStateFromSpec()}initLayout(){super.initLayout(),this._layout&&(this._layout.layoutOrient=this._orient)}_setAxisFromSpec(){if(X(this._spec.axisId)?this._relatedAxisComponent=this._option.getComponentByUserId(this._spec.axisId):X(this._spec.axisIndex)&&(this._relatedAxisComponent=this._option.getComponentByIndex("axes",this._spec.axisIndex)),Y(this._spec.field)&&!this._relatedAxisComponent){const e=this._option.getComponentsByKey("axes"),t=e.find(n=>n._orient===this._orient);if(t)this._relatedAxisComponent=t;else{const n=e.find(r=>!Ln(r.getScale().type));this._relatedAxisComponent=n}}this._relatedAxisComponent&&this._filterMode==="axis"&&(this._relatedAxisComponent.autoIndentOnce=!0)}_setRegionsFromSpec(){var e,t;this._regions=this._relatedAxisComponent?this._relatedAxisComponent.getRegions():this._option.getAllRegions();const n=this._relatedAxisComponent?(t=(e=this._relatedAxisComponent).getBindSeriesFilter)===null||t===void 0?void 0:t.call(e):null;if(X(n)&&(X(n.userId)&&(this._seriesUserId=we(n.userId)),X(n.specIndex)&&(this._seriesIndex=we(n.specIndex))),X(this._spec.seriesId)){const r=we(this._spec.seriesId);this._seriesUserId?this._seriesUserId=this._seriesUserId.filter(s=>r.includes(s)):this._seriesUserId=r}if(X(this._spec.seriesIndex)){const r=we(this._spec.seriesIndex);this._seriesIndex?this._seriesIndex=this._seriesIndex.filter(s=>r.includes(s)):this._seriesIndex=r}if(X(this._spec.regionIndex)){const r=this._option.getRegionsInIndex(we(this._spec.regionIndex));this._regions=this._regions.filter(s=>r.includes(s))}else if(X(this._spec.regionId)){const r=we(this._spec.regionId);this._regions=r.length?this._regions.filter(s=>r.includes(s.id)):[]}}onDataUpdate(){var e;const t=this._computeDomainOfStateScale(Ln(this._stateScale.type));this._stateScale.domain(t,!0),this._handleChange(this._start,this._end,!0),this._spec.auto&&(this._dataUpdating=!0,(e=this.getChart())===null||e===void 0||e.setLayoutTag(!0,null,!1))}_computeDomainOfStateScale(e){if(this._spec.customDomain)return this._spec.customDomain;const t=this._data.getLatestData().map(n=>n[this._stateField]);if(e){const n=t.map(r=>1*r);return t.length?[ca(n),Os(n)]:[-1/0,1/0]}return t}_initEvent(){this._initCommonEvent()}_initData(){const e=[],t=[],n=[];if(this._relatedAxisComponent){const a={};hs(this._regions,o=>{var l,u;const c=o.coordinate==="cartesian"?o.getXAxisHelper():o.coordinate==="polar"?o.angleAxisHelper:null,d=o.coordinate==="cartesian"?o.getYAxisHelper():o.coordinate==="polar"?o.radiusAxisHelper:null;if(!c||!d)return;const h=c.getAxisId()===this._relatedAxisComponent.id?c:d.getAxisId()===this._relatedAxisComponent.id?d:this._isHorizontal?c:d,p=h===c?d:c,f=Ln(p.getScale(0).type);e.push(o.getRawData());const g=o.getSpec(),v=we(g.xField),m=we(g.yField),b=o.coordinate==="cartesian"?v[0]:(l=g.angleField)!==null&&l!==void 0?l:g.categoryField,_=o.coordinate==="cartesian"?m[0]:(u=g.radiusField)!==null&&u!==void 0?u:g.valueField;if(a[o.id]=o.type==="link"?"from_xField":h===c?b:_,t.push(a[o.id]),this._valueField){const S=o.type==="link"?"from_yField":p===c?b:_;n.push(f?S:null)}},{userId:this._seriesUserId,specIndex:this._seriesIndex}),this._originalStateFields=a}else hs(this._regions,a=>{e.push(a.getRawData()),t.push(this._field),this._valueField&&n.push(this._spec.valueField)},{userId:this._seriesUserId,specIndex:this._seriesIndex});const{dataSet:r}=this._option;Fg(r,"dataview",RB),pi(r,"dataFilterComputeDomain",HPt);const s=new vn(r,{name:`${this.type}_${this.id}_data`});s.transform({type:"dataFilterComputeDomain",options:{input:{dataCollection:e,stateFields:t,valueFields:n},output:{stateField:this._stateField,valueField:this._valueField}}},!1),this._data=new Cf(this._option,s),s.reRunAllTransform(),r.multipleDataViewAddListener(e,"change",this._handleDataCollectionChange.bind(this))}setAttrFromSpec(){var e;super.setAttrFromSpec(),this._spec.roamZoom===!0||this._spec.roamZoom?this._zoomAttr=Ie({},this._zoomAttr,this._spec.roamZoom):this._zoomAttr.enable=!1,this._spec.roamDrag===!0||this._spec.roamDrag?this._dragAttr=Ie({},this._dragAttr,this._spec.roamDrag):this._dragAttr.enable=!1,this._spec.roamScroll===!0||this._spec.roamScroll?this._scrollAttr=Ie({},this._scrollAttr,this._spec.roamScroll):this._scrollAttr.enable=!1,this._field=this._spec.field,this._width=this._computeWidth(),this._height=this._computeHeight(),this._visible=(e=this._spec.visible)===null||e===void 0||e}_statePointToData(e){const t=this._stateScale,n=t.domain();if(Ln(t.type))return this._isReverse()?n[0]+(n[1]-n[0])*(1-e):n[0]+(n[1]-n[0])*e;let r=t.range();this._isReverse()&&(r=r.slice().reverse());const s=r[0]+(r[1]-r[0])*e;return t.invert(s)}dataToStatePoint(e){const t=this._stateScale,n=t.scale(e);let r=t.range();return!this._isHorizontal&&Ln(t.type)&&(r=r.slice().reverse()),(n-r[0])/(r[1]-r[0])}_modeCheck(e,t){return e==="start"?t==="percent"&&this._spec.start||t==="value"&&this._spec.startValue:t==="percent"&&this._spec.end||t==="value"&&this._spec.endValue}_setStateFromSpec(){var e,t;let n,r;if(this._auto=!!this._spec.auto,this._spec.rangeMode){const[s,a]=this._spec.rangeMode;this._modeCheck("start",s)&&this._modeCheck("end",a)&&(n=s==="percent"?this._spec.start:this.dataToStatePoint(this._spec.startValue),r=a==="percent"?this._spec.end:this.dataToStatePoint(this._spec.endValue))}else n=this._spec.start?this._spec.start:this._spec.startValue?this.dataToStatePoint(this._spec.startValue):0,r=this._spec.end?this._spec.end:this._spec.endValue?this.dataToStatePoint(this._spec.endValue):1;this._startValue=this._statePointToData(n),this._endValue=this._statePointToData(r),this._start=n,this._end=r,this._minSpan=(e=this._spec.minSpan)!==null&&e!==void 0?e:0,this._maxSpan=(t=this._spec.maxSpan)!==null&&t!==void 0?t:1,Ln(this._stateScale.type)&&this._stateScale.domain()[0]!==this._stateScale.domain()[1]&&(this._spec.minValueSpan&&(this._minSpan=this._spec.minValueSpan/(this._stateScale.domain()[1]-this._stateScale.domain()[0])),this._spec.maxValueSpan&&(this._maxSpan=this._spec.maxValueSpan/(this._stateScale.domain()[1]-this._stateScale.domain()[0]))),this._minSpan=Math.max(0,this._minSpan),this._maxSpan=Math.min(this._maxSpan,1),this._relatedAxisComponent&&this._filterMode==="axis"||this._start===0&&this._end===1||(this._newDomain=this._parseDomainFromState(this._startValue,this._endValue))}_parseFieldOfSeries(e){var t;return(t=this._originalStateFields)===null||t===void 0?void 0:t[e.id]}_initStateScale(){const e=[0,1];if(this._relatedAxisComponent){const t=this._relatedAxisComponent.getScale(),n=Ln(t.type),r=this._computeDomainOfStateScale(n);if(this._stateScale=t.clone(),n){const s=r.map(a=>1*a);this._stateScale.domain(r.length?[ca(s),Os(s)]:[0,1],!0).range(e)}else this._stateScale.domain(r,!0).range(e)}else this._stateScale=new bb,this._stateScale.domain(this._computeDomainOfStateScale(),!0).range(e)}init(e){super.init(e),this._addTransformToSeries(),this._start===0&&this._end===1||this.effect.onZoomChange()}_addTransformToSeries(){this._relatedAxisComponent&&this._filterMode==="axis"||(pi(this._option.dataSet,"dataFilterWithNewDomain",zPt),hs(this._regions,e=>{e.addViewDataFilter({type:"dataFilterWithNewDomain",options:{getNewDomain:()=>this._newDomain,field:()=>{var t;return(t=this._field)!==null&&t!==void 0?t:this._parseFieldOfSeries(e)},isContinuous:()=>Ln(this._stateScale.type)},level:cp.dataZoomFilter})},{userId:this._seriesUserId,specIndex:this._seriesIndex}))}onRender(e){}_compareSpec(e,t){const n=super._compareSpec(e,t);return n.reMake||Rr(t,e)||(n.reRender=!0,n.reMake=!0),n}reInit(e){super.reInit(e),this._marks.forEach(t=>{t.getMarks().forEach(n=>{this.initMarkStyleWithSpec(n,this._spec[n.name])})})}changeRegions(){}update(e){}resize(e){}_parseDomainFromState(e,t){if(Ln(this._stateScale.type))return[Math.min(t,e),Math.max(t,e)];const n=this._stateScale.domain(),r=n.indexOf(e),s=n.indexOf(t);return n.slice(Math.min(r,s),Math.max(r,s)+1)}_initCommonEvent(){var e,t,n,r,s,a,o;const l={delayType:(t=(e=this._spec)===null||e===void 0?void 0:e.delayType)!==null&&t!==void 0?t:"throttle",delayTime:X((n=this._spec)===null||n===void 0?void 0:n.delayType)?(s=(r=this._spec)===null||r===void 0?void 0:r.delayTime)!==null&&s!==void 0?s:30:0,realTime:(o=(a=this._spec)===null||a===void 0?void 0:a.realTime)===null||o===void 0||o};this._zoomAttr.enable&&this.initZoomEventOfRegions(this._regions,null,this._handleChartZoom,l),this._scrollAttr.enable&&this.initScrollEventOfRegions(this._regions,null,this._handleChartScroll,l),this._dragAttr.enable&&this.initDragEventOfRegions(this._regions,null,this._handleChartDrag,l)}updateLayoutAttribute(){this._visible&&this._createOrUpdateComponent(),super.updateLayoutAttribute()}onLayoutStart(e,t,n){super.onLayoutStart(e,t,n);const r=this._autoUpdate(e),s=this._isHorizontal?"height":"width";this.layout.setLayoutRect({[s]:r?this[`_${s}`]:0},{[s]:Ve.Built_In}),this._dataUpdating=!1}getBoundsInRect(e){const t={x1:this.getLayoutStartPoint().x,y1:this.getLayoutStartPoint().y,x2:0,y2:0};return this._isHorizontal?(t.y2=t.y1+this._height,t.x2=t.x1+e.width):(t.x2=t.x1+this._width,t.y2=t.y1+e.height),t}hide(){var e;(e=this._component)===null||e===void 0||e.hideAll()}show(){var e;(e=this._component)===null||e===void 0||e.showAll()}_getAxisBandSize(e){const t=e==null?void 0:e.bandSize,n=e==null?void 0:e.maxBandSize,r=e==null?void 0:e.minBandSize;if(t||r||n)return{bandSize:t,maxBandSize:n,minBandSize:r}}_autoUpdate(e){var t,n,r,s,a,o;if(!this._auto)return this._cacheVisibility=void 0,!0;const l=this._relatedAxisComponent,u=l==null?void 0:l.getSpec(),c=l==null?void 0:l.getScale(),d=this._getAxisBandSize(u);if(!this._dataUpdating&&io(c.type)&&(e==null?void 0:e.height)===((t=this._cacheRect)===null||t===void 0?void 0:t.height)&&(e==null?void 0:e.width)===((n=this._cacheRect)===null||n===void 0?void 0:n.width)&&this._fixedBandSize===(d==null?void 0:d.bandSize))return this._cacheVisibility;let h=!0;if(this._isHorizontal&&(e==null?void 0:e.width)!==((r=this._cacheRect)===null||r===void 0?void 0:r.width)?c.range(l.getInverse()?[e.width,0]:[0,e.width]):(e==null?void 0:e.height)!==((s=this._cacheRect)===null||s===void 0?void 0:s.height)&&c.range(l.getInverse()?[0,e.height]:[e.height,0]),this._cacheRect={width:e==null?void 0:e.width,height:e==null?void 0:e.height},this._fixedBandSize=d==null?void 0:d.bandSize,io(c.type)){d&&(this._start||this._end)&&(this.type===De.scrollBar&&(this._start=0,this._end=1),this._updateRangeFactor());const[p,f]=(a=c.rangeFactor())!==null&&a!==void 0?a:[];h=(!Y(p)||!Y(f))&&!(p===0&&f===1)}else{const[p,f]=(o=c.rangeFactor())!==null&&o!==void 0?o:[this._start,this._end];h=!(p===0&&f===1)}return this.setStartAndEnd(this._start,this._end),h?this.show():this.hide(),this._cacheVisibility=h,h}_getNeedClearVRenderComponents(){return[this._component]}}wa($q,Sq);class tPe extends mP{_mergeThemeToSpec(e,t){const n=this._theme;let r=e;if(this._shouldMergeThemeToSpec()){const s=o=>{const l=Rt({selectedBackgroundChart:{line:{},area:{}}},this._theme,o),{selectedBackgroundChart:u={}}=o,{line:c,area:d}=u;return c&&c.visible!==!1&&(l.selectedBackgroundChart.line.style=Object.assign(Object.assign({},l.selectedBackgroundChart.line.style),{visible:!0})),d&&d.visible!==!1&&(l.selectedBackgroundChart.area.style=Object.assign(Object.assign({},l.selectedBackgroundChart.area.style),{visible:!0})),l},a=e;r=ke(a)?a.map(o=>s(o)):s(a)}return this._adjustPadding(r),{spec:r,theme:n}}}class AA extends $q{static getSpecInfo(e){const t=e[this.specKey];if(Y(t))return;if(!ke(t))return[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:De.dataZoom}];const n=[];return t.forEach((r,s)=>{n.push({spec:r,specPath:[this.specKey,s],specInfoPath:["component",this.specKey,s],type:De.dataZoom})}),n}constructor(e,t){var n;super(e,t),this.type=De.dataZoom,this.name=De.dataZoom,this.transformerConstructor=tPe,this.specKey="dataZoom",this.layoutZIndex=qn.DataZoom,this.layoutLevel=up.DataZoom,this.layoutType="region-relative",this._isReverseCache=!1,this._dataToPositionX=r=>{const s=this._orient==="left"?this._middleHandlerSize:0,a=this._isHorizontal?this._startHandlerSize/2:0,o=this._isHorizontal?this._stateScale:this._valueScale,l=this._isHorizontal?this._stateField:this._valueField;return o.scale(r[l])+this.getLayoutStartPoint().x+s+a},this._dataToPositionX2=r=>{const s=this._orient==="left"?this._middleHandlerSize:0,a=this._isHorizontal?this._startHandlerSize/2:0,o=this._isHorizontal?this._stateScale:this._valueScale,l=o.domain()[0];return o.scale(l)+this.getLayoutStartPoint().x+s+a},this._dataToPositionY=r=>{const s=this._isHorizontal?this._middleHandlerSize:0,a=this._isHorizontal?0:this._startHandlerSize/2,o=this._isHorizontal?this._valueScale:this._stateScale,l=this._isHorizontal?this._valueField:this._stateField;return o.scale(r[l])+this.getLayoutStartPoint().y+s+a},this._dataToPositionY2=r=>{const s=this._isHorizontal?this._middleHandlerSize:0,a=this._isHorizontal?0:this._startHandlerSize/2,o=this._isHorizontal?this._valueScale:this._stateScale,l=o.domain()[0];return o.scale(l)+this.getLayoutStartPoint().y+s+a},this._valueField="y",this._filterMode=(n=e.filterMode)!==null&&n!==void 0?n:"filter"}created(){super.created(),this._initValueScale()}setAttrFromSpec(){var e,t,n,r,s,a,o,l,u,c;super.setAttrFromSpec(),Ir(this._spec.roam)&&(this._zoomAttr.enable=this._spec.roam,this._dragAttr.enable=this._spec.roam,this._scrollAttr.enable=this._spec.roam),(this._zoomAttr.enable||this._dragAttr.enable||this._scrollAttr.enable)&&this.initZoomable(this.event,this._option.mode),this._backgroundSize=(t=(e=this._spec.background)===null||e===void 0?void 0:e.size)!==null&&t!==void 0?t:30,this._middleHandlerSize=this._computeMiddleHandlerSize(),this._width=this._computeWidth(),this._height=this._computeHeight(),Y((s=(r=(n=this._spec)===null||n===void 0?void 0:n.startHandler)===null||r===void 0?void 0:r.style)===null||s===void 0?void 0:s.size)&&(this._spec.startHandler.style.size=this._isHorizontal?this._height-this._middleHandlerSize:this._width-this._middleHandlerSize),Y((l=(o=(a=this._spec)===null||a===void 0?void 0:a.endHandler)===null||o===void 0?void 0:o.style)===null||l===void 0?void 0:l.size)&&(this._spec.endHandler.style.size=this._isHorizontal?this._height-this._middleHandlerSize:this._width-this._middleHandlerSize);const d=(u=this._spec.startHandler.style.visible)===null||u===void 0||u,h=(c=this._spec.endHandler.style.visible)===null||c===void 0||c;this._startHandlerSize=d?this._spec.startHandler.style.size:0,this._endHandlerSize=h?this._spec.endHandler.style.size:0}onLayoutEnd(e){this._updateScaleRange(),this._isReverse()&&!this._isReverseCache&&(this._isReverseCache=this._isReverse(),this.effect.onZoomChange()),this._cacheVisibility!==!1&&super.onLayoutEnd(e)}_initValueScale(){const e=this._computeDomainOfValueScale();if(e){const t=new Zd;t.domain(e),this._valueScale=t}}_updateScaleRange(){var e,t;const n=this._startHandlerSize+this._endHandlerSize;if(!this._stateScale||!this._valueScale)return;let r;const s=this._isHorizontal?this.getLayoutRect().width-n:this.getLayoutRect().height-n,a=(t=(e=this._relatedAxisComponent)===null||e===void 0?void 0:e.getScale().range())!==null&&t!==void 0?t:[this._startHandlerSize/2,s+this._startHandlerSize/2];this._isHorizontal?(r=this._visible?[this._startHandlerSize/2,this._computeWidth()-n+this._startHandlerSize/2]:a,this._stateScale.range(r),this._valueScale.range([this._computeHeight()-this._middleHandlerSize,0])):this.layoutOrient==="left"?(r=this._visible?[this._startHandlerSize/2,this._computeHeight()-n+this._startHandlerSize/2]:a,this._stateScale.range(r),this._valueScale.range([this._computeWidth()-this._middleHandlerSize,0])):(r=this._visible?[this._startHandlerSize/2,this._computeHeight()-n+this._startHandlerSize/2]:a,this._stateScale.range(r),this._valueScale.range([0,this._computeWidth()-this._middleHandlerSize])),this._component&&this._cacheVisibility!==!1&&this._component.setAttributes({size:{width:this._computeWidth(),height:this._computeHeight()},position:{x:this.getLayoutStartPoint().x,y:this.getLayoutStartPoint().y}})}_computeDomainOfValueScale(){const e=this._data.getLatestData().map(n=>n[this._valueField]),t=e.map(n=>1*n);return e.length?[ca(t),Os(t)]:null}_computeMiddleHandlerSize(){var e,t,n,r;let s=0;if(!((t=(e=this._spec)===null||e===void 0?void 0:e.middleHandler)===null||t===void 0)&&t.visible){const a=(n=this._spec.middleHandler.icon.style.size)!==null&&n!==void 0?n:8,o=(r=this._spec.middleHandler.background.size)!==null&&r!==void 0?r:40;s+=Math.max(a,o)}return s}_computeWidth(){return this._visible===!1?0:Xe(this._spec.width)?this._spec.width:this._isHorizontal?this.getLayoutRect().width:this._backgroundSize+this._middleHandlerSize}_computeHeight(){return this._visible===!1?0:Xe(this._spec.height)?this._spec.height:this._isHorizontal?this._backgroundSize+this._middleHandlerSize:this.getLayoutRect().height-(this._startHandlerSize+this._endHandlerSize)/2}_isScaleValid(e){if(!e||!e.domain())return!1;const t=e.domain();return(!Ln(e.type)||t[0]!==t[1])&&(!io(e.type)||Pnt(t).length!==1)}_getAttrs(e){var t,n,r,s,a;const o=(t=this._spec)!==null&&t!==void 0?t:{};return Object.assign({zIndex:this.layoutZIndex,start:this._start,end:this._end,position:{x:this.getLayoutStartPoint().x,y:this.getLayoutStartPoint().y},orient:this._orient,size:{width:this.getLayoutRect().width,height:this.getLayoutRect().height},showDetail:o.showDetail,brushSelect:(n=o.brushSelect)!==null&&n!==void 0&&n,zoomLock:(r=o.zoomLock)!==null&&r!==void 0&&r,minSpan:this._minSpan,maxSpan:this._maxSpan,delayType:o.delayType,delayTime:X(o.delayType)?(s=o.delayTime)!==null&&s!==void 0?s:30:0,realTime:(a=o.realTime)===null||a===void 0||a,previewData:e&&this._data.getLatestData(),previewPointsX:e&&this._dataToPositionX,previewPointsY:e&&this._dataToPositionY,tolerance:this._spec.tolerance},this._getComponentAttrs(e))}_createOrUpdateComponent(){if(this._visible){const e=this._isHorizontal?this._stateScale:this._valueScale,t=this._isHorizontal?this._valueScale:this._stateScale,n=this._isScaleValid(e)&&this._isScaleValid(t)&&this._spec.showBackgroundChart!==!1,r=this._getAttrs(n);if(this._component)this._component.setAttributes(r);else{const s=this.getContainer();this._component=new Eke(r),this._isHorizontal?n&&this._component.setPreviewPointsY1(this._dataToPositionY2):n&&this._component.setPreviewPointsX1(this._dataToPositionX2),this._component.setStatePointToData(a=>this._statePointToData(a)),this._component.addEventListener("change",a=>{const{start:o,end:l,tag:u}=a.detail;this._handleChange(o,l,void 0,u)}),s.add(this._component),this._updateScaleRange()}}}_handleChange(e,t,n,r){if(super._handleChange(e,t,n),this._shouldChange){n&&this._component&&this._component.setStartAndEnd(e,t),this._start=e,this._end=t;const s=this._statePointToData(e),a=this._statePointToData(t);(Pe(this._spec.updateDataAfterChange)?this._spec.updateDataAfterChange(e,t,s,a):this._handleStateChange(s,a,r))&&this.event.emit(Pt.dataZoomChange,{model:this,value:{filterData:this._filterMode!=="axis",start:e,end:t,startValue:this._startValue,endValue:this._endValue,newDomain:this._newDomain}})}}_handleDataCollectionChange(){var e;const t=this._data.getDataView();if(t.reRunAllTransform(),(e=this._component)===null||e===void 0||e.setPreviewData(t.latestData),this._valueScale){const n=this._computeDomainOfValueScale();n&&this._valueScale.domain(n)}}_getComponentAttrs(e){var t,n,r,s,a,o,l,u,c,d,h;const{middleHandler:p={},startText:f={},endText:g={},backgroundChart:v={},selectedBackgroundChart:m={}}=this._spec;return{backgroundStyle:Yt((t=this._spec.background)===null||t===void 0?void 0:t.style),startHandlerStyle:Yt((n=this._spec.startHandler)===null||n===void 0?void 0:n.style),middleHandlerStyle:p.visible?{visible:!0,icon:Yt((r=p.icon)===null||r===void 0?void 0:r.style),background:{size:(s=p.background)===null||s===void 0?void 0:s.size,style:Yt((a=p.background)===null||a===void 0?void 0:a.style)}}:{visible:!1},endHandlerStyle:Yt((o=this._spec.endHandler)===null||o===void 0?void 0:o.style),startTextStyle:{padding:f.padding,formatMethod:this._getHandlerTextFormatMethod(f),textStyle:Yt(f.style)},endTextStyle:{padding:g.padding,formatMethod:this._getHandlerTextFormatMethod(g),textStyle:Yt(g.style)},selectedBackgroundStyle:Yt(this._spec.selectedBackground.style),dragMaskStyle:Yt((l=this._spec.dragMask)===null||l===void 0?void 0:l.style),backgroundChartStyle:e?{line:Rt(Yt((u=v.line)===null||u===void 0?void 0:u.style),{fill:!1}),area:Object.assign({curveType:"basis",visible:!0},Yt((c=v.area)===null||c===void 0?void 0:c.style))}:{line:{visible:!1},area:{visible:!1}},selectedBackgroundChartStyle:e?{line:Rt(Yt((d=m.line)===null||d===void 0?void 0:d.style),{fill:!1}),area:Object.assign({curveType:"basis",visible:!0},Yt((h=m.area)===null||h===void 0?void 0:h.style))}:{line:{visible:!1},area:{visible:!1}},disableTriggerEvent:this._option.disableTriggerEvent}}_getHandlerTextFormatMethod(e){const{formatMethod:t,formatter:n}=e,{formatFunc:r}=em(t,n);return r?s=>r(s,{label:s},n):void 0}_getNeedClearVRenderComponents(){return[this._component]}clear(){if(this._component){const e=this.getContainer();this._component.removeAllChild(),e&&e.removeChild(this._component),this._component=null}super.clear()}}AA.type=De.dataZoom,AA.transformerConstructor=tPe,AA.specKey="dataZoom";const VPt=()=>{ce.registerComponent(AA.type,AA)};class TF extends $q{static getSpecInfo(e){const t=e[this.specKey];if(Y(t))return;if(!ke(t))return[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:De.scrollBar}];const n=[];return t.forEach((r,s)=>{n.push({spec:r,specPath:[this.specKey,s],specInfoPath:["component",this.specKey,s],type:De.scrollBar})}),n}constructor(e,t){var n;super(e,t),this.type=De.scrollBar,this.name=De.scrollBar,this.specKey="scrollBar",this.layoutZIndex=qn.DataZoom,this.layoutLevel=up.DataZoom,this.layoutType="region-relative",this._filterMode=(n=e.filterMode)!==null&&n!==void 0?n:"axis"}setAttrFromSpec(){super.setAttrFromSpec(),Ir(this._spec.roam)&&(this._zoomAttr.enable=!1,this._dragAttr.enable=this._spec.roam,this._scrollAttr.enable=this._spec.roam),(this._zoomAttr.enable||this._dragAttr.enable||this._scrollAttr.enable)&&this.initZoomable(this.event,this._option.mode)}onLayoutEnd(e){var t,n;this._updateScaleRange(),(n=(t=this.effect).onZoomChange)===null||n===void 0||n.call(t),super.onLayoutEnd(e)}_updateScaleRange(){this._component&&this._component.setAttributes({x:this.getLayoutStartPoint().x,y:this.getLayoutStartPoint().y,width:this.getLayoutRect().width,height:this.getLayoutRect().height})}_computeWidth(){return Xe(this._spec.width)?this._spec.width:this._isHorizontal?this.getLayoutRect().width:iU}_computeHeight(){return Xe(this._spec.height)?this._spec.height:this._isHorizontal?iU:this.getLayoutRect().height}_getAttrs(){var e,t,n,r,s,a;return Object.assign({zIndex:this.layoutZIndex,x:this.getLayoutStartPoint().x,y:this.getLayoutStartPoint().y,width:this.getLayoutRect().width,height:this.getLayoutRect().height,range:[this._start,this._end],direction:this._isHorizontal?"horizontal":"vertical",delayType:(e=this._spec)===null||e===void 0?void 0:e.delayType,delayTime:X((t=this._spec)===null||t===void 0?void 0:t.delayType)?(r=(n=this._spec)===null||n===void 0?void 0:n.delayTime)!==null&&r!==void 0?r:30:0,realTime:(a=(s=this._spec)===null||s===void 0?void 0:s.realTime)===null||a===void 0||a},this._getComponentAttrs())}_createOrUpdateComponent(){const e=this._getAttrs();if(this._component)this._component.setAttributes(e);else{const t=this.getContainer();this._component=new $L(e),this._component.addEventListener("scrollDrag",n=>{const r=n.detail.value;this._handleChange(r[0],r[1])}),t.add(this._component)}}_handleChange(e,t,n){super._handleChange(e,t,n);const r=Tce(this._start,e)&&Tce(this._end,t);if(this._shouldChange&&!r){n&&this._component&&this._component.setAttribute("range",[e,t]),this._start=e,this._end=t;const s=this._statePointToData(e),a=this._statePointToData(t);(Pe(this._spec.updateDataAfterChange)?this._spec.updateDataAfterChange(e,t,s,a):this._handleStateChange(this._statePointToData(e),this._statePointToData(t)))&&this.event.emit(Pt.scrollBarChange,{model:this,value:{filterData:this._filterMode!=="axis",start:this._start,end:this._end,startValue:this._startValue,endValue:this._endValue,newDomain:this._newDomain}})}}_handleDataCollectionChange(){}_initCommonEvent(){super._initCommonEvent(),this._component&&this._component.on("scrollDrag",e=>{const t=e.detail.value;this._handleChange(t[0],t[1])})}_getComponentAttrs(){const{rail:e,slider:t,innerPadding:n}=this._spec,r={};return Y(n)||(r.padding=n),Mt(e==null?void 0:e.style)||(r.railStyle=Yt(e.style)),Mt(t==null?void 0:t.style)||(r.sliderStyle=Yt(t.style)),r.disableTriggerEvent=this._option.disableTriggerEvent,r}_getNeedClearVRenderComponents(){return[this._component]}}TF.type=De.scrollBar,TF.specKey="scrollBar";const WPt=()=>{ce.registerComponent(TF.type,TF)},UPt=(i,e)=>{const{datum:t,title:n,content:r}=e,s=[],a=t.call(null);return n.visible&&s.push({type:"title",index:0,datum:a,spec:n}),we(r).forEach((o,l)=>{o.visible&&s.push({type:"content",index:l,datum:a,spec:o})}),s};class uw extends fu{constructor(){super(...arguments),this.type=De.indicator,this.name=De.indicator,this.specKey="indicator",this.layoutType="none",this.layoutZIndex=qn.Indicator,this.layoutLevel=up.Indicator,this._gap=0,this._activeDatum=null}static getSpecInfo(e){if(this.type!==uw.type)return null;const t=e[this.specKey];if(!ke(t))return t.visible===!1?[]:[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:De.indicator}];const n=[];return t.forEach((r,s)=>{r&&r.visible!==!1&&n.push({spec:r,specPath:[this.specKey,s],specInfoPath:["component",this.specKey,s],type:De.indicator})}),n}created(){super.created(),this.initData(),this.initEvent()}setAttrFromSpec(){super.setAttrFromSpec(),this._gap=this._spec.gap||0,this._title=this._spec.title,this._content=we(this._spec.content),this._regions=this._option.getRegionsInUserIdOrIndex(we(this._spec.regionId),we(this._spec.regionIndex))}onRender(e){}changeRegions(e){}initEvent(){var e;if(this._option.disableTriggerEvent||this._spec.trigger==="none")return;const t=(e=this.getCompiler())===null||e===void 0?void 0:e.getVGrammarView();t&&(this._spec.trigger==="hover"?(t.addEventListener("element-highlight:start",n=>{this.isRelativeModel(n.options.regionId)&&this.updateDatum(n.elements[0].getDatum())}),t.addEventListener("element-highlight:reset",n=>{this.isRelativeModel(n.options.regionId)&&this.updateDatum(null)})):(t.addEventListener("element-select:start",n=>{this.isRelativeModel(n.options.regionId)&&this.updateDatum(n.elements[0].getDatum())}),t.addEventListener("element-select:reset",n=>{this.isRelativeModel(n.options.regionId)&&this.updateDatum(null)})))}updateDatum(e){this._activeDatum=e,this._displayData.updateData();const t=this._getIndicatorAttrs();this._createOrUpdateIndicatorComponent(t)}initData(){pi(this._option.dataSet,"indicatorFilter",UPt);const e=new vn(this._option.dataSet,{name:`${this.type}_${this.id}_data`});e.transform({type:"indicatorFilter",options:{title:this._title,content:this._content,datum:()=>this._activeDatum}}),e.target.addListener("change",this.updateDatum.bind(this)),this._displayData=new Cf(this._option,e)}updateLayoutAttribute(){const e=this._getIndicatorAttrs();this._createOrUpdateIndicatorComponent(e),super.updateLayoutAttribute()}_getIndicatorAttrs(){const e=this._regions[0],{width:t,height:n}=e.getLayoutRect(),{x:r,y:s}=e.getLayoutStartPoint(),a=[];return we(this._spec.content).forEach(o=>{const l=Rt({},this._theme.content,o);a.push({visible:l.visible!==!1&&(!l.field||this._activeDatum!==null),space:l.space||this._gap,autoLimit:l.autoLimit,autoFit:l.autoFit,fitPercent:l.fitPercent,fitStrategy:l.fitStrategy,style:Object.assign(Object.assign({},Yt(l.style)),{text:this._createText(l.field,l.style.text)})})}),{visible:this._spec.visible!==!1&&(this._spec.fixed!==!1||this._activeDatum!==null),size:{width:t,height:n},zIndex:this.layoutZIndex,x:r,y:s,dx:this._spec.offsetX?$S(this._spec.offsetX,this._computeLayoutRadius()):0,dy:this._spec.offsetY?$S(this._spec.offsetY,this._computeLayoutRadius()):0,limitRatio:this._spec.limitRatio||1/0,title:{visible:this._spec.title.visible!==!1&&(!X(this._spec.title.field)||this._activeDatum!==null),space:this._spec.title.space||this._gap,autoLimit:this._spec.title.autoLimit,autoFit:this._spec.title.autoFit,fitPercent:this._spec.title.fitPercent,fitStrategy:this._spec.title.fitStrategy,style:Object.assign(Object.assign({},Yt(this._spec.title.style)),{text:this._createText(this._spec.title.field,this._spec.title.style.text)})},content:a}}_createOrUpdateIndicatorComponent(e){if(this._indicatorComponent)Rr(e,this._cacheAttrs)||this._indicatorComponent.setAttributes(e);else{const t=this.getContainer(),n=new Zvt(e);n.name="indicator",t.add(n),this._indicatorComponent=n,this._indicatorComponent.on("*",(r,s)=>this._delegateEvent(this._indicatorComponent,r,s))}return this._cacheAttrs=e,this._indicatorComponent}_createText(e,t){var n;return e?this._activeDatum?this._activeDatum[e]:"":Pe(t)?(n=t(this._activeDatum,void 0))!==null&&n!==void 0?n:"":t??""}_computeLayoutRadius(){const e=this._regions[0],{width:t,height:n}=e.getLayoutRect();return Math.min(t/2,n/2)}isRelativeModel(e){return this._regions.some(t=>t.id===e)}_getNeedClearVRenderComponents(){return[this._indicatorComponent]}clear(){this._cacheAttrs=null,super.clear()}getIndicatorComponent(){return this._indicatorComponent}}uw.type=De.indicator,uw.specKey="indicator";const GPt=()=>{ce.registerComponent(uw.type,uw)},YPt=["sum","average","min","max","variance","standardDeviation","median"];var KPt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};function S0(i,e,t){if(!t)return!1;const n=i.map(a=>1*a),r=ca(n),s=Os(n);return e<r||e>s}function Jhe(i,e,t,n,r,s){var a,o;const{relativeSeries:l}=n;let u;return Xe(i.x)&&S0(e,i.x,t)&&((o=l==null?void 0:(a=l.getXAxisHelper()).setExtendDomain)===null||o===void 0||o.call(a,"marker_xAxis_extend",i.x)),u=Nu(i.x)?jS(i.x,r)+s.x:l.getXAxisHelper().dataToPosition([i.x])+s.x,u}function epe(i,e,t,n,r,s){var a,o;const{relativeSeries:l}=n;let u;return Xe(i.y)&&S0(e,i.y,t)&&((o=(a=l.getYAxisHelper())===null||a===void 0?void 0:a.setExtendDomain)===null||o===void 0||o.call(a,"marker_yAxis_extend",i.y)),u=Nu(i.y)?jS(i.y,r)+s.y:l.getYAxisHelper().dataToPosition([i.y])+s.y,u}function tpe(i,e,t,n){var r,s;const{relativeSeries:a}=n;return Xe(i.angle)&&S0(e,i.angle,t)&&((s=(r=a.angleAxisHelper)===null||r===void 0?void 0:r.setExtendDomain)===null||s===void 0||s.call(r,"marker_angleAxis_extend",i.angle)),a.angleAxisHelper.dataToPosition([i.angle])}function ipe(i,e,t,n){var r,s;const{relativeSeries:a}=n;return Xe(i.radius)&&S0(e,i.radius,t)&&((s=(r=a.radiusAxisHelper)===null||r===void 0?void 0:r.setExtendDomain)===null||s===void 0||s.call(r,"marker_radiusAxis_extend",i.radius)),a.radiusAxisHelper.dataToPosition([i.radius])}function jS(i,e){return Number(i.substring(0,i.length-1))*e/100}function Ck(i){return YPt.includes(i)}function PF(i,e,t,n,r){const s=e.getRegion(),a=s.getLayoutStartPoint(),o=t.getRegion(),l=o.getLayoutStartPoint(),u=Math.abs(Math.min(a.x,l.x)-Math.max(a.x+s.getLayoutRect().width,l.x+o.getLayoutRect().width)),c=Math.abs(Math.min(a.y,l.y)-Math.max(a.y+s.getLayoutRect().height,l.y+o.getLayoutRect().height)),d={relativeSeries:n,startRelativeSeries:e,endRelativeSeries:t},h=[],p=i.latestData[0]&&i.latestData[0].latestData?i.latestData[0].latestData:i.latestData,f=n.getXAxisHelper().getScale(0).domain(),g=n.getYAxisHelper().getScale(0).domain();return p.forEach(v=>{const m=X(v.x),b=X(v.y);if(m&&b){const _=Jhe(v,f,r,d,u,a),S=epe(v,g,r,d,c,a);h.push([{x:_,y:S}])}else if(m){const _=Jhe(v,f,r,d,u,a),S=Math.max(a.y+s.getLayoutRect().height,l.y+o.getLayoutRect().height),C=Math.min(a.y,l.y);h.push([{x:_,y:S},{x:_,y:C}])}else if(b){const _=Math.min(a.x,l.x),S=epe(v,g,r,d,c,a),C=Math.max(a.x+s.getLayoutRect().width,l.x+o.getLayoutRect().width);h.push([{x:_,y:S},{x:C,y:S}])}}),h}function Nq(i,e,t,n,r){const s={relativeSeries:n,startRelativeSeries:e,endRelativeSeries:t},a=[],o=i.latestData[0]&&i.latestData[0].latestData?i.latestData[0].latestData:i.latestData,l=n.angleAxisHelper.getScale(0).domain(),u=n.radiusAxisHelper.getScale(0).domain(),c=Math.min(n.getRegion().getLayoutRect().width/2,n.getRegion().getLayoutRect().height/2);return o.forEach(d=>{const h=X(d.angle),p=X(d.radius);if(h&&p){const f=tpe(d,l,r,s),g=ipe(d,u,r,s);a.push([{angle:f,radius:g}])}else if(h){const f=tpe(d,l,r,s);a.push([{angle:f,radius:-c},{angle:f,radius:c}])}else if(p){const f=ipe(d,u,r,s);a.push([{radius:f,angle:0},{radius:f,angle:2*Math.PI}])}}),a}function XPt(i,e){const t=[];return(i.latestData[0]&&i.latestData[0].latestData?i.latestData[0].latestData:i.latestData).forEach(n=>{X(n.areaName)&&t.push([{x:e.nameValueToPosition(n.areaName).x+e.getRegion().getLayoutStartPoint().x,y:e.nameValueToPosition(n.areaName).y+e.getRegion().getLayoutStartPoint().y}])}),t}function jq(i,e,t,n){const r=[],s=i.latestData[0]&&i.latestData[0].latestData?i.latestData[0].latestData:i.latestData,a=ke(n);return s.forEach((o,l)=>{var u,c,d,h;const p=o!=null&&o.getRefRelativeSeries?o.getRefRelativeSeries():e,f=p.getRegion(),g=f.getLayoutStartPoint(),{width:v,height:m}=f.getLayoutRect();let b=0,_=0;if(n){const A=a?n[l]:n,P=A.x,O=A.y;P&&(b=Nu(P)?Number(P.substring(0,P.length-1))*v/100:P),O&&(_=Nu(O)?Number(O.substring(0,O.length-1))*m/100:O)}const S=p.getXAxisHelper().getScale(0).domain(),C=p.getYAxisHelper().getScale(0).domain(),k=we(o.x),E=we(o.y);k.length===1&&Xe(k[0])&&S0(S,k[0],t)&&((c=(u=p.getXAxisHelper())===null||u===void 0?void 0:u.setExtendDomain)===null||c===void 0||c.call(u,"marker_xAxis_extend",k[0])),E.length===1&&Xe(E[0])&&S0(C,E[0],t)&&((h=(d=p.getYAxisHelper())===null||d===void 0?void 0:d.setExtendDomain)===null||h===void 0||h.call(d,"marker_yAxis_extend",E[0])),r.push({x:p.getXAxisHelper().dataToPosition(k)+g.x+b,y:p.getYAxisHelper().dataToPosition(E)+g.y+_})}),r}function iPe(i,e,t){const n=[];return(i.latestData[0]&&i.latestData[0].latestData?i.latestData[0].latestData:i.latestData).forEach(r=>{var s,a,o,l;const u=r!=null&&r.getRefRelativeSeries?r.getRefRelativeSeries():e,c=u.angleAxisHelper.getScale(0).domain(),d=u.radiusAxisHelper.getScale(0).domain(),h=we(r.angle),p=we(r.radius);h.length===1&&Xe(h[0])&&S0(c,h[0],t)&&((a=(s=u.angleAxisHelper)===null||s===void 0?void 0:s.setExtendDomain)===null||a===void 0||a.call(s,"marker_xAxis_extend",h[0])),p.length===1&&Xe(p[0])&&S0(d,p[0],t)&&((l=(o=u.radiusAxisHelper)===null||o===void 0?void 0:o.setExtendDomain)===null||l===void 0||l.call(o,"marker_yAxis_extend",p[0])),n.push({angle:u.angleAxisHelper.dataToPosition(h),radius:u.radiusAxisHelper.dataToPosition(p)})}),n}function zq(i,e,t){if(t){const s=e.getRegion(),{x:a,y:o}=s.getLayoutStartPoint(),{width:l,height:u}=s.getLayoutRect();return i.map(c=>{let{x:d,y:h}=c;return Nu(d)&&(d=jS(d,l)),d+=a,Nu(h)&&(h=jS(h,u)),h+=o,{x:d,y:h}})}const{width:n,height:r}=e.getOption().getChart().getViewRect();return i.map(s=>{let{x:a,y:o}=s;return Nu(a)&&(a=jS(a,n)),Nu(o)&&(o=jS(o,r)),{x:a,y:o}})}function Hq(i){let e=1/0,t=-1/0,n=1/0,r=-1/0;return i.forEach(s=>{const a=s.getLayoutStartPoint(),o=s.getLayoutRect();a.x<e&&(e=a.x),a.x+o.width>t&&(t=a.x+o.width),a.y<n&&(n=a.y),a.y+o.height>r&&(r=a.y+o.height)}),{minX:e,maxX:t,minY:n,maxY:r}}function Vq(i,e){const{labelBackground:t={},style:n,shape:r}=i,s=KPt(i,["labelBackground","style","shape"]);if(i.visible!==!1){const a=s;return r!=null&&r.visible?a.shape=Object.assign({visible:!0},Yt(r.style)):a.shape={visible:!1},t.visible!==!1?(a.panel=Object.assign({visible:!0},Mv(Yt(t.style),e)),X(t.padding)&&(a.padding=au(t.padding))):(a.panel={visible:!1},a.padding=0),n&&(a.textStyle=Mv(Yt(n),e)),a}return{visible:!1}}function mo(i,e){for(const t in i)Pe(i[t])&&(i[t]=i[t](e));return i}function Mv(i,e){return Pe(i)?i(e):i}function npe(i,e){return Pe(i)?i(e):i}function rpe(i,e,t){return X(i)?e==="regionLeft"?t.getLayoutStartPoint().x-i.x:e==="regionRight"?t.getLayoutStartPoint().x+t.getLayoutRect().width-i.x:e==="regionTop"?t.getLayoutStartPoint().y-i.y:e==="regionBottom"?t.getLayoutStartPoint().y+t.getLayoutRect().height-i.y:e:e}function S_(i){const e="x"in i,t="y"in i,n="x1"in i,r="y1"in i,s="angle"in i,a="radius"in i,o="angle1"in i,l="radius1"in i;return{doXProcess:e&&!t&&!r,doXYY1Process:e&&t&&r,doYProcess:t&&!e&&!n,doYXX1Process:t&&e&&n,doXYProcess:e&&t&&n&&r,doAngleProcess:s&&!o&&!a&&!l,doRadiusProcess:a&&!l&&!s&&!o,doAngRadRad1Process:s&&!o&&a&&l,doRadAngAng1Process:a&&s&&o&&!l,doRadAngProcess:s&&a&&o&&l,doCoordinatesProcess:"coordinates"in i&&(!("process"in i)||"process"in i&&"xy"in i.process)}}function x_(i){const e="x"in i,t="x1"in i,n="y"in i,r="y1"in i,s="angle"in i,a="radius"in i,o="angle1"in i,l="radius1"in i;return{doXProcess:e&&t&&!n&&!r,doYProcess:n&&r&&!e&&!t,doXYProcess:e&&t&&n&&r,doAngleProcess:s&&o&&!a&&!l,doRadiusProcess:a&&l&&!s&&!o,doRadAngProcess:s&&a&&o&&l,doCoordinatesProcess:"coordinates"in i}}function nU(i){return{doXYProcess:X(i.x)&&X(i.y),doPolarProcess:X(i.angle)&&X(i.radius),doGeoProcess:X(i.areaName)}}function qPt(i,e,t,n=0){const r=[],s=i.y-e.y,a=i.x-e.x;switch(t){case"top":r.push(i),r.push({x:i.x,y:s>0?i.y-n-Math.abs(s):i.y-n}),r.push({x:e.x,y:s>0?e.y-n:e.y-n-Math.abs(s)}),r.push(e);break;case"bottom":r.push(i),r.push({x:i.x,y:s<0?i.y+n+Math.abs(s):i.y+n}),r.push({x:e.x,y:s<0?e.y+n:e.y+n+Math.abs(s)}),r.push(e);break;case"left":r.push(i),r.push({x:a>0?i.x-n-Math.abs(a):i.x-n,y:i.y}),r.push({x:a>0?e.x-n:e.x-n-Math.abs(a),y:e.y}),r.push(e);break;case"right":r.push(i),r.push({x:a>0?i.x+n:i.x+n+Math.abs(a),y:i.y}),r.push({x:a>0?e.x+n+Math.abs(a):e.x+n,y:e.y}),r.push(e)}return r}function ZPt(i,e,t,n=0){const r=i.y-e.y,s=i.x-e.x;return t==="bottom"?{dx:s>0?-s/2:Math.abs(s/2),dy:r>0?n:Math.abs(r)+n}:t==="top"?{dx:s>0?-Math.abs(s/2):+Math.abs(s/2),dy:r>0?-(Math.abs(r)+n):-n}:t==="left"?{dx:s>0?-s-n:-n,dy:r>0?-r/2:Math.abs(r/2)}:t==="right"?{dx:s>0?n:Math.abs(s)+n,dy:r>0?-r/2:Math.abs(r/2)}:{}}const QPt=(i,e)=>{const t=i[0].latestData;return qke(t,e.field)},JPt=(i,e)=>{const t=i[0].latestData;return jX(t,e.field)};function eOt(i,e){const t=i[0].latestData;return Zke(t,e.field)}function tOt(i,e){const t=i[0].latestData;return Qke(t,e.field)}function iOt(i,e){const t=i[0].latestData;return Jke(t,e.field)}function nOt(i,e){const t=i[0].latestData;return k0t(t,e.field)}function rOt(i,e){const t=i[0].latestData;return E0t(t,e.field)}function Wq(i,e){const t=[];return e.forEach(n=>{const r={x:null,y:null,angle:null,radius:null,areaName:null};if(X(n.x)){const s=n.x;ke(s)?r.x=s.map(a=>rg(a,i,n)):r.x=rg(s,i,n)}if(X(n.y)){const s=n.y;ke(s)?r.y=s.map(a=>rg(a,i,n)):r.y=rg(s,i,n)}if(X(n.angle)){const s=n.angle;ke(s)?r.angle=s.map(a=>rg(a,i,n)):r.angle=rg(s,i,n)}if(X(n.radius)){const s=n.radius;ke(s)?r.radius=s.map(a=>rg(a,i,n)):r.radius=rg(s,i,n)}if(X(n.areaName)){const s=n.areaName;r.areaName=rg(s,i,n)}n.getRefRelativeSeries&&(r.getRefRelativeSeries=n.getRefRelativeSeries),t.push(r)}),t}const sOt={min:QPt,max:JPt,sum:eOt,average:tOt,variance:iOt,standardDeviation:nOt,median:rOt};function rg(i,e,t){const n=t.getRelativeSeries(),r=t.getStartRelativeSeries(),s=t.getEndRelativeSeries(),a=n.getData().getLatestData(),o=r.getData().getLatestData(),l=s.getData().getLatestData();if(Pe(i))return i(a,o,l,n,r,s);if(np(i)){const{aggrType:u,field:c}=i;return sOt[u](e,{field:c})}return i}class Uq extends fu{constructor(){super(...arguments),this.layoutType="none",this._layoutOffsetX=0,this._layoutOffsetY=0}getRelativeSeries(){return this._relativeSeries}getMarkerData(){return this._markerData}static _getMarkerCoordinateType(e){return"cartesian"}static getSpecInfo(e){const t=e[this.specKey];if(Mt(t))return;if(!ke(t)&&t.visible!==!1&&this._getMarkerCoordinateType(t)===this.coordinateType)return[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:this.type}];const n=[];return we(t).forEach((r,s)=>{r.visible!==!1&&this._getMarkerCoordinateType(r)===this.coordinateType&&n.push({spec:r,specPath:[this.specKey,s],specInfoPath:["component",this.specKey,s],type:this.type})}),n}created(){super.created(),this._bindSeries(),this._initDataView(),this.initEvent()}_getAllRelativeSeries(){return{getRelativeSeries:()=>this._relativeSeries,getStartRelativeSeries:()=>this._startRelativeSeries,getEndRelativeSeries:()=>this._endRelativeSeries}}_getFieldInfoFromSpec(e,t,n){const r={x:"xField",y:"yField",radius:"valueField",angle:"categoryField",areaName:"nameField"};return ct(t)&&Ck(t)?{field:n.getSpec()[r[e]],aggrType:t}:t}_processSpecByDims(e){const t=this._relativeSeries,n={};return e.forEach(r=>n[r.dim]=this._getFieldInfoFromSpec(r.dim,r.specValue,t)),Object.assign(Object.assign({},n),this._getAllRelativeSeries())}_processSpecCoo(e){var t;let n;return((t=e.coordinates)!==null&&t!==void 0?t:we(e.coordinate)).map(r=>{const s=this._getSeriesByIdOrIndex(r.refRelativeSeriesId,r.refRelativeSeriesIndex);if(this.coordinateType==="cartesian"){const{xField:a,yField:o}=s.getSpec(),{xFieldDim:l,xFieldIndex:u,yFieldDim:c,yFieldIndex:d}=r;let h=a;X(u)&&(h=we(a)[u]),l&&we(a).includes(l)&&(h=l);let p=o;X(d)&&(p=we(o)[d]),c&&we(o).includes(c)&&(p=c),n=Object.assign({x:void 0,y:void 0},this._getAllRelativeSeries()),ct(r[h])&&Ck(r[h])?n.x={field:h,aggrType:r[h]}:n.x=we(h).map(f=>r[f]),ct(r[p])&&Ck(r[p])?n.y={field:p,aggrType:r[p]}:n.y=we(p).map(f=>r[f])}else if(this.coordinateType==="polar"){const{valueField:a,categoryField:o}=s.getSpec(),{angleFieldDim:l,angleFieldIndex:u}=r;let c=o;X(u)&&(c=we(o)[u]),l&&we(o).includes(l)&&(c=l);const d=a;n=Object.assign({angle:void 0,radius:void 0},this._getAllRelativeSeries()),ct(r[c])&&Ck(r[c])?n.angle={field:c,aggrType:r[c]}:n.angle=we(c).map(h=>r[h]),ct(r[d])&&Ck(r[d])?n.radius={field:d,aggrType:r[d]}:n.radius=we(d).map(h=>r[h])}return n.getRefRelativeSeries=()=>s,n})}_getRelativeDataView(){if(this._specifiedDataSeries){let e=[];we(this._specifiedDataSeries).forEach(n=>{e=e.concat(n.getViewData().latestData)});const t=new f0;return t.registerParser("array",txe),new vn(t).parse(e,{type:"array"})}return this._relativeSeries.getViewData()}updateLayoutAttribute(){var e,t,n;if((e=this._spec.visible)===null||e===void 0||e){if(!this._markerComponent){const r=this._createMarkerComponent();r.name=(t=this._spec.name)!==null&&t!==void 0?t:this.type,r.id=(n=this._spec.id)!==null&&n!==void 0?n:`${this.type}-${this.id}`,this._markerComponent=r,this.getContainer().add(this._markerComponent),this._markerComponent.on("*",(s,a)=>{this._delegateEvent(this._markerComponent,s,a,null,this.getMarkerData.bind(this))})}this._markerLayout()}super.updateLayoutAttribute()}_getSeriesByIdOrIndex(e,t){var n,r;let s;return s=(n=this._option.getSeriesInUserIdOrIndex(X(e)?[e]:[],[t]))===null||n===void 0?void 0:n[0],s||(s=(r=this._relativeSeries)!==null&&r!==void 0?r:this._getFirstSeries()),s}_bindSeries(){const e=this._spec;this._relativeSeries=this._getSeriesByIdOrIndex(e.relativeSeriesId,e.relativeSeriesIndex),this._startRelativeSeries=this._getSeriesByIdOrIndex(e.startRelativeSeriesId,e.startRelativeSeriesIndex),this._endRelativeSeries=this._getSeriesByIdOrIndex(e.endRelativeSeriesId,e.endRelativeSeriesIndex),e.specifiedDataSeriesIndex&&e.specifiedDataSeriesIndex==="all"||e.specifiedDataSeriesId&&e.specifiedDataSeriesId==="all"?this._specifiedDataSeries=this._option.getAllSeries():(e.specifiedDataSeriesIndex||e.specifiedDataSeriesId)&&(this._specifiedDataSeries=this._getSeriesByIdOrIndex(e.specifiedDataSeriesId,e.specifiedDataSeriesIndex))}initEvent(){this._relativeSeries.coordinate!=="cartesian"&&(this._relativeSeries.event.on("zoom",this._markerLayout.bind(this)),this._relativeSeries.event.on("panmove",this._markerLayout.bind(this)),this._relativeSeries.event.on("scroll",this._markerLayout.bind(this)))}onRender(e){}changeRegions(e){}clear(){super.clear(),this._firstSeries=null}_getFirstSeries(){var e;if(this._firstSeries)return this._firstSeries;const t=W_(this._regions);return t?(this._firstSeries=t,t):((e=this._option)===null||e===void 0||e.onError("need at least one series"),null)}_getNeedClearVRenderComponents(){return[this._markerComponent]}onLayoutStart(e,t,n){Y(this._spec.offsetX)||(this._layoutOffsetX=vo(this._spec.offsetX,t.width,t)),Y(this._spec.offsetY)||(this._layoutOffsetY=vo(this._spec.offsetY,t.height,t)),super.onLayoutStart(e,t,n)}_compareSpec(e,t){const n=super._compareSpec(e,t);return Rr(t,e)||(n.reRender=!0,n.reMake=!0,n.change=!0),n}}function aOt(i,e){const t=i[0].latestData;return A0t(t,e.fieldX,e.fieldY)}function Gq(i,e){if(e&&e.getRelativeSeries){const t=e.getRelativeSeries();if(t){const n=t.getViewData();return n&&n.latestData&&n.latestData.length?i:[]}}return i}class Yq extends Uq{constructor(){super(...arguments),this.specKey="markLine",this.layoutZIndex=qn.MarkLine}static _getMarkerCoordinateType(e){const{doAngleProcess:t,doRadiusProcess:n,doAngRadRad1Process:r,doRadAngAng1Process:s,doRadAngProcess:a}=S_(e);return e.coordinateType==="polar"||t||n||r||s||a?"polar":"cartesian"}_createMarkerComponent(){var e,t,n,r,s,a,o,l,u,c,d,h,p,f,g,v,m,b,_;const{label:S={},startSymbol:C={},endSymbol:k={}}=this._spec,E={zIndex:this.layoutZIndex,interactive:(e=this._spec.interactive)===null||e===void 0||e,hover:(t=this._spec.interactive)===null||t===void 0||t,select:(n=this._spec.interactive)===null||n===void 0||n,points:[{x:0,y:0},{x:0,y:0}],center:{x:0,y:0},radius:0,startAngle:0,endAngle:0,lineStyle:Mv(Yt((r=this._spec.line)===null||r===void 0?void 0:r.style),this._markerData),clipInRange:(s=this._spec.clip)!==null&&s!==void 0&&s,label:Vq(S,this._markerData),state:{line:mo((o=(a=this._spec.line)===null||a===void 0?void 0:a.state)!==null&&o!==void 0?o:{},this._markerData),lineStartSymbol:mo((u=(l=this._spec.startSymbol)===null||l===void 0?void 0:l.state)!==null&&u!==void 0?u:{},this._markerData),lineEndSymbol:mo((d=(c=this._spec.endSymbol)===null||c===void 0?void 0:c.state)!==null&&d!==void 0?d:{},this._markerData),label:mo((f=(p=(h=this._spec)===null||h===void 0?void 0:h.label)===null||p===void 0?void 0:p.state)!==null&&f!==void 0?f:{},this._markerData),labelBackground:mo((b=(m=(v=(g=this._spec)===null||g===void 0?void 0:g.label)===null||v===void 0?void 0:v.labelBackground)===null||m===void 0?void 0:m.state)!==null&&b!==void 0?b:{},this._markerData)},animation:(_=this._spec.animation)!==null&&_!==void 0&&_,animationEnter:this._spec.animationEnter,animationExit:this._spec.animationExit,animationUpdate:this._spec.animationUpdate};return C.visible?E.startSymbol=Object.assign(Object.assign({},C),{visible:!0,style:Yt(C.style)}):E.startSymbol={visible:!1},k.visible?E.endSymbol=Object.assign(Object.assign({},k),{visible:!0,style:Yt(k.style)}):E.endSymbol={visible:!1},this._newMarkLineComponent(E)}_getUpdateMarkerAttrs(){var e,t,n,r;const s=this._spec,a=this._markerData,o=this._startRelativeSeries,l=this._endRelativeSeries,u=this._relativeSeries,c=this._computePointsAttr(),d=u.getViewData().latestData,h=a.latestData[0]&&a.latestData[0].latestData?a.latestData[0].latestData:a.latestData;let p;if(s.clip||!((e=s.label)===null||e===void 0)&&e.confine){const{minX:v,maxX:m,minY:b,maxY:_}=Hq([o.getRegion(),l.getRegion(),u.getRegion()]);p={x:v,y:b,width:m-v,height:_-b}}const f=(n=(t=this._markerComponent)===null||t===void 0?void 0:t.attribute)!==null&&n!==void 0?n:{},g=Object.assign(Object.assign({},f.label),{text:this._spec.label.formatMethod?this._spec.label.formatMethod(h,d):(r=f.label)===null||r===void 0?void 0:r.text});return Object.assign(Object.assign({},c),{label:g,limitRect:p,dx:this._layoutOffsetX,dy:this._layoutOffsetY})}_markerLayout(){var e;const t=this._getUpdateMarkerAttrs();(e=this._markerComponent)===null||e===void 0||e.setAttributes(t)}_initDataView(){const e=this._spec,t="coordinates"in e,{doXProcess:n,doYProcess:r,doXYY1Process:s,doYXX1Process:a,doXYProcess:o,doAngleProcess:l,doRadiusProcess:u,doAngRadRad1Process:c,doRadAngAng1Process:d,doRadAngProcess:h}=S_(e);if(this._markerData=this._getRelativeDataView(),!(n||r||s||a||o||l||u||c||d||h||t))return;pi(this._option.dataSet,"markerAggregation",Wq),pi(this._option.dataSet,"markerRegression",aOt),pi(this._option.dataSet,"markerFilter",Gq);const{options:p,needAggr:f,needRegr:g,processData:v}=this._computeOptions(),m=new vn(this._option.dataSet);m.parse([v],{type:"dataview"}),f&&m.transform({type:"markerAggregation",options:p}),g&&m.transform({type:"markerRegression",options:p}),m.transform({type:"markerFilter",options:this._getAllRelativeSeries()}),m.target.on("change",()=>{this._markerLayout()}),this._markerData=m}}Yq.specKey="markLine";class OF extends Yq{constructor(){super(...arguments),this.type=De.markLine,this.name=De.markLine,this.coordinateType="cartesian"}_newMarkLineComponent(e){return new Wv(e)}_computePointsAttr(){var e;const t=this._spec,n=this._markerData,r=this._startRelativeSeries,s=this._endRelativeSeries,a=this._relativeSeries,o=X(t.coordinates),l=X(t.process),u=l&&X(t.process.x),c=l&&X(t.process.y),d=X(t.positions),h=(e=t.autoRange)!==null&&e!==void 0&&e,{doXProcess:p,doYProcess:f,doXYY1Process:g,doYXX1Process:v,doXYProcess:m,doCoordinatesProcess:b}=S_(t);let _=[];if(p||g||f||v||m||o&&u||o&&c){const S=PF(n,r,s,a,h);_=S.length===1?S[0]:S.map(C=>C[0])}else b?_=jq(n,a,h,t.coordinatesOffset):d&&(_=zq(t.positions,a,t.regionRelative));return{points:_}}_markerLayout(){var e,t,n,r,s,a,o,l;const u=this._getUpdateMarkerAttrs();if(this._spec.type==="type-step"){const c=this._startRelativeSeries,d=this._endRelativeSeries,{multiSegment:h,mainSegmentIndex:p}=this._spec.line||{},{connectDirection:f,expandDistance:g=0}=this._spec;let v;if(Nu(g)){const E=c.getRegion(),A=E.getLayoutStartPoint(),P=d.getRegion(),O=P.getLayoutStartPoint();if(f==="bottom"||f==="top"){const M=Math.abs(Math.min(A.y,O.y)-Math.max(A.y+E.getLayoutRect().height,O.y+P.getLayoutRect().height));v=Number(g.substring(0,g.length-1))*M/100}else{const M=Math.abs(Math.min(A.x,O.x)-Math.max(A.x+E.getLayoutRect().width,O.x+P.getLayoutRect().width));v=Number(g.substring(0,g.length-1))*M/100}}else v=g;const{points:m,label:b,limitRect:_}=u,S=qPt(m[0],m[1],f,v);let C;C=h&&X(p)?{position:"middle",autoRotate:!1,refX:0,refY:0}:Object.assign(Object.assign({position:"start",autoRotate:!1},ZPt(m[0],m[1],f,v)),{refX:0,refY:0}),Ce((e=this._spec.label)===null||e===void 0?void 0:e.refX)&&(C.refX+=this._spec.label.refX),Ce((t=this._spec.label)===null||t===void 0?void 0:t.refY)&&(C.refY+=this._spec.label.refY),Ce((n=this._spec.label)===null||n===void 0?void 0:n.dx)&&(C.dx=(C.dx||0)+this._spec.label.dx),Ce((r=this._spec.label)===null||r===void 0?void 0:r.dy)&&(C.dy=(C.dy||0)+this._spec.label.dy);const k=(a=(s=this._markerComponent)===null||s===void 0?void 0:s.attribute)!==null&&a!==void 0?a:{};(o=this._markerComponent)===null||o===void 0||o.setAttributes({points:h?[[S[0],S[1]],[S[1],S[2]],[S[2],S[3]]]:S,label:Object.assign(Object.assign(Object.assign({},b),C),{textStyle:Object.assign(Object.assign({},k.label.textStyle),{textAlign:"center",textBaseline:"middle"})}),limitRect:_,multiSegment:h,mainSegmentIndex:p,dx:this._layoutOffsetX,dy:this._layoutOffsetY})}else(l=this._markerComponent)===null||l===void 0||l.setAttributes(u)}_computeOptions(){let e,t=this._getRelativeDataView(),n=!0,r=!1;const s=this._spec,a=this._relativeSeries,{doXProcess:o,doYProcess:l,doXYY1Process:u,doYXX1Process:c,doXYProcess:d,doCoordinatesProcess:h}=S_(s);if(d)e=[this._processSpecByDims([{dim:"x",specValue:s.x},{dim:"y",specValue:s.y}]),this._processSpecByDims([{dim:"x",specValue:s.x1},{dim:"y",specValue:s.y1}])];else if(o)e=[this._processSpecByDims([{dim:"x",specValue:s.x}])];else if(l)e=[this._processSpecByDims([{dim:"y",specValue:s.y}])];else if(u)e=[this._processSpecByDims([{dim:"x",specValue:s.x},{dim:"y",specValue:s.y}]),this._processSpecByDims([{dim:"x",specValue:s.x},{dim:"y",specValue:s.y1}])];else if(c)e=[this._processSpecByDims([{dim:"x",specValue:s.x},{dim:"y",specValue:s.y}]),this._processSpecByDims([{dim:"x",specValue:s.x1},{dim:"y",specValue:s.y}])];else if(h){if(e=this._processSpecCoo(s),n=!1,t=new vn(this._option.dataSet,{name:`${this.type}_${this.id}_data`}).parse([a.getViewData()],{type:"dataview"}).transform({type:"markerAggregation",options:e}),s.process&&"x"in s.process&&(e=[this._processSpecByDims([{dim:"x",specValue:s.process.x}])],n=!0),s.process&&"y"in s.process&&(e=e=[this._processSpecByDims([{dim:"y",specValue:s.process.y}])],n=!0),s.process&&"xy"in s.process){const{xField:p,yField:f}=a.getSpec();e={fieldX:p,fieldY:f},r=!0}}else n=!1;return{options:e,needAggr:n,needRegr:r,processData:t}}}OF.type=De.markLine,OF.coordinateType="cartesian";const oOt=()=>{ce.registerComponent(OF.type,OF),Lke()};class MF extends Yq{constructor(){super(...arguments),this.type=De.polarMarkLine,this.name=De.polarMarkLine,this.coordinateType="polar"}_newMarkLineComponent(e){const{doRadiusProcess:t,doRadAngAng1Process:n}=S_(this._spec);return t||n?new p_(e):new Wv(e)}_computePointsAttr(){var e;const t=this._spec,n=this._markerData,r=this._startRelativeSeries,s=this._endRelativeSeries,a=this._relativeSeries,o=(e=t.autoRange)!==null&&e!==void 0&&e,{doAngleProcess:l,doRadiusProcess:u,doAngRadRad1Process:c,doRadAngAng1Process:d,doRadAngProcess:h,doCoordinatesProcess:p}=S_(t);let f=[],g={};const v={x:this._relativeSeries.getRegion().getLayoutStartPoint().x+this._relativeSeries.angleAxisHelper.center().x,y:this._relativeSeries.getRegion().getLayoutStartPoint().y+this._relativeSeries.angleAxisHelper.center().y};if(l||u||c||d||h){const m=Nq(n,r,s,a,o);f=m.length===1?m[0]:m.map(b=>b[0]),g=f[0].radius===f[1].radius?{radius:f[0].radius,startAngle:f[0].angle,endAngle:f[1].angle,center:v}:{points:f.map(b=>Us(v,b.radius,b.angle))}}else p&&(f=iPe(n,a,o),g={points:f.map(m=>Us(v,m.radius,m.angle))});return g}_computeOptions(){const e=this._spec,{doAngleProcess:t,doRadiusProcess:n,doAngRadRad1Process:r,doRadAngAng1Process:s,doRadAngProcess:a,doCoordinatesProcess:o}=S_(e);let l;const u=this._getRelativeDataView();return a?l=[this._processSpecByDims([{dim:"angle",specValue:e.angle},{dim:"radius",specValue:e.radius}]),this._processSpecByDims([{dim:"angle",specValue:e.angle1},{dim:"radius",specValue:e.radius1}])]:t?l=[this._processSpecByDims([{dim:"angle",specValue:e.angle}])]:n?l=[this._processSpecByDims([{dim:"radius",specValue:e.radius}])]:r?l=[this._processSpecByDims([{dim:"angle",specValue:e.angle},{dim:"radius",specValue:e.radius}]),this._processSpecByDims([{dim:"angle",specValue:e.angle},{dim:"radius",specValue:e.radius1}])]:s?l=[this._processSpecByDims([{dim:"angle",specValue:e.angle},{dim:"radius",specValue:e.radius}]),this._processSpecByDims([{dim:"angle",specValue:e.angle1},{dim:"radius",specValue:e.radius}])]:o&&(l=this._processSpecCoo(e)),{options:l,needAggr:!0,needRegr:!1,processData:u}}}MF.type=De.polarMarkLine,MF.coordinateType="polar";const lOt=()=>{ce.registerComponent(MF.type,MF),zvt(),Lke()};let IF=class extends fu{get orient(){return this._orient}constructor(e,t){super(e,t),this.type=De.title,this.specKey=De.title,this.layoutType="normal",this.layoutZIndex=qn.Title,this.layoutLevel=up.Title,this._orient="top",this._orient=rq(e.orient)?e.orient:"top"}initLayout(){super.initLayout(),this._layout&&(this._layout.layoutOrient=this._orient)}static getSpecInfo(e){const t=e[this.specKey];if(!t||t.visible===!1)return null;if(!ke(t))return[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:De.title}];const n=[];return t.forEach((r,s)=>{r.visible!==!1&&n.push({spec:r,specPath:[this.specKey,s],specInfoPath:["component",this.specKey,s],type:De.title})}),n}onRender(e){}_compareSpec(e,t){const n=super._compareSpec(e,t);return(t==null?void 0:t.orient)!==(e==null?void 0:e.orient)&&(n.reMake=!0),n.change=!0,n.reRender=!0,n}changeRegions(e){}update(e){}resize(e){}afterSetLayoutStartPoint(e){Ce(e.x)&&this._titleComponent&&this._titleComponent.setAttribute("x",e.x),Ce(e.y)&&this._titleComponent&&this._titleComponent.setAttribute("y",e.y),super.afterSetLayoutStartPoint(e)}getBoundsInRect(e){let t={};this.setLayoutRect(e);const n=this._getTitleAttrs();this._createOrUpdateTitleComponent(n),t=this._getTitleLayoutRect();const{x:r,y:s}=this.getLayoutStartPoint();return{x1:r,y1:s,x2:r+t.width,y2:s+t.height}}_getTitleLayoutRect(){const e=this._titleComponent.AABBBounds;return{width:this._spec.width?this._spec.width:Ce(e.width())?e.width():0,height:this._spec.height?this._spec.height:Ce(e.height())?e.height():0}}_getTitleAttrs(){var e,t,n,r,s,a,o,l,u;const c=Math.max(0,(e=this._spec.width)!==null&&e!==void 0?e:this.getLayoutRect().width);return Object.assign(Object.assign({},kB(this._spec,["padding"])),{textType:(t=this._spec.textType)!==null&&t!==void 0?t:"text",text:(n=this._spec.text)!==null&&n!==void 0?n:"",subtextType:(r=this._spec.subtextType)!==null&&r!==void 0?r:"text",subtext:(s=this._spec.subtext)!==null&&s!==void 0?s:"",x:(a=this._spec.x)!==null&&a!==void 0?a:0,y:(o=this._spec.y)!==null&&o!==void 0?o:0,width:c,height:this._spec.height,minWidth:this._spec.minWidth,maxWidth:this._spec.maxWidth,minHeight:this._spec.minHeight,maxHeight:this._spec.maxHeight,padding:this._spec.innerPadding,align:(l=this._spec.align)!==null&&l!==void 0?l:"left",verticalAlign:(u=this._spec.verticalAlign)!==null&&u!==void 0?u:"top",textStyle:Object.assign({width:c},this._spec.textStyle),subtextStyle:Object.assign({width:c},this._spec.subtextStyle)})}_createOrUpdateTitleComponent(e){if(this._titleComponent)Rr(e,this._cacheAttrs)||this._titleComponent.setAttributes(e);else{const t=this.getContainer(),n=new Wke(e);n.name="title",t.add(n),this._titleComponent=n,n.on("*",(r,s)=>this._delegateEvent(n,r,s))}return this._cacheAttrs=e,this._titleComponent}_getNeedClearVRenderComponents(){return[this._titleComponent]}clear(){super.clear(),this._cacheAttrs=null}};IF.type=De.title,IF.specKey=De.title;const uOt=()=>{ce.registerComponent(IF.type,IF)};class Kq extends Uq{constructor(){super(...arguments),this.specKey="markArea",this.layoutZIndex=qn.MarkArea}static _getMarkerCoordinateType(e){const{doAngleProcess:t,doRadiusProcess:n,doRadAngProcess:r}=x_(e);return e.coordinateType==="polar"||t||n||r?"polar":"cartesian"}_createMarkerComponent(){var e,t,n,r,s,a,o,l,u,c,d,h;const p=(e=this._spec.label)!==null&&e!==void 0?e:{},f={zIndex:this.layoutZIndex,interactive:(t=this._spec.interactive)===null||t===void 0||t,hover:(n=this._spec.interactive)===null||n===void 0||n,select:(r=this._spec.interactive)===null||r===void 0||r,points:[{x:0,y:0}],center:{x:0,y:0},innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,areaStyle:Mv(Yt((s=this._spec.area)===null||s===void 0?void 0:s.style),this._markerData),clipInRange:(a=this._spec.clip)!==null&&a!==void 0&&a,label:Vq(p,this._markerData),state:{area:mo((o=this._spec.area)===null||o===void 0?void 0:o.state,this._markerData),label:mo((l=this._spec.label)===null||l===void 0?void 0:l.state,this._markerData),labelBackground:mo((d=(c=(u=this._spec)===null||u===void 0?void 0:u.label)===null||c===void 0?void 0:c.labelBackground)===null||d===void 0?void 0:d.state,this._markerData)},animation:(h=this._spec.animation)!==null&&h!==void 0&&h,animationEnter:this._spec.animationEnter,animationExit:this._spec.animationExit,animationUpdate:this._spec.animationUpdate};return this._newMarkAreaComponent(f)}_markerLayout(){var e,t,n,r;const s=this._spec,a=this._markerData,o=this._startRelativeSeries,l=this._endRelativeSeries,u=this._relativeSeries,c=this._computePointsAttr(),d=this._getRelativeDataView().latestData,h=a?a.latestData[0]&&a.latestData[0].latestData?a.latestData[0].latestData:a.latestData:d;let p;if(s.clip||!((e=s.label)===null||e===void 0)&&e.confine){const{minX:f,maxX:g,minY:v,maxY:m}=Hq([o.getRegion(),l.getRegion(),u.getRegion()]);p={x:f,y:v,width:g-f,height:m-v}}this._markerComponent&&this._markerComponent.setAttributes(Object.assign(Object.assign({},c),{label:Object.assign(Object.assign({},(t=this._markerComponent.attribute)===null||t===void 0?void 0:t.label),{text:this._spec.label.formatMethod?this._spec.label.formatMethod(h,d):(r=(n=this._markerComponent.attribute)===null||n===void 0?void 0:n.label)===null||r===void 0?void 0:r.text}),limitRect:p,dx:this._layoutOffsetX,dy:this._layoutOffsetY}))}_initDataView(){const e=this._spec,{doXProcess:t,doYProcess:n,doXYProcess:r,doAngleProcess:s,doRadiusProcess:a,doRadAngProcess:o,doCoordinatesProcess:l}=x_(e);if(!(t||n||r||s||a||o||l))return null;const{options:u}=this._computeOptions(),c=this._getRelativeDataView();pi(this._option.dataSet,"markerAggregation",Wq),pi(this._option.dataSet,"markerFilter",Gq);const d=new vn(this._option.dataSet,{name:`${this.type}_${this.id}_data`});d.parse([c],{type:"dataview"}),d.transform({type:"markerAggregation",options:u}),d.transform({type:"markerFilter",options:this._getAllRelativeSeries()}),d.target.on("change",()=>{this._markerLayout()}),this._markerData=d}}Kq.specKey="markArea";class RF extends Kq{constructor(){super(...arguments),this.type=De.markArea,this.name=De.markArea,this.coordinateType="cartesian"}_newMarkAreaComponent(e){return new Uv(e)}_computePointsAttr(){var e;const t=this._spec,n=this._markerData,r=this._startRelativeSeries,s=this._endRelativeSeries,a=this._relativeSeries,{doXProcess:o,doYProcess:l,doXYProcess:u,doCoordinatesProcess:c}=x_(t),d=X(t.positions),h=(e=t.autoRange)!==null&&e!==void 0&&e;let p=[],f=[];if(u){f=PF(n,r,s,a,h);const[g,v]=f;g&&g.length&&v&&v.length&&(p=[{x:g[0].x,y:v[0].y},g[0],{x:v[0].x,y:g[0].y},v[0]])}else if(o||l){f=PF(n,r,s,a,h);const[g,v]=f;g&&g.length&&v&&v.length&&(p=[...g,v[1],v[0]])}else c?p=jq(n,a,h,t.coordinatesOffset):d&&(p=zq(t.positions,a,t.regionRelative));return{points:p}}_computeOptions(){const e=this._spec,{doXProcess:t,doYProcess:n,doXYProcess:r,doCoordinatesProcess:s}=x_(e);let a;return r?a=[this._processSpecByDims([{dim:"x",specValue:e.x},{dim:"y",specValue:e.y}]),this._processSpecByDims([{dim:"x",specValue:e.x1},{dim:"y",specValue:e.y1}])]:t?a=[this._processSpecByDims([{dim:"x",specValue:e.x}]),this._processSpecByDims([{dim:"x",specValue:e.x1}])]:n?a=[this._processSpecByDims([{dim:"y",specValue:e.y}]),this._processSpecByDims([{dim:"y",specValue:e.y1}])]:s&&(a=this._processSpecCoo(e)),{options:a}}}RF.type=De.markArea,RF.coordinateType="cartesian";const cOt=()=>{ce.registerComponent(RF.type,RF),Fke()};class DF extends Kq{constructor(){super(...arguments),this.type=De.polarMarkArea,this.name=De.polarMarkArea,this.coordinateType="polar"}_newMarkAreaComponent(e){const{doRadiusProcess:t,doAngleProcess:n,doRadAngProcess:r}=x_(this._spec);return n||t||r?new f_(e):new Uv(e)}_computePointsAttr(){var e;const t=this._spec,n=this._markerData,r=this._startRelativeSeries,s=this._endRelativeSeries,a=this._relativeSeries,{doAngleProcess:o,doRadiusProcess:l,doRadAngProcess:u,doCoordinatesProcess:c}=x_(t),d=(e=t.autoRange)!==null&&e!==void 0&&e;let h,p={};const f={x:this._relativeSeries.getRegion().getLayoutStartPoint().x+this._relativeSeries.angleAxisHelper.center().x,y:this._relativeSeries.getRegion().getLayoutStartPoint().y+this._relativeSeries.angleAxisHelper.center().y};if(o||l||u){const g=Nq(n,r,s,a,d);u?p={innerRadius:g[0][0].radius,outerRadius:g[1][0].radius,startAngle:g[0][0].angle,endAngle:g[1][0].angle,center:f}:o?p={innerRadius:0,outerRadius:Math.abs(g[0][0].radius),startAngle:g[0][1].angle,endAngle:g[1][1].angle,center:f}:l&&(p={innerRadius:g[0][0].radius,outerRadius:g[1][0].radius,startAngle:g[0][0].angle,endAngle:g[1][1].angle,center:f})}else c&&(h=iPe(n,a,d),p={points:h.map(g=>Us(f,g.radius,g.angle))});return p}_computeOptions(){const e=this._spec,{doAngleProcess:t,doRadiusProcess:n,doRadAngProcess:r,doCoordinatesProcess:s}=x_(e);let a;return r?a=[this._processSpecByDims([{dim:"angle",specValue:e.angle},{dim:"radius",specValue:e.radius}]),this._processSpecByDims([{dim:"angle",specValue:e.angle1},{dim:"radius",specValue:e.radius1}])]:t?a=[this._processSpecByDims([{dim:"angle",specValue:e.angle},{dim:"radius",specValue:e.radius}]),this._processSpecByDims([{dim:"angle",specValue:e.angle1},{dim:"radius",specValue:e.radius}])]:n?a=[this._processSpecByDims([{dim:"radius",specValue:e.radius}]),this._processSpecByDims([{dim:"radius",specValue:e.radius1}])]:s&&(a=this._processSpecCoo(e)),{options:a}}}DF.type=De.polarMarkArea,DF.coordinateType="polar";const dOt=()=>{ce.registerComponent(DF.type,DF),Hvt(),Fke()},spe=i=>{const e=Object.assign({},i);return Yt(e)},hOt=i=>{const e=Object.assign({},i);return Yt(e)},NI=i=>Object.assign(Object.assign({},i),{style:Object.assign({},Yt(i.style))}),nPe=i=>{var e,t,n,r,s,a,o,l,u,c,d,h,p,f,g;const v=spe((t=(e=i==null?void 0:i.slider)===null||e===void 0?void 0:e.trackStyle)!==null&&t!==void 0?t:{}),m=spe((r=(n=i==null?void 0:i.slider)===null||n===void 0?void 0:n.railStyle)!==null&&r!==void 0?r:{}),b=hOt((a=(s=i==null?void 0:i.slider)===null||s===void 0?void 0:s.handlerStyle)!==null&&a!==void 0?a:{}),_=NI((l=(o=i==null?void 0:i.controller)===null||o===void 0?void 0:o.start)!==null&&l!==void 0?l:{}),S=NI((c=(u=i==null?void 0:i.controller)===null||u===void 0?void 0:u.pause)!==null&&c!==void 0?c:{}),C=NI((h=(d=i==null?void 0:i.controller)===null||d===void 0?void 0:d.backward)!==null&&h!==void 0?h:{}),k=NI((f=(p=i==null?void 0:i.controller)===null||p===void 0?void 0:p.forward)!==null&&f!==void 0?f:{}),E=Object.assign(Object.assign({},i),{direction:i.direction,interval:i.interval,visible:i.visible,orient:(g=i.orient)!==null&&g!==void 0?g:"bottom",slider:Object.assign(Object.assign({},i.slider),{trackStyle:v,railStyle:m,handlerStyle:b}),controller:Object.assign(Object.assign({},i.controller),{start:_,pause:S,backward:C,forward:k})});return i.visible||(E.controller.visible=!1,E.slider.visible=!1),E},pOt=(i,e)=>Object.assign(Object.assign({},nPe(i)),{data:e,type:"continuous"}),fOt=(i,e)=>Object.assign(Object.assign({},nPe(i)),{data:e,type:"discrete"}),kk=i=>i==="left"||i==="right",f8=i=>i==="top"||i==="bottom";class LF extends fu{constructor(){super(...arguments),this.layoutZIndex=qn.Player,this.layoutLevel=up.Player,this.specKey="player",this.type=De.player,this._orient="bottom",this._getPlayerAttrs=()=>{var e,t,n,r,s,a;const o=this._spec.type,l={size:{width:this._width,height:this._height},dx:(e=this._spec.dx)!==null&&e!==void 0?e:0+this._dx,dy:(t=this._spec.dy)!==null&&t!==void 0?t:0+this._dy};return o==="discrete"?Object.assign(Object.assign(Object.assign({},fOt(this._spec,this._specs)),l),{disableTriggerEvent:this._option.disableTriggerEvent,loop:(r=(n=this._spec)===null||n===void 0?void 0:n.loop)===null||r===void 0||r}):Object.assign(Object.assign(Object.assign({},pOt(this._spec,this._specs)),l),{disableTriggerEvent:this._option.disableTriggerEvent,loop:(a=(s=this._spec)===null||s===void 0?void 0:s.loop)===null||a===void 0||a})},this._createOrUpdatePlayerComponent=()=>{const e=Object.assign({},this._getPlayerAttrs()),t=this.getContainer();this._playerComponent?Rr(e,this._cacheAttrs)||(this._cacheAttrs=e,this._playerComponent.setAttributes(e),this._playerComponent._initAttributes(),this._playerComponent.render()):(e.type==="discrete"?this._playerComponent=new p0t(e):this._playerComponent=new g0t(e),this._cacheAttrs=e,this._playerComponent.name="player",t.add(this._playerComponent),this._initEvent())},this._maxSize=()=>{var e,t,n,r,s,a,o,l,u;return Math.max(...we((t=(e=this._spec.controller.start)===null||e===void 0?void 0:e.style)===null||t===void 0?void 0:t.size),...we((r=(n=this._spec.controller.pause)===null||n===void 0?void 0:n.style)===null||r===void 0?void 0:r.size),...we((a=(s=this._spec.controller.backward)===null||s===void 0?void 0:s.style)===null||a===void 0?void 0:a.size),...we((l=(o=this._spec.controller.forward)===null||o===void 0?void 0:o.style)===null||l===void 0?void 0:l.size),(u=kk(this._orient)?this._spec.slider.railStyle.width:this._spec.slider.railStyle.height)!==null&&u!==void 0?u:10)},this._sliderExceededSize=()=>{var e,t,n,r,s,a,o,l,u;const c=(e=kk(this._orient)?this._spec.slider.railStyle.width:this._spec.slider.railStyle.height)!==null&&e!==void 0?e:10,d=Math.max(...we((n=(t=this._spec.controller.start)===null||t===void 0?void 0:t.style)===null||n===void 0?void 0:n.size),...we((s=(r=this._spec.controller.pause)===null||r===void 0?void 0:r.style)===null||s===void 0?void 0:s.size),...we((o=(a=this._spec.controller.backward)===null||a===void 0?void 0:a.style)===null||o===void 0?void 0:o.size),...we((u=(l=this._spec.controller.forward)===null||l===void 0?void 0:l.style)===null||u===void 0?void 0:u.size));return c>=d?c-d:0},this._initEvent=()=>{this._option.disableTriggerEvent||(this._option.globalInstance.on(Pt.rendered,()=>{var e;!((e=this._spec)===null||e===void 0)&&e.auto&&this._playerComponent.play()}),this._playerComponent.addEventListener(ks.end,()=>{var e;this.event.emit(Pt.playerEnd,{model:this}),this._alternate&&this._spec.type==="discrete"&&(this._direction=this._direction==="default"?"reverse":"default",this._playerComponent.setAttributes({direction:this._direction,dataIndex:this._direction==="reverse"?this._specs.length-2:1})),!((e=this._spec)===null||e===void 0)&&e.loop&&this._playerComponent.play()}),this._playerComponent.addEventListener(ks.change,e=>{const{index:t}=e.detail,n=this._specs[t];we(n.data).forEach(r=>{var s,a;(a=(s=this._option)===null||s===void 0?void 0:s.globalInstance)===null||a===void 0||a.updateData(r.id,r.values)}),this.event.emit(Pt.playerChange,{model:this,value:{spec:n,index:t,specs:this._specs}})}),this._playerComponent.addEventListener(ks.backward,e=>{const{index:t}=e.detail,n=this._specs[t];this.event.emit(Pt.playerBackward,{model:this,value:{spec:n,index:t,specs:this._specs}})}),this._playerComponent.addEventListener(ks.forward,e=>{const{index:t}=e.detail,n=this._specs[t];this.event.emit(Pt.playerForward,{model:this,value:{spec:n,index:t,specs:this._specs}})}),this._playerComponent.addEventListener(ks.play,e=>{const{index:t}=e.detail,n=this._specs[t];this.event.emit(Pt.playerPlay,{model:this,value:{spec:n,index:t,specs:this._specs}})}),this._playerComponent.addEventListener(ks.pause,e=>{const{index:t}=e.detail,n=this._specs[t];this.event.emit(Pt.playerPause,{model:this,value:{spec:n,index:t,specs:this._specs}})}))}}get orient(){return this._orient}set layoutOrient(e){this._orient=e}static getSpecInfo(e){const t=e[this.specKey];return Y(t)?null:[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:De.player}]}setAttrFromSpec(){var e,t,n,r,s,a,o,l;super.setAttrFromSpec(),this._orient=(e=this._spec.orient)!==null&&e!==void 0?e:"bottom",this._specs=(t=this._spec.specs)!==null&&t!==void 0?t:[],this._direction=(n=this._spec.direction)!==null&&n!==void 0?n:"default",this._alternate=(r=this._spec.alternate)!==null&&r!==void 0&&r,this._dx=(s=this._spec.dx)!==null&&s!==void 0?s:0,this._dy=(a=this._spec.dy)!==null&&a!==void 0?a:0,this._position=(o=this._spec.position)!==null&&o!==void 0?o:"middle",this._visible=(l=this._spec.visible)===null||l===void 0||l}afterSetLayoutStartPoint(e){if(super.afterSetLayoutStartPoint(e),Ce(e.x)){const t=kk(this._orient)?e.x+this._sliderExceededSize()/2:e.x;this._playerComponent&&this._playerComponent.setAttribute("x",t)}if(Ce(e.y)){const t=f8(this._orient)?e.y+this._sliderExceededSize()/2:e.y;this._playerComponent&&this._playerComponent.setAttribute("y",t)}}getBoundsInRect(e,t){this._width=this._computeWidth(e),this._height=this._computeHeight(e),this._dx=this._computeDx(t),this._dy=this._computeDy(t);const n=this._computeLayoutRect(e,this._width,this._height);return this._createOrUpdatePlayerComponent(),n}changeRegions(e){}onRender(e){}_getNeedClearVRenderComponents(){return[this._playerComponent]}_computeLayoutRect(e,t,n){if(this._visible===!1)return{x1:0,x2:0,y1:0,y2:0};switch(this._orient){case"top":case"left":return{x1:0,y1:0,x2:t,y2:n};case"right":return{x1:e.width-t,y1:0,x2:e.width,y2:e.height};default:return{x1:0,y1:e.height-n,x2:e.width,y2:e.height}}}_computeWidth(e){return Xe(this._spec.width)?Math.min(e.width,Number(this._spec.width)):kk(this._orient)?this._maxSize():e.width}_computeHeight(e){return Xe(this._spec.height)?(this._height=this._spec.height,Math.min(e.height,Number(this._spec.height))):f8(this._orient)?this._maxSize():e.height}_computeDx(e){return kk(this._orient)||this._position==="start"?0:this._position==="middle"?(e.width-this._width)/2:e.width-this._width}_computeDy(e){return f8(this._orient)||this._position==="start"?0:this._position==="middle"?(e.height-this._height)/2:e.height-this._height}}LF.specKey="player",LF.type=De.player;const gOt=()=>{ce.registerComponent(LF.type,LF)};class Xq extends fu{constructor(e,t){super(e,t),this.type=De.label,this.name=De.label,this.layoutType="none",this.layoutZIndex=qn.Label,this._regions=t.getRegionsInIndex(t.regionIndexes)}_interactiveConfig(e){const{interactive:t}=e,n={hover:!1,select:!1,state:e.state};if(t!==!0)return n;const{hover:r,select:s}=this._option.getChart().getSpec();return r===!1&&r.enable===!1||(n.hover=!0),s===!1&&s.enable===!1||(n.select=!0),n}_compareSpec(e,t){const n=super._compareSpec(e,t);return n.reRender=!0,Rr(t,e)||(n.reMake=!0),n}onRender(e){}changeRegions(e){}_getNeedClearVRenderComponents(){return[]}_delegateLabelEvent(e){e.listenerCount("*")===0&&e.addEventListener("*",(t,n)=>this._delegateEvent(e,t,n))}}Xq.type=De.label;class FF extends nw{constructor(){super(...arguments),this.skipEncode=!1}getRule(){return this._rule}setRule(e){this._rule=e}getTarget(){return this._target}setTarget(e){this._target=e,this._rule||this.setRule(e.type)}getComponent(){return this._component}setComponent(e){this._component=e}}FF.type="text",FF.constructorType="label";const rPe=()=>{ce.registerMark(FF.constructorType,FF),_Ee()};class sPe extends mP{_initTheme(e,t){return{spec:e,theme:this._theme}}}let TA=class extends Xq{constructor(e,t){super(e,t),this.type=De.label,this.name=De.label,this.specKey="label",this.transformerConstructor=sPe,this.layoutZIndex=qn.Label,this._layoutRule=e.labelLayout||"series"}static getSpecInfo(e,t){const n=[];return((t==null?void 0:t.region)||[]).forEach((s,a)=>{(s.seriesIndexes||[]).some(o=>{const l=t.series[o],{markLabelSpec:u={}}=l;return Object.values(u).some(c=>Array.isArray(c)&&(d=>d.some(h=>h.visible))(c))})&&n.push({spec:e,type:De.label,specInfoPath:["component",this.specKey,a],regionIndexes:[a]})}),n}init(e){super.init(e),this.initEvent(),this._initTextMark(),this._initLabelComponent(),this._initTextMarkStyle()}reInit(e){super.reInit(e),this._labelInfoMap&&this._labelInfoMap.clear(),this._initTextMark(),this._initTextMarkStyle()}initEvent(){this.event.on(Pt.dataZoomChange,()=>{this._labelComponentMap.forEach((t,n)=>{const r=n.getProduct().getGroupGraphicItem();r&&r.disableAnimation()}),this.event.on(At.AFTER_MARK_RENDER_END,e)});const e=()=>{this._labelComponentMap.forEach((t,n)=>{const r=n.getProduct().getGroupGraphicItem();r&&r.enableAnimation()}),this.event.off(At.AFTER_MARK_RENDER_END,e)}}afterCompile(){this._labelComponentMap.forEach((e,t)=>{const n=t.getProduct();n&&n.addEventListener(At.AFTER_ELEMENT_ENCODE,()=>{this._isLayout===!1&&this._delegateLabelEvent(n.getGroupGraphicItem())})})}_initTextMark(){this._labelInfoMap||(this._labelInfoMap=new Map),this._labelComponentMap||(this._labelComponentMap=new Map),hs(this._regions,e=>{const{markLabelSpec:t={}}=e.getSpecInfo(),n=Object.keys(t),r=e.getRegion();this._labelInfoMap.get(r)||this._labelInfoMap.set(r,[]);for(let s=0;s<n.length;s++){const a=n[s],o=e.getMarkInName(a);o&&t[a].forEach((l,u)=>{if(l.visible){const c=this._labelInfoMap.get(r),d=this._createMark({type:"label",name:`${a}-label-${u}`},{noSeparateStyle:!0,attributeContext:e.getMarkAttributeContext()});d.setTarget(o),c.push({labelMark:d,baseMark:o,series:e,labelSpec:l})}})}})}_initLabelComponent(){this._labelInfoMap.forEach((e,t)=>{if(this._layoutRule==="region"){const n=this._createMark({type:"component",name:`${t.getGroupMark().name}-label-component`},{componentType:"label",noSeparateStyle:!0,support3d:this._spec.support3d});n&&(n.setSkipBeforeLayouted(!0),this._marks.addMark(n),this._labelComponentMap.set(n,()=>this._labelInfoMap.get(t)))}else e.forEach((n,r)=>{const s=this._createMark({type:"component",name:`${n.labelMark.name}-component`},{componentType:"label",noSeparateStyle:!0,support3d:n.baseMark.getSupport3d()});s&&(s.setSkipBeforeLayouted(!0),this._marks.addMark(s),this._labelComponentMap.set(s,()=>this._labelInfoMap.get(t)[r]),n.labelMark.setComponent(s))})})}_initTextMarkStyle(){this._labelInfoMap.forEach(e=>{e.forEach(t=>{var n,r;const{labelMark:s,labelSpec:a,series:o}=t;if(this.initMarkStyleWithSpec(s,a,void 0),Pe(a==null?void 0:a.getStyleHandler)){const l=a.getStyleHandler(o);l==null||l.call(o,s,a)}!((r=(n=s.stateStyle)===null||n===void 0?void 0:n.normal)===null||r===void 0)&&r.lineWidth&&s.setAttribute("stroke",o.getColorAttribute(),"normal",Ve.Base_Series)})})}updateLayoutAttribute(){super.updateLayoutAttribute(),this._labelComponentMap.forEach((e,t)=>{const n=e();ke(n)?this._updateMultiLabelAttribute(n,t):this._updateSingleLabelAttribute(n,t)})}_updateMultiLabelAttribute(e,t){this._updateLabelComponentAttribute(t.getProduct(),e.map(({baseMark:n})=>n.getProduct()),e)}_updateSingleLabelAttribute(e,t){const{baseMark:n}=e;this._updateLabelComponentAttribute(t.getProduct(),n.getProduct(),[e])}_updateLabelComponentAttribute(e,t,n){const r=this._option.getComponentsByType("totalLabel");e.target(t).configure({interactive:!1}).depend(r.map(s=>s.getMarks()[0].getProduct())).labelStyle((s,a)=>{var o,l;const u=n[a.labelIndex];if(u){const{labelSpec:c,labelMark:d}=u,h=d.getRule(),p=this._interactiveConfig(c),f=(l=(o=this._spec)===null||o===void 0?void 0:o.centerOffset)!==null&&l!==void 0?l:0,g=Rt({textStyle:Object.assign({pickable:c.interactive===!0},c.style),overlap:{avoidMarks:r.map(v=>v.getMarks()[0].getProductId())}},sEt(h,u),Object.assign(Object.assign(Object.assign({},kB(c,["position","style","state","type"])),p),{centerOffset:f}));return h!=="line"&&h!=="area"||(g.type=h),g}}).encode((s,a,o)=>{if(n[o.labelIndex]){const{labelSpec:l,labelMark:u}=n[o.labelIndex];return u.skipEncode?{data:s}:xq(n[o.labelIndex],s,l.formatMethod,l.formatter)}}).size(()=>n[0].series.getRegion().getLayoutRect())}compileMarks(){this.getMarks().forEach(e=>{var t;const n=this._labelComponentMap.get(e)();let r;r=ke(n)?n[0].series.getRegion().getGroupMark().getProduct():n.series.getRegion().getGroupMark().getProduct(),e.compile({group:r}),(t=e.getProduct())===null||t===void 0||t.configure({context:{model:this,labelInfo:n}})})}getVRenderComponents(){const e=[];return this._labelComponentMap.forEach((t,n)=>{const r=n.getProduct().getGroupGraphicItem();r&&e.push(r)}),e}};TA.type=De.label,TA.specKey="label",TA.transformerConstructor=sPe;const mOt=()=>{TEe(),rPe(),j$(),ce.registerComponent(TA.type,TA,!0)};class BF extends Xq{constructor(){super(...arguments),this.type=De.totalLabel,this.name=De.totalLabel,this.specKey="totalLabel",this.layoutZIndex=qn.Label}static getSpecInfo(e,t){var n;const r=[];return(n=t==null?void 0:t.region)===null||n===void 0||n.forEach((s,a)=>{var o;(o=s.seriesIndexes)===null||o===void 0||o.forEach(l=>{const{spec:u}=t.series[l],c=u[this.specKey];c!=null&&c.visible&&r.push({spec:c,type:De.totalLabel,specPath:["series",l,this.specKey],specInfoPath:["component",this.specKey,l],regionIndexes:[a],seriesIndexes:[l]})})}),r}init(e){super.init(e),this._initTextMark(),this._initLabelComponent()}_initTextMark(){var e;const t=this._getSeries();if(!((e=t.getSpec().totalLabel)===null||e===void 0)&&e.visible){const n=t.getSeriesMark();if(n){const r=this._createMark({type:"label",name:`${n.name}-total-label`});this._baseMark=n,this._textMark=r,this._initTextMarkStyle()}}}_initTextMarkStyle(){var e;super.initMarkStyleWithSpec(this._textMark,this._spec),this.setMarkStyle(this._textMark,{text:n=>n[jEe]},"normal",Ve.Default);const t=this._getSeries();(e=t.initTotalLabelMarkStyle)===null||e===void 0||e.call(t,this._textMark)}_initLabelComponent(){const e=this._getSeries(),t=this._createMark({type:"component",name:`${e.name}-total-label-component`},{componentType:"label",noSeparateStyle:!0,support3d:this._spec.support3d});t&&this._marks.addMark(t)}afterCompile(){this._marks.forEach((e,t)=>{const n=e.getProduct();n&&n.addEventListener(At.AFTER_ELEMENT_ENCODE,()=>{this._isLayout===!1&&this._delegateLabelEvent(n.getGroupGraphicItem())})})}updateLayoutAttribute(){super.updateLayoutAttribute();const e=this._getSeries();this._marks.forEach((t,n)=>{t.getProduct().target(this._baseMark.getProduct()).configure({interactive:!1}).labelStyle(()=>{var r,s;if(this._baseMark){const{offset:a,animation:o,overlap:l}=this._spec,u=this._interactiveConfig(this._spec);return Rt({textStyle:{pickable:this._spec.interactive===!0},position:vOt(e,this._baseMark.type),x:0,y:0},(s=(r=e.getTotalLabelComponentStyle)===null||r===void 0?void 0:r.call(e,{baseMark:this._baseMark,labelMark:this._textMark}))!==null&&s!==void 0?s:{},Object.assign({offset:a,animation:o,overlap:l,dataFilter:c=>c.filter(d=>d.data[zT])},u))}}).encode(r=>xq({baseMark:this._baseMark,labelMark:this._textMark,series:e,labelSpec:e.getSpec().totalLabel},r,this._spec.formatMethod)).size(()=>this._regions[0].getLayoutRect())})}compileMarks(){this.getMarks().forEach(e=>{var t;const n=this._regions[0].getGroupMark().getProduct();e.compile({group:n}),(t=e.getProduct())===null||t===void 0||t.configure({context:{model:this}})})}getVRenderComponents(){const e=[];return this.getMarks().forEach(t=>{const n=t.getProduct().getGroupGraphicItem();n&&e.push(n)}),e}_getSeries(){return this._option.getSeriesInIndex([this.getSpecPath()[1]])[0]}}BF.type=De.totalLabel,BF.specKey="totalLabel";function vOt(i,e){var t,n;let r;const{direction:s}=i,a={vertical:["top","bottom"],horizontal:["right","left"]},o=(s==="horizontal"?!((t=i.getXAxisHelper())===null||t===void 0)&&t.isInverse():!((n=i.getYAxisHelper())===null||n===void 0)&&n.isInverse())?1:0;switch(e){case"rect":case"symbol":r=a[s][o];break;default:r="top"}return r}const yOt=()=>{TEe(),rPe(),j$(),ce.registerComponent(BF.type,BF,!0)};var ape=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]])}return t};class e4 extends Uq{constructor(){super(...arguments),this.specKey="markPoint",this.layoutZIndex=qn.MarkPoint}static _getMarkerCoordinateType(e){const{doPolarProcess:t,doGeoProcess:n}=nU(e);return e.coordinateType==="polar"||t?"polar":e.coordinateType==="geo"||n?"geo":"cartesian"}_createMarkerComponent(){var e,t,n,r,s,a,o,l,u,c,d,h,p,f,g,v,m,b,_,S,C,k,E,A,P,O,M,D;const{itemContent:L={},itemLine:H={},targetSymbol:B={}}=this._spec,{text:F={},symbol:z,image:N,richText:U}=L,G=ape(L,["text","symbol","image","richText"]),j={zIndex:this.layoutZIndex,interactive:(e=this._spec.interactive)===null||e===void 0||e,hover:(t=this._spec.interactive)===null||t===void 0||t,select:(n=this._spec.interactive)===null||n===void 0||n,position:{x:0,y:0},clipInRange:(r=this._spec.clip)!==null&&r!==void 0&&r,itemContent:Object.assign({offsetX:npe(L.offsetX,this._relativeSeries.getRegion()),offsetY:npe(L.offsetX,this._relativeSeries.getRegion())},G),targetSymbol:{offset:(s=B.offset)!==null&&s!==void 0?s:0,visible:(a=B.visible)!==null&&a!==void 0&&a,size:(o=B.size)!==null&&o!==void 0?o:20,style:Mv(B.style,this._markerData)},state:{line:mo((u=(l=this._spec.itemLine.line)===null||l===void 0?void 0:l.state)!==null&&u!==void 0?u:{},this._markerData),lineStartSymbol:mo((d=(c=this._spec.itemLine.startSymbol)===null||c===void 0?void 0:c.state)!==null&&d!==void 0?d:{},this._markerData),lineEndSymbol:mo((p=(h=this._spec.itemLine.endSymbol)===null||h===void 0?void 0:h.state)!==null&&p!==void 0?p:{},this._markerData),symbol:mo((g=(f=this._spec.itemContent.symbol)===null||f===void 0?void 0:f.state)!==null&&g!==void 0?g:{},this._markerData),image:mo((m=(v=this._spec.itemContent.image)===null||v===void 0?void 0:v.state)!==null&&m!==void 0?m:{},this._markerData),text:mo((_=(b=this._spec.itemContent.text)===null||b===void 0?void 0:b.state)!==null&&_!==void 0?_:{},this._markerData),textBackground:mo((C=(S=this._spec.itemContent.text)===null||S===void 0?void 0:S.labelBackground)===null||C===void 0?void 0:C.state,this._markerData),richText:mo((E=(k=this._spec.itemContent.richText)===null||k===void 0?void 0:k.state)!==null&&E!==void 0?E:{},this._markerData),customMark:mo((P=(A=this._spec.itemContent.customMark)===null||A===void 0?void 0:A.state)!==null&&P!==void 0?P:{},this._markerData),targetItem:mo((M=(O=this._spec.targetSymbol)===null||O===void 0?void 0:O.state)!==null&&M!==void 0?M:{},this._markerData)},animation:(D=this._spec.animation)!==null&&D!==void 0&&D,animationEnter:this._spec.animationEnter,animationExit:this._spec.animationExit,animationUpdate:this._spec.animationUpdate};z!=null&&z.style&&(j.itemContent.symbolStyle=Yt(Mv(z.style,this._markerData))),N!=null&&N.style&&(j.itemContent.imageStyle=Mv(N.style,this._markerData)),F&&(j.itemContent.textStyle=Vq(F,this._markerData)),U!=null&&U.style&&(j.itemContent.richTextStyle=Mv(U.style,this._markerData));const{visible:K,line:ie={}}=H,ae=ape(H,["visible","line"]);return j.itemLine=K!==!1?Object.assign(Object.assign({},ae),{visible:!0,lineStyle:Yt(ie.style)}):{visible:!1},new Gv(j)}_markerLayout(){var e,t,n,r,s;const a=this._spec,o=this._markerData,l=this._relativeSeries,{point:u}=this._computePointsAttr(),c=this._getRelativeDataView().latestData,d=o?o.latestData[0]&&o.latestData[0].latestData?o.latestData[0].latestData:o.latestData:c;let h;if(a.clip||!((e=a.itemContent)===null||e===void 0)&&e.confine){const{minX:p,maxX:f,minY:g,maxY:v}=Hq([l.getRegion()]);h={x:p,y:g,width:f-p,height:v-g}}if(this._markerComponent){const p=(t=this._markerComponent.attribute)!==null&&t!==void 0?t:{},f=(r=(n=p.itemContent)===null||n===void 0?void 0:n.textStyle)!==null&&r!==void 0?r:{};this._markerComponent.setAttributes({position:u===void 0?{x:null,y:null}:u,itemContent:Object.assign(Object.assign({},p.itemContent),{textStyle:Object.assign(Object.assign({},f),{text:!((s=this._spec.itemContent.text)===null||s===void 0)&&s.formatMethod?this._spec.itemContent.text.formatMethod(d,c):f.text}),offsetX:rpe(u,p.itemContent.offsetX,this._relativeSeries.getRegion()),offsetY:rpe(u,p.itemContent.offsetY,this._relativeSeries.getRegion())}),limitRect:h,dx:this._layoutOffsetX,dy:this._layoutOffsetY})}}_initDataView(){const e=this._spec,{doXYProcess:t,doPolarProcess:n,doGeoProcess:r}=nU(e);if(!(X(e.coordinate)||t||n||r))return;pi(this._option.dataSet,"markerAggregation",Wq),pi(this._option.dataSet,"markerFilter",Gq);const{options:s}=this._computeOptions(),a=new vn(this._option.dataSet,{name:`${this.type}_${this.id}_data`});a.parse([this._getRelativeDataView()],{type:"dataview"}),a.transform({type:"markerAggregation",options:s}),a.transform({type:"markerFilter",options:this._getAllRelativeSeries()}),a.target.on("change",()=>{this._markerLayout()}),this._markerData=a}}e4.specKey="markPoint";class $F extends e4{constructor(){super(...arguments),this.type=De.markPoint,this.name=De.markPoint,this.coordinateType="cartesian"}_computePointsAttr(){var e;const t=this._spec,n=this._markerData,r=this._relativeSeries,s="x"in t&&"y"in t,a="coordinate"in t,o="position"in t,l=(e=t==null?void 0:t.autoRange)!==null&&e!==void 0&&e;let u;return s?u=PF(n,r,r,r,l)[0][0]:a?u=jq(n,r,l,t.coordinatesOffset)[0]:o&&(u=zq([t.position],r,t.regionRelative)[0]),{point:u}}_computeOptions(){const e=this._spec,{doXYProcess:t}=nU(e),n=X(e.coordinate);let r;return t?r=[this._processSpecByDims([{dim:"x",specValue:e.x},{dim:"y",specValue:e.y}])]:n&&(r=this._processSpecCoo(e)),{options:r}}}$F.type=De.markPoint,$F.coordinateType="cartesian";const _Ot=()=>{ce.registerComponent($F.type,$F),BX()};class NF extends e4{constructor(){super(...arguments),this.type=De.polarMarkPoint,this.name=De.polarMarkPoint,this.coordinateType="polar"}_computePointsAttr(){var e,t;const n=this._markerData,r=this._relativeSeries,s=(t=(e=this._spec)===null||e===void 0?void 0:e.autoRange)!==null&&t!==void 0&&t,a=Nq(n,r,r,r,s)[0][0],o={x:this._relativeSeries.getRegion().getLayoutStartPoint().x+this._relativeSeries.angleAxisHelper.center().x,y:this._relativeSeries.getRegion().getLayoutStartPoint().y+this._relativeSeries.angleAxisHelper.center().y};return{point:Us(o,a.radius,a.angle)}}_computeOptions(){const e=this._spec;return{options:[this._processSpecByDims([{dim:"radius",specValue:e.radius},{dim:"angle",specValue:e.angle}])]}}}NF.type=De.polarMarkPoint,NF.coordinateType="polar";const bOt=()=>{ce.registerComponent(NF.type,NF),BX()};class jF extends e4{constructor(){super(...arguments),this.type=De.geoMarkPoint,this.name=De.geoMarkPoint,this.coordinateType="geo"}_computePointsAttr(){const e=this._markerData,t=this._relativeSeries;return{point:XPt(e,t)[0][0]}}_computeOptions(){const e=this._spec;return{options:[this._processSpecByDims([{dim:"areaName",specValue:e.areaName}])]}}}jF.type=De.geoMarkPoint,jF.coordinateType="geo";const SOt=()=>{ce.registerComponent(jF.type,jF),BX()};class zF extends fu{constructor(){super(...arguments),this.layoutType="none",this.type=De.brush,this.name=De.brush,this.specKey="brush",this.layoutZIndex=qn.Brush,this._linkedSeries=[],this._itemMap={},this._linkedItemMap={},this._inBrushElementsMap={},this._outOfBrushElementsMap={},this._linkedInBrushElementsMap={},this._linkedOutOfBrushElementsMap={},this._needInitOutState=!0,this._cacheInteractiveRangeAttrs=[],this._needDisablePickable=!1,this._releatedAxes=[],this._regionAxisMap={},this._axisDataZoomMap={},this._zoomRecord=[]}init(){const e=this._transformBrushedMarkAttr(this._spec.inBrush),t=this._transformBrushedMarkAttr(this._spec.outOfBrush);this._option.getAllSeries().forEach(n=>{n.getActiveMarks().forEach(r=>{r&&(n.setMarkStyle(r,Object.assign({},e),"inBrush",Ve.Series),n.setMarkStyle(r,Object.assign({},t),"outOfBrush",Ve.Series))})})}static getSpecInfo(e){const t=e[this.specKey];if(!Y(t)&&t.visible!==!1)return[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:De.brush}]}created(){super.created(),this.initEvent(),this._bindRegions(),this._bindLinkedSeries(),this._initRegionAxisMap(),this._initAxisDataZoomMap(),this._initNeedOperatedItem()}_extendDataInBrush(e){const t=[];for(const n in e)for(const r in e[n])t.push(Object.assign({},e[n][r].data[0]));return t}_extendDatumOutOfBrush(e){const t=[];for(const n in e)t.push(e[n].data[0]);return t}_getBrushInteractiveAttr(e){const t=e.getLayoutStartPoint(),n=e.getLayoutRect(),r=t.x,s=r+n.width,a=t.y,o=a+n.height;return{interactiveRange:{minY:a,maxY:o,minX:r,maxX:s},xRange:[r,s],yRange:[a,o]}}_updateBrushComponent(e,t){const n=this._getBrushInteractiveAttr(e),r=this._brushComponents[t];r.setAttributes(n),this._initMarkBrushState(t,""),r.children[0].removeAllChild(),this._needInitOutState=!0}_createBrushComponent(e,t){var n,r;const s=this._getBrushInteractiveAttr(e),a=new Yke(Object.assign(Object.assign(Object.assign({zIndex:this.layoutZIndex,brushStyle:Yt((n=this._spec)===null||n===void 0?void 0:n.style)},s),this._spec),{disableTriggerEvent:this._option.disableTriggerEvent}));a.id=(r=this._spec.id)!==null&&r!==void 0?r:`brush-${this.id}`,this.getContainer().add(a);const{brushMode:o="single"}=this._spec;this._brushComponents.push(a),this._cacheInteractiveRangeAttrs.push(s),a.addEventListener(_l.drawStart,l=>{this._emitEvent(Pt.brushStart,e)}),a.addEventListener(_l.moveStart,l=>{this._emitEvent(Pt.brushStart,e)}),a.addEventListener(_l.drawing,l=>{this._needInitOutState&&o==="single"&&this._initMarkBrushState(t,"outOfBrush"),this._needInitOutState=!1,this._needDisablePickable=!0,this._handleBrushChange(Pt.brushChange,e,l),this._emitEvent(Pt.brushChange,e)}),a.addEventListener(_l.moving,l=>{this._handleBrushChange(Pt.brushChange,e,l),this._emitEvent(Pt.brushChange,e)}),a.addEventListener(_l.brushClear,l=>{this._initMarkBrushState(t,""),this._needInitOutState=!0,this._needDisablePickable=!1,this._handleBrushChange(Pt.brushChange,e,l),this._handleBrushChange(Pt.brushClear,e,l),this._emitEvent(Pt.brushChange,e),this._emitEvent(Pt.brushClear,e)}),a.addEventListener(_l.drawEnd,l=>{this._needInitOutState=!0,this._needDisablePickable=!1;const{operateMask:u}=l.detail;this._handleBrushChange(Pt.brushEnd,e,l),this._setAxisAndDataZoom(u,e),this._emitEvent(Pt.brushEnd,e)}),a.addEventListener(_l.moveEnd,l=>{const{operateMask:u}=l.detail;this._handleBrushChange(Pt.brushEnd,e,l),this._setAxisAndDataZoom(u,e),this._emitEvent(Pt.brushEnd,e)})}_handleBrushChange(e,t,n){const{operateMask:r}=n.detail;this._reconfigItem(r,t),this._reconfigLinkedItem(r,t)}_emitEvent(e,t){this.event.emit(e,{model:this,value:{operateType:e,operateRegion:t,inBrushData:this._extendDataInBrush(this._inBrushElementsMap),outOfBrushData:this._extendDatumOutOfBrush(this._outOfBrushElementsMap),linkInBrushData:this._extendDataInBrush(this._linkedInBrushElementsMap),linkOutOfBrushData:this._extendDatumOutOfBrush(this._linkedOutOfBrushElementsMap),inBrushElementsMap:this._inBrushElementsMap,outOfBrushElementsMap:this._outOfBrushElementsMap,linkedInBrushElementsMap:this._linkedInBrushElementsMap,linkedOutOfBrushElementsMap:this._linkedOutOfBrushElementsMap,zoomRecord:this._zoomRecord}})}_transformBrushedMarkAttr(e){const t={};return e!=null&&e.symbol&&(t.symbolType=e.symbol),e!=null&&e.symbolSize&&(t.size=e.symbolSize),e!=null&&e.color&&(t.fill=e.color),e!=null&&e.colorAlpha&&(t.fillOpacity=e.colorAlpha),Object.assign(Object.assign({},Yt(e)),t)}_reconfigItem(e,t){this._itemMap[t.id].forEach(n=>{const r=n.getProduct();!r||!r.elements||!r.elements.length||r.elements.forEach(s=>{var a,o,l;const u=s.getGraphicItem(),c=n.id+"_"+s.key;!((a=this._outOfBrushElementsMap)===null||a===void 0)&&a[c]&&this._isBrushContainItem(e,u)?(s.addState("inBrush"),this._inBrushElementsMap[e==null?void 0:e.name]||(this._inBrushElementsMap[e==null?void 0:e.name]={}),this._inBrushElementsMap[e==null?void 0:e.name][c]=s,delete this._outOfBrushElementsMap[c]):!((l=(o=this._inBrushElementsMap)===null||o===void 0?void 0:o[e==null?void 0:e.name])===null||l===void 0)&&l[c]&&!this._isBrushContainItem(e,u)&&(s.removeState("inBrush"),s.addState("outOfBrush"),this._outOfBrushElementsMap[c]=s,delete this._inBrushElementsMap[e.name][c]),u.setAttribute("pickable",!this._needDisablePickable)})})}_reconfigLinkedItem(e,t){const n=t.getLayoutStartPoint(),r=t.getSeries().map(s=>s.id);this._linkedSeries.forEach(s=>{if(!r.includes(s.id)){const a=s.getRegion().getLayoutStartPoint(),o=a.x-n.x,l=a.y-n.y;this._linkedItemMap[s.id].forEach(u=>{const c=u.getProduct();!c||!c.elements||!c.elements.length||c.elements.forEach(d=>{var h,p,f;const g=d.getGraphicItem(),v=u.id+"_"+d.key;!((h=this._linkedOutOfBrushElementsMap)===null||h===void 0)&&h[v]&&this._isBrushContainItem(e,g,{dx:o,dy:l})?(d.addState("inBrush"),this._linkedInBrushElementsMap[e==null?void 0:e.name]||(this._linkedInBrushElementsMap[e==null?void 0:e.name]={}),this._linkedInBrushElementsMap[e==null?void 0:e.name][v]=d,delete this._linkedOutOfBrushElementsMap[v]):!((f=(p=this._linkedInBrushElementsMap)===null||p===void 0?void 0:p[e==null?void 0:e.name])===null||f===void 0)&&f[v]&&!this._isBrushContainItem(e,g,{dx:o,dy:l})&&(d.removeState("inBrush"),d.addState("outOfBrush"),this._linkedOutOfBrushElementsMap[v]=d),g.setAttribute("pickable",!this._needDisablePickable)})})}})}_isBrushContainItem(e,t,n){var r,s,a;if(!(e!=null&&e.globalTransMatrix)||!(!((r=e==null?void 0:e.attribute)===null||r===void 0)&&r.points))return!1;const o=(a=(s=e==null?void 0:e.attribute)===null||s===void 0?void 0:s.points)!==null&&a!==void 0?a:[],{a:l,b:u,c,d,e:h,f:p}=e.globalTransMatrix,f=(n==null?void 0:n.dx)||0,g=(n==null?void 0:n.dy)||0,v=o.map(S=>({x:l*S.x+c*S.y+h+f,y:u*S.x+d*S.y+p+g}));e.globalAABBBounds.clone().set(e.globalAABBBounds.x1+f,e.globalAABBBounds.y1+g,e.globalAABBBounds.x2+f,e.globalAABBBounds.y2+g);const m=t.globalTransMatrix.e,b=t.globalTransMatrix.f;let _=[];if(t.type==="symbol"){const{size:S=0}=t==null?void 0:t.attribute,C=we(S)[0]/2;return _=[{x:m-C,y:b-C},{x:m+C,y:b-C},{x:m+C,y:b+C},{x:m-C,y:b+C}],uae(v,_)}if(t.type==="rect"){const{x1:S,x2:C,y1:k,y2:E}=t==null?void 0:t.AABBBounds,A=Math.abs(S-C),P=Math.abs(k-E);return _=[{x:m,y:b},{x:m+A,y:b},{x:m+A,y:b+P},{x:m,y:b+P}],uae(v,_)}return e.globalAABBBounds.intersects(t.globalAABBBounds)}_stateClamp(e){return Math.min(Math.max(0,e),1)}_setAxisAndDataZoom(e,t){var n;if(this._zoomRecord=[],this._spec.zoomAfterBrush){const r=e.AABBBounds;(n=this._regionAxisMap["region_"+t.id])===null||n===void 0||n.forEach(s=>{var a,o;const l=s.layoutOrient==="bottom"||s.layoutOrient==="top",u=(a=this._spec.axisRangeExpand)!==null&&a!==void 0?a:0,{x1:c,x2:d,y1:h,y2:p}=r,f=l?"x":"y",g=l?c:h,v=l?d:p;if(this._axisDataZoomMap[s.id]){const m=this._axisDataZoomMap[s.id],b=m.relatedAxisComponent,_=b.getScale().invert(g-t.getLayoutStartPoint()[f]),S=b.getScale().invert(v-t.getLayoutStartPoint()[f]),C=m.dataToStatePoint(_),k=m.dataToStatePoint(S),E=this._stateClamp(C-u),A=this._stateClamp(k+u);m.setStartAndEnd(E,A,["percent","percent"]),this._zoomRecord.push({operateComponent:m,start:E,end:A})}else{const m=s.getScale().range(),b=(o=s.getScale().rangeFactor())!==null&&o!==void 0?o:[0,1],_=g-t.getLayoutStartPoint()[f],S=v-t.getLayoutStartPoint()[f],C=(_-m[0])/(m[1]-m[0])*(b[1]-b[0])+b[0],k=(S-m[0])/(m[1]-m[0])*(b[1]-b[0])+b[0],E=this._stateClamp(C-u),A=this._stateClamp(k+u);s.getScale().rangeFactor([E,A]),s.effect.scaleUpdate(),this._zoomRecord.push({operateComponent:s,start:E,end:A})}})}}_bindRegions(){X(this._spec.regionId)&&X(this._spec.regionIndex)&&(this._relativeRegions=this._option.getAllRegions()),this._relativeRegions=this._option.getRegionsInUserIdOrIndex(we(this._spec.regionId),we(this._spec.regionIndex))}_bindLinkedSeries(){X(this._spec.brushLinkSeriesId)&&X(this._spec.brushLinkSeriesIndex)||(this._linkedSeries=this._option.getSeriesInUserIdOrIndex(we(this._spec.brushLinkSeriesId),we(this._spec.brushLinkSeriesIndex)))}_initRegionAxisMap(){X(this._spec.axisId)?we(this._spec.axisId).forEach(e=>{this._releatedAxes.push(this._option.getComponentByUserId(e))}):X(this._spec.axisIndex)?we(this._spec.axisIndex).forEach(e=>{this._releatedAxes.push(this._option.getComponentByIndex("axes",e))}):this._releatedAxes=this._option.getComponentsByKey("axes"),this._releatedAxes.forEach(e=>{e==null||e.getRegions().forEach(t=>{this._regionAxisMap["region_"+t.id]?this._regionAxisMap["region_"+t.id].push(e):this._regionAxisMap["region_"+t.id]=[e]})})}_initAxisDataZoomMap(){this._option.getComponentsByKey("dataZoom").forEach(e=>{e.relatedAxisComponent&&(this._axisDataZoomMap[e.relatedAxisComponent.id]=e)})}_initNeedOperatedItem(){const e=this._spec.seriesId,t=this._spec.seriesIndex;this._relativeRegions.forEach(n=>{const r=[];n.getSeries().forEach(s=>{(e&&we(e).includes(s.userId.toString())||t&&we(t).includes(s.getSpecIndex())||!t&&!e)&&r.push(...s.getMarksWithoutRoot()),this._itemMap[n.id]=r})}),this._linkedSeries.forEach(n=>{this._linkedItemMap[n.id]=n.getMarksWithoutRoot()})}_initMarkBrushState(e,t){this._brushComponents.forEach((n,r)=>{r!==e&&n.children[0].removeAllChild()}),this._inBrushElementsMap={},this._outOfBrushElementsMap={},this._linkedInBrushElementsMap={},this._linkedOutOfBrushElementsMap={},this._option.getAllSeries().forEach(n=>{n.getMarksWithoutRoot().forEach(r=>{const s=r.getProduct();!s||!s.elements||!s.elements.length||s.elements.forEach(a=>{const o=r.id+"_"+a.key;a.removeState("inBrush"),a.removeState("outOfBrush"),a.addState(t),this._outOfBrushElementsMap[o]=a,this._linkedOutOfBrushElementsMap[o]=a})})})}initEvent(){}onRender(e){}changeRegions(e){}_getNeedClearVRenderComponents(){return this._brushComponents}_compareSpec(e,t){this._brushComponents&&this._relativeRegions.forEach((r,s)=>{this._updateBrushComponent(r,s)});const n=super._compareSpec(e,t);return Rr(t,e)||(n.reRender=!0,n.reMake=!0),n}onLayoutEnd(e){var t;super.onLayoutEnd(e),!this._option.disableTriggerEvent&&((t=this._spec.visible)===null||t===void 0||t)&&(this._brushComponents?this._relativeRegions.forEach((n,r)=>{this._updateBrushComponent(n,r)}):(this._brushComponents=[],this._relativeRegions.forEach((n,r)=>{this._createBrushComponent(n,r)})))}clearGraphic(){this._brushComponents&&this._brushComponents.forEach(e=>{e._container.incrementalClearChild()})}clear(){if(this._brushComponents){const e=this.getContainer();this._brushComponents.forEach(t=>{t.removeAllChild(),t.releaseBrushEvents(),e&&e.removeChild(t)}),this._brushComponents=null}}}zF.type=De.brush,zF.specKey="brush";const xOt=()=>{ce.registerComponent(zF.type,zF)};class HF extends fu{constructor(){super(...arguments),this.type=De.customMark,this.specKey="customMark",this.layoutType="none",this.layoutZIndex=qn.CustomMark,this.layoutLevel=up.CustomMark}static getSpecInfo(e){const t=e[this.specKey];return t?ke(t)?t.map((n,r)=>({spec:n,specPath:[this.specKey,r],specInfoPath:["component",this.specKey,r],type:De.customMark})):[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:De.customMark}]:null}created(){super.created(),this.initMarks(),this.initEvent()}getMarkAttributeContext(){return this._markAttributeContext}_buildMarkAttributeContext(){this._markAttributeContext={vchart:this._option.globalInstance,globalScale:(e,t)=>{var n;return(n=this._option.globalScale.getScale(e))===null||n===void 0?void 0:n.scale(t)}}}initMarks(){if(!this._spec)return;const e=this._option&&this._option.getAllSeries(),t=this._option.animation!==!1,n=[];e&&e.length&&e.forEach(r=>{const s=r&&r.getMarksWithoutRoot();s&&s.length&&s.forEach(a=>{n.push(a)})}),this._createExtensionMark(this._spec,null,`${Ut}_series_${this.id}_extensionMark`,0,{depend:n,hasAnimation:t})}_createExtensionMark(e,t,n,r=0,s){var a;const o=this._createMark({type:e.type,name:`${n}_${r}`},{skipBeforeLayouted:!0,attributeContext:this._getMarkAttributeContext(),componentType:e.componentType,key:e.dataKey});if(o){if(s.hasAnimation&&e.animation){const l=Yi({},an(e.type,e,this._markAttributeContext));o.setAnimationConfig(l)}if(s.depend&&s.depend.length&&o.setDepend(...s.depend),Y(t)?this._marks.addMark(o):t&&t.addMark(o),this.initMarkStyleWithSpec(o,e),e.type==="group"&&(n=`${n}_${r}`,(a=e.children)===null||a===void 0||a.forEach((l,u)=>{this._createExtensionMark(l,o,n,u,s)})),X(e.dataId)||Ce(e.dataIndex)){const l=this.getChart().getSeriesData(e.dataId,e.dataIndex);l&&(l.target.addListener("change",()=>{o.getData().updateData()}),o.setDataView(l))}}}initEvent(){}_compareSpec(e,t){const n=super._compareSpec(e,t);return Rr(t,e)||(n.reMake=!0),n.change=!0,n.reRender=!0,n}changeRegions(e){}_getNeedClearVRenderComponents(){return[]}onRender(e){}afterCompile(){this.getMarks().forEach(e=>{const t=e.getProduct();t&&t.addEventListener(At.AFTER_ELEMENT_ENCODE,()=>{if(this._isLayout===!1){const n=t.getGroupGraphicItem();n.listenerCount("*")===0&&n.addEventListener("*",(r,s)=>this._delegateEvent(n,r,s))}})})}_getMarkAttributeContext(){return{vchart:this._option.globalInstance,chart:this.getChart(),globalScale:(e,t)=>{var n;return(n=this._option.globalScale.getScale(e))===null||n===void 0?void 0:n.scale(t)},getLayoutBounds:()=>{const{x:e,y:t}=this.getLayoutStartPoint(),{width:n,height:r}=this.getLayoutRect();return new Da().set(e,t,e+n,t+r)}}}_getLayoutRect(){const e=new Da;return this.getMarks().forEach(t=>{const n=t.getProduct();n&&e.union(n.getBounds())}),e.empty()?{width:0,height:0}:{width:e.width(),height:e.height()}}getBoundsInRect(e){this.setLayoutRect(e);const t=this._getLayoutRect(),{x:n,y:r}=this.getLayoutStartPoint();return{x1:n,y1:r,x2:n+t.width,y2:r+t.height}}}HF.type=De.customMark,HF.specKey="customMark";const wOt=()=>{ce.registerComponent(HF.type,HF)};function ope(i,e,t=0){return t>Math.max(e.x1-i.x2,i.x1-e.x2,e.y1-i.y2,i.y1-e.y2)}function COt(i){return{x1:i.x,x2:i.x+i.width,y1:i.y,y2:i.y+i.height}}function kOt(i){return{x:i.x1,y:i.y1,width:i.x2-i.x1,height:i.y2-i.y1}}function aPe(i){var e;if(!i||i.length===0)return[];if(i.length===1)return[i[0].rect];const t=i.map(r=>{var s;return Object.assign(Object.assign({},r),{bound:COt(r.rect),anchorCandidates:TOt((s=r.anchors)!==null&&s!==void 0?s:[],r.point,r.rect,r.offset)})}),n=[];n.push(t[0].bound);for(let r=1;r<=t.length-1;r++){const s=t[r],a=s.bound;let o=n.some(l=>ope(l,a));if(s.anchorCandidates)if(o&&((e=s.anchorCandidates)===null||e===void 0?void 0:e.length)>0){for(let l=0;l<s.anchorCandidates.length;l++){const u=s.anchorCandidates[l],c={x1:u.x,y1:u.y,x2:u.x+a.x2-a.x1,y2:u.y+a.y2-a.y1,anchor:u};if(!n.some(d=>ope(d,c))){n.push(c),o=!1;break}}o&&n.push(s.bound)}else n.push(s.bound)}return n.map(r=>kOt(r))}function EOt(i,e,t){const n=i.map(u=>u.pointCoord),{x1:r,x2:s,y1:a,y2:o}=ert(n),l=t([(r+s)/2,(a+o)/2]);return l?aPe(i.map(u=>{const c=u.rect,d=oPe(e,u.pointCoord)?t(AOt(e,[u.pointCoord.x,u.pointCoord.y],lpe(upe(u.point,l)))):u.point;d&&(c.x=d.x,c.y=d.y);const h=lpe(upe(u.point,l));let p;const f=[];return h>=-45&&h<45?(p="top",f.push("left","right")):h>=45&&h<135?p="right":h>=-135&&h<-45?(p="left",f.push("left")):(p="bottom",f.push("left","right")),u.anchors=f,u.offset=20,u.rect=qq(u.rect,p,0),u})):[]}function lpe(i){return i>180?i-360:i}function upe(i,e){return 180*Math.atan2(i.y-e.y,i.x-e.x)/Math.PI+90}function AOt(i,e,t,n=200){const r=5621/n;let s=e;for(let a=1;a<=r;a++){const o=drt(s,n,t);if(!oPe(i,o))return[o.x,o.y];s=[o.x,o.y]}return e}function oPe(i,e){for(let t=0;t<i.length;t++)if(crt(e,i[t]))return!0;return!1}function qq(i,e,t=0){const n=Object.assign({},i);return e==="top"?(n.x-=i.width/2,n.y-=t+i.height/2):e==="bottom"?(n.x-=i.width/2,n.y+=t-i.height/2):e==="left"?(n.x-=t+i.width,n.y-=i.height/2):e==="right"&&(n.x+=t,n.y-=i.height/2),n}function TOt(i,e,t,n=0){const r=[];return i.forEach(s=>{const{x:a,y:o}=qq(Object.assign(Object.assign({},e),{width:t.width,height:t.height}),s,n);r.push({x:a,y:o})}),r}class VF extends fu{constructor(){super(...arguments),this.type=De.mapLabel,this.name=De.mapLabel,this.specKey="mapLabel",this.layoutType="none",this.layoutZIndex=qn.MarkPoint,this._activeDatum=[]}static getSpecInfo(e){const t=e[this.specKey];return t&&t.visible&&!X(t.series)?[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:De.mapLabel}]:null}setAttrFromSpec(){var e,t,n,r;this.nameField=(e=this._spec.nameField)!==null&&e!==void 0?e:(t=this._series)===null||t===void 0?void 0:t.getDimensionField()[0],this.valueField=(n=this._spec.valueField)!==null&&n!==void 0?n:(r=this._series)===null||r===void 0?void 0:r.getMeasureField()[0]}created(){super.created(),this._spec.visible&&(this.initRelatedInfo(),this.initData(),this.initEvent())}initRelatedInfo(){var e,t,n,r,s,a,o,l;this._series=this._option.getSeriesInUserIdOrIndex([this._spec.seriesId])[0],this._spec.position==="outer"&&(this._map=(t=(e=this._regions[0].getSeriesInType("map")[0])===null||e===void 0?void 0:e.getMapViewData())===null||t===void 0?void 0:t.latestData,this._longitudeField=(s=(r=(n=this._regions[0]).getSpec)===null||r===void 0?void 0:r.call(n))===null||s===void 0?void 0:s.longitudeField,this._latitudeField=(l=(o=(a=this._regions[0]).getSpec)===null||o===void 0?void 0:o.call(a))===null||l===void 0?void 0:l.latitudeField)}initData(){const e=this._series;if(!e)return;const t=e.getViewData();if(t){const n=new vn(this._option.dataSet,{name:`${this.name}_data`});n.parse([t],{type:"dataview"}),n.transform({type:"copyDataView",level:cp.copyDataView},!1),this._data=new Cf(this._option,n),n.target.addListener("change",()=>{this._spec.trigger!=="hover"&&this._spec.trigger!=="click"&&(this._activeDatum=this._data.getLatestData())})}}initEvent(){var e;this.event.on("zoom",{filter:r=>this._isRelativeModel(r.model)},r=>(this.handleZoom(r),!0)),this.event.on("panmove",{filter:r=>this._isRelativeModel(r.model)},r=>(this.handlePan(r),!0));const t=this._spec.trigger;if(t==="none")return;const n=(e=this.getCompiler())===null||e===void 0?void 0:e.getVGrammarView();n&&(t==="hover"?(n.addEventListener("element-highlight:start",r=>{this._isRelativeSeries(r.options.seriesId)&&this._updateDatum(r.elements[0].getDatum())}),n.addEventListener("element-highlight:reset",r=>{this._isRelativeSeries(r.options.seriesId)&&this._updateDatum(null)})):t==="click"&&(n.addEventListener("element-select:start",r=>{this._isRelativeSeries(r.options.seriesId)&&this._updateDatum(r.elements[0].getDatum())}),n.addEventListener("elementSelectReset",r=>{this._isRelativeSeries(r.options.seriesId)&&this._updateDatum([])})))}handlePan(e){const{delta:t}=e;this._markerComponents.forEach(n=>{n.translate(t[0],t[1])})}handleZoom(e){this._updateMarkerLayoutAttribute()}_updateDatum(e){this._activeDatum=e,this._markerComponents.forEach((t,n)=>{var r;const s=(r=this._data)===null||r===void 0?void 0:r.getLatestData()[n];this._activeDatum.includes(s)?t.setAttribute("visible",!0):t.setAttribute("visible",!1)})}dataToPosition(e){return this._series.dataToPosition(e)}updateLayoutAttribute(){var e;const t=(e=this._data)===null||e===void 0?void 0:e.getLatestData();t&&t.length!==0&&(super.updateLayoutAttribute(),this._updateMarkerLayoutAttribute())}_updateMarkerLayoutAttribute(){var e;const t=[],n=[];this._markerComponents||(this._markerComponents=(e=this._data)===null||e===void 0?void 0:e.getLatestData().map((s,a)=>{var o;const l=new Gv({position:void 0,animation:!1});return l&&(l.name=`${this.name}_marker_${a}`,l.id=(o=this._spec.id)!==null&&o!==void 0?o:`${this.name}_marker_${this.id}`,l.setAttribute("zIndex",this.layoutZIndex)),l})),this._markerComponents.forEach((s,a)=>{s.removeAllChild();const{pairInfo:o,contentMarks:l}=this._evaluateMarker(this._data.getLatestData()[a],a);o&&t.push(o),l&&n.push(l)});const r=this._layoutLabels(t);this._layoutMarkers(r,n),this._renderMarkers()}_evaluateMarker(e,t){var n,r,s,a,o,l,u,c,d,h,p,f;let g=0,v=0,m=0,b=0,_=0;const S=this._spec.position||"top",C=this._spec.offset,k=Qg((n=this._spec.background)===null||n===void 0?void 0:n.padding),E=this._spec.space||0;v+=((k==null?void 0:k.left)||0)+((k==null?void 0:k.right)||0),m+=((k==null?void 0:k.top)||0)+((k==null?void 0:k.bottom)||0);const A={},P=this.dataToPosition(e),O=lX({});if(O.name=`${this.name}_marker_itemContainer_${t}`,A.container=O,(r=this._spec.background)===null||r===void 0?void 0:r.visible){const B=z_(Yt(Object.assign({},this._spec.background.style)));B.setAttributes(P),A.labelBackground=B,O.appendChild(B)}if(!((s=this._spec.icon)===null||s===void 0)&&s.visible){const B=KB(Yt(Object.assign({},this._spec.icon.style)));B.setAttributes(P),B.setAttribute("symbolType",(a=this._spec.icon.style)===null||a===void 0?void 0:a.shape);const F=B.AABBBounds,z=(o=(F==null?void 0:F.y2)-(F==null?void 0:F.y1))!==null&&o!==void 0?o:0,N=(l=(F==null?void 0:F.x2)-(F==null?void 0:F.x1))!==null&&l!==void 0?l:0;A.icon=B,O.appendChild(B),_=z,b+=N,g++}if(!((u=this._spec.nameLabel)===null||u===void 0)&&u.visible){const B=Ux(Yt(Object.assign({},this._spec.nameLabel.style)));B.setAttributes(P),B.setAttribute("text",e[this.nameField]);const F=B.AABBBounds,z=(c=(F==null?void 0:F.y2)-(F==null?void 0:F.y1))!==null&&c!==void 0?c:0,N=(d=(F==null?void 0:F.x2)-(F==null?void 0:F.x1))!==null&&d!==void 0?d:0;A.nameLabel=B,O.appendChild(B),_=Math.max(_,z),b+=N,g++}if(!((h=this._spec.valueLabel)===null||h===void 0)&&h.visible&&X(e[this.valueField])){const B=Ux(Yt(Object.assign({},this._spec.valueLabel.style)));B.setAttributes(P),B.setAttribute("text",e[this.valueField]);const F=B.AABBBounds,z=(p=(F==null?void 0:F.y2)-(F==null?void 0:F.y1))!==null&&p!==void 0?p:0,N=(f=(F==null?void 0:F.x2)-(F==null?void 0:F.x1))!==null&&f!==void 0?f:0;A.valueLabel=B,O.appendChild(B),_=Math.max(_,z),b+=N,g++}const M=Object.values(A).find(B=>!!B&&B.type!=="group"),D={x:M==null?void 0:M.getComputedAttribute("x"),y:M==null?void 0:M.getComputedAttribute("y")},L={x:D.x,y:D.y,width:0,height:0};L.width=v+b+(g-1)*E,L.height=m+_;const H={rect:L,point:D,index:t};if(S!=="outer"){const B=["top","right","left","bottom"].filter(F=>F!==S);H.rect=qq(L,S,C),H.anchors=B,H.offset=C}else H.pointCoord={x:+(e==null?void 0:e[this._longitudeField]),y:+(e==null?void 0:e[this._latitudeField])};return{pairInfo:H,contentMarks:A}}_layoutMarkers(e,t){var n,r,s;for(let a=0;a<t.length;a++){if(!e[a]||!t[a])return;const{icon:o,nameLabel:l,valueLabel:u,labelBackground:c,container:d}=t[a],h=e[a],p=Qg((n=this._spec.background)===null||n===void 0?void 0:n.padding),f=this._spec.space||0,g=h.height/2;let v=(p==null?void 0:p.left)||0;[o,l,u].forEach((C,k)=>{var E,A;if(C){const P=C.AABBBounds;let O=0;C.type==="symbol"&&(O+=((E=P.x2-P.x1)!==null&&E!==void 0?E:0)/2),C.setAttributes({x:v+O,y:g}),v+=(A=P.x2-P.x1)!==null&&A!==void 0?A:0,k!==2&&(v+=f)}}),c==null||c.setAttributes({x:0,y:0,width:h.width,height:h.height}),d==null||d.setAttributes({dx:-h.width/2,dy:-h.height/2});const m=this._data.getLatestData()[a],b=this.dataToPosition(m),_=this.getRegions()[0].getLayoutStartPoint(),S=!(!(!((r=this._spec.leader)===null||r===void 0)&&r.visible)||!(o||l||u));this._markerComponents[a].setAttributes({x:_.x,y:_.y,position:b,visible:this._activeDatum.includes(m),itemContent:{refX:0,type:"custom",renderCustomCallback:()=>d,autoRotate:!1,offsetX:h.x+h.width/2-b.x,offsetY:h.y+h.height/2-b.y},itemLine:{visible:S,type:"type-po",lineStyle:Yt(Object.assign({},(s=this._spec.leader)===null||s===void 0?void 0:s.style)),startSymbol:{visible:!1}}})}}_renderMarkers(){if(this._markerComponents&&this._markerComponents.length)for(let e=0;e<this._markerComponents.length;e++)this.getContainer().add(this._markerComponents[e])}_layoutLabels(e){return this._spec.position==="outer"&&this._map?EOt(e,this._map,t=>this._series.dataToPosition({[this._longitudeField]:t[0],[this._latitudeField]:t[1]})):aPe(e)}_isRelativeModel(e){var t,n,r;const s=(n=(t=this._series.getXAxisHelper())===null||t===void 0?void 0:t.getAxisId())!==null&&n!==void 0?n:(r=this._series.getCoordinateHelper())===null||r===void 0?void 0:r.getCoordinateId();return(e==null?void 0:e.id)===s}_isRelativeSeries(e){return(e==null?void 0:e.id)===this._series.id}onRender(e){}changeRegions(){}_getNeedClearVRenderComponents(){return this._markerComponents}}VF.type=De.mapLabel,VF.specKey="mapLabel";const POt=()=>{ce.registerComponent(VF.type,VF)};class rU{constructor(e,t){this._chartLayoutRect={x:0,y:0,width:1,height:1},this._col=1,this._row=1,this._elementMap=new Map,this.standardizationSpec(e),this._gridInfo=e,this._col=e.col,this._row=e.row,this._colSize=new Array(this._col).fill(null),this._rowSize=new Array(this._row).fill(null),this._colElements=new Array(this._col).fill([]),this._rowElements=new Array(this._row).fill([]),this._onError=t==null?void 0:t.onError,this.initUserSetting()}standardizationSpec(e){var t,n,r;e.col=(t=e.col)!==null&&t!==void 0?t:1,e.row=(n=e.row)!==null&&n!==void 0?n:1,e.elements=(r=e.elements)!==null&&r!==void 0?r:[]}initUserSetting(){this._gridInfo.colWidth&&this.setSizeFromUserSetting(this._gridInfo.colWidth,this._colSize,this._col,this._chartLayoutRect.width),this._gridInfo.rowHeight&&this.setSizeFromUserSetting(this._gridInfo.rowHeight,this._rowSize,this._row,this._chartLayoutRect.height),this._colSize.forEach((e,t)=>{e||(this._colSize[t]={value:0,isUserSetting:!1,isLayoutSetting:!1})}),this._rowSize.forEach((e,t)=>{e||(this._rowSize[t]={value:0,isUserSetting:!1,isLayoutSetting:!1})})}setSizeFromUserSetting(e,t,n,r){e.forEach(s=>{s.index<0&&s.index>=n||(Ce(s.size)?t[s.index]={value:+s.size,isUserSetting:!0,isLayoutSetting:!1}:Pe(s.size)&&(t[s.index]={value:s.size(r),isUserSetting:!0,isLayoutSetting:!1}))})}clearLayoutSize(){this._colSize.forEach(e=>{e.isLayoutSetting=!1,e.isUserSetting||(e.value=0)}),this._rowSize.forEach(e=>{e.isLayoutSetting=!1,e.isUserSetting||(e.value=0)})}getItemGridInfo(e){var t;const n=this._elementMap.get(e);if(n)return n;let r;return r=(t=this._gridInfo.elements)===null||t===void 0?void 0:t.find(s=>{var a;if("modelId"in s&&X(s.modelId)){if(X(e.model.userId)&&e.model.userId===s.modelId)return!0}else if("modelKey"in s&&X(s.modelKey)&&"modelIndex"in s&&X(s.modelIndex)&&((a=e.model.specKey)!==null&&a!==void 0?a:e.model.type)===s.modelKey&&e.model.getSpecIndex()===s.modelIndex)return!0;return!1}),r||(r={col:0,colSpan:1,row:0,rowSpan:1}),this._elementMap.set(e,r),r}getSizeFromGrid(e,t){var n;const r=t==="col"?this._colSize:this._rowSize;let s=0;for(let a=e[t];a<e[t]+((n=e[`${t}Span`])!==null&&n!==void 0?n:1);a++)s+=r[a].value;return s}getSizeFromUser(e,t){var n,r;const s=t==="col"?this._colSize:this._rowSize;if(!(!((n=s[e[t]])===null||n===void 0)&&n.isUserSetting))return;let a=0;for(let o=e[t];o<e[t]+((r=e[`${t}Span`])!==null&&r!==void 0?r:1);o++){if(!s[o].isUserSetting)return;a+=s[o].value}return a}setItemLayoutSizeToGrid(e,t){if(Ek(e)){if(t.colSpan&&t.colSpan>1||this._colSize[t.col].isUserSetting)return;this._colSize[t.col].value=Math.max(this._colSize[t.col].value,e.getLayoutRect().width+e.layoutPaddingLeft+e.layoutPaddingRight),this._colSize[t.col].isLayoutSetting=!0}else{if(t.rowSpan&&t.rowSpan>1||this._rowSize[t.row].isUserSetting)return;this._rowSize[t.row].value=Math.max(this._rowSize[t.row].value,e.getLayoutRect().height+e.layoutPaddingTop+e.layoutPaddingBottom),this._rowSize[t.row].isLayoutSetting=!0}}layoutGrid(e){const t=e==="col"?this._colSize:this._rowSize;let n=e==="col"?this._chartLayoutRect.width:this._chartLayoutRect.height;const r=[];t.forEach(s=>{s.isUserSetting||s.isLayoutSetting?n-=s.value:r.push(s)}),n<0&&console.warn(`layout content ${e} size bigger than chart`),r.forEach(s=>s.value=n/r.length)}getItemPosition(e){const t=this.getItemGridInfo(e),n={x:this._chartLayoutRect.x,y:this._chartLayoutRect.y};for(let r=0;r<t.col;r++)n.x+=this._colSize[r].value;for(let r=0;r<t.row;r++)n.y+=this._rowSize[r].value;return n.x+=e.layoutPaddingLeft+e.layoutOffsetX,n.y+=e.layoutPaddingTop+e.layoutOffsetY,n}getItemLayoutRect(e){var t,n;const r=this.getItemGridInfo(e);return{width:((t=this.getSizeFromGrid(r,"col"))!==null&&t!==void 0?t:this._chartLayoutRect.width)-e.layoutPaddingLeft-e.layoutPaddingRight,height:((n=this.getSizeFromGrid(r,"row"))!==null&&n!==void 0?n:this._chartLayoutRect.height)-e.layoutPaddingTop-e.layoutPaddingBottom}}layoutItems(e,t,n,r){this._chartLayoutRect=n,this._chartViewBox=r,this.clearLayoutSize(),t.sort((d,h)=>h.layoutLevel-d.layoutLevel);const s=t.filter(d=>d.layoutType==="normal"&&d.getModelVisible()!==!1),a=s.filter(d=>Ek(d)),o=s.filter(d=>!Ek(d));s.forEach(d=>{this.layoutOneItem(d,"user",!1)});const l=t.filter(d=>d.layoutType==="region-relative"),u=l.filter(d=>Ek(d)),c=l.filter(d=>!Ek(d));u.forEach(d=>this.layoutOneItem(d,"user",!1)),this.layoutGrid("col"),o.forEach(d=>this.layoutOneItem(d,"colGrid",!1)),c.forEach(d=>{this.layoutOneItem(d,"colGrid",!1)}),this.layoutGrid("row"),c.forEach(d=>{this.layoutOneItem(d,"grid",!1)}),a.forEach(d=>this.layoutOneItem(d,"grid",!1)),u.forEach(d=>{this.layoutOneItem(d,"grid",!0)}),this.layoutGrid("col"),t.filter(d=>d.layoutType==="region").forEach(d=>this.layoutOneItem(d,"grid",!1)),this.layoutAbsoluteItems(t.filter(d=>d.layoutType==="absolute")),t.filter(d=>d.layoutType!=="absolute").forEach(d=>{d.setLayoutStartPosition(this.getItemPosition(d))})}layoutAbsoluteItems(e){e.forEach(t=>{t.absoluteLayoutInRect(this._chartLayoutRect)})}layoutOneItem(e,t,n){var r,s;const a=t==="rowGrid"||t==="grid"?this.getSizeFromGrid.bind(this):this.getSizeFromUser.bind(this),o=t==="colGrid"||t==="grid"?this.getSizeFromGrid.bind(this):this.getSizeFromUser.bind(this),l=this.getItemGridInfo(e),u={width:((r=o(l,"col"))!==null&&r!==void 0?r:this._chartLayoutRect.width)-e.layoutPaddingLeft-e.layoutPaddingRight,height:((s=a(l,"row"))!==null&&s!==void 0?s:this._chartLayoutRect.height)-e.layoutPaddingTop-e.layoutPaddingBottom},c=e.computeBoundsInRect(u);Ce(c.width)||(c.width=u.width),Ce(c.height)||(c.height=u.height),e.setLayoutRect(t!=="grid"?c:u),this.setItemLayoutSizeToGrid(e,l)}}function Ek(i){return i.layoutOrient==="left"||i.layoutOrient==="right"}rU.type="grid";const OOt=()=>{ce.registerLayout(rU.type,rU)};class sU extends dq{layoutItems(e,t,n,r){this._layoutInit(e,t,n,r),this._layoutNormalItems(t);const s={left:this.leftCurrent,top:this.topCurrent,right:this.rightCurrent,bottom:this.bottomCurrent},a=t.filter(m=>m.layoutType==="absolute"),o=a.filter(m=>m.layoutOrient==="z");let l={width:0,height:0};o.length&&(l=o[0].getLayoutRect()),this.leftCurrent+=l.width/8,this.rightCurrent-=l.width/8,this.topCurrent+=l.height/8,this.bottomCurrent-=l.height/8;const{regionItems:u,relativeItems:c,relativeOverlapItems:d,allRelatives:h,overlapItems:p}=this._groupItems(t);this.layoutRegionItems(u,c,d,p),this._processAutoIndent(u,c,d,p,h,s);const f=a.filter(m=>m.layoutOrient!=="z");this.layoutAbsoluteItems(f);const g=c.filter(m=>m.model.specKey==="axes"&&Qr(m.layoutOrient))[0],v=c.filter(m=>m.model.specKey==="axes"&&ef(m.layoutOrient))[0];if(g&&o.length){const m=g.getLayoutStartPoint(),b=g.getLayoutRect(),_={x:v.layoutOrient==="left"?m.x+b.width:m.x,y:m.y,width:this._chartLayoutRect.width,height:this._chartLayoutRect.height};o[0].model.directionStr=v.layoutOrient==="left"?"r2l":"l2r";const S=g.getLayoutRect(),C=v.getLayoutRect(),k={length:o[0].getLayoutRect().width,width:S.width,height:C.height};g.model.setLayout3dBox&&g.model.setLayout3dBox(k),v.model.setLayout3dBox&&v.model.setLayout3dBox(k),o[0].model.setLayout3dBox&&o[0].model.setLayout3dBox(k),this.layoutZAxisItems(o,_)}}layoutZAxisItems(e,t){e.forEach(n=>{n.absoluteLayoutInRect(t)})}getItemComputeLayoutRect(e,t){return t||(t={offsetLeft:0,offsetRight:0,offsetTop:0,offsetBottom:0}),{width:this.rightCurrent-this.leftCurrent-e.layoutPaddingLeft-e.layoutPaddingRight-(t.offsetLeft+t.offsetRight),height:this.bottomCurrent-this.topCurrent-e.layoutPaddingTop-e.layoutPaddingBottom-(t.offsetTop+t.offsetBottom)}}_checkAutoIndent(e){const t={top:0,left:0,bottom:0,right:0},n=this._chartViewBox.x2-this._chartViewBox.x1-this.rightCurrent,r=this._chartViewBox.y2-this._chartViewBox.y1-this.bottomCurrent;return e.forEach(s=>{if(!s.getModelVisible()||!s.autoIndent)return;const a=s.layoutOrient==="left"||s.layoutOrient==="right",o=s.getLastComputeOutBounds();a?(t.top=Math.max(t.top,o.y1-this.topCurrent),t.bottom=Math.max(t.bottom,o.y2-r)):(t.left=Math.max(t.left,o.x1-this.leftCurrent),t.right=Math.max(t.right,o.x2-n))}),t}}sU.type="layout3d";const MOt=()=>{ce.registerLayout(sU.type,sU)},IOt=()=>{Wgt()};class f2 extends Xo{constructor(){super(...arguments),this.type=f2.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{width:void 0,height:void 0,lineWidth:0})}}f2.type="image";const ROt=()=>{ce.registerMark(f2.type,f2),X_t()},DOt=()=>{KAe(),N$(),_m(),Kw(),Ju(),H$(),bm(),bq(),wb(),m2e(),ROt(),A2e(),j$(),XTe(),yq(),v2e()};jo.useRegisters([lkt,hkt,vkt,Ekt,H2t,W2t,U2t,X2t,z2t,Q2t,J2t,ePt,nPt,dPt,hPt,Z2t,sPt,aPt,fPt,lPt,uPt,cPt,pPt,gPt,K2t,mPt,G2t,ykt,V2t,q2t,rPt,oPt,tPt,iPt,Zu,Qu,ekt,tkt,ikt,_P,Xw,SPt,PPt,RPt,FPt,jPt,VPt,WPt,GPt,DTe,oOt,cOt,_Ot,lOt,dOt,bOt,SOt,uOt,gOt,mOt,yOt,xOt,wOt,POt,IOt,OOt,MOt,DOt,RCt,DCt,Gwt,hyt,vyt,yyt,_yt,myt,gyt]);function LOt(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var ec=LOt;const tm=Li(ec);var FOt=typeof QO=="object"&&QO&&QO.Object===Object&&QO,lPe=FOt,BOt=lPe,$Ot=typeof self=="object"&&self&&self.Object===Object&&self,NOt=BOt||$Ot||Function("return this")(),fp=NOt,jOt=fp,zOt=function(){return jOt.Date.now()},HOt=zOt,VOt=/\s/;function WOt(i){for(var e=i.length;e--&&VOt.test(i.charAt(e)););return e}var UOt=WOt,GOt=UOt,YOt=/^\s+/;function KOt(i){return i&&i.slice(0,GOt(i)+1).replace(YOt,"")}var XOt=KOt,qOt=fp,ZOt=qOt.Symbol,Qw=ZOt,cpe=Qw,uPe=Object.prototype,QOt=uPe.hasOwnProperty,JOt=uPe.toString,Ak=cpe?cpe.toStringTag:void 0;function eMt(i){var e=QOt.call(i,Ak),t=i[Ak];try{i[Ak]=void 0;var n=!0}catch{}var r=JOt.call(i);return n&&(e?i[Ak]=t:delete i[Ak]),r}var tMt=eMt,iMt=Object.prototype,nMt=iMt.toString;function rMt(i){return nMt.call(i)}var sMt=rMt,dpe=Qw,aMt=tMt,oMt=sMt,lMt="[object Null]",uMt="[object Undefined]",hpe=dpe?dpe.toStringTag:void 0;function cMt(i){return i==null?i===void 0?uMt:lMt:hpe&&hpe in Object(i)?aMt(i):oMt(i)}var gp=cMt;function dMt(i){return i!=null&&typeof i=="object"}var tc=dMt,hMt=gp,pMt=tc,fMt="[object Symbol]";function gMt(i){return typeof i=="symbol"||pMt(i)&&hMt(i)==fMt}var Jw=gMt,mMt=XOt,ppe=ec,vMt=Jw,fpe=NaN,yMt=/^[-+]0x[0-9a-f]+$/i,_Mt=/^0b[01]+$/i,bMt=/^0o[0-7]+$/i,SMt=parseInt;function xMt(i){if(typeof i=="number")return i;if(vMt(i))return fpe;if(ppe(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=ppe(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=mMt(i);var t=_Mt.test(i);return t||bMt.test(i)?SMt(i.slice(2),t?2:8):yMt.test(i)?fpe:+i}var Zq=xMt;const Ld=Li(Zq);var wMt=ec,g8=HOt,gpe=Zq,CMt="Expected a function",kMt=Math.max,EMt=Math.min;function AMt(i,e,t){var n,r,s,a,o,l,u=0,c=!1,d=!1,h=!0;if(typeof i!="function")throw new TypeError(CMt);e=gpe(e)||0,wMt(t)&&(c=!!t.leading,d="maxWait"in t,s=d?kMt(gpe(t.maxWait)||0,e):s,h="trailing"in t?!!t.trailing:h);function p(k){var E=n,A=r;return n=r=void 0,u=k,a=i.apply(A,E),a}function f(k){return u=k,o=setTimeout(m,e),c?p(k):a}function g(k){var E=k-l,A=k-u,P=e-E;return d?EMt(P,s-A):P}function v(k){var E=k-l,A=k-u;return l===void 0||E>=e||E<0||d&&A>=s}function m(){var k=g8();if(v(k))return b(k);o=setTimeout(m,g(k))}function b(k){return o=void 0,h&&n?p(k):(n=r=void 0,a)}function _(){o!==void 0&&clearTimeout(o),u=0,n=l=r=o=void 0}function S(){return o===void 0?a:b(g8())}function C(){var k=g8(),E=v(k);if(n=arguments,r=this,l=k,E){if(o===void 0)return f(l);if(d)return clearTimeout(o),o=setTimeout(m,e),p(l)}return o===void 0&&(o=setTimeout(m,e)),a}return C.cancel=_,C.flush=S,C}var cPe=AMt;const Qq=Li(cPe);var TMt=cPe,PMt=ec,OMt="Expected a function";function MMt(i,e,t){var n=!0,r=!0;if(typeof i!="function")throw new TypeError(OMt);return PMt(t)&&(n="leading"in t?!!t.leading:n,r="trailing"in t?!!t.trailing:r),TMt(i,e,{leading:n,maxWait:e,trailing:r})}var IMt=MMt;const g2=Li(IMt);var aU=function(i,e){return aU=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},aU(i,e)};function dPe(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");aU(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var PA=function(){return PA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},PA.apply(this,arguments)};function hPe(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t}var RMt=function(i,e,t,n){switch(e){case"debounce":return Qq(i,t,n);case"throttle":return g2(i,t,n);default:return i}},mpe=function(i){return typeof i=="function"},Tk=function(){return typeof window>"u"},vpe=function(i){return i instanceof Element||i instanceof HTMLDocument},DMt=function(i){dPe(e,i);function e(t){var n=i.call(this,t)||this;n.cancelHandler=function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)},n.attachObserver=function(){var u=n.props,c=u.targetRef,d=u.observerOptions;if(!Tk()){c&&c.current&&(n.targetRef.current=c.current);var h=n.getElement();h&&(n.observableElement&&n.observableElement===h||(n.observableElement=h,n.resizeObserver.observe(h,d)))}},n.getElement=function(){var u=n.props,c=u.querySelector,d=u.targetDomEl;if(Tk())return null;if(c)return document.querySelector(c);if(d&&vpe(d))return d;if(n.targetRef&&vpe(n.targetRef.current))return n.targetRef.current;var h=Mc.findDOMNode(n);if(!h)return null;var p=n.getRenderType();switch(p){case"renderProp":return h;case"childFunction":return h;case"child":return h;case"childArray":return h;default:return h.parentElement}},n.createResizeHandler=function(u){var c=n.props,d=c.handleWidth,h=d===void 0?!0:d,p=c.handleHeight,f=p===void 0?!0:p,g=c.onResize;if(!(!h&&!f)){var v=function(m){var b=m.width,_=m.height;n.state.width===b&&n.state.height===_||n.state.width===b&&!f||n.state.height===_&&!h||(g==null||g(b,_),n.setState({width:b,height:_}))};u.forEach(function(m){var b=m&&m.contentRect||{},_=b.width,S=b.height,C=!n.skipOnMount&&!Tk();C&&v({width:_,height:S}),n.skipOnMount=!1})}},n.getRenderType=function(){var u=n.props,c=u.render,d=u.children;return mpe(c)?"renderProp":mpe(d)?"childFunction":ee.isValidElement(d)?"child":Array.isArray(d)?"childArray":"parent"};var r=t.skipOnMount,s=t.refreshMode,a=t.refreshRate,o=a===void 0?1e3:a,l=t.refreshOptions;return n.state={width:void 0,height:void 0},n.sizeRef={current:n.state},n.skipOnMount=r,n.targetRef=ee.createRef(),n.observableElement=null,Tk()||(n.resizeHandler=RMt(n.createResizeHandler,s,o,l),n.resizeObserver=new window.ResizeObserver(n.resizeHandler)),n}return e.prototype.componentDidMount=function(){this.attachObserver()},e.prototype.componentDidUpdate=function(){this.attachObserver(),this.sizeRef.current=this.state},e.prototype.componentWillUnmount=function(){Tk()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},e.prototype.render=function(){var t=this.props,n=t.render,r=t.children,s=t.nodeType,a=s===void 0?"div":s,o=this.state,l=o.width,u=o.height,c={width:l,height:u,targetRef:this.targetRef},d=this.getRenderType();switch(d){case"renderProp":return n==null?void 0:n(c);case"childFunction":{var h=r;return h==null?void 0:h(c)}case"child":{var p=r;if(p.type&&typeof p.type=="string"){c.targetRef;var f=hPe(c,["targetRef"]);return ee.cloneElement(p,f)}return ee.cloneElement(p,c)}case"childArray":{var g=r;return g.map(function(v){return!!v&&ee.cloneElement(v,c)})}default:return R.createElement(a,null)}},e}(ee.PureComponent);function LMt(i,e){e===void 0&&(e={});var t=function(s){dPe(a,s);function a(){var o=s!==null&&s.apply(this,arguments)||this;return o.ref=ee.createRef(),o}return a.prototype.render=function(){var o=this.props,l=o.forwardedRef,u=hPe(o,["forwardedRef"]),c=l??this.ref;return R.createElement(DMt,PA({},e,{targetRef:c}),R.createElement(i,PA({targetRef:c},u)))},a}(ee.Component);function n(s,a){return R.createElement(t,PA({},s,{forwardedRef:a}))}var r=i.displayName||i.name;return n.displayName="withResizeDetector(".concat(r,")"),ee.forwardRef(n)}const pPe=(i,e,t)=>{const n=i&&getComputedStyle(t??document.body).getPropertyValue(i)||e;return n&&!isNaN(n[0])?`rgba(${n})`:n},FMt=(i,e,t)=>{new MutationObserver(n=>{n.forEach(r=>{r.attributeName===e&&t(r)})}).observe(i,{attributes:!0})},BMt=(i,e,t,n)=>{var r;return(r=e==null?void 0:e.map((s,a)=>{const{scheme:o}=t[a];return Object.assign(Object.assign({},s),{scheme:s.scheme.map((l,u)=>pPe(typeof l=="object"?l[i]:l,o==null?void 0:o[u],n))})}))!==null&&r!==void 0?r:t},$Mt=(i,e,t,n)=>{if(e){const r={};return Object.keys(e).forEach(s=>{const a=typeof e[s]=="object"?e[s][i]:e[s];r[s]=pPe(a,t[s],n)}),r}return t};class NMt{getCurrentMode(){return document.body.hasAttribute(this.themeModeAttribute)&&document.body.getAttribute(this.themeModeAttribute)==="dark"?"dark":"light"}generateThemeName(e){var t;const n=(t=e==null?void 0:e.mode)!==null&&t!==void 0?t:this.getCurrentMode();return`${this.themeNamePrefix}${n[0].toUpperCase()}${n.slice(1)}`}generateTheme(e,t){var n;const r=(n=e==null?void 0:e.mode)!==null&&n!==void 0?n:this.getCurrentMode(),s=this.baseTheme[r],{dataScheme:a,palette:o}=s.colorScheme.default,l={default:{dataScheme:BMt(r,this.tokenMap.dataScheme,a,t),palette:$Mt(r,this.tokenMap.palette,o,t)}};return Object.assign(Object.assign({},s),{colorScheme:l})}constructor(e){var t;this.options=e,this.themeManager=(t=e.themeManager)!==null&&t!==void 0?t:xl}init(){var e;const{defaultMode:t,isWatchingMode:n=!0}=(e=this.options)!==null&&e!==void 0?e:{};this.switchVChartTheme(!1,{mode:t}),n&&FMt(document.body,this.themeModeAttribute,()=>this.switchVChartTheme())}switchVChartTheme(e,t,n){const r=this.generateThemeName(t);if(e||this.themeManager.getCurrentTheme()!==r){if(e&&this.themeManager.removeTheme(r),!this.themeManager.themeExist(r)){const s=n??this.generateTheme(t);this.themeManager.registerTheme(r,s)}this.themeManager.setCurrentTheme(r)}}}const fPe=[{scheme:["#5769FF","#8ED4E7","#F58700","#DCB7FC","#4A9CF7","#F3CC35","#FE8090","#8BD7D2","#83B023","#E9A5E5","#30a7ce","#f9c064","#b171f9","#77b6f9","#c88f02","#ffaab2","#33b0ab","#b6d781","#d458d4","#bcc6ff"]}],jMt={default:{dataScheme:fPe,palette:{backgroundColor:"rgba(255,255,255,1)",borderColor:"rgba(28,31,35,0.08)",lineColor0:"rgba(107, 112, 117, 1)",lineColor1:"rgba(167, 171, 176, 1)",lineColor2:"rgba(198, 202, 205, 1)",shadowColor:"rgba(33,37,44,0.1)",hoverBackgroundColor:"rgba(55,58,67,0.05)",sliderRailColor:"#f1f3f4",sliderHandleColor:"#ffffff",sliderTrackColor:"#0040ff",popupBackgroundColor:"rgba(255,255,255,1)",primaryFontColor:"rgba(37,39,46,1)",secondaryFontColor:"rgba(37,39,46,0.8)",tertiaryFontColor:"rgba(37,39,46,0.6)",axisLabelFontColor:"#89909d",disableFontColor:"#bcc1cb",axisMarkerFontColor:"rgba(255,255,255,1)",axisGridColor:"rgba(198, 202, 205, 1)",axisDomainColor:"rgba(167, 171, 176, 1)",crosshairBackgroundColor:"rgba(55,58,67,0.05)",dataZoomHandleStrokeColor:"#aeb5be",dataZoomChartColor:"#c9ced8",playerControllerColor:"#0040ff",axisMarkerBackgroundColor:"#21252c",markLabelBackgroundColor:"#f1f2f5",markLineStrokeColor:"rgba(107, 112, 117, 1)",dangerColor:"#D63125",warningColor:"#F58700",successColor:"#2BA345",infoColor:"#1F80F5"}}},gPe={bar:{style:{opacity:1},state:{hover:{opacity:.8}}},point:{style:{size:8},state:{hover:{size:12}}},label:{style:{lineJoin:"bevel"}}},mPe={fontFamily:"Inter,-apple-system,BlinkMacSystemFont,Segoe UI,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif"},zMt={barMaxWidth:60,label:{style:{fill:{type:"palette",key:"secondaryFontColor"}}}},HMt={line:{style:{lineWidth:2}},point:{style:{symbolType:"circle"}},label:{position:"top",offset:4,style:{fill:{type:"palette",key:"secondaryFontColor"}}}},VMt={outerRadius:1,innerRadius:.7,pie:{style:{padAngle:0},state:{hover:{outerRadius:1.02},selected:{outerRadius:1.02}}},label:{visible:!0,position:"outside"}},WMt={line:{style:{lineWidth:2}},point:{style:{symbolType:"circle"}},area:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,fill:{gradient:"linear",x0:.5,y0:0,x1:.5,y1:1,stops:[{offset:0,opacity:.2},{offset:1,opacity:0}]}}},label:{position:"top",offset:4,style:{fill:{type:"palette",key:"secondaryFontColor"}}},seriesMark:"line"},UMt={line:{style:{lineWidth:2}},point:{style:{symbolType:"circle"}},area:{state:{hover:{fillOpacity:.5}}},label:{position:"top",offset:4,style:{fill:{type:"palette",key:"secondaryFontColor"}}}},GMt={transform:{style:{fill:{type:"palette",key:"axisGridColor",a:.5}}}},vPe={bar:zMt,line:HMt,pie:VMt,area:WMt,radar:UMt,funnel:GMt},YMt={axis:{grid:{style:{lineWidth:1,lineDash:[4,4]}},domainLine:{style:{lineWidth:1,strokeOpacity:1}}},axisX:{label:{autoRotate:!0,autoRotateAngle:[0,-45]}},axisY:{label:{autoRotate:!0,autoRotateAngle:[0,-45]}}},KMt={offset:{x:16,y:16},panel:{padding:{top:20,left:20,right:20,bottom:20},backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:6},shadow:{x:0,y:4,blur:14,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:8,titleLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"bold",textAlign:"left",textBaseline:"middle",spacing:0},shape:{size:8,spacing:8},keyLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"secondaryFontColor"},textAlign:"left",textBaseline:"middle",spacing:32},valueLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"bold",textBaseline:"middle",spacing:0}},XMt={discreteLegend:{visible:!0,position:"middle",padding:[16,24],title:{visible:!1},item:{visible:!0,spaceCol:16,spaceRow:16,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}}}},shape:{space:8,style:{symbolType:"circle",size:12},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:14,lineHeight:"130%",opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1}},qMt={trigger:"hover",bandField:{line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"crosshairBackgroundColor"},opacity:1,lineDash:[]}}},linearField:{line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"lineColor2"},opacity:1,lineDash:[2,3]}}}},yPe=Object.assign(Object.assign(Object.assign({},YMt),XMt),{crosshair:qMt,tooltip:KMt}),ZMt={name:"semiDesignLight",description:"Semi Design - light",type:"light",token:mPe,colorScheme:jMt,markByName:gPe,series:vPe,component:yPe},QMt={default:{dataScheme:fPe,palette:{backgroundColor:"#16161a",borderColor:"rgba(255,255,255,0.08)",lineColor0:"rgba(136, 141, 146, 1)",lineColor1:"rgba(85, 91, 97, 1)",lineColor2:"rgba(65, 70, 76, 1)",shadowColor:"rgba(0,0,0,0.25)",hoverBackgroundColor:"rgba(255,255,255,0.12)",sliderRailColor:"rgba(255,255,255,0.12)",sliderHandleColor:"#e4e7f5",sliderTrackColor:"rgba(84,169,255,1)",popupBackgroundColor:"#43444a",primaryFontColor:"rgba(249,249,249,1)",secondaryFontColor:"rgba(249,249,249,0.8)",tertiaryFontColor:"rgba(249,249,249,0.6)",axisLabelFontColor:"rgba(249,249,249,0.6)",disableFontColor:"rgba(249,249,249,0.35)",axisMarkerFontColor:"#16161a",axisGridColor:"rgba(65, 70, 76, 1)",axisDomainColor:"rgba(85, 91, 97, 1)",crosshairBackgroundColor:"rgba(55,58,67,0.05)",dataZoomHandleStrokeColor:"rgba(46,50,56,0.13)",dataZoomChartColor:"rgba(255,255,255,0.16)",playerControllerColor:"rgba(84,169,255,1)",axisMarkerBackgroundColor:"rgba(249,249,249,1)",markLabelBackgroundColor:"rgba(255,255,255,0.08)",markLineStrokeColor:"rgba(249,249,249,0.8)",dangerColor:"rgba(252,114,90,1)",warningColor:"rgba(255,174,67,1)",successColor:"rgba(93,194,100,1)",infoColor:"rgba(84,169,255,1)"}}},JMt={name:"semiDesignDark",description:"Semi Design - dark",type:"dark",token:mPe,colorScheme:QMt,markByName:gPe,series:vPe,component:yPe},eIt={backgroundColor:"--semi-color-bg-0",borderColor:"--semi-color-border",lineColor0:"--semi-grey-5",lineColor1:"--semi-grey-3",lineColor2:"--semi-grey-2",hoverBackgroundColor:"--semi-color-fill-0",sliderRailColor:"--semi-color-fill-0",sliderHandleColor:"--semi-white",sliderTrackColor:"--semi-color-primary",popupBackgroundColor:{light:"--semi-color-bg-0",dark:"--semi-color-bg-3"},primaryFontColor:"--semi-color-text-0",secondaryFontColor:"--semi-color-text-1",tertiaryFontColor:"--semi-color-text-2",axisLabelFontColor:"--semi-color-text-2",disableFontColor:"--semi-color-disabled-text",axisMarkerFontColor:"--semi-color-bg-0",axisGridColor:"--semi-grey-2",axisDomainColor:"--semi-grey-3",crosshairBackgroundColor:"--semi-color-fill-0",dataZoomHandleStrokeColor:{light:"--semi-color-fill-2"},dataZoomChartColor:"--semi-color-fill-1",playerControllerColor:"--semi-color-primary",axisMarkerBackgroundColor:"--semi-color-text-0",markLabelBackgroundColor:"--semi-color-border",markLineStrokeColor:"--semi-grey-5",dangerColor:"--semi-color-danger",warningColor:"--semi-color-warning",successColor:"--semi-color-success",infoColor:"--semi-color-info"},tIt=[{scheme:["--semi-color-data-0","--semi-color-data-1","--semi-color-data-2","--semi-color-data-3","--semi-color-data-4","--semi-color-data-5","--semi-color-data-6","--semi-color-data-7","--semi-color-data-8","--semi-color-data-9","--semi-color-data-10","--semi-color-data-11","--semi-color-data-12","--semi-color-data-13","--semi-color-data-14","--semi-color-data-15","--semi-color-data-16","--semi-color-data-17","--semi-color-data-18","--semi-color-data-19"]}],iIt=i=>{new MutationObserver(e=>{e.forEach(t=>{var n;if(t.addedNodes.length===1){const r=t.addedNodes[0];r.tagName==="LINK"&&((n=r.getAttribute)===null||n===void 0?void 0:n.call(r,"semi-theme-switcher"))==="true"&&i(t,r)}})}).observe(document.body,{childList:!0})};class cw extends NMt{constructor(){super(...arguments),this.themeModeAttribute=cw.themeModeAttribute,this.themeNamePrefix=cw.themeNamePrefix,this.baseTheme={light:ZMt,dark:JMt},this.tokenMap={dataScheme:tIt,palette:eIt}}init(){var e;super.init();const{isWatchingThemeSwitch:t=!1}=(e=this.options)!==null&&e!==void 0?e:{};t&&iIt(()=>{const n={mode:this.getCurrentMode()},r=JSON.stringify(this.generateTheme(n).colorScheme);let s=0;const a=setInterval(()=>{const o=this.generateTheme(n);(s>50||r!==JSON.stringify(o.colorScheme))&&(this.switchVChartTheme(!0,n,o),clearInterval(a)),s++},100)})}}cw.themeModeAttribute="theme-mode",cw.themeNamePrefix="semiDesign";const nIt=i=>{const e=new cw(i??{});return e.init(),e};nIt({isWatchingMode:!0});const _Pe=LMt(function(e){const{option:t,width:n}=e,r=ee.useRef(null),s=ee.useRef();return ee.useEffect(()=>{if(document.body.getAttribute("theme-mode"),console.log("option",t),t.type){const a=new jo(t,{dom:r.current});try{a.renderSync()}catch(o){console.error("renderSync error",o)}return e.refInstance&&(e.refInstance.current=a),s.current=a,()=>{a.release()}}},[t,e.refInstance,e.themeMode]),ee.useEffect(()=>{s.current&&s.current.renderSync()},[n]),st.jsx("div",{ref:r,style:{width:"100%",height:"100%"}})}),bPe={light:[{label:["#2e65d1","#50cefb","#935af6","#fad355","#f54a45","#ffa53d"],value:"p1"},{label:["#2e65d1","#50cefb","#14e1c6","#62d256","#c3dd40","#fad355"],value:"p2"},{label:["#3370ff","#f80","#50cefb","#fad355","#62d256","#8f959e"],value:"p3"},{label:["rgb(83,131,241)","rgb(235,107,103)","rgb(187,191,196)","rgb(58,92,169)","rgb(165,75,72)","rgb(31,215,191)"],value:"p4"},{label:["#2e65d1","#f54a45","#8f959e","#4954e6","#00d6b9","#935af6"],value:"p5"},{label:["#bacefd","#d9f3fd","#14e1c6","#62d256","#eef6c6","#f8e6ab"],value:"p6"},{label:["#0f8575","#10a893","#3370eb","#a575fa","#8c55ec","#6c39c6"],value:"p7"},{label:["#1099cc","#4c88ff","#2655b6","#fc94cf","#ed77ba","#c24a8e"],value:"p8"},{label:["rgb(15,87,255)","rgb(43,107,255)","rgb(71,126,255)","rgb(99,146,255)","rgb(128,166,255)","rgb(184,205,255)"],value:"p9"},{label:["rgb(20,192,255)","rgb(48,200,255)","rgb(75,207,255)","rgb(102,214,255)","rgb(129,221,255)","rgb(184,236,255)"],value:"p10"},{label:["rgb(52, 199, 35)","rgb(69, 219, 53)","rgb(99, 225, 84)","rgb(128, 231, 116)","rgb(157, 236, 148)","rgb(215, 247, 212)"],value:"p11"},{label:["rgb(255,198,10)","rgb(255,203,34)","rgb(255,209,58)","rgb(255,215,82)","rgb(255,220,105)","rgb(255,231,153)"],value:"p12"},{label:["rgb(255,136,0)","rgb(255,149,29)","rgb(255,163,58)","rgb(255,176,87)","rgb(255,190,116)","rgb(255,217,173)"],value:"p13"},{label:["rgb(255,23,15)","rgb(255,50,43)","rgb(255,78,71)","rgb(255,105,99)","rgb(255,132,128)","rgb(255,186,184)"],value:"p14"},{label:["rgb(0,0,0)","rgb(34,34,34)","rgb(68,68,68)","rgb(102,102,102)","rgb(136,136,136)","rgb(204,204,204)"],value:"p15"}],dark:[{label:["#2e65d1","#50cefb","#935af6","#fad355","#f54a45","#ffa53d"],value:"p1"},{label:["#2e65d1","#50cefb","#14e1c6","#62d256","#c3dd40","#fad355"],value:"p2"},{label:["#3370ff","#f80","#50cefb","#fad355","#62d256","#8f959e"],value:"p3"},{label:["rgb(54, 104, 201)","rgb(196, 77, 73)","rgb(95, 95, 95)","rgb(38, 73, 141)","rgb(137, 54, 51)","rgb(62, 178, 162)"],value:"p4"},{label:["#2e65d1","#f54a45","#8f959e","#4954e6","#00d6b9","#935af6"],value:"p5"},{label:["#bacefd","#d9f3fd","#14e1c6","#62d256","#eef6c6","#f8e6ab"],value:"p6"},{label:["#0f8575","#10a893","#3370eb","#a575fa","#8c55ec","#6c39c6"],value:"p7"},{label:["#1099cc","#4c88ff","#2655b6","#fc94cf","#ed77ba","#c24a8e"],value:"p8"},{label:["rgb(15,87,255)","rgb(43,107,255)","rgb(71,126,255)","rgb(99,146,255)","rgb(128,166,255)","rgb(184,205,255)"],value:"p9"},{label:["rgb(20,192,255)","rgb(48,200,255)","rgb(75,207,255)","rgb(102,214,255)","rgb(129,221,255)","rgb(184,236,255)"],value:"p10"},{label:["rgb(52, 199, 35)","rgb(69, 219, 53)","rgb(99, 225, 84)","rgb(128, 231, 116)","rgb(157, 236, 148)","rgb(215, 247, 212)"],value:"p11"},{label:["rgb(255,198,10)","rgb(255,203,34)","rgb(255,209,58)","rgb(255,215,82)","rgb(255,220,105)","rgb(255,231,153)"],value:"p12"},{label:["rgb(255,136,0)","rgb(255,149,29)","rgb(255,163,58)","rgb(255,176,87)","rgb(255,190,116)","rgb(255,217,173)"],value:"p13"},{label:["rgb(255,23,15)","rgb(255,50,43)","rgb(255,78,71)","rgb(255,105,99)","rgb(255,132,128)","rgb(255,186,184)"],value:"p14"},{label:["rgb(0,0,0)","rgb(34,34,34)","rgb(68,68,68)","rgb(102,102,102)","rgb(136,136,136)","rgb(204,204,204)"],value:"p15"}]};function SPe(i,e){var r;const n={type:"radar",color:(r=bPe.light.find(s=>s.value===e.selectTheme))==null?void 0:r.label,background:"rgba(0,0,0,0)",data:i.slice(1).filter(s=>s[0].text).map((s,a)=>{const o=i[0].slice(1),l=s[0].text;return{values:s.slice(1).map((u,c)=>{const d=o[c];return{cate:l,value:u.value,type:d.text}})}}).reduce((s,a)=>(s.values=s.values.concat(a.values),s),{values:[]}),valueField:"value",...e.mapType==="recordCategory"?{categoryField:"cate",seriesField:"type"}:{categoryField:"type",seriesField:"cate"},stack:!1,area:{visible:!0},axes:[{orient:"radius",zIndex:100,min:0,domainLine:{visible:!1},label:{space:0,style:{textAlign:"center",lineWidth:4},visible:e.chartOptions.includes("showDataLabel")},grid:{smooth:!1,style:{lineDash:[0]}}},{orient:"angle",zIndex:50,tick:{visible:!1},domainLine:{visible:!1},label:{space:20},grid:{style:{lineDash:[0]}}}],legends:{visible:e.chartOptions.includes("showLegend"),orient:"top"}};return console.log(JSON.stringify(n)),n}function rIt(i,e=[],t=500){const n=ee.useRef(null);ee.useEffect(()=>(n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{i()},t),()=>{clearTimeout(n.current)}),e)}function sIt(i,e=500){const t=ee.useRef(null),n=ee.useRef(()=>{});return n.current=i,ee.useCallback((...r)=>{t.current&&clearTimeout(t.current),t.current=setTimeout(()=>{n.current(...r)},e)},[e])}function ype(i){const[e,t]=ee.useState({}),n=sIt(async r=>{console.log("updateEcharts");const s=await wl.getConfig(),a=await wl.getData();console.log("getPreviewData",s,a,r),t(SPe(a,s.customConfig)),wl.triggerDashRendered()},300);return ee.useEffect(()=>{n();const r=[];return r.push(wl.emDashConfigChange.on(n)),r.push(wl.emDashDataChange.on(n)),()=>{r.forEach(s=>s())}},[]),st.jsx("div",{style:{width:"100%",height:"100vh"},children:st.jsx(_Pe,{option:e,themeMode:i.themeMode})})}function aIt(){}var xPe=aIt;const Te=Li(xPe);var oIt=Array.isArray,Jo=oIt;const Jq=Li(Jo);var lIt=Jo,uIt=Jw,cIt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dIt=/^\w*$/;function hIt(i,e){if(lIt(i))return!1;var t=typeof i;return t=="number"||t=="symbol"||t=="boolean"||i==null||uIt(i)?!0:dIt.test(i)||!cIt.test(i)||e!=null&&i in Object(e)}var eZ=hIt,pIt=gp,fIt=ec,gIt="[object AsyncFunction]",mIt="[object Function]",vIt="[object GeneratorFunction]",yIt="[object Proxy]";function _It(i){if(!fIt(i))return!1;var e=pIt(i);return e==mIt||e==vIt||e==gIt||e==yIt}var t4=_It;const sn=Li(t4);var bIt=fp,SIt=bIt["__core-js_shared__"],xIt=SIt,m8=xIt,_pe=function(){var i=/[^.]+$/.exec(m8&&m8.keys&&m8.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function wIt(i){return!!_pe&&_pe in i}var CIt=wIt,kIt=Function.prototype,EIt=kIt.toString;function AIt(i){if(i!=null){try{return EIt.call(i)}catch{}try{return i+""}catch{}}return""}var wPe=AIt,TIt=t4,PIt=CIt,OIt=ec,MIt=wPe,IIt=/[\\^$.*+?()[\]{}|]/g,RIt=/^\[object .+?Constructor\]$/,DIt=Function.prototype,LIt=Object.prototype,FIt=DIt.toString,BIt=LIt.hasOwnProperty,$It=RegExp("^"+FIt.call(BIt).replace(IIt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function NIt(i){if(!OIt(i)||PIt(i))return!1;var e=TIt(i)?$It:RIt;return e.test(MIt(i))}var jIt=NIt;function zIt(i,e){return i==null?void 0:i[e]}var HIt=zIt,VIt=jIt,WIt=HIt;function UIt(i,e){var t=WIt(i,e);return VIt(t)?t:void 0}var Cb=UIt,GIt=Cb,YIt=GIt(Object,"create"),i4=YIt,bpe=i4;function KIt(){this.__data__=bpe?bpe(null):{},this.size=0}var XIt=KIt;function qIt(i){var e=this.has(i)&&delete this.__data__[i];return this.size-=e?1:0,e}var ZIt=qIt,QIt=i4,JIt="__lodash_hash_undefined__",e3t=Object.prototype,t3t=e3t.hasOwnProperty;function i3t(i){var e=this.__data__;if(QIt){var t=e[i];return t===JIt?void 0:t}return t3t.call(e,i)?e[i]:void 0}var n3t=i3t,r3t=i4,s3t=Object.prototype,a3t=s3t.hasOwnProperty;function o3t(i){var e=this.__data__;return r3t?e[i]!==void 0:a3t.call(e,i)}var l3t=o3t,u3t=i4,c3t="__lodash_hash_undefined__";function d3t(i,e){var t=this.__data__;return this.size+=this.has(i)?0:1,t[i]=u3t&&e===void 0?c3t:e,this}var h3t=d3t,p3t=XIt,f3t=ZIt,g3t=n3t,m3t=l3t,v3t=h3t;function eC(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}eC.prototype.clear=p3t;eC.prototype.delete=f3t;eC.prototype.get=g3t;eC.prototype.has=m3t;eC.prototype.set=v3t;var y3t=eC;function _3t(){this.__data__=[],this.size=0}var b3t=_3t;function S3t(i,e){return i===e||i!==i&&e!==e}var wP=S3t,x3t=wP;function w3t(i,e){for(var t=i.length;t--;)if(x3t(i[t][0],e))return t;return-1}var n4=w3t,C3t=n4,k3t=Array.prototype,E3t=k3t.splice;function A3t(i){var e=this.__data__,t=C3t(e,i);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():E3t.call(e,t,1),--this.size,!0}var T3t=A3t,P3t=n4;function O3t(i){var e=this.__data__,t=P3t(e,i);return t<0?void 0:e[t][1]}var M3t=O3t,I3t=n4;function R3t(i){return I3t(this.__data__,i)>-1}var D3t=R3t,L3t=n4;function F3t(i,e){var t=this.__data__,n=L3t(t,i);return n<0?(++this.size,t.push([i,e])):t[n][1]=e,this}var B3t=F3t,$3t=b3t,N3t=T3t,j3t=M3t,z3t=D3t,H3t=B3t;function tC(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}tC.prototype.clear=$3t;tC.prototype.delete=N3t;tC.prototype.get=j3t;tC.prototype.has=z3t;tC.prototype.set=H3t;var r4=tC,V3t=Cb,W3t=fp,U3t=V3t(W3t,"Map"),tZ=U3t,Spe=y3t,G3t=r4,Y3t=tZ;function K3t(){this.size=0,this.__data__={hash:new Spe,map:new(Y3t||G3t),string:new Spe}}var X3t=K3t;function q3t(i){var e=typeof i;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?i!=="__proto__":i===null}var Z3t=q3t,Q3t=Z3t;function J3t(i,e){var t=i.__data__;return Q3t(e)?t[typeof e=="string"?"string":"hash"]:t.map}var s4=J3t,eRt=s4;function tRt(i){var e=eRt(this,i).delete(i);return this.size-=e?1:0,e}var iRt=tRt,nRt=s4;function rRt(i){return nRt(this,i).get(i)}var sRt=rRt,aRt=s4;function oRt(i){return aRt(this,i).has(i)}var lRt=oRt,uRt=s4;function cRt(i,e){var t=uRt(this,i),n=t.size;return t.set(i,e),this.size+=t.size==n?0:1,this}var dRt=cRt,hRt=X3t,pRt=iRt,fRt=sRt,gRt=lRt,mRt=dRt;function iC(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}iC.prototype.clear=hRt;iC.prototype.delete=pRt;iC.prototype.get=fRt;iC.prototype.has=gRt;iC.prototype.set=mRt;var iZ=iC,CPe=iZ,vRt="Expected a function";function nZ(i,e){if(typeof i!="function"||e!=null&&typeof e!="function")throw new TypeError(vRt);var t=function(){var n=arguments,r=e?e.apply(this,n):n[0],s=t.cache;if(s.has(r))return s.get(r);var a=i.apply(this,n);return t.cache=s.set(r,a)||s,a};return t.cache=new(nZ.Cache||CPe),t}nZ.Cache=CPe;var yRt=nZ,_Rt=yRt,bRt=500;function SRt(i){var e=_Rt(i,function(n){return t.size===bRt&&t.clear(),n}),t=e.cache;return e}var xRt=SRt,wRt=xRt,CRt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kRt=/\\(\\)?/g,ERt=wRt(function(i){var e=[];return i.charCodeAt(0)===46&&e.push(""),i.replace(CRt,function(t,n,r,s){e.push(r?s.replace(kRt,"$1"):n||t)}),e}),kPe=ERt;function ARt(i,e){for(var t=-1,n=i==null?0:i.length,r=Array(n);++t<n;)r[t]=e(i[t],t,i);return r}var nC=ARt,xpe=Qw,TRt=nC,PRt=Jo,ORt=Jw,MRt=1/0,wpe=xpe?xpe.prototype:void 0,Cpe=wpe?wpe.toString:void 0;function EPe(i){if(typeof i=="string")return i;if(PRt(i))return TRt(i,EPe)+"";if(ORt(i))return Cpe?Cpe.call(i):"";var e=i+"";return e=="0"&&1/i==-MRt?"-0":e}var APe=EPe,IRt=APe;function RRt(i){return i==null?"":IRt(i)}var a4=RRt;const I1=Li(a4);var DRt=Jo,LRt=eZ,FRt=kPe,BRt=a4;function $Rt(i,e){return DRt(i)?i:LRt(i,e)?[i]:FRt(BRt(i))}var rC=$Rt,NRt=Jw,jRt=1/0;function zRt(i){if(typeof i=="string"||NRt(i))return i;var e=i+"";return e=="0"&&1/i==-jRt?"-0":e}var kb=zRt,HRt=rC,VRt=kb;function WRt(i,e){e=HRt(e,i);for(var t=0,n=e.length;i!=null&&t<n;)i=i[VRt(e[t++])];return t&&t==n?i:void 0}var o4=WRt,URt=o4;function GRt(i,e,t){var n=i==null?void 0:URt(i,e);return n===void 0?t:n}var TPe=GRt;const wt=Li(TPe),PPe=function(i){if(wt(process,"env.NODE_ENV")==="development"){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];console.log(i,...t)}};class _n{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{getProp:Te,getProps:Te,getState:Te,getStates:Te,setState:Te,getContext:Te,getContexts:Te,getCache:Te,setCache:Te,getCaches:Te,stopPropagation:Te,persistEvent:Te}}constructor(e){this._adapter=Object.assign(Object.assign({},_n.defaultAdapter),e)}getProp(e){return this._adapter.getProp(e)}getProps(){return this._adapter.getProps()}getState(e){return this._adapter.getState(e)}getStates(){return this._adapter.getStates()}setState(e,t){return this._adapter.setState(Object.assign({},e),t)}getContext(e){return this._adapter.getContext(e)}getContexts(){return this._adapter.getContexts()}getCaches(){return this._adapter.getCaches()}getCache(e){return this._adapter.getCache(e)}setCache(e,t){return e&&this._adapter.setCache(e,t)}stopPropagation(e){this._adapter.stopPropagation(e)}_isControlledComponent(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"value";const t=this.getProps();return e in t}_isInProps(e){const t=this.getProps();return e in t}init(e){}destroy(){}log(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];PPe(e,...n)}_persistEvent(e){this._adapter.persistEvent(e)}}function WF(i){return Object.keys(i).reduce((e,t)=>(t.substr(0,5)==="data-"&&(e[t]=i[t]),e),{})}const{hasOwnProperty:YRt}=Object.prototype;class ln extends ee.Component{constructor(e){super(e),this.isControlled=t=>!!(t&&this.props&&typeof this.props=="object"&&YRt.call(this.props,t)),this.cache={},this.foundation=null}componentDidMount(){this.foundation&&typeof this.foundation.init=="function"&&this.foundation.init()}componentWillUnmount(){this.foundation&&typeof this.foundation.destroy=="function"&&this.foundation.destroy(),this.cache={}}get adapter(){return{getContext:e=>{if(this.context&&e)return this.context[e]},getContexts:()=>this.context,getProp:e=>this.props[e],getProps:()=>this.props,getState:e=>this.state[e],getStates:()=>this.state,setState:(e,t)=>this.setState(Object.assign({},e),t),getCache:e=>e&&this.cache[e],getCaches:()=>this.cache,setCache:(e,t)=>e&&(this.cache[e]=t),stopPropagation:e=>{try{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation()}catch{}},persistEvent:e=>{e&&e.persist&&typeof e.persist=="function"&&e.persist()}}}log(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return PPe(e,...n)}getDataAttr(e){return WF(e)}}ln.propTypes={};ln.defaultProps={};var OPe={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(i){(function(){var e={}.hasOwnProperty;function t(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=r(s,n(o)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=r(a,o));return a}function r(s,a){return a?s?s+" "+a:s+a:s}i.exports?(t.default=t,i.exports=t):window.classNames=t})()})(OPe);var KRt=OPe.exports;const he=Li(KRt);var MPe={exports:{}},XRt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qRt=XRt,ZRt=qRt;function IPe(){}function RPe(){}RPe.resetWarningCache=IPe;var QRt=function(){function i(n,r,s,a,o,l){if(l!==ZRt){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}i.isRequired=i;function e(){return i}var t={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:e,element:i,elementType:i,instanceOf:e,node:i,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:RPe,resetWarningCache:IPe};return t.PropTypes=t,t};MPe.exports=QRt();var JRt=MPe.exports;const w=Li(JRt),Ze="semi",sC=["default","error","warning","success"];function kpe(i){return typeof i=="object"&&i!=null&&i.nodeType===1}function Epe(i,e){return(!e||i!=="hidden")&&i!=="visible"&&i!=="clip"}function v8(i,e){if(i.clientHeight<i.scrollHeight||i.clientWidth<i.scrollWidth){var t=getComputedStyle(i,null);return Epe(t.overflowY,e)||Epe(t.overflowX,e)||function(n){var r=function(s){if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}}(n);return!!r&&(r.clientHeight<n.scrollHeight||r.clientWidth<n.scrollWidth)}(i)}return!1}function jI(i,e,t,n,r,s,a,o){return s<i&&a>e||s>i&&a<e?0:s<=i&&o<=t||a>=e&&o>=t?s-i-n:a>e&&o<t||s<i&&o>t?a-e+r:0}var Ape=function(i,e){var t=window,n=e.scrollMode,r=e.block,s=e.inline,a=e.boundary,o=e.skipOverflowHiddenElements,l=typeof a=="function"?a:function(pe){return pe!==a};if(!kpe(i))throw new TypeError("Invalid target");for(var u,c,d=document.scrollingElement||document.documentElement,h=[],p=i;kpe(p)&&l(p);){if((p=(c=(u=p).parentElement)==null?u.getRootNode().host||null:c)===d){h.push(p);break}p!=null&&p===document.body&&v8(p)&&!v8(document.documentElement)||p!=null&&v8(p,o)&&h.push(p)}for(var f=t.visualViewport?t.visualViewport.width:innerWidth,g=t.visualViewport?t.visualViewport.height:innerHeight,v=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,b=i.getBoundingClientRect(),_=b.height,S=b.width,C=b.top,k=b.right,E=b.bottom,A=b.left,P=r==="start"||r==="nearest"?C:r==="end"?E:C+_/2,O=s==="center"?A+S/2:s==="end"?k:A,M=[],D=0;D<h.length;D++){var L=h[D],H=L.getBoundingClientRect(),B=H.height,F=H.width,z=H.top,N=H.right,U=H.bottom,G=H.left;if(n==="if-needed"&&C>=0&&A>=0&&E<=g&&k<=f&&C>=z&&E<=U&&A>=G&&k<=N)return M;var j=getComputedStyle(L),K=parseInt(j.borderLeftWidth,10),ie=parseInt(j.borderTopWidth,10),ae=parseInt(j.borderRightWidth,10),re=parseInt(j.borderBottomWidth,10),J=0,ne=0,te="offsetWidth"in L?L.offsetWidth-L.clientWidth-K-ae:0,Q="offsetHeight"in L?L.offsetHeight-L.clientHeight-ie-re:0,se="offsetWidth"in L?L.offsetWidth===0?0:F/L.offsetWidth:0,_e="offsetHeight"in L?L.offsetHeight===0?0:B/L.offsetHeight:0;if(d===L)J=r==="start"?P:r==="end"?P-g:r==="nearest"?jI(m,m+g,g,ie,re,m+P,m+P+_,_):P-g/2,ne=s==="start"?O:s==="center"?O-f/2:s==="end"?O-f:jI(v,v+f,f,K,ae,v+O,v+O+S,S),J=Math.max(0,J+m),ne=Math.max(0,ne+v);else{J=r==="start"?P-z-ie:r==="end"?P-U+re+Q:r==="nearest"?jI(z,U,B,ie,re+Q,P,P+_,_):P-(z+B/2)+Q/2,ne=s==="start"?O-G-K:s==="center"?O-(G+F/2)+te/2:s==="end"?O-N+ae+te:jI(G,N,F,K,ae+te,O,O+S,S);var le=L.scrollLeft,ve=L.scrollTop;P+=ve-(J=Math.max(0,Math.min(ve+J/_e,L.scrollHeight-B/_e+Q))),O+=le-(ne=Math.max(0,Math.min(le+ne/se,L.scrollWidth-F/se+te)))}M.push({el:L,top:J,left:ne})}return M};function DPe(i){return i===Object(i)&&Object.keys(i).length!==0}function eDt(i,e){e===void 0&&(e="auto");var t="scrollBehavior"in document.body.style;i.forEach(function(n){var r=n.el,s=n.top,a=n.left;r.scroll&&t?r.scroll({top:s,left:a,behavior:e}):(r.scrollTop=s,r.scrollLeft=a)})}function tDt(i){return i===!1?{block:"end",inline:"nearest"}:DPe(i)?i:{block:"start",inline:"nearest"}}function Tpe(i,e){var t=i.isConnected||i.ownerDocument.documentElement.contains(i);if(DPe(e)&&typeof e.behavior=="function")return e.behavior(t?Ape(i,e):[]);if(t){var n=tDt(e);return eDt(Ape(i,n),n.behavior)}}const l4={PREFIX:`${Ze}-typography`},Pl={WEIGHT:["light","regular","medium","semibold","bold","default"],TYPE:["primary","secondary","danger","warning","success","tertiary","quaternary"],SIZE:["normal","small"],SPACING:["normal","extended"],HEADING:[1,2,3,4,5,6],RULE:["text","numbers","bytes-decimal","bytes-binary","percentages","exponential"],TRUNCATE:["ceil","floor","round"]};var iDt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const nDt=l4.PREFIX;let u4=class extends ee.PureComponent{render(){const e=this.props,{component:t,className:n,children:r,forwardRef:s}=e,a=iDt(e,["component","className","children","forwardRef"]),o=t,l=he(nDt,n);return R.createElement(o,Object.assign({className:l,ref:s},a),r)}};u4.defaultProps={component:"article",style:{},className:""};u4.propTypes={component:w.string,style:w.object,className:w.string};function rDt(i){return i===null}var sDt=rDt;const rb=Li(sDt);var aDt=gp,oDt=Jo,lDt=tc,uDt="[object String]";function cDt(i){return typeof i=="string"||!oDt(i)&&lDt(i)&&aDt(i)==uDt}var LPe=cDt;const en=Li(LPe);var dDt=r4;function hDt(){this.__data__=new dDt,this.size=0}var pDt=hDt;function fDt(i){var e=this.__data__,t=e.delete(i);return this.size=e.size,t}var gDt=fDt;function mDt(i){return this.__data__.get(i)}var vDt=mDt;function yDt(i){return this.__data__.has(i)}var _Dt=yDt,bDt=r4,SDt=tZ,xDt=iZ,wDt=200;function CDt(i,e){var t=this.__data__;if(t instanceof bDt){var n=t.__data__;if(!SDt||n.length<wDt-1)return n.push([i,e]),this.size=++t.size,this;t=this.__data__=new xDt(n)}return t.set(i,e),this.size=t.size,this}var kDt=CDt,EDt=r4,ADt=pDt,TDt=gDt,PDt=vDt,ODt=_Dt,MDt=kDt;function aC(i){var e=this.__data__=new EDt(i);this.size=e.size}aC.prototype.clear=ADt;aC.prototype.delete=TDt;aC.prototype.get=PDt;aC.prototype.has=ODt;aC.prototype.set=MDt;var c4=aC,IDt=Cb,RDt=function(){try{var i=IDt(Object,"defineProperty");return i({},"",{}),i}catch{}}(),FPe=RDt,Ppe=FPe;function DDt(i,e,t){e=="__proto__"&&Ppe?Ppe(i,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):i[e]=t}var rZ=DDt,LDt=rZ,FDt=wP;function BDt(i,e,t){(t!==void 0&&!FDt(i[e],t)||t===void 0&&!(e in i))&&LDt(i,e,t)}var BPe=BDt;function $Dt(i){return function(e,t,n){for(var r=-1,s=Object(e),a=n(e),o=a.length;o--;){var l=a[i?o:++r];if(t(s[l],l,s)===!1)break}return e}}var NDt=$Dt,jDt=NDt,zDt=jDt(),$Pe=zDt,UF={exports:{}};UF.exports;(function(i,e){var t=fp,n=e&&!e.nodeType&&e,r=n&&!0&&i&&!i.nodeType&&i,s=r&&r.exports===n,a=s?t.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,h=o?o(d):new u.constructor(d);return u.copy(h),h}i.exports=l})(UF,UF.exports);var NPe=UF.exports,HDt=fp,VDt=HDt.Uint8Array,jPe=VDt,Ope=jPe;function WDt(i){var e=new i.constructor(i.byteLength);return new Ope(e).set(new Ope(i)),e}var sZ=WDt,UDt=sZ;function GDt(i,e){var t=e?UDt(i.buffer):i.buffer;return new i.constructor(t,i.byteOffset,i.length)}var zPe=GDt;function YDt(i,e){var t=-1,n=i.length;for(e||(e=Array(n));++t<n;)e[t]=i[t];return e}var aZ=YDt,KDt=ec,Mpe=Object.create,XDt=function(){function i(){}return function(e){if(!KDt(e))return{};if(Mpe)return Mpe(e);i.prototype=e;var t=new i;return i.prototype=void 0,t}}(),qDt=XDt;function ZDt(i,e){return function(t){return i(e(t))}}var HPe=ZDt,QDt=HPe,JDt=QDt(Object.getPrototypeOf,Object),oZ=JDt,eLt=Object.prototype;function tLt(i){var e=i&&i.constructor,t=typeof e=="function"&&e.prototype||eLt;return i===t}var CP=tLt,iLt=qDt,nLt=oZ,rLt=CP;function sLt(i){return typeof i.constructor=="function"&&!rLt(i)?iLt(nLt(i)):{}}var VPe=sLt,aLt=gp,oLt=tc,lLt="[object Arguments]";function uLt(i){return oLt(i)&&aLt(i)==lLt}var cLt=uLt,Ipe=cLt,dLt=tc,WPe=Object.prototype,hLt=WPe.hasOwnProperty,pLt=WPe.propertyIsEnumerable,fLt=Ipe(function(){return arguments}())?Ipe:function(i){return dLt(i)&&hLt.call(i,"callee")&&!pLt.call(i,"callee")},kP=fLt,gLt=9007199254740991;function mLt(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=gLt}var lZ=mLt,vLt=t4,yLt=lZ;function _Lt(i){return i!=null&&yLt(i.length)&&!vLt(i)}var Rf=_Lt,bLt=Rf,SLt=tc;function xLt(i){return SLt(i)&&bLt(i)}var UPe=xLt,GF={exports:{}};function wLt(){return!1}var GPe=wLt;const m2=Li(GPe);GF.exports;(function(i,e){var t=fp,n=GPe,r=e&&!e.nodeType&&e,s=r&&!0&&i&&!i.nodeType&&i,a=s&&s.exports===r,o=a?t.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;i.exports=u})(GF,GF.exports);var EP=GF.exports,CLt=gp,kLt=oZ,ELt=tc,ALt="[object Object]",TLt=Function.prototype,PLt=Object.prototype,YPe=TLt.toString,OLt=PLt.hasOwnProperty,MLt=YPe.call(Object);function ILt(i){if(!ELt(i)||CLt(i)!=ALt)return!1;var e=kLt(i);if(e===null)return!0;var t=OLt.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&YPe.call(t)==MLt}var uZ=ILt;const RLt=Li(uZ);var DLt=gp,LLt=lZ,FLt=tc,BLt="[object Arguments]",$Lt="[object Array]",NLt="[object Boolean]",jLt="[object Date]",zLt="[object Error]",HLt="[object Function]",VLt="[object Map]",WLt="[object Number]",ULt="[object Object]",GLt="[object RegExp]",YLt="[object Set]",KLt="[object String]",XLt="[object WeakMap]",qLt="[object ArrayBuffer]",ZLt="[object DataView]",QLt="[object Float32Array]",JLt="[object Float64Array]",eFt="[object Int8Array]",tFt="[object Int16Array]",iFt="[object Int32Array]",nFt="[object Uint8Array]",rFt="[object Uint8ClampedArray]",sFt="[object Uint16Array]",aFt="[object Uint32Array]",ls={};ls[QLt]=ls[JLt]=ls[eFt]=ls[tFt]=ls[iFt]=ls[nFt]=ls[rFt]=ls[sFt]=ls[aFt]=!0;ls[BLt]=ls[$Lt]=ls[qLt]=ls[NLt]=ls[ZLt]=ls[jLt]=ls[zLt]=ls[HLt]=ls[VLt]=ls[WLt]=ls[ULt]=ls[GLt]=ls[YLt]=ls[KLt]=ls[XLt]=!1;function oFt(i){return FLt(i)&&LLt(i.length)&&!!ls[DLt(i)]}var lFt=oFt;function uFt(i){return function(e){return i(e)}}var oC=uFt,YF={exports:{}};YF.exports;(function(i,e){var t=lPe,n=e&&!e.nodeType&&e,r=n&&!0&&i&&!i.nodeType&&i,s=r&&r.exports===n,a=s&&t.process,o=function(){try{var l=r&&r.require&&r.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();i.exports=o})(YF,YF.exports);var AP=YF.exports,cFt=lFt,dFt=oC,Rpe=AP,Dpe=Rpe&&Rpe.isTypedArray,hFt=Dpe?dFt(Dpe):cFt,d4=hFt;function pFt(i,e){if(!(e==="constructor"&&typeof i[e]=="function")&&e!="__proto__")return i[e]}var KPe=pFt,fFt=rZ,gFt=wP,mFt=Object.prototype,vFt=mFt.hasOwnProperty;function yFt(i,e,t){var n=i[e];(!(vFt.call(i,e)&&gFt(n,t))||t===void 0&&!(e in i))&&fFt(i,e,t)}var h4=yFt,_Ft=h4,bFt=rZ;function SFt(i,e,t,n){var r=!t;t||(t={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=n?n(t[o],i[o],o,t,i):void 0;l===void 0&&(l=i[o]),r?bFt(t,o,l):_Ft(t,o,l)}return t}var Eb=SFt;function xFt(i,e){for(var t=-1,n=Array(i);++t<i;)n[t]=e(t);return n}var XPe=xFt,wFt=9007199254740991,CFt=/^(?:0|[1-9]\d*)$/;function kFt(i,e){var t=typeof i;return e=e??wFt,!!e&&(t=="number"||t!="symbol"&&CFt.test(i))&&i>-1&&i%1==0&&i<e}var p4=kFt,EFt=XPe,AFt=kP,TFt=Jo,PFt=EP,OFt=p4,MFt=d4,IFt=Object.prototype,RFt=IFt.hasOwnProperty;function DFt(i,e){var t=TFt(i),n=!t&&AFt(i),r=!t&&!n&&PFt(i),s=!t&&!n&&!r&&MFt(i),a=t||n||r||s,o=a?EFt(i.length,String):[],l=o.length;for(var u in i)(e||RFt.call(i,u))&&!(a&&(u=="length"||r&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||OFt(u,l)))&&o.push(u);return o}var qPe=DFt;function LFt(i){var e=[];if(i!=null)for(var t in Object(i))e.push(t);return e}var FFt=LFt,BFt=ec,$Ft=CP,NFt=FFt,jFt=Object.prototype,zFt=jFt.hasOwnProperty;function HFt(i){if(!BFt(i))return NFt(i);var e=$Ft(i),t=[];for(var n in i)n=="constructor"&&(e||!zFt.call(i,n))||t.push(n);return t}var VFt=HFt,WFt=qPe,UFt=VFt,GFt=Rf;function YFt(i){return GFt(i)?WFt(i,!0):UFt(i)}var TP=YFt,KFt=Eb,XFt=TP;function qFt(i){return KFt(i,XFt(i))}var ZFt=qFt,Lpe=BPe,QFt=NPe,JFt=zPe,e6t=aZ,t6t=VPe,Fpe=kP,Bpe=Jo,i6t=UPe,n6t=EP,r6t=t4,s6t=ec,a6t=uZ,o6t=d4,$pe=KPe,l6t=ZFt;function u6t(i,e,t,n,r,s,a){var o=$pe(i,t),l=$pe(e,t),u=a.get(l);if(u){Lpe(i,t,u);return}var c=s?s(o,l,t+"",i,e,a):void 0,d=c===void 0;if(d){var h=Bpe(l),p=!h&&n6t(l),f=!h&&!p&&o6t(l);c=l,h||p||f?Bpe(o)?c=o:i6t(o)?c=e6t(o):p?(d=!1,c=QFt(l,!0)):f?(d=!1,c=JFt(l,!0)):c=[]:a6t(l)||Fpe(l)?(c=o,Fpe(o)?c=l6t(o):(!s6t(o)||r6t(o))&&(c=t6t(l))):d=!1}d&&(a.set(l,c),r(c,l,n,s,a),a.delete(l)),Lpe(i,t,c)}var c6t=u6t,d6t=c4,h6t=BPe,p6t=$Pe,f6t=c6t,g6t=ec,m6t=TP,v6t=KPe;function ZPe(i,e,t,n,r){i!==e&&p6t(e,function(s,a){if(r||(r=new d6t),g6t(s))f6t(i,e,a,t,ZPe,n,r);else{var o=n?n(v6t(i,a),s,a+"",i,e,r):void 0;o===void 0&&(o=s),h6t(i,a,o)}},m6t)}var y6t=ZPe;function _6t(i){return i}var PP=_6t;function b6t(i,e,t){switch(t.length){case 0:return i.call(e);case 1:return i.call(e,t[0]);case 2:return i.call(e,t[0],t[1]);case 3:return i.call(e,t[0],t[1],t[2])}return i.apply(e,t)}var S6t=b6t,x6t=S6t,Npe=Math.max;function w6t(i,e,t){return e=Npe(e===void 0?i.length-1:e,0),function(){for(var n=arguments,r=-1,s=Npe(n.length-e,0),a=Array(s);++r<s;)a[r]=n[e+r];r=-1;for(var o=Array(e+1);++r<e;)o[r]=n[r];return o[e]=t(a),x6t(i,this,o)}}var QPe=w6t;function C6t(i){return function(){return i}}var k6t=C6t,E6t=k6t,jpe=FPe,A6t=PP,T6t=jpe?function(i,e){return jpe(i,"toString",{configurable:!0,enumerable:!1,value:E6t(e),writable:!0})}:A6t,P6t=T6t,O6t=800,M6t=16,I6t=Date.now;function R6t(i){var e=0,t=0;return function(){var n=I6t(),r=M6t-(n-t);if(t=n,r>0){if(++e>=O6t)return arguments[0]}else e=0;return i.apply(void 0,arguments)}}var D6t=R6t,L6t=P6t,F6t=D6t,B6t=F6t(L6t),JPe=B6t,$6t=PP,N6t=QPe,j6t=JPe;function z6t(i,e){return j6t(N6t(i,e,$6t),i+"")}var eOe=z6t,H6t=wP,V6t=Rf,W6t=p4,U6t=ec;function G6t(i,e,t){if(!U6t(t))return!1;var n=typeof e;return(n=="number"?V6t(t)&&W6t(e,t.length):n=="string"&&e in t)?H6t(t[e],i):!1}var cZ=G6t,Y6t=eOe,K6t=cZ;function X6t(i){return Y6t(function(e,t){var n=-1,r=t.length,s=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(s=i.length>3&&typeof s=="function"?(r--,s):void 0,a&&K6t(t[0],t[1],a)&&(s=r<3?void 0:s,r=1),e=Object(e);++n<r;){var o=t[n];o&&i(e,o,n,s)}return e})}var tOe=X6t,q6t=y6t,Z6t=tOe,Q6t=Z6t(function(i,e,t){q6t(i,e,t)}),J6t=Q6t;const eBt=Li(J6t);function tBt(i,e){for(var t=-1,n=i==null?0:i.length;++t<n&&e(i[t],t,i)!==!1;);return i}var iOe=tBt,iBt=HPe,nBt=iBt(Object.keys,Object),rBt=nBt,sBt=CP,aBt=rBt,oBt=Object.prototype,lBt=oBt.hasOwnProperty;function uBt(i){if(!sBt(i))return aBt(i);var e=[];for(var t in Object(i))lBt.call(i,t)&&t!="constructor"&&e.push(t);return e}var nOe=uBt,cBt=qPe,dBt=nOe,hBt=Rf;function pBt(i){return hBt(i)?cBt(i):dBt(i)}var L0=pBt,fBt=Eb,gBt=L0;function mBt(i,e){return i&&fBt(e,gBt(e),i)}var vBt=mBt,yBt=Eb,_Bt=TP;function bBt(i,e){return i&&yBt(e,_Bt(e),i)}var SBt=bBt;function xBt(i,e){for(var t=-1,n=i==null?0:i.length,r=0,s=[];++t<n;){var a=i[t];e(a,t,i)&&(s[r++]=a)}return s}var wBt=xBt;function CBt(){return[]}var rOe=CBt,kBt=wBt,EBt=rOe,ABt=Object.prototype,TBt=ABt.propertyIsEnumerable,zpe=Object.getOwnPropertySymbols,PBt=zpe?function(i){return i==null?[]:(i=Object(i),kBt(zpe(i),function(e){return TBt.call(i,e)}))}:EBt,dZ=PBt,OBt=Eb,MBt=dZ;function IBt(i,e){return OBt(i,MBt(i),e)}var RBt=IBt;function DBt(i,e){for(var t=-1,n=e.length,r=i.length;++t<n;)i[r+t]=e[t];return i}var hZ=DBt,LBt=hZ,FBt=oZ,BBt=dZ,$Bt=rOe,NBt=Object.getOwnPropertySymbols,jBt=NBt?function(i){for(var e=[];i;)LBt(e,BBt(i)),i=FBt(i);return e}:$Bt,sOe=jBt,zBt=Eb,HBt=sOe;function VBt(i,e){return zBt(i,HBt(i),e)}var WBt=VBt,UBt=hZ,GBt=Jo;function YBt(i,e,t){var n=e(i);return GBt(i)?n:UBt(n,t(i))}var aOe=YBt,KBt=aOe,XBt=dZ,qBt=L0;function ZBt(i){return KBt(i,qBt,XBt)}var oOe=ZBt,QBt=aOe,JBt=sOe,e$t=TP;function t$t(i){return QBt(i,e$t,JBt)}var lOe=t$t,i$t=Cb,n$t=fp,r$t=i$t(n$t,"DataView"),s$t=r$t,a$t=Cb,o$t=fp,l$t=a$t(o$t,"Promise"),u$t=l$t,c$t=Cb,d$t=fp,h$t=c$t(d$t,"Set"),uOe=h$t,p$t=Cb,f$t=fp,g$t=p$t(f$t,"WeakMap"),m$t=g$t,oU=s$t,lU=tZ,uU=u$t,cU=uOe,dU=m$t,cOe=gp,lC=wPe,Hpe="[object Map]",v$t="[object Object]",Vpe="[object Promise]",Wpe="[object Set]",Upe="[object WeakMap]",Gpe="[object DataView]",y$t=lC(oU),_$t=lC(lU),b$t=lC(uU),S$t=lC(cU),x$t=lC(dU),Ty=cOe;(oU&&Ty(new oU(new ArrayBuffer(1)))!=Gpe||lU&&Ty(new lU)!=Hpe||uU&&Ty(uU.resolve())!=Vpe||cU&&Ty(new cU)!=Wpe||dU&&Ty(new dU)!=Upe)&&(Ty=function(i){var e=cOe(i),t=e==v$t?i.constructor:void 0,n=t?lC(t):"";if(n)switch(n){case y$t:return Gpe;case _$t:return Hpe;case b$t:return Vpe;case S$t:return Wpe;case x$t:return Upe}return e});var OP=Ty,w$t=Object.prototype,C$t=w$t.hasOwnProperty;function k$t(i){var e=i.length,t=new i.constructor(e);return e&&typeof i[0]=="string"&&C$t.call(i,"index")&&(t.index=i.index,t.input=i.input),t}var E$t=k$t,A$t=sZ;function T$t(i,e){var t=e?A$t(i.buffer):i.buffer;return new i.constructor(t,i.byteOffset,i.byteLength)}var P$t=T$t,O$t=/\w*$/;function M$t(i){var e=new i.constructor(i.source,O$t.exec(i));return e.lastIndex=i.lastIndex,e}var I$t=M$t,Ype=Qw,Kpe=Ype?Ype.prototype:void 0,Xpe=Kpe?Kpe.valueOf:void 0;function R$t(i){return Xpe?Object(Xpe.call(i)):{}}var D$t=R$t,L$t=sZ,F$t=P$t,B$t=I$t,$$t=D$t,N$t=zPe,j$t="[object Boolean]",z$t="[object Date]",H$t="[object Map]",V$t="[object Number]",W$t="[object RegExp]",U$t="[object Set]",G$t="[object String]",Y$t="[object Symbol]",K$t="[object ArrayBuffer]",X$t="[object DataView]",q$t="[object Float32Array]",Z$t="[object Float64Array]",Q$t="[object Int8Array]",J$t="[object Int16Array]",e4t="[object Int32Array]",t4t="[object Uint8Array]",i4t="[object Uint8ClampedArray]",n4t="[object Uint16Array]",r4t="[object Uint32Array]";function s4t(i,e,t){var n=i.constructor;switch(e){case K$t:return L$t(i);case j$t:case z$t:return new n(+i);case X$t:return F$t(i,t);case q$t:case Z$t:case Q$t:case J$t:case e4t:case t4t:case i4t:case n4t:case r4t:return N$t(i,t);case H$t:return new n;case V$t:case G$t:return new n(i);case W$t:return B$t(i);case U$t:return new n;case Y$t:return $$t(i)}}var a4t=s4t,o4t=OP,l4t=tc,u4t="[object Map]";function c4t(i){return l4t(i)&&o4t(i)==u4t}var d4t=c4t,h4t=d4t,p4t=oC,qpe=AP,Zpe=qpe&&qpe.isMap,f4t=Zpe?p4t(Zpe):h4t,g4t=f4t,m4t=OP,v4t=tc,y4t="[object Set]";function _4t(i){return v4t(i)&&m4t(i)==y4t}var b4t=_4t,S4t=b4t,x4t=oC,Qpe=AP,Jpe=Qpe&&Qpe.isSet,w4t=Jpe?x4t(Jpe):S4t,dOe=w4t;const hOe=Li(dOe);var C4t=c4,k4t=iOe,E4t=h4,A4t=vBt,T4t=SBt,P4t=NPe,O4t=aZ,M4t=RBt,I4t=WBt,R4t=oOe,D4t=lOe,L4t=OP,F4t=E$t,B4t=a4t,$4t=VPe,N4t=Jo,j4t=EP,z4t=g4t,H4t=ec,V4t=dOe,W4t=L0,U4t=TP,G4t=1,Y4t=2,K4t=4,pOe="[object Arguments]",X4t="[object Array]",q4t="[object Boolean]",Z4t="[object Date]",Q4t="[object Error]",fOe="[object Function]",J4t="[object GeneratorFunction]",e9t="[object Map]",t9t="[object Number]",gOe="[object Object]",i9t="[object RegExp]",n9t="[object Set]",r9t="[object String]",s9t="[object Symbol]",a9t="[object WeakMap]",o9t="[object ArrayBuffer]",l9t="[object DataView]",u9t="[object Float32Array]",c9t="[object Float64Array]",d9t="[object Int8Array]",h9t="[object Int16Array]",p9t="[object Int32Array]",f9t="[object Uint8Array]",g9t="[object Uint8ClampedArray]",m9t="[object Uint16Array]",v9t="[object Uint32Array]",Zr={};Zr[pOe]=Zr[X4t]=Zr[o9t]=Zr[l9t]=Zr[q4t]=Zr[Z4t]=Zr[u9t]=Zr[c9t]=Zr[d9t]=Zr[h9t]=Zr[p9t]=Zr[e9t]=Zr[t9t]=Zr[gOe]=Zr[i9t]=Zr[n9t]=Zr[r9t]=Zr[s9t]=Zr[f9t]=Zr[g9t]=Zr[m9t]=Zr[v9t]=!0;Zr[Q4t]=Zr[fOe]=Zr[a9t]=!1;function eR(i,e,t,n,r,s){var a,o=e&G4t,l=e&Y4t,u=e&K4t;if(t&&(a=r?t(i,n,r,s):t(i)),a!==void 0)return a;if(!H4t(i))return i;var c=N4t(i);if(c){if(a=F4t(i),!o)return O4t(i,a)}else{var d=L4t(i),h=d==fOe||d==J4t;if(j4t(i))return P4t(i,o);if(d==gOe||d==pOe||h&&!r){if(a=l||h?{}:$4t(i),!o)return l?I4t(i,T4t(a,i)):M4t(i,A4t(a,i))}else{if(!Zr[d])return r?i:{};a=B4t(i,d,o)}}s||(s=new C4t);var p=s.get(i);if(p)return p;s.set(i,a),V4t(i)?i.forEach(function(v){a.add(eR(v,e,t,v,i,s))}):z4t(i)&&i.forEach(function(v,m){a.set(m,eR(v,e,t,m,i,s))});var f=u?l?D4t:R4t:l?U4t:W4t,g=c?void 0:f(i);return k4t(g||i,function(v,m){g&&(m=v,v=i[m]),E4t(a,m,eR(v,e,t,m,i,s))}),a}var mOe=eR;function y9t(i){var e=i==null?0:i.length;return e?i[e-1]:void 0}var _9t=y9t;function b9t(i,e,t){var n=-1,r=i.length;e<0&&(e=-e>r?0:r+e),t=t>r?r:t,t<0&&(t+=r),r=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(r);++n<r;)s[n]=i[n+e];return s}var pZ=b9t,S9t=o4,x9t=pZ;function w9t(i,e){return e.length<2?i:S9t(i,x9t(e,0,-1))}var C9t=w9t,k9t=rC,E9t=_9t,A9t=C9t,T9t=kb;function P9t(i,e){return e=k9t(e,i),i=A9t(i,e),i==null||delete i[T9t(E9t(e))]}var vOe=P9t,O9t=uZ;function M9t(i){return O9t(i)?void 0:i}var I9t=M9t,efe=Qw,R9t=kP,D9t=Jo,tfe=efe?efe.isConcatSpreadable:void 0;function L9t(i){return D9t(i)||R9t(i)||!!(tfe&&i&&i[tfe])}var F9t=L9t,B9t=hZ,$9t=F9t;function yOe(i,e,t,n,r){var s=-1,a=i.length;for(t||(t=$9t),r||(r=[]);++s<a;){var o=i[s];e>0&&t(o)?e>1?yOe(o,e-1,t,n,r):B9t(r,o):n||(r[r.length]=o)}return r}var _Oe=yOe,N9t=_Oe;function j9t(i){var e=i==null?0:i.length;return e?N9t(i,1):[]}var z9t=j9t,H9t=z9t,V9t=QPe,W9t=JPe;function U9t(i){return W9t(V9t(i,void 0,H9t),i+"")}var bOe=U9t,G9t=nC,Y9t=mOe,K9t=vOe,X9t=rC,q9t=Eb,Z9t=I9t,Q9t=bOe,J9t=lOe,eNt=1,tNt=2,iNt=4,nNt=Q9t(function(i,e){var t={};if(i==null)return t;var n=!1;e=G9t(e,function(s){return s=X9t(s,i),n||(n=s.length>1),s}),q9t(i,J9t(i),t),n&&(t=Y9t(t,eNt|tNt|iNt,Z9t));for(var r=e.length;r--;)K9t(t,e[r]);return t}),rNt=nNt;const F0=Li(rNt);function sNt(i){return i===void 0}var aNt=sNt;const Or=Li(aNt);var oNt="__lodash_hash_undefined__";function lNt(i){return this.__data__.set(i,oNt),this}var uNt=lNt;function cNt(i){return this.__data__.has(i)}var dNt=cNt,hNt=iZ,pNt=uNt,fNt=dNt;function KF(i){var e=-1,t=i==null?0:i.length;for(this.__data__=new hNt;++e<t;)this.add(i[e])}KF.prototype.add=KF.prototype.push=pNt;KF.prototype.has=fNt;var fZ=KF;function gNt(i,e){for(var t=-1,n=i==null?0:i.length;++t<n;)if(e(i[t],t,i))return!0;return!1}var mNt=gNt;function vNt(i,e){return i.has(e)}var gZ=vNt,yNt=fZ,_Nt=mNt,bNt=gZ,SNt=1,xNt=2;function wNt(i,e,t,n,r,s){var a=t&SNt,o=i.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var u=s.get(i),c=s.get(e);if(u&&c)return u==e&&c==i;var d=-1,h=!0,p=t&xNt?new yNt:void 0;for(s.set(i,e),s.set(e,i);++d<o;){var f=i[d],g=e[d];if(n)var v=a?n(g,f,d,e,i,s):n(f,g,d,i,e,s);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!_Nt(e,function(m,b){if(!bNt(p,b)&&(f===m||r(f,m,t,n,s)))return p.push(b)})){h=!1;break}}else if(!(f===g||r(f,g,t,n,s))){h=!1;break}}return s.delete(i),s.delete(e),h}var SOe=wNt;function CNt(i){var e=-1,t=Array(i.size);return i.forEach(function(n,r){t[++e]=[r,n]}),t}var kNt=CNt;function ENt(i){var e=-1,t=Array(i.size);return i.forEach(function(n){t[++e]=n}),t}var mZ=ENt,ife=Qw,nfe=jPe,ANt=wP,TNt=SOe,PNt=kNt,ONt=mZ,MNt=1,INt=2,RNt="[object Boolean]",DNt="[object Date]",LNt="[object Error]",FNt="[object Map]",BNt="[object Number]",$Nt="[object RegExp]",NNt="[object Set]",jNt="[object String]",zNt="[object Symbol]",HNt="[object ArrayBuffer]",VNt="[object DataView]",rfe=ife?ife.prototype:void 0,y8=rfe?rfe.valueOf:void 0;function WNt(i,e,t,n,r,s,a){switch(t){case VNt:if(i.byteLength!=e.byteLength||i.byteOffset!=e.byteOffset)return!1;i=i.buffer,e=e.buffer;case HNt:return!(i.byteLength!=e.byteLength||!s(new nfe(i),new nfe(e)));case RNt:case DNt:case BNt:return ANt(+i,+e);case LNt:return i.name==e.name&&i.message==e.message;case $Nt:case jNt:return i==e+"";case FNt:var o=PNt;case NNt:var l=n&MNt;if(o||(o=ONt),i.size!=e.size&&!l)return!1;var u=a.get(i);if(u)return u==e;n|=INt,a.set(i,e);var c=TNt(o(i),o(e),n,r,s,a);return a.delete(i),c;case zNt:if(y8)return y8.call(i)==y8.call(e)}return!1}var UNt=WNt,sfe=oOe,GNt=1,YNt=Object.prototype,KNt=YNt.hasOwnProperty;function XNt(i,e,t,n,r,s){var a=t&GNt,o=sfe(i),l=o.length,u=sfe(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=o[d];if(!(a?h in e:KNt.call(e,h)))return!1}var p=s.get(i),f=s.get(e);if(p&&f)return p==e&&f==i;var g=!0;s.set(i,e),s.set(e,i);for(var v=a;++d<l;){h=o[d];var m=i[h],b=e[h];if(n)var _=a?n(b,m,h,e,i,s):n(m,b,h,i,e,s);if(!(_===void 0?m===b||r(m,b,t,n,s):_)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var S=i.constructor,C=e.constructor;S!=C&&"constructor"in i&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof C=="function"&&C instanceof C)&&(g=!1)}return s.delete(i),s.delete(e),g}var qNt=XNt,_8=c4,ZNt=SOe,QNt=UNt,JNt=qNt,afe=OP,ofe=Jo,lfe=EP,ejt=d4,tjt=1,ufe="[object Arguments]",cfe="[object Array]",zI="[object Object]",ijt=Object.prototype,dfe=ijt.hasOwnProperty;function njt(i,e,t,n,r,s){var a=ofe(i),o=ofe(e),l=a?cfe:afe(i),u=o?cfe:afe(e);l=l==ufe?zI:l,u=u==ufe?zI:u;var c=l==zI,d=u==zI,h=l==u;if(h&&lfe(i)){if(!lfe(e))return!1;a=!0,c=!1}if(h&&!c)return s||(s=new _8),a||ejt(i)?ZNt(i,e,t,n,r,s):QNt(i,e,l,t,n,r,s);if(!(t&tjt)){var p=c&&dfe.call(i,"__wrapped__"),f=d&&dfe.call(e,"__wrapped__");if(p||f){var g=p?i.value():i,v=f?e.value():e;return s||(s=new _8),r(g,v,t,n,s)}}return h?(s||(s=new _8),JNt(i,e,t,n,r,s)):!1}var rjt=njt,sjt=rjt,hfe=tc;function xOe(i,e,t,n,r){return i===e?!0:i==null||e==null||!hfe(i)&&!hfe(e)?i!==i&&e!==e:sjt(i,e,t,n,xOe,r)}var vZ=xOe,ajt=vZ;function ojt(i,e){return ajt(i,e)}var ljt=ojt;const Fn=Li(ljt);var ujt=nOe,cjt=OP,djt=kP,hjt=Jo,pjt=Rf,fjt=EP,gjt=CP,mjt=d4,vjt="[object Map]",yjt="[object Set]",_jt=Object.prototype,bjt=_jt.hasOwnProperty;function Sjt(i){if(i==null)return!0;if(pjt(i)&&(hjt(i)||typeof i=="string"||typeof i.splice=="function"||fjt(i)||mjt(i)||djt(i)))return!i.length;var e=cjt(i);if(e==vjt||e==yjt)return!i.size;if(gjt(i))return!ujt(i).length;for(var t in i)if(bjt.call(i,t))return!1;return!0}var xjt=Sjt;const $r=Li(xjt);var wjt=$Pe,Cjt=L0;function kjt(i,e){return i&&wjt(i,e,Cjt)}var Ejt=kjt,Ajt=Rf;function Tjt(i,e){return function(t,n){if(t==null)return t;if(!Ajt(t))return i(t,n);for(var r=t.length,s=e?r:-1,a=Object(t);(e?s--:++s<r)&&n(a[s],s,a)!==!1;);return t}}var Pjt=Tjt,Ojt=Ejt,Mjt=Pjt,Ijt=Mjt(Ojt),wOe=Ijt,Rjt=PP;function Djt(i){return typeof i=="function"?i:Rjt}var COe=Djt,Ljt=iOe,Fjt=wOe,Bjt=COe,$jt=Jo;function Njt(i,e){var t=$jt(i)?Ljt:Fjt;return t(i,Bjt(e))}var jjt=Njt,zjt=jjt;const Hjt=Li(zjt);function vs(i,e){i&&console.warn(`Warning: ${e}`)}function xr(i){return i==null}let kOe=class{constructor(){this._eventMap=new Map}on(e,t){return e&&typeof t=="function"&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var n=this;if(e&&typeof t=="function"){const r=function(){t(...arguments),n.off(e,r)};this.on(e,r)}}off(e,t){if(e)if(typeof t=="function"){const n=this._eventMap.get(e);if(Array.isArray(n)&&n.length){let r=-1;for(;(r=n.findIndex(s=>s===t))>-1;)n.splice(r,1)}}else xr(t)&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._eventMap.has(e)?(this._eventMap.get(e).forEach(s=>s(...n)),!0):!1}};function or(i){try{return i instanceof HTMLElement}catch{return typeof i=="object"&&i.nodeType===1&&typeof i.style=="object"&&typeof i.ownerDocument=="object"}}function EOe(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];for(const r of t)i.appendChild(r);return i}function Vjt(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];if(i.children&&i.children.length){const r=i.children[0];for(const s of t)i.insertBefore(s,r)}else EOe(i,...t);return i}function Wjt(i){if(i&&typeof i=="object")return typeof i.toJSON=="function"?i.toJSON():["left","top","right","bottom","width","height"].reduce((t,n)=>(t[n]=i[n],t),{})}function Zh(i){i.stopPropagation(),i.preventDefault()}const HI={TOP:/top/i,RIGHT:/right/i,BOTTOM:/bottom/i,LEFT:/left/i},R1={left:0,top:0,height:0,width:0,scrollLeft:0,scrollTop:0};let Ujt=class extends _n{constructor(e){var t;super(Object.assign({},e)),t=this,this.removePortal=()=>{this._adapter.removePortal()},this.setDisplayNone=(n,r)=>{this._adapter.setDisplayNone(n,r)},this.updateStateIfCursorOnTrigger=n=>{var r,s;if(!((r=n==null?void 0:n.matches)===null||r===void 0)&&r.call(n,":hover")){const a=this._adapter.getEventName(),o=this.getState("triggerEventSet");(s=o[a.mouseEnter])===null||s===void 0||s.call(o)}},this.onResize=()=>{this.calcPosition()},this.delayShow=()=>{const n=this.getProp("mouseEnterDelay");this.clearDelayTimer(),n>0?this._timer=setTimeout(()=>{this.show(),this.clearDelayTimer()},n):this.show()},this.show=()=>{const n=this.getProp("content"),r=this.getProp("trigger"),s=this.getProp("clickTriggerToHide"),{visible:a,displayNone:o}=this.getStates();o&&this.setDisplayNone(!1),!a&&(this.clearDelayTimer(),this._adapter.on("portalInserted",()=>{this.calcPosition()}),this._adapter.on("positionUpdated",()=>{this._togglePortalVisible(!0)}),this._adapter.insertPortal(n,{left:-9999,top:-9999}),r==="custom"&&this._adapter.registerClickOutsideHandler(()=>{}),(r==="click"||s||r==="contextMenu")&&this._adapter.registerClickOutsideHandler(this.hide),this._bindScrollEvent(),this._bindResizeEvent())},this.calcPosition=function(n,r,s){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;n=($r(n)?t._adapter.getTriggerBounding():n)||Object.assign({},R1),s=($r(s)?t._adapter.getPopupContainerRect():s)||Object.assign({},R1),r=($r(r)?t._adapter.getWrapperBounding():r)||Object.assign({},R1);let o=t.calcPosStyle({triggerRect:n,wrapperRect:r,containerRect:s}),l=t.getProp("position");if(t.getProp("autoAdjustOverflow")){const{position:u,isHeightOverFlow:c,isWidthOverFlow:d}=t.adjustPosIfNeed(l,o,n,r,s);(l!==u||c||d)&&(l=u,o=t.calcPosStyle({triggerRect:n,wrapperRect:r,containerRect:s,position:l,spacing:null,isOverFlow:[c,d]}))}return a&&t._mounted&&t._adapter.setPosition(Object.assign(Object.assign({},o),{position:l})),o},this.delayHide=()=>{const n=this.getProp("mouseLeaveDelay");this.clearDelayTimer(),n>0?this._timer=setTimeout(()=>{this.hide(),this.clearDelayTimer()},n):this.hide()},this.hide=()=>{this.clearDelayTimer(),this._togglePortalVisible(!1),this._adapter.off("portalInserted"),this._adapter.off("positionUpdated")},this.handleContainerKeydown=n=>{const{guardFocus:r,closeOnEsc:s}=this.getProps();switch(n&&n.key){case"Escape":s&&this._handleEscKeyDown(n);break;case"Tab":if(r){const a=this._adapter.getContainer(),o=this._adapter.getFocusableElements(a);o.length&&(n.shiftKey?this._handleContainerShiftTabKeyDown(o,n):this._handleContainerTabKeyDown(o,n))}break}},this._timer=null}init(){const{wrapperId:e}=this.getProps();this._mounted=!0,this._bindEvent(),this._shouldShow(),this._initContainerPosition(),e||this._adapter.setId()}destroy(){this._mounted=!1,this.unBindEvent()}_bindEvent(){const e=this.getProp("trigger"),{triggerEventSet:t,portalEventSet:n}=this._generateEvent(e);this._bindTriggerEvent(t),this._bindPortalEvent(n),this._bindResizeEvent()}unBindEvent(){this._adapter.unregisterClickOutsideHandler(),this.unBindResizeEvent(),this.unBindScrollEvent(),clearTimeout(this._timer)}_bindTriggerEvent(e){this._adapter.registerTriggerEvent(e)}_bindPortalEvent(e){this._adapter.registerPortalEvent(e)}_bindResizeEvent(){this._adapter.registerResizeHandler(this.onResize)}unBindResizeEvent(){this._adapter.unregisterResizeHandler(this.onResize)}_adjustPos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"reverse",r=arguments.length>3?arguments[3]:void 0;switch(n){case"reverse":return this._reversePos(e,t);case"expand":return this._expandPos(e,r);case"reduce":return this._reducePos(e);default:return this._reversePos(e,t)}}_reversePos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1){if(HI.TOP.test(e))return e.replace("top","bottom").replace("Top","Bottom");if(HI.BOTTOM.test(e))return e.replace("bottom","top").replace("Bottom","Top")}else{if(HI.LEFT.test(e))return e.replace("left","right").replace("Left","Right");if(HI.RIGHT.test(e))return e.replace("right","left").replace("Right","Left")}return e}_expandPos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e.concat(t)}_reducePos(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=["Top","Bottom","Left","Right"].find(n=>e.endsWith(n));return t?e.replace(t,""):e}clearDelayTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}_generateEvent(e){const t=this._adapter.getEventName(),n={[t.keydown]:s=>{this._handleTriggerKeydown(s)}};let r={};switch(e){case"focus":n[t.focus]=()=>{this.delayShow()},n[t.blur]=()=>{this.delayHide()},r=n;break;case"click":n[t.click]=()=>{this.show()},r={};break;case"hover":n[t.mouseEnter]=()=>{this.setCache("isClickToHide",!1),this.delayShow()},n[t.mouseLeave]=()=>{this.delayHide()},n[t.focus]=()=>{const{disableFocusListener:s}=this.getProps();!s&&this.delayShow()},n[t.blur]=()=>{const{disableFocusListener:s}=this.getProps();!s&&this.delayHide()},r=Object.assign({},n),this.getProp("clickToHide")&&(r[t.click]=()=>{this.setCache("isClickToHide",!0),this.hide()},r[t.mouseEnter]=()=>{this.getCache("isClickToHide")||this.delayShow()});break;case"custom":break;case"contextMenu":n[t.contextMenu]=s=>{s.preventDefault(),this.show()};break}return{triggerEventSet:n,portalEventSet:r}}_shouldShow(){this.getProp("visible")&&this.show()}_togglePortalVisible(e){this.getState("visible")!==e&&this._adapter.togglePortalVisible(e,()=>{e&&this._adapter.setInitialFocus(),this._adapter.notifyVisibleChange(e)})}_roundPixel(e){return typeof e=="number"?Math.round(e):e}calcTransformOrigin(e,t,n,r){if(e&&t&&n!=null&&r!=null){if(this.getProp("transformFromCenter")){if(["topLeft","bottomLeft"].includes(e))return`${this._roundPixel(t.width/2)}px ${-r*100}%`;if(["topRight","bottomRight"].includes(e))return`calc(100% - ${this._roundPixel(t.width/2)}px) ${-r*100}%`;if(["leftTop","rightTop"].includes(e))return`${-n*100}% ${this._roundPixel(t.height/2)}px`;if(["leftBottom","rightBottom"].includes(e))return`${-n*100}% calc(100% - ${this._roundPixel(t.height/2)}px)`}return`${-n*100}% ${-r*100}%`}return null}calcPosStyle(e){var t;const{spacing:n,isOverFlow:r}=e,{innerWidth:s}=window,a=($r(e.triggerRect)?e.triggerRect:this._adapter.getTriggerBounding())||Object.assign({},R1),o=($r(e.containerRect)?e.containerRect:this._adapter.getPopupContainerRect())||Object.assign({},R1),l=($r(e.wrapperRect)?e.wrapperRect:this._adapter.getWrapperBounding())||Object.assign({},R1),u=e.position!=null?e.position:this.getProp("position"),c=n??this.getProp("spacing"),{arrowPointAtCenter:d,showArrow:h,arrowBounding:p}=this.getProps(),f=h&&d;let g=c,v=0;if(typeof c!="number"){const Q=u.includes("top")||u.includes("bottom");g=Q?c.y:c.x,v=Q?c.x:c.y}const m=wt(p,"width",24),b=wt(p,"width",24),_=wt(p,"offsetY",0),S=6,C=6;let k,E,A=0,P=0;const O=a.left+a.width/2,M=a.top+a.height/2,D=S+m/2,L=C+b/2,H=l.height-o.height,B=l.width-o.width,F=H>0?H:0,z=B>0?B:0,N=r&&r[0],U=r&&r[1],G=O-o.left<o.right-O,j=M-o.top<o.bottom-M,K=l.width>s,ie=Math.abs((l==null?void 0:l.width)-((t=this._adapter.getContainer())===null||t===void 0?void 0:t.clientWidth))>1;switch(ie&&(g=g*l.width/this._adapter.getContainer().clientWidth),u){case"top":k=U?G?o.left+l.width/2:o.right-l.width/2+z:O+v,E=N?o.bottom+F:a.top-g,A=-.5,P=-1;break;case"topLeft":k=U?K?o.left:o.right-l.width:f?O-D+v:a.left+v,E=N?o.bottom+F:a.top-g,P=-1;break;case"topRight":k=U?o.right+z:f?O+D+v:a.right+v,E=N?o.bottom+F:a.top-g,P=-1,A=-1;break;case"left":k=U?o.right+z-g+D:a.left-g,E=N?j?o.top+l.height/2:o.bottom-l.height/2+F:M+v,A=-1,P=-.5;break;case"leftTop":k=U?o.right+z-g+D:a.left-g,E=N?o.top:f?M-L+v:a.top+v,A=-1;break;case"leftBottom":k=U?o.right+z-g+D:a.left-g,E=N?o.bottom+F:f?M+L+v:a.bottom+v,A=-1,P=-1;break;case"bottom":k=U?G?o.left+l.width/2:o.right-l.width/2+z:O+v,E=N?o.top+L-g:a.top+a.height+g,A=-.5;break;case"bottomLeft":k=U?K?o.left:o.right-l.width:f?O-D+v:a.left+v,E=N?o.top+L-g:a.top+a.height+g;break;case"bottomRight":k=U?o.right+z:f?O+D+v:a.right+v,E=N?o.top+L-g:a.top+a.height+g,A=-1;break;case"right":k=U?o.left-g+D:a.right+g,E=N?j?o.top+l.height/2:o.bottom-l.height/2+F:M+v,P=-.5;break;case"rightTop":k=U?o.left-g+D:a.right+g,E=N?o.top:f?M-L+v:a.top+v;break;case"rightBottom":k=U?o.left-g+D:a.right+g,E=N?o.bottom+F:f?M+L+v:a.bottom+v,P=-1;break;case"leftTopOver":k=a.left-g,E=a.top-g;break;case"rightTopOver":k=a.right+g,E=a.top-g,A=-1;break;case"leftBottomOver":k=a.left-g,E=a.bottom+g,P=-1;break;case"rightBottomOver":k=a.right+g,E=a.bottom+g,A=-1,P=-1;break}const ae=this.calcTransformOrigin(u,a,A,P),re=this._adapter.containerIsBody();if(k=k-o.left,E=E-o.top,ie&&(k/=l.width/this._adapter.getContainer().clientWidth),ie&&(E/=l.height/this._adapter.getContainer().clientHeight),re&&!this._adapter.containerIsRelativeOrAbsolute()){const Q=this._adapter.getDocumentElementBounding();k+=o.left-Q.left,E+=o.top-Q.top}k=re?k:k+o.scrollLeft,E=re?E:E+o.scrollTop;const J=a.height;if(this.getProp("showArrow")&&!d&&J<=(b/2+_)*2){const Q=J/2-(_+b/2);(u.includes("Top")||u.includes("Bottom"))&&!u.includes("Over")&&(E=u.includes("Top")?E+Q:E-Q)}const ne={left:this._roundPixel(k),top:this._roundPixel(E)};let te="";return A!=null&&(te+=`translateX(${A*100}%) `,Object.defineProperty(ne,"translateX",{enumerable:!1,value:A})),P!=null&&(te+=`translateY(${P*100}%) `,Object.defineProperty(ne,"translateY",{enumerable:!1,value:P})),ae!=null&&(ne.transformOrigin=ae),te&&(ne.transform=te),ne}isLR(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.includes("left")||e.includes("right")}isTB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e.includes("top")||e.includes("bottom")}isReverse(e,t,n){return e<n&&t>n}isOverFlow(e,t,n){return e<n&&t<n}isHalfOverFlow(e,t,n){return e<n||t<n}isHalfAllEnough(e,t,n){return e>=n||t>=n}getReverse(e,t,n,r){return e&&r||n}adjustPosIfNeed(e,t,n,r,s){const{innerWidth:a,innerHeight:o}=window,{margin:l}=this.getProps(),u=typeof l=="number"?l:l.marginLeft,c=typeof l=="number"?l:l.marginTop,d=typeof l=="number"?l:l.marginRight,h=typeof l=="number"?l:l.marginBottom;let p=!1,f=!1;const g=this.getProp("spacing");let v=g,m=0;if(typeof g!="number"){const b=e.includes("top")||e.includes("bottom");v=b?g.y:g.x,m=b?g.x:g.y}if(r.width>0&&r.height>0){const b=n.left,_=n.right,S=n.top,C=n.bottom,k=a-b,E=o-S,A=a-_,P=o-C,O=r.width>n.width,M=r.height>n.height,D=S-c<r.height+v&&P-h>r.height+v,L=b-u<r.width+v&&A-d>r.width+v,H=P-h<r.height+v&&S-c>r.height+v,B=A-d<r.width+v&&b-u>r.width+v;E-h<r.height+v&&C-c>r.height+v,C-c<r.height+v&&E-h>r.height+v;const F=E<r.height+m&&C>r.height+m,z=C<r.height+m&&E>r.height+m,N=k<r.width+m&&_>r.width+m,U=_<r.width+m&&k>r.width+m,G=E<r.height+v&&C>r.height+v,j=C<r.height+v&&E>r.height+v,K=k<r.width&&_>r.width,ie=_<r.width&&k>r.width,ae=S-s.top,re=b-s.left,J=ae+n.height,ne=re+n.width,te=s.bottom-C,Q=s.right-_,se=te+n.height,_e=Q+n.width,le=this.isReverse(ae-c,te-h,r.height+v),ve=this.isReverse(re-u,Q-d,r.width+v),pe=this.isReverse(te-h,ae-c,r.height+v),Fe=this.isReverse(Q-d,re-u,r.width+v);this.isReverse(se-h,J-c,r.height+v),this.isReverse(J-c,se-h,r.height+v);const Ee=this.isReverse(se,J,r.height+m),it=this.isReverse(J,se,r.height+m),Qe=this.isReverse(_e,ne,r.width+m),Ae=this.isReverse(ne,_e,r.width+m),je=n.height/2,We=n.width/2,ut=this.isOverFlow(S-c,P-h,r.height+v),vt=this.isOverFlow(b-u,A-d,r.width+v),_t=this.isOverFlow(C-c,E-h,r.height+v),zt=this.isOverFlow(_-u,k-d,r.width+v),Ft=this.isHalfOverFlow(C-je,E-je,(r.height+m)/2),Ye=this.isHalfOverFlow(_-We,k-We,(r.width+m)/2),Je=this.isHalfAllEnough(C-je,E-je,(r.height+m)/2),rt=this.isHalfAllEnough(_-We,k-We,(r.width+m)/2),dt=this.isOverFlow(ae-c,te-h,r.height+v),at=this.isOverFlow(re-u,Q-d,r.width+v),Gt=this.isOverFlow(J-c,se-h,r.height+v),ii=this.isOverFlow(ne-u,_e-d,r.width+v),ci=this.isHalfOverFlow(J-je,se-je,(r.height+m)/2),qt=this.isHalfOverFlow(ne-We,_e-We,(r.width+m)/2),Zt=this.isHalfAllEnough(J-je,se-je,(r.height+m)/2),xi=this.isHalfAllEnough(ne-We,_e-We,(r.width+m)/2),Ai=this.getReverse(ut,dt,D,le),Ii=this.getReverse(vt,at,L,ve),ei=this.getReverse(ut,dt,H,pe),di=this.getReverse(vt,at,B,Fe),vi=this.getReverse(_t,Gt,F,Ee),ot=this.getReverse(_t,Gt,z,it),Ke=this.getReverse(zt,ii,N,Qe),Ue=this.getReverse(zt,ii,U,Ae),ai=Ft&&ci,Ge=Ye&&qt;switch(e){case"top":Ai&&(e=this._adjustPos(e,!0)),Ge&&(Ke||Ue)&&(e=this._adjustPos(e,!0,"expand",Ke?"Right":"Left"));break;case"topLeft":Ai&&(e=this._adjustPos(e,!0)),Ke&&O&&(e=this._adjustPos(e)),f&&(rt||xi)&&(e=this._adjustPos(e,!0,"reduce"));break;case"topRight":Ai&&(e=this._adjustPos(e,!0)),Ue&&O&&(e=this._adjustPos(e)),f&&(rt||xi)&&(e=this._adjustPos(e,!0,"reduce"));break;case"left":Ii&&(e=this._adjustPos(e)),ai&&(vi||ot)&&(e=this._adjustPos(e,!1,"expand",vi?"Bottom":"Top"));break;case"leftTop":Ii&&(e=this._adjustPos(e)),vi&&M&&(e=this._adjustPos(e,!0)),p&&(Je||Zt)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftBottom":Ii&&(e=this._adjustPos(e)),ot&&M&&(e=this._adjustPos(e,!0)),p&&(Je||Zt)&&(e=this._adjustPos(e,!1,"reduce"));break;case"bottom":ei&&(e=this._adjustPos(e,!0)),Ge&&(Ke||Ue)&&(e=this._adjustPos(e,!0,"expand",Ke?"Right":"Left"));break;case"bottomLeft":ei&&(e=this._adjustPos(e,!0)),Ke&&O&&(e=this._adjustPos(e)),f&&(rt||xi)&&(e=this._adjustPos(e,!0,"reduce"));break;case"bottomRight":ei&&(e=this._adjustPos(e,!0)),Ue&&O&&(e=this._adjustPos(e)),f&&(rt||xi)&&(e=this._adjustPos(e,!0,"reduce"));break;case"right":di&&(e=this._adjustPos(e)),ai&&(vi||ot)&&(e=this._adjustPos(e,!1,"expand",vi?"Bottom":"Top"));break;case"rightTop":di&&(e=this._adjustPos(e)),vi&&M&&(e=this._adjustPos(e,!0)),p&&(Je||Zt)&&(e=this._adjustPos(e,!1,"reduce"));break;case"rightBottom":di&&(e=this._adjustPos(e)),ot&&M&&(e=this._adjustPos(e,!0)),p&&(Je||Zt)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftTopOver":G&&(e=this._adjustPos(e,!0)),K&&(e=this._adjustPos(e));break;case"leftBottomOver":j&&(e=this._adjustPos(e,!0)),K&&(e=this._adjustPos(e));break;case"rightTopOver":G&&(e=this._adjustPos(e,!0)),ie&&(e=this._adjustPos(e));break;case"rightBottomOver":j&&(e=this._adjustPos(e,!0)),ie&&(e=this._adjustPos(e));break}this.isTB(e)&&(p=ut&&dt,e==="top"||e==="bottom"?f=Ye&&qt||_<0||A<0:f=zt&&ii||_<0||A<0),this.isLR(e)&&(f=vt&&at,e==="left"||e==="right"?p=Ft&&ci||S<0||E<0:p=_t&&Gt||S<0||E<0)}return{position:e,isHeightOverFlow:p,isWidthOverFlow:f}}_bindScrollEvent(){this._adapter.registerScrollHandler(()=>this.calcPosition())}unBindScrollEvent(){this._adapter.unregisterScrollHandler()}_initContainerPosition(){this._adapter.updateContainerPosition()}_handleTriggerKeydown(e){const{closeOnEsc:t,disableArrowKeyDown:n}=this.getProps(),r=this._adapter.getContainer(),s=this._adapter.getFocusableElements(r),a=s.length;switch(e&&e.key){case"Escape":Zh(e),t&&this._handleEscKeyDown(e);break;case"ArrowUp":!n&&a&&this._handleTriggerArrowUpKeydown(s,e);break;case"ArrowDown":!n&&a&&this._handleTriggerArrowDownKeydown(s,e);break}}focusTrigger(){const{trigger:e,returnFocusOnClose:t,preventScroll:n}=this.getProps();if(t&&e!=="custom"){const r=this._adapter.getTriggerNode();r&&"focus"in r&&r.focus({preventScroll:n})}}_handleEscKeyDown(e){const{trigger:t}=this.getProps();t!=="custom"&&(this.focusTrigger(),this.hide()),this._adapter.notifyEscKeydown(e)}_handleContainerTabKeyDown(e,t){const{preventScroll:n}=this.getProps(),r=this._adapter.getActiveElement();e[e.length-1]===r&&(e[0].focus({preventScroll:n}),t.preventDefault())}_handleContainerShiftTabKeyDown(e,t){const{preventScroll:n}=this.getProps(),r=this._adapter.getActiveElement();e[0]===r&&(e[e.length-1].focus({preventScroll:n}),t.preventDefault())}_handleTriggerArrowDownKeydown(e,t){const{preventScroll:n}=this.getProps();e[0].focus({preventScroll:n}),t.preventDefault()}_handleTriggerArrowUpKeydown(e,t){const{preventScroll:n}=this.getProps();e[e.length-1].focus({preventScroll:n}),t.preventDefault()}};const Gjt={PREFIX:`${Ze}-tooltip`},w_={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver","leftBottomOver","rightBottomOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],STATUS_DISABLED:"disabled",STATUS_LOADING:"loading"},Py={ARROW_BOUNDING:{offsetX:0,offsetY:2,width:24,height:7},DEFAULT_Z_INDEX:1060,MOUSE_ENTER_DELAY:50,MOUSE_LEAVE_DELAY:50,SPACING:8,MARGIN:0};function XF(i){return`${i}-${new Date().getTime()}-${Math.random()}`}function tR(){var i,e;try{return(e=(i=crypto==null?void 0:crypto.randomUUID)===null||i===void 0?void 0:i.call(crypto))!==null&&e!==void 0?e:String(9987e3+-1e11).replace(/[018]/g,t=>(Number(t)^crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(t)/4).toString(16))}catch{return XF("semi")}}function x0(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefix:e="",length:t=7}=i,n="0123456789abcdefghijklmnopqrstuvwxyz",r=n.length;let s="";for(let a=0;a<t;a++){const o=Math.floor(Math.random()*r);s+=n.charAt(o)}return e?`${e}-${s}`:s}function hU(i){return R.isValidElement(i)}function pfe(i){return R.Children.count(i)===0}var Yjt=h4,Kjt=rC,Xjt=p4,ffe=ec,qjt=kb;function Zjt(i,e,t,n){if(!ffe(i))return i;e=Kjt(e,i);for(var r=-1,s=e.length,a=s-1,o=i;o!=null&&++r<s;){var l=qjt(e[r]),u=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return i;if(r!=a){var c=o[l];u=n?n(c,l,o):void 0,u===void 0&&(u=ffe(c)?c:Xjt(e[r+1])?[]:{})}Yjt(o,l,u),o=o[l]}return i}var AOe=Zjt,Qjt=AOe;function Jjt(i,e,t){return i==null?i:Qjt(i,e,t)}var e7t=Jjt;const mx=Li(e7t);var t7t=mOe,i7t=1,n7t=4;function r7t(i,e){return e=typeof e=="function"?e:void 0,t7t(i,i7t|n7t,e)}var s7t=r7t;const TOe=Li(s7t),a7t=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),o7t=i=>{let{autoEscape:e,caseSensitive:t,searchWords:n,sourceString:r}=i;return n.filter(s=>s).reduce((s,a)=>{e&&(a=a7t(a));const o=new RegExp(a,t?"g":"gi");let l;for(;l=o.exec(r);){const u=l.index,c=o.lastIndex;c>u&&s.push({highlight:!1,start:u,end:c}),l.index===o.lastIndex&&o.lastIndex++}return s},[])},l7t=i=>{let{chunks:e}=i;return e=e.sort((t,n)=>t.start-n.start).reduce((t,n)=>{if(t.length===0)return[n];{const r=t.pop();if(n.start<=r.end){const s=Math.max(r.end,n.end);t.push({highlight:!1,start:r.start,end:s})}else t.push(r,n);return t}},[]),e},u7t=i=>{let{chunksToHighlight:e,totalLength:t}=i;const n=[],r=(s,a,o)=>{a-s>0&&n.push({start:s,end:a,highlight:o})};if(e.length===0)r(0,t,!1);else{let s=0;e.forEach(a=>{r(s,a.start,!1),r(a.start,a.end,!0),s=a.end}),r(s,t,!1)}return n},c7t=i=>{let{autoEscape:e=!0,caseSensitive:t=!1,searchWords:n,sourceString:r}=i;en(n)&&(n=[n]);const s=o7t({autoEscape:e,caseSensitive:t,searchWords:n,sourceString:r}),a=l7t({chunks:s});return u7t({chunksToHighlight:a,totalLength:r?r.length:0})};class d7t{constructor(){this.config={}}}const b8=new d7t;var gfe=function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?s(c.value):r(c.value).then(o,l)}u((n=n.apply(i,e||[])).next())})};function VI(i,e){i&&typeof i.stopPropagation=="function"&&i.stopPropagation(),i.nativeEvent&&typeof i.nativeEvent.stopImmediatePropagation=="function"&&i.nativeEvent.stopImmediatePropagation()}function pU(i,e){return TOe(i,t=>{if(typeof e=="function")return e(t);if(typeof t=="function"||R.isValidElement(t)||Object.prototype.toString.call(t)==="[object Error]")return t;if(Array.isArray(t)&&t.length===0){const n=Object.keys(t);if(n.length){const r=[];n.forEach(s=>{mx(r,s,t[s])});try{vs(wt(process,"env.NODE_ENV")!=="production",`[Semi] You may use an out-of-bounds array. In some cases, your program may not behave as expected.
                    The maximum length of an array is 4294967295.
                    Please check whether the array subscript in your data exceeds the maximum value of the JS array subscript`)}catch{}return r}else return}})}const yZ=i=>{let{sourceString:e="",searchWords:t=[],option:n={autoEscape:!0,caseSensitive:!1}}=i;const r=c7t(Object.assign({sourceString:e,searchWords:t},n)),s=n.highlightTag||"mark",a=n.highlightClassName||"",o=n.highlightStyle||{};return r.map((l,u)=>{const{end:c,start:d,highlight:h}=l,p=e.substr(d,c-d);return h?R.createElement(s,{style:o,className:a,key:p+u},p):p})},h7t=(i,e)=>{let{match:t,unmatch:n,callInInit:r=!0}=e;if(typeof window<"u"){let a=function(o){o.matches?t&&t(o):n&&n(o)};const s=window.matchMedia(i);return r&&a(s),Object.prototype.hasOwnProperty.call(s,"addEventListener")?(s.addEventListener("change",a),()=>s.removeEventListener("change",a)):(s.addListener(a),()=>s.removeListener(a))}return()=>{}},Zl=i=>R.isValidElement(i)&&wt(i.type,"elementType")==="Icon";function POe(){return document?document.activeElement:null}function OOe(i){if(!or(i))return[];const t=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(i.querySelectorAll(t))}function _Z(i,e){return gfe(this,void 0,void 0,function*(){if(e===0){yield i();return}else{yield new Promise(t=>{setTimeout(()=>gfe(this,void 0,void 0,function*(){yield _Z(i,e-1),t()}),0)});return}})}function oh(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=()=>{var n,r;return((r=(n=b8==null?void 0:b8.config)===null||n===void 0?void 0:n.overrideDefaultProps)===null||r===void 0?void 0:r[i])||{}};return new Proxy(Object.assign({},e),{get(n,r,s){const a=t();return r in a?a[r]:Reflect.get(n,r,s)},set(n,r,s,a){return Reflect.set(n,r,s,a)},ownKeys(){const n=t();return Array.from(new Set([...Reflect.ownKeys(e),...Object.keys(n)]))},getOwnPropertyDescriptor(n,r){const s=t();return r in s?Reflect.getOwnPropertyDescriptor(s,r):Reflect.getOwnPropertyDescriptor(n,r)}})}const ic=R.createContext({}),p7t=()=>document.body;class f4 extends ee.PureComponent{constructor(e,t){var n;super(e),n=this,this.initContainer=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var a,o;try{let l;if(!n.el||!(!((a=n.state)===null||a===void 0)&&a.container)||!Array.from(n.state.container.childNodes).includes(n.el)){n.el=document.createElement("div");const c=(n.props.getPopupContainer||r.getPopupContainer||p7t)();return c.appendChild(n.el),n.addStyle(n.props.style),n.addClass(n.props.prefixCls,r,n.props.className),l=c,l}}catch(l){if(!s)throw l}return(o=n.state)===null||o===void 0?void 0:o.container},this.addStyle=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.el)for(const s of Object.keys(r))n.el.style[s]=r[s]},this.addClass=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.context;const{direction:a}=s;for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];const c=he(r,...l,{[`${r}-rtl`]:a==="rtl"});n.el&&(n.el.className=c)},this.state={container:this.initContainer(t,!0)}}componentDidMount(){const e=this.initContainer(this.context);e!==this.state.container&&this.setState({container:e})}componentDidUpdate(e){const{didUpdate:t}=this.props;t&&t(e)}componentWillUnmount(){const{container:e}=this.state;e&&e.removeChild(this.el)}render(){const{state:e,props:t}=this;return e.container?Mc.createPortal(t.children,this.el):null}}f4.contextType=ic;f4.defaultProps={prefixCls:`${Ze}-portal`};f4.propTypes={children:w.node,prefixCls:w.string,getPopupContainer:w.func,className:w.string,didUpdate:w.func};var f7t=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const g7t=i=>{const{className:e,style:t}=i,n=f7t(i,["className","style"]);return R.createElement("svg",Object.assign({"aria-hidden":!0,className:e,style:t},n,{width:"24",height:"7",viewBox:"0 0 24 7",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}),R.createElement("path",{d:"M24 0V1C20 1 18.5 2 16.5 4C14.5 6 14 7 12 7C10 7 9.5 6 7.5 4C5.5 2 4 1 0 1V0H24Z"}))};var m7t=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const v7t=i=>{const{className:e,style:t}=i,n=m7t(i,["className","style"]);return R.createElement("svg",Object.assign({"aria-hidden":!0,className:e,style:t},n,{width:"7",height:"24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"}),R.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z"}))},y7t=w.shape({offsetX:w.number,offsetY:w.number,width:w.number,height:w.number});class bZ extends R.Component{constructor(e){super(e),this.handleAnimationStart=()=>{var t,n;(n=(t=this.props).onAnimationStart)===null||n===void 0||n.call(t)},this.handleAnimationEnd=()=>{this.setState({currentClassName:this.props.endClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!1},()=>{var t,n;(n=(t=this.props).onAnimationEnd)===null||n===void 0||n.call(t,!1)})},this.state={currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0}}componentDidMount(){var e,t,n,r;(t=(e=this.props).onAnimationStart)===null||t===void 0||t.call(e),this.props.motion||((r=(n=this.props).onAnimationEnd)===null||r===void 0||r.call(n,!1),this.setState({isAnimating:!1}))}componentDidUpdate(e,t,n){const r=Object.keys(this.props).filter(s=>!Fn(this.props[s],e[s]));r.includes("animationState"),(r.includes("startClassName")||r.includes("replayKey")||r.includes("motion"))&&this.setState({currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0},()=>{var s,a,o,l;(a=(s=this.props).onAnimationStart)===null||a===void 0||a.call(s),this.props.motion||((l=(o=this.props).onAnimationEnd)===null||l===void 0||l.call(o,this.state.isAnimating),this.setState({isAnimating:!1}))})}render(){var e;return this.props.motion?this.props.children({animationClassName:(e=this.state.currentClassName)!==null&&e!==void 0?e:"",animationStyle:this.state.extraStyle,animationEventsNeedBind:{onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},isAnimating:this.state.isAnimating}):this.props.children({animationClassName:"",animationStyle:{},animationEventsNeedBind:{},isAnimating:this.state.isAnimating})}}bZ.defaultProps={motion:!0,replayKey:""};var mfe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const iR=Gjt.PREFIX,_7t=w_.POSITION_SET,b7t=w_.TRIGGER_SET,S7t=["flex","block","table","flow-root","grid"],x7t=()=>document.body;class Ho extends ln{constructor(e){super(e),this.setContainerEl=t=>this.containerEl={current:t},this.isSpecial=t=>{if(or(t))return!!t.disabled;if(ee.isValidElement(t)){if(wt(t,"props.disabled"))return w_.STATUS_DISABLED;const r=wt(t,"props.loading"),s=!$r(t)&&!$r(t.type)&&(wt(t,"type.elementType")==="Button"||wt(t,"type.elementType")==="IconButton");if(r&&s)return w_.STATUS_LOADING}return!1},this.didLeave=()=>{this.props.keepDOM?this.foundation.setDisplayNone(!0):this.foundation.removePortal(),this.foundation.unBindEvent()},this.renderIcon=()=>{const{placement:t}=this.state,{showArrow:n,prefixCls:r,style:s}=this.props;let a=null;const o=he([`${r}-icon-arrow`]),l=wt(s,"backgroundColor"),u=t.includes("left")||t.includes("right")?R.createElement(v7t,null):R.createElement(g7t,null);return n&&(ee.isValidElement(n)?a=n:a=R.cloneElement(u,{className:o,style:{color:l,fill:"currentColor"}})),a},this.handlePortalInnerClick=t=>{this.props.clickToHide&&this.foundation.hide(),this.props.stopPropagation&&VI(t)},this.handlePortalMouseDown=t=>{this.props.stopPropagation&&VI(t)},this.handlePortalFocus=t=>{this.props.stopPropagation&&VI(t)},this.handlePortalBlur=t=>{this.props.stopPropagation&&VI(t)},this.handlePortalInnerKeyDown=t=>{this.foundation.handleContainerKeydown(t)},this.renderContentNode=t=>{const n={initialFocusRef:this.initialFocusRef};return sn(t)?t(n):t},this.renderPortal=()=>{const{containerStyle:t={},visible:n,portalEventSet:r,placement:s,displayNone:a,transitionState:o,id:l,isPositionUpdated:u}=this.state,{prefixCls:c,content:d,showArrow:h,style:p,motion:f,role:g,zIndex:v}=this.props,m=this.renderContentNode(d),{className:b}=this.props,_=this.context.direction,S=he(b,{[`${c}-wrapper`]:!0,[`${c}-wrapper-show`]:n,[`${c}-with-arrow`]:!!h,[`${c}-rtl`]:_==="rtl"}),C=this.renderIcon(),k=F0(t,f?["transformOrigin"]:void 0),E=wt(t,"transformOrigin"),A=wt(p,"opacity",null),P=A||1,O=R.createElement(bZ,{fillMode:"forwards",animationState:o,motion:f&&u,startClassName:o==="enter"?`${iR}-animation-show`:`${iR}-animation-hide`,onAnimationEnd:()=>{var M,D;o==="leave"&&(this.didLeave(),(D=(M=this.props).afterClose)===null||D===void 0||D.call(M))}},M=>{let{animationStyle:D,animationClassName:L,animationEventsNeedBind:H}=M;return R.createElement("div",Object.assign({className:he(S,L),style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},D),a?{display:"none"}:{}),{transformOrigin:E}),p),A?{opacity:u?P:"0"}:{})},r,H,{role:g,"x-placement":s,id:l}),R.createElement("div",{className:`${iR}-content`},m),C)});return R.createElement(f4,{getPopupContainer:this.props.getPopupContainer,style:{zIndex:v}},R.createElement("div",{tabIndex:-1,className:`${Ze}-portal-inner`,style:k,ref:this.setContainerEl,onClick:this.handlePortalInnerClick,onFocus:this.handlePortalFocus,onBlur:this.handlePortalBlur,onMouseDown:this.handlePortalMouseDown,onKeyDown:this.handlePortalInnerKeyDown},O))},this.wrapSpan=t=>{const{wrapperClassName:n}=this.props,r=wt(t,"props.style.display"),s=wt(t,"props.block"),a=typeof t=="string",o={};return a||(o.display="inline-block"),(s||S7t.includes(r))&&(o.width="100%"),R.createElement("span",{className:n,style:o},t)},this.mergeEvents=(t,n)=>{const r={};return Hjt(n,(s,a)=>{typeof s=="function"&&(r[a]=function(){s(...arguments),t&&typeof t[a]=="function"&&t[a](...arguments)})}),r},this.getPopupId=()=>this.state.id,this.state={visible:!1,transitionState:"",triggerEventSet:{},portalEventSet:{},containerStyle:{},isInsert:!1,placement:e.position||"top",transitionStyle:{},isPositionUpdated:!1,id:e.wrapperId,displayNone:!1},this.foundation=new Ujt(this.adapter),this.eventManager=new kOe,this.triggerEl=R.createRef(),this.containerEl=R.createRef(),this.initialFocusRef=R.createRef(),this.clickOutsideHandler=null,this.resizeHandler=null,this.isWrapped=!1,this.containerPosition=void 0}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{on:function(){return e.eventManager.on(...arguments)},off:function(){return e.eventManager.off(...arguments)},insertPortal:(t,n)=>{var r=mfe(n,["position"]);this.setState({isInsert:!0,transitionState:"enter",containerStyle:Object.assign(Object.assign({},this.state.containerStyle),r)},()=>{setTimeout(()=>{this.eventManager.emit("portalInserted")},0)})},removePortal:()=>{this.setState({isInsert:!1,isPositionUpdated:!1})},getEventName:()=>({mouseEnter:"onMouseEnter",mouseLeave:"onMouseLeave",mouseOut:"onMouseOut",mouseOver:"onMouseOver",click:"onClick",focus:"onFocus",blur:"onBlur",keydown:"onKeyDown",contextMenu:"onContextMenu"}),registerTriggerEvent:t=>{this.setState({triggerEventSet:t})},registerPortalEvent:t=>{this.setState({portalEventSet:t})},getTriggerBounding:()=>{const t=this.adapter.getTriggerNode();return this.triggerEl.current=t,t&&t.getBoundingClientRect()},getPopupContainerRect:()=>{const t=this.getPopupContainer();let n=null;if(t&&or(t)){const r=Wjt(t.getBoundingClientRect());n=Object.assign(Object.assign({},r),{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop})}return n},containerIsBody:()=>this.getPopupContainer()===document.body,containerIsRelative:()=>{const t=this.getPopupContainer();return window.getComputedStyle(t).getPropertyValue("position")==="relative"},containerIsRelativeOrAbsolute:()=>["relative","absolute"].includes(this.containerPosition),getWrapperBounding:()=>{const t=this.containerEl&&this.containerEl.current;return t&&t.getBoundingClientRect()},getDocumentElementBounding:()=>document.documentElement.getBoundingClientRect(),setPosition:t=>{var{position:n}=t,r=mfe(t,["position"]);this.setState({containerStyle:Object.assign(Object.assign({},this.state.containerStyle),r),placement:n,isPositionUpdated:!0},()=>{this.eventManager.emit("positionUpdated")})},setDisplayNone:(t,n)=>{this.setState({displayNone:t},n)},updatePlacementAttr:t=>{this.setState({placement:t})},togglePortalVisible:(t,n)=>{const r={};r.transitionState=t?"enter":"leave",r.visible=t,this.mounted&&this.setState(r,()=>{n()})},registerClickOutsideHandler:t=>{this.clickOutsideHandler&&this.adapter.unregisterClickOutsideHandler(),this.clickOutsideHandler=n=>{if(!this.mounted)return!1;let r=this.triggerEl&&this.triggerEl.current,s=this.containerEl&&this.containerEl.current;r=$c.findDOMNode(r),s=$c.findDOMNode(s);const a=n.target,o=n.composedPath&&n.composedPath()||[a],l=this.props.clickTriggerToHide?r&&r.contains(a)||o.includes(r):!1;(r&&!r.contains(a)&&s&&!s.contains(a)&&!(o.includes(s)||o.includes(r))||l)&&(this.props.onClickOutSide(n),t())},window.addEventListener("mousedown",this.clickOutsideHandler)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(window.removeEventListener("mousedown",this.clickOutsideHandler),this.clickOutsideHandler=null)},registerResizeHandler:t=>{this.resizeHandler&&this.adapter.unregisterResizeHandler(),this.resizeHandler=g2(n=>{if(!this.mounted)return!1;t(n)},10),window.addEventListener("resize",this.resizeHandler,!1)},unregisterResizeHandler:()=>{this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler,!1),this.resizeHandler=null)},notifyVisibleChange:t=>{this.props.onVisibleChange(t)},registerScrollHandler:t=>{this.scrollHandler&&this.adapter.unregisterScrollHandler(),this.scrollHandler=g2(n=>{if(!this.mounted)return!1;const r=this.adapter.getTriggerNode();if(n.target.contains(r)){const a={x:n.target.scrollLeft,y:n.target.scrollTop};t(a)}},10),window.addEventListener("scroll",this.scrollHandler,!0)},unregisterScrollHandler:()=>{this.scrollHandler&&(window.removeEventListener("scroll",this.scrollHandler,!0),this.scrollHandler=null)},canMotion:()=>!!this.props.motion,updateContainerPosition:()=>{const t=this.getPopupContainer();if(t&&or(t)){const r=window.getComputedStyle(t).getPropertyValue("position");this.containerPosition=r}},getContainerPosition:()=>this.containerPosition,getContainer:()=>this.containerEl&&this.containerEl.current,getTriggerNode:()=>{let t=this.triggerEl.current;return or(this.triggerEl.current)||(t=$c.findDOMNode(this.triggerEl.current)),t},getFocusableElements:t=>OOe(t),getActiveElement:()=>POe(),setInitialFocus:()=>{const{preventScroll:t}=this.props,n=wt(this,"initialFocusRef.current");n&&"focus"in n&&n.focus({preventScroll:t})},notifyEscKeydown:t=>{this.props.onEscKeyDown(t)},setId:()=>{this.setState({id:x0()})}})}componentDidMount(){this.mounted=!0,this.getPopupContainer=this.props.getPopupContainer||this.context.getPopupContainer||x7t,this.foundation.init(),_Z(()=>{let e=this.triggerEl.current;e&&(e instanceof HTMLElement||(e=Mc.findDOMNode(e))),this.foundation.updateStateIfCursorOnTrigger(e)},1)}componentWillUnmount(){this.mounted=!1,this.foundation.destroy()}focusTrigger(){this.foundation.focusTrigger()}rePosition(){return this.foundation.calcPosition()}componentDidUpdate(e,t){vs(this.props.mouseLeaveDelay<this.props.mouseEnterDelay,"[Semi Tooltip] 'mouseLeaveDelay' cannot be less than 'mouseEnterDelay', which may cause the dropdown layer to not be hidden."),e.visible!==this.props.visible&&(["hover","focus"].includes(this.props.trigger)?this.props.visible?this.foundation.delayShow():this.foundation.delayHide():this.props.visible?this.foundation.show():this.foundation.hide()),Fn(e.rePosKey,this.props.rePosKey)||this.rePosition()}render(){const{isInsert:e,triggerEventSet:t,visible:n,id:r}=this.state,{wrapWhenSpecial:s,role:a,trigger:o}=this.props;let{children:l}=this.props;const u=Object.assign({},wt(l,"props.style")),c={};if(s){const p=this.isSpecial(l);p?(u.pointerEvents="none",p===w_.STATUS_DISABLED&&(c.cursor="not-allowed"),l=ee.cloneElement(l,{style:u}),o!=="custom"&&(l=this.wrapSpan(l)),this.isWrapped=!0):ee.isValidElement(l)||(l=this.wrapSpan(l),this.isWrapped=!0)}let d={};a==="dialog"?(d["aria-expanded"]=n?"true":"false",d["aria-haspopup"]="dialog",d["aria-controls"]=r):d["aria-describedby"]=r;const h=R.cloneElement(l,Object.assign(Object.assign(Object.assign(Object.assign({},d),l.props),this.mergeEvents(l.props,t)),{style:Object.assign(Object.assign({},wt(l,"props.style")),c),className:he(wt(l,"props.className")),ref:p=>{this.triggerEl.current=p;const{ref:f}=l;typeof f=="function"?f(p):f&&typeof f=="object"&&(f.current=p)},tabIndex:l.props.tabIndex||0,"data-popupid":r}));return R.createElement(R.Fragment,null,e?this.renderPortal():null,h)}}Ho.contextType=ic;Ho.propTypes={children:w.node,motion:w.bool,autoAdjustOverflow:w.bool,position:w.oneOf(_7t),getPopupContainer:w.func,mouseEnterDelay:w.number,mouseLeaveDelay:w.number,trigger:w.oneOf(b7t).isRequired,className:w.string,wrapperClassName:w.string,clickToHide:w.bool,clickTriggerToHide:w.bool,visible:w.bool,style:w.object,content:w.oneOfType([w.node,w.func]),prefixCls:w.string,onVisibleChange:w.func,onClickOutSide:w.func,spacing:w.oneOfType([w.number,w.object]),margin:w.oneOfType([w.number,w.object]),showArrow:w.oneOfType([w.bool,w.node]),zIndex:w.number,rePosKey:w.oneOfType([w.string,w.number]),arrowBounding:y7t,transformFromCenter:w.bool,arrowPointAtCenter:w.bool,stopPropagation:w.bool,role:w.string,wrapWhenSpecial:w.bool,guardFocus:w.bool,returnFocusOnClose:w.bool,preventScroll:w.bool,keepDOM:w.bool};Ho.__SemiComponentName__="Tooltip";Ho.defaultProps=oh(Ho.__SemiComponentName__,{arrowBounding:Py.ARROW_BOUNDING,autoAdjustOverflow:!0,arrowPointAtCenter:!0,trigger:"hover",transformFromCenter:!0,position:"top",prefixCls:iR,role:"tooltip",mouseEnterDelay:Py.MOUSE_ENTER_DELAY,mouseLeaveDelay:Py.MOUSE_LEAVE_DELAY,motion:!0,onVisibleChange:Te,onClickOutSide:Te,spacing:Py.SPACING,margin:Py.MARGIN,showArrow:!0,wrapWhenSpecial:!0,zIndex:Py.DEFAULT_Z_INDEX,closeOnEsc:!1,guardFocus:!1,returnFocusOnClose:!1,onEscKeyDown:Te,disableFocusListener:!1,disableArrowKeyDown:!1,keepDOM:!1});var SZ={exports:{}};const MOe=(i,{target:e=document.body}={})=>{const t=document.createElement("textarea"),n=document.activeElement;t.value=i,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const r=document.getSelection();let s=!1;r.rangeCount>0&&(s=r.getRangeAt(0)),e.append(t),t.select(),t.selectionStart=0,t.selectionEnd=i.length;let a=!1;try{a=document.execCommand("copy")}catch{}return t.remove(),s&&(r.removeAllRanges(),r.addRange(s)),n&&n.focus(),a};SZ.exports=MOe;SZ.exports.default=MOe;var w7t=SZ.exports;const C7t=Li(w7t);function Nr(){}const k7t=R.createContext(null);function vx(i){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):i.defaultWidth,n=i.formats[t]||i.formats[i.defaultWidth];return n}}function nf(i){return function(e,t){var n=t!=null&&t.context?String(t.context):"standalone",r;if(n==="formatting"&&i.formattingValues){var s=i.defaultFormattingWidth||i.defaultWidth,a=t!=null&&t.width?String(t.width):s;r=i.formattingValues[a]||i.formattingValues[s]}else{var o=i.defaultWidth,l=t!=null&&t.width?String(t.width):i.defaultWidth;r=i.values[l]||i.values[o]}var u=i.argumentCallback?i.argumentCallback(e):e;return r[u]}}function rf(i){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.width,r=n&&i.matchPatterns[n]||i.matchPatterns[i.defaultMatchWidth],s=e.match(r);if(!s)return null;var a=s[0],o=n&&i.parsePatterns[n]||i.parsePatterns[i.defaultParseWidth],l=Array.isArray(o)?A7t(o,function(d){return d.test(a)}):E7t(o,function(d){return d.test(a)}),u;u=i.valueCallback?i.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;var c=e.slice(a.length);return{value:u,rest:c}}}function E7t(i,e){for(var t in i)if(i.hasOwnProperty(t)&&e(i[t]))return t}function A7t(i,e){for(var t=0;t<i.length;t++)if(e(i[t]))return t}function IOe(i){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(i.matchPattern);if(!n)return null;var r=n[0],s=e.match(i.parsePattern);if(!s)return null;var a=i.valueCallback?i.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;var o=e.slice(r.length);return{value:a,rest:o}}}function Ef(i){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(i)}function ts(i){if(i===null||i===!0||i===!1)return NaN;var e=Number(i);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function tn(i,e){if(e.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+e.length+" present")}function yn(i){tn(1,arguments);var e=Object.prototype.toString.call(i);return i instanceof Date||Ef(i)==="object"&&e==="[object Date]"?new Date(i.getTime()):typeof i=="number"||e==="[object Number]"?new Date(i):((typeof i=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Iv(i,e){tn(2,arguments);var t=yn(i),n=ts(e);if(isNaN(n))return new Date(NaN);if(!n)return t;var r=t.getDate(),s=new Date(t.getTime());s.setMonth(t.getMonth()+n+1,0);var a=s.getDate();return r>=a?s:(t.setFullYear(s.getFullYear(),s.getMonth(),r),t)}function T7t(i,e){tn(2,arguments);var t=yn(i).getTime(),n=ts(e);return new Date(t+n)}var P7t={};function uC(){return P7t}function ROe(i){var e=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return e.setUTCFullYear(i.getFullYear()),i.getTime()-e.getTime()}function vfe(i){tn(1,arguments);var e=yn(i);return e.setHours(0,0,0,0),e}function qF(i,e){tn(2,arguments);var t=ts(e);return Iv(i,t*12)}var xZ=6e4,wZ=36e5,O7t=1e3;function CZ(i,e){tn(2,arguments);var t=vfe(i),n=vfe(e);return t.getTime()===n.getTime()}function fU(i){return tn(1,arguments),i instanceof Date||Ef(i)==="object"&&Object.prototype.toString.call(i)==="[object Date]"}function Fd(i){if(tn(1,arguments),!fU(i)&&typeof i!="number")return!1;var e=yn(i);return!isNaN(Number(e))}function Oy(i,e){tn(2,arguments);var t=yn(i),n=yn(e),r=t.getFullYear()-n.getFullYear(),s=t.getMonth()-n.getMonth();return r*12+s}function M7t(i,e){tn(2,arguments);var t=yn(i),n=yn(e);return t.getFullYear()-n.getFullYear()}function I7t(i){tn(1,arguments);var e=yn(i);return e.setDate(1),e.setHours(0,0,0,0),e}function DOe(i,e){tn(2,arguments);var t=ts(e);return T7t(i,-t)}var R7t=864e5;function D7t(i){tn(1,arguments);var e=yn(i),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),r=t-n;return Math.floor(r/R7t)+1}function dw(i){tn(1,arguments);var e=1,t=yn(i),n=t.getUTCDay(),r=(n<e?7:0)+n-e;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function LOe(i){tn(1,arguments);var e=yn(i),t=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var r=dw(n),s=new Date(0);s.setUTCFullYear(t,0,4),s.setUTCHours(0,0,0,0);var a=dw(s);return e.getTime()>=r.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function L7t(i){tn(1,arguments);var e=LOe(i),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var n=dw(t);return n}var F7t=6048e5;function FOe(i){tn(1,arguments);var e=yn(i),t=dw(e).getTime()-L7t(e).getTime();return Math.round(t/F7t)+1}function im(i,e){var t,n,r,s,a,o,l,u;tn(1,arguments);var c=uC(),d=ts((t=(n=(r=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:c.weekStartsOn)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&t!==void 0?t:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=yn(i),p=h.getUTCDay(),f=(p<d?7:0)+p-d;return h.setUTCDate(h.getUTCDate()-f),h.setUTCHours(0,0,0,0),h}function kZ(i,e){var t,n,r,s,a,o,l,u;tn(1,arguments);var c=yn(i),d=c.getUTCFullYear(),h=uC(),p=ts((t=(n=(r=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&r!==void 0?r:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(d+1,0,p),f.setUTCHours(0,0,0,0);var g=im(f,e),v=new Date(0);v.setUTCFullYear(d,0,p),v.setUTCHours(0,0,0,0);var m=im(v,e);return c.getTime()>=g.getTime()?d+1:c.getTime()>=m.getTime()?d:d-1}function B7t(i,e){var t,n,r,s,a,o,l,u;tn(1,arguments);var c=uC(),d=ts((t=(n=(r=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&r!==void 0?r:c.firstWeekContainsDate)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&t!==void 0?t:1),h=kZ(i,e),p=new Date(0);p.setUTCFullYear(h,0,d),p.setUTCHours(0,0,0,0);var f=im(p,e);return f}var $7t=6048e5;function BOe(i,e){tn(1,arguments);var t=yn(i),n=im(t,e).getTime()-B7t(t,e).getTime();return Math.round(n/$7t)+1}function Ar(i,e){for(var t=i<0?"-":"",n=Math.abs(i).toString();n.length<e;)n="0"+n;return t+n}var Gm={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Ar(t==="yy"?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return t==="M"?String(n+1):Ar(n+1,2)},d:function(e,t){return Ar(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,t){return Ar(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Ar(e.getUTCHours(),t.length)},m:function(e,t){return Ar(e.getUTCMinutes(),t.length)},s:function(e,t){return Ar(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds(),s=Math.floor(r*Math.pow(10,n-3));return Ar(s,t.length)}},D1={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},N7t={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){var r=e.getUTCFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Gm.y(e,t)},Y:function(e,t,n,r){var s=kZ(e,r),a=s>0?s:1-s;if(t==="YY"){var o=a%100;return Ar(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ar(a,t.length)},R:function(e,t){var n=LOe(e);return Ar(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return Ar(n,t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ar(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ar(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Gm.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Ar(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var s=BOe(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ar(s,t.length)},I:function(e,t,n){var r=FOe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ar(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Gm.d(e,t)},D:function(e,t,n){var r=D7t(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ar(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var s=e.getUTCDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ar(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var s=e.getUTCDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ar(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Ar(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours(),s=r/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r=e.getUTCHours(),s;switch(r===12?s=D1.noon:r===0?s=D1.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r=e.getUTCHours(),s;switch(r>=17?s=D1.evening:r>=12?s=D1.afternoon:r>=4?s=D1.morning:s=D1.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){var r=e.getUTCHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Gm.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Gm.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ar(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ar(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Gm.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Gm.s(e,t)},S:function(e,t){return Gm.S(e,t)},X:function(e,t,n,r){var s=r._originalDate||e,a=s.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return _fe(a);case"XXXX":case"XX":return My(a);case"XXXXX":case"XXX":default:return My(a,":")}},x:function(e,t,n,r){var s=r._originalDate||e,a=s.getTimezoneOffset();switch(t){case"x":return _fe(a);case"xxxx":case"xx":return My(a);case"xxxxx":case"xxx":default:return My(a,":")}},O:function(e,t,n,r){var s=r._originalDate||e,a=s.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+yfe(a,":");case"OOOO":default:return"GMT"+My(a,":")}},z:function(e,t,n,r){var s=r._originalDate||e,a=s.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+yfe(a,":");case"zzzz":default:return"GMT"+My(a,":")}},t:function(e,t,n,r){var s=r._originalDate||e,a=Math.floor(s.getTime()/1e3);return Ar(a,t.length)},T:function(e,t,n,r){var s=r._originalDate||e,a=s.getTime();return Ar(a,t.length)}};function yfe(i,e){var t=i>0?"-":"+",n=Math.abs(i),r=Math.floor(n/60),s=n%60;if(s===0)return t+String(r);var a=e;return t+String(r)+a+Ar(s,2)}function _fe(i,e){if(i%60===0){var t=i>0?"-":"+";return t+Ar(Math.abs(i)/60,2)}return My(i,e)}function My(i,e){var t=e||"",n=i>0?"-":"+",r=Math.abs(i),s=Ar(Math.floor(r/60),2),a=Ar(r%60,2);return n+s+t+a}var bfe=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},$Oe=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},j7t=function(e,t){var n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return bfe(e,t);var a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",bfe(r,t)).replace("{{time}}",$Oe(s,t))},gU={p:$Oe,P:j7t},z7t=["D","DD"],H7t=["YY","YYYY"];function NOe(i){return z7t.indexOf(i)!==-1}function jOe(i){return H7t.indexOf(i)!==-1}function ZF(i,e,t){if(i==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var V7t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},W7t=function(e,t,n){var r,s=V7t[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},U7t={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},G7t={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Y7t={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},K7t={date:vx({formats:U7t,defaultWidth:"full"}),time:vx({formats:G7t,defaultWidth:"full"}),dateTime:vx({formats:Y7t,defaultWidth:"full"})},X7t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q7t=function(e,t,n,r){return X7t[e]},Z7t={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Q7t={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},J7t={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},e8t={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},t8t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},i8t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},n8t=function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},r8t={ordinalNumber:n8t,era:nf({values:Z7t,defaultWidth:"wide"}),quarter:nf({values:Q7t,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:nf({values:J7t,defaultWidth:"wide"}),day:nf({values:e8t,defaultWidth:"wide"}),dayPeriod:nf({values:t8t,defaultWidth:"wide",formattingValues:i8t,defaultFormattingWidth:"wide"})},s8t=/^(\d+)(th|st|nd|rd)?/i,a8t=/\d+/i,o8t={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l8t={any:[/^b/i,/^(a|c)/i]},u8t={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c8t={any:[/1/i,/2/i,/3/i,/4/i]},d8t={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},h8t={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},p8t={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},f8t={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},g8t={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},m8t={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},v8t={ordinalNumber:IOe({matchPattern:s8t,parsePattern:a8t,valueCallback:function(e){return parseInt(e,10)}}),era:rf({matchPatterns:o8t,defaultMatchWidth:"wide",parsePatterns:l8t,defaultParseWidth:"any"}),quarter:rf({matchPatterns:u8t,defaultMatchWidth:"wide",parsePatterns:c8t,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:rf({matchPatterns:d8t,defaultMatchWidth:"wide",parsePatterns:h8t,defaultParseWidth:"any"}),day:rf({matchPatterns:p8t,defaultMatchWidth:"wide",parsePatterns:f8t,defaultParseWidth:"any"}),dayPeriod:rf({matchPatterns:g8t,defaultMatchWidth:"any",parsePatterns:m8t,defaultParseWidth:"any"})},zOe={code:"en-US",formatDistance:W7t,formatLong:K7t,formatRelative:q7t,localize:r8t,match:v8t,options:{weekStartsOn:0,firstWeekContainsDate:1}},y8t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_8t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,b8t=/^'([^]*?)'?$/,S8t=/''/g,x8t=/[a-zA-Z]/;function lr(i,e,t){var n,r,s,a,o,l,u,c,d,h,p,f,g,v,m,b,_,S;tn(2,arguments);var C=String(e),k=uC(),E=(n=(r=t==null?void 0:t.locale)!==null&&r!==void 0?r:k.locale)!==null&&n!==void 0?n:zOe,A=ts((s=(a=(o=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(u=t.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&o!==void 0?o:k.firstWeekContainsDate)!==null&&a!==void 0?a:(d=k.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=ts((p=(f=(g=(v=t==null?void 0:t.weekStartsOn)!==null&&v!==void 0?v:t==null||(m=t.locale)===null||m===void 0||(b=m.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&g!==void 0?g:k.weekStartsOn)!==null&&f!==void 0?f:(_=k.locale)===null||_===void 0||(S=_.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&p!==void 0?p:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var O=yn(i);if(!Fd(O))throw new RangeError("Invalid time value");var M=ROe(O),D=DOe(O,M),L={firstWeekContainsDate:A,weekStartsOn:P,locale:E,_originalDate:O},H=C.match(_8t).map(function(B){var F=B[0];if(F==="p"||F==="P"){var z=gU[F];return z(B,E.formatLong)}return B}).join("").match(y8t).map(function(B){if(B==="''")return"'";var F=B[0];if(F==="'")return w8t(B);var z=N7t[F];if(z)return!(t!=null&&t.useAdditionalWeekYearTokens)&&jOe(B)&&ZF(B,e,String(i)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&NOe(B)&&ZF(B,e,String(i)),z(D,B,E.localize,L);if(F.match(x8t))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return B}).join("");return H}function w8t(i){var e=i.match(b8t);return e?e[1].replace(S8t,"'"):i}function C8t(i,e){if(i==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t]);return i}function HOe(i){tn(1,arguments);var e=yn(i),t=e.getFullYear(),n=e.getMonth(),r=new Date(0);return r.setFullYear(t,n+1,0),r.setHours(0,0,0,0),r.getDate()}function k8t(i){tn(1,arguments);var e=yn(i),t=e.getHours();return t}function E8t(i){tn(1,arguments);var e=yn(i),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(0,0,0,0),e}function A8t(i,e){tn(2,arguments);var t=yn(i),n=yn(e);return t.getTime()>n.getTime()}function VOe(i,e){tn(2,arguments);var t=yn(i),n=yn(e);return t.getTime()<n.getTime()}function QF(i,e){tn(2,arguments);var t=yn(i),n=yn(e);return t.getTime()===n.getTime()}function Sfe(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}function T8t(i,e){if(i){if(typeof i=="string")return Sfe(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sfe(i,e)}}function xfe(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=T8t(i))||e){t&&(i=t);var n=0,r=function(){};return{s:r,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,o;return{s:function(){t=t.call(i)},n:function(){var u=t.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(a)throw o}}}}function Kt(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function JF(i,e){return JF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},JF(i,e)}function Zn(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&JF(i,e)}function e6(i){return e6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},e6(i)}function WOe(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WOe=function(){return!!i})()}function P8t(i,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kt(i)}function Qn(i){var e=WOe();return function(){var n=e6(i),r;if(e){var s=e6(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return P8t(this,r)}}function Bn(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function O8t(i,e){if(Ef(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e||"default");if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function UOe(i){var e=O8t(i,"string");return Ef(e)=="symbol"?e:e+""}function M8t(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,UOe(n.key),n)}}function $n(i,e,t){return e&&M8t(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function Ht(i,e,t){return e=UOe(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var I8t=10,GOe=function(){function i(){Bn(this,i),Ht(this,"priority",void 0),Ht(this,"subPriority",0)}return $n(i,[{key:"validate",value:function(t,n){return!0}}]),i}(),R8t=function(i){Zn(t,i);var e=Qn(t);function t(n,r,s,a,o){var l;return Bn(this,t),l=e.call(this),l.value=n,l.validateValue=r,l.setValue=s,l.priority=a,o&&(l.subPriority=o),l}return $n(t,[{key:"validate",value:function(r,s){return this.validateValue(r,this.value,s)}},{key:"set",value:function(r,s,a){return this.setValue(r,s,this.value,a)}}]),t}(GOe),D8t=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",I8t),Ht(Kt(n),"subPriority",-1),n}return $n(t,[{key:"set",value:function(r,s){if(s.timestampIsSet)return r;var a=new Date(0);return a.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),a.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),a}}]),t}(GOe),mr=function(){function i(){Bn(this,i),Ht(this,"incompatibleTokens",void 0),Ht(this,"priority",void 0),Ht(this,"subPriority",void 0)}return $n(i,[{key:"run",value:function(t,n,r,s){var a=this.parse(t,n,r,s);return a?{setter:new R8t(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(t,n,r){return!0}}]),i}(),L8t=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",140),Ht(Kt(n),"incompatibleTokens",["R","u","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}},{key:"set",value:function(r,s,a){return s.era=a,r.setUTCFullYear(a,0,1),r.setUTCHours(0,0,0,0),r}}]),t}(mr),Sa={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},sf={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function xa(i,e){return i&&{value:e(i.value),rest:i.rest}}function Ws(i,e){var t=e.match(i);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function af(i,e){var t=e.match(i);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var n=t[1]==="+"?1:-1,r=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:n*(r*wZ+s*xZ+a*O7t),rest:e.slice(t[0].length)}}function YOe(i){return Ws(Sa.anyDigitsSigned,i)}function da(i,e){switch(i){case 1:return Ws(Sa.singleDigit,e);case 2:return Ws(Sa.twoDigits,e);case 3:return Ws(Sa.threeDigits,e);case 4:return Ws(Sa.fourDigits,e);default:return Ws(new RegExp("^\\d{1,"+i+"}"),e)}}function t6(i,e){switch(i){case 1:return Ws(Sa.singleDigitSigned,e);case 2:return Ws(Sa.twoDigitsSigned,e);case 3:return Ws(Sa.threeDigitsSigned,e);case 4:return Ws(Sa.fourDigitsSigned,e);default:return Ws(new RegExp("^-?\\d{1,"+i+"}"),e)}}function EZ(i){switch(i){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function KOe(i,e){var t=e>0,n=t?e:1-e,r;if(n<=50)r=i||100;else{var s=n+50,a=Math.floor(s/100)*100,o=i>=s%100;r=i+a-(o?100:0)}return t?r:1-r}function XOe(i){return i%400===0||i%4===0&&i%100!==0}var F8t=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",130),Ht(Kt(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){var o=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return xa(da(4,r),o);case"yo":return xa(a.ordinalNumber(r,{unit:"year"}),o);default:return xa(da(s.length,r),o)}}},{key:"validate",value:function(r,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(r,s,a){var o=r.getUTCFullYear();if(a.isTwoDigitYear){var l=KOe(a.year,o);return r.setUTCFullYear(l,0,1),r.setUTCHours(0,0,0,0),r}var u=!("era"in s)||s.era===1?a.year:1-a.year;return r.setUTCFullYear(u,0,1),r.setUTCHours(0,0,0,0),r}}]),t}(mr),B8t=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",130),Ht(Kt(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){var o=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return xa(da(4,r),o);case"Yo":return xa(a.ordinalNumber(r,{unit:"year"}),o);default:return xa(da(s.length,r),o)}}},{key:"validate",value:function(r,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(r,s,a,o){var l=kZ(r,o);if(a.isTwoDigitYear){var u=KOe(a.year,l);return r.setUTCFullYear(u,0,o.firstWeekContainsDate),r.setUTCHours(0,0,0,0),im(r,o)}var c=!("era"in s)||s.era===1?a.year:1-a.year;return r.setUTCFullYear(c,0,o.firstWeekContainsDate),r.setUTCHours(0,0,0,0),im(r,o)}}]),t}(mr),$8t=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",130),Ht(Kt(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s){return t6(s==="R"?4:s.length,r)}},{key:"set",value:function(r,s,a){var o=new Date(0);return o.setUTCFullYear(a,0,4),o.setUTCHours(0,0,0,0),dw(o)}}]),t}(mr),N8t=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",130),Ht(Kt(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s){return t6(s==="u"?4:s.length,r)}},{key:"set",value:function(r,s,a){return r.setUTCFullYear(a,0,1),r.setUTCHours(0,0,0,0),r}}]),t}(mr),j8t=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",120),Ht(Kt(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"Q":case"QQ":return da(s.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=1&&s<=4}},{key:"set",value:function(r,s,a){return r.setUTCMonth((a-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),t}(mr),z8t=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",120),Ht(Kt(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"q":case"qq":return da(s.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=1&&s<=4}},{key:"set",value:function(r,s,a){return r.setUTCMonth((a-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),t}(mr),H8t=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ht(Kt(n),"priority",110),n}return $n(t,[{key:"parse",value:function(r,s,a){var o=function(u){return u-1};switch(s){case"M":return xa(Ws(Sa.month,r),o);case"MM":return xa(da(2,r),o);case"Mo":return xa(a.ordinalNumber(r,{unit:"month"}),o);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,a){return r.setUTCMonth(a,1),r.setUTCHours(0,0,0,0),r}}]),t}(mr),V8t=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",110),Ht(Kt(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){var o=function(u){return u-1};switch(s){case"L":return xa(Ws(Sa.month,r),o);case"LL":return xa(da(2,r),o);case"Lo":return xa(a.ordinalNumber(r,{unit:"month"}),o);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,a){return r.setUTCMonth(a,1),r.setUTCHours(0,0,0,0),r}}]),t}(mr);function W8t(i,e,t){tn(2,arguments);var n=yn(i),r=ts(e),s=BOe(n,t)-r;return n.setUTCDate(n.getUTCDate()-s*7),n}var U8t=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",100),Ht(Kt(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"w":return Ws(Sa.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return da(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=53}},{key:"set",value:function(r,s,a,o){return im(W8t(r,a,o),o)}}]),t}(mr);function G8t(i,e){tn(2,arguments);var t=yn(i),n=ts(e),r=FOe(t)-n;return t.setUTCDate(t.getUTCDate()-r*7),t}var Y8t=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",100),Ht(Kt(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"I":return Ws(Sa.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return da(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=53}},{key:"set",value:function(r,s,a){return dw(G8t(r,a))}}]),t}(mr),K8t=[31,28,31,30,31,30,31,31,30,31,30,31],X8t=[31,29,31,30,31,30,31,31,30,31,30,31],q8t=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",90),Ht(Kt(n),"subPriority",1),Ht(Kt(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"d":return Ws(Sa.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return da(s.length,r)}}},{key:"validate",value:function(r,s){var a=r.getUTCFullYear(),o=XOe(a),l=r.getUTCMonth();return o?s>=1&&s<=X8t[l]:s>=1&&s<=K8t[l]}},{key:"set",value:function(r,s,a){return r.setUTCDate(a),r.setUTCHours(0,0,0,0),r}}]),t}(mr),Z8t=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",90),Ht(Kt(n),"subpriority",1),Ht(Kt(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"D":case"DD":return Ws(Sa.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return da(s.length,r)}}},{key:"validate",value:function(r,s){var a=r.getUTCFullYear(),o=XOe(a);return o?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(r,s,a){return r.setUTCMonth(0,a),r.setUTCHours(0,0,0,0),r}}]),t}(mr);function AZ(i,e,t){var n,r,s,a,o,l,u,c;tn(2,arguments);var d=uC(),h=ts((n=(r=(s=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=yn(i),f=ts(e),g=p.getUTCDay(),v=f%7,m=(v+7)%7,b=(m<h?7:0)+f-g;return p.setUTCDate(p.getUTCDate()+b),p}var Q8t=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",90),Ht(Kt(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,a,o){return r=AZ(r,a,o),r.setUTCHours(0,0,0,0),r}}]),t}(mr),J8t=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",90),Ht(Kt(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a,o){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(s){case"e":case"ee":return xa(da(s.length,r),l);case"eo":return xa(a.ordinalNumber(r,{unit:"day"}),l);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,a,o){return r=AZ(r,a,o),r.setUTCHours(0,0,0,0),r}}]),t}(mr),ezt=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",90),Ht(Kt(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a,o){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+d};switch(s){case"c":case"cc":return xa(da(s.length,r),l);case"co":return xa(a.ordinalNumber(r,{unit:"day"}),l);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,s){return s>=0&&s<=6}},{key:"set",value:function(r,s,a,o){return r=AZ(r,a,o),r.setUTCHours(0,0,0,0),r}}]),t}(mr);function tzt(i,e){tn(2,arguments);var t=ts(e);t%7===0&&(t=t-7);var n=1,r=yn(i),s=r.getUTCDay(),a=t%7,o=(a+7)%7,l=(o<n?7:0)+t-s;return r.setUTCDate(r.getUTCDate()+l),r}var izt=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",90),Ht(Kt(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){var o=function(u){return u===0?7:u};switch(s){case"i":case"ii":return da(s.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return xa(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o);case"iiiii":return xa(a.day(r,{width:"narrow",context:"formatting"}),o);case"iiiiii":return xa(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o);case"iiii":default:return xa(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),o)}}},{key:"validate",value:function(r,s){return s>=1&&s<=7}},{key:"set",value:function(r,s,a){return r=tzt(r,a),r.setUTCHours(0,0,0,0),r}}]),t}(mr),nzt=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",80),Ht(Kt(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,a){return r.setUTCHours(EZ(a),0,0,0),r}}]),t}(mr),rzt=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",80),Ht(Kt(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,a){return r.setUTCHours(EZ(a),0,0,0),r}}]),t}(mr),szt=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",80),Ht(Kt(n),"incompatibleTokens",["a","b","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,s,a){return r.setUTCHours(EZ(a),0,0,0),r}}]),t}(mr),azt=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",70),Ht(Kt(n),"incompatibleTokens",["H","K","k","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"h":return Ws(Sa.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return da(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=12}},{key:"set",value:function(r,s,a){var o=r.getUTCHours()>=12;return o&&a<12?r.setUTCHours(a+12,0,0,0):!o&&a===12?r.setUTCHours(0,0,0,0):r.setUTCHours(a,0,0,0),r}}]),t}(mr),ozt=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",70),Ht(Kt(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"H":return Ws(Sa.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return da(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=23}},{key:"set",value:function(r,s,a){return r.setUTCHours(a,0,0,0),r}}]),t}(mr),lzt=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",70),Ht(Kt(n),"incompatibleTokens",["h","H","k","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"K":return Ws(Sa.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return da(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=11}},{key:"set",value:function(r,s,a){var o=r.getUTCHours()>=12;return o&&a<12?r.setUTCHours(a+12,0,0,0):r.setUTCHours(a,0,0,0),r}}]),t}(mr),uzt=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",70),Ht(Kt(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"k":return Ws(Sa.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return da(s.length,r)}}},{key:"validate",value:function(r,s){return s>=1&&s<=24}},{key:"set",value:function(r,s,a){var o=a<=24?a%24:a;return r.setUTCHours(o,0,0,0),r}}]),t}(mr),czt=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",60),Ht(Kt(n),"incompatibleTokens",["t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"m":return Ws(Sa.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return da(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=59}},{key:"set",value:function(r,s,a){return r.setUTCMinutes(a,0,0),r}}]),t}(mr),dzt=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",50),Ht(Kt(n),"incompatibleTokens",["t","T"]),n}return $n(t,[{key:"parse",value:function(r,s,a){switch(s){case"s":return Ws(Sa.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return da(s.length,r)}}},{key:"validate",value:function(r,s){return s>=0&&s<=59}},{key:"set",value:function(r,s,a){return r.setUTCSeconds(a,0),r}}]),t}(mr),hzt=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",30),Ht(Kt(n),"incompatibleTokens",["t","T"]),n}return $n(t,[{key:"parse",value:function(r,s){var a=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return xa(da(s.length,r),a)}},{key:"set",value:function(r,s,a){return r.setUTCMilliseconds(a),r}}]),t}(mr),pzt=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",10),Ht(Kt(n),"incompatibleTokens",["t","T","x"]),n}return $n(t,[{key:"parse",value:function(r,s){switch(s){case"X":return af(sf.basicOptionalMinutes,r);case"XX":return af(sf.basic,r);case"XXXX":return af(sf.basicOptionalSeconds,r);case"XXXXX":return af(sf.extendedOptionalSeconds,r);case"XXX":default:return af(sf.extended,r)}}},{key:"set",value:function(r,s,a){return s.timestampIsSet?r:new Date(r.getTime()-a)}}]),t}(mr),fzt=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",10),Ht(Kt(n),"incompatibleTokens",["t","T","X"]),n}return $n(t,[{key:"parse",value:function(r,s){switch(s){case"x":return af(sf.basicOptionalMinutes,r);case"xx":return af(sf.basic,r);case"xxxx":return af(sf.basicOptionalSeconds,r);case"xxxxx":return af(sf.extendedOptionalSeconds,r);case"xxx":default:return af(sf.extended,r)}}},{key:"set",value:function(r,s,a){return s.timestampIsSet?r:new Date(r.getTime()-a)}}]),t}(mr),gzt=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",40),Ht(Kt(n),"incompatibleTokens","*"),n}return $n(t,[{key:"parse",value:function(r){return YOe(r)}},{key:"set",value:function(r,s,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),t}(mr),mzt=function(i){Zn(t,i);var e=Qn(t);function t(){var n;Bn(this,t);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s)),Ht(Kt(n),"priority",20),Ht(Kt(n),"incompatibleTokens","*"),n}return $n(t,[{key:"parse",value:function(r){return YOe(r)}},{key:"set",value:function(r,s,a){return[new Date(a),{timestampIsSet:!0}]}}]),t}(mr),vzt={G:new L8t,y:new F8t,Y:new B8t,R:new $8t,u:new N8t,Q:new j8t,q:new z8t,M:new H8t,L:new V8t,w:new U8t,I:new Y8t,d:new q8t,D:new Z8t,E:new Q8t,e:new J8t,c:new ezt,i:new izt,a:new nzt,b:new rzt,B:new szt,h:new azt,H:new ozt,K:new lzt,k:new uzt,m:new czt,s:new dzt,S:new hzt,X:new pzt,x:new fzt,t:new gzt,T:new mzt},yzt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_zt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bzt=/^'([^]*?)'?$/,Szt=/''/g,xzt=/\S/,wzt=/[a-zA-Z]/;function qOe(i,e,t,n){var r,s,a,o,l,u,c,d,h,p,f,g,v,m,b,_,S,C;tn(3,arguments);var k=String(i),E=String(e),A=uC(),P=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:A.locale)!==null&&r!==void 0?r:zOe;if(!P.match)throw new RangeError("locale must contain match property");var O=ts((a=(o=(l=(u=n==null?void 0:n.firstWeekContainsDate)!==null&&u!==void 0?u:n==null||(c=n.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:A.firstWeekContainsDate)!==null&&o!==void 0?o:(h=A.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=ts((f=(g=(v=(m=n==null?void 0:n.weekStartsOn)!==null&&m!==void 0?m:n==null||(b=n.locale)===null||b===void 0||(_=b.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&v!==void 0?v:A.weekStartsOn)!==null&&g!==void 0?g:(S=A.locale)===null||S===void 0||(C=S.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&f!==void 0?f:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return k===""?yn(t):new Date(NaN);var D={firstWeekContainsDate:O,weekStartsOn:M,locale:P},L=[new D8t],H=E.match(_zt).map(function(te){var Q=te[0];if(Q in gU){var se=gU[Q];return se(te,P.formatLong)}return te}).join("").match(yzt),B=[],F=xfe(H),z;try{var N=function(){var Q=z.value;!(n!=null&&n.useAdditionalWeekYearTokens)&&jOe(Q)&&ZF(Q,E,i),!(n!=null&&n.useAdditionalDayOfYearTokens)&&NOe(Q)&&ZF(Q,E,i);var se=Q[0],_e=vzt[se];if(_e){var le=_e.incompatibleTokens;if(Array.isArray(le)){var ve=B.find(function(Fe){return le.includes(Fe.token)||Fe.token===se});if(ve)throw new RangeError("The format string mustn't contain `".concat(ve.fullToken,"` and `").concat(Q,"` at the same time"))}else if(_e.incompatibleTokens==="*"&&B.length>0)throw new RangeError("The format string mustn't contain `".concat(Q,"` and any other token at the same time"));B.push({token:se,fullToken:Q});var pe=_e.run(k,Q,P.match,D);if(!pe)return{v:new Date(NaN)};L.push(pe.setter),k=pe.rest}else{if(se.match(wzt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+se+"`");if(Q==="''"?Q="'":se==="'"&&(Q=Czt(Q)),k.indexOf(Q)===0)k=k.slice(Q.length);else return{v:new Date(NaN)}}};for(F.s();!(z=F.n()).done;){var U=N();if(Ef(U)==="object")return U.v}}catch(te){F.e(te)}finally{F.f()}if(k.length>0&&xzt.test(k))return new Date(NaN);var G=L.map(function(te){return te.priority}).sort(function(te,Q){return Q-te}).filter(function(te,Q,se){return se.indexOf(te)===Q}).map(function(te){return L.filter(function(Q){return Q.priority===te}).sort(function(Q,se){return se.subPriority-Q.subPriority})}).map(function(te){return te[0]}),j=yn(t);if(isNaN(j.getTime()))return new Date(NaN);var K=DOe(j,ROe(j)),ie={},ae=xfe(G),re;try{for(ae.s();!(re=ae.n()).done;){var J=re.value;if(!J.validate(K,D))return new Date(NaN);var ne=J.set(K,ie,D);Array.isArray(ne)?(K=ne[0],C8t(ie,ne[1])):K=ne}}catch(te){ae.e(te)}finally{ae.f()}return K}function Czt(i){return i.match(bzt)[1].replace(Szt,"'")}function wfe(i){tn(1,arguments);var e=yn(i);return e.setMilliseconds(0),e}function Cfe(i,e){tn(2,arguments);var t=wfe(i),n=wfe(e);return t.getTime()===n.getTime()}function kzt(i,e){tn(2,arguments);var t=yn(i).getTime(),n=yn(e.start).getTime(),r=yn(e.end).getTime();if(!(n<=r))throw new RangeError("Invalid interval");return t>=n&&t<=r}function Wd(i,e){var t;tn(1,arguments);var n=ts((t=void 0)!==null&&t!==void 0?t:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof i=="string"||Object.prototype.toString.call(i)==="[object String]"))return new Date(NaN);var r=Pzt(i),s;if(r.date){var a=Ozt(r.date,n);s=Mzt(a.restDateString,a.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var o=s.getTime(),l=0,u;if(r.time&&(l=Izt(r.time),isNaN(l)))return new Date(NaN);if(r.timezone){if(u=Rzt(r.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(o+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(o+l+u)}var WI={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ezt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Azt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Tzt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Pzt(i){var e={},t=i.split(WI.dateTimeDelimiter),n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],WI.timeZoneDelimiter.test(e.date)&&(e.date=i.split(WI.timeZoneDelimiter)[0],n=i.substr(e.date.length,i.length))),n){var r=WI.timezone.exec(n);r?(e.time=n.replace(r[1],""),e.timezone=r[1]):e.time=n}return e}function Ozt(i,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=i.match(t);if(!n)return{year:NaN,restDateString:""};var r=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?r:s*100,restDateString:i.slice((n[1]||n[2]).length)}}function Mzt(i,e){if(e===null)return new Date(NaN);var t=i.match(Ezt);if(!t)return new Date(NaN);var n=!!t[4],r=Pk(t[1]),s=Pk(t[2])-1,a=Pk(t[3]),o=Pk(t[4]),l=Pk(t[5])-1;if(n)return $zt(e,o,l)?Dzt(e,o,l):new Date(NaN);var u=new Date(0);return!Fzt(e,s,a)||!Bzt(e,r)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(r,a)),u)}function Pk(i){return i?parseInt(i):1}function Izt(i){var e=i.match(Azt);if(!e)return NaN;var t=S8(e[1]),n=S8(e[2]),r=S8(e[3]);return Nzt(t,n,r)?t*wZ+n*xZ+r*1e3:NaN}function S8(i){return i&&parseFloat(i.replace(",","."))||0}function Rzt(i){if(i==="Z")return 0;var e=i.match(Tzt);if(!e)return 0;var t=e[1]==="+"?-1:1,n=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return jzt(n,r)?t*(n*wZ+r*xZ):NaN}function Dzt(i,e,t){var n=new Date(0);n.setUTCFullYear(i,0,4);var r=n.getUTCDay()||7,s=(e-1)*7+t+1-r;return n.setUTCDate(n.getUTCDate()+s),n}var Lzt=[31,null,31,30,31,30,31,31,30,31,30,31];function ZOe(i){return i%400===0||i%4===0&&i%100!==0}function Fzt(i,e,t){return e>=0&&e<=11&&t>=1&&t<=(Lzt[e]||(ZOe(i)?29:28))}function Bzt(i,e){return e>=1&&e<=(ZOe(i)?366:365)}function $zt(i,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function Nzt(i,e,t){return i===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&i>=0&&i<25}function jzt(i,e){return e>=0&&e<=59}function yx(i,e){tn(2,arguments);var t=yn(i),n=ts(e),r=t.getFullYear(),s=t.getDate(),a=new Date(0);a.setFullYear(r,n,15),a.setHours(0,0,0,0);var o=HOe(a);return t.setMonth(n,Math.min(s,o)),t}function QOe(i,e){if(tn(2,arguments),Ef(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var t=yn(i);return isNaN(t.getTime())?new Date(NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=yx(t,e.month)),e.date!=null&&t.setDate(ts(e.date)),e.hours!=null&&t.setHours(ts(e.hours)),e.minutes!=null&&t.setMinutes(ts(e.minutes)),e.seconds!=null&&t.setSeconds(ts(e.seconds)),e.milliseconds!=null&&t.setMilliseconds(ts(e.milliseconds)),t)}function JOe(i,e){tn(2,arguments);var t=yn(i),n=ts(e);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(n),t)}function zzt(i,e){tn(2,arguments);var t=ts(e);return Iv(i,-t)}function Hzt(i,e){tn(2,arguments);var t=ts(e);return qF(i,-t)}function Vzt(i,e,t){tn(2,arguments);var n=im(i,t),r=im(e,t);return n.getTime()===r.getTime()}var Wzt={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},Uzt=function(e,t,n){var r,s=Wzt[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?r+"":r+"":r},Gzt={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},Yzt={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},Kzt={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Xzt={date:vx({formats:Gzt,defaultWidth:"full"}),time:vx({formats:Yzt,defaultWidth:"full"}),dateTime:vx({formats:Kzt,defaultWidth:"full"})};function kfe(i,e,t){var n="eeee p";return Vzt(i,e,t)?n:i.getTime()>e.getTime()?"''"+n:"''"+n}var qzt={lastWeek:kfe,yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:kfe,other:"PP p"},Zzt=function(e,t,n,r){var s=qzt[e];return typeof s=="function"?s(t,n,r):s},Qzt={narrow:["",""],abbreviated:["",""],wide:["",""]},Jzt={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},eHt={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},tHt={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},iHt={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},nHt={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},rHt=function(e,t){var n=Number(e);switch(t==null?void 0:t.unit){case"date":return n.toString()+"";case"hour":return n.toString()+"";case"minute":return n.toString()+"";case"second":return n.toString()+"";default:return" "+n.toString()}},sHt={ordinalNumber:rHt,era:nf({values:Qzt,defaultWidth:"wide"}),quarter:nf({values:Jzt,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:nf({values:eHt,defaultWidth:"wide"}),day:nf({values:tHt,defaultWidth:"wide"}),dayPeriod:nf({values:iHt,defaultWidth:"wide",formattingValues:nHt,defaultFormattingWidth:"wide"})},aHt=/^(\s*)?\d+(|||)?/i,oHt=/\d+/i,lHt={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},uHt={any:[/^()/i,/^()/i]},cHt={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},dHt={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},hHt={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},pHt={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},fHt={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},gHt={any:[//i,//i,//i,//i,//i,//i,//i]},mHt={any:/^(?|?||[]|?||?||)/i},vHt={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},yHt={ordinalNumber:IOe({matchPattern:aHt,parsePattern:oHt,valueCallback:function(e){return parseInt(e,10)}}),era:rf({matchPatterns:lHt,defaultMatchWidth:"wide",parsePatterns:uHt,defaultParseWidth:"any"}),quarter:rf({matchPatterns:cHt,defaultMatchWidth:"wide",parsePatterns:dHt,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:rf({matchPatterns:hHt,defaultMatchWidth:"wide",parsePatterns:pHt,defaultParseWidth:"any"}),day:rf({matchPatterns:fHt,defaultMatchWidth:"wide",parsePatterns:gHt,defaultParseWidth:"any"}),dayPeriod:rf({matchPatterns:mHt,defaultMatchWidth:"any",parsePatterns:vHt,defaultParseWidth:"any"})},TZ={code:"zh-CN",formatDistance:Uzt,formatLong:Xzt,formatRelative:Zzt,localize:sHt,match:yHt,options:{weekStartsOn:1,firstWeekContainsDate:4}};const Efe={code:"zh-CN",dateFnsLocale:TZ,Pagination:{pageSize:"${pageSize}",total:"${total}",jumpTo:"",page:""},Modal:{confirm:"",cancel:""},Tabs:{more:""},TimePicker:{placeholder:{time:"",timeRange:""},begin:"",end:"",hour:"",minute:"",second:"",AM:"",PM:""},DatePicker:{placeholder:{date:"",dateTime:"",dateRange:["",""],dateTimeRange:["",""],monthRange:["",""]},presets:"",footer:{confirm:"",cancel:""},selectDate:"",selectTime:"",year:"",month:"",day:"",monthText:"${year} ${month}",months:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},fullMonths:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},weeks:{Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",Sun:""},localeFormatToken:{FORMAT_SWITCH_DATE:"yyyy-MM-dd"}},Navigation:{collapseText:"",expandText:""},Popconfirm:{confirm:"",cancel:""},Table:{emptyText:"",pageText:" ${currentStart} - ${currentEnd}  ${total} "},Select:{emptyText:"",createText:""},Cascader:{emptyText:""},Tree:{emptyText:"",searchPlaceholder:""},List:{emptyText:""},Calendar:{allDay:"",AM:"${time}",PM:"${time}",datestring:"",remaining:"${remained}"},Upload:{mainText:"",illegalTips:"",legalTips:"",retry:"",replace:"",clear:"",selectedFiles:"",illegalSize:"",fail:""},TreeSelect:{searchPlaceholder:""},Typography:{copy:"",copied:"",expand:"",collapse:""},Transfer:{emptyLeft:"",emptySearch:"",emptyRight:"",placeholder:"",clear:"",selectAll:"",clearSelectAll:"",total:"${total}",selected:"${total}"},Form:{optional:""},Image:{preview:"",loading:"",loadError:"",prevTip:"",nextTip:"",zoomInTip:"",zoomOutTip:"",rotateTip:"",downloadTip:"",adaptiveTip:"",originTip:""}};class La extends ee.Component{renderChildren(e,t){const{componentName:n}=this.props;let r=e;e!=null&&e.code||(r=Efe);const s=wt(Efe,"dateFnsLocale"),a=wt(r,"dateFnsLocale",s);return t(r[n],r.code,a)}render(){const{children:e}=this.props;return R.createElement(ic.Consumer,null,t=>{let{locale:n}=t;return R.createElement(k7t.Consumer,null,r=>this.renderChildren(n||r,e))})}}La.propTypes={componentName:w.string.isRequired,children:w.any};La.defaultProps={componentName:""};const _Ht="semi";var bHt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const eMe=R.forwardRef((i,e)=>{const{svg:t,spin:n=!1,rotate:r,style:s,className:a,prefixCls:o=_Ht,type:l,size:u="default"}=i,c=bHt(i,["svg","spin","rotate","style","className","prefixCls","type","size"]),d=he(`${o}-icon`,{[`${o}-icon-extra-small`]:u==="extra-small",[`${o}-icon-small`]:u==="small",[`${o}-icon-default`]:u==="default",[`${o}-icon-large`]:u==="large",[`${o}-icon-extra-large`]:u==="extra-large",[`${o}-icon-spinning`]:n===!0,[`${o}-icon-${l}`]:!!l},a),h={};return Number.isSafeInteger(r)&&(h.transform=`rotate(${r}deg)`),Object.assign(h,s),R.createElement("span",Object.assign({role:"img",ref:e,"aria-label":l,className:d,style:h},c),t)});eMe.elementType="Icon";const Jn=(i,e)=>{const t=R.forwardRef((n,r)=>R.createElement(eMe,Object.assign({svg:R.createElement(i),type:e,ref:r},n)));return t.elementType="Icon",t};function SHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM13.5 17.5C13.5 16.6716 12.8284 16 12 16C11.1716 16 10.5 16.6716 10.5 17.5C10.5 18.3284 11.1716 19 12 19C12.8284 19 13.5 18.3284 13.5 17.5ZM12 5C10.9138 5 10.0507 5.91244 10.1109 6.99692L10.4168 12.5023C10.4635 13.3426 11.1584 14 12 14C12.8416 14 13.5365 13.3426 13.5832 12.5023L13.8891 6.99692C13.9493 5.91244 13.0862 5 12 5Z",fill:"currentColor"}))}const i6=Jn(SHt,"alert_circle");function xHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2268 2.3986L1.52616 19.0749C0.831449 20.4064 1.79747 22 3.29933 22H20.7007C22.2025 22 23.1686 20.4064 22.4739 19.0749L13.7732 2.3986C13.0254 0.965441 10.9746 0.965442 10.2268 2.3986ZM13.1415 14.0101C13.0603 14.5781 12.5739 15 12.0001 15C11.4263 15 10.9398 14.5781 10.8586 14.0101L10.2829 9.97992C10.1336 8.93495 10.9445 8.00002 12.0001 8.00002C13.0556 8.00002 13.8665 8.93495 13.7172 9.97992L13.1415 14.0101ZM13.5001 18.5C13.5001 19.3284 12.8285 20 12.0001 20C11.1716 20 10.5001 19.3284 10.5001 18.5C10.5001 17.6716 11.1716 17 12.0001 17C12.8285 17 13.5001 17.6716 13.5001 18.5Z",fill:"currentColor"}))}const tMe=Jn(xHt,"alert_triangle");function wHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 20V8H20V20H4ZM2 4C2 2.89543 2.89543 2 4 2H20C21.1046 2 22 2.89543 22 4V20C22 21.1046 21.1046 22 20 22H4C2.89543 22 2 21.1046 2 20V4ZM6 10.5C6 10.2239 6.22386 10 6.5 10H8.5C8.77614 10 9 10.2239 9 10.5V12.5C9 12.7761 8.77614 13 8.5 13H6.5C6.22386 13 6 12.7761 6 12.5V10.5ZM6.5 15C6.22386 15 6 15.2239 6 15.5V17.5C6 17.7761 6.22386 18 6.5 18H8.5C8.77614 18 9 17.7761 9 17.5V15.5C9 15.2239 8.77614 15 8.5 15H6.5ZM10.5 10.5C10.5 10.2239 10.7239 10 11 10H13C13.2761 10 13.5 10.2239 13.5 10.5V12.5C13.5 12.7761 13.2761 13 13 13H11C10.7239 13 10.5 12.7761 10.5 12.5V10.5ZM11 15C10.7239 15 10.5 15.2239 10.5 15.5V17.5C10.5 17.7761 10.7239 18 11 18H13C13.2761 18 13.5 17.7761 13.5 17.5V15.5C13.5 15.2239 13.2761 15 13 15H11ZM15 10.5C15 10.2239 15.2239 10 15.5 10H17.5C17.7761 10 18 10.2239 18 10.5V12.5C18 12.7761 17.7761 13 17.5 13H15.5C15.2239 13 15 12.7761 15 12.5V10.5ZM15.5 15C15.2239 15 15 15.2239 15 15.5V17.5C15 17.7761 15.2239 18 15.5 18H17.5C17.7761 18 18 17.7761 18 17.5V15.5C18 15.2239 17.7761 15 17.5 15H15.5Z",fill:"currentColor"}))}const iMe=Jn(wHt,"calendar");function CHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{d:"M2 5V19C2 20.6569 3.34315 22 5 22H12.101C11.5151 21.4259 11.0297 20.7496 10.6736 20H6C4.89543 20 4 19.1046 4 18V8C4 7.44772 4.44772 7 5 7H19C19.5523 7 20 7.44772 20 8V10.6736C20.7496 11.0297 21.4259 11.5151 22 12.101V5C22 3.34315 20.6569 2 19 2H5C3.34315 2 2 3.34315 2 5Z",fill:"currentColor"}),ee.createElement("path",{d:"M16 10H17C16.4614 10 15.9369 10.0608 15.4332 10.176C15.5943 10.065 15.7896 10 16 10Z",fill:"currentColor"}),ee.createElement("path",{d:"M13.4981 10.9376C13.4659 10.4144 13.0313 10 12.5 10H11.5C10.9477 10 10.5 10.4477 10.5 11V12C10.5 12.4742 10.83 12.8712 11.2729 12.9741C11.857 12.1446 12.6168 11.4478 13.4981 10.9376Z",fill:"currentColor"}),ee.createElement("path",{d:"M7 10C6.44772 10 6 10.4477 6 11V12C6 12.5523 6.44772 13 7 13H8C8.55228 13 9 12.5523 9 12V11C9 10.4477 8.55228 10 8 10H7Z",fill:"currentColor"}),ee.createElement("path",{d:"M6 16C6 15.4477 6.44772 15 7 15H8C8.55228 15 9 15.4477 9 16V17C9 17.5523 8.55228 18 8 18H7C6.44772 18 6 17.5523 6 17V16Z",fill:"currentColor"}),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 17C22 19.7614 19.7614 22 17 22C14.2386 22 12 19.7614 12 17C12 14.2386 14.2386 12 17 12C19.7614 12 22 14.2386 22 17ZM18 15C18 14.4477 17.5523 14 17 14C16.4477 14 16 14.4477 16 15V17C16 17.2652 16.1054 17.5196 16.2929 17.7071L17.7929 19.2071C18.1834 19.5976 18.8166 19.5976 19.2071 19.2071C19.5976 18.8166 19.5976 18.1834 19.2071 17.7929L18 16.5858V15Z",fill:"currentColor"}))}const kHt=Jn(CHt,"calendar_clock");function EHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{d:"M5 12.5C5 11.6716 5.67157 11 6.5 11H17.5C18.3284 11 19 11.6716 19 12.5C19 13.3284 18.3284 14 17.5 14H6.5C5.67157 14 5 13.3284 5 12.5Z",fill:"currentColor"}))}const AHt=Jn(EHt,"checkbox_indeterminate");function THt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4111 7.30848C18.0692 7.81171 18.1947 8.75312 17.6915 9.41119L11.1915 17.9112C10.909 18.2806 10.4711 18.4981 10.0061 18.5C9.54105 18.5019 9.10143 18.288 8.81592 17.9209L5.31592 13.4209C4.80731 12.767 4.92512 11.8246 5.57904 11.316C6.23296 10.8074 7.17537 10.9252 7.68398 11.5791L9.98988 14.5438L15.3084 7.58884C15.8116 6.93077 16.7531 6.80525 17.4111 7.30848Z",fill:"currentColor"}))}const PHt=Jn(THt,"checkbox_tick");function OHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.08045 7.59809C4.66624 7.01231 5.61599 7.01231 6.20177 7.59809L11.8586 13.2549L17.5155 7.59809C18.1013 7.01231 19.051 7.01231 19.6368 7.59809C20.2226 8.18388 20.2226 9.13363 19.6368 9.71941L12.9193 16.4369C12.3335 17.0227 11.3838 17.0227 10.798 16.4369L4.08045 9.71941C3.49467 9.13363 3.49467 8.18388 4.08045 7.59809Z",fill:"currentColor"}))}const MP=Jn(OHt,"chevron_down");function MHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.2782 4.23933C16.864 4.82511 16.864 5.77486 16.2782 6.36065L10.6213 12.0175L16.2782 17.6744C16.864 18.2601 16.864 19.2099 16.2782 19.7957C15.6924 20.3815 14.7426 20.3815 14.1569 19.7957L7.43934 13.0782C6.85355 12.4924 6.85355 11.5426 7.43934 10.9568L14.1569 4.23933C14.7426 3.65354 15.6924 3.65354 16.2782 4.23933Z",fill:"currentColor"}))}const nMe=Jn(MHt,"chevron_left");function IHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.43934 19.7957C6.85355 19.2099 6.85355 18.2601 7.43934 17.6744L13.0962 12.0175L7.43934 6.36065C6.85355 5.77486 6.85355 4.82511 7.43934 4.23933C8.02513 3.65354 8.97487 3.65354 9.56066 4.23933L16.2782 10.9568C16.864 11.5426 16.864 12.4924 16.2782 13.0782L9.56066 19.7957C8.97487 20.3815 8.02513 20.3815 7.43934 19.7957Z",fill:"currentColor"}))}const rMe=Jn(IHt,"chevron_right");function RHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.637 16.4369C19.0513 17.0227 18.1015 17.0227 17.5157 16.4369L11.8589 10.7801L6.20202 16.4369C5.61623 17.0227 4.66648 17.0227 4.0807 16.4369C3.49491 15.8511 3.49491 14.9014 4.0807 14.3156L10.7982 7.59809C11.384 7.01231 12.3337 7.01231 12.9195 7.59809L19.637 14.3156C20.2228 14.9014 20.2228 15.8511 19.637 16.4369Z",fill:"currentColor"}))}const DHt=Jn(RHt,"chevron_up");function LHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM17.0352 16.8626C16.4597 17.4585 15.5101 17.4751 14.9142 16.8996L12.0368 14.121L9.25822 16.9984C8.68274 17.5943 7.73314 17.6109 7.13722 17.0354C6.5413 16.4599 6.52472 15.5103 7.1002 14.9144L9.87883 12.037L7.00147 9.2584C6.40555 8.68293 6.38897 7.73332 6.96445 7.1374C7.53992 6.54148 8.48953 6.52491 9.08545 7.10038L11.9628 9.87901L14.7414 7.00165C15.3169 6.40573 16.2665 6.38916 16.8624 6.96463C17.4584 7.54011 17.4749 8.48971 16.8995 9.08563L14.1208 11.963L16.9982 14.7416C17.5941 15.3171 17.6107 16.2667 17.0352 16.8626Z",fill:"currentColor"}))}const Sm=Jn(LHt,"clear");function FHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM13.5 6.5V11.3787L17.0607 14.9393C17.6464 15.5251 17.6464 16.4749 17.0607 17.0607C16.4749 17.6464 15.5251 17.6464 14.9393 17.0607L10.9393 13.0607C10.658 12.7794 10.5 12.3978 10.5 12V6.5C10.5 5.67157 11.1716 5 12 5C12.8284 5 13.5 5.67157 13.5 6.5Z",fill:"currentColor"}))}const sMe=Jn(FHt,"clock");function BHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{d:"M17.6568 19.7782C18.2426 20.3639 19.1924 20.3639 19.7782 19.7782C20.3639 19.1924 20.3639 18.2426 19.7782 17.6568L14.1213 12L19.7782 6.34313C20.3639 5.75734 20.3639 4.8076 19.7782 4.22181C19.1924 3.63602 18.2426 3.63602 17.6568 4.22181L12 9.87866L6.34313 4.22181C5.75734 3.63602 4.8076 3.63602 4.22181 4.22181C3.63602 4.8076 3.63602 5.75734 4.22181 6.34313L9.87866 12L4.22181 17.6568C3.63602 18.2426 3.63602 19.1924 4.22181 19.7782C4.8076 20.3639 5.75734 20.3639 6.34313 19.7782L12 14.1213L17.6568 19.7782Z",fill:"currentColor"}))}const PZ=Jn(BHt,"close");function $Ht(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{d:"M7 4C7 2.89543 7.89543 2 9 2H20C21.1046 2 22 2.89543 22 4V15C22 16.1046 21.1046 17 20 17H19V8C19 6 18 5 16 5H7V4Z",fill:"currentColor"}),ee.createElement("path",{d:"M5 7C3.89543 7 3 7.89543 3 9V19C3 20.1046 3.89543 21 5 21H15C16.1046 21 17 20.1046 17 19V9C17 7.89543 16.1046 7 15 7H5Z",fill:"currentColor"}))}const NHt=Jn($Ht,"copy");function jHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.6185 4.39653C13.1272 4.92524 13.1272 5.78245 12.6185 6.31116L7.14483 12L12.6185 17.6888C13.1272 18.2176 13.1272 19.0748 12.6185 19.6035C12.1098 20.1322 11.285 20.1322 10.7763 19.6035L4.38153 12.9573C3.87282 12.4286 3.87282 11.5714 4.38153 11.0427L10.7763 4.39653C11.285 3.86782 12.1098 3.86782 12.6185 4.39653Z",fill:"currentColor"}),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.6185 4.39653C20.1272 4.92524 20.1272 5.78245 19.6185 6.31116L14.1448 12L19.6185 17.6888C20.1272 18.2176 20.1272 19.0748 19.6185 19.6035C19.1098 20.1322 18.285 20.1322 17.7763 19.6035L11.3815 12.9573C10.8728 12.4286 10.8728 11.5714 11.3815 11.0427L17.7763 4.39653C18.285 3.86782 19.1098 3.86782 19.6185 4.39653Z",fill:"currentColor"}))}const zHt=Jn(jHt,"double_chevron_left");function HHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.38153 4.39653C4.89024 3.86782 5.71502 3.86782 6.22373 4.39653L12.6185 11.0427C13.1272 11.5714 13.1272 12.4286 12.6185 12.9573L6.22373 19.6035C5.71502 20.1322 4.89024 20.1322 4.38153 19.6035C3.87282 19.0748 3.87282 18.2176 4.38153 17.6888L9.85517 12L4.38153 6.31116C3.87282 5.78245 3.87282 4.92524 4.38153 4.39653Z",fill:"currentColor"}),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3815 4.39653C11.8902 3.86782 12.715 3.86782 13.2237 4.39653L19.6185 11.0427C20.1272 11.5714 20.1272 12.4286 19.6185 12.9573L13.2237 19.6035C12.715 20.1322 11.8902 20.1322 11.3815 19.6035C10.8728 19.0748 10.8728 18.2176 11.3815 17.6888L16.8552 12L11.3815 6.31116C10.8728 5.78245 10.8728 4.92524 11.3815 4.39653Z",fill:"currentColor"}))}const VHt=Jn(HHt,"double_chevron_right");function WHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.7071 3.70711C22.0976 3.31658 22.0976 2.68342 21.7071 2.29289C21.3166 1.90237 20.6834 1.90237 20.2929 2.29289L17.3135 5.27233C15.8114 4.50566 14.0321 4 12 4C5 4 1 10 1 12C1 13.1757 2.38219 15.7335 4.94345 17.6423L2.29289 20.2929C1.90237 20.6834 1.90237 21.3166 2.29289 21.7071C2.68342 22.0976 3.31658 22.0976 3.70711 21.7071L21.7071 3.70711ZM7.8284 14.7574L9.29237 13.2934C9.10495 12.9018 9 12.4631 9 12C9 10.3431 10.3431 9 12 9C12.4631 9 12.9018 9.10495 13.2934 9.29237L14.7574 7.8284C13.967 7.30488 13.0191 7 12 7C9.23858 7 7 9.23858 7 12C7 13.0191 7.30488 13.967 7.8284 14.7574Z",fill:"currentColor"}),ee.createElement("path",{d:"M12 20C10.7789 20 9.64914 19.8174 8.61594 19.5054L11.1871 16.9342C11.4516 16.9775 11.7232 17 12 17C14.7614 17 17 14.7614 17 12C17 11.7232 16.9775 11.4516 16.9342 11.1871L20.5032 7.61808C22.1342 9.27317 23 11.0695 23 12C23 14 19 20 12 20Z",fill:"currentColor"}))}const UHt=Jn(WHt,"eye_closed_solid");function GHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C5 4 1 10 1 12C1 14 5 20 12 20C19 20 23 14 23 12C23 10 19 4 12 4ZM17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12ZM12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",fill:"currentColor"}))}const YHt=Jn(GHt,"eye_opened");function KHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C12 1.44772 11.5523 1 11 1H6C4.89543 1 4 1.89543 4 3V21C4 22.1046 4.89543 23 6 23H18C19.1046 23 20 22.1046 20 21V10C20 9.44772 19.5523 9 19 9H14C12.8954 9 12 8.10457 12 7V2ZM7 8C7 7.44772 7.44772 7 8 7H9C9.55228 7 10 7.44772 10 8C10 8.55228 9.55228 9 9 9H8C7.44772 9 7 8.55228 7 8ZM7 13C7 12.4477 7.44772 12 8 12H16C16.5523 12 17 12.4477 17 13C17 13.5523 16.5523 14 16 14H8C7.44772 14 7 13.5523 7 13ZM8 17C7.44772 17 7 17.4477 7 18C7 18.5523 7.44772 19 8 19H16C16.5523 19 17 18.5523 17 18C17 17.4477 16.5523 17 16 17H8ZM19.0686 7.49999H14.5C13.9477 7.49999 13.5 7.05228 13.5 6.49999V1.93136C13.5 1.21864 14.3617 0.861707 14.8657 1.36568L19.6343 6.13431C20.1383 6.63828 19.7814 7.49999 19.0686 7.49999Z",fill:"currentColor"}))}const mU=Jn(KHt,"file");function XHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{d:"M5 2C3.34315 2 2 3.34315 2 5V8H22C22 6 21 4 19 4H12.5523C11.8711 4 11.2102 3.76816 10.6783 3.34261L9.54783 2.43826C9.1932 2.15456 8.75258 2 8.29844 2H5Z",fill:"currentColor"}),ee.createElement("path",{d:"M22 10H2V19C2 20.6569 3.34315 22 5 22H19C20.6569 22 22 20.6569 22 19V10Z",fill:"currentColor"}))}const qHt=Jn(XHt,"folder");function ZHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5C2 3.34315 3.34315 2 5 2H8.29844C8.75258 2 9.1932 2.15456 9.54783 2.43826L10.6783 3.34261C11.2102 3.76816 11.8711 4 12.5523 4H18C20 4 21 6 21 8H7.53361C6.62889 8 5.83683 8.60735 5.6021 9.48109L2.57151 20.7617C2.21202 20.2671 2 19.6583 2 19V5ZM22.1667 10H9.5C8.61111 10 7.82889 10.5867 7.58 11.44L4.87333 20.72C4.68667 21.36 5.16667 22 5.83333 22H18.5C19.3889 22 20.1711 21.4133 20.42 20.56L23.1267 11.28C23.3133 10.64 22.8333 10 22.1667 10Z",fill:"currentColor"}))}const QHt=Jn(ZHt,"folder_open");function JHt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{d:"M9 7C10.1046 7 11 6.10457 11 5C11 3.89543 10.1046 3 9 3C7.89543 3 7 3.89543 7 5C7 6.10457 7.89543 7 9 7Z",fill:"currentColor"}),ee.createElement("path",{d:"M9 14C10.1046 14 11 13.1046 11 12C11 10.8954 10.1046 10 9 10C7.89543 10 7 10.8954 7 12C7 13.1046 7.89543 14 9 14Z",fill:"currentColor"}),ee.createElement("path",{d:"M11 19C11 20.1046 10.1046 21 9 21C7.89543 21 7 20.1046 7 19C7 17.8954 7.89543 17 9 17C10.1046 17 11 17.8954 11 19Z",fill:"currentColor"}),ee.createElement("path",{d:"M15 7C16.1046 7 17 6.10457 17 5C17 3.89543 16.1046 3 15 3C13.8954 3 13 3.89543 13 5C13 6.10457 13.8954 7 15 7Z",fill:"currentColor"}),ee.createElement("path",{d:"M17 12C17 13.1046 16.1046 14 15 14C13.8954 14 13 13.1046 13 12C13 10.8954 13.8954 10 15 10C16.1046 10 17 10.8954 17 12Z",fill:"currentColor"}),ee.createElement("path",{d:"M15 21C16.1046 21 17 20.1046 17 19C17 17.8954 16.1046 17 15 17C13.8954 17 13 17.8954 13 19C13 20.1046 13.8954 21 15 21Z",fill:"currentColor"}))}const eVt=Jn(JHt,"handle");function tVt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM14 7C14 8.10457 13.1046 9 12 9C10.8954 9 10 8.10457 10 7C10 5.89543 10.8954 5 12 5C13.1046 5 14 5.89543 14 7ZM9 10.75C9 10.3358 9.33579 10 9.75 10H12.5C13.0523 10 13.5 10.4477 13.5 11V16.5H14.25C14.6642 16.5 15 16.8358 15 17.25C15 17.6642 14.6642 18 14.25 18H9.75C9.33579 18 9 17.6642 9 17.25C9 16.8358 9.33579 16.5 9.75 16.5H10.5V11.5H9.75C9.33579 11.5 9 11.1642 9 10.75Z",fill:"currentColor"}))}const iVt=Jn(tVt,"info_circle");function nVt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{d:"M7 12C7 13.3807 5.88071 14.5 4.5 14.5C3.11929 14.5 2 13.3807 2 12C2 10.6193 3.11929 9.5 4.5 9.5C5.88071 9.5 7 10.6193 7 12Z",fill:"currentColor"}),ee.createElement("path",{d:"M14.5 12C14.5 13.3807 13.3807 14.5 12 14.5C10.6193 14.5 9.5 13.3807 9.5 12C9.5 10.6193 10.6193 9.5 12 9.5C13.3807 9.5 14.5 10.6193 14.5 12Z",fill:"currentColor"}),ee.createElement("path",{d:"M19.5 14.5C20.8807 14.5 22 13.3807 22 12C22 10.6193 20.8807 9.5 19.5 9.5C18.1193 9.5 17 10.6193 17 12C17 13.3807 18.1193 14.5 19.5 14.5Z",fill:"currentColor"}))}const rVt=Jn(nVt,"more");function sVt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{d:"M20.5 13.5C21.3284 13.5 22 12.8284 22 12C22 11.1716 21.3284 10.5 20.5 10.5L13.5 10.5L13.5 3.5C13.5 2.67157 12.8284 2 12 2C11.1716 2 10.5 2.67157 10.5 3.5L10.5 10.5L3.5 10.5C2.67157 10.5 2 11.1716 2 12C2 12.8284 2.67157 13.5 3.5 13.5L10.5 13.5V20.5C10.5 21.3284 11.1716 22 12 22C12.8284 22 13.5 21.3284 13.5 20.5V13.5L20.5 13.5Z",fill:"currentColor"}))}const aVt=Jn(sVt,"plus");function oVt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("circle",{cx:12,cy:12,r:5,fill:"currentColor"}))}const lVt=Jn(oVt,"radio");function uVt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.49993 11.9998C4.49993 7.85775 7.85775 4.49993 11.9998 4.49993C14.6403 4.49993 16.9645 5.86506 18.3012 7.9305L16.2939 7.52902C15.4815 7.36656 14.6913 7.89337 14.5288 8.7057C14.3664 9.51803 14.8932 10.3083 15.7055 10.4707L20.7055 11.4707C21.4643 11.6225 22.214 11.1721 22.4363 10.4309L23.9363 5.43095C24.1744 4.63747 23.7241 3.80126 22.9307 3.56321C22.1372 3.32517 21.301 3.77543 21.0629 4.56891L20.6287 6.01635C18.7332 3.28781 15.5765 1.49998 11.9998 1.49998C6.20092 1.49998 1.49998 6.20092 1.49998 11.9998C1.49998 17.7987 6.20092 22.4997 11.9998 22.4997C16.5739 22.4997 20.4611 19.5757 21.9018 15.4996C22.1779 14.7186 21.7685 13.8616 20.9874 13.5855C20.2064 13.3095 19.3494 13.7189 19.0733 14.4999C18.0431 17.4149 15.263 19.4997 11.9998 19.4997C7.85775 19.4997 4.49993 16.1419 4.49993 11.9998Z",fill:"currentColor"}))}const cVt=Jn(uVt,"refresh");function dVt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 2C5.80558 2 2 5.80558 2 10.5C2 15.1944 5.80558 19 10.5 19C12.3054 19 13.9794 18.4371 15.356 17.4773L19.4393 21.5606C20.0251 22.1464 20.9749 22.1464 21.5606 21.5606C22.1464 20.9749 22.1464 20.0251 21.5606 19.4393L17.4773 15.356C18.4371 13.9794 19 12.3054 19 10.5C19 5.80558 15.1944 2 10.5 2ZM5 10.5C5 7.46243 7.46243 5 10.5 5C13.5376 5 16 7.46243 16 10.5C16 13.5376 13.5376 16 10.5 16C7.46243 16 5 13.5376 5 10.5Z",fill:"currentColor"}))}const aMe=Jn(dVt,"search");function hVt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{d:"M10.7525 1.90411C11.1451 0.698628 12.8549 0.698631 13.2475 1.90411L15.2395 8.01946H21.6858C22.9565 8.01946 23.4848 9.64143 22.4568 10.3865L17.2417 14.1659L19.2337 20.2813C19.6263 21.4868 18.2431 22.4892 17.2151 21.7442L12 17.9647L6.78489 21.7442C5.75687 22.4892 4.37368 21.4868 4.76635 20.2813L6.75834 14.1659L1.54323 10.3865C0.515206 9.64142 1.04354 8.01946 2.31425 8.01946H8.76048L10.7525 1.90411Z",fill:"currentColor"}))}const pVt=Jn(hVt,"star");function fVt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3516 4.2652C22.0336 4.73552 22.2052 5.66964 21.7348 6.35162L11.7348 20.8516C11.4765 21.2262 11.0622 21.4632 10.6084 21.4961C10.1546 21.529 9.71041 21.3541 9.40082 21.0207L2.90082 14.0207C2.33711 13.4136 2.37226 12.4645 2.97933 11.9008C3.5864 11.3371 4.53549 11.3723 5.0992 11.9793L10.3268 17.6091L19.2652 4.64842C19.7355 3.96644 20.6696 3.79487 21.3516 4.2652Z",fill:"currentColor"}))}const g4=Jn(fVt,"tick");function gVt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM17.8831 9.82235L11.6854 17.4112C11.4029 17.7806 10.965 17.9981 10.5 18C10.035 18.0019 9.59533 17.788 9.30982 17.421L5.81604 13.4209C5.30744 12.767 5.42524 11.8246 6.07916 11.316C6.73308 10.8074 7.67549 10.9252 8.1841 11.5791L10.4838 14.0439L15.5 8C16.0032 7.34193 16.9446 7.21641 17.6027 7.71964C18.2608 8.22287 18.3863 9.16428 17.8831 9.82235Z",fill:"currentColor"}))}const mVt=Jn(gVt,"tick_circle");function vVt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{d:"M20.5598 9.65618L12.7546 18.6322C12.3559 19.0906 11.644 19.0906 11.2453 18.6322L3.4401 9.65618C2.8773 9.00895 3.33701 8 4.19471 8L19.8052 8C20.6629 8 21.1226 9.00895 20.5598 9.65618Z",fill:"currentColor"}))}const yVt=Jn(vVt,"tree_triangle_down");function _Vt(i){return ee.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},i),ee.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8395 8.05827C17.1837 5.16226 14.5944 3 11.5 3C7.91015 3 5 5.91015 5 9.5C5 10.0204 5.06115 10.5264 5.17665 11.0114C2.84229 11.1772 1 13.1234 1 15.5C1 17.9853 3.01469 20 5.49995 20H17C20.3137 20 23 17.3137 23 14C23 10.9712 20.7558 8.46659 17.8395 8.05827ZM12.3201 8.26674C12.1347 8.11222 11.8653 8.11222 11.6799 8.26674L6.53047 12.5579C6.35084 12.7076 6.45669 13 6.69051 13H10V17.5C10 17.7761 10.2239 18 10.5 18H13.5C13.7761 18 14 17.7761 14 17.5V13H17.3095C17.5433 13 17.6492 12.7076 17.4695 12.5579L12.3201 8.26674Z",fill:"currentColor"}))}const bVt=Jn(_Vt,"upload"),SVt={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229},OZ="Enter",No=SVt;function Qd(i){return wt(i,"key")===OZ}const x8=l4.PREFIX;class MZ extends R.PureComponent{constructor(e){super(e),this.copy=t=>{const{content:n,duration:r,onCopy:s}=this.props,a=C7t(n);s&&s(t,n,a),this.setCopied(n,r)},this.setCopied=(t,n)=>{this.setState({copied:!0,item:t}),this._timeId=setTimeout(()=>{this.resetCopied()},n*1e3)},this.resetCopied=()=>{this._timeId&&(clearTimeout(this._timeId),this._timeId=null,this.setState({copied:!1,item:""}))},this.renderSuccessTip=()=>{const{successTip:t}=this.props;return typeof t<"u"?t:R.createElement(La,{componentName:"Typography"},n=>R.createElement("span",null,R.createElement(g4,null),n.copied))},this.renderCopyIcon=()=>{const{icon:t}=this.props,n={role:"button",tabIndex:0,onClick:this.copy,onKeyPress:s=>Qd(s)&&this.copy(s)},r=R.createElement("a",{className:`${x8}-action-copy-icon`},R.createElement(NHt,Object.assign({onClick:this.copy},n)));return R.isValidElement(t)?R.cloneElement(t,n):r},this.state={copied:!1,item:""}}componentWillUnmount(){this._timeId&&(clearTimeout(this._timeId),this._timeId=null)}render(){const{style:e,className:t,forwardRef:n,copyTip:r}=this.props,{copied:s}=this.state,a=he(t,{[`${x8}-action-copy`]:!s,[`${x8}-action-copied`]:s});return R.createElement(La,{componentName:"Typography"},o=>R.createElement("span",{style:Object.assign({marginLeft:"4px"},e),className:a,ref:n},s?this.renderSuccessTip():R.createElement(Ho,{content:typeof r<"u"?r:o.copy},this.renderCopyIcon())))}}MZ.propTypes={content:w.string,onCopy:w.func,successTip:w.node,copyTip:w.node,duration:w.number,style:w.object,className:w.string,icon:w.node};MZ.defaultProps={content:"",onCopy:Nr,duration:3,style:{},className:""};const oMe={PREFIX:`${Ze}-popover`,ARROW:`${Ze}-popover-icon-arrow`},C_={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_ARROW_STYLE:{borderOpacity:"1",backgroundColor:"var(--semi-color-bg-3)",borderColor:"var(--semi-color-border)"}},Uc={ARROW_BOUNDING:Object.assign(Object.assign({},Py.ARROW_BOUNDING),{offsetY:6,offsetX:0,height:8}),SPACING:4,SPACING_WITH_ARROW:10,DEFAULT_Z_INDEX:1030};var xVt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const lMe=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{position:e="",className:t,arrowStyle:n,popStyle:r}=i,s=xVt(i,["position","className","arrowStyle","popStyle"]),a=e.indexOf("top")===0||e.indexOf("bottom")===0,o=he(t,oMe.ARROW),l=wt(n,"borderOpacity",C_.DEFAULT_ARROW_STYLE.borderOpacity),u=wt(n,"backgroundColor",wt(r,"backgroundColor",C_.DEFAULT_ARROW_STYLE.backgroundColor)),c=wt(n,"borderColor",wt(r,"borderColor",C_.DEFAULT_ARROW_STYLE.borderColor)),d=Object.assign(Object.assign({},s),{width:Uc.ARROW_BOUNDING.width,height:Uc.ARROW_BOUNDING.height,xmlns:"http://www.w3.org/2000/svg",className:o});return a?R.createElement("svg",Object.assign({},d),R.createElement("path",{d:"M0 0.5L0 1.5C4 1.5, 5.5 3, 7.5 5S10,8 12,8S14.5 7, 16.5 5S20,1.5 24,1.5L24 0.5L0 0.5z",fill:c,opacity:l}),R.createElement("path",{d:"M0 0L0 1C4 1, 5.5 2, 7.5 4S10,7 12,7S14.5  6, 16.5 4S20,1 24,1L24 0L0 0z",fill:u})):R.createElement("svg",Object.assign({},d),R.createElement("path",{d:"M0.5 0L1.5 0C1.5 4, 3 5.5, 5 7.5S8,10 8,12S7 14.5, 5 16.5S1.5,20 1.5,24L0.5 24L0.5 0z",fill:c,opacity:l}),R.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z",fill:u}))};lMe.propTypes={position:w.string,className:w.string,arrowStyle:w.object,popStyle:w.object};var wVt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const CVt=C_.POSITION_SET,kVt=C_.TRIGGER_SET;class qo extends R.PureComponent{constructor(e){super(e),this.focusTrigger=()=>{var t;(t=this.tooltipRef.current)===null||t===void 0||t.focusTrigger()},this.renderPopCard=t=>{let{initialFocusRef:n}=t;const{content:r,contentClassName:s,prefixCls:a}=this.props,{direction:o}=this.context,l=he(a,s,{[`${a}-rtl`]:o==="rtl"}),u=this.renderContentNode({initialFocusRef:n,content:r});return R.createElement("div",{className:l},R.createElement("div",{className:`${a}-content`},u))},this.renderContentNode=t=>{const{initialFocusRef:n,content:r}=t,s={initialFocusRef:n};return sn(r)?r(s):r},this.tooltipRef=R.createRef()}render(){const e=this.props,{children:t,prefixCls:n,showArrow:r,arrowStyle:s={},arrowBounding:a,position:o,style:l,trigger:u}=e,c=wVt(e,["children","prefixCls","showArrow","arrowStyle","arrowBounding","position","style","trigger"]);let{spacing:d}=this.props;const h={position:o,className:"",popStyle:l,arrowStyle:s},p=r?R.createElement(lMe,Object.assign({},h)):!1;xr(d)&&(d=r?Uc.SPACING_WITH_ARROW:Uc.SPACING);const f=u==="click"||u==="custom"?"dialog":"tooltip";return R.createElement(Ho,Object.assign({guardFocus:!0,ref:this.tooltipRef},c,{trigger:u,position:o,style:l,content:this.renderPopCard,prefixCls:n,spacing:d,showArrow:p,arrowBounding:a,role:f}),t)}}qo.contextType=ic;qo.propTypes={children:w.node,content:w.oneOfType([w.node,w.func]),visible:w.bool,autoAdjustOverflow:w.bool,motion:w.bool,position:w.oneOf(CVt),margin:w.oneOfType([w.number,w.object]),mouseEnterDelay:w.number,mouseLeaveDelay:w.number,trigger:w.oneOf(kVt).isRequired,contentClassName:w.oneOfType([w.string,w.array]),onVisibleChange:w.func,onClickOutSide:w.func,style:w.object,spacing:w.oneOfType([w.number,w.object]),zIndex:w.number,showArrow:w.bool,arrowStyle:w.shape({borderColor:w.string,backgroundColor:w.string,borderOpacity:w.oneOfType([w.string,w.number])}),arrowPointAtCenter:w.bool,arrowBounding:w.object,prefixCls:w.string,guardFocus:w.bool,disableArrowKeyDown:w.bool};qo.__SemiComponentName__="Popover";qo.defaultProps=oh(qo.__SemiComponentName__,{arrowBounding:Uc.ARROW_BOUNDING,showArrow:!1,autoAdjustOverflow:!0,zIndex:Uc.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",cancelText:"No",okText:"Yes",position:"bottom",prefixCls:oMe.PREFIX,onClickOutSide:Te,onEscKeyDown:Te,closeOnEsc:!0,returnFocusOnClose:!0,guardFocus:!0,disableFocusListener:!0});let ia;function w8(i){if(!i)return 0;const e=i.match(/^\d*(\.\d*)?/);return e?Number(e[0]):0}function EVt(i){return Array.prototype.slice.apply(i).map(t=>`${t}: ${i.getPropertyValue(t)};`).join("")}const AVt=function(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;if(t.length===0)return"";ia||(ia=document.createElement("div"),ia.setAttribute("aria-hidden","true"),document.body.appendChild(ia));const o=window.getComputedStyle(i),l=EVt(o),u=w8(o.lineHeight),c=Math.round(u*(e+1)+w8(o.paddingTop)+w8(o.paddingBottom));ia.setAttribute("style",l),ia.style.position="fixed",ia.style.left="0",ia.style.height="auto",ia.style.top="-999999px",ia.style.zIndex="-1000",ia.style.textOverflow="clip",ia.style.webkitLineClamp="none",$c.render(R.createElement(R.Fragment,null),ia);function d(){const b=ia.scrollWidth<=ia.offsetWidth,_=ia.scrollHeight<c;return e===1?b&&_:_}const h=document.createElement("span"),p=document.createTextNode(t);if(h.appendChild(p),s.length>0){const b=document.createTextNode(s);h.appendChild(b)}ia.appendChild(h),Object.values(F0(n,"expand")).map(b=>b&&ia.appendChild(b.cloneNode(!0)));function f(){ia.innerHTML="",ia.appendChild(h),Object.values(n).map(b=>b&&ia.appendChild(b.cloneNode(!0)))}function g(b,_){const S=b.length;return _?a==="end"?b.slice(0,_)+r:b.slice(0,_)+r+b.slice(S-_,S):r}function v(b,_){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_.length,k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;const E=Math.floor((S+C)/2),A=g(_,E);if(b.textContent=A,S>=C-1&&C>0)for(let P=C;P>=S;P-=1){const O=g(_,P);if(b.textContent=O,d())return O}else if(C===0)return r;return d()?v(b,_,E,C,E):v(b,_,S,E,k)}let m=t;return d()||(f(),m=v(p,t,0,a==="middle"?Math.floor(t.length/2):t.length)),ia.innerHTML="",m};var n6;(function(i){i.Width="width",i.Height="height",i.All="all"})(n6||(n6={}));class o0 extends ln{constructor(e){var t;super(e),t=this,this.formerPropertyValue=new Map,this.getElement=()=>{try{return Mc.findDOMNode(this.childNode||this)}catch{return null}},this.handleResizeEventTriggered=n=>{var r,s,a,o;if(this.props.observerProperty===n6.All)(s=(r=this.props).onResize)===null||s===void 0||s.call(r,n);else{const l=[];for(const u of n)this.formerPropertyValue.has(u.target)?u.contentRect[this.props.observerProperty]!==this.formerPropertyValue.get(u.target)&&(this.formerPropertyValue.set(u.target,u.contentRect[this.props.observerProperty]),l.push(u)):(this.formerPropertyValue.set(u.target,u.contentRect[this.props.observerProperty]),l.push(u));l.length>0&&((o=(a=this.props).onResize)===null||o===void 0||o.call(a,l))}},this.observeElement=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const r=t.getElement();if(t.observer||(t.observer=new ResizeObserver(t.handleResizeEventTriggered)),!(r&&r instanceof Element)){t.observer.disconnect();return}r===t.element&&!n||(t.observer.disconnect(),t.element=r,t.observer.observe(r),t.props.observeParent&&r.parentNode&&r.parentNode.ownerDocument&&r.parentNode.ownerDocument.defaultView&&r.parentNode instanceof r.parentNode.ownerDocument.defaultView.HTMLElement&&(t._parentNode=r.parentNode,t.observer.observe(t._parentNode)))},this.mergeRef=(n,r)=>{this.childNode=r,typeof n=="function"?n(r):typeof n=="object"&&n&&"current"in n&&(n.current=r)},globalThis.ResizeObserver&&(this.observer=new ResizeObserver(this.handleResizeEventTriggered))}componentDidMount(){var e;(e=this.observeElement)===null||e===void 0||e.call(this)}componentDidUpdate(e){var t;(t=this.observeElement)===null||t===void 0||t.call(this,this.props.observeParent!==e.observeParent)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null,this.element=null)}render(){const e=R.Children.only(this.props.children),{ref:t}=e;return R.cloneElement(e,{ref:n=>this.mergeRef(t,n)})}}o0.propTypes={onResize:w.func,observeParent:w.bool,observerProperty:w.string,delayTick:w.number};o0.defaultProps={onResize:()=>{},observeParent:!1,observerProperty:"all",delayTick:0};var C8=function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?s(c.value):r(c.value).then(o,l)}u((n=n.apply(i,e||[])).next())})},TVt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const fo=l4.PREFIX,PVt="...",OVt=(i,e)=>{const{mark:t,code:n,underline:r,strong:s,link:a,disabled:o}=i;let l=e;const u=(c,d)=>{let h={};c&&(typeof c=="object"&&(h=Object.assign({},c)),l=R.createElement(d,h,l))};return u(t,"mark"),u(n,"code"),u(r&&!a,"u"),u(s,"strong"),u(i.delete,"del"),u(a,o?"span":"a"),l};class cC extends ee.Component{constructor(e){super(e),this.observerTakingEffect=!1,this.onResize=t=>C8(this,void 0,void 0,function*(){return this.rafId&&window.cancelAnimationFrame(this.rafId),new Promise(n=>{this.rafId=window.requestAnimationFrame(()=>C8(this,void 0,void 0,function*(){yield this.getEllipsisState(),n()}))})}),this.canUseCSSEllipsis=()=>{const{copyable:t}=this.props,{expandable:n,expandText:r,pos:s,suffix:a}=this.getEllipsisOpt();return!n&&Or(r)&&!t&&s==="end"&&!a.length},this.shouldTruncated=t=>!t||t<1?!1:t<=1?this.compareSingleRow():this.wrapperRef.current.scrollHeight>this.wrapperRef.current.offsetHeight,this.compareSingleRow=()=>{if(!(document&&document.createRange))return!1;const t=this.wrapperRef.current,n=t.getBoundingClientRect().width,r=Array.from(t.childNodes),s=document.createRange(),a=r.reduce((o,l)=>{var u;return s.selectNodeContents(l),o+((u=s.getBoundingClientRect().width)!==null&&u!==void 0?u:0)},0);return s.detach(),a>n},this.showTooltip=()=>{var t,n;const{isOverflowed:r,isTruncated:s,expanded:a}=this.state,{showTooltip:o,expandable:l,expandText:u}=this.getEllipsisOpt(),c=this.canUseCSSEllipsis(),d=!a&&(c?r:s),p=!l&&Or(u)&&d&&o;if(!p)return p;const f={type:"tooltip"};return typeof o=="object"?o.type&&o.type.toLowerCase()==="popover"?eBt({opts:{showArrow:!0}},o,{opts:{className:he({[`${fo}-ellipsis-popover`]:!0,[(t=o==null?void 0:o.opts)===null||t===void 0?void 0:t.className]:!!(!((n=o==null?void 0:o.opts)===null||n===void 0)&&n.className)})}}):Object.assign(Object.assign({},f),o):f},this.onHover=()=>{if(this.canUseCSSEllipsis()){const{rows:n,suffix:r,pos:s}=this.getEllipsisOpt(),a=this.shouldTruncated(n);this.setState({isOverflowed:a,isTruncated:!1});return}},this.getEllipsisState=()=>C8(this,void 0,void 0,function*(){const{rows:t,suffix:n,pos:r}=this.getEllipsisOpt(),{children:s}=this.props;if(!this.wrapperRef||!this.wrapperRef.current){yield this.onResize();return}const{expanded:a}=this.state;if(this.canUseCSSEllipsis())return;if(rb(s))return new Promise(d=>{this.setState({isTruncated:!1,isOverflowed:!1},d)});if(vs("children"in this.props&&typeof s!="string","[Semi Typography] Only children with pure text could be used with ellipsis at this moment."),!t||t<0||a)return;const l={expand:this.expandRef.current,copy:this.copyRef&&this.copyRef.current},u=Array.isArray(s)?s.join(""):String(s),c=AVt(this.wrapperRef.current,t,u,l,PVt,n,r);return new Promise(d=>{this.setState({isOverflowed:!1,ellipsisContent:c,isTruncated:u!==c},d)})}),this.toggleOverflow=t=>{const{onExpand:n,expandable:r,collapsible:s}=this.getEllipsisOpt(),{expanded:a}=this.state;n&&n(!a,t),(r&&!a||s&&a)&&this.setState({expanded:!a})},this.getEllipsisOpt=()=>{const{ellipsis:t}=this.props;return t?Object.assign({rows:1,expandable:!1,pos:"end",suffix:"",showTooltip:!1,collapsible:!1,expandText:t.expandable?this.expandStr:void 0,collapseText:t.collapsible?this.collapseStr:void 0},typeof t=="object"?t:null):{}},this.renderExpandable=()=>{const{expanded:t,isTruncated:n}=this.state;if(!n)return null;const{expandText:r,expandable:s,collapseText:a,collapsible:o}=this.getEllipsisOpt(),l=!s&&Or(r),u=!o&&Or(a);let c;return!t&&!l?c=r:t&&!u&&(c=a),!l||!u?R.createElement("a",{role:"button",tabIndex:0,className:`${fo}-ellipsis-expand`,key:"expand",ref:this.expandRef,"aria-label":c,onClick:this.toggleOverflow,onKeyPress:d=>Qd(d)&&this.toggleOverflow(d)},c):null},this.getEllipsisStyle=()=>{const{ellipsis:t,component:n}=this.props;if(!t)return{ellipsisCls:"",ellipsisStyle:{}};const{rows:r}=this.getEllipsisOpt(),{expanded:s}=this.state,a=!s&&this.canUseCSSEllipsis(),o=he({[`${fo}-ellipsis`]:!0,[`${fo}-ellipsis-single-line`]:r===1,[`${fo}-ellipsis-multiple-line`]:r>1,[`${fo}-ellipsis-multiple-line-text`]:r>1&&n==="span",[`${fo}-ellipsis-overflow-ellipsis`]:r===1&&a,[`${fo}-ellipsis-overflow-ellipsis-text`]:r===1&&a&&n==="span"}),l=a&&r>1?{WebkitLineClamp:r}:{};return{ellipsisCls:o,ellipsisStyle:l}},this.renderEllipsisText=t=>{const{suffix:n}=t,{children:r}=this.props,{isTruncated:s,expanded:a,ellipsisContent:o}=this.state;return a||!s?R.createElement("span",{onMouseEnter:this.onHover},r,n&&n.length?n:null):R.createElement("span",{onMouseEnter:this.onHover},o,n)},this.state={editable:!1,copied:!1,isOverflowed:!1,ellipsisContent:e.children,expanded:!1,isTruncated:!1,prevChildren:null},this.wrapperRef=R.createRef(),this.expandRef=R.createRef(),this.copyRef=R.createRef()}componentDidMount(){this.props.ellipsis&&this.onResize().then(()=>_Z(()=>this.observerTakingEffect=!0,1))}static getDerivedStateFromProps(e,t){const{prevChildren:n}=t,r={};return r.prevChildren=e.children,e.ellipsis&&n!==e.children&&(r.isOverflowed=!1,r.ellipsisContent=e.children,r.expanded=!1,r.isTruncated=!0),r}componentDidUpdate(e){this.props.children!==e.children&&(this.forceUpdate(),this.props.ellipsis&&this.onResize())}componentWillUnmount(){this.rafId&&window.cancelAnimationFrame(this.rafId)}renderOperations(){return R.createElement(R.Fragment,null,this.renderExpandable(),this.renderCopy())}renderCopy(){var e;const{copyable:t,children:n}=this.props;if(!t)return null;const r=(e=t==null?void 0:t.content)!==null&&e!==void 0?e:n;let s,a=!1;Array.isArray(r)?(s="",r.forEach(l=>{typeof l=="object"&&(a=!0),s+=String(l)})):(typeof r!="object"||(a=!0),s=String(r)),vs(a,"Content to be copied in Typography is a object, it will case a [object Object] mistake when copy to clipboard.");const o=Object.assign({content:s,duration:3},typeof t=="object"?t:null);return R.createElement(MZ,Object.assign({},o,{forwardRef:this.copyRef}))}renderIcon(){const{icon:e,size:t}=this.props;if(!e)return null;const n=t==="small"?"small":"default";return R.createElement("span",{className:`${fo}-icon`,"x-semi-prop":"icon"},Zl(e)?R.cloneElement(e,{size:n}):e)}renderContent(){const e=this.props,{component:t,children:n,className:r,type:s,spacing:a,disabled:o,style:l,ellipsis:u,icon:c,size:d,link:h,heading:p,weight:f}=e,g=TVt(e,["component","children","className","type","spacing","disabled","style","ellipsis","icon","size","link","heading","weight"]),v=F0(g,["strong","editable","mark","copyable","underline","code","delete"]),m=this.renderIcon(),b=this.getEllipsisOpt(),{ellipsisCls:_,ellipsisStyle:S}=this.getEllipsisStyle();let C=u?this.renderEllipsisText(b):n;const k=he({[`${fo}-link-text`]:h,[`${fo}-link-underline`]:this.props.underline&&h});C=OVt(this.props,R.createElement(R.Fragment,null,m,this.props.link?R.createElement("span",{className:k},C):C));const E=/^h[1-6]$/,A=en(p)&&E.test(p),P=he(r,_,{[`${fo}-${s}`]:s&&!h,[`${fo}-${d}`]:d,[`${fo}-link`]:h,[`${fo}-disabled`]:o,[`${fo}-${a}`]:a,[`${fo}-${p}`]:A,[`${fo}-${p}-weight-${f}`]:A&&f&&isNaN(Number(f))}),O=Object.assign(Object.assign({},isNaN(Number(f))?{}:{fontWeight:f}),l);return R.createElement(u4,Object.assign({className:P,style:Object.assign(Object.assign({},O),S),component:t,forwardRef:this.wrapperRef},v),C,this.renderOperations())}renderTipWrapper(){const{children:e}=this.props,t=this.showTooltip(),n=this.renderContent();if(t){const{type:r,opts:s,renderTooltip:a}=t;return sn(a)?a(e,n):r.toLowerCase()==="popover"?R.createElement(qo,Object.assign({content:e,position:"top"},s),n):R.createElement(Ho,Object.assign({content:e,position:"top"},s),n)}else return n}render(){var e=this;const t=R.createElement(La,{componentName:"Typography"},n=>(this.expandStr=n.expand,this.collapseStr=n.collapse,this.renderTipWrapper()));return this.props.ellipsis?R.createElement(o0,{onResize:function(){e.observerTakingEffect&&e.onResize(...arguments)},observeParent:!0,observerProperty:n6.Width},t):t}}cC.propTypes={children:w.node,copyable:w.oneOfType([w.shape({text:w.string,onCopy:w.func,successTip:w.node,copyTip:w.node}),w.bool]),delete:w.bool,disabled:w.bool,ellipsis:w.oneOfType([w.shape({rows:w.number,expandable:w.bool,expandText:w.string,onExpand:w.func,suffix:w.string,showTooltip:w.oneOfType([w.shape({type:w.string,opts:w.object}),w.bool]),collapsible:w.bool,collapseText:w.string,pos:w.oneOf(["end","middle"])}),w.bool]),mark:w.bool,underline:w.bool,link:w.oneOfType([w.object,w.bool]),spacing:w.oneOf(Pl.SPACING),strong:w.bool,size:w.oneOf(Pl.SIZE),type:w.oneOf(Pl.TYPE),style:w.object,className:w.string,icon:w.oneOfType([w.node,w.string]),heading:w.string,component:w.string};cC.defaultProps={children:null,copyable:!1,delete:!1,disabled:!1,ellipsis:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",spacing:"normal",size:"normal",style:{},className:""};let IP=class extends ee.PureComponent{render(){return R.createElement(cC,Object.assign({component:"span"},this.props))}};IP.propTypes={copyable:w.oneOfType([w.object,w.bool]),delete:w.bool,disabled:w.bool,icon:w.oneOfType([w.node,w.string]),ellipsis:w.oneOfType([w.object,w.bool]),mark:w.bool,underline:w.bool,link:w.oneOfType([w.object,w.bool]),strong:w.bool,type:w.oneOf(Pl.TYPE),size:w.oneOf(Pl.SIZE),style:w.object,className:w.string,code:w.bool,component:w.string};IP.defaultProps={copyable:!1,delete:!1,disabled:!1,icon:"",ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};var MVt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};let IZ=class extends ee.PureComponent{render(){const e=this.props,{heading:t}=e,n=MVt(e,["heading"]),r=Pl.HEADING.indexOf(t)!==-1?`h${t}`:"h1";return R.createElement(cC,Object.assign({component:r,heading:r},n))}};IZ.propTypes={copyable:w.oneOfType([w.object,w.bool]),delete:w.bool,disabled:w.bool,ellipsis:w.oneOfType([w.object,w.bool]),mark:w.bool,link:w.oneOfType([w.object,w.bool]),underline:w.bool,strong:w.bool,type:w.oneOf(Pl.TYPE),heading:w.oneOf(Pl.HEADING),style:w.object,className:w.string,component:w.string,weight:w.oneOfType([w.oneOf(Pl.WEIGHT),w.number])};IZ.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",heading:1,style:{},className:""};const IVt=l4.PREFIX;let m4=class extends ee.PureComponent{render(){const{className:e}=this.props,t=he(e,`${IVt}-paragraph`);return R.createElement(cC,Object.assign({component:"p"},this.props,{className:t}))}};m4.propTypes={copyable:w.oneOfType([w.object,w.bool]),delete:w.bool,disabled:w.bool,ellipsis:w.oneOfType([w.object,w.bool]),mark:w.bool,link:w.oneOfType([w.object,w.bool]),underline:w.bool,strong:w.bool,type:w.oneOf(Pl.TYPE),size:w.oneOf(Pl.SIZE),spacing:w.oneOf(Pl.SPACING),style:w.object,className:w.string,component:w.string};m4.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",size:"normal",spacing:"normal",style:{},className:""};class RVt{constructor(e,t,n,r,s){this.ruleMethods={"bytes-decimal":a=>{const o=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];let l=0;for(;a>=1e3;)a/=1e3,l++;return`${this.truncatePrecision(a)} ${o[l]}`},"bytes-binary":a=>{const o=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let l=0;for(;a>=1024;)a/=1024,l++;return`${this.truncatePrecision(a)} ${o[l]}`},percentages:a=>`${this.truncatePrecision(a*100)}%`,exponential:a=>{const l=a.toExponential(this.precision+2).split("e");return`${this.truncatePrecision(Number(l[0]))}e${l[1]}`}},this.truncateMethods={ceil:Math.ceil,floor:Math.floor,round:Math.round},this.isDiyParser=typeof s<"u",this.content=e,this.rule=t,this.precision=n,this.truncate=r,this.parser=s}format(){return this.isDiyParser?this.parser(this.content):this.rule==="text"?k8(this.content).map(e=>E8(e)?this.truncatePrecision(e):e).join(""):this.rule==="numbers"?k8(this.content).filter(e=>E8(e)).map(e=>this.truncatePrecision(e)).join(","):k8(this.content).map(e=>E8(e)?this.ruleMethods[this.rule](Number(e)):e).join("")}truncatePrecision(e){const t=this.truncateMethods[this.truncate](Number(e)*Math.pow(10,this.precision))/Math.pow(10,this.precision),n=t.toString().split(".");if(n.length===1)return t.toFixed(this.precision);const r=n[1].length;return r<this.precision?`${n[0]}.${n[1]}${"0".repeat(this.precision-r)}`:t.toString()}}function k8(i){const e=/(-?[0-9]*\.?[0-9]+([eE]-?[0-9]+)?)|([^-\d\.]+)/g;return i.match(e)||[]}function E8(i){return!(isNaN(Number(i))||i.replace(/\s+/g,"")==="")}class RZ extends ee.PureComponent{formatNodeDFS(e){return Array.isArray(e)||(e=[e]),e=e.map(t=>typeof t=="string"||typeof t=="number"?new RVt(String(t),this.props.rule,this.props.precision,this.props.truncate,this.props.parser).format():typeof t=="function"?this.formatNodeDFS(t()):typeof t=="object"&&"children"in t.props?Object.assign(Object.assign({},t),{props:Object.assign(Object.assign({},t.props),{children:this.formatNodeDFS(t.props.children)})}):t),e.length===1?e[0]:e}render(){const e=Object.assign({},this.props);return delete e.rule,delete e.parser,e.children=this.formatNodeDFS(this.props.children),R.createElement(cC,Object.assign({component:"span"},e))}}RZ.propTypes={rule:w.oneOf(Pl.RULE),precision:w.number,truncate:w.oneOf(Pl.TRUNCATE),parser:w.func,copyable:w.oneOfType([w.object,w.bool]),delete:w.bool,disabled:w.bool,icon:w.oneOfType([w.node,w.string]),mark:w.bool,underline:w.bool,link:w.oneOfType([w.object,w.bool]),strong:w.bool,type:w.oneOf(Pl.TYPE),size:w.oneOf(Pl.SIZE),style:w.object,className:w.string,code:w.bool,component:w.string};RZ.defaultProps={rule:"text",precision:0,truncate:"round",parser:void 0,copyable:!1,delete:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};const dC=u4;dC.Text=IP;dC.Title=IZ;dC.Paragraph=m4;dC.Numeral=RZ;const uMe={PREFIX:`${Ze}-autocomplete`,PREFIX_OPTION:`${Ze}-autoComplete-option`,PREFIX_GROUP:`${Ze}-autoComplete-group`},DZ={SIZE:["small","large","default"],POSITION:w_.POSITION_SET,OPTIONS:["children","value"],STATUS:sC};var DVt=gp,LVt=tc,FVt="[object Number]";function BVt(i){return typeof i=="number"||LVt(i)&&DVt(i)==FVt}var cMe=BVt;const Gs=Li(cMe);class $Vt extends _n{constructor(e){super(Object.assign({},e)),this.isPanelOpen=!1}init(){this._setDropdownWidth();const{defaultOpen:e,data:t,defaultValue:n,value:r}=this.getProps();if(t&&t.length){const a=this._generateList(t);this._adapter.updateOptionList(a)}e&&this.openDropdown();let s;typeof n<"u"&&(s=n),typeof r<"u"&&(s=r),typeof s<"u"&&this.handleValueChange(s)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let n;t&&(e&&Gs(e.width)||e&&en(e.width)&&!e.width.includes("%")?n=e.width:n=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(n))}handleInputClick(e){this.getStates();const{disabled:t}=this.getProps();t||(this.isPanelOpen?this.closeDropdown():this.openDropdown())}openDropdown(){this.isPanelOpen=!0,this._adapter.toggleListVisible(!0),this._setDropdownWidth(),this._adapter.registerClickOutsideHandler(e=>this.closeDropdown(e)),this._adapter.notifyDropdownVisibleChange(!0),this._modifyFocusIndexOnPanelOpen()}closeDropdown(e){this.isPanelOpen=!1,this._adapter.toggleListVisible(!1),this._adapter.unregisterClickOutsideHandler(),this._adapter.notifyDropdownVisibleChange(!1)}_generateList(e){const{renderItem:t}=this.getProps(),n=[];return e&&e.length&&e.forEach((r,s)=>{const a=String(new Date().getTime())+s;let o={};en(r)||Gs(r)?o={value:r,key:a,label:r,show:!0}:tm(r)&&!Or(r.value)&&(o=Object.assign({show:!0},r)),t&&typeof t=="function"&&(o.label=t(r)),n.push(o)}),n}handleSearch(e){this._adapter.updateInputValue(e),this._adapter.notifySearch(e),this._adapter.notifyChange(e),this._modifyFocusIndex(e),this.isPanelOpen||this.openDropdown()}handleSelect(e,t){const{renderSelectedItem:n}=this.getProps();let r="";n&&typeof n=="function"?(r=n(e),vs(typeof r!="string","Warning: [Semi AutoComplete] renderSelectedItem must return string, please check your function return")):r=e.value,this._isControlledComponent()?(this.closeDropdown(),this.notifySelect(e)):(this._adapter.updateInputValue(r),this.updateSelection(e),this.notifySelect(e),this.closeDropdown()),this._adapter.notifyChange(r),this._adapter.updateFocusIndex(t)}updateSelection(e){const t=new Map;e&&t.set(e.label,e),this._adapter.updateSelection(t)}notifySelect(e){this._backwardLabelInValue()?this._adapter.notifySelect(e):this._adapter.notifySelect(e.value)}_backwardLabelInValue(){const e=this.getProps();let{onSelectWithObject:t}=e;return t}handleDataChange(e){const t=this._generateList(e);this._adapter.updateOptionList(t),this._adapter.rePositionDropdown()}handleValueChange(e){let{data:t,defaultActiveFirstOption:n}=this.getProps(),r="";this._backwardLabelInValue()&&Object.prototype.toString.call(e)==="[object Object]"?r=e.value:r=e;let s=this._getRenderSelectedItem();const a=this._generateList(t);let o=a.length?a.filter(d=>s(d)===r):[];const l=o.length,u=a.findIndex(d=>s(d)===r);let c="";if(l)o=o[0],c=s(o);else{const d=this._backwardLabelInValue()?e:{label:r,value:r};c=s(d)}this._adapter.updateInputValue(c),this.updateSelection(l?o:null),u===-1&&n?this._adapter.updateFocusIndex(0):this._adapter.updateFocusIndex(u)}_modifyFocusIndex(e){let{focusIndex:t}=this.getStates(),{data:n,defaultActiveFirstOption:r}=this.getProps(),s=-1;if(e){let a=this._getRenderSelectedItem();s=this._generateList(n).findIndex(l=>a(l)===e)}s===-1&&r?t!==0&&this._adapter.updateFocusIndex(0):s!==t&&this._adapter.updateFocusIndex(s)}_modifyFocusIndexOnPanelOpen(){let{inputValue:e}=this.getStates();this._modifyFocusIndex(e)}_getRenderSelectedItem(){let{renderSelectedItem:e}=this.getProps();return typeof e>"u"&&(e=t=>t==null?void 0:t.value),e}handleClear(){this._adapter.notifyClear()}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}_handleKeyDown(e){const t=e.keyCode;switch(this.getStates(),t){case No.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case No.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case No.ENTER:e.preventDefault(),this._handleEnterKeyDown();break;case No.ESC:this.closeDropdown();break;case No.TAB:this.closeDropdown();break}this._adapter.notifyKeyDown(e)}_getEnableFocusIndex(e){const{focusIndex:t,options:n}=this.getStates(),r=n.filter(o=>o.show),s=r.length;let a=t+e;if(a<0&&(a=s-1),a>=s&&(a=0),e>0){let o=-1;for(let l=0;l<r.length&&(!r[l].disabled&&(o=l),!(o>=a));l++);a=o}else{let o=r.length;for(let l=s-1;l>=0&&(!r[l].disabled&&(o=l),!(o<=a));l--);a=o}this._adapter.updateFocusIndex(a)}_handleArrowKeyDown(e){const{visible:t}=this.getStates();t?this._getEnableFocusIndex(e):this.openDropdown()}_handleEnterKeyDown(){const{visible:e,options:t,focusIndex:n}=this.getStates();if(!e)this.openDropdown();else if(n!==void 0&&n!==-1&&t.length!==0){const s=t.filter(a=>a.show)[n];this.handleSelect(s,n)}else this.closeDropdown()}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleFocus(e){this.bindKeyBoardEvent(),this._adapter.notifyFocus(e)}handleBlur(e){this._persistEvent(e),this._adapter.notifyBlur(e)}}const NVt=`${Ze}-spin`,jVt={PREFIX:NVt},zVt={SIZE:["small","middle","large"]};class LZ extends _n{static get spinDefaultAdapter(){return{getProp:()=>{},setLoading:e=>{}}}constructor(e){super(Object.assign(Object.assign({},LZ.spinDefaultAdapter),e))}updateLoadingIfNeedDelay(){const{spinning:e,delay:t}=this._adapter.getProps(),{delay:n}=this._adapter.getStates();if(n){const r=this;this._timer=setTimeout(()=>{r._adapter.setState({loading:e,delay:0})},t)}}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}}var HVt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};let Afe=-1;function dMe(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:e,className:t}=i,n=HVt(i,["id","className"]);let r=e;xr(r)&&(Afe++,r=Afe);const s=`linearGradient-${r}`;return R.createElement("svg",Object.assign({},n,{className:t,width:"48",height:"48",viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,"data-icon":"spin"}),R.createElement("defs",null,R.createElement("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:s},R.createElement("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),R.createElement("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),R.createElement("stop",{stopColor:"currentColor",offset:"100%"}))),R.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},R.createElement("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),R.createElement("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:`url(#${s})`,strokeWidth:"4",strokeLinecap:"round"})))}var VVt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const gy=jVt.PREFIX;class nm extends ln{constructor(e){super(e),this.foundation=new LZ(this.adapter),this.state={delay:e.delay,loading:!0}}static getDerivedStateFromProps(e){return e.delay?e.spinning===!1?{delay:0,loading:!1}:{delay:e.delay}:{loading:e.spinning}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setLoading:e=>{this.setState({loading:e})}})}componentWillUnmount(){this.foundation.destroy()}renderSpin(){const{indicator:e,tip:t}=this.props,{loading:n}=this.state;return n?R.createElement("div",{className:`${gy}-wrapper`},e?R.createElement("div",{className:`${gy}-animate`,"x-semi-prop":"indicator"},e):R.createElement(dMe,null),t?R.createElement("div",{"x-semi-prop":"tip"},t):null):null}render(){this.foundation.updateLoadingIfNeedDelay();const e=this.props,{children:t,style:n,wrapperClassName:r,childStyle:s,size:a}=e,o=VVt(e,["children","style","wrapperClassName","childStyle","size"]),{loading:l}=this.state,u=he(gy,r,{[`${gy}-${a}`]:a,[`${gy}-block`]:t,[`${gy}-hidden`]:!l});return R.createElement("div",Object.assign({className:u,style:n},this.getDataAttr(o)),this.renderSpin(),R.createElement("div",{className:`${gy}-children`,style:s,"x-semi-prop":"children"},t))}}nm.propTypes={size:w.oneOf(zVt.SIZE),spinning:w.bool,children:w.node,indicator:w.node,delay:w.number,tip:w.node,wrapperClassName:w.string,childStyle:w.object,style:w.object};nm.defaultProps={size:"middle",spinning:!0,children:null,indicator:null,delay:0};const v4={PREFIX:`${Ze}-input`},B0={SIZE:["small","large","default"],DEFAULT_SIZE:"default",STATUS:["default","error","warning","success"],CLEARBTN_CLICKED_EVENT_FLAG:"__fromClearBtn",MODE:["password"]},WVt={};let UVt=class hMe extends _n{static get inputDefaultAdapter(){return{notifyChange:Te,setValue:Te}}constructor(e){super(Object.assign(Object.assign({},hMe.inputDefaultAdapter),e))}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}setDisable(){}setValue(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:n,minLength:r,getValueLength:s}=this._adapter.getProps();let a=e;n&&sn(s)&&(a=this.handleVisibleMaxLength(e)),r&&sn(s)&&this.handleVisibleMinLength(a),this._isControlledComponent()?this._adapter.notifyChange(a,t):(this._adapter.setValue(a),this._adapter.notifyChange(a,t))}handleVisibleMinLength(e){const{minLength:t,getValueLength:n}=this._adapter.getProps(),{minLength:r}=this._adapter.getStates();if(Gs(t)&&t>=0&&sn(n)&&en(e)){const s=n(e);if(s<t){const a=e.length+(t-s);a!==r&&this._adapter.setMinLength(a)}else r!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:n}=this._adapter.getProps();if(Gs(t)&&t>=0&&sn(n)&&en(e))return n(e)>t?(console.warn("[Semi Input] The input character is truncated because the input length exceeds the maximum length limit"),this.handleTruncateValue(e,t)):e}handleTruncateValue(e,t){const{getValueLength:n}=this._adapter.getProps();if(sn(n)){let r="";for(let s=1,a=e.length;s<=a;s++){const o=e.slice(0,s);if(n(o)>t)return r;r=o}return r}else return e.slice(0,t)}handleClear(e){let t=e;const n="";this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),(!t||typeof t!="object")&&(t={}),mx(t,B0.CLEARBTN_CLICKED_EVENT_FLAG,!0),this._adapter.notifyChange(n,t),this._adapter.notifyClear(t),t&&this.stopPropagation(t)}handleClick(e){const{disabled:t}=this._adapter.getProps(),{isFocus:n}=this._adapter.getStates();t||n||this._adapter.isEventTarget(e)&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handleModeChange(e){e==="password"?this._adapter.setEyeClosed(!0):this._adapter.setEyeClosed(!1)}handleClickEye(e){const t=this._adapter.getState("eyeClosed");this._adapter.focusInput(),this._adapter.toggleFocusing(!0),this._adapter.setEyeClosed(!t)}handleInputType(e){const t=this._adapter.getProp("mode"),n=this._adapter.getState("eyeClosed");return t==="password"?n?"password":"text":e}handleMouseDown(e){e.preventDefault()}handleMouseUp(e){e.preventDefault()}handleBlur(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(t,e)}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleInput(e){this._adapter.notifyInput(e)}handleKeyDown(e){this._adapter.notifyKeyDown(e)}handleKeyUp(e){this._adapter.notifyKeyUp(e)}handleKeyPress(e){this._adapter.notifyKeyPress(e),e.key===OZ&&this._adapter.notifyEnterPress(e)}isAllowClear(){const{value:e,isFocus:t,isHovering:n}=this._adapter.getStates(),{showClear:r,disabled:s,showClearIgnoreDisabled:a}=this._adapter.getProps();return e&&r&&(!s||a)&&(t||n)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:n}=this._adapter.getStates();!t&&!n&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handlePreventMouseDown(e){e&&sn(e.preventDefault)&&e.preventDefault()}handleModeEnterPress(e){["Enter"," "].includes(e==null?void 0:e.key)&&(this.handlePreventMouseDown(e),this.handleClickEye(e))}};var GVt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const ir=v4.PREFIX,YVt=B0.SIZE,KVt=B0.STATUS,XVt=B0.MODE;class FZ extends ln{constructor(e){super(e),this.handleClear=n=>{this.foundation.handleClear(n)},this.handleClick=n=>{this.foundation.handleClick(n)},this.handleMouseOver=n=>{this.setState({isHovering:!0})},this.handleMouseLeave=n=>{this.setState({isHovering:!1})},this.handleModeChange=n=>{this.foundation.handleModeChange(n)},this.handleClickEye=n=>{this.foundation.handleClickEye(n)},this.handleMouseDown=n=>{this.foundation.handleMouseDown(n)},this.handleMouseUp=n=>{this.foundation.handleMouseUp(n)},this.handleModeEnterPress=n=>{this.foundation.handleModeEnterPress(n)},this.handleClickPrefixOrSuffix=n=>{this.foundation.handleClickPrefixOrSuffix(n)},this.handlePreventMouseDown=n=>{this.foundation.handlePreventMouseDown(n)};const t="value"in e?e.value:e.defaultValue;this.state={value:t,cachedValue:e.value,disabled:!1,props:{},isFocus:!1,isHovering:!1,eyeClosed:e.mode==="password",minLength:e.minLength},this.inputRef=R.createRef(),this.prefixRef=R.createRef(),this.suffixRef=R.createRef(),this.foundation=new UVt(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e}),setEyeClosed:e=>this.setState({eyeClosed:e}),toggleFocusing:e=>{this.setState({isFocus:e})},focusInput:()=>{const{preventScroll:e}=this.props,t=this.inputRef&&this.inputRef.current;t&&t.focus({preventScroll:e})},toggleHovering:e=>this.setState({isHovering:e}),getIfFocusing:()=>this.state.isFocus,notifyChange:(e,t)=>this.props.onChange(e,t),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyInput:e=>this.props.onInput(e),notifyKeyPress:e=>this.props.onKeyPress(e),notifyKeyDown:e=>this.props.onKeyDown(e),notifyKeyUp:e=>this.props.onKeyUp(e),notifyEnterPress:e=>this.props.onEnterPress(e),notifyClear:e=>this.props.onClear(e),setMinLength:e=>this.setState({minLength:e}),isEventTarget:e=>e&&e.target===e.currentTarget})}static getDerivedStateFromProps(e,t){const n={};return e.value!==t.cachedValue&&(n.value=e.value,n.cachedValue=e.value),n}componentDidUpdate(e){const{mode:t}=this.props;e.mode!==t&&this.handleModeChange(t)}componentDidMount(){const{disabled:e,autoFocus:t,preventScroll:n}=this.props;!e&&(t||this.props.autofocus)&&this.inputRef.current.focus({preventScroll:n})}renderPrepend(){const{addonBefore:e}=this.props;if(e){const t=he({[`${ir}-prepend`]:!0,[`${ir}-prepend-text`]:e&&en(e),[`${ir}-prepend-icon`]:Zl(e)});return R.createElement("div",{className:t,"x-semi-prop":"addonBefore"},e)}return null}renderAppend(){const{addonAfter:e}=this.props;if(e){const t=he({[`${ir}-append`]:!0,[`${ir}-append-text`]:e&&en(e),[`${ir}-append-icon`]:Zl(e)});return R.createElement("div",{className:t,"x-semi-prop":"addonAfter"},e)}return null}renderClearBtn(){const e=he(`${ir}-clearbtn`),{clearIcon:t}=this.props;return this.foundation.isAllowClear()?R.createElement("div",{className:e,onMouseDown:this.handleClear},t||R.createElement(Sm,null)):null}renderModeBtn(){const{eyeClosed:e}=this.state,{mode:t,disabled:n}=this.props,r=he(`${ir}-modebtn`),s=e?R.createElement(UHt,null):R.createElement(YHt,null),a=t==="password"&&!n,o=e?"Show password":"Hidden password";return a?R.createElement("div",{role:"button",tabIndex:0,"aria-label":o,className:r,onClick:this.handleClickEye,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onKeyPress:this.handleModeEnterPress},s):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:n}=this.props,r=e||t;if(!r)return null;const s=he({[`${ir}-prefix`]:!0,[`${ir}-inset-label`]:t,[`${ir}-prefix-text`]:r&&en(r),[`${ir}-prefix-icon`]:Zl(r)});return R.createElement("div",{className:s,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:n,"x-semi-prop":"prefix,insetLabel"},r)}renderSuffix(e){const{suffix:t,hideSuffix:n}=this.props;if(!t)return null;const r=he({[`${ir}-suffix`]:!0,[`${ir}-suffix-text`]:t&&en(t),[`${ir}-suffix-icon`]:Zl(t),[`${ir}-suffix-hidden`]:e&&!!n});return R.createElement("div",{className:r,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},t)}getInputRef(){const{forwardRef:e}=this.props;if(!Or(e)){if(typeof e=="function")return t=>{e(t),this.inputRef={current:t}};if(Object.prototype.toString.call(e)==="[object Object]")return this.inputRef=e,e}return this.inputRef}render(){const e=this.props,{addonAfter:t,addonBefore:n,autoFocus:r,clearIcon:s,className:a,disabled:o,defaultValue:l,placeholder:u,prefix:c,mode:d,insetLabel:h,insetLabelId:p,validateStatus:f,type:g,readonly:v,size:m,suffix:b,style:_,showClear:S,onEnterPress:C,onClear:k,hideSuffix:E,inputStyle:A,forwardRef:P,maxLength:O,getValueLength:M,preventScroll:D,borderless:L,showClearIgnoreDisabled:H,onlyBorder:B}=e,F=GVt(e,["addonAfter","addonBefore","autoFocus","clearIcon","className","disabled","defaultValue","placeholder","prefix","mode","insetLabel","insetLabelId","validateStatus","type","readonly","size","suffix","style","showClear","onEnterPress","onClear","hideSuffix","inputStyle","forwardRef","maxLength","getValueLength","preventScroll","borderless","showClearIgnoreDisabled","onlyBorder"]),{value:z,isFocus:N,minLength:U}=this.state,G=this.foundation.isAllowClear(),j=Zl(b),K=this.getInputRef(),ie=`${ir}-wrapper`,ae=he(ie,a,{[`${ir}-wrapper__with-prefix`]:c||h,[`${ir}-wrapper__with-suffix`]:b,[`${ir}-wrapper__with-suffix-hidden`]:G&&!!E,[`${ir}-wrapper__with-suffix-icon`]:j,[`${ir}-wrapper__with-append`]:n,[`${ir}-wrapper__with-prepend`]:t,[`${ir}-wrapper__with-append-only`]:n&&!t,[`${ir}-wrapper__with-prepend-only`]:!n&&t,[`${ie}-readonly`]:v,[`${ie}-disabled`]:o,[`${ie}-warning`]:f==="warning",[`${ie}-error`]:f==="error",[`${ie}-focus`]:N,[`${ie}-clearable`]:S,[`${ie}-modebtn`]:d==="password",[`${ie}-hidden`]:g==="hidden",[`${ie}-${m}`]:m,[`${ir}-borderless`]:L,[`${ir}-only_border`]:B!=null}),re=he(ir,{[`${ir}-${m}`]:m,[`${ir}-disabled`]:o,[`${ir}-sibling-clearbtn`]:this.foundation.isAllowClear(),[`${ir}-sibling-modebtn`]:d==="password"}),J=z??"",ne=Object.assign(Object.assign({},F),{style:A,className:re,disabled:o,readOnly:v,type:this.foundation.handleInputType(g),placeholder:u,onInput:Q=>this.foundation.handleInput(Q),onChange:Q=>this.foundation.handleChange(Q.target.value,Q),onFocus:Q=>this.foundation.handleFocus(Q),onBlur:Q=>this.foundation.handleBlur(Q),onKeyUp:Q=>this.foundation.handleKeyUp(Q),onKeyDown:Q=>this.foundation.handleKeyDown(Q),onKeyPress:Q=>this.foundation.handleKeyPress(Q),value:J});sn(M)||(ne.maxLength=O),U&&(ne.minLength=U),f==="error"&&(ne["aria-invalid"]="true");let te=Object.assign({},_);return B!==void 0&&(te=Object.assign({borderWidth:B},_)),R.createElement("div",{className:ae,style:te,onMouseEnter:Q=>this.handleMouseOver(Q),onMouseLeave:Q=>this.handleMouseLeave(Q),onClick:Q=>this.handleClick(Q)},this.renderPrepend(),this.renderPrefix(),R.createElement("input",Object.assign({},ne,{ref:K})),this.renderClearBtn(),this.renderSuffix(G),this.renderModeBtn(),this.renderAppend())}}FZ.propTypes={"aria-label":w.string,"aria-labelledby":w.string,"aria-invalid":w.bool,"aria-errormessage":w.string,"aria-describedby":w.string,"aria-required":w.bool,addonBefore:w.node,addonAfter:w.node,clearIcon:w.node,prefix:w.node,suffix:w.node,mode:w.oneOf(XVt),value:w.any,defaultValue:w.any,disabled:w.bool,readonly:w.bool,autoFocus:w.bool,type:w.string,showClear:w.bool,hideSuffix:w.bool,placeholder:w.any,size:w.oneOf(YVt),className:w.string,style:w.object,validateStatus:w.oneOf(KVt),onClear:w.func,onChange:w.func,onBlur:w.func,onFocus:w.func,onInput:w.func,onKeyDown:w.func,onKeyUp:w.func,onKeyPress:w.func,onEnterPress:w.func,insetLabel:w.node,insetLabelId:w.string,inputStyle:w.object,getValueLength:w.func,preventScroll:w.bool,borderless:w.bool};FZ.defaultProps={addonBefore:"",addonAfter:"",prefix:"",suffix:"",readonly:!1,type:"text",showClear:!1,hideSuffix:!1,placeholder:"",size:"default",className:"",onClear:Te,onChange:Te,onBlur:Te,onFocus:Te,onInput:Te,onKeyDown:Te,onKeyUp:Te,onKeyPress:Te,onEnterPress:Te,validateStatus:"default",borderless:!1};const iu=R.forwardRef((i,e)=>R.createElement(FZ,Object.assign({},i,{forwardRef:e})));var qVt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};class Ab extends R.PureComponent{render(){const e=this.props,{triggerRender:t,componentName:n}=e,r=qVt(e,["triggerRender","componentName"]);return t(Object.assign({},r))}}Ab.propTypes={triggerRender:w.func.isRequired,componentName:w.string,componentProps:w.object,value:w.any,inputValue:w.string,placeholder:w.oneOfType([w.string,w.array]),className:w.string,style:w.object};var Tfe=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};let RP=class extends ee.PureComponent{onClick(e,t){var{value:n,label:r,children:s}=e,a=Tfe(e,["value","label","children"]);const{props:o}=this;o.disabled||o.onSelect(Object.assign(Object.assign({},a),{value:n,label:r||s}),t)}renderOptionContent(e){let{config:t,children:n,inputValue:r,prefixCls:s}=e;return en(n)&&r?yZ(t):n}render(){const e=this.props,{children:t,disabled:n,value:r,selected:s,label:a,empty:o,emptyContent:l,onSelect:u,focused:c,showTick:d,className:h,style:p,onMouseEnter:f,prefixCls:g,renderOptionItem:v,inputValue:m}=e,b=Tfe(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue"]),_=he(g,{[`${g}-disabled`]:n,[`${g}-selected`]:s,[`${g}-focused`]:c,[`${g}-empty`]:o,[h]:h}),S=he([`${g}-icon`]);if(o)return l===null?null:R.createElement(La,{componentName:"Select"},k=>R.createElement("div",{className:_,"x-semi-prop":"emptyContent"},l||k.emptyText));if(typeof v=="function")return v(Object.assign({disabled:n,focused:c,selected:s,style:p,label:a,value:r,inputValue:m,onMouseEnter:k=>f(k),onClick:k=>this.onClick(Object.assign({value:r,label:a,children:t},b),k)},b));const C={searchWords:m,sourceString:t,option:{highlightClassName:`${g}-keyword`}};return R.createElement("div",{className:_,onClick:k=>{this.onClick(Object.assign({value:r,label:a,children:t},b),k)},onMouseEnter:k=>f&&f(k),role:"option","aria-selected":s?"true":"false","aria-disabled":n?"true":"false",style:p},d?R.createElement("div",{className:S},R.createElement(g4,null)):null,en(t)?R.createElement("div",{className:`${g}-text`},this.renderOptionContent({children:t,config:C,inputValue:m,prefixCls:g})):t)}};RP.isSelectOption=!0;RP.propTypes={children:w.node,disabled:w.bool,value:w.oneOfType([w.string,w.number]),selected:w.bool,label:w.node,empty:w.bool,emptyContent:w.node,onSelect:w.func,focused:w.bool,showTick:w.bool,className:w.string,style:w.object,onMouseEnter:w.func,prefixCls:w.string,renderOptionItem:w.func,inputValue:w.string};RP.defaultProps={prefixCls:uMe.PREFIX_OPTION};const UI=uMe.PREFIX,ZVt=DZ.SIZE,QVt=DZ.POSITION,JVt=DZ.STATUS;class hw extends ln{constructor(e){super(e),this.onSelect=(n,r,s)=>{this.foundation.handleSelect(n,r)},this.onSearch=n=>{this.foundation.handleSearch(n)},this.onBlur=n=>this.foundation.handleBlur(n),this.onFocus=n=>this.foundation.handleFocus(n),this.onInputClear=()=>this.foundation.handleClear(),this.handleInputClick=n=>this.foundation.handleInputClick(n),this.foundation=new $Vt(this.adapter);const t=1;this.state={dropdownMinWidth:null,inputValue:"",options:[],visible:!1,focusIndex:e.defaultActiveFirstOption?0:-1,selection:new Map,rePosKey:t},this.triggerRef=R.createRef(),this.optionsRef=R.createRef(),this.clickOutsideHandler=null,vs("triggerRender"in this.props&&typeof this.props.triggerRender=="function",`[Semi AutoComplete]
            - If you are using the following props: 'suffix', 'prefix', 'showClear', 'validateStatus', and 'size',
            please notice that they will be removed in the next major version.
            Please use 'componentProps' to retrieve these props instead.
            - If you are using 'onBlur', 'onFocus', please try to avoid using them and look for changes in the future.`)}get adapter(){const e={registerKeyDown:t=>{const n={onKeyDown:t};this.setState({keyboardEventSet:n})},unregisterKeyDown:t=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:t=>{this.setState({focusIndex:t})}};return Object.assign(Object.assign(Object.assign({},super.adapter),e),{getTriggerWidth:()=>{const t=this.triggerRef.current;return t&&t.getBoundingClientRect().width},setOptionWrapperWidth:t=>{this.setState({dropdownMinWidth:t})},updateInputValue:t=>{this.setState({inputValue:t})},toggleListVisible:t=>{this.setState({visible:t})},updateOptionList:t=>{this.setState({options:t})},updateSelection:t=>{this.setState({selection:t})},notifySearch:t=>{this.props.onSearch(t)},notifyChange:t=>{this.props.onChange(t)},notifySelect:t=>{this.props.onSelect(t)},notifyDropdownVisibleChange:t=>{this.props.onDropdownVisibleChange(t)},notifyClear:()=>{this.props.onClear()},notifyFocus:t=>{this.props.onFocus(t)},notifyBlur:t=>{this.props.onBlur(t)},notifyKeyDown:t=>{this.props.onKeyDown(t)},rePositionDropdown:()=>{let{rePosKey:t}=this.state;t=t+1,this.setState({rePosKey:t})},registerClickOutsideHandler:t=>{const n=r=>{const s=this.optionsRef&&this.optionsRef.current,a=this.triggerRef&&this.triggerRef.current,o=$c.findDOMNode(s),l=r.target,u=r.composedPath&&r.composedPath()||[l];o&&(!o.contains(l)||!o.contains(l.parentNode))&&a&&!a.contains(l)&&!(u.includes(a)||u.includes(o))&&t(r)};this.clickOutsideHandler=n,document.addEventListener("mousedown",n,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&document.removeEventListener("mousedown",this.clickOutsideHandler,!1)}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){Fn(this.props.data,e.data)||this.foundation.handleDataChange(this.props.data),this.props.value!==e.value&&this.foundation.handleValueChange(this.props.value)}renderInput(){const{size:e,prefix:t,insetLabel:n,insetLabelId:r,suffix:s,placeholder:a,style:o,className:l,showClear:u,disabled:c,triggerRender:d,validateStatus:h,autoFocus:p,value:f,id:g,clearIcon:v}=this.props,{inputValue:m,keyboardEventSet:b,selection:_}=this.state,C=Object.assign(Object.assign(Object.assign({style:o,className:typeof d=="function"?he(l):he({[UI]:!0,[`${UI}-disabled`]:c},l),onClick:this.handleInputClick,ref:this.triggerRef,id:g},b),{tabIndex:-1}),this.getDataAttr(this.props)),k={disabled:c,placeholder:a,autofocus:p,onChange:this.onSearch,onClear:this.onInputClear,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],suffix:s,prefix:t||n,insetLabelId:r,showClear:u,validateStatus:h,size:e,onBlur:this.onBlur,onFocus:this.onFocus,clearIcon:v};return R.createElement("div",Object.assign({},C),typeof d=="function"?R.createElement(Ab,Object.assign({},k,{inputValue:typeof f<"u"?f:m,value:Array.from(_.values()),triggerRender:d,componentName:"AutoComplete",componentProps:Object.assign({},this.props)})):R.createElement(iu,Object.assign({},k,{value:typeof f<"u"?f:m})))}renderLoading(){const e=`${UI}-loading-wrapper`;return R.createElement("div",{className:e},R.createElement(nm,null))}renderOption(e,t){const{focusIndex:n}=this.state,r=t===n;return R.createElement(RP,Object.assign({showTick:!1,onSelect:(s,a)=>this.onSelect(s,t,a),focused:r,onMouseEnter:()=>this.foundation.handleOptionMouseEnter(t),key:e.key||e.label+e.value+t},e),e.label)}renderOptionList(){const{maxHeight:e,dropdownStyle:t,dropdownClassName:n,loading:r,emptyContent:s}=this.props,{options:a,dropdownMinWidth:o}=this.state,l=he({[`${UI}-option-list`]:!0},n);let u;a.length===0?u=s:u=a.filter(d=>d.show).map((d,h)=>this.renderOption(d,h));const c=Object.assign({maxHeight:e,minWidth:o},t);return R.createElement("div",{className:l,role:"listbox",style:c},r?this.renderLoading():u)}render(){const{position:e,motion:t,zIndex:n,mouseEnterDelay:r,mouseLeaveDelay:s,autoAdjustOverflow:a,stopPropagation:o,getPopupContainer:l}=this.props,{visible:u,rePosKey:c}=this.state,d=this.renderInput(),h=this.renderOptionList();return R.createElement(qo,{mouseEnterDelay:r,mouseLeaveDelay:s,autoAdjustOverflow:a,trigger:"custom",motion:t,visible:u,content:h,position:e,ref:this.optionsRef,zIndex:n,stopPropagation:o,getPopupContainer:l,rePosKey:c},d)}}hw.propTypes={"aria-label":w.string,"aria-labelledby":w.string,"aria-invalid":w.bool,"aria-errormessage":w.string,"aria-describedby":w.string,"aria-required":w.bool,autoFocus:w.bool,autoAdjustOverflow:w.bool,className:w.string,clearIcon:w.node,children:w.node,data:w.array,defaultOpen:w.bool,defaultValue:w.oneOfType([w.string,w.number]),defaultActiveFirstOption:w.bool,disabled:w.bool,dropdownMatchSelectWidth:w.bool,dropdownClassName:w.string,dropdownStyle:w.object,emptyContent:w.node,id:w.string,insetLabel:w.node,insetLabelId:w.string,onSearch:w.func,onSelect:w.func,onClear:w.func,onBlur:w.func,onFocus:w.func,onChange:w.func,onKeyDown:w.func,position:w.oneOf(QVt),placeholder:w.string,prefix:w.node,onChangeWithObject:w.bool,onSelectWithObject:w.bool,renderItem:w.func,renderSelectedItem:w.func,suffix:w.node,showClear:w.bool,size:w.oneOf(ZVt),style:w.object,stopPropagation:w.oneOfType([w.bool,w.string]),maxHeight:w.oneOfType([w.string,w.number]),mouseEnterDelay:w.number,mouseLeaveDelay:w.number,motion:w.oneOfType([w.bool,w.func,w.object]),getPopupContainer:w.func,triggerRender:w.func,value:w.oneOfType([w.string,w.number]),validateStatus:w.oneOf(JVt),zIndex:w.number};hw.Option=RP;hw.__SemiComponentName__="AutoComplete";hw.defaultProps=oh(hw.__SemiComponentName__,{stopPropagation:!0,motion:!0,zIndex:Uc.DEFAULT_Z_INDEX,position:"bottomLeft",data:[],showClear:!1,size:"default",onFocus:Te,onSearch:Te,onClear:Te,onBlur:Te,onSelect:Te,onChange:Te,onSelectWithObject:!1,onDropdownVisibleChange:Te,defaultActiveFirstOption:!1,dropdownMatchSelectWidth:!0,loading:!1,maxHeight:300,validateStatus:"default",autoFocus:!1,emptyContent:null,onKeyDown:Te});const e5t={PREFIX:`${Ze}-avatar`},DP={SHAPE:["circle","square"],SIZE:["extra-extra-small","extra-small","small","default","medium","large","extra-large"],COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],OVERLAP_FROM:["start","end"]};class t5t extends _n{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=t=>{const{target:n}=t;try{n.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{vs(!0,"Warning: [Semi Avatar] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)},this.changeScale=()=>{const{gap:t}=this.getProps(),n=this._adapter.getAvatarNode(),r=n==null?void 0:n.firstChild,[s,a]=[(n==null?void 0:n.offsetWidth)||0,(r==null?void 0:r.offsetWidth)||0];if(s!==0&&a!==0&&t*2<s){const o=s-t*2>a?1:(s-t*2)/a;this._adapter.setScale(o)}}}init(){const{children:e}=this.getProps();typeof e=="string"&&this.changeScale()}destroy(){}handleImgLoadError(){const{onError:e}=this.getProps();(e?e():void 0)!==!1&&this._adapter.notifyImgState(!1)}handleEnter(e){this._adapter.notifyEnter(e)}handleLeave(e){this._adapter.notifyLeave(e)}}const i5t=i=>{let{gradientStart:e,gradientEnd:t}=i;const n=x0();return R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"51",height:"52",viewBox:"0 0 51 52",fill:"none"},R.createElement("g",{filter:"url(#filter0_d_6_2)"},R.createElement("path",{d:"M40.4918 46.5592C44.6795 43.176 46.261 34.1333 47.5301 25.6141C49.5854 11.8168 39.6662 1 25.8097 1C11.2857 1 3 11.4279 3 25.3518C3 33.7866 6.29361 43.8947 10.4602 46.5592C12.5868 47.9192 12.5868 47.9051 25.8097 47.9192C38.3651 47.9282 38.5352 48.14 40.4918 46.5592Z",fill:`url(#${n})`})),R.createElement("defs",null,R.createElement("filter",{id:"filter0_d_6_2",x:"0.789215",y:"0.447304",width:"49.2216",height:"51.3549",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},R.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),R.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),R.createElement("feOffset",{dy:"1.65809"}),R.createElement("feGaussianBlur",{stdDeviation:"1.10539"}),R.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),R.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_6_2"}),R.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_6_2",result:"shape"})),R.createElement("linearGradient",{id:n,x1:"17.671",y1:"31.7392",x2:"17.671",y2:"47.9333",gradientUnits:"userSpaceOnUse"},R.createElement("stop",{stopColor:e}),R.createElement("stop",{offset:"1",stopColor:t}))))};var n5t=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const r5t=DP.SIZE,s5t=DP.SHAPE,a5t=DP.COLOR,nr=e5t.PREFIX;let pw=class extends ln{constructor(e){super(e),this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.getContent=()=>{const{children:t,onClick:n,imgAttr:r,src:s,srcSet:a,alt:o}=this.props,{isImgExist:l}=this.state;let u=t;const c=n!==Nr,d=s&&l,h={tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleFocusVisible,onBlur:this.handleBlur};if(d){const p=c?`clickable Avatar: ${o}`:o,f=Object.assign(Object.assign({src:s,srcSet:a,onError:this.handleError},r),{className:he({[`${nr}-no-focus-visible`]:c})}),g=c?Object.assign(Object.assign({},f),h):f;u=R.createElement("img",Object.assign({alt:p},g))}else if(typeof t=="string"){const p=o??t,g={role:"img","aria-label":c?`clickable Avatar: ${p}`:p,className:he(`${nr}-label`,{[`${nr}-no-focus-visible`]:c})},v=c?Object.assign(Object.assign({},g),h):g,m={transform:`scale(${this.state.scale})`};u=R.createElement("span",{className:`${nr}-content`,style:m},R.createElement("span",Object.assign({},v,{"x-semi-prop":"children"}),t))}return u},this.renderBottomSlot=()=>{var t,n;if(!this.props.bottomSlot)return null;if(this.props.bottomSlot.render)return this.props.bottomSlot.render();const r=(t=this.props.bottomSlot.render)!==null&&t!==void 0?t:()=>{var s;const a={};return this.props.bottomSlot.bgColor&&(a.backgroundColor=this.props.bottomSlot.bgColor),this.props.bottomSlot.textColor&&(a.color=this.props.bottomSlot.textColor),R.createElement("span",{style:a,className:he(`${nr}-bottom_slot-shape_${this.props.bottomSlot.shape}`,`${nr}-bottom_slot-shape_${this.props.bottomSlot.shape}-${this.props.size}`,(s=this.props.bottomSlot.className)!==null&&s!==void 0?s:"")},this.props.bottomSlot.text)};return R.createElement("div",{className:he([`${nr}-bottom_slot`]),style:(n=this.props.bottomSlot.style)!==null&&n!==void 0?n:{}},r())},this.renderTopSlot=()=>{var t,n,r,s;if(!this.props.topSlot)return null;if(this.props.topSlot.render)return this.props.topSlot.render();const a={};return this.props.topSlot.textColor&&(a.color=this.props.topSlot.textColor),R.createElement("div",{style:(t=this.props.topSlot.style)!==null&&t!==void 0?t:{},className:he([`${nr}-top_slot-wrapper`,(n=this.props.topSlot.className)!==null&&n!==void 0?n:"",{[`${nr}-animated`]:this.props.contentMotion}])},R.createElement("div",{className:he([`${nr}-top_slot-bg`,`${nr}-top_slot-bg-${this.props.size}`])},R.createElement("div",{className:he([`${nr}-top_slot-bg-svg`,`${nr}-top_slot-bg-svg-${this.props.size}`])},R.createElement(i5t,{gradientStart:(r=this.props.topSlot.gradientStart)!==null&&r!==void 0?r:"var(--semi-color-primary)",gradientEnd:(s=this.props.topSlot.gradientEnd)!==null&&s!==void 0?s:"var(--semi-color-primary)"}))),R.createElement("div",{className:he([`${nr}-top_slot`])},R.createElement("div",{style:a,className:he([`${nr}-top_slot-content`,`${nr}-top_slot-content-${this.props.size}`])},this.props.topSlot.text)))},this.state={isImgExist:!0,hoverContent:"",focusVisible:!1,scale:1},this.onEnter=this.onEnter.bind(this),this.onLeave=this.onLeave.bind(this),this.handleError=this.handleError.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.getContent=this.getContent.bind(this),this.avatarRef=R.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyImgState:e=>{this.setState({isImgExist:e})},notifyEnter:e=>{const{hoverMask:t}=this.props,n=t;this.setState({hoverContent:n},()=>{const{onMouseEnter:r}=this.props;r&&r(e)})},notifyLeave:e=>{this.setState({hoverContent:""},()=>{const{onMouseLeave:t}=this.props;t&&t(e)})},setFocusVisible:e=>{this.setState({focusVisible:e})},setScale:e=>{this.setState({scale:e})},getAvatarNode:()=>{var e;return(e=this.avatarRef)===null||e===void 0?void 0:e.current}})}componentDidMount(){this.foundation=new t5t(this.adapter),this.foundation.init()}componentDidUpdate(e){if(this.props.src&&this.props.src!==e.src){const t=new Image(0,0);t.src=this.props.src,t.onload=()=>{this.setState({isImgExist:!0})},t.onerror=()=>{this.setState({isImgExist:!1})},t.onabort=()=>{this.setState({isImgExist:!1})}}typeof this.props.children=="string"&&this.props.children!==e.children&&this.foundation.changeScale()}componentWillUnmount(){this.foundation.destroy()}onEnter(e){this.foundation.handleEnter(e)}onLeave(e){this.foundation.handleLeave(e)}handleError(){this.foundation.handleImgLoadError()}handleKeyDown(e){const{onClick:t}=this.props;switch(e.key){case"Enter":t(e),Zh(e);break;case"Escape":e.target.blur();break}}render(){var e;const t=this.props,{shape:n,children:r,size:s,color:a,className:o,hoverMask:l,onClick:u,imgAttr:c,src:d,srcSet:h,style:p,alt:f,gap:g,bottomSlot:v,topSlot:m,border:b,contentMotion:_}=t,S=n5t(t,["shape","children","size","color","className","hoverMask","onClick","imgAttr","src","srcSet","style","alt","gap","bottomSlot","topSlot","border","contentMotion"]),{isImgExist:C,hoverContent:k,focusVisible:E}=this.state,A=d&&C,P=he(nr,{[`${nr}-${n}`]:n,[`${nr}-${s}`]:s,[`${nr}-${a}`]:a&&!A,[`${nr}-img`]:A,[`${nr}-focus`]:E,[`${nr}-animated`]:_},o),O=k?R.createElement("div",{className:`${nr}-hover`,"x-semi-prop":"hoverContent"},k):null;let M=R.createElement("span",Object.assign({},S,{style:b||v||m||b?{}:p,className:P,onClick:u,onMouseEnter:this.onEnter,onMouseLeave:this.onLeave,role:"listitem",ref:this.avatarRef}),this.getContent(),O);if(b){const D={};typeof b=="object"&&(b!=null&&b.color)&&(D.borderColor=b==null?void 0:b.color),M=R.createElement("div",{style:Object.assign({position:"relative"},p)},M,R.createElement("span",{style:D,className:he([`${nr}-additionalBorder`,`${nr}-additionalBorder-${s}`,{[`${nr}-${n}`]:n}])}),typeof this.props.border=="object"&&this.props.border.motion&&R.createElement("span",{style:D,className:he([`${nr}-additionalBorder`,`${nr}-additionalBorder-${s}`,{[`${nr}-${n}`]:n,[`${nr}-additionalBorder-animated`]:typeof this.props.border=="object"&&((e=this.props.border)===null||e===void 0?void 0:e.motion)}])}))}return v||m||b?R.createElement("span",{className:he([`${nr}-wrapper`]),style:p},M,m&&["small","default","medium","large","extra-large"].includes(s)&&n==="circle"&&this.renderTopSlot(),v&&["small","default","medium","large","extra-large"].includes(s)&&this.renderBottomSlot()):M}};pw.__SemiComponentName__="Avatar";pw.defaultProps=oh(pw.__SemiComponentName__,{size:"medium",color:"grey",shape:"circle",gap:3,onClick:Nr,onMouseEnter:Nr,onMouseLeave:Nr});pw.propTypes={children:w.node,color:w.oneOf(a5t),shape:w.oneOf(s5t),size:w.oneOf(r5t),hoverMask:w.node,className:w.string,style:w.object,gap:w.number,imgAttr:w.object,src:w.string,srcSet:w.string,alt:w.string,onError:w.func,onClick:w.func,onMouseEnter:w.func,onMouseLeave:w.func,bottomSlot:w.shape({render:w.func,shape:w.oneOf(["circle","square"]),text:w.node,bgColor:w.string,textColor:w.string,className:w.string,style:w.object}),topSlot:w.shape({render:w.func,gradientStart:w.string,gradientEnd:w.string,text:w.node,textColor:w.string,className:w.string,style:w.object}),border:w.oneOfType([w.shape({color:w.string,motion:w.bool}),w.bool]),contentMotion:w.bool};pw.elementType="Avatar";var o5t=4,l5t=.001,u5t=1e-7,c5t=10,uE=11,GI=1/(uE-1),d5t=typeof Float32Array=="function";function pMe(i,e){return 1-3*e+3*i}function fMe(i,e){return 3*e-6*i}function gMe(i){return 3*i}function r6(i,e,t){return((pMe(e,t)*i+fMe(e,t))*i+gMe(e))*i}function mMe(i,e,t){return 3*pMe(e,t)*i*i+2*fMe(e,t)*i+gMe(e)}function h5t(i,e,t,n,r){var s,a,o=0;do a=e+(t-e)/2,s=r6(a,n,r)-i,s>0?t=a:e=a;while(Math.abs(s)>u5t&&++o<c5t);return a}function p5t(i,e,t,n){for(var r=0;r<o5t;++r){var s=mMe(e,t,n);if(s===0)return e;var a=r6(e,t,n)-i;e-=a/s}return e}function f5t(i){return i}var g5t=function(e,t,n,r){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&n===r)return f5t;for(var s=d5t?new Float32Array(uE):new Array(uE),a=0;a<uE;++a)s[a]=r6(a*GI,e,n);function o(l){for(var u=0,c=1,d=uE-1;c!==d&&s[c]<=l;++c)u+=GI;--c;var h=(l-s[c])/(s[c+1]-s[c]),p=u+h*GI,f=mMe(p,e,n);return f>=l5t?p5t(l,p,e,n):f===0?p:h5t(l,u,u+GI,e,n)}return function(u){return u===0?0:u===1?1:r6(o(u),t,r)}};const A8=Li(g5t);function Pfe(i,e,t){return Math.min(Math.max(i,e),t)}function m5t(i){const e=/\(([^)]+)\)/.exec(i);return e?e[1].split(",").map(t=>parseFloat(t)):[]}function YI(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;const t=Pfe(i,1,10),n=Pfe(e,.1,2);return r=>r===0||r===1?r:-t*Math.pow(2,10*(r-1))*Math.sin((r-1-n/(Math.PI*2)*Math.asin(1/t))*(Math.PI*2)/n)}const T8=(()=>{const i=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],e={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],YI],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],(n,r)=>s=>1-YI(n,r)(1-s)],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],(n,r)=>s=>s<.5?YI(n,r)(s*2)/2:1-YI(n,r)(s*-2+2)/2]},t={linear:[.25,.25,.75,.75]};for(const n of Object.keys(e))e[n].forEach((r,s)=>{t["ease"+n+i[s]]=r});return t})();function Ofe(i){if(typeof i=="function")return i;!i||typeof i!="string"?i="linear":i=i.trim();let e=i.split("(")[0];const t=m5t(i);let n;return e==="cubic-bezier"||e==="cubicBezier"?A8(...t.length?t:T8.linear):((!e||typeof e!="string"||typeof e=="string"&&T8[e]==null)&&(e="linear"),n=T8[e],typeof n=="function"?n(...t):t.length?A8(...t):A8(...n))}let v5t=class{constructor(){this._eventMap=new Map}on(e,t){return e&&typeof t=="function"&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var n=this;if(e&&typeof t=="function"){const r=function(){t(...arguments),n.off(e,r)};this.on(e,r)}}off(e,t){if(e)if(typeof t=="function"){const n=this._eventMap.get(e);if(Array.isArray(n)&&n.length){let r=-1;for(;(r=n.findIndex(s=>s===t))>-1;)n.splice(r,1)}}else t==null&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._eventMap.has(e)?(this._eventMap.get(e).forEach(s=>s(...n)),!0):!1}};function v2(i){return!!(i&&typeof i=="object"&&(i.duration>0||typeof i.easing=="string"||typeof i.easing=="function"))}function y5t(i,e,t,n,r){for(const s of Object.keys(e)){const a=e[s],o=typeof a=="number"?a:a.val;if(!(typeof a=="object"&&a.done)){if(v2(a)&&n&&r&&a.duration){if(a.duration+n<=r||o!==i[s])return!1}else if(typeof t[s]=="number"&&t[s]!==0)return!1;if(i[s]!==o)return!1}}return!0}function KI(i){const e={};for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=typeof i[t]=="number"?i[t]:i[t].val);return e}const L1=[0,0];function Mfe(i,e,t,n,r,s,a){const o=-r*(e-n),l=-s*t,u=o+l,c=t+u*i,d=e+c*i;return Math.abs(c)<a&&Math.abs(d-n)<a?(L1[0]=n,L1[1]=0,L1):(L1[0]=d,L1[1]=c,L1)}function _5t(i){const e={},t=i&&Object.keys(i)||[];for(const n of t)e[n]=0;return e}const b5t={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},S5t=Object.assign(Object.assign({},b5t.default),{precision:.01});function x5t(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(v2(e)){const n=Ofe(e.easing),r=typeof e.duration=="number"&&e.duration>0?e.duration:1e3;e=Object.assign(Object.assign({},e),{easing:n,duration:r})}let t=Object.assign(Object.assign(Object.assign({},S5t),e),{done:!1});if(i&&typeof i=="object"&&"val"in i){if(v2(i)){const n=Ofe(i.easing),r=typeof i.duration=="number"&&i.duration>0?i.duration:parseInt(e.duration)||1e3;i=Object.assign(Object.assign({},i),{easing:n,duration:r})}t=Object.assign(Object.assign({},t),i)}else t=Object.assign(Object.assign({},t),{val:i});return t}const Ok=()=>Date.now(),Ym=1e3/60;class vMe extends v5t{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),this._props=Object.assign({},e),this._config=Object.assign({},t),this.initStates()}_wrapConfig(e,t){t=t&&typeof t=="object"?t:this._config;const n={};for(const r of Object.keys(e))n[r]=x5t(e[r],t);return n}initStates(e,t){e=e&&typeof e=="object"?e:this._props,t=t&&typeof t=="object"?t:this._config;const{from:n,to:r}=e;if(this._from={},n)for(const o of Object.keys(n))this._from[o]=typeof n[o]=="object"&&n[o].val?n[o].val:n[o];this._to=this._wrapConfig(r,t),this._delay=parseInt(t.delay)||0;const s=this._from&&KI(this._from)||KI(this._to),a=_5t(s);this._currentStyle=Object.assign({},s),this._currentVelocity=Object.assign({},a),this._lastIdealStyle=Object.assign({},s),this._lastIdealVelocity=Object.assign({},a),this.resetPlayStates(),this._frameCount=0,this._prevTime=0}animate(){this._timer==null&&(this._timer=requestAnimationFrame(e=>{const t=Ok();if(y5t(this._currentStyle,this._to,this._currentVelocity,this._startedTime||t,t)||this._ended||this._stopped){this._wasAnimating&&!this._ended&&!this._stopped&&(this._timer=setTimeout(()=>{clearTimeout(this._timer),this._timer=null,this._ended=!0,this.emit("rest",this.getCurrentStates())},Ym)),this.resetPlayStates();return}this._started||(this._started=!0,this.emit("start",this.getCurrentStates())),this._stopped=!1,this._paused=!1,this._wasAnimating=!0,this._startedTime===0&&(this._startedTime=t);const n=t,r=n-this._prevTime;this._prevTime=n,n-this._startedTime<this._delay&&(this._timer=null,this.animate());const s={},a={},o={},l={},u=this._to&&Object.keys(this._to)||[];for(const c of u){const d=this._to[c];this._accumulatedTime[c]=typeof this._accumulatedTime[c]!="number"?r:this._accumulatedTime[c]+r;const h=this._from[c]!=null&&typeof this._from[c]=="object"?this._from[c].val:this._from[c],p=d.val;if(typeof d=="number")o[c]=d,l[c]=0,s[c]=d,a[c]=0;else{let f=this._lastIdealStyle[c],g=this._lastIdealVelocity[c];if(v2(this._config)||v2(d)){const{easing:v,duration:m}=d;f=h+v((n-this._startedTime)/m)*(p-h),n>=this._startedTime+m&&(f=p,d.done=!0),s[c]=f,o[c]=f}else if(p!=null&&p===this._currentStyle[c])o[c]=p,l[c]=0,s[c]=p,a[c]=0;else{const v=(this._accumulatedTime[c]-Math.floor(this._accumulatedTime[c]/Ym)*Ym)/Ym,m=Math.floor(this._accumulatedTime[c]/Ym);for(let S=0;S<m;S++)[f,g]=Mfe(Ym/1e3,f,g,d.val,d.tension,d.friction,d.precision);const[b,_]=Mfe(Ym/1e3,f,g,d.val,d.tension,d.friction,d.precision);o[c]=f+(b-f)*v,l[c]=g+(_-g)*v,s[c]=f,a[c]=g,this._accumulatedTime[c]-=m*Ym}}}this._timer=null,this._currentStyle=Object.assign({},o),this._currentVelocity=Object.assign({},l),this._lastIdealStyle=Object.assign({},s),this._lastIdealVelocity=Object.assign({},a),this._destroyed||(this.emit("frame",this.getCurrentStates()),this.animate())}))}start(){this._prevTime=Ok(),this._startedTime=Ok(),this.animate()}end(){this._ended||(this._ended=!0,this._currentStyle=this.getFinalStates(),this.emit("frame",this.getFinalStates()),this.emit("rest",this.getFinalStates())),this.destroy()}pause(){this._paused||(this._pausedTime=Ok(),this._paused=!0,this.emit("pause",this.getCurrentStates()),this.destroy(),this._destroyed=!1)}resume(){if(this._started&&this._paused){const t=Ok()-this._pausedTime;this._paused=!1,this._startedTime+=t,this._prevTime+=t,this._pausedTime=0,this.emit("resume",this.getCurrentStates()),this.animate()}}stop(){this.destroy(),this._stopped||(this._stopped=!0,this.emit("stop",this.getInitialStates()),this.initStates())}destroy(){cancelAnimationFrame(this._timer),clearTimeout(this._timer),this._timer=null,this._destroyed=!0}resetPlayStates(){this._started=!1,this._stopped=!1,this._ended=!1,this._paused=!1,this._destroyed=!1,this._timer=null,this._wasAnimating=!1,this._accumulatedTime={},this._startedTime=0,this._pausedTime=0}reset(){this.destroy(),this.initStates()}reverse(){this.destroy();const e=Object.assign({},this._props),[t,n]=[e.to,e.from];e.from=t,e.to=n,this._props=Object.assign({},e),this.initStates()}getCurrentStates(){return Object.assign({},this._currentStyle)}getInitialStates(){return Object.assign({},KI(this._props.from))}getFinalStates(){return Object.assign({},KI(this._props.to))}}const yMe={PREFIX:`${Ze}-button`},LP={sizes:["default","small","large"],iconPositions:["left","right"],htmlTypes:["button","reset","submit"],btnTypes:["primary","secondary","tertiary","warning","danger"],themes:["solid","borderless","light"],DEFAULT_ICON_SIZE:"default",DEFAULT_ICON_POSITION:"left"},w5t={SIZE:["extra-small","small","default","large","extra-large","custom"],ICON_PREFIX:"semi-icon-"};var C5t=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const k5t=LP.sizes,{htmlTypes:E5t,btnTypes:A5t}=LP;let FP=class extends ee.PureComponent{render(){const e=this.props,{children:t,block:n,htmlType:r,loading:s,circle:a,className:o,style:l,disabled:u,size:c,theme:d,type:h,prefixCls:p,iconPosition:f}=e,g=C5t(e,["children","block","htmlType","loading","circle","className","style","disabled","size","theme","type","prefixCls","iconPosition"]),v=Object.assign(Object.assign({disabled:u},F0(g,["x-semi-children-alias"])),{className:he(p,{[`${p}-${h}`]:!u&&h,[`${p}-disabled`]:u,[`${p}-size-large`]:c==="large",[`${p}-size-small`]:c==="small",[`${p}-light`]:d==="light",[`${p}-block`]:n,[`${p}-circle`]:a,[`${p}-borderless`]:d==="borderless",[`${p}-outline`]:d==="outline",[`${p}-${h}-disabled`]:u&&h},o),type:r,"aria-disabled":u}),m={};return o&&o.includes("-with-icon")||(m["x-semi-prop"]=this.props["x-semi-children-alias"]||"children"),R.createElement("button",Object.assign({},v,{onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,style:l}),R.createElement("span",Object.assign({className:`${p}-content`,onClick:b=>u&&b.stopPropagation()},m),t))}};FP.defaultProps={disabled:!1,size:"default",type:"primary",theme:"light",block:!1,htmlType:"button",onMouseDown:Nr,onClick:Nr,onMouseEnter:Nr,onMouseLeave:Nr,prefixCls:yMe.PREFIX};FP.propTypes={children:w.node,disabled:w.bool,prefixCls:w.string,style:w.object,size:w.oneOf(k5t),type:w.oneOf(A5t),block:w.bool,onClick:w.func,onMouseDown:w.func,circle:w.bool,loading:w.bool,htmlType:w.oneOf(E5t),theme:w.oneOf(LP.themes),className:w.string,onMouseEnter:w.func,onMouseLeave:w.func,"aria-label":w.string};var T5t=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const P5t=w5t.SIZE;class Qh extends ee.PureComponent{render(){const e=this.props,{children:t,iconPosition:n,iconSize:r,iconStyle:s,style:a,icon:o,noHorizontalPadding:l,theme:u,className:c,prefixCls:d,loading:h}=e,p=T5t(e,["children","iconPosition","iconSize","iconStyle","style","icon","noHorizontalPadding","theme","className","prefixCls","loading"]),f=Object.assign({},a);Array.isArray(l)?(l.includes("left")&&(f.paddingLeft=0),l.includes("right")&&(f.paddingRight=0)):l===!0?(f.paddingLeft=0,f.paddingRight=0):typeof l=="string"&&(l==="left"&&(f.paddingLeft=0),l==="right"&&(f.paddingRight=0));let g=null,v=null;h&&!p.disabled?v=R.createElement(dMe,null):R.isValidElement(o)&&(v=o);const m=he({[`${d}-content-left`]:n==="right",[`${d}-content-right`]:n==="left"}),b=this.props["x-semi-children-alias"]||"children",_=t!=null?R.createElement("span",{className:m,"x-semi-prop":b},t):null;n==="left"?g=R.createElement(R.Fragment,null,v,_):g=R.createElement(R.Fragment,null,_,v);const S=he(c,`${d}-with-icon`,{[`${d}-with-icon-only`]:_==null||_==="",[`${d}-loading`]:h});return R.createElement(FP,Object.assign({},p,{className:S,theme:u,style:f}),g)}}Qh.defaultProps={iconPosition:LP.DEFAULT_ICON_POSITION,prefixCls:yMe.PREFIX,loading:!1,noHorizontalPadding:!1,onMouseEnter:Te,onMouseLeave:Te};Qh.elementType="IconButton";Qh.propTypes={iconStyle:w.object,style:w.object,loading:w.bool,prefixCls:w.string,icon:w.oneOfType([w.object,w.string,w.node]),iconSize:w.oneOf(P5t),noHorizontalPadding:w.oneOfType([w.bool,w.string,w.array]),children:w.node,theme:w.string,iconPosition:w.oneOf(LP.iconPositions),className:w.string,onMouseEnter:w.func,onMouseLeave:w.func};let Jd=class extends R.PureComponent{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e)}render(){const e=Object.assign({},this.props),t=!!e.icon,n=!!e.loading,r=!!e.disabled;return t||n&&!r?R.createElement(Qh,Object.assign({},e)):R.createElement(FP,Object.assign({},e))}};Jd.__SemiComponentName__="Button";Jd.propTypes=Object.assign(Object.assign({},FP.propTypes),Qh.propTypes);Jd.defaultProps=oh(Jd.__SemiComponentName__);Jd.elementType="Button";const _Me={PREFIX:`${Ze}-card`},O5t={SHADOWS:["hover","always"],TYPE:["grid"]};var M5t=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const Mk=_Me.PREFIX;class bMe extends ee.PureComponent{render(){const e=this.props,{avatar:t,className:n,description:r,style:s,title:a}=e,o=M5t(e,["avatar","className","description","style","title"]),l=he(`${Mk}-meta`,n),u=t&&R.createElement("div",{className:`${Mk}-meta-avatar`},t),c=a&&R.createElement("div",{className:`${Mk}-meta-wrapper-title`},a),d=r&&R.createElement("div",{className:`${Mk}-meta-wrapper-description`},r),h=a||r?R.createElement("div",{className:`${Mk}-meta-wrapper`},c,d):null;return R.createElement("div",Object.assign({},o,{className:l,style:s}),u,h)}}bMe.propTypes={avatar:w.node,className:w.string,description:w.node,style:w.object,title:w.node};const BZ={PREFIX:`${Ze}-skeleton`};var I5t=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const R5t=DP.SIZE,D5t=DP.SHAPE,y4=i=>e=>t=>R.createElement(e,Object.assign({type:i},t));class hC extends ee.PureComponent{render(){const e=this.props,{prefixCls:t,className:n,type:r,size:s,shape:a}=e,o=I5t(e,["prefixCls","className","type","size","shape"]),l=he(n,`${t}-${r}`,{[`${t}-${r}-${s}`]:r.toUpperCase()==="AVATAR"},{[`${t}-${r}-${a}`]:r.toUpperCase()==="AVATAR"});return R.createElement("div",Object.assign({className:l},o))}}hC.propTypes={type:w.string,prefixCls:w.string,style:w.object,className:w.string,size:w.oneOf(R5t),shape:w.oneOf(D5t)};hC.defaultProps={prefixCls:BZ.PREFIX,size:"medium",shape:"circle"};const L5t=y4("avatar")(hC),F5t=y4("image")(hC),B5t=y4("title")(hC),$5t=y4("button")(hC);class $Z extends ee.PureComponent{render(){const{prefixCls:e,className:t,style:n,rows:r}=this.props,s=he(t,`${e}-paragraph`);return R.createElement("ul",{className:s,style:n},[...Array(r)].map((a,o)=>R.createElement("li",{key:o})))}}$Z.propTypes={rows:w.number,prefixCls:w.string,style:w.object,className:w.string};$Z.defaultProps={prefixCls:BZ.PREFIX,rows:4};var N5t=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const Ife=BZ.PREFIX;class _f extends ee.PureComponent{render(){const e=this.props,{placeholder:t,active:n,children:r,className:s,loading:a,style:o}=e,l=N5t(e,["placeholder","active","children","className","loading","style"]),u=he(Ife,{[`${Ife}-active`]:!!n},s);let c;return a?c=R.createElement("div",Object.assign({className:u,style:o},l,{"x-semi-prop":"placeholder"}),t):c=r,c}}_f.Avatar=L5t;_f.Title=B5t;_f.Button=$5t;_f.Paragraph=$Z;_f.Image=F5t;_f.defaultProps={loading:!0};_f.propTypes={active:w.bool,placeholder:w.node,style:w.object,className:w.string,loading:w.bool,children:w.node};const j5t={PREFIX:`${Ze}-space`},Iy={ALIGN_SET:["start","end","center","baseline"],SPACING_LOOSE:"loose",SPACING_MEDIUM:"medium",SPACING_TIGHT:"tight"},z5t="Symbol(react.fragment)",vU=i=>{let e=[];return R.Children.forEach(i,t=>{t!=null&&(Array.isArray(t)?e=e.concat(vU(t)):ee.isValidElement(t)&&t.type&&t.type.toString()===z5t&&t.props?e=e.concat(vU(t.props.children)):e.push(t))}),e},Ch=j5t.PREFIX;class _4 extends ee.PureComponent{render(){const{children:e=null,style:t,className:n,spacing:r,wrap:s,align:a,vertical:o}=this.props,l=s&&o?!1:s,u=Object.assign({},t);let c="",d="";en(r)?(c=r,d=r):Gs(r)?(u.rowGap=r,u.columnGap=r):Jq(r)&&(en(r[0])?c=r[0]:Gs(r[0])&&(u.columnGap=`${r[0]}px`),en(r[1])?d=r[1]:Gs(r[1])&&(u.rowGap=`${r[1]}px`));const h=he(Ch,n,{[`${Ch}-align-${a}`]:a,[`${Ch}-vertical`]:o,[`${Ch}-horizontal`]:!o,[`${Ch}-wrap`]:l,[`${Ch}-tight-horizontal`]:c===Iy.SPACING_TIGHT,[`${Ch}-tight-vertical`]:d===Iy.SPACING_TIGHT,[`${Ch}-medium-horizontal`]:c===Iy.SPACING_MEDIUM,[`${Ch}-medium-vertical`]:d===Iy.SPACING_MEDIUM,[`${Ch}-loose-horizontal`]:c===Iy.SPACING_LOOSE,[`${Ch}-loose-vertical`]:d===Iy.SPACING_LOOSE}),p=vU(e),f=WF(this.props);return R.createElement("div",Object.assign({},f,{className:h,style:u,"x-semi-prop":"children"}),p)}}_4.propTypes={wrap:w.bool,align:w.oneOf(Iy.ALIGN_SET),vertical:w.bool,spacing:w.oneOfType([w.string,w.number,w.array]),children:w.node,style:w.object,className:w.string};_4.defaultProps={vertical:!1,wrap:!1,spacing:"tight",align:"center"};var H5t=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const ll=_Me.PREFIX;class b4 extends ee.PureComponent{constructor(){super(...arguments),this.renderHeader=()=>{const{title:e,headerExtraContent:t,header:n,headerLine:r,headerStyle:s}=this.props,a=he(`${ll}-header`,{[`${ll}-header-bordered`]:!!r}),o=he(`${ll}-header-wrapper`),l=he(`${ll}-header-wrapper-title`,{[`${ll}-header-wrapper-spacing`]:!!t});return n||t||e?R.createElement("div",{style:s,className:a},n||R.createElement("div",{className:o},t&&R.createElement("div",{className:`${ll}-header-wrapper-extra`,"x-semi-prop":"headerExtraContent"},t),e&&R.createElement("div",{className:l},en(e)?R.createElement(dC.Title,{heading:6,ellipsis:{showTooltip:!0,rows:1},"x-semi-prop":"title"},e):e))):null},this.renderCover=()=>{const{cover:e}=this.props,t=he(`${ll}-cover`);return e&&R.createElement("div",{className:t,"x-semi-prop":"cover"},e)},this.renderBody=()=>{const{bodyStyle:e,children:t,actions:n,loading:r}=this.props,s=he(`${ll}-body`),a=he(`${ll}-body-actions`),o=he(`${ll}-body-actions-item`),l=R.createElement("div",null,R.createElement(_f.Title,null),R.createElement("br",null),R.createElement(_f.Paragraph,{rows:3}));return R.createElement("div",{style:e,className:s},t&&R.createElement(_f,{placeholder:l,loading:r,active:!0},t),Array.isArray(n)&&R.createElement("div",{className:a},R.createElement(_4,{spacing:12},n.map((u,c)=>R.createElement("div",{key:c,className:o,"x-semi-prop":`actions.${c}`},u)))))},this.renderFooter=()=>{const{footer:e,footerLine:t,footerStyle:n}=this.props,r=he(`${ll}-footer`,{[`${ll}-footer-bordered`]:t});return e&&R.createElement("div",{style:n,className:r,"x-semi-prop":"footer"},e)}}render(){const e=this.props,{bordered:t,shadows:n,style:r,className:s}=e,a=H5t(e,["bordered","shadows","style","className"]),o=F0(a,["actions","bodyStyle","cover","headerExtraContent","footer","footerLine","footerStyle","header","headerLine","headerStyle","loading","title"]),l=he(ll,s,{[`${ll}-bordered`]:t,[`${ll}-shadows`]:n,[`${ll}-shadows-${n}`]:n});return R.createElement("div",Object.assign({},o,{"aria-busy":this.props.loading,className:l,style:r}),this.renderHeader(),this.renderCover(),this.renderBody(),this.renderFooter())}}b4.Meta=bMe;b4.propTypes={actions:w.array,bodyStyle:w.object,bordered:w.bool,children:w.node,className:w.string,cover:w.node,footer:w.node,footerLine:w.bool,footerStyle:w.object,header:w.node,headerExtraContent:w.node,headerLine:w.bool,headerStyle:w.object,loading:w.bool,shadows:w.oneOf(O5t.SHADOWS),style:w.object,title:w.node,"aria-label":w.string};b4.defaultProps={bordered:!0,footerLine:!1,headerLine:!0,loading:!1};function V5t(i,e,t,n){for(var r=i.length,s=t+(n?1:-1);n?s--:++s<r;)if(e(i[s],s,i))return s;return-1}var SMe=V5t;function W5t(i){return i!==i}var U5t=W5t;function G5t(i,e,t){for(var n=t-1,r=i.length;++n<r;)if(i[n]===e)return n;return-1}var Y5t=G5t,K5t=SMe,X5t=U5t,q5t=Y5t;function Z5t(i,e,t){return e===e?q5t(i,e,t):K5t(i,X5t,t)}var xMe=Z5t,Q5t=Zq,Rfe=1/0,J5t=17976931348623157e292;function eWt(i){if(!i)return i===0?i:0;if(i=Q5t(i),i===Rfe||i===-Rfe){var e=i<0?-1:1;return e*J5t}return i===i?i:0}var tWt=eWt,iWt=tWt;function nWt(i){var e=iWt(i),t=e%1;return e===e?t?e-t:e:0}var S4=nWt,rWt=nC;function sWt(i,e){return rWt(e,function(t){return i[t]})}var aWt=sWt,oWt=aWt,lWt=L0;function uWt(i){return i==null?[]:oWt(i,lWt(i))}var wMe=uWt;const CMe=Li(wMe);var cWt=xMe,dWt=Rf,hWt=LPe,pWt=S4,fWt=wMe,gWt=Math.max;function mWt(i,e,t,n){i=dWt(i)?i:fWt(i),t=t&&!n?pWt(t):0;var r=i.length;return t<0&&(t=gWt(r+t,0)),hWt(i)?t<=r&&i.indexOf(e,t)>-1:!!r&&cWt(i,e,t)>-1}var vWt=mWt;const zS=Li(vWt);var yWt=h4,_Wt=Eb,bWt=tOe,SWt=Rf,xWt=CP,wWt=L0,CWt=Object.prototype,kWt=CWt.hasOwnProperty,EWt=bWt(function(i,e){if(xWt(e)||SWt(e)){_Wt(e,wWt(e),i);return}for(var t in e)kWt.call(e,t)&&yWt(i,t,e[t])}),AWt=EWt;const TWt=Li(AWt);var PWt=xMe;function OWt(i,e){var t=i==null?0:i.length;return!!t&&PWt(i,e,0)>-1}var kMe=OWt;function MWt(i,e,t){for(var n=-1,r=i==null?0:i.length;++n<r;)if(t(e,i[n]))return!0;return!1}var EMe=MWt,IWt=fZ,RWt=kMe,DWt=EMe,LWt=nC,FWt=oC,BWt=gZ,$Wt=200;function NWt(i,e,t,n){var r=-1,s=RWt,a=!0,o=i.length,l=[],u=e.length;if(!o)return l;t&&(e=LWt(e,FWt(t))),n?(s=DWt,a=!1):e.length>=$Wt&&(s=BWt,a=!1,e=new IWt(e));e:for(;++r<o;){var c=i[r],d=t==null?c:t(c);if(c=n||c!==0?c:0,a&&d===d){for(var h=u;h--;)if(e[h]===d)continue e;l.push(c)}else s(e,d,n)||l.push(c)}return l}var jWt=NWt,zWt=jWt,HWt=_Oe,VWt=eOe,Dfe=UPe,WWt=VWt(function(i,e){return Dfe(i)?zWt(i,HWt(e,1,Dfe,!0)):[]}),UWt=WWt;const s6=Li(UWt);var GWt=o4,YWt=AOe,KWt=rC;function XWt(i,e,t){for(var n=-1,r=e.length,s={};++n<r;){var a=e[n],o=GWt(i,a);t(o,a)&&YWt(s,KWt(a,i),o)}return s}var qWt=XWt;function ZWt(i,e){return i!=null&&e in Object(i)}var QWt=ZWt,JWt=rC,eUt=kP,tUt=Jo,iUt=p4,nUt=lZ,rUt=kb;function sUt(i,e,t){e=JWt(e,i);for(var n=-1,r=e.length,s=!1;++n<r;){var a=rUt(e[n]);if(!(s=i!=null&&t(i,a)))break;i=i[a]}return s||++n!=r?s:(r=i==null?0:i.length,!!r&&nUt(r)&&iUt(a,r)&&(tUt(i)||eUt(i)))}var aUt=sUt,oUt=QWt,lUt=aUt;function uUt(i,e){return i!=null&&lUt(i,e,oUt)}var AMe=uUt,cUt=qWt,dUt=AMe;function hUt(i,e){return cUt(i,e,function(t,n){return dUt(i,n)})}var pUt=hUt,fUt=pUt,gUt=bOe,mUt=gUt(function(i,e){return i==null?{}:fUt(i,e)}),vUt=mUt;const BP=Li(vUt);var yUt=Jw;function _Ut(i,e,t){for(var n=-1,r=i.length;++n<r;){var s=i[n],a=e(s);if(a!=null&&(o===void 0?a===a&&!yUt(a):t(a,o)))var o=a,l=s}return l}var bUt=_Ut;function SUt(i,e){return i>e}var xUt=SUt,wUt=bUt,CUt=xUt,kUt=PP;function EUt(i){return i&&i.length?wUt(i,kUt,CUt):void 0}var AUt=EUt;const TUt=Li(AUt);var P8=uOe,PUt=xPe,OUt=mZ,MUt=1/0,IUt=P8&&1/OUt(new P8([,-0]))[1]==MUt?function(i){return new P8(i)}:PUt,RUt=IUt,DUt=fZ,LUt=kMe,FUt=EMe,BUt=gZ,$Ut=RUt,NUt=mZ,jUt=200;function zUt(i,e,t){var n=-1,r=LUt,s=i.length,a=!0,o=[],l=o;if(t)a=!1,r=FUt;else if(s>=jUt){var u=e?null:$Ut(i);if(u)return NUt(u);a=!1,r=BUt,l=new DUt}else l=e?[]:o;e:for(;++n<s;){var c=i[n],d=e?e(c):c;if(c=t||c!==0?c:0,a&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),o.push(c)}else r(l,d,t)||(l!==o&&l.push(d),o.push(c))}return o}var HUt=zUt,VUt=HUt;function WUt(i){return i&&i.length?VUt(i):[]}var UUt=WUt;const GUt=Li(UUt);function TMe(i,e){return`${i}-${e}`}function x4(i){return!rb(i)&&!Or(i)}function fv(i,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const r=[],s=!!n,a=wt(t,"key","key"),o=wt(t,"children","children");function l(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return u.map((d,h)=>{const p=TMe(c?c.pos:"0",h),f=d[a],g={};t&&Object.entries(F0(t,"children")).forEach(b=>{let[_,S]=b;const C=d[S];!Or(C)&&(g[_]=C)});const v=Object.assign(Object.assign(Object.assign({},BP(d,["key","label","value","icon","disabled","isLeaf"])),g),{parent:c,pos:p,children:null,data:d,_innerDataTag:!0,isEnd:[...c?c.isEnd:[],h===u.length-1]}),m=typeof n=="boolean";return(!s||!m&&n.has(f))&&r.push(v),e.has(f)&&(!s||!m&&n.has(f))?v.children=l(d[o]||[],v):v.children=[],v})}return l(i),r}function YUt(i,e,t){const n=wt(t,"key","key"),r=wt(t,"children","children"),s=(a,o,l)=>{const u=a?a[r]:i,c=a?TMe(l.pos,o):"0";if(a){const d=wt(a,n,null),h={data:Object.assign({},a),ind:o,pos:c,key:d!==null?d:c,parentPos:l.node?l.pos:null,level:Number(l.level)+1};e(h)}u&&u.forEach((d,h)=>{s(d,h,{node:a,pos:c,level:l?Number(l.level)+1:-1})})};s(null)}function KUt(i,e){const t={},n={},r={},s={posEntities:t,keyEntities:n,valueEntities:r},a=wt(e,"value","value");return YUt(i,o=>{const{pos:l,key:u,parentPos:c}=o,d=Object.assign({},o),h=wt(d,`data.${a}`,null);h!==null&&(r[h]=u),t[l]=d,n[u]=d,d.parent=t[c],d.parent&&(d.parent.children=d.parent.children||[],d.parent.children.push(d))},e),s}function Ry(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!x4(i))return[];if(!t&&Array.isArray(i)?i=i.length?[i[0]]:[]:Array.isArray(i)||(i=[i]),$r(e))return i;const n=[];return i.forEach(r=>{r in e?n.push(e[r]):r&&n.push(r)}),n}function bf(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const n=[],r=s=>{if(!s)return;const{children:a}=s;x4(a)&&a.forEach(l=>{n.push(l.key),r(e[l.key])})};return i.forEach(s=>{t&&n.push(s),r(e[s])}),n}function XUt(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const n=[];return i&&i.forEach(r=>{const s=e[r];s&&s.children&&s.children.forEach(a=>{(!t.length||!t.includes(a.key))&&n.push(a.key)})}),n}function NZ(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const n=[];return i.forEach(s=>{e[s]&&e[s].parent&&n.push(e[s].parent.key)}),XUt(GUt(n),e,t?[]:i)}function Sf(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const n=[],r=s=>{s.parent&&(n.push(s.parent.key),r(s.parent))};return i.forEach(s=>{e[s]&&r(e[s]),t&&n.push(s)}),n}function qUt(i,e){const t={};return i.forEach(n=>{if(!e[n])return;const{level:r}=e[n];t[r]?t[r].push(n):t[r]=[n]}),t}function $P(i,e){const t=Array.isArray(i)?i:[i],n=bf(t,e,!0),r=new Set([...n]);let s=new Set([]),a=[];const o=qUt(t,e),l=u=>{const{key:c,parent:d,level:h}=u;if(!d||a.includes(c))return;const p=NZ([c],e);if(a=[...a,...p],p.every(g=>r.has(g)))r.add(d.key),h-1 in o&&h?o[h-1].push(d.key):o[h-1]=[d.key];else{const g=Sf([c],e,!1);s=new Set([...s,...g])}};for(;!$r(o);){const u=TUt(Object.keys(o).map(c=>Number(c)));o[u].forEach(c=>l(e[c])),delete o[u]}return{checkedKeys:r,halfCheckedKeys:s}}function O8(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(Array.isArray(i)||(i=[i]),t){const n=Sf(i,e,!0);return new Set(n)}return new Set(i)}function Lfe(i,e,t,n){const r=Ry(i,n,t);return new Set(Sf(r,e,!1))}function Ffe(i,e,t){let n="show";const r=[...i],s=[...e];if(Math.abs(r.length-s.length)!==1)return{motionType:n,motionKeys:[]};let a=[];return r.length>s.length?(n="hide",a=s6(r,s)):a=s6(s,r),{motionType:a.length===1?n:"show",motionKeys:a.length===1?bf(a,t,!1):[]}}function PMe(i,e,t,n){if(!t)return!0;let r=t,s=e;return typeof t=="boolean"&&(r=(a,o)=>{const l=a.toLowerCase();return o.toString().toLowerCase().includes(l)}),n&&(s=e[n]),r(i,s,e)}function Lc(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3?arguments[3]:void 0;const r=[],s=new Set(i);return t?i.forEach(a=>{e[a]&&!x4(e[a].children)&&r.push(a),!e[a]&&n&&r.push(a)}):i.forEach(a=>{if(!e[a]){n&&r.push(a);return}const{parent:o}=e[a];o&&s.has(o.key)||r.push(a)}),r}function Bfe(i,e,t){const n=[],r=s=>{t[s].children&&t[s].children.forEach(a=>{const{key:o}=a;n.push(o),e.has(o)&&r(o)})};return r(i),n}function OMe(i,e,t,n){const r=bf([i],e,!0),s=e[i];t=new Set([...t,i]);const a=o=>{if(!o.parent)return;const{key:l}=o;if(NZ([l],e).every(d=>t.has(d))){const d=o.parent;t.add(d.key),a(d)}else{const d=Sf([l],e,!1);n=new Set([...n,...d])}};return a(s),{checkedKeys:new Set([...t,...r]),halfCheckedKeys:n}}function MMe(i,e,t,n){const r=bf([i],e,!0),s=e[i];r.forEach(o=>{t.has(o)&&t.delete(o),n.has(o)&&n.delete(o)});const a=o=>{const l=o.parent;if(!l||!t.has(l.key)&&!n.has(l.key))return;const{key:u}=o,d=NZ([u],e).some(p=>t.has(p)||n.has(p)),h=Sf([u],e,!1);d?h.forEach(p=>{t.has(p)&&(t.delete(p),n.add(p))}):(t.has(l.key)&&t.delete(l.key),n.has(l.key)&&n.delete(l.key),a(l))};return s&&a(s),{checkedKeys:t,halfCheckedKeys:n}}function ZUt(i){const{showFilteredOnly:e,keyEntities:t,inputValue:n,treeData:r,filterTreeNode:s,filterProps:a,prevExpandedKeys:o,keyMaps:l}=i;let u=[];u=Object.values(t).filter(f=>PMe(n,f.data,s,a)).map(f=>f.key);let c=Sf(u,t,!1);if(o.length){const f=o.filter(g=>!!t[g]);c=c.concat(f)}const d=bf(u,t,!0),h=new Set([...d,...c]);return{flattenNodes:fv(r,new Set(c),l,e&&h),filteredKeys:new Set(u),filteredExpandedKeys:new Set(c),filteredShownKeys:h}}function a6(i,e){const t=wt(e,"value","value"),n=wt(e,"key","key");return Array.isArray(i)?i.map(r=>wt(r,t,r[n])):wt(i,t,i[n])}function Km(i,e,t){return e&&x4(i)?a6(i,t):i}function $fe(i,e){return[...i].filter(n=>n in e)}function IMe(i,e){const t=wt(e,"disabled","disabled"),n=Object.keys(i).filter(s=>i[s].data[t]),{checkedKeys:r}=$P(n,i);return r}const RMe={PREFIX:`${Ze}-cascader`,PREFIX_OPTION:`${Ze}-cascader-option`},qa={SIZE_SET:["small","large","default"],VALIDATE_STATUS:["success","default","error","warning"],IS_KEY:"isKey",IS_VALUE:"isValue",SHOW_NEXT_BY_CLICK:"click",SHOW_NEXT_BY_HOVER:"hover",LEAF_ONLY_MERGE_TYPE:"leafOnly",AUTO_MERGE_VALUE_MERGE_TYPE:"autoMergeValue",NONE_MERGE_TYPE:"none",SEARCH_POSITION_TRIGGER:"trigger",SEARCH_POSITION_CUSTOM:"custom"},DMe="_SEMI_CASCADER_SPLIT_";function QUt(i,e){return`${i}-${e}`}function JUt(i){return!rb(i)&&!Or(i)}function eGt(i){return Array.isArray(i)?i:[i]}function tGt(i,e,t,n){if(!t)return!0;let r=t,s;return typeof t=="boolean"?(r=(a,o)=>{const l=a.toLowerCase();return o.toLowerCase().includes(l)},s=n.join("")):s=n.join(),r(i,s,e)}function iGt(i,e){const t=(n,r,s)=>{const a=n?n.children:i;let o=null;if(n){const l=s?`${s.key}${DMe}${n.value}`:`${n.value}`,u=s?QUt(s.pos,r):`${r}`;o={data:Object.assign({},n),ind:r,key:l,pos:u,level:s?s.level+1:0,parentKey:s?s.key:null,path:s?[...s.path,l]:[l],valuePath:s?[...s.valuePath,n.value]:[n.value]},e(o)}a&&a.forEach((l,u)=>{t(l,u,o)})};t(null)}function nGt(i){return i!=null&&i.length?Array.isArray(i[0])?i.map(e=>o6(e)):[o6(i)]:[]}function o6(i){return i.join(DMe)}function rGt(i,e){const t=i.split("-").map(s=>Number(s));let n=e,r=[];return t.forEach((s,a)=>{var o;n=a===0?n[s]:(o=n==null?void 0:n.children)===null||o===void 0?void 0:o[s],r.push(n==null?void 0:n.value)}),o6(r)}function LMe(i){const e={};return iGt(i,t=>{const{key:n,parentKey:r}=t,s=Object.assign({},t);e[n]=s,s.parent=e[r],s.parent&&(s.parent.children=s.parent.children||[],s.parent.children.push(s))}),e}function yU(i,e){let t;return e?t=qa.LEAF_ONLY_MERGE_TYPE:i?t=qa.AUTO_MERGE_VALUE_MERGE_TYPE:t=qa.NONE_MERGE_TYPE,t}class sGt extends _n{constructor(e){super(Object.assign({},e)),this.updateSearching=t=>{this._adapter.updateStates({isSearching:!1})},this.handleTagRemoveByKey=t=>{var n,r;const{keyEntities:s}=this.getStates(),{disabled:a}=this.getProps();if(a)return;const o=(n=s[t])!==null&&n!==void 0?n:{};!(!((r=o==null?void 0:o.data)===null||r===void 0)&&r.disable)&&this._handleMultipleSelect(o)},this.handleTagRemoveInTrigger=t=>{const{treeData:n}=this.getStates(),r=rGt(t,n);this.handleTagRemoveByKey(r)}}init(){const e=this.getProp("open")||this.getProp("defaultOpen");this.collectOptions(!0),this._adapter.updateLoadingKeyRefValue(new Set),this._adapter.updateLoadedKeyRefValue(new Set),e&&!this._isDisabled()&&this.open()}destroy(){this._adapter.unregisterClickOutsideHandler()}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filterTreeNode")}_notifyChange(e){const{onChangeWithObject:t,multiple:n}=this.getProps(),r=t?[]:"value";if(n){const s=[];e.forEach(a=>{const o=this.getItemPropPath(a,r);s.push(o)}),this._adapter.notifyChange(s)}else{const s=Or(e)||!("key"in e)?[]:this.getItemPropPath(e.key,r);this._adapter.notifyChange(s)}}_isLeaf(e){return this.getProp("loadData")?!!e.isLeaf:!e.children||!e.children.length}_clearInput(){this._adapter.updateInputValue("")}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}_isOptionDisabled(e,t){return Sf([e],t,!0).some(r=>t[r].data.disabled)}getItemPropPath(e,t,n){const r=n||this.getState("keyEntities"),s=r[e];let a=[];if(s)if(s._notExist)a=s.path;else{const o=s.path;a=Array.isArray(t)?o.map(l=>r[l].data):o.map(l=>r[l].data[t])}return a}_getCacheValue(e){const{selectedKeys:t}=this.getStates(),n=Array.from(t)[0];let r;if($r(e[n]))if(zS(n,"not-exist-")){const s=n.match(/not-exist-(\S*)/)[1];$r(e[s])?r=s:r=e[s].valuePath}else r=n;else r=e[n].valuePath;return r}collectOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{treeData:t,value:n,defaultValue:r}=this.getProps(),s=LMe(t);this._adapter.rePositionDropdown();let a;e?a=r:$r(s)||(a=this._getCacheValue(s));const o=this._isControlledComponent()?Or(n)?[]:n:a;JUt(o)?this.updateSelectedKey(o,s):this._adapter.updateStates({keyEntities:s})}handleValueChange(e){const{keyEntities:t}=this.getStates();this.updateSelectedKey(e,t)}_getClearSelectedKey(e){const t={},{searchPlaceholder:n,placeholder:r,multiple:s}=this.getProps();return t.selectedKeys=new Set([]),t.activeKeys=new Set([]),t.filteredKeys=new Set([]),e&&!s&&(t.inputPlaceHolder=n||r||"",t.inputValue=""),t}updateSelectedKey(e,t){const{changeOnSelect:n,onChangeWithObject:r,multiple:s}=this.getProps(),{activeKeys:a,loading:o,keyEntities:l,selectedKeys:u}=this.getStates(),c=this._adapter.getLoadingKeyRefValue(),d=this._isFilterable(),h=[...a].filter(_=>c.has(_)),p=eGt(e),f=r&&tm(p[0])?p.map(_=>_.value):p,g=nGt(f);let v={};const m=g.length>0?g[0]:void 0,b=m?t[m]:void 0;if(b)if(n||this._isLeaf(b.data)){if(v.selectedKeys=new Set([m]),h.length||(v.activeKeys=new Set(b.path)),d&&!s){const _=this.renderDisplayText(m,t);v.inputPlaceHolder=_}}else Fn(g,Array.from(u))&&(v=this._getClearSelectedKey(d));else if(e&&e.length){const _=f[f.length-1],S=`not-exist-${_}`,C={data:{label:_,value:_},key:S,path:f,_notExist:!0};if(v.selectedKeys=new Set([S]),d&&!s){const k=this._defaultRenderText(f);v.inputPlaceHolder=k}t[S]=C}else if(o){v.keyEntities=TWt(l,t),this._adapter.updateStates(v);return}else v=this._getClearSelectedKey(d);v.keyEntities=t,this._adapter.updateStates(v)}open(){const e=this._isFilterable(),{multiple:t}=this.getProps();this._adapter.openMenu(),e&&(this._clearInput(),!t&&this.toggle2SearchInput(!0)),this._isControlledComponent()&&this.reCalcActiveKeys(),this._adapter.notifyDropdownVisibleChange(!0),this._adapter.registerClickOutsideHandler(n=>this.close(n))}reCalcActiveKeys(){const{selectedKeys:e,activeKeys:t,keyEntities:n}=this.getStates(),r=[...e][0],s=n[r];if(!s)return;const a=new Set(s.path);Fn(a,t)||this._adapter.updateStates({activeKeys:a})}close(e,t){const{multiple:n}=this.getProps();if(this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.unregisterClickOutsideHandler(),this._isFilterable()){const{selectedKeys:r,isSearching:s}=this.getStates();let a="";t&&!n?a=this.renderDisplayText(t):r.size&&!n&&(a=this.renderDisplayText([...r][0])),this._adapter.updateStates({inputValue:a}),!n&&this.toggle2SearchInput(!1),!n&&this._adapter.updateFocusState(!1)}this._notifyBlur(e)}focus(){const{filterTreeNode:e}=this.getProps();e&&this._adapter.focusInput(),this._adapter.updateFocusState(!0)}blur(){const{filterTreeNode:e}=this.getProps();e&&this._adapter.blurInput(),this._adapter.updateFocusState(!1)}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,()=>this.focus()):this._adapter.toggleInputShow(e,()=>{})}handleItemClick(e,t){this._isDisabled()||(this.handleSingleSelect(e,t),this._adapter.rePositionDropdown())}handleItemHover(e,t){this._isDisabled()||this.handleShowNextByHover(t)}handleShowNextByHover(e){const{keyEntities:t}=this.getStates(),{data:n,key:r}=e,s=this._isLeaf(n),a=t[r].path;this._adapter.updateStates({activeKeys:new Set(a)}),s||this.notifyIfLoadData(e)}onItemCheckboxClick(e){this._isDisabled()||(this._handleMultipleSelect(e),this._adapter.rePositionDropdown())}handleClick(e){const t=this._isDisabled(),n=this._isFilterable(),{isOpen:r}=this.getStates();t||(r?r&&!n&&this.close(e):(this.open(),this._notifyFocus(e)))}handleSelectionEnterPress(e){Qd(e)&&this.handleClick(e)}toggleHoverState(e){this._adapter.toggleHovering(e)}_defaultRenderText(e,t){const n=this.getProp("separator");return t&&typeof t=="function"?t(e):e.join(n)}renderDisplayText(e,t){const n=this.getProp("displayRender"),r=this.getProp("displayProp"),s=this.getItemPropPath(e,r,t);return this._defaultRenderText(s,n)}handleNodeLoad(e){const{data:t,key:n}=e,r=new Set(this._adapter.getLoadingKeyRefValue()),a=new Set(this._adapter.getLoadedKeyRefValue()).add(n),o=new Set([...r]);o.delete(n),this._adapter.notifyOnLoad(a,t),this._adapter.updateLoadingKeyRefValue(o),this._adapter.updateLoadedKeyRefValue(a),this._adapter.updateStates({loadingKeys:o,loadedKeys:a})}notifyIfLoadData(e){const{data:t,key:n}=e;if(this._adapter.updateStates({loading:!1}),!t.isLeaf&&!t.children&&this.getProp("loadData")){const r=this._adapter.getLoadedKeyRefValue(),s=new Set(this._adapter.getLoadingKeyRefValue());if(r.has(n)||s.has(n))return;this._adapter.updateStates({loading:!0});const{keyEntities:a}=this.getStates(),o=this.getItemPropPath(n,[],a),l=s.add(n);this._adapter.updateLoadingKeyRefValue(l),this._adapter.updateStates({loadingKeys:l}),this._adapter.notifyLoadData(o,this.handleNodeLoad.bind(this,e))}}handleSingleSelect(e,t){const{changeOnSelect:n,filterLeafOnly:r,multiple:s,enableLeafClick:a}=this.getProps(),{keyEntities:o,selectedKeys:l,isSearching:u}=this.getStates(),c=this._isFilterable(),{data:d,key:h}=t,p=this._isLeaf(d),f=o[h].path,g=[h],v=h!==[...l][0];if(!p&&!n&&!u){this._adapter.updateStates({activeKeys:new Set(f)}),this.notifyIfLoadData(t);return}if(s)this._adapter.updateStates({activeKeys:new Set(f)}),p&&a&&this.onItemCheckboxClick(t);else if(this._adapter.notifySelect(d.value),v){if(this._notifyChange(t),this.notifyIfLoadData(t),this._isControlledComponent()){this._adapter.updateStates({activeKeys:new Set(f)}),p&&this.close(e);return}this._adapter.updateStates({activeKeys:new Set(f),selectedKeys:new Set(g)});const m=this.renderDisplayText(h);c&&this._adapter.updateInputPlaceHolder(m),p?this.close(e,h):!r&&u&&this.close(e,h)}else this.close(e)}_handleMultipleSelect(e){const{key:t}=e,{checkedKeys:n,keyEntities:r,resolvedCheckedKeys:s}=this.getStates(),{autoMergeValue:a,max:o,disableStrictly:l,leafOnly:u}=this.getProps(),c=n.has(t),d=l?this.calcCheckedStatus(!c,t):!c,{checkedKeys:h,halfCheckedKeys:p}=l?this.calcNonDisabledCheckedKeys(t,d):this.calcCheckedKeys(t,d),f=yU(a,u),g=f===qa.LEAF_ONLY_MERGE_TYPE,v=f===qa.NONE_MERGE_TYPE,m=new Set(Lc(h,r,g)),b=v?h:m;if(Gs(o)){if(v){if(n.size<h.size&&h.size>o){const _=[];h.forEach(S=>{_.push(r[S])}),this._adapter.notifyOnExceed(_);return}}else if(s.size<m.size&&m.size>o){const _=[];m.forEach(S=>{_.push(r[S])}),this._adapter.notifyOnExceed(_);return}}this._isControlledComponent()||this._adapter.updateStates({checkedKeys:h,halfCheckedKeys:p,resolvedCheckedKeys:m}),this._notifyChange(b),d&&this._notifySelect(b),this._adapter.updateStates({inputValue:""})}calcNonDisabledCheckedKeys(e,t){const{keyEntities:n,disabledKeys:r}=this.getStates(),s=new Set(this.getState("checkedKeys")),a=Lc(bf([e],n,!1),n,!0);if(!a.some(c=>r.has(c)))return this.calcCheckedKeys(e,t);const l=a.filter(c=>!r.has(c)),u=t?[...l,...s]:s6(Lc([...s],n,!0),l);return $P(u,n)}calcCheckedStatus(e,t){if(!e)return e;const{checkedKeys:n,keyEntities:r,disabledKeys:s}=this.getStates(),a=Lc(bf([t],r,!1),r,!0);return a.some(c=>s.has(c))?!a.filter(c=>!s.has(c)).every(c=>n.has(c)):e}_notifySelect(e){const{keyEntities:t}=this.getStates(),n=[];e.forEach(s=>{var a,o;const l=(o=(a=t[s])===null||a===void 0?void 0:a.data)===null||o===void 0?void 0:o.value;l!==void 0&&n.push(l)});const r=n.length===1?n[0]:n;this._adapter.notifySelect(r)}calcCheckedKeys(e,t){const{keyEntities:n}=this.getStates(),r=new Set(this.getState("checkedKeys")),s=new Set(this.getState("halfCheckedKeys"));return t?OMe(e,n,r,s):MMe(e,n,r,s)}handleInputChange(e){this._adapter.updateInputValue(e);const{keyEntities:t}=this.getStates(),{treeNodeFilterProp:n,filterTreeNode:r,filterLeafOnly:s}=this.getProps();let a=[];e&&(a=Object.values(t).filter(o=>{const{key:l,_notExist:u,data:c}=o;if(u)return!1;const d=this.getItemPropPath(l,n);return tGt(e,c,r,d)}).filter(o=>r&&!s||this._isLeaf(o)).map(o=>o.key)),this._adapter.updateStates({isSearching:!!e,filteredKeys:new Set(a)}),this._adapter.notifyOnSearch(e)}handleClear(){const{isSearching:e}=this.getStates(),{searchPlaceholder:t,placeholder:n,multiple:r}=this.getProps(),s=this._isFilterable(),a=this._isControlledComponent(),o={};r?(o.isSearching=!1,this._adapter.updateInputValue(""),this._adapter.notifyOnSearch(""),o.checkedKeys=new Set([]),o.halfCheckedKeys=new Set([]),o.selectedKeys=new Set([]),o.activeKeys=new Set([]),o.resolvedCheckedKeys=new Set([]),this._adapter.notifyChange([])):s&&e?(o.isSearching=!1,this._adapter.updateInputValue(""),this._adapter.notifyOnSearch("")):(s&&(o.inputValue="",o.inputPlaceHolder=t||n||"",this._adapter.updateInputValue(""),this._adapter.notifyOnSearch("")),a||(o.selectedKeys=new Set([])),o.activeKeys=new Set([]),o.filteredKeys=new Set([]),this._adapter.notifyChange([])),this._adapter.updateStates(o),this._adapter.notifyClear(),this._adapter.rePositionDropdown()}handleClearEnterPress(e){Qd(e)&&this.handleClear()}getRenderData(){const{keyEntities:e,isSearching:t}=this.getStates(),n=this._isFilterable();return t&&n?this.getFilteredData():Object.values(e).filter(r=>r.parentKey===null&&!r._notExist).sort((r,s)=>parseInt(r.ind,10)-parseInt(s.ind,10))}getFilteredData(){const{treeNodeFilterProp:e,filterSorter:t}=this.getProps(),{filteredKeys:n,keyEntities:r,inputValue:s}=this.getStates(),a=[];return[...n].forEach(l=>{const u=r[l];if(!u)return;const c=this.getItemPropPath(l,[]),d=c.map(p=>p[e]),h=this._isOptionDisabled(l,r);a.push({data:u.data,pathData:c,key:l,disabled:h,searchText:d})}),sn(t)&&a.sort((l,u)=>t(l.pathData,u.pathData,s)),a}handleListScroll(e,t){const{activeKeys:n,keyEntities:r}=this.getStates(),s=[...n][n.size-1],a=s?wt(r,[s,"data"],null):null;this._adapter.notifyListScroll(e,{panelIndex:t,activeNode:a})}}var aGt=gp,oGt=tc,lGt="[object Boolean]";function uGt(i){return i===!0||i===!1||oGt(i)&&aGt(i)==lGt}var cGt=uGt;const FMe=Li(cGt),nR={PREFIX:`${Ze}-checkbox`,INNER:`${Ze}-checkbox-inner`,TEXT:`${Ze}-checkbox-text`,INPUT:`${Ze}-checkbox-input`,CHECKED:`${Ze}-checkbox-checked`,DISABLED:`${Ze}-checkbox-disabled`,BUTTON:`${Ze}-checkbox-button`,WRAPPER:""},dGt={PREFIX:`${Ze}-checkboxGroup`,INNER:`${Ze}-checkboxGroup-inner`,TEXT:`${Ze}-checkboxGroup-text`,INPUT:`${Ze}-checkboxGroup-input`,CHECKED:`${Ze}-checkboxGroup-checked`,DISABLED:`${Ze}-checkboxGroup-disabled`},pf={DIRECTION_SET:["horizontal","vertical"],TYPE_DEFAULT:"default",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",DEFAULT_DIRECTION:"vertical"};class hGt extends _n{constructor(e){super(Object.assign({},e)),this.clickState=!1,this.handleFocusVisible=t=>{const{target:n}=t;try{if(this.clickState){this.clickState=!1;return}n.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{vs(!0,"Warning: [Semi Checkbox] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this.clickState=!1,this._adapter.setFocusVisible(!1)}}init(){const{children:e,extra:t,extraId:n,addonId:r}=this.getProps();e&&!r&&this._adapter.setAddonId(),t&&!n&&this._adapter.setExtraId()}notifyChange(e,t){const n=this._adapter.generateEvent(e,t);this._adapter.notifyChange(n)}handleChange(e){if(this.getProp("disabled"))return;if((e==null?void 0:e.type)==="click"&&(this.clickState=!0),this._adapter.focusCheckboxEntity(),this._adapter.getIsInGroup()){this._adapter.getGroupDisabled()||this.handleChangeInGroup(e);return}const s=!this.getState("checked");this._isControlledComponent("checked")?this.notifyChange(s,e):(this.setChecked(s),this.notifyChange(s,e))}handleChangeInGroup(e){const{value:t}=this.getProps(),s=!this._adapter.getGroupValue().includes(t),a=this._adapter.generateEvent(s,e);this._adapter.notifyChange(a),this._adapter.notifyGroupChange(a)}handleEnterPress(e){Qd(e)&&this.handleChange(e)}setChecked(e){this._adapter.setNativeControlChecked(e)}destroy(){}}const jZ=R.createContext({});class w4 extends ee.PureComponent{blur(){this.inputEntity.blur()}focus(){const{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}render(){const{indeterminate:e,checked:t,disabled:n,prefixCls:r,name:s,isPureCardType:a,addonId:o,extraId:l,focusInner:u,onInputFocus:c,onInputBlur:d}=this.props,h=r||nR.PREFIX,p=he({[`${h}-inner`]:!0,[`${h}-inner-checked`]:!!t,[`${h}-inner-pureCardType`]:a},nR.WRAPPER),f=he({[`${h}-inner-display`]:!0,[`${h}-focus`]:u,[`${h}-focus-border`]:u&&!t}),g=t?R.createElement(PHt,null):e?R.createElement(AHt,null):null,v={type:"checkbox","aria-label":this.props["aria-label"],"aria-disabled":n,"aria-checked":t,"aria-labelledby":o,"aria-describedby":l||this.props["aria-describedby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-required":this.props["aria-required"],className:nR.INPUT,onChange:Te,checked:t,disabled:n,onFocus:c,onBlur:d};return s&&(v.name=s),R.createElement("span",{className:p},R.createElement("input",Object.assign({},v,{ref:m=>{this.inputEntity=m}})),R.createElement("span",{className:f},g))}}w4.contextType=jZ;w4.propTypes={"aria-describedby":w.string,"aria-errormessage":w.string,"aria-invalid":w.bool,"aria-labelledby":w.string,"aria-required":w.bool,checked:w.bool,disabled:w.bool,onChange:w.func,children:w.node,grouped:w.bool,value:w.any,isPureCardType:w.bool,addonId:w.string,extraId:w.string,focusInner:w.bool,onInputFocus:w.func,onInputBlur:w.func,preventScroll:w.bool};w4.defaultProps={onChange:Te};class rm extends ln{get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{const{onChange:t}=this.props;t&&t(e)},generateEvent:(e,t)=>{const{props:n}=this;return{target:Object.assign(Object.assign({},n),{checked:e}),stopPropagation:()=>{t.stopPropagation()},preventDefault:()=>{t.preventDefault()},nativeEvent:{stopImmediatePropagation:()=>{t.nativeEvent&&typeof t.nativeEvent.stopImmediatePropagation=="function"&&t.nativeEvent.stopImmediatePropagation()}}}},getIsInGroup:()=>this.isInGroup(),getGroupValue:()=>this.context&&this.context.checkboxGroup.value||[],notifyGroupChange:e=>{this.context.checkboxGroup.onChange(e)},getGroupDisabled:()=>this.context&&this.context.checkboxGroup.disabled,setAddonId:()=>{this.setState({addonId:x0({prefix:"addon"})})},setExtraId:()=>{this.setState({extraId:x0({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})},focusCheckboxEntity:()=>{this.focus()}})}constructor(e){super(e),this.handleChange=n=>this.foundation.handleChange(n),this.handleEnterPress=n=>this.foundation.handleEnterPress(n),this.handleFocusVisible=n=>{this.foundation.handleFocusVisible(n)},this.handleBlur=n=>{this.foundation.handleBlur()};const t=!1;this.state={checked:e.checked||e.defaultChecked||t,addonId:e.addonId,extraId:e.extraId,focusVisible:!1},this.checkboxEntity=null,this.foundation=new hGt(this.adapter)}componentDidUpdate(e){this.props.checked!==e.checked&&(Or(this.props.checked)?this.foundation.setChecked(!1):FMe(this.props.checked)&&this.foundation.setChecked(this.props.checked))}isInGroup(){return!!(this.context&&this.context.checkboxGroup&&"value"in this.props)}focus(){this.checkboxEntity&&this.checkboxEntity.focus()}blur(){this.checkboxEntity&&this.checkboxEntity.blur()}render(){const{disabled:e,style:t,prefixCls:n,className:r,indeterminate:s,children:a,onMouseEnter:o,onMouseLeave:l,extra:u,value:c,role:d,tabIndex:h,id:p,type:f}=this.props,{checked:g,addonId:v,extraId:m,focusVisible:b}=this.state,_={checked:g,disabled:e},S=this.isInGroup();if(S){if(this.context.checkboxGroup.value){const L=(this.context.checkboxGroup.value||[]).includes(c);_.checked=L}this.context.checkboxGroup.disabled&&(_.disabled=this.context.checkboxGroup.disabled||this.props.disabled);const{isCardType:M,isPureCardType:D}=this.context.checkboxGroup;_.isCardType=M,_.isPureCardType=D,_.name=this.context.checkboxGroup.name}else _.isPureCardType=f===pf.TYPE_PURECARD,_.isCardType=f===pf.TYPE_CARD||_.isPureCardType;const C=n||nR.PREFIX,k=_.isCardType||_.isPureCardType,E=he(C,{[`${C}-disabled`]:_.disabled,[`${C}-indeterminate`]:s,[`${C}-checked`]:_.checked,[`${C}-unChecked`]:!_.checked,[`${C}-cardType`]:_.isCardType,[`${C}-cardType_disabled`]:_.disabled&&_.isCardType,[`${C}-cardType_unDisabled`]:!(_.disabled&&_.isCardType),[`${C}-cardType_checked`]:_.isCardType&&_.checked&&!_.disabled,[`${C}-cardType_checked_disabled`]:_.isCardType&&_.checked&&_.disabled,[r]:!!r,[`${C}-focus`]:b&&k}),A=he(`${C}-extra`,{[`${C}-cardType_extra_noChildren`]:_.isCardType&&!a});S&&this.context.checkboxGroup.name;const P=this.props["x-semi-children-alias"]||"children",O=()=>!a&&!u?null:R.createElement("div",{className:`${C}-content`},a?R.createElement("span",{id:v,className:`${C}-addon`,"x-semi-prop":P},a):null,u?R.createElement("div",{id:m,className:A,"x-semi-prop":"extra"},u):null);return R.createElement("span",Object.assign({role:d,tabIndex:h,style:t,className:E,id:p,onMouseEnter:o,onMouseLeave:l,onClick:this.handleChange,onKeyPress:this.handleEnterPress,"aria-labelledby":this.props["aria-labelledby"]},this.getDataAttr(this.props)),R.createElement(w4,Object.assign({},this.props,_,{addonId:a&&v,extraId:u&&m,isPureCardType:_.isPureCardType,ref:M=>{this.checkboxEntity=M},focusInner:b&&!k,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),O())}}rm.contextType=jZ;rm.propTypes={"aria-describedby":w.string,"aria-errormessage":w.string,"aria-invalid":w.bool,"aria-labelledby":w.string,"aria-required":w.bool,checked:w.bool,defaultChecked:w.bool,disabled:w.bool,indeterminate:w.bool,onChange:w.func,value:w.any,style:w.object,className:w.string,prefixCls:w.string,onMouseEnter:w.func,onMouseLeave:w.func,extra:w.node,index:w.number,"aria-label":w.string,tabIndex:w.number,preventScroll:w.bool,type:w.string};rm.defaultProps={defaultChecked:!1,indeterminate:!1,onChange:Te,onMouseEnter:Te,onMouseLeave:Te,type:"default"};rm.elementType="Checkbox";class zZ extends _n{static get checkboxGroupDefaultAdapter(){return{}}constructor(e){super(Object.assign(Object.assign({},zZ.checkboxGroupDefaultAdapter),e))}init(){const{defaultValue:e,value:t}=this.getProps();typeof e<"u"&&!Array.isArray(e)&&vs(!0,"Warning: [Semi CheckboxGroup] defaultValue should be an Array"),typeof t<"u"&&!Array.isArray(t)&&vs(!0,"Warning: [Semi CheckboxGroup] value should be an Array")}notifyChange(e){this._adapter.notifyChange(e)}handleChange(e){const t=this.getState("value");let n=[];Array.isArray(t)||(n=[t]),e.target.checked?n=[...t,e.target.value]:n=t.filter((s,a)=>s!==e.target.value),"value"in this.getProps()?this.notifyChange(n):(this._adapter.updateGroupValue(n),this.notifyChange(n))}getFormatName(){return this.getProp("name")||"default"}handlePropValueChange(e){Array.isArray(e)?this._adapter.updateGroupValue(e):(typeof e>"u"&&this._adapter.updateGroupValue([]),vs(!0,"Warning: [Semi CheckboxGroup] value should be an Array"))}destroy(){}}class pC extends ln{get adapter(){return Object.assign(Object.assign({},super.adapter),{updateGroupValue:e=>{this.setState({value:e})},notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}constructor(e){super(e),this.state={value:e.value||e.defaultValue},this.foundation=new zZ(this.adapter),this.onChange=this.onChange.bind(this)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){Fn(e.value,this.props.value)||this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}onChange(e){this.foundation.handleChange(e)}render(){const{children:e,options:t,prefixCls:n,direction:r,className:s,id:a,style:o,type:l,disabled:u}=this.props,c=l===pf.TYPE_PURECARD,d=l===pf.TYPE_CARD||c,h=n||dGt.PREFIX,p=he({[h]:!0,[`${h}-wrapper`]:!0,[`${h}-${r}`]:r,[`${h}-${r}-cardType`]:r&&d,[`${h}-${r}-pureCardType`]:r&&c},s),f=this.state.value.slice();let g;return t?g=(t||[]).map((v,m)=>typeof v=="string"?R.createElement(rm,{role:"listitem",key:m,disabled:this.props.disabled,value:v,prefixCls:n},v):R.createElement(rm,{role:"listitem",key:m,disabled:v.disabled||this.props.disabled,value:v.value,prefixCls:n,extra:v.extra,className:v.className,style:v.style,onChange:v.onChange},v.label)):e&&(g=R.Children.toArray(e).map((v,m)=>R.cloneElement(v,{key:m,role:"listitem"}))),R.createElement("div",Object.assign({id:a,role:"list","aria-label":this.props["aria-label"],className:p,style:o,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"]},this.getDataAttr(this.props)),R.createElement(jZ.Provider,{value:{checkboxGroup:{onChange:this.onChange,value:f,disabled:this.props.disabled,name:this.foundation.getFormatName(),isCardType:d,isPureCardType:c}}},g))}}pC.propTypes={"aria-describedby":w.string,"aria-errormessage":w.string,"aria-invalid":w.bool,"aria-labelledby":w.string,"aria-required":w.bool,defaultValue:w.array,disabled:w.bool,name:w.string,options:w.array,value:w.array,onChange:w.func,children:w.node,prefixCls:w.string,direction:w.oneOf(pf.DIRECTION_SET),className:w.string,type:w.oneOf([pf.TYPE_DEFAULT,pf.TYPE_CARD,pf.TYPE_PURECARD]),style:w.object};pC.defaultProps={disabled:!1,onChange:()=>{},type:pf.TYPE_DEFAULT,defaultValue:[],direction:pf.DEFAULT_DIRECTION};class l6 extends rm{}l6.Group=pC;function _U(){return _U=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},_U.apply(this,arguments)}function pGt(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,JF(i,e)}var Nfe=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function fGt(i,e){return!!(i===e||Nfe(i)&&Nfe(e))}function gGt(i,e){if(i.length!==e.length)return!1;for(var t=0;t<i.length;t++)if(!fGt(i[t],e[t]))return!1;return!0}function M8(i,e){e===void 0&&(e=gGt);var t,n=[],r,s=!1;function a(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return s&&t===this&&e(o,n)||(r=i.apply(this,o),s=!0,t=this,n=o),r}return a}var mGt=typeof performance=="object"&&typeof performance.now=="function",jfe=mGt?function(){return performance.now()}:function(){return Date.now()};function zfe(i){cancelAnimationFrame(i.id)}function vGt(i,e){var t=jfe();function n(){jfe()-t>=e?i.call(null):r.id=requestAnimationFrame(n)}var r={id:requestAnimationFrame(n)};return r}var I8=-1;function Hfe(i){if(i===void 0&&(i=!1),I8===-1||i){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(e),I8=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return I8}var F1=null;function Vfe(i){if(i===void 0&&(i=!1),F1===null||i){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var n=document.createElement("div"),r=n.style;return r.width="100px",r.height="100px",e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?F1="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?F1="negative":F1="positive-ascending"),document.body.removeChild(e),F1}return F1}var yGt=150,_Gt=function(e,t){return e};function bGt(i){var e,t=i.getItemOffset,n=i.getEstimatedTotalSize,r=i.getItemSize,s=i.getOffsetForIndexAndAlignment,a=i.getStartIndexForOffset,o=i.getStopIndexForStartIndex,l=i.initInstanceProps,u=i.shouldResetStyleCacheOnItemSizeChange,c=i.validateProps;return e=function(d){pGt(h,d);function h(f){var g;return g=d.call(this,f)||this,g._instanceProps=l(g.props,Kt(g)),g._outerRef=void 0,g._resetIsScrollingTimeoutId=null,g.state={instance:Kt(g),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof g.props.initialScrollOffset=="number"?g.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},g._callOnItemsRendered=void 0,g._callOnItemsRendered=M8(function(v,m,b,_){return g.props.onItemsRendered({overscanStartIndex:v,overscanStopIndex:m,visibleStartIndex:b,visibleStopIndex:_})}),g._callOnScroll=void 0,g._callOnScroll=M8(function(v,m,b){return g.props.onScroll({scrollDirection:v,scrollOffset:m,scrollUpdateWasRequested:b})}),g._getItemStyle=void 0,g._getItemStyle=function(v){var m=g.props,b=m.direction,_=m.itemSize,S=m.layout,C=g._getItemStyleCache(u&&_,u&&S,u&&b),k;if(C.hasOwnProperty(v))k=C[v];else{var E=t(g.props,v,g._instanceProps),A=r(g.props,v,g._instanceProps),P=b==="horizontal"||S==="horizontal",O=b==="rtl",M=P?E:0;C[v]=k={position:"absolute",left:O?void 0:M,right:O?M:void 0,top:P?0:E,height:P?"100%":A,width:P?A:"100%"}}return k},g._getItemStyleCache=void 0,g._getItemStyleCache=M8(function(v,m,b){return{}}),g._onScrollHorizontal=function(v){var m=v.currentTarget,b=m.clientWidth,_=m.scrollLeft,S=m.scrollWidth;g.setState(function(C){if(C.scrollOffset===_)return null;var k=g.props.direction,E=_;if(k==="rtl")switch(Vfe()){case"negative":E=-_;break;case"positive-descending":E=S-b-_;break}return E=Math.max(0,Math.min(E,S-b)),{isScrolling:!0,scrollDirection:C.scrollOffset<E?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!1}},g._resetIsScrollingDebounced)},g._onScrollVertical=function(v){var m=v.currentTarget,b=m.clientHeight,_=m.scrollHeight,S=m.scrollTop;g.setState(function(C){if(C.scrollOffset===S)return null;var k=Math.max(0,Math.min(S,_-b));return{isScrolling:!0,scrollDirection:C.scrollOffset<k?"forward":"backward",scrollOffset:k,scrollUpdateWasRequested:!1}},g._resetIsScrollingDebounced)},g._outerRefSetter=function(v){var m=g.props.outerRef;g._outerRef=v,typeof m=="function"?m(v):m!=null&&typeof m=="object"&&m.hasOwnProperty("current")&&(m.current=v)},g._resetIsScrollingDebounced=function(){g._resetIsScrollingTimeoutId!==null&&zfe(g._resetIsScrollingTimeoutId),g._resetIsScrollingTimeoutId=vGt(g._resetIsScrolling,yGt)},g._resetIsScrolling=function(){g._resetIsScrollingTimeoutId=null,g.setState({isScrolling:!1},function(){g._getItemStyleCache(-1,null)})},g}h.getDerivedStateFromProps=function(g,v){return SGt(g,v),c(g),null};var p=h.prototype;return p.scrollTo=function(g){g=Math.max(0,g),this.setState(function(v){return v.scrollOffset===g?null:{scrollDirection:v.scrollOffset<g?"forward":"backward",scrollOffset:g,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},p.scrollToItem=function(g,v){v===void 0&&(v="auto");var m=this.props,b=m.itemCount,_=m.layout,S=this.state.scrollOffset;g=Math.max(0,Math.min(g,b-1));var C=0;if(this._outerRef){var k=this._outerRef;_==="vertical"?C=k.scrollWidth>k.clientWidth?Hfe():0:C=k.scrollHeight>k.clientHeight?Hfe():0}this.scrollTo(s(this.props,g,v,S,this._instanceProps,C))},p.componentDidMount=function(){var g=this.props,v=g.direction,m=g.initialScrollOffset,b=g.layout;if(typeof m=="number"&&this._outerRef!=null){var _=this._outerRef;v==="horizontal"||b==="horizontal"?_.scrollLeft=m:_.scrollTop=m}this._callPropsCallbacks()},p.componentDidUpdate=function(){var g=this.props,v=g.direction,m=g.layout,b=this.state,_=b.scrollOffset,S=b.scrollUpdateWasRequested;if(S&&this._outerRef!=null){var C=this._outerRef;if(v==="horizontal"||m==="horizontal")if(v==="rtl")switch(Vfe()){case"negative":C.scrollLeft=-_;break;case"positive-ascending":C.scrollLeft=_;break;default:var k=C.clientWidth,E=C.scrollWidth;C.scrollLeft=E-k-_;break}else C.scrollLeft=_;else C.scrollTop=_}this._callPropsCallbacks()},p.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&zfe(this._resetIsScrollingTimeoutId)},p.render=function(){var g=this.props,v=g.children,m=g.className,b=g.direction,_=g.height,S=g.innerRef,C=g.innerElementType,k=g.innerTagName,E=g.itemCount,A=g.itemData,P=g.itemKey,O=P===void 0?_Gt:P,M=g.layout,D=g.outerElementType,L=g.outerTagName,H=g.style,B=g.useIsScrolling,F=g.width,z=this.state.isScrolling,N=b==="horizontal"||M==="horizontal",U=N?this._onScrollHorizontal:this._onScrollVertical,G=this._getRangeToRender(),j=G[0],K=G[1],ie=[];if(E>0)for(var ae=j;ae<=K;ae++)ie.push(ee.createElement(v,{data:A,key:O(ae,A),index:ae,isScrolling:B?z:void 0,style:this._getItemStyle(ae)}));var re=n(this.props,this._instanceProps);return ee.createElement(D||L||"div",{className:m,onScroll:U,ref:this._outerRefSetter,style:_U({position:"relative",height:_,width:F,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:b},H)},ee.createElement(C||k||"div",{children:ie,ref:S,style:{height:N?"100%":re,pointerEvents:z?"none":void 0,width:N?re:"100%"}}))},p._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var g=this.props.itemCount;if(g>0){var v=this._getRangeToRender(),m=v[0],b=v[1],_=v[2],S=v[3];this._callOnItemsRendered(m,b,_,S)}}if(typeof this.props.onScroll=="function"){var C=this.state,k=C.scrollDirection,E=C.scrollOffset,A=C.scrollUpdateWasRequested;this._callOnScroll(k,E,A)}},p._getRangeToRender=function(){var g=this.props,v=g.itemCount,m=g.overscanCount,b=this.state,_=b.isScrolling,S=b.scrollDirection,C=b.scrollOffset;if(v===0)return[0,0,0,0];var k=a(this.props,C,this._instanceProps),E=o(this.props,k,C,this._instanceProps),A=!_||S==="backward"?Math.max(1,m):1,P=!_||S==="forward"?Math.max(1,m):1;return[Math.max(0,k-A),Math.max(0,Math.min(v-1,E+P)),k,E]},h}(ee.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var SGt=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},HZ=bGt({getItemOffset:function(e,t){var n=e.itemSize;return t*n},getItemSize:function(e,t){var n=e.itemSize;return n},getEstimatedTotalSize:function(e){var t=e.itemCount,n=e.itemSize;return n*t},getOffsetForIndexAndAlignment:function(e,t,n,r,s,a){var o=e.direction,l=e.height,u=e.itemCount,c=e.itemSize,d=e.layout,h=e.width,p=o==="horizontal"||d==="horizontal",f=p?h:l,g=Math.max(0,u*c-f),v=Math.min(g,t*c),m=Math.max(0,t*c-f+c+a);switch(n==="smart"&&(r>=m-f&&r<=v+f?n="auto":n="center"),n){case"start":return v;case"end":return m;case"center":{var b=Math.round(m+(v-m)/2);return b<Math.ceil(f/2)?0:b>g+Math.floor(f/2)?g:b}case"auto":default:return r>=m&&r<=v?r:r<m?m:v}},getStartIndexForOffset:function(e,t){var n=e.itemCount,r=e.itemSize;return Math.max(0,Math.min(n-1,Math.floor(t/r)))},getStopIndexForStartIndex:function(e,t,n){var r=e.direction,s=e.height,a=e.itemCount,o=e.itemSize,l=e.layout,u=e.width,c=r==="horizontal"||l==="horizontal",d=t*o,h=c?u:s,p=Math.ceil((h+n-d)/o);return Math.max(0,Math.min(a-1,t+p-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});const xGt=i=>{let{index:e,data:t,style:n}=i;const{visibleOptions:r,renderOption:s}=t,a=r[e];return s(a,e,n)},Er=RMe.PREFIX_OPTION;let C4=class extends ee.PureComponent{constructor(){super(...arguments),this.onClick=(e,t)=>{const{onItemClick:n}=this.props;t.data.disabled||"disabled"in t&&t.disabled||n(e,t)},this.handleItemEnterPress=(e,t)=>{Qd(e)&&this.onClick(e,t)},this.onHover=(e,t)=>{const{showNext:n,onItemHover:r}=this.props;t.data.disabled||n===qa.SHOW_NEXT_BY_HOVER&&r(e,t)},this.onCheckboxChange=(e,t)=>{const{onItemCheckboxClick:n}=this.props;e.stopPropagation(),e.nativeEvent&&typeof e.nativeEvent.stopImmediatePropagation=="function"&&e.nativeEvent.stopImmediatePropagation(),n(t)},this.getItemStatus=e=>{const{activeKeys:t,selectedKeys:n,loadedKeys:r,loadingKeys:s}=this.props,a={active:!1,selected:!1,loading:!1};return t.has(e)&&(a.active=!0),n.has(e)&&(a.selected=!0),s.has(e)&&!r.has(e)&&(a.loading=!0),a},this.renderIcon=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=r=>r+(t?` ${Er}-icon-left`:"");switch(e){case"child":return R.createElement(rMe,{className:n(`${Er}-icon ${Er}-icon-expand`)});case"tick":return R.createElement(g4,{className:n(`${Er}-icon ${Er}-icon-active`)});case"loading":return R.createElement(nm,{wrapperClassName:n(`${Er}-spin-icon`)});case"empty":return R.createElement("span",{"aria-hidden":!0,className:n(`${Er}-icon ${Er}-icon-empty`)});default:return null}},this.highlight=e=>{const t=[],{keyword:n,separator:r}=this.props;return e.forEach((s,a)=>{typeof s=="string"&&zS(s,n)?s.split(n).forEach((o,l)=>{l>0&&t.push(R.createElement("span",{className:`${Er}-label-highlight`,key:`${l}-${a}`},n)),t.push(o)}):t.push(s),a!==e.length-1&&t.push(r)}),t},this.renderFlattenOptionItem=(e,t,n)=>{var r;const{multiple:s,selectedKeys:a,checkedKeys:o,halfCheckedKeys:l,keyword:u,filterRender:c,virtualize:d}=this.props,{searchText:h,key:p,disabled:f,pathData:g}=e,v=a.has(p),m=he(Er,{[`${Er}-flatten`]:!c,[`${Er}-disabled`]:f,[`${Er}-select`]:v&&!s}),b=C=>{this.onClick(C,e)},_=C=>this.handleItemEnterPress(C,e),S=C=>this.onCheckboxChange(C,e);if(c){const C={className:m,inputValue:u,disabled:f,data:g,checkStatus:{checked:o.has(e.key),halfChecked:l.has(e.key)},selected:v,onClick:b,onCheck:S},k=c(C),E=d?{key:p,style:Object.assign(Object.assign({},(r=k.props.style)!==null&&r!==void 0?r:{}),n)}:{key:p};return R.cloneElement(k,E)}return R.createElement("li",{role:"menuitem",className:m,style:n,key:p,onClick:b,onKeyPress:_},R.createElement("span",{className:`${Er}-label`},!s&&this.renderIcon("empty"),s&&R.createElement(l6,{onChange:S,disabled:f,indeterminate:l.has(e.key),checked:o.has(e.key),className:`${Er}-label-checkbox`}),this.highlight(h)))},this.renderFlattenOption=e=>{const{virtualize:t}=this.props;return R.createElement("ul",{className:`${Er}-list`,key:"flatten-list"},t?this.renderVirtualizeList(e):e.map(r=>this.renderFlattenOptionItem(r)))},this.renderVirtualizeList=e=>{var t;const{direction:n}=this.context,{virtualize:r}=this.props;return R.createElement(HZ,{height:r.height,itemCount:e.length,itemSize:r.itemSize,itemData:{visibleOptions:e,renderOption:this.renderFlattenOptionItem},width:(t=r.width)!==null&&t!==void 0?t:"100%",style:{direction:n}},xGt)}}renderItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const{multiple:n,checkedKeys:r,halfCheckedKeys:s}=this.props;let a;const o=t.length;return t.push(R.createElement("ul",{role:"menu",className:`${Er}-list`,key:e[0].key,onScroll:l=>this.props.onListScroll(l,o)},e.map(l=>{const{data:u,key:c,parentKey:d}=l,{children:h,label:p,disabled:f,isLeaf:g}=u,{active:v,selected:m,loading:b}=this.getItemStatus(c),_=!!h&&h.length,S=_||this.props.loadData&&!g;v&&_&&(a=l);const C=he(Er,{[`${Er}-active`]:v&&!m,[`${Er}-select`]:m&&!n,[`${Er}-disabled`]:f}),k=d?{"aria-owns":`cascaderItem-${d}`}:{};return R.createElement("li",Object.assign({role:"menuitem",id:`cascaderItem-${c}`,"aria-expanded":v,"aria-haspopup":!!S,"aria-disabled":f},k,{className:C,key:c,onClick:E=>{this.onClick(E,l)},onKeyPress:E=>this.handleItemEnterPress(E,l),onMouseEnter:E=>{this.onHover(E,l)}}),R.createElement("span",{className:`${Er}-label`},m&&!n&&this.renderIcon("tick"),!m&&!n&&this.renderIcon("empty"),n&&R.createElement(l6,{onChange:E=>this.onCheckboxChange(E,l),disabled:f,indeterminate:s.has(l.key),checked:r.has(l.key),className:`${Er}-label-checkbox`}),R.createElement("span",null,p)),S?this.renderIcon(b?"loading":"child",!0):null)}))),a&&t.concat(this.renderItem(a.children,t)),t}renderEmpty(){const{emptyContent:e}=this.props;return R.createElement(La,{componentName:"Cascader"},t=>R.createElement("ul",{className:`${Er} ${Er}-empty`,key:"empty-list"},R.createElement("span",{className:`${Er}-label`,"x-semi-prop":"emptyContent"},e||t.emptyText)))}render(){const{data:e,searchable:t}=this.props,{direction:n}=this.context,r=!e||!e.length;let s;const a=he({[`${Er}-lists`]:!0,[`${Er}-lists-rtl`]:n==="rtl",[`${Er}-lists-empty`]:r});return r?s=this.renderEmpty():s=t?this.renderFlattenOption(e):this.renderItem(e),R.createElement("div",{className:a},s)}};C4.contextType=ic;C4.propTypes={data:w.array,emptyContent:w.node,searchable:w.bool,onItemClick:w.func,onItemHover:w.func,multiple:w.bool,showNext:w.oneOf([qa.SHOW_NEXT_BY_CLICK,qa.SHOW_NEXT_BY_HOVER]),checkedKeys:w.object,halfCheckedKeys:w.object,onItemCheckboxClick:w.func,separator:w.string,keyword:w.string,virtualize:w.object};C4.defaultProps={empty:!1};const BMe={PREFIX:`${Ze}-tag`},fC={TAG_SIZE:["default","small","large"],TAG_COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],TAG_TYPE:["light","solid","ghost"],AVATAR_SHAPE:["square","circle"]};var wGt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const ul=BMe.PREFIX,$Me=fC.TAG_COLOR,NMe=fC.TAG_SIZE,jMe=fC.TAG_TYPE,CGt=fC.AVATAR_SHAPE;class Gu extends ee.Component{constructor(e){super(e),this.state={visible:!0},this.close=this.close.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getDerivedStateFromProps(e){return"visible"in e?{visible:e.visible}:null}setVisible(e){"visible"in this.props||this.setState({visible:e})}close(e,t,n){const{onClose:r}=this.props;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),r&&r(t,e,n),!e.defaultPrevented&&this.setVisible(!1)}handleKeyDown(e){const{closable:t,onClick:n,onKeyDown:r}=this.props;switch(e.key){case"Backspace":case"Delete":t&&this.close(e,this.props.children,this.props.tagKey),Zh(e);break;case"Enter":n(e),Zh(e);break;case"Escape":e.target.blur();break}r&&r(e)}renderAvatar(){const{avatarShape:e,avatarSrc:t}=this.props;return R.createElement(pw,{src:t,shape:e})}render(){const e=this.props,{tagKey:t,children:n,size:r,color:s,closable:a,visible:o,onClose:l,onClick:u,className:c,type:d,shape:h,avatarSrc:p,avatarShape:f,tabIndex:g,prefixIcon:v,suffixIcon:m}=e,b=wGt(e,["tagKey","children","size","color","closable","visible","onClose","onClick","className","type","shape","avatarSrc","avatarShape","tabIndex","prefixIcon","suffixIcon"]),{visible:_}=this.state,S=u!==Gu.defaultProps.onClick||a,C={role:"button",tabIndex:g||0,onKeyDown:this.handleKeyDown},k=Object.assign(Object.assign({},b),{onClick:u,tabIndex:g,className:he(ul,{[`${ul}-default`]:r==="default",[`${ul}-small`]:r==="small",[`${ul}-large`]:r==="large",[`${ul}-square`]:h==="square",[`${ul}-circle`]:h==="circle",[`${ul}-${d}`]:d,[`${ul}-${s}-${d}`]:s&&d,[`${ul}-closable`]:a,[`${ul}-invisible`]:!_,[`${ul}-avatar-${f}`]:p},c)}),E=S?Object.assign(Object.assign({},k),C):k,A=a?R.createElement("div",{className:`${ul}-close`,onClick:M=>this.close(M,n,t)},R.createElement(PZ,{size:"small"})):null,P=en(n),O=he(`${ul}-content`,`${ul}-content-${P?"ellipsis":"center"}`);return R.createElement("div",Object.assign({"aria-label":this.props["aria-label"]||P?`${a?"Closable ":""}Tag: ${n}`:""},E),v?R.createElement("div",{className:`${ul}-prefix-icon`},v):null,p?this.renderAvatar():null,R.createElement("div",{className:O},n),m?R.createElement("div",{className:`${ul}-suffix-icon`},m):null,A)}}Gu.defaultProps={size:NMe[0],color:$Me[0],closable:!1,type:jMe[0],onClose:()=>{},onClick:()=>{},onMouseEnter:()=>{},style:{},className:"",shape:"square",avatarShape:"square",prefixIcon:null,suffixIcon:null};Gu.propTypes={children:w.node,tagKey:w.oneOfType([w.string,w.number]),size:w.oneOf(NMe),color:w.oneOf($Me),type:w.oneOf(jMe),closable:w.bool,visible:w.bool,onClose:w.func,onClick:w.func,prefixIcon:w.node,suffixIcon:w.node,style:w.object,className:w.string,avatarSrc:w.string,avatarShape:w.oneOf(CGt),"aria-label":w.string};const kGt={PREFIX:`${Ze}-tagInput`},Wfe={SIZE_SET:["large","default","small"],STATUS:["success","default","error","warning"]},XI=(i,e)=>{let t=[];if(en(e)||Gs(e))t=i.split(e);else if(Jq(e)){const n=e[0];t=i;for(let r=1;r<e.length;r++)t=t.split(e[r]).join(n);t=t.split(n)}else t.push(i);return t};function EGt(i,e,t){const n=i.slice();return n.splice(t<0?n.length+t:t,0,n.splice(e,1)[0]),n}class AGt extends _n{constructor(e){super(Object.assign({},e)),this.handleInputChange=t=>{const{value:n}=t.target,{entering:r}=this.getStates();r?this._onInputChange(n,t):this._checkInputChangeValid(n)&&this._onInputChange(n,t)},this.handleInputCompositionStart=t=>{const{maxLength:n}=this.getProps();Gs(n)&&this._adapter.setEntering(!0)},this.handleInputCompositionEnd=t=>{const{value:n}=t.target,{maxLength:r,onInputExceed:s,separator:a}=this.getProps();if(!Gs(r))return;this._adapter.setEntering(!1);let o=!0;const l=XI(n,a);let u=0;for(;u<l.length;u++)if(l[u].length>r){o=!1,sn(s)&&s(n);break}if(o)this._adapter.setInputValue(n);else{const c=l.slice(0,u);u<l.length&&c.push(l[u].slice(0,r)),this._adapter.setInputValue(c.join(a))}},this._checkInputChangeValid=t=>{const{maxLength:n,onInputExceed:r,separator:s}=this._adapter.getProps(),{inputValue:a}=this._adapter.getStates();let o=!0;if(Gs(n)){const l=XI(t,s),u=XI(a,s),c=Math.max(l.length,u.length);for(let d=0;d<c;d++)if(!Or(l[d])&&(Or(u[d])||l[d].length>u[d].length)&&l[d].length>n){o=!1,sn(r)&&r(t);break}}return o},this.handleKeyDown=t=>{const{inputValue:n,tagsArray:r}=this._adapter.getStates(),s=t.keyCode;s===No.ENTER&&(t.preventDefault(),n!==""&&this._handleAddTags(t));const{length:a}=r;if(s===No.BACKSPACE&&n===""&&a>0){const o=r.slice(0,a-1),l=r[a-1];this._onRemove(o,l,a-1)}this._adapter.notifyKeyDown(t)}}_handleAddTags(e){const{separator:t,max:n,onExceed:r,allowDuplicates:s}=this._adapter.getProps(),{inputValue:a,tagsArray:o}=this._adapter.getStates();let l=XI(a,t);l=l.filter((c,d)=>!s&&(o.includes(c)||l.indexOf(c)!==d)?!1:en(c)&&c.trim()!=="");let u=o.concat(l);Gs(n)&&u.length>n&&(sn(r)&&r(u),u=u.slice(0,n),l=l.slice(0,n-o.length)),l.length>0&&this._onAdd(u,l),this._onInputChange("",e)}handleInputBlur(e){const{addOnBlur:t}=this._adapter.getProps();t===!0&&this._handleAddTags(e),this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputFocus(e){this._adapter.setFocusing(!0),this._adapter.notifyFocus(e)}handleClearEnterPress(e){Qd(e)&&this.handleClearBtn(e)}handleClearBtn(e){const{inputValue:t,tagsArray:n}=this._adapter.getStates();n.length>0&&(this._adapter.setTagsArray([]),this._adapter.notifyTagChange([])),t.length>0&&this._onInputChange("",e),e.stopPropagation()}handleTagClose(e){const{tagsArray:t}=this._adapter.getStates(),n=[...t];n.splice(e,1);const r=t[e];this._onRemove(n,r,e)}handleInputMouseEnter(){this._adapter.setHovering(!0)}handleInputMouseLeave(){this._adapter.setHovering(!1)}handleClick(e){const{disabled:t}=this.getProps();if(t)return;this._adapter.getClickOutsideHandler()||(this._adapter.setActive(!0),this._adapter.registerClickOutsideHandler(r=>this.clickOutsideCallBack()))}clickOutsideCallBack(){this._adapter.unregisterClickOutsideHandler(),this._adapter.setActive(!1)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:n}=this._adapter.getStates();!t&&!n&&this._adapter.toggleFocusing(!0)}handlePreventMouseDown(e){e&&sn(e.preventDefault)&&e.preventDefault()}_onRemove(e,t,n){this._isControlledComponent()||this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagRemove(t,n)}_onAdd(e,t){this._isControlledComponent()||this._adapter.setTagsArray(e),this._adapter.notifyTagChange(e),this._adapter.notifyTagAdd(t)}_onInputChange(e,t){this._adapter.setInputValue(e),this._adapter.notifyInputChange(e,t)}handleSortEnd(e){const{oldIndex:t,newIndex:n}=e,{tagsArray:r}=this.getStates(),s=EGt(r,t,n);this._isControlledComponent()||this._adapter.setTagsArray(s),this._adapter.notifyTagChange(s)}}function TGt(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return ee.useMemo(()=>n=>{e.forEach(r=>r(n))},e)}const k4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gC(i){const e=Object.prototype.toString.call(i);return e==="[object Window]"||e==="[object global]"}function VZ(i){return"nodeType"in i}function gu(i){var e,t;return i?gC(i)?i:VZ(i)&&(e=(t=i.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function WZ(i){const{Document:e}=gu(i);return i instanceof e}function NP(i){return gC(i)?!1:i instanceof gu(i).HTMLElement}function zMe(i){return i instanceof gu(i).SVGElement}function mC(i){return i?gC(i)?i.document:VZ(i)?WZ(i)?i:NP(i)||zMe(i)?i.ownerDocument:document:document:document}const eh=k4?ee.useLayoutEffect:ee.useEffect;function E4(i){const e=ee.useRef(i);return eh(()=>{e.current=i}),ee.useCallback(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.current==null?void 0:e.current(...n)},[])}function PGt(){const i=ee.useRef(null),e=ee.useCallback((n,r)=>{i.current=setInterval(n,r)},[]),t=ee.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[e,t]}function y2(i,e){e===void 0&&(e=[i]);const t=ee.useRef(i);return eh(()=>{t.current!==i&&(t.current=i)},e),t}function jP(i,e){const t=ee.useRef();return ee.useMemo(()=>{const n=i(t.current);return t.current=n,n},[...e])}function u6(i){const e=E4(i),t=ee.useRef(null),n=ee.useCallback(r=>{r!==t.current&&(e==null||e(r,t.current)),t.current=r},[]);return[t,n]}function c6(i){const e=ee.useRef();return ee.useEffect(()=>{e.current=i},[i]),e.current}let R8={};function zP(i,e){return ee.useMemo(()=>{if(e)return e;const t=R8[i]==null?0:R8[i]+1;return R8[i]=t,i+"-"+t},[i,e])}function HMe(i){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((s,a)=>{const o=Object.entries(a);for(const[l,u]of o){const c=s[l];c!=null&&(s[l]=c+i*u)}return s},{...e})}}const _x=HMe(1),_2=HMe(-1);function OGt(i){return"clientX"in i&&"clientY"in i}function A4(i){if(!i)return!1;const{KeyboardEvent:e}=gu(i.target);return e&&i instanceof e}function MGt(i){if(!i)return!1;const{TouchEvent:e}=gu(i.target);return e&&i instanceof e}function d6(i){if(MGt(i)){if(i.touches&&i.touches.length){const{clientX:e,clientY:t}=i.touches[0];return{x:e,y:t}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:e,clientY:t}=i.changedTouches[0];return{x:e,y:t}}}return OGt(i)?{x:i.clientX,y:i.clientY}:null}const w0=Object.freeze({Translate:{toString(i){if(!i)return;const{x:e,y:t}=i;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:e,scaleY:t}=i;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(i){if(i)return[w0.Translate.toString(i),w0.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:e,duration:t,easing:n}=i;return e+" "+t+"ms "+n}}}),Ufe="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function IGt(i){return i.matches(Ufe)?i:i.querySelector(Ufe)}const RGt={display:"none"};function DGt(i){let{id:e,value:t}=i;return R.createElement("div",{id:e,style:RGt},t)}function LGt(i){let{id:e,announcement:t,ariaLiveType:n="assertive"}=i;const r={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return R.createElement("div",{id:e,style:r,role:"status","aria-live":n,"aria-atomic":!0},t)}function FGt(){const[i,e]=ee.useState("");return{announce:ee.useCallback(n=>{n!=null&&e(n)},[]),announcement:i}}const VMe=ee.createContext(null);function BGt(i){const e=ee.useContext(VMe);ee.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(i)},[i,e])}function $Gt(){const[i]=ee.useState(()=>new Set),e=ee.useCallback(n=>(i.add(n),()=>i.delete(n)),[i]);return[ee.useCallback(n=>{let{type:r,event:s}=n;i.forEach(a=>{var o;return(o=a[r])==null?void 0:o.call(a,s)})},[i]),e]}const NGt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},jGt={onDragStart(i){let{active:e}=i;return"Picked up draggable item "+e.id+"."},onDragOver(i){let{active:e,over:t}=i;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(i){let{active:e,over:t}=i;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(i){let{active:e}=i;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function zGt(i){let{announcements:e=jGt,container:t,hiddenTextDescribedById:n,screenReaderInstructions:r=NGt}=i;const{announce:s,announcement:a}=FGt(),o=zP("DndLiveRegion"),[l,u]=ee.useState(!1);if(ee.useEffect(()=>{u(!0)},[]),BGt(ee.useMemo(()=>({onDragStart(d){let{active:h}=d;s(e.onDragStart({active:h}))},onDragMove(d){let{active:h,over:p}=d;e.onDragMove&&s(e.onDragMove({active:h,over:p}))},onDragOver(d){let{active:h,over:p}=d;s(e.onDragOver({active:h,over:p}))},onDragEnd(d){let{active:h,over:p}=d;s(e.onDragEnd({active:h,over:p}))},onDragCancel(d){let{active:h,over:p}=d;s(e.onDragCancel({active:h,over:p}))}}),[s,e])),!l)return null;const c=R.createElement(R.Fragment,null,R.createElement(DGt,{id:n,value:r.draggable}),R.createElement(LGt,{id:o,announcement:a}));return t?Mc.createPortal(c,t):c}var Xa;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(Xa||(Xa={}));function h6(){}function D8(i,e){return ee.useMemo(()=>({sensor:i,options:e??{}}),[i,e])}function HGt(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return ee.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const dp=Object.freeze({x:0,y:0});function WMe(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function VGt(i,e){const t=d6(i);if(!t)return"0 0";const n={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function UMe(i,e){let{data:{value:t}}=i,{data:{value:n}}=e;return t-n}function WGt(i,e){let{data:{value:t}}=i,{data:{value:n}}=e;return n-t}function Gfe(i){let{left:e,top:t,height:n,width:r}=i;return[{x:e,y:t},{x:e+r,y:t},{x:e,y:t+n},{x:e+r,y:t+n}]}function GMe(i,e){if(!i||i.length===0)return null;const[t]=i;return t[e]}function Yfe(i,e,t){return e===void 0&&(e=i.left),t===void 0&&(t=i.top),{x:e+i.width*.5,y:t+i.height*.5}}const UGt=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=i;const r=Yfe(e,e.left,e.top),s=[];for(const a of n){const{id:o}=a,l=t.get(o);if(l){const u=WMe(Yfe(l),r);s.push({id:o,data:{droppableContainer:a,value:u}})}}return s.sort(UMe)},GGt=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=i;const r=Gfe(e),s=[];for(const a of n){const{id:o}=a,l=t.get(o);if(l){const u=Gfe(l),c=r.reduce((h,p,f)=>h+WMe(u[f],p),0),d=Number((c/4).toFixed(4));s.push({id:o,data:{droppableContainer:a,value:d}})}}return s.sort(UMe)};function YGt(i,e){const t=Math.max(e.top,i.top),n=Math.max(e.left,i.left),r=Math.min(e.left+e.width,i.left+i.width),s=Math.min(e.top+e.height,i.top+i.height),a=r-n,o=s-t;if(n<r&&t<s){const l=e.width*e.height,u=i.width*i.height,c=a*o,d=c/(l+u-c);return Number(d.toFixed(4))}return 0}const KGt=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=i;const r=[];for(const s of n){const{id:a}=s,o=t.get(a);if(o){const l=YGt(o,e);l>0&&r.push({id:a,data:{droppableContainer:s,value:l}})}}return r.sort(WGt)};function XGt(i,e,t){return{...i,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function YMe(i,e){return i&&e?{x:i.left-e.left,y:i.top-e.top}:dp}function qGt(i){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((a,o)=>({...a,top:a.top+i*o.y,bottom:a.bottom+i*o.y,left:a.left+i*o.x,right:a.right+i*o.x}),{...t})}}const ZGt=qGt(1);function KMe(i){if(i.startsWith("matrix3d(")){const e=i.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(i.startsWith("matrix(")){const e=i.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function QGt(i,e,t){const n=KMe(e);if(!n)return i;const{scaleX:r,scaleY:s,x:a,y:o}=n,l=i.left-a-(1-r)*parseFloat(t),u=i.top-o-(1-s)*parseFloat(t.slice(t.indexOf(" ")+1)),c=r?i.width/r:i.width,d=s?i.height/s:i.height;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l}}const JGt={ignoreTransform:!1};function vC(i,e){e===void 0&&(e=JGt);let t=i.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:c}=gu(i).getComputedStyle(i);u&&(t=QGt(t,u,c))}const{top:n,left:r,width:s,height:a,bottom:o,right:l}=t;return{top:n,left:r,width:s,height:a,bottom:o,right:l}}function Kfe(i){return vC(i,{ignoreTransform:!0})}function eYt(i){const e=i.innerWidth,t=i.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function tYt(i,e){return e===void 0&&(e=gu(i).getComputedStyle(i)),e.position==="fixed"}function iYt(i,e){e===void 0&&(e=gu(i).getComputedStyle(i));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const s=e[r];return typeof s=="string"?t.test(s):!1})}function T4(i,e){const t=[];function n(r){if(e!=null&&t.length>=e||!r)return t;if(WZ(r)&&r.scrollingElement!=null&&!t.includes(r.scrollingElement))return t.push(r.scrollingElement),t;if(!NP(r)||zMe(r)||t.includes(r))return t;const s=gu(i).getComputedStyle(r);return r!==i&&iYt(r,s)&&t.push(r),tYt(r,s)?t:n(r.parentNode)}return i?n(i):t}function XMe(i){const[e]=T4(i,1);return e??null}function L8(i){return!k4||!i?null:gC(i)?i:VZ(i)?WZ(i)||i===mC(i).scrollingElement?window:NP(i)?i:null:null}function qMe(i){return gC(i)?i.scrollX:i.scrollLeft}function ZMe(i){return gC(i)?i.scrollY:i.scrollTop}function bU(i){return{x:qMe(i),y:ZMe(i)}}var _o;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(_o||(_o={}));function QMe(i){return!k4||!i?!1:i===document.scrollingElement}function JMe(i){const e={x:0,y:0},t=QMe(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},n={x:i.scrollWidth-t.width,y:i.scrollHeight-t.height},r=i.scrollTop<=e.y,s=i.scrollLeft<=e.x,a=i.scrollTop>=n.y,o=i.scrollLeft>=n.x;return{isTop:r,isLeft:s,isBottom:a,isRight:o,maxScroll:n,minScroll:e}}const nYt={x:.2,y:.2};function rYt(i,e,t,n,r){let{top:s,left:a,right:o,bottom:l}=t;n===void 0&&(n=10),r===void 0&&(r=nYt);const{isTop:u,isBottom:c,isLeft:d,isRight:h}=JMe(i),p={x:0,y:0},f={x:0,y:0},g={height:e.height*r.y,width:e.width*r.x};return!u&&s<=e.top+g.height?(p.y=_o.Backward,f.y=n*Math.abs((e.top+g.height-s)/g.height)):!c&&l>=e.bottom-g.height&&(p.y=_o.Forward,f.y=n*Math.abs((e.bottom-g.height-l)/g.height)),!h&&o>=e.right-g.width?(p.x=_o.Forward,f.x=n*Math.abs((e.right-g.width-o)/g.width)):!d&&a<=e.left+g.width&&(p.x=_o.Backward,f.x=n*Math.abs((e.left+g.width-a)/g.width)),{direction:p,speed:f}}function sYt(i){if(i===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:t,right:n,bottom:r}=i.getBoundingClientRect();return{top:e,left:t,right:n,bottom:r,width:i.clientWidth,height:i.clientHeight}}function eIe(i){return i.reduce((e,t)=>_x(e,bU(t)),dp)}function aYt(i){return i.reduce((e,t)=>e+qMe(t),0)}function oYt(i){return i.reduce((e,t)=>e+ZMe(t),0)}function tIe(i,e){if(e===void 0&&(e=vC),!i)return;const{top:t,left:n,bottom:r,right:s}=e(i);XMe(i)&&(r<=0||s<=0||t>=window.innerHeight||n>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const lYt=[["x",["left","right"],aYt],["y",["top","bottom"],oYt]];class UZ{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=T4(t),r=eIe(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,o]of lYt)for(const l of a)Object.defineProperty(this,l,{get:()=>{const u=o(n),c=r[s]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class OA{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...t)})},this.target=e}add(e,t,n){var r;(r=this.target)==null||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function uYt(i){const{EventTarget:e}=gu(i);return i instanceof e?i:mC(i)}function F8(i,e){const t=Math.abs(i.x),n=Math.abs(i.y);return typeof e=="number"?Math.sqrt(t**2+n**2)>e:"x"in e&&"y"in e?t>e.x&&n>e.y:"x"in e?t>e.x:"y"in e?n>e.y:!1}var Pd;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(Pd||(Pd={}));function Xfe(i){i.preventDefault()}function cYt(i){i.stopPropagation()}var Hn;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter"})(Hn||(Hn={}));const iIe={start:[Hn.Space,Hn.Enter],cancel:[Hn.Esc],end:[Hn.Space,Hn.Enter]},dYt=(i,e)=>{let{currentCoordinates:t}=e;switch(i.code){case Hn.Right:return{...t,x:t.x+25};case Hn.Left:return{...t,x:t.x-25};case Hn.Down:return{...t,y:t.y+25};case Hn.Up:return{...t,y:t.y-25}}};class GZ{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new OA(mC(t)),this.windowListeners=new OA(gu(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Pd.Resize,this.handleCancel),this.windowListeners.add(Pd.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Pd.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&tIe(n),t(dp)}handleKeyDown(e){if(A4(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:s=iIe,coordinateGetter:a=dYt,scrollBehavior:o="smooth"}=r,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=n.current,c=u?{x:u.left,y:u.top}:dp;this.referenceCoordinates||(this.referenceCoordinates=c);const d=a(e,{active:t,context:n.current,currentCoordinates:c});if(d){const h=_2(d,c),p={x:0,y:0},{scrollableAncestors:f}=n.current;for(const g of f){const v=e.code,{isTop:m,isRight:b,isLeft:_,isBottom:S,maxScroll:C,minScroll:k}=JMe(g),E=sYt(g),A={x:Math.min(v===Hn.Right?E.right-E.width/2:E.right,Math.max(v===Hn.Right?E.left:E.left+E.width/2,d.x)),y:Math.min(v===Hn.Down?E.bottom-E.height/2:E.bottom,Math.max(v===Hn.Down?E.top:E.top+E.height/2,d.y))},P=v===Hn.Right&&!b||v===Hn.Left&&!_,O=v===Hn.Down&&!S||v===Hn.Up&&!m;if(P&&A.x!==d.x){const M=g.scrollLeft+h.x,D=v===Hn.Right&&M<=C.x||v===Hn.Left&&M>=k.x;if(D&&!h.y){g.scrollTo({left:M,behavior:o});return}D?p.x=g.scrollLeft-M:p.x=v===Hn.Right?g.scrollLeft-C.x:g.scrollLeft-k.x,p.x&&g.scrollBy({left:-p.x,behavior:o});break}else if(O&&A.y!==d.y){const M=g.scrollTop+h.y,D=v===Hn.Down&&M<=C.y||v===Hn.Up&&M>=k.y;if(D&&!h.x){g.scrollTo({top:M,behavior:o});return}D?p.y=g.scrollTop-M:p.y=v===Hn.Down?g.scrollTop-C.y:g.scrollTop-k.y,p.y&&g.scrollBy({top:-p.y,behavior:o});break}}this.handleMove(e,_x(_2(d,this.referenceCoordinates),p))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}GZ.activators=[{eventName:"onKeyDown",handler:(i,e,t)=>{let{keyboardCodes:n=iIe,onActivation:r}=e,{active:s}=t;const{code:a}=i.nativeEvent;if(n.start.includes(a)){const o=s.activatorNode.current;return o&&i.target!==o?!1:(i.preventDefault(),r==null||r({event:i.nativeEvent}),!0)}return!1}}];function qfe(i){return!!(i&&"distance"in i)}function Zfe(i){return!!(i&&"delay"in i)}class YZ{constructor(e,t,n){var r;n===void 0&&(n=uYt(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:a}=s;this.props=e,this.events=t,this.document=mC(a),this.documentListeners=new OA(this.document),this.listeners=new OA(n),this.windowListeners=new OA(gu(a)),this.initialCoordinates=(r=d6(s))!=null?r:dp,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(Pd.Resize,this.handleCancel),this.windowListeners.add(Pd.DragStart,Xfe),this.windowListeners.add(Pd.VisibilityChange,this.handleCancel),this.windowListeners.add(Pd.ContextMenu,Xfe),this.documentListeners.add(Pd.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Zfe(t)){this.timeoutId=setTimeout(this.handleStart,t.delay);return}if(qfe(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Pd.Click,cYt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Pd.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:s}=this,{onMove:a,options:{activationConstraint:o}}=s;if(!r)return;const l=(t=d6(e))!=null?t:dp,u=_2(r,l);if(!n&&o){if(qfe(o)){if(o.tolerance!=null&&F8(u,o.tolerance))return this.handleCancel();if(F8(u,o.distance))return this.handleStart()}return Zfe(o)&&F8(u,o.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===Hn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const hYt={move:{name:"pointermove"},end:{name:"pointerup"}};class nIe extends YZ{constructor(e){const{event:t}=e,n=mC(t.target);super(e,hYt,n)}}nIe.activators=[{eventName:"onPointerDown",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:n}=e;return!t.isPrimary||t.button!==0?!1:(n==null||n({event:t}),!0)}}];const pYt={move:{name:"mousemove"},end:{name:"mouseup"}};var SU;(function(i){i[i.RightClick=2]="RightClick"})(SU||(SU={}));class rIe extends YZ{constructor(e){super(e,pYt,mC(e.event.target))}}rIe.activators=[{eventName:"onMouseDown",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:n}=e;return t.button===SU.RightClick?!1:(n==null||n({event:t}),!0)}}];const B8={move:{name:"touchmove"},end:{name:"touchend"}};class sIe extends YZ{constructor(e){super(e,B8)}static setup(){return window.addEventListener(B8.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(B8.move.name,e)};function e(){}}}sIe.activators=[{eventName:"onTouchStart",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:n}=e;const{touches:r}=t;return r.length>1?!1:(n==null||n({event:t}),!0)}}];var MA;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(MA||(MA={}));var b2;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(b2||(b2={}));function fYt(i){let{acceleration:e,activator:t=MA.Pointer,canScroll:n,draggingRect:r,enabled:s,interval:a=5,order:o=b2.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:d,threshold:h}=i;const p=mYt({delta:d,disabled:!s}),[f,g]=PGt(),v=ee.useRef({x:0,y:0}),m=ee.useRef({x:0,y:0}),b=ee.useMemo(()=>{switch(t){case MA.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case MA.DraggableRect:return r}},[t,r,l]),_=ee.useRef(null),S=ee.useCallback(()=>{const k=_.current;if(!k)return;const E=v.current.x*m.current.x,A=v.current.y*m.current.y;k.scrollBy(E,A)},[]),C=ee.useMemo(()=>o===b2.TreeOrder?[...u].reverse():u,[o,u]);ee.useEffect(()=>{if(!s||!u.length||!b){g();return}for(const k of C){if((n==null?void 0:n(k))===!1)continue;const E=u.indexOf(k),A=c[E];if(!A)continue;const{direction:P,speed:O}=rYt(k,A,b,e,h);for(const M of["x","y"])p[M][P[M]]||(O[M]=0,P[M]=0);if(O.x>0||O.y>0){g(),_.current=k,f(S,a),v.current=O,m.current=P;return}}v.current={x:0,y:0},m.current={x:0,y:0},g()},[e,S,n,g,s,a,JSON.stringify(b),JSON.stringify(p),f,u,C,c,JSON.stringify(h)])}const gYt={x:{[_o.Backward]:!1,[_o.Forward]:!1},y:{[_o.Backward]:!1,[_o.Forward]:!1}};function mYt(i){let{delta:e,disabled:t}=i;const n=c6(e);return jP(r=>{if(t||!n||!r)return gYt;const s={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[_o.Backward]:r.x[_o.Backward]||s.x===-1,[_o.Forward]:r.x[_o.Forward]||s.x===1},y:{[_o.Backward]:r.y[_o.Backward]||s.y===-1,[_o.Forward]:r.y[_o.Forward]||s.y===1}}},[t,e,n])}function vYt(i,e){const t=e!==null?i.get(e):void 0,n=t?t.node.current:null;return jP(r=>{var s;return e===null?null:(s=n??r)!=null?s:null},[n,e])}function yYt(i,e){return ee.useMemo(()=>i.reduce((t,n)=>{const{sensor:r}=n,s=r.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,n)}));return[...t,...s]},[]),[i,e])}var S2;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(S2||(S2={}));var xU;(function(i){i.Optimized="optimized"})(xU||(xU={}));const Qfe=new Map;function _Yt(i,e){let{dragging:t,dependencies:n,config:r}=e;const[s,a]=ee.useState(null),{frequency:o,measure:l,strategy:u}=r,c=ee.useRef(i),d=v(),h=y2(d),p=ee.useCallback(function(m){m===void 0&&(m=[]),!h.current&&a(b=>b===null?m:b.concat(m.filter(_=>!b.includes(_))))},[h]),f=ee.useRef(null),g=jP(m=>{if(d&&!t)return Qfe;if(!m||m===Qfe||c.current!==i||s!=null){const b=new Map;for(let _ of i){if(!_)continue;if(s&&s.length>0&&!s.includes(_.id)&&_.rect.current){b.set(_.id,_.rect.current);continue}const S=_.node.current,C=S?new UZ(l(S),S):null;_.rect.current=C,C&&b.set(_.id,C)}return b}return m},[i,s,t,d,l]);return ee.useEffect(()=>{c.current=i},[i]),ee.useEffect(()=>{d||p()},[t,d]),ee.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),ee.useEffect(()=>{d||typeof o!="number"||f.current!==null||(f.current=setTimeout(()=>{p(),f.current=null},o))},[o,d,p,...n]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:s!=null};function v(){switch(u){case S2.Always:return!1;case S2.BeforeDragging:return t;default:return!t}}}function KZ(i,e){return jP(t=>i?t||(typeof e=="function"?e(i):i):null,[e,i])}function bYt(i,e){return KZ(i,e)}function SYt(i){let{callback:e,disabled:t}=i;const n=E4(e),r=ee.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(n)},[n,t]);return ee.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function P4(i){let{callback:e,disabled:t}=i;const n=E4(e),r=ee.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[t]);return ee.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function xYt(i){return new UZ(vC(i),i)}function Jfe(i,e,t){e===void 0&&(e=xYt);const[n,r]=ee.useReducer(o,null),s=SYt({callback(l){if(i)for(const u of l){const{type:c,target:d}=u;if(c==="childList"&&d instanceof HTMLElement&&d.contains(i)){r();break}}}}),a=P4({callback:r});return eh(()=>{r(),i?(a==null||a.observe(i),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),s==null||s.disconnect())},[i]),n;function o(l){if(!i)return null;if(i.isConnected===!1){var u;return(u=l??t)!=null?u:null}const c=e(i);return JSON.stringify(l)===JSON.stringify(c)?l:c}}function wYt(i){const e=KZ(i);return YMe(i,e)}const ege=[];function CYt(i){const e=ee.useRef(i),t=jP(n=>i?n&&n!==ege&&i&&e.current&&i.parentNode===e.current.parentNode?n:T4(i):ege,[i]);return ee.useEffect(()=>{e.current=i},[i]),t}function kYt(i){const[e,t]=ee.useState(null),n=ee.useRef(i),r=ee.useCallback(s=>{const a=L8(s.target);a&&t(o=>o?(o.set(a,bU(a)),new Map(o)):null)},[]);return ee.useEffect(()=>{const s=n.current;if(i!==s){a(s);const o=i.map(l=>{const u=L8(l);return u?(u.addEventListener("scroll",r,{passive:!0}),[u,bU(u)]):null}).filter(l=>l!=null);t(o.length?new Map(o):null),n.current=i}return()=>{a(i),a(s)};function a(o){o.forEach(l=>{const u=L8(l);u==null||u.removeEventListener("scroll",r)})}},[r,i]),ee.useMemo(()=>i.length?e?Array.from(e.values()).reduce((s,a)=>_x(s,a),dp):eIe(i):dp,[i,e])}function tge(i,e){e===void 0&&(e=[]);const t=ee.useRef(null);return ee.useEffect(()=>{t.current=null},e),ee.useEffect(()=>{const n=i!==dp;n&&!t.current&&(t.current=i),!n&&t.current&&(t.current=null)},[i]),t.current?_2(i,t.current):dp}function EYt(i){ee.useEffect(()=>{if(!k4)return;const e=i.map(t=>{let{sensor:n}=t;return n.setup==null?void 0:n.setup()});return()=>{for(const t of e)t==null||t()}},i.map(e=>{let{sensor:t}=e;return t}))}function AYt(i,e){return ee.useMemo(()=>i.reduce((t,n)=>{let{eventName:r,handler:s}=n;return t[r]=a=>{s(a,e)},t},{}),[i,e])}function aIe(i){return ee.useMemo(()=>i?eYt(i):null,[i])}const $8=[];function TYt(i,e){e===void 0&&(e=vC);const[t]=i,n=aIe(t?gu(t):null),[r,s]=ee.useReducer(o,$8),a=P4({callback:s});return i.length>0&&r===$8&&s(),eh(()=>{i.length?i.forEach(l=>a==null?void 0:a.observe(l)):(a==null||a.disconnect(),s())},[i]),r;function o(){return i.length?i.map(l=>QMe(l)?n:new UZ(e(l),l)):$8}}function oIe(i){if(!i)return null;if(i.children.length>1)return i;const e=i.children[0];return NP(e)?e:i}function PYt(i){let{measure:e}=i;const[t,n]=ee.useState(null),r=ee.useCallback(u=>{for(const{target:c}of u)if(NP(c)){n(d=>{const h=e(c);return d?{...d,width:h.width,height:h.height}:h});break}},[e]),s=P4({callback:r}),a=ee.useCallback(u=>{const c=oIe(u);s==null||s.disconnect(),c&&(s==null||s.observe(c)),n(c?e(c):null)},[e,s]),[o,l]=u6(a);return ee.useMemo(()=>({nodeRef:o,rect:t,setRef:l}),[t,o,l])}const OYt=[{sensor:nIe,options:{}},{sensor:GZ,options:{}}],MYt={current:{}},rR={draggable:{measure:Kfe},droppable:{measure:Kfe,strategy:S2.WhileDragging,frequency:xU.Optimized},dragOverlay:{measure:vC}};class IA extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return(t=(n=this.get(e))==null?void 0:n.node.current)!=null?t:void 0}}const IYt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new IA,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:h6},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:rR,measureDroppableContainers:h6,windowRect:null,measuringScheduled:!1},lIe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:h6,draggableNodes:new Map,over:null,measureDroppableContainers:h6},HP=ee.createContext(lIe),uIe=ee.createContext(IYt);function RYt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new IA}}}function DYt(i,e){switch(e.type){case Xa.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Xa.DragMove:return i.draggable.active?{...i,draggable:{...i.draggable,translate:{x:e.coordinates.x-i.draggable.initialCoordinates.x,y:e.coordinates.y-i.draggable.initialCoordinates.y}}}:i;case Xa.DragEnd:case Xa.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Xa.RegisterDroppable:{const{element:t}=e,{id:n}=t,r=new IA(i.droppable.containers);return r.set(n,t),{...i,droppable:{...i.droppable,containers:r}}}case Xa.SetDroppableDisabled:{const{id:t,key:n,disabled:r}=e,s=i.droppable.containers.get(t);if(!s||n!==s.key)return i;const a=new IA(i.droppable.containers);return a.set(t,{...s,disabled:r}),{...i,droppable:{...i.droppable,containers:a}}}case Xa.UnregisterDroppable:{const{id:t,key:n}=e,r=i.droppable.containers.get(t);if(!r||n!==r.key)return i;const s=new IA(i.droppable.containers);return s.delete(t),{...i,droppable:{...i.droppable,containers:s}}}default:return i}}function LYt(i){let{disabled:e}=i;const{active:t,activatorEvent:n,draggableNodes:r}=ee.useContext(HP),s=c6(n),a=c6(t==null?void 0:t.id);return ee.useEffect(()=>{if(!e&&!n&&s&&a!=null){if(!A4(s)||document.activeElement===s.target)return;const o=r.get(a);if(!o)return;const{activatorNode:l,node:u}=o;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[l.current,u.current]){if(!c)continue;const d=IGt(c);if(d){d.focus();break}}})}},[n,e,r,a,s]),null}function cIe(i,e){let{transform:t,...n}=e;return i!=null&&i.length?i.reduce((r,s)=>s({transform:r,...n}),t):t}function FYt(i){return ee.useMemo(()=>({draggable:{...rR.draggable,...i==null?void 0:i.draggable},droppable:{...rR.droppable,...i==null?void 0:i.droppable},dragOverlay:{...rR.dragOverlay,...i==null?void 0:i.dragOverlay}}),[i==null?void 0:i.draggable,i==null?void 0:i.droppable,i==null?void 0:i.dragOverlay])}function BYt(i){let{activeNode:e,measure:t,initialRect:n,config:r=!0}=i;const s=ee.useRef(!1),{x:a,y:o}=typeof r=="boolean"?{x:r,y:r}:r;eh(()=>{if(!a&&!o||!e){s.current=!1;return}if(s.current||!n)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const c=t(u),d=YMe(c,n);if(a||(d.x=0),o||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=XMe(u);h&&h.scrollBy({top:d.y,left:d.x})}},[e,a,o,n,t])}const O4=ee.createContext({...dp,scaleX:1,scaleY:1});var ov;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(ov||(ov={}));const $Yt=ee.memo(function(e){var t,n,r,s;let{id:a,accessibility:o,autoScroll:l=!0,children:u,sensors:c=OYt,collisionDetection:d=KGt,measuring:h,modifiers:p,...f}=e;const g=ee.useReducer(DYt,void 0,RYt),[v,m]=g,[b,_]=$Gt(),[S,C]=ee.useState(ov.Uninitialized),k=S===ov.Initialized,{draggable:{active:E,nodes:A,translate:P},droppable:{containers:O}}=v,M=E?A.get(E):null,D=ee.useRef({initial:null,translated:null}),L=ee.useMemo(()=>{var di;return E!=null?{id:E,data:(di=M==null?void 0:M.data)!=null?di:MYt,rect:D}:null},[E,M]),H=ee.useRef(null),[B,F]=ee.useState(null),[z,N]=ee.useState(null),U=y2(f,Object.values(f)),G=zP("DndDescribedBy",a),j=ee.useMemo(()=>O.getEnabled(),[O]),K=FYt(h),{droppableRects:ie,measureDroppableContainers:ae,measuringScheduled:re}=_Yt(j,{dragging:k,dependencies:[P.x,P.y],config:K.droppable}),J=vYt(A,E),ne=ee.useMemo(()=>z?d6(z):null,[z]),te=ei(),Q=bYt(J,K.draggable.measure);BYt({activeNode:E?A.get(E):null,config:te.layoutShiftCompensation,initialRect:Q,measure:K.draggable.measure});const se=Jfe(J,K.draggable.measure,Q),_e=Jfe(J?J.parentElement:null),le=ee.useRef({activatorEvent:null,active:null,activeNode:J,collisionRect:null,collisions:null,droppableRects:ie,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ve=O.getNodeFor((t=le.current.over)==null?void 0:t.id),pe=PYt({measure:K.dragOverlay.measure}),Fe=(n=pe.nodeRef.current)!=null?n:J,Ee=k?(r=pe.rect)!=null?r:se:null,it=!!(pe.nodeRef.current&&pe.rect),Qe=wYt(it?null:se),Ae=aIe(Fe?gu(Fe):null),je=CYt(k?ve??J:null),We=TYt(je),ut=cIe(p,{transform:{x:P.x-Qe.x,y:P.y-Qe.y,scaleX:1,scaleY:1},activatorEvent:z,active:L,activeNodeRect:se,containerNodeRect:_e,draggingNodeRect:Ee,over:le.current.over,overlayNodeRect:pe.rect,scrollableAncestors:je,scrollableAncestorRects:We,windowRect:Ae}),vt=ne?_x(ne,P):null,_t=kYt(je),zt=tge(_t),Ft=tge(_t,[se]),Ye=_x(ut,zt),Je=Ee?ZGt(Ee,ut):null,rt=L&&Je?d({active:L,collisionRect:Je,droppableRects:ie,droppableContainers:j,pointerCoordinates:vt}):null,dt=GMe(rt,"id"),[at,Gt]=ee.useState(null),ii=it?ut:_x(ut,Ft),ci=XGt(ii,(s=at==null?void 0:at.rect)!=null?s:null,se),qt=ee.useCallback((di,vi)=>{let{sensor:ot,options:Ke}=vi;if(H.current==null)return;const Ue=A.get(H.current);if(!Ue)return;const ai=di.nativeEvent,Ge=new ot({active:H.current,activeNode:Ue,event:ai,options:Ke,context:le,onStart(Xt){const Ci=H.current;if(Ci==null)return;const ft=A.get(Ci);if(!ft)return;const{onDragStart:lt}=U.current,St={active:{id:Ci,data:ft.data,rect:D}};Mc.unstable_batchedUpdates(()=>{lt==null||lt(St),C(ov.Initializing),m({type:Xa.DragStart,initialCoordinates:Xt,active:Ci}),b({type:"onDragStart",event:St})})},onMove(Xt){m({type:Xa.DragMove,coordinates:Xt})},onEnd:pt(Xa.DragEnd),onCancel:pt(Xa.DragCancel)});Mc.unstable_batchedUpdates(()=>{F(Ge),N(di.nativeEvent)});function pt(Xt){return async function(){const{active:ft,collisions:lt,over:St,scrollAdjustedTranslate:Nt}=le.current;let Dt=null;if(ft&&Nt){const{cancelDrop:Ri}=U.current;Dt={activatorEvent:ai,active:ft,collisions:lt,delta:Nt,over:St},Xt===Xa.DragEnd&&typeof Ri=="function"&&await Promise.resolve(Ri(Dt))&&(Xt=Xa.DragCancel)}H.current=null,Mc.unstable_batchedUpdates(()=>{m({type:Xt}),C(ov.Uninitialized),Gt(null),F(null),N(null);const Ri=Xt===Xa.DragEnd?"onDragEnd":"onDragCancel";if(Dt){const ki=U.current[Ri];ki==null||ki(Dt),b({type:Ri,event:Dt})}})}}},[A]),Zt=ee.useCallback((di,vi)=>(ot,Ke)=>{const Ue=ot.nativeEvent,ai=A.get(Ke);if(H.current!==null||!ai||Ue.dndKit||Ue.defaultPrevented)return;const Ge={active:ai};di(ot,vi.options,Ge)===!0&&(Ue.dndKit={capturedBy:vi.sensor},H.current=Ke,qt(ot,vi))},[A,qt]),xi=yYt(c,Zt);EYt(c),eh(()=>{se&&S===ov.Initializing&&C(ov.Initialized)},[se,S]),ee.useEffect(()=>{const{onDragMove:di}=U.current,{active:vi,activatorEvent:ot,collisions:Ke,over:Ue}=le.current;if(!vi||!ot)return;const ai={active:vi,activatorEvent:ot,collisions:Ke,delta:{x:Ye.x,y:Ye.y},over:Ue};Mc.unstable_batchedUpdates(()=>{di==null||di(ai),b({type:"onDragMove",event:ai})})},[Ye.x,Ye.y]),ee.useEffect(()=>{const{active:di,activatorEvent:vi,collisions:ot,droppableContainers:Ke,scrollAdjustedTranslate:Ue}=le.current;if(!di||H.current==null||!vi||!Ue)return;const{onDragOver:ai}=U.current,Ge=Ke.get(dt),pt=Ge&&Ge.rect.current?{id:Ge.id,rect:Ge.rect.current,data:Ge.data,disabled:Ge.disabled}:null,Xt={active:di,activatorEvent:vi,collisions:ot,delta:{x:Ue.x,y:Ue.y},over:pt};Mc.unstable_batchedUpdates(()=>{Gt(pt),ai==null||ai(Xt),b({type:"onDragOver",event:Xt})})},[dt]),eh(()=>{le.current={activatorEvent:z,active:L,activeNode:J,collisionRect:Je,collisions:rt,droppableRects:ie,draggableNodes:A,draggingNode:Fe,draggingNodeRect:Ee,droppableContainers:O,over:at,scrollableAncestors:je,scrollAdjustedTranslate:Ye},D.current={initial:Ee,translated:Je}},[L,J,rt,Je,A,Fe,Ee,ie,O,at,je,Ye]),fYt({...te,delta:P,draggingRect:Je,pointerCoordinates:vt,scrollableAncestors:je,scrollableAncestorRects:We});const Ai=ee.useMemo(()=>({active:L,activeNode:J,activeNodeRect:se,activatorEvent:z,collisions:rt,containerNodeRect:_e,dragOverlay:pe,draggableNodes:A,droppableContainers:O,droppableRects:ie,over:at,measureDroppableContainers:ae,scrollableAncestors:je,scrollableAncestorRects:We,measuringConfiguration:K,measuringScheduled:re,windowRect:Ae}),[L,J,se,z,rt,_e,pe,A,O,ie,at,ae,je,We,K,re,Ae]),Ii=ee.useMemo(()=>({activatorEvent:z,activators:xi,active:L,activeNodeRect:se,ariaDescribedById:{draggable:G},dispatch:m,draggableNodes:A,over:at,measureDroppableContainers:ae}),[z,xi,L,se,m,G,A,at,ae]);return R.createElement(VMe.Provider,{value:_},R.createElement(HP.Provider,{value:Ii},R.createElement(uIe.Provider,{value:Ai},R.createElement(O4.Provider,{value:ci},u)),R.createElement(LYt,{disabled:(o==null?void 0:o.restoreFocus)===!1})),R.createElement(zGt,{...o,hiddenTextDescribedById:G}));function ei(){const di=(B==null?void 0:B.autoScrollEnabled)===!1,vi=typeof l=="object"?l.enabled===!1:l===!1,ot=k&&!di&&!vi;return typeof l=="object"?{...l,enabled:ot}:{enabled:ot}}}),NYt=ee.createContext(null),ige="button",jYt="Droppable";function zYt(i){let{id:e,data:t,disabled:n=!1,attributes:r}=i;const s=zP(jYt),{activators:a,activatorEvent:o,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:d,over:h}=ee.useContext(HP),{role:p=ige,roleDescription:f="draggable",tabIndex:g=0}=r??{},v=(l==null?void 0:l.id)===e,m=ee.useContext(v?O4:NYt),[b,_]=u6(),[S,C]=u6(),k=AYt(a,e),E=y2(t);eh(()=>(d.set(e,{id:e,key:s,node:b,activatorNode:S,data:E}),()=>{const P=d.get(e);P&&P.key===s&&d.delete(e)}),[d,e]);const A=ee.useMemo(()=>({role:p,tabIndex:g,"aria-disabled":n,"aria-pressed":v&&p===ige?!0:void 0,"aria-roledescription":f,"aria-describedby":c.draggable}),[n,p,g,v,f,c.draggable]);return{active:l,activatorEvent:o,activeNodeRect:u,attributes:A,isDragging:v,listeners:n?void 0:k,node:b,over:h,setNodeRef:_,setActivatorNodeRef:C,transform:m}}function dIe(){return ee.useContext(uIe)}const HYt="Droppable",VYt={timeout:25};function WYt(i){let{data:e,disabled:t=!1,id:n,resizeObserverConfig:r}=i;const s=zP(HYt),{active:a,dispatch:o,over:l,measureDroppableContainers:u}=ee.useContext(HP),c=ee.useRef({disabled:t}),d=ee.useRef(!1),h=ee.useRef(null),p=ee.useRef(null),{disabled:f,updateMeasurementsFor:g,timeout:v}={...VYt,...r},m=y2(g??n),b=ee.useCallback(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(m.current)?m.current:[m.current]),p.current=null},v)},[v]),_=P4({callback:b,disabled:f||!a}),S=ee.useCallback((A,P)=>{_&&(P&&(_.unobserve(P),d.current=!1),A&&_.observe(A))},[_]),[C,k]=u6(S),E=y2(e);return ee.useEffect(()=>{!_||!C.current||(_.disconnect(),d.current=!1,_.observe(C.current))},[C,_]),eh(()=>(o({type:Xa.RegisterDroppable,element:{id:n,key:s,disabled:t,node:C,rect:h,data:E}}),()=>o({type:Xa.UnregisterDroppable,key:s,id:n})),[n]),ee.useEffect(()=>{t!==c.current.disabled&&(o({type:Xa.SetDroppableDisabled,id:n,key:s,disabled:t}),c.current.disabled=t)},[n,s,t,o]),{active:a,rect:h,isOver:(l==null?void 0:l.id)===n,node:C,over:l,setNodeRef:k}}function UYt(i){let{animation:e,children:t}=i;const[n,r]=ee.useState(null),[s,a]=ee.useState(null),o=c6(t);return!t&&!n&&o&&r(o),eh(()=>{if(!s)return;const l=n==null?void 0:n.key,u=n==null?void 0:n.props.id;if(l==null||u==null){r(null);return}Promise.resolve(e(u,s)).then(()=>{r(null)})},[e,n,s]),R.createElement(R.Fragment,null,t,n?ee.cloneElement(n,{ref:a}):null)}const GYt={x:0,y:0,scaleX:1,scaleY:1};function YYt(i){let{children:e}=i;return R.createElement(HP.Provider,{value:lIe},R.createElement(O4.Provider,{value:GYt},e))}const KYt={position:"fixed",touchAction:"none"},XYt=i=>A4(i)?"transform 250ms ease":void 0,qYt=ee.forwardRef((i,e)=>{let{as:t,activatorEvent:n,adjustScale:r,children:s,className:a,rect:o,style:l,transform:u,transition:c=XYt}=i;if(!o)return null;const d=r?u:{...u,scaleX:1,scaleY:1},h={...KYt,width:o.width,height:o.height,top:o.top,left:o.left,transform:w0.Transform.toString(d),transformOrigin:r&&n?VGt(n,o):void 0,transition:typeof c=="function"?c(n):c,...l};return R.createElement(t,{className:a,style:h,ref:e},s)}),ZYt=i=>e=>{let{active:t,dragOverlay:n}=e;const r={},{styles:s,className:a}=i;if(s!=null&&s.active)for(const[o,l]of Object.entries(s.active))l!==void 0&&(r[o]=t.node.style.getPropertyValue(o),t.node.style.setProperty(o,l));if(s!=null&&s.dragOverlay)for(const[o,l]of Object.entries(s.dragOverlay))l!==void 0&&n.node.style.setProperty(o,l);return a!=null&&a.active&&t.node.classList.add(a.active),a!=null&&a.dragOverlay&&n.node.classList.add(a.dragOverlay),function(){for(const[l,u]of Object.entries(r))t.node.style.setProperty(l,u);a!=null&&a.active&&t.node.classList.remove(a.active)}},QYt=i=>{let{transform:{initial:e,final:t}}=i;return[{transform:w0.Transform.toString(e)},{transform:w0.Transform.toString(t)}]},JYt={duration:250,easing:"ease",keyframes:QYt,sideEffects:ZYt({styles:{active:{opacity:"0"}}})};function eKt(i){let{config:e,draggableNodes:t,droppableContainers:n,measuringConfiguration:r}=i;return E4((s,a)=>{if(e===null)return;const o=t.get(s);if(!o)return;const l=o.node.current;if(!l)return;const u=oIe(a);if(!u)return;const{transform:c}=gu(a).getComputedStyle(a),d=KMe(c);if(!d)return;const h=typeof e=="function"?e:tKt(e);return tIe(l,r.draggable.measure),h({active:{id:s,data:o.data,node:l,rect:r.draggable.measure(l)},draggableNodes:t,dragOverlay:{node:a,rect:r.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:r,transform:d})})}function tKt(i){const{duration:e,easing:t,sideEffects:n,keyframes:r}={...JYt,...i};return s=>{let{active:a,dragOverlay:o,transform:l,...u}=s;if(!e)return;const c={x:o.rect.left-a.rect.left,y:o.rect.top-a.rect.top},d={scaleX:l.scaleX!==1?a.rect.width*l.scaleX/o.rect.width:1,scaleY:l.scaleY!==1?a.rect.height*l.scaleY/o.rect.height:1},h={x:l.x-c.x,y:l.y-c.y,...d},p=r({...u,active:a,dragOverlay:o,transform:{initial:l,final:h}}),[f]=p,g=p[p.length-1];if(JSON.stringify(f)===JSON.stringify(g))return;const v=n==null?void 0:n({active:a,dragOverlay:o,...u}),m=o.node.animate(p,{duration:e,easing:t,fill:"forwards"});return new Promise(b=>{m.onfinish=()=>{v==null||v(),b()}})}}let nge=0;function iKt(i){return ee.useMemo(()=>{if(i!=null)return nge++,nge},[i])}const nKt=R.memo(i=>{let{adjustScale:e=!1,children:t,dropAnimation:n,style:r,transition:s,modifiers:a,wrapperElement:o="div",className:l,zIndex:u=999}=i;const{activatorEvent:c,active:d,activeNodeRect:h,containerNodeRect:p,draggableNodes:f,droppableContainers:g,dragOverlay:v,over:m,measuringConfiguration:b,scrollableAncestors:_,scrollableAncestorRects:S,windowRect:C}=dIe(),k=ee.useContext(O4),E=iKt(d==null?void 0:d.id),A=cIe(a,{activatorEvent:c,active:d,activeNodeRect:h,containerNodeRect:p,draggingNodeRect:v.rect,over:m,overlayNodeRect:v.rect,scrollableAncestors:_,scrollableAncestorRects:S,transform:k,windowRect:C}),P=KZ(h),O=eKt({config:n,draggableNodes:f,droppableContainers:g,measuringConfiguration:b}),M=P?v.setRef:void 0;return R.createElement(YYt,null,R.createElement(UYt,{animation:O},d&&E?R.createElement(qYt,{key:E,id:d.id,ref:M,as:o,activatorEvent:c,adjustScale:e,className:l,transition:s,rect:P,style:{zIndex:u,...r},transform:A},t):null))});function hIe(i,e,t){const n=i.slice();return n.splice(t<0?n.length+t:t,0,n.splice(e,1)[0]),n}function rKt(i,e){return i.reduce((t,n,r)=>{const s=e.get(n);return s&&(t[r]=s),t},Array(i.length))}function qI(i){return i!==null&&i>=0}function sKt(i,e){if(i===e)return!0;if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function aKt(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const XZ=i=>{let{rects:e,activeIndex:t,overIndex:n,index:r}=i;const s=hIe(e,n,t),a=e[r],o=s[r];return!o||!a?null:{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}},pIe="Sortable",fIe=R.createContext({activeIndex:-1,containerId:pIe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:XZ,disabled:{draggable:!1,droppable:!1}});function oKt(i){let{children:e,id:t,items:n,strategy:r=XZ,disabled:s=!1}=i;const{active:a,dragOverlay:o,droppableRects:l,over:u,measureDroppableContainers:c}=dIe(),d=zP(pIe,t),h=o.rect!==null,p=ee.useMemo(()=>n.map(k=>typeof k=="object"&&"id"in k?k.id:k),[n]),f=a!=null,g=a?p.indexOf(a.id):-1,v=u?p.indexOf(u.id):-1,m=ee.useRef(p),b=!sKt(p,m.current),_=v!==-1&&g===-1||b,S=aKt(s);eh(()=>{b&&f&&c(p)},[b,p,f,c]),ee.useEffect(()=>{m.current=p},[p]);const C=ee.useMemo(()=>({activeIndex:g,containerId:d,disabled:S,disableTransforms:_,items:p,overIndex:v,useDragOverlay:h,sortedRects:rKt(p,l),strategy:r}),[g,d,S.draggable,S.droppable,_,p,v,l,h,r]);return R.createElement(fIe.Provider,{value:C},e)}const lKt=i=>{let{id:e,items:t,activeIndex:n,overIndex:r}=i;return hIe(t,n,r).indexOf(e)},uKt=i=>{let{containerId:e,isSorting:t,wasDragging:n,index:r,items:s,newIndex:a,previousItems:o,previousContainerId:l,transition:u}=i;return!u||!n||o!==s&&r===a?!1:t?!0:a!==r&&e===l},cKt={duration:200,easing:"ease"},gIe="transform",dKt=w0.Transition.toString({property:gIe,duration:0,easing:"linear"}),hKt={roleDescription:"sortable"};function pKt(i){let{disabled:e,index:t,node:n,rect:r}=i;const[s,a]=ee.useState(null),o=ee.useRef(t);return eh(()=>{if(!e&&t!==o.current&&n.current){const l=r.current;if(l){const u=vC(n.current,{ignoreTransform:!0}),c={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(c.x||c.y)&&a(c)}}t!==o.current&&(o.current=t)},[e,t,n,r]),ee.useEffect(()=>{s&&a(null)},[s]),s}function fKt(i){let{animateLayoutChanges:e=uKt,attributes:t,disabled:n,data:r,getNewIndex:s=lKt,id:a,strategy:o,resizeObserverConfig:l,transition:u=cKt}=i;const{items:c,containerId:d,activeIndex:h,disabled:p,disableTransforms:f,sortedRects:g,overIndex:v,useDragOverlay:m,strategy:b}=ee.useContext(fIe),_=gKt(n,p),S=c.indexOf(a),C=ee.useMemo(()=>({sortable:{containerId:d,index:S,items:c},...r}),[d,r,S,c]),k=ee.useMemo(()=>c.slice(c.indexOf(a)),[c,a]),{rect:E,node:A,isOver:P,setNodeRef:O}=WYt({id:a,data:C,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...l}}),{active:M,activatorEvent:D,activeNodeRect:L,attributes:H,setNodeRef:B,listeners:F,isDragging:z,over:N,setActivatorNodeRef:U,transform:G}=zYt({id:a,data:C,attributes:{...hKt,...t},disabled:_.draggable}),j=TGt(O,B),K=!!M,ie=K&&!f&&qI(h)&&qI(v),ae=!m&&z,re=ae&&ie?G:null,ne=ie?re??(o??b)({rects:g,activeNodeRect:L,activeIndex:h,overIndex:v,index:S}):null,te=qI(h)&&qI(v)?s({id:a,items:c,activeIndex:h,overIndex:v}):S,Q=M==null?void 0:M.id,se=ee.useRef({activeId:Q,items:c,newIndex:te,containerId:d}),_e=c!==se.current.items,le=e({active:M,containerId:d,isDragging:z,isSorting:K,id:a,index:S,items:c,newIndex:se.current.newIndex,previousItems:se.current.items,previousContainerId:se.current.containerId,transition:u,wasDragging:se.current.activeId!=null}),ve=pKt({disabled:!le,index:S,node:A,rect:E});return ee.useEffect(()=>{K&&se.current.newIndex!==te&&(se.current.newIndex=te),d!==se.current.containerId&&(se.current.containerId=d),c!==se.current.items&&(se.current.items=c)},[K,te,d,c]),ee.useEffect(()=>{if(Q===se.current.activeId)return;if(Q&&!se.current.activeId){se.current.activeId=Q;return}const Fe=setTimeout(()=>{se.current.activeId=Q},50);return()=>clearTimeout(Fe)},[Q]),{active:M,activeIndex:h,attributes:H,data:C,rect:E,index:S,newIndex:te,items:c,isOver:P,isSorting:K,isDragging:z,listeners:F,node:A,overIndex:v,over:N,setNodeRef:j,setActivatorNodeRef:U,setDroppableNodeRef:O,setDraggableNodeRef:B,transform:ve??ne,transition:pe()};function pe(){if(ve||_e&&se.current.newIndex===S)return dKt;if(!(ae&&!A4(D)||!u)&&(K||le))return w0.Transition.toString({...u,property:gIe})}}function gKt(i,e){var t,n;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(t=i==null?void 0:i.draggable)!=null?t:e.draggable,droppable:(n=i==null?void 0:i.droppable)!=null?n:e.droppable}}function p6(i){if(!i)return!1;const e=i.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const mKt=[Hn.Down,Hn.Right,Hn.Up,Hn.Left],vKt=(i,e)=>{let{context:{active:t,collisionRect:n,droppableRects:r,droppableContainers:s,over:a,scrollableAncestors:o}}=e;if(mKt.includes(i.code)){if(i.preventDefault(),!t||!n)return;const l=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const h=r.get(d.id);if(h)switch(i.code){case Hn.Down:n.top<h.top&&l.push(d);break;case Hn.Up:n.top>h.top&&l.push(d);break;case Hn.Left:n.left>h.left&&l.push(d);break;case Hn.Right:n.left<h.left&&l.push(d);break}});const u=GGt({active:t,collisionRect:n,droppableRects:r,droppableContainers:l,pointerCoordinates:null});let c=GMe(u,"id");if(c===(a==null?void 0:a.id)&&u.length>1&&(c=u[1].id),c!=null){const d=s.get(t.id),h=s.get(c),p=h?r.get(h.id):null,f=h==null?void 0:h.node.current;if(f&&p&&d&&h){const v=T4(f).some((k,E)=>o[E]!==k),m=mIe(d,h),b=yKt(d,h),_=v||!m?{x:0,y:0}:{x:b?n.width-p.width:0,y:b?n.height-p.height:0},S={x:p.left,y:p.top};return _.x&&_.y?S:_2(S,_)}}}};function mIe(i,e){return!p6(i)||!p6(e)?!1:i.data.current.sortable.containerId===e.data.current.sortable.containerId}function yKt(i,e){return!p6(i)||!p6(e)||!mIe(i,e)?!1:i.data.current.sortable.index<e.data.current.sortable.index}const _Kt="semi-sortable";function bKt(i){return R.createElement("div",Object.assign({style:{overflow:"auto"}},i))}const SKt={coordinateGetter:vKt};function xKt(i){let{items:e,onSortEnd:t,adjustScale:n,renderItem:r,transition:s,collisionDetection:a=UGt,strategy:o=XZ,useDragOverlay:l=!0,dragOverlayCls:u,container:c=bKt,prefix:d=_Kt}=i;const[h,p]=ee.useState(null),f=HGt(D8(rIe),D8(sIe),D8(GZ,SKt)),g=ee.useCallback(S=>e.indexOf(S),[e]),v=ee.useMemo(()=>h?g(h):-1,[g,h]),m=ee.useCallback(S=>{let{active:C}=S;C&&p(C.id)},[]),b=ee.useCallback(S=>{let{over:C}=S;if(p(null),C){const k=g(C.id);v!==k&&t({oldIndex:v,newIndex:k})}},[v,g,t]),_=ee.useCallback(()=>{p(null)},[]);return R.createElement($Yt,{sensors:f,collisionDetection:a,onDragStart:m,onDragEnd:b,onDragCancel:_,autoScroll:{order:b2.ReversedTreeOrder}},R.createElement(oKt,{items:e,strategy:o},R.createElement(c,null,e.map((S,C)=>R.createElement(wKt,{key:S,id:S,index:C,renderItem:r,useDragOverlay:l,prefix:d,transition:s})))),l?Mc.createPortal(R.createElement(nKt,{adjustScale:n,style:{zIndex:void 0},className:u},h?r({id:h,sortableHandle:S=>S}):null),document.body):null)}function wKt(i){let{animateLayoutChanges:e,id:t,renderItem:n,prefix:r,transition:s}=i;const{listeners:a,setNodeRef:o,transform:l,transition:u,active:c,isOver:d,attributes:h}=fKt({id:t,animateLayoutChanges:e,transition:s}),p=ee.useCallback(v=>()=>R.createElement("span",Object.assign({},a,{style:{lineHeight:0},onMouseDown:m=>{a.onMouseDown(m),m.preventDefault(),m.stopPropagation()}}),R.createElement(v,null)),[a]),f=he(`${r}-sortable-item`,{[`${r}-sortable-item-over`]:d,[`${r}-sortable-item-active`]:(c==null?void 0:c.id)===t}),g=ee.useMemo(()=>rb(s)?void 0:{transform:w0.Transform.toString(Object.assign(Object.assign({},l),{scaleX:1,scaleY:1})),transition:u},[s,l,u]);return R.createElement("div",Object.assign({ref:o,style:g,className:f},h),n({id:t,sortableHandle:p}))}var CKt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const In=kGt.PREFIX;function kKt(i){return R.createElement("div",Object.assign({className:`${In}-sortable-list`},i))}class VP extends ln{constructor(e){super(e),this.handleInputChange=t=>{this.foundation.handleInputChange(t)},this.handleKeyDown=t=>{this.foundation.handleKeyDown(t)},this.handleInputFocus=t=>{this.foundation.handleInputFocus(t)},this.handleInputBlur=t=>{this.foundation.handleInputBlur(t)},this.handleClearBtn=t=>{this.foundation.handleClearBtn(t)},this.handleClearEnterPress=t=>{this.foundation.handleClearEnterPress(t)},this.handleTagClose=t=>{this.foundation.handleTagClose(t)},this.handleInputMouseLeave=t=>{this.foundation.handleInputMouseLeave()},this.handleClick=t=>{this.foundation.handleClick(t)},this.handleInputMouseEnter=t=>{this.foundation.handleInputMouseEnter()},this.handleClickPrefixOrSuffix=t=>{this.foundation.handleClickPrefixOrSuffix(t)},this.handlePreventMouseDown=t=>{this.foundation.handlePreventMouseDown(t)},this.getAllTags=()=>{const{tagsArray:t}=this.state;return t.map((n,r)=>this.renderTag(n,r))},this.renderTag=(t,n,r)=>{const{size:s,disabled:a,renderTagItem:o,showContentTooltip:l,draggable:u}=this.props,{active:c}=this.state,d=c&&u,h=he(`${In}-wrapper-tag`,{[`${In}-wrapper-tag-size-${s}`]:s,[`${In}-wrapper-tag-icon`]:d}),p=he(`${In}-wrapper-typo`,{[`${In}-wrapper-typo-disabled`]:a}),f=he({[`${In}-drag-item`]:d,[`${In}-wrapper-tag-icon`]:d}),g=r&&r(()=>R.createElement(eVt,{className:`${In}-drag-handler`})),v=d?t:`${n}${t}`,m=()=>{!a&&this.handleTagClose(n)};return sn(o)?R.createElement("div",{className:f,key:v},d&&r?R.createElement(g,null):null,o(t,n,m)):R.createElement(Gu,{className:h,color:"white",size:s==="small"?"small":"large",type:"light",onClose:m,closable:!a,key:v,visible:!0,"aria-label":`${a?"":"Closable "}Tag: ${t}`},d&&r?R.createElement(g,null):null,R.createElement(m4,{className:p,ellipsis:{showTooltip:l,rows:1}},t))},this.renderSortTag=t=>{const{id:n,sortableHandle:r}=t,{tagsArray:s}=this.state,a=s.indexOf(n);return this.renderTag(n,a,r)},this.onSortEnd=t=>{this.foundation.handleSortEnd(t)},this.handleInputCompositionStart=t=>{this.foundation.handleInputCompositionStart(t)},this.handleInputCompositionEnd=t=>{this.foundation.handleInputCompositionEnd(t)},this.foundation=new AGt(this.adapter),this.state={tagsArray:e.defaultValue||[],inputValue:"",focusing:!1,hovering:!1,active:!1,entering:!1},this.inputRef=R.createRef(),this.tagInputRef=R.createRef(),this.clickOutsideHandler=null}static getDerivedStateFromProps(e,t){const{value:n,inputValue:r}=e,{tagsArray:s}=t;let a;return Jq(n)?a=n:"value"in e&&!n?a=[]:a=s,{tagsArray:a,inputValue:en(r)?r:t.inputValue}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setInputValue:e=>{this.setState({inputValue:e})},setTagsArray:e=>{this.setState({tagsArray:e})},setFocusing:e=>{this.setState({focusing:e})},toggleFocusing:e=>{const{preventScroll:t}=this.props,n=this.inputRef&&this.inputRef.current;e?n&&n.focus({preventScroll:t}):n&&n.blur(),this.setState({focusing:e})},setHovering:e=>{this.setState({hovering:e})},setActive:e=>{this.setState({active:e})},setEntering:e=>{this.setState({entering:e})},getClickOutsideHandler:()=>this.clickOutsideHandler,notifyBlur:e=>{this.props.onBlur(e)},notifyFocus:e=>{this.props.onFocus(e)},notifyInputChange:(e,t)=>{this.props.onInputChange(e,t)},notifyTagChange:e=>{this.props.onChange(e)},notifyTagAdd:e=>{this.props.onAdd(e)},notifyTagRemove:(e,t)=>{this.props.onRemove(e,t)},notifyKeyDown:e=>{this.props.onKeyDown(e)},registerClickOutsideHandler:e=>{const t=n=>{const r=this.tagInputRef&&this.tagInputRef.current,s=n.target,a=n.composedPath&&n.composedPath()||[s];r&&!r.contains(s)&&!a.includes(r)&&e(n)};this.clickOutsideHandler=t,document.addEventListener("click",t,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("click",this.clickOutsideHandler,!1),this.clickOutsideHandler=null}})}componentDidMount(){const{disabled:e,autoFocus:t,preventScroll:n}=this.props;!e&&t&&(this.inputRef.current.focus({preventScroll:n}),this.foundation.handleClick()),this.foundation.init()}renderClearBtn(){const{hovering:e,tagsArray:t,inputValue:n}=this.state,{showClear:r,disabled:s,clearIcon:a}=this.props,o=he(`${In}-clearBtn`,{[`${In}-clearBtn-invisible`]:!e||n===""&&t.length===0||s});return r?R.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TagInput value",className:o,onClick:l=>this.handleClearBtn(l),onKeyPress:l=>this.handleClearEnterPress(l)},a||R.createElement(Sm,null)):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:n}=this.props,r=e||t;if(rb(r)||Or(r))return null;const s=he(`${In}-prefix`,{[`${In}-inset-label`]:t,[`${In}-prefix-text`]:r&&en(r),[`${In}-prefix-icon`]:Zl(r)});return R.createElement("div",{className:s,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:n,"x-semi-prop":"prefix"},r)}renderSuffix(){const{suffix:e}=this.props;if(rb(e)||Or(e))return null;const t=he(`${In}-suffix`,{[`${In}-suffix-text`]:e&&en(e),[`${In}-suffix-icon`]:Zl(e)});return R.createElement("div",{className:t,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},e)}renderTags(){const{disabled:e,maxTagCount:t,showRestTagsPopover:n,restTagsPopoverProps:r={},draggable:s,expandRestTagsOnClick:a}=this.props,{tagsArray:o,active:l}=this.state,u=he(`${In}-wrapper-n`,{[`${In}-wrapper-n-disabled`]:e}),c=this.getAllTags();let d=[],h=[...c];(!l||!a)&&t&&t<c.length&&(h=c.slice(0,t),d=c.slice(t));const p=R.createElement("span",{className:u},"+",o.length-t),f=c.map((g,v)=>({item:g,key:o[v]}));return l&&s&&f.length>0?R.createElement(xKt,{items:o,onSortEnd:this.onSortEnd,renderItem:this.renderSortTag,container:kKt,prefix:In,transition:null,dragOverlayCls:`${In}-right-item-drag-item-move`}):R.createElement(R.Fragment,null,h,d.length>0&&(n?R.createElement(qo,Object.assign({content:d,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},r),p):p))}blur(){this.inputRef.current.blur(),this.foundation.clickOutsideCallBack()}focus(){const{preventScroll:e,disabled:t}=this.props;this.inputRef.current.focus({preventScroll:e}),t||this.foundation.handleClick()}render(){const e=this.props,{size:t,style:n,className:r,disabled:s,placeholder:a,validateStatus:o,prefix:l,insetLabel:u,suffix:c}=e,d=CKt(e,["size","style","className","disabled","placeholder","validateStatus","prefix","insetLabel","suffix"]),{focusing:h,hovering:p,tagsArray:f,inputValue:g,active:v}=this.state,m=he(In,r,{[`${In}-focus`]:h||v,[`${In}-disabled`]:s,[`${In}-hover`]:p&&!s,[`${In}-error`]:o==="error",[`${In}-warning`]:o==="warning",[`${In}-small`]:t==="small",[`${In}-large`]:t==="large",[`${In}-with-prefix`]:!!l||!!u,[`${In}-with-suffix`]:!!c}),b=he(`${In}-wrapper-input`,`${In}-wrapper-input-${t}`),_=he(`${In}-wrapper`);return R.createElement("div",Object.assign({ref:this.tagInputRef,style:n,className:m,"aria-disabled":s,"aria-label":this.props["aria-label"],"aria-invalid":o==="error",onMouseEnter:S=>{this.handleInputMouseEnter(S)},onMouseLeave:S=>{this.handleInputMouseLeave(S)},onClick:S=>{this.handleClick(S)}},this.getDataAttr(d)),this.renderPrefix(),R.createElement("div",{className:_},this.renderTags(),R.createElement(iu,{"aria-label":"input value",ref:this.inputRef,className:b,disabled:s,value:g,size:t,placeholder:f.length===0?a:"",onKeyDown:S=>{this.handleKeyDown(S)},onChange:(S,C)=>{this.handleInputChange(C)},onBlur:S=>{this.handleInputBlur(S)},onFocus:S=>{this.handleInputFocus(S)},onCompositionStart:this.handleInputCompositionStart,onCompositionEnd:this.handleInputCompositionEnd})),this.renderClearBtn(),this.renderSuffix())}}VP.propTypes={children:w.node,clearIcon:w.node,style:w.object,className:w.string,disabled:w.bool,allowDuplicates:w.bool,max:w.number,maxTagCount:w.number,maxLength:w.number,showRestTagsPopover:w.bool,restTagsPopoverProps:w.object,showContentTooltip:w.oneOfType([w.shape({type:w.string,opts:w.object}),w.bool]),defaultValue:w.array,value:w.array,inputValue:w.string,placeholder:w.string,separator:w.oneOfType([w.string,w.array]),showClear:w.bool,addOnBlur:w.bool,draggable:w.bool,expandRestTagsOnClick:w.bool,autoFocus:w.bool,renderTagItem:w.func,onBlur:w.func,onFocus:w.func,onChange:w.func,onInputChange:w.func,onExceed:w.func,onInputExceed:w.func,onAdd:w.func,onRemove:w.func,onKeyDown:w.func,size:w.oneOf(Wfe.SIZE_SET),validateStatus:w.oneOf(Wfe.STATUS),prefix:w.oneOfType([w.string,w.node]),suffix:w.oneOfType([w.string,w.node]),"aria-label":w.string,preventScroll:w.bool};VP.defaultProps={showClear:!1,addOnBlur:!1,allowDuplicates:!0,showRestTagsPopover:!0,autoFocus:!1,draggable:!1,expandRestTagsOnClick:!0,showContentTooltip:!0,separator:",",size:"default",validateStatus:"default",onBlur:Te,onFocus:Te,onChange:Te,onInputChange:Te,onExceed:Te,onInputExceed:Te,onAdd:Te,onRemove:Te,onKeyDown:Te};const Cn=RMe.PREFIX,EKt=0;class fw extends ln{constructor(e){super(e),this.search=t=>{this.handleInputChange(t)},this.handleInputChange=t=>{this.foundation.handleInputChange(t)},this.handleTagRemoveInTrigger=t=>{this.foundation.handleTagRemoveInTrigger(t)},this.handleTagClose=(t,n,r)=>{n.preventDefault(),this.foundation.handleTagRemoveByKey(r)},this.renderTagItem=(t,n)=>{const{keyEntities:r,disabledKeys:s}=this.state,{size:a,disabled:o,displayProp:l,displayRender:u,disableStrictly:c}=this.props;if(r[t]){const d=o||r[t].data.disabled||c&&s.has(t),h=he(`${Cn}-selection-tag`,{[`${Cn}-selection-tag-disabled`]:d});return sn(u)?u(r[t],n):R.createElement(Gu,{size:a==="default"?"large":a,key:`tag-${t}-${n}`,color:"white",tagKey:t,className:h,closable:!0,onClose:this.handleTagClose},r[t].data[l])}return null},this.onRemoveInTagInput=t=>{this.foundation.handleTagRemoveByKey(t)},this.handleItemClick=(t,n)=>{this.foundation.handleItemClick(t,n)},this.handleItemHover=(t,n)=>{this.foundation.handleItemHover(t,n)},this.onItemCheckboxClick=t=>{this.foundation.onItemCheckboxClick(t)},this.handleListScroll=(t,n)=>{this.foundation.handleListScroll(t,n)},this.renderContent=()=>{const{inputValue:t,isSearching:n,activeKeys:r,selectedKeys:s,checkedKeys:a,halfCheckedKeys:o,loadedKeys:l,loadingKeys:u}=this.state,{filterTreeNode:c,dropdownClassName:d,dropdownStyle:h,loadData:p,emptyContent:f,separator:g,topSlot:v,bottomSlot:m,showNext:b,multiple:_,filterRender:S,virtualizeInSearch:C}=this.props,k=!!c&&n,E=he(d,`${Cn}-popover`),A=this.foundation.getRenderData();return R.createElement("div",{className:E,role:"listbox",style:h},v,R.createElement(C4,{activeKeys:r,selectedKeys:s,separator:g,loadedKeys:l,loadingKeys:u,onItemClick:this.handleItemClick,onItemHover:this.handleItemHover,showNext:b,onItemCheckboxClick:this.onItemCheckboxClick,onListScroll:this.handleListScroll,searchable:k,keyword:t,emptyContent:f,loadData:p,data:A,multiple:_,checkedKeys:a,halfCheckedKeys:o,filterRender:S,virtualize:C}),m)},this.renderPlusN=t=>{const{disabled:n,showRestTagsPopover:r,restTagsPopoverProps:s}=this.props,a=he(`${Cn}-selection-n`,{[`${Cn}-selection-n-disabled`]:n}),o=R.createElement("span",{className:a},"+",t.length);return r?R.createElement(qo,Object.assign({content:t,showArrow:!0,trigger:"hover",position:"top",autoAdjustOverflow:!0},s),o):o},this.renderMultipleTags=()=>{const{autoMergeValue:t,maxTagCount:n}=this.props,{checkedKeys:r,resolvedCheckedKeys:s}=this.state,a=this.mergeType===qa.NONE_MERGE_TYPE?r:s,o=[],l=[];return[...a].forEach((u,c)=>{const d=!Gs(n)||n>=c+1,h=this.renderTagItem(u,c);d?o.push(h):l.push(h)}),R.createElement(R.Fragment,null,o,!$r(l)&&this.renderPlusN(l))},this.renderDisplayText=()=>{const{displayProp:t,separator:n,displayRender:r}=this.props,{selectedKeys:s}=this.state;let a="";if(s.size){const o=this.foundation.getItemPropPath([...s][0],t);r&&typeof r=="function"?a=r(o):a=o.map((l,u)=>R.createElement(ee.Fragment,{key:`${l}-${u}`},u<o.length-1?R.createElement(R.Fragment,null,l,n):l))}return a},this.renderSelectContent=()=>{const{placeholder:t,filterTreeNode:n,multiple:r,searchPosition:s}=this.props,{checkedKeys:a}=this.state;if(!(!!n&&s===qa.SEARCH_POSITION_TRIGGER)){if(r)return a.size===0?R.createElement("span",{className:`${Cn}-selection-placeholder`},t):this.renderMultipleTags();{const u=this.renderDisplayText(),c=he({[`${Cn}-selection-placeholder`]:!u});return R.createElement("span",{className:c},u||t)}}return r?this.renderTagInput():this.renderInput()},this.renderSuffix=()=>{const{suffix:t}=this.props,n=he({[`${Cn}-suffix`]:!0,[`${Cn}-suffix-text`]:t&&en(t),[`${Cn}-suffix-icon`]:Zl(t)});return R.createElement("div",{className:n,"x-semi-prop":"suffix"},t)},this.renderPrefix=()=>{const{prefix:t,insetLabel:n,insetLabelId:r}=this.props,s=t||n,a=he({[`${Cn}-prefix`]:!0,[`${Cn}-inset-label`]:n,[`${Cn}-prefix-text`]:s&&en(s),[`${Cn}-prefix-icon`]:Zl(s)});return R.createElement("div",{className:a,id:r,"x-semi-prop":"prefix,insetLabel"},s)},this.renderCustomTrigger=()=>{var t;const{disabled:n,triggerRender:r,multiple:s}=this.props,{selectedKeys:a,inputValue:o,inputPlaceHolder:l,resolvedCheckedKeys:u,checkedKeys:c,keyEntities:d}=this.state;let h;return s?this.mergeType===qa.NONE_MERGE_TYPE?(h=new Set,c.forEach(p=>{var f;h.add((f=d[p])===null||f===void 0?void 0:f.pos)})):(h=new Set,u.forEach(p=>{var f;h.add((f=d[p])===null||f===void 0?void 0:f.pos)})):h=(t=d[[...a][0]])===null||t===void 0?void 0:t.pos,R.createElement(Ab,{value:h,inputValue:o,onChange:this.handleInputChange,onClear:this.handleClear,placeholder:l,disabled:n,triggerRender:r,componentName:"Cascader",componentProps:Object.assign({},this.props),onSearch:this.handleInputChange,onRemove:this.handleTagRemoveInTrigger})},this.handleMouseOver=()=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=()=>{this.foundation.toggleHoverState(!1)},this.handleClear=t=>{t&&t.stopPropagation(),this.foundation.handleClear()},this.handleClearEnterPress=t=>{t&&t.stopPropagation(),this.foundation.handleClearEnterPress(t)},this.showClearBtn=()=>{const{showClear:t,disabled:n,multiple:r}=this.props,{selectedKeys:s,isOpen:a,isHovering:o,checkedKeys:l,inputValue:u}=this.state,c=s.size,d=r&&l.size;return t&&(u||c||d)&&!n&&(a||o)},this.renderClearBtn=()=>{const t=he(`${Cn}-clearbtn`),{clearIcon:n}=this.props;return this.showClearBtn()?R.createElement("div",{className:t,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress,role:"button",tabIndex:0},n||R.createElement(Sm,null)):null},this.renderArrow=()=>{const{arrowIcon:t}=this.props;return this.showClearBtn()?null:t?R.createElement("div",{className:he(`${Cn}-arrow`),"x-semi-prop":"arrowIcon"},t):null},this.renderSelection=()=>{const{disabled:t,multiple:n,filterTreeNode:r,style:s,size:a,className:o,validateStatus:l,prefix:u,suffix:c,insetLabel:d,triggerRender:h,showClear:p,id:f,borderless:g}=this.props,{isOpen:v,isFocus:m,isInput:b,checkedKeys:_}=this.state,S=!!r,C=typeof h=="function",k=C?he(o):he(Cn,o,{[`${Cn}-borderless`]:g,[`${Cn}-focus`]:m||v&&!b,[`${Cn}-disabled`]:t,[`${Cn}-single`]:!0,[`${Cn}-filterable`]:S,[`${Cn}-error`]:l==="error",[`${Cn}-warning`]:l==="warning",[`${Cn}-small`]:a==="small",[`${Cn}-large`]:a==="large",[`${Cn}-with-prefix`]:u||d,[`${Cn}-with-suffix`]:c}),E=p?{onMouseEnter:()=>this.handleMouseOver(),onMouseLeave:()=>this.handleMouseLeave()}:{},A=he(`${Cn}-selection`,{[`${Cn}-selection-multiple`]:n&&!$r(_)}),P=C?this.renderCustomTrigger():[R.createElement(ee.Fragment,{key:"prefix"},u||d?this.renderPrefix():null),R.createElement(ee.Fragment,{key:"selection"},R.createElement("div",{className:A},this.renderSelectContent())),R.createElement(ee.Fragment,{key:"clearbtn"},this.renderClearBtn()),R.createElement(ee.Fragment,{key:"suffix"},c?this.renderSuffix():null),R.createElement(ee.Fragment,{key:"arrow"},this.renderArrow())];return R.createElement("div",Object.assign({className:k,style:s,ref:this.triggerRef,onClick:O=>this.foundation.handleClick(O),onKeyPress:O=>this.foundation.handleSelectionEnterPress(O),"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],id:f},E,{role:"combobox",tabIndex:0},this.getDataAttr(this.props)),P)},this.state={disabledKeys:new Set,isOpen:e.defaultOpen,rePosKey:EKt,keyEntities:{},selectedKeys:new Set([]),activeKeys:new Set([]),filteredKeys:new Set([]),inputValue:"",isSearching:!1,inputPlaceHolder:e.searchPlaceholder||e.placeholder,prevProps:{},isHovering:!1,checkedKeys:new Set([]),halfCheckedKeys:new Set([]),resolvedCheckedKeys:new Set([]),loadedKeys:new Set,loadingKeys:new Set,loading:!1,showInput:!1},this.options={},this.isEmpty=!1,this.mergeType=yU(e.autoMergeValue,e.leafOnly),this.inputRef=R.createRef(),this.triggerRef=R.createRef(),this.optionsRef=R.createRef(),this.clickOutsideHandler=null,this.foundation=new sGt(this.adapter),this.loadingKeysRef=R.createRef(),this.loadedKeysRef=R.createRef()}get adapter(){var e=this;const t={updateInputValue:r=>{this.setState({inputValue:r})},updateInputPlaceHolder:r=>{this.setState({inputPlaceHolder:r})},focusInput:()=>{const{preventScroll:r}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:r})},blurInput:()=>{this.inputRef&&this.inputRef.current&&this.inputRef.current.blur()}},n={registerClickOutsideHandler:r=>{const s=a=>{const o=this.optionsRef&&this.optionsRef.current,l=this.triggerRef&&this.triggerRef.current,u=$c.findDOMNode(o),c=a.target,d=a.composedPath&&a.composedPath()||[c];u&&(!u.contains(c)||!u.contains(c.parentNode))&&l&&!l.contains(c)&&!(d.includes(l)||d.includes(u))&&r(a)};this.clickOutsideHandler=s,document.addEventListener("mousedown",s,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("mousedown",this.clickOutsideHandler,!1)},rePositionDropdown:()=>{let{rePosKey:r}=this.state;r=r+1,this.setState({rePosKey:r})}};return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),n),{updateStates:r=>{this.setState(Object.assign({},r))},openMenu:()=>{this.setState({isOpen:!0})},closeMenu:r=>{this.setState({isOpen:!1},()=>{r&&r()})},updateSelection:r=>this.setState({selectedKeys:r}),notifyChange:r=>{this.props.onChange&&this.props.onChange(r)},notifySelect:r=>{this.props.onSelect&&this.props.onSelect(r)},notifyOnSearch:r=>{this.props.onSearch&&this.props.onSearch(r)},notifyFocus:function(){e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){e.props.onBlur&&e.props.onBlur(...arguments)},notifyDropdownVisibleChange:r=>{this.props.onDropdownVisibleChange(r)},toggleHovering:r=>{this.setState({isHovering:r})},notifyLoadData:(r,s)=>{const{loadData:a}=this.props;a&&new Promise(o=>{a(r).then(()=>{s(),this.setState({loading:!1}),o()})})},notifyOnLoad:(r,s)=>{const{onLoad:a}=this.props;a&&a(r,s)},notifyListScroll:(r,s)=>{let{panelIndex:a,activeNode:o}=s;this.props.onListScroll(r,{panelIndex:a,activeNode:o})},notifyOnExceed:r=>this.props.onExceed(r),notifyClear:()=>this.props.onClear(),toggleInputShow:(r,s)=>{this.setState({showInput:r},()=>{s()})},updateFocusState:r=>{this.setState({isFocus:r})},updateLoadingKeyRefValue:r=>{this.loadingKeysRef.current=r},getLoadingKeyRefValue:()=>this.loadingKeysRef.current,updateLoadedKeyRefValue:r=>{this.loadedKeysRef.current=r},getLoadedKeyRefValue:()=>this.loadedKeysRef.current})}static getDerivedStateFromProps(e,t){const{multiple:n,value:r,defaultValue:s,onChangeWithObject:a,leafOnly:o,autoMergeValue:l}=e,{prevProps:u}=t;let c=t.keyEntities||{};const d={},h=g=>{const v=$r(u)&&g in e,m=u&&!Fn(u[g],e[g]);return v||m},p=()=>{const g=!u&&"treeData"in e,v=u&&u.treeData!==e.treeData;return g||v},f=(g,v)=>{let m=[];Array.isArray(g)?m=Array.isArray(g[0])?g:[g]:g!==void 0&&(m=[[g]]);const b=[];return m.forEach(S=>{const C=a&&tm(S[0])?S.map(k=>k==null?void 0:k.value):S;C.length>0&&b.push(C)}),b.reduce((S,C)=>{const k=o6(C);return v[k]&&S.push(k),S},[])};if(n){const g=h("treeData")||p(),v=h("value")||$r(u)&&s;if(g||v){g&&(d.treeData=e.treeData,c=LMe(e.treeData),d.keyEntities=c);let m=t.checkedKeys;if(v){const k=h("value")?r:s;m=f(k,c)}else g&&"value"in e&&(m=f(r,c));hOe(m)&&(m=[...m]);const b=$P(m,c),_=new Set(b.checkedKeys),S=new Set(b.halfCheckedKeys);e.disableStrictly&&(d.disabledKeys=IMe(c));const C=yU(l,o)===qa.LEAF_ONLY_MERGE_TYPE;d.prevProps=e,d.checkedKeys=_,d.halfCheckedKeys=S,d.resolvedCheckedKeys=new Set(Lc(_,c,C))}}return d}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e){if(this.props.multiple)return;let t=!1;Fn(e.treeData,this.props.treeData)||(t=!0,this.foundation.collectOptions()),e.value!==this.props.value&&!t&&this.foundation.handleValueChange(this.props.value)}renderTagInput(){const{size:e,disabled:t,placeholder:n,maxTagCount:r,showRestTagsPopover:s,restTagsPopoverProps:a}=this.props,{inputValue:o,checkedKeys:l,keyEntities:u,resolvedCheckedKeys:c}=this.state,d=he(`${Cn}-tagInput-wrapper`),h=this.mergeType===qa.NONE_MERGE_TYPE?l:c;return R.createElement(VP,{className:d,ref:this.inputRef,disabled:t,size:e,value:[...h],showRestTagsPopover:s,restTagsPopoverProps:a,maxTagCount:r,renderTagItem:this.renderTagItem,inputValue:o,onInputChange:this.handleInputChange,onRemove:this.onRemoveInTagInput,placeholder:n,expandRestTagsOnClick:!1})}renderInput(){const{size:e,disabled:t}=this.props,n=he(`${Cn}-input`),{inputValue:r,inputPlaceHolder:s,showInput:a}=this.state,o={disabled:t,value:r,className:n,onChange:this.handleInputChange},l=he({[`${Cn}-search-wrapper`]:!0,[`${Cn}-search-wrapper-${e}`]:e!=="default"}),u=this.renderDisplayText(),c=he({[`${Cn}-selection-placeholder`]:!u,[`${Cn}-selection-text-hide`]:a&&r,[`${Cn}-selection-text-inactive`]:a&&!r});return R.createElement("div",{className:l},R.createElement("span",{className:c},u||s),a&&R.createElement(iu,Object.assign({ref:this.inputRef,size:e},o)))}close(){this.foundation.close()}open(){this.foundation.open()}focus(){this.foundation.focus()}blur(){this.foundation.blur()}render(){const{zIndex:e,getPopupContainer:t,autoAdjustOverflow:n,stopPropagation:r,mouseLeaveDelay:s,mouseEnterDelay:a,position:o,motion:l,dropdownMargin:u}=this.props,{isOpen:c,rePosKey:d}=this.state,{direction:h}=this.context,p=this.renderContent(),f=this.renderSelection(),g=o??(h==="rtl"?"bottomRight":"bottomLeft");return R.createElement(qo,{getPopupContainer:t,zIndex:e,motion:l,margin:u,ref:this.optionsRef,content:p,visible:c,trigger:"custom",rePosKey:d,position:g,autoAdjustOverflow:n,stopPropagation:r,mouseLeaveDelay:s,mouseEnterDelay:a,afterClose:()=>this.foundation.updateSearching(!1)},f)}}fw.__SemiComponentName__="Cascader";fw.contextType=ic;fw.propTypes={"aria-labelledby":w.string,"aria-invalid":w.bool,"aria-errormessage":w.string,"aria-describedby":w.string,"aria-required":w.bool,"aria-label":w.string,arrowIcon:w.node,borderless:w.bool,clearIcon:w.node,changeOnSelect:w.bool,defaultValue:w.oneOfType([w.string,w.array]),disabled:w.bool,dropdownClassName:w.string,dropdownStyle:w.object,dropdownMargin:w.oneOfType([w.number,w.object]),emptyContent:w.node,motion:w.bool,filterTreeNode:w.oneOfType([w.func,w.bool]),filterLeafOnly:w.bool,placeholder:w.string,searchPlaceholder:w.string,size:w.oneOf(qa.SIZE_SET),style:w.object,className:w.string,treeData:w.arrayOf(w.shape({value:w.oneOfType([w.string,w.number]),label:w.any})),treeNodeFilterProp:w.string,suffix:w.node,prefix:w.node,insetLabel:w.node,insetLabelId:w.string,id:w.string,displayProp:w.string,displayRender:w.func,onChange:w.func,onSearch:w.func,onSelect:w.func,onBlur:w.func,onFocus:w.func,children:w.node,getPopupContainer:w.func,zIndex:w.number,value:w.oneOfType([w.string,w.number,w.array]),validateStatus:w.oneOf(qa.VALIDATE_STATUS),showNext:w.oneOf([qa.SHOW_NEXT_BY_CLICK,qa.SHOW_NEXT_BY_HOVER]),stopPropagation:w.oneOfType([w.bool,w.string]),showClear:w.bool,defaultOpen:w.bool,autoAdjustOverflow:w.bool,onDropdownVisibleChange:w.func,triggerRender:w.func,onListScroll:w.func,onChangeWithObject:w.bool,bottomSlot:w.node,topSlot:w.node,multiple:w.bool,autoMergeValue:w.bool,maxTagCount:w.number,showRestTagsPopover:w.bool,restTagsPopoverProps:w.object,max:w.number,separator:w.string,onExceed:w.func,onClear:w.func,loadData:w.func,onLoad:w.func,loadedKeys:w.array,disableStrictly:w.bool,leafOnly:w.bool,enableLeafClick:w.bool,preventScroll:w.bool,position:w.string,searchPosition:w.string};fw.defaultProps=oh(fw.__SemiComponentName__,{borderless:!1,leafOnly:!1,arrowIcon:R.createElement(MP,null),stopPropagation:!0,motion:!0,defaultOpen:!1,zIndex:Uc.DEFAULT_Z_INDEX,showClear:!1,autoClearSearchValue:!0,changeOnSelect:!1,disableStrictly:!1,autoMergeValue:!0,multiple:!1,filterTreeNode:!1,filterLeafOnly:!0,showRestTagsPopover:!1,restTagsPopoverProps:{},separator:" / ",size:"default",treeNodeFilterProp:"label",displayProp:"label",treeData:[],showNext:qa.SHOW_NEXT_BY_CLICK,onExceed:Te,onClear:Te,onDropdownVisibleChange:Te,onListScroll:Te,enableLeafClick:!1,"aria-label":"Cascader",searchPosition:qa.SEARCH_POSITION_TRIGGER});class AKt extends _n{constructor(e){super(Object.assign({},e)),this.updateDOMInRenderTree=t=>{this._adapter.setDOMInRenderTree(t)},this.updateDOMHeight=t=>{this._adapter.setDOMHeight(t)},this.updateVisible=t=>{this._adapter.setVisible(t)},this.updateIsTransitioning=t=>{this._adapter.setIsTransitioning(t)}}}const rge={PREFIX:`${Ze}-collapsible`};class C0 extends ln{constructor(e){super(e),this.domRef=R.createRef(),this.hasBeenRendered=!1,this.handleResize=t=>{const n=t[0];if(n){const r=C0.getEntryInfo(n);this.foundation.updateDOMHeight(r.height),this.foundation.updateDOMInRenderTree(r.isShown)}},this.isChildrenInRenderTree=()=>this.domRef.current?this.domRef.current.offsetHeight>0:!1,this.state={domInRenderTree:!1,domHeight:0,visible:this.props.isOpen,isTransitioning:!1},this.foundation=new AKt(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setDOMInRenderTree:e=>{this.state.domInRenderTree!==e&&this.setState({domInRenderTree:e})},setDOMHeight:e=>{this.state.domHeight!==e&&this.setState({domHeight:e})},setVisible:e=>{this.state.visible!==e&&this.setState({visible:e})},setIsTransitioning:e=>{this.state.isTransitioning!==e&&this.setState({isTransitioning:e})}})}componentDidMount(){super.componentDidMount(),this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.domRef.current);const e=this.isChildrenInRenderTree();this.foundation.updateDOMInRenderTree(e),e&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight)}componentDidUpdate(e,t,n){const r=Object.keys(this.props).filter(a=>!Fn(this.props[a],e[a])),s=Object.keys(this.state).filter(a=>!Fn(this.state[a],t[a]));r.includes("reCalcKey")&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),s.includes("domInRenderTree")&&this.state.domInRenderTree&&this.foundation.updateDOMHeight(this.domRef.current.scrollHeight),r.includes("isOpen")&&(this.props.isOpen||!this.props.motion)&&this.foundation.updateVisible(this.props.isOpen),this.props.motion&&e.isOpen!==this.props.isOpen&&this.foundation.updateIsTransitioning(!0)}componentWillUnmount(){super.componentWillUnmount(),this.resizeObserver.disconnect()}render(){const e=Object.assign({overflow:"hidden",height:this.props.isOpen?this.state.domHeight:this.props.collapseHeight,opacity:this.props.isOpen||!this.props.fade||this.props.collapseHeight!==0?1:0,transitionDuration:`${this.props.motion&&this.state.isTransitioning?this.props.duration:0}ms`},this.props.style),t=he(`${rge.PREFIX}-wrapper`,{[`${rge.PREFIX}-transition`]:this.props.motion&&this.state.isTransitioning},this.props.className),n=this.props.keepDOM&&(this.props.lazyRender?this.hasBeenRendered:!0)||this.props.collapseHeight!==0||this.state.visible||this.props.isOpen;return n&&!this.hasBeenRendered&&(this.hasBeenRendered=!0),R.createElement("div",Object.assign({className:t,style:e,onTransitionEnd:()=>{var r,s;this.props.isOpen||this.foundation.updateVisible(!1),this.foundation.updateIsTransitioning(!1),(s=(r=this.props).onMotionEnd)===null||s===void 0||s.call(r)}},this.getDataAttr(this.props)),R.createElement("div",{"x-semi-prop":"children",ref:this.domRef,style:{overflow:"hidden"},id:this.props.id},n&&this.props.children))}}C0.__SemiComponentName__="Collapsible";C0.defaultProps=oh(C0.__SemiComponentName__,{isOpen:!1,duration:250,motion:!0,keepDOM:!1,lazyRender:!1,collapseHeight:0,fade:!1});C0.getEntryInfo=i=>{let e;i.borderBoxSize?e=!(i.borderBoxSize[0].blockSize===0&&i.borderBoxSize[0].inlineSize===0):e=!(i.contentRect.height===0&&i.contentRect.width===0);let t=0;return i.borderBoxSize?t=Math.ceil(i.borderBoxSize[0].blockSize):t=i.target.clientHeight,{isShown:e,height:t}};C0.propTypes={motion:w.bool,children:w.node,isOpen:w.bool,duration:w.number,keepDOM:w.bool,collapseHeight:w.number,style:w.object,className:w.string,reCalcKey:w.oneOfType([w.string,w.number])};var TKt=vOe;function PKt(i,e){return i==null?!0:TKt(i,e)}var OKt=PKt;const wU=Li(OKt);var MKt=nC,IKt=aZ,RKt=Jo,DKt=Jw,LKt=kPe,FKt=kb,BKt=a4;function $Kt(i){return RKt(i)?MKt(i,FKt):DKt(i)?[i]:IKt(LKt(BKt(i)))}var NKt=$Kt;const x2=Li(NKt),sge=i=>{const e=x2(i);return Gs(i)&&e.length===1?!1:Number.isInteger(+e[e.length-1])};function jKt(i){if(tm(i)){const e=CMe(i);return e.length?e.every(t=>typeof t>"u"):!0}else return!1}function qZ(i,e){if(e.length===0)return;const t=wt(i,e);(Array.isArray(t)&&t.every(n=>n==null)||jKt(t))&&wU(i,e),qZ(i,e.slice(0,e.length-1))}function zKt(i){return CMe(i).length===0}function Yl(i,e){return wt(i,e)}function sR(i,e){wU(i,e);let t=x2(e);t=t.slice(0,t.length-1),qZ(i,t)}function N8(i,e,t,n){if(n||t!==void 0)return mx(i,e,t);if(sge(e)&&Yl(i,e)!==void 0){mx(i,e,void 0);let r=x2(e);r=r.slice(0,r.length-1),qZ(i,r)}else!sge(e)&&Yl(i,e)!==void 0&&sR(i,e)}function vIe(i,e){return i&&(typeof i=="function"||typeof i=="object")&&e&&(typeof e=="function"||typeof e=="object")&&Object.entries(e).forEach(t=>{let[n,r]=t;i[n]=r}),i}const HKt={DAY_TODAY:`${Ze}-datepicker-day-today`,DAY_IN_RANGE:`${Ze}-datepicker-day-inrange`,DAY_HOVER:`${Ze}-datepicker-day-inhover`,DAY_SELECTED:`${Ze}-datepicker-day-selected`,DAY_SELECTED_START:`${Ze}-datepicker-day-selected-start`,DAY_SELECTED_END:`${Ze}-datepicker-day-selected-end`,DAY_DISABLED:`${Ze}-datepicker-day-disabled`,DAY_HOVER_DAY:`${Ze}-datepicker-day-hoverday`,DAY_HOVER_DAY_OFFSET:`${Ze}-datepicker-day-hoverday-offset`,DAY_IN_OFFSET_RANGE:`${Ze}-datepicker-day-inoffsetrange`,DAY_SELECTED_RANGE_HOVER:`${Ze}-datepicker-day-selectedrange-hover`,DAY_OFFSET_RANGE_START:`${Ze}-datepicker-day-offsetrange-start`,DAY_OFFSET_RANGE_END:`${Ze}-datepicker-day-offsetrange-end`,DAY_SELECTED_START_AFTER_HOVER:`${Ze}-datepicker-day-selected-start-afterhover`,DAY_SELECTED_END_BEFORE_HOVER:`${Ze}-datepicker-day-selected-end-beforehover`,DAY_HOVER_DAY_BEFORE_RANGE:`${Ze}-datepicker-day-hoverday-beforerange`,DAY_HOVER_DAY_AFTER_RANGE:`${Ze}-datepicker-day-hoverday-afterrange`,DAY_HOVER_DAY_IN_RANGE:`${Ze}-datepicker-day-hoverday-inrange`,DAY_HOVER_DAY_AROUND_SINGLE_SELECTED:`${Ze}-datepicker-day-hoverday-around-singleselected`},Hi=Object.assign({PREFIX:`${Ze}-datepicker`,NAVIGATION:`${Ze}-datepicker-navigation`,PANEL_YAM:`${Ze}-datepicker-panel-yam`,MONTH:`${Ze}-datepicker-month`,WEEKDAY:`${Ze}-datepicker-weekday`,WEEKS:`${Ze}-datepicker-weeks`,WEEK:`${Ze}-datepicker-week`,DAY:`${Ze}-datepicker-day`},HKt),VKt={FORMAT_FULL_DATE:"yyyy-MM-dd",FORMAT_TIME_PICKER:"HH:mm:ss",FORMAT_DATE_TIME:"yyyy-MM-dd HH:mm:ss",FORMAT_YEAR_MONTH:"yyyy-MM"},xt=Object.assign({DEFAULT_SEPARATOR_MULTIPLE:",",DEFAULT_SEPARATOR_RANGE:" ~ ",SIZE_SET:["small","default","large"],TYPE_SET:["date","dateRange","year","month","monthRange","dateTime","dateTimeRange"],PRESET_POSITION_SET:["left","right","top","bottom"],DENSITY_SET:["default","compact"],PANEL_TYPE_LEFT:"left",PANEL_TYPE_RIGHT:"right",STATUS:sC,POSITION_SET:C_.POSITION_SET,POSITION_INLINE_INPUT:"leftTopOver"},VKt),gw={WEEK_START_ON:0,WEEK_HEIGHT:36,SPACING:Uc.SPACING,SPACING_INSET_INPUT:1};var WKt=gp,UKt=tc,GKt="[object Date]";function YKt(i){return UKt(i)&&WKt(i)==GKt}var KKt=YKt,XKt=KKt,qKt=oC,age=AP,oge=age&&age.isDate,ZKt=oge?qKt(oge):XKt,QKt=ZKt;const lge=Li(QKt);function zg(i){return typeof i=="string"}function uge(i,e){const t=zg(i)?Wd(i):i,n=zg(e)?Wd(e):e;return A8t(t,n)}function HS(i,e){const t=zg(i)?Wd(i):i,n=zg(e)?Wd(e):e;return VOe(t,n)}function B1(i,e){let{start:t,end:n}=e;const r=zg(i)?Wd(i):i,s=zg(t)?Wd(t):t,a=zg(n)?Wd(n):n;return VOe(s,a)&&kzt(r,{start:s,end:a})&&!QF(r,s)&&!QF(r,a)}function Xm(i,e){const t=zg(i)?Wd(i):i,n=zg(e)?Wd(e):e;return CZ(t,n)}function Ud(i){return i&&Object.prototype.toString.call(i)==="[object Date]"&&!isNaN(i)}function JKt(i){return typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]"}function CU(i){return JKt(i)&&Ud(new Date(i))}const yIe={date:xt.FORMAT_FULL_DATE,dateTime:xt.FORMAT_DATE_TIME,dateRange:xt.FORMAT_FULL_DATE,dateTimeRange:xt.FORMAT_DATE_TIME,month:xt.FORMAT_YEAR_MONTH,monthRange:xt.FORMAT_YEAR_MONTH},eXt=i=>yIe;function Rv(i){return i&&yIe[i]}const tXt=eXt,iXt=(i,e)=>{const t=new Date().getFullYear();let n=typeof i=="number"?i:t-100,r=typeof e=="number"?e:t+100;return r<n&&([n,r]=[r,n]),Array.from({length:r-n+1},(s,a)=>n+a)},ZI=(i,e)=>{if(!e)return"";const t=new Date(e),n=sn(i)?i(t):t;return lr(new Date(n),xt.FORMAT_FULL_DATE)};var kU={exports:{}},EU={exports:{}},_Ie={exports:{}};(function(i){function e(t){return t&&t.__esModule?t:{default:t}}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports})(_Ie);var qs=_Ie.exports,AU={exports:{}},TU={exports:{}},bIe={exports:{}};(function(i){function e(t){"@babel/helpers - typeof";return i.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i.exports.__esModule=!0,i.exports.default=i.exports,e(t)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports})(bIe);var SIe=bIe.exports,PU={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n,r){if(r.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+r.length+" present")}i.exports=e.default})(PU,PU.exports);var mu=PU.exports;(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=t(SIe),r=t(mu);function s(a){return(0,r.default)(1,arguments),a instanceof Date||(0,n.default)(a)==="object"&&Object.prototype.toString.call(a)==="[object Date]"}i.exports=e.default})(TU,TU.exports);var nXt=TU.exports,OU={exports:{}};(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=t(SIe),r=t(mu);function s(a){(0,r.default)(1,arguments);var o=Object.prototype.toString.call(a);return a instanceof Date||(0,n.default)(a)==="object"&&o==="[object Date]"?new Date(a.getTime()):typeof a=="number"||o==="[object Number]"?new Date(a):((typeof a=="string"||o==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}i.exports=e.default})(OU,OU.exports);var Df=OU.exports;(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=t(nXt),r=t(Df),s=t(mu);function a(o){if((0,s.default)(1,arguments),!(0,n.default)(o)&&typeof o!="number")return!1;var l=(0,r.default)(o);return!isNaN(Number(l))}i.exports=e.default})(AU,AU.exports);var rXt=AU.exports,MU={exports:{}},IU={exports:{}},RU={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n){if(n===null||n===!0||n===!1)return NaN;var r=Number(n);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}i.exports=e.default})(RU,RU.exports);var Tb=RU.exports;(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=t(Tb),r=t(Df),s=t(mu);function a(o,l){(0,s.default)(2,arguments);var u=(0,r.default)(o).getTime(),c=(0,n.default)(l);return new Date(u+c)}i.exports=e.default})(IU,IU.exports);var sXt=IU.exports;(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=t(sXt),r=t(mu),s=t(Tb);function a(o,l){(0,r.default)(2,arguments);var u=(0,s.default)(l);return(0,n.default)(o,-u)}i.exports=e.default})(MU,MU.exports);var aXt=MU.exports,DU={exports:{}},LU={exports:{}};(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=t(Df),r=t(mu),s=864e5;function a(o){(0,r.default)(1,arguments);var l=(0,n.default)(o),u=l.getTime();l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0);var c=l.getTime(),d=u-c;return Math.floor(d/s)+1}i.exports=e.default})(LU,LU.exports);var oXt=LU.exports,FU={exports:{}},BU={exports:{}};(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=t(Df),r=t(mu);function s(a){(0,r.default)(1,arguments);var o=1,l=(0,n.default)(a),u=l.getUTCDay(),c=(u<o?7:0)+u-o;return l.setUTCDate(l.getUTCDate()-c),l.setUTCHours(0,0,0,0),l}i.exports=e.default})(BU,BU.exports);var ZZ=BU.exports,$U={exports:{}},NU={exports:{}};(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=t(Df),r=t(mu),s=t(ZZ);function a(o){(0,r.default)(1,arguments);var l=(0,n.default)(o),u=l.getUTCFullYear(),c=new Date(0);c.setUTCFullYear(u+1,0,4),c.setUTCHours(0,0,0,0);var d=(0,s.default)(c),h=new Date(0);h.setUTCFullYear(u,0,4),h.setUTCHours(0,0,0,0);var p=(0,s.default)(h);return l.getTime()>=d.getTime()?u+1:l.getTime()>=p.getTime()?u:u-1}i.exports=e.default})(NU,NU.exports);var xIe=NU.exports;(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=t(xIe),r=t(ZZ),s=t(mu);function a(o){(0,s.default)(1,arguments);var l=(0,n.default)(o),u=new Date(0);u.setUTCFullYear(l,0,4),u.setUTCHours(0,0,0,0);var c=(0,r.default)(u);return c}i.exports=e.default})($U,$U.exports);var lXt=$U.exports;(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=t(Df),r=t(ZZ),s=t(lXt),a=t(mu),o=6048e5;function l(u){(0,a.default)(1,arguments);var c=(0,n.default)(u),d=(0,r.default)(c).getTime()-(0,s.default)(c).getTime();return Math.round(d/o)+1}i.exports=e.default})(FU,FU.exports);var uXt=FU.exports,jU={exports:{}},zU={exports:{}},Pb={};Object.defineProperty(Pb,"__esModule",{value:!0});Pb.getDefaultOptions=cXt;Pb.setDefaultOptions=dXt;var wIe={};function cXt(){return wIe}function dXt(i){wIe=i}(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=t(Df),r=t(mu),s=t(Tb),a=Pb;function o(l,u){var c,d,h,p,f,g,v,m;(0,r.default)(1,arguments);var b=(0,a.getDefaultOptions)(),_=(0,s.default)((c=(d=(h=(p=u==null?void 0:u.weekStartsOn)!==null&&p!==void 0?p:u==null||(f=u.locale)===null||f===void 0||(g=f.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&h!==void 0?h:b.weekStartsOn)!==null&&d!==void 0?d:(v=b.locale)===null||v===void 0||(m=v.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&c!==void 0?c:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var S=(0,n.default)(l),C=S.getUTCDay(),k=(C<_?7:0)+C-_;return S.setUTCDate(S.getUTCDate()-k),S.setUTCHours(0,0,0,0),S}i.exports=e.default})(zU,zU.exports);var QZ=zU.exports,HU={exports:{}},VU={exports:{}};(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=t(Df),r=t(mu),s=t(QZ),a=t(Tb),o=Pb;function l(u,c){var d,h,p,f,g,v,m,b;(0,r.default)(1,arguments);var _=(0,n.default)(u),S=_.getUTCFullYear(),C=(0,o.getDefaultOptions)(),k=(0,a.default)((d=(h=(p=(f=c==null?void 0:c.firstWeekContainsDate)!==null&&f!==void 0?f:c==null||(g=c.locale)===null||g===void 0||(v=g.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&p!==void 0?p:C.firstWeekContainsDate)!==null&&h!==void 0?h:(m=C.locale)===null||m===void 0||(b=m.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&d!==void 0?d:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=new Date(0);E.setUTCFullYear(S+1,0,k),E.setUTCHours(0,0,0,0);var A=(0,s.default)(E,c),P=new Date(0);P.setUTCFullYear(S,0,k),P.setUTCHours(0,0,0,0);var O=(0,s.default)(P,c);return _.getTime()>=A.getTime()?S+1:_.getTime()>=O.getTime()?S:S-1}i.exports=e.default})(VU,VU.exports);var CIe=VU.exports;(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=t(CIe),r=t(mu),s=t(QZ),a=t(Tb),o=Pb;function l(u,c){var d,h,p,f,g,v,m,b;(0,r.default)(1,arguments);var _=(0,o.getDefaultOptions)(),S=(0,a.default)((d=(h=(p=(f=c==null?void 0:c.firstWeekContainsDate)!==null&&f!==void 0?f:c==null||(g=c.locale)===null||g===void 0||(v=g.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&p!==void 0?p:_.firstWeekContainsDate)!==null&&h!==void 0?h:(m=_.locale)===null||m===void 0||(b=m.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&d!==void 0?d:1),C=(0,n.default)(u,c),k=new Date(0);k.setUTCFullYear(C,0,S),k.setUTCHours(0,0,0,0);var E=(0,s.default)(k,c);return E}i.exports=e.default})(HU,HU.exports);var hXt=HU.exports;(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=t(Df),r=t(QZ),s=t(hXt),a=t(mu),o=6048e5;function l(u,c){(0,a.default)(1,arguments);var d=(0,n.default)(u),h=(0,r.default)(d,c).getTime()-(0,s.default)(d,c).getTime();return Math.round(h/o)+1}i.exports=e.default})(jU,jU.exports);var pXt=jU.exports,WU={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n,r){for(var s=n<0?"-":"",a=Math.abs(n).toString();a.length<r;)a="0"+a;return s+a}i.exports=e.default})(WU,WU.exports);var kIe=WU.exports,UU={exports:{}};(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(kIe),r={y:function(o,l){var u=o.getUTCFullYear(),c=u>0?u:1-u;return(0,n.default)(l==="yy"?c%100:c,l.length)},M:function(o,l){var u=o.getUTCMonth();return l==="M"?String(u+1):(0,n.default)(u+1,2)},d:function(o,l){return(0,n.default)(o.getUTCDate(),l.length)},a:function(o,l){var u=o.getUTCHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return u.toUpperCase();case"aaa":return u;case"aaaaa":return u[0];case"aaaa":default:return u==="am"?"a.m.":"p.m."}},h:function(o,l){return(0,n.default)(o.getUTCHours()%12||12,l.length)},H:function(o,l){return(0,n.default)(o.getUTCHours(),l.length)},m:function(o,l){return(0,n.default)(o.getUTCMinutes(),l.length)},s:function(o,l){return(0,n.default)(o.getUTCSeconds(),l.length)},S:function(o,l){var u=l.length,c=o.getUTCMilliseconds(),d=Math.floor(c*Math.pow(10,u-3));return(0,n.default)(d,l.length)}},s=r;e.default=s,i.exports=e.default})(UU,UU.exports);var fXt=UU.exports;(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(oXt),r=t(uXt),s=t(xIe),a=t(pXt),o=t(CIe),l=t(kIe),u=t(fXt),c={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},d={G:function(m,b,_){var S=m.getUTCFullYear()>0?1:0;switch(b){case"G":case"GG":case"GGG":return _.era(S,{width:"abbreviated"});case"GGGGG":return _.era(S,{width:"narrow"});case"GGGG":default:return _.era(S,{width:"wide"})}},y:function(m,b,_){if(b==="yo"){var S=m.getUTCFullYear(),C=S>0?S:1-S;return _.ordinalNumber(C,{unit:"year"})}return u.default.y(m,b)},Y:function(m,b,_,S){var C=(0,o.default)(m,S),k=C>0?C:1-C;if(b==="YY"){var E=k%100;return(0,l.default)(E,2)}return b==="Yo"?_.ordinalNumber(k,{unit:"year"}):(0,l.default)(k,b.length)},R:function(m,b){var _=(0,s.default)(m);return(0,l.default)(_,b.length)},u:function(m,b){var _=m.getUTCFullYear();return(0,l.default)(_,b.length)},Q:function(m,b,_){var S=Math.ceil((m.getUTCMonth()+1)/3);switch(b){case"Q":return String(S);case"QQ":return(0,l.default)(S,2);case"Qo":return _.ordinalNumber(S,{unit:"quarter"});case"QQQ":return _.quarter(S,{width:"abbreviated",context:"formatting"});case"QQQQQ":return _.quarter(S,{width:"narrow",context:"formatting"});case"QQQQ":default:return _.quarter(S,{width:"wide",context:"formatting"})}},q:function(m,b,_){var S=Math.ceil((m.getUTCMonth()+1)/3);switch(b){case"q":return String(S);case"qq":return(0,l.default)(S,2);case"qo":return _.ordinalNumber(S,{unit:"quarter"});case"qqq":return _.quarter(S,{width:"abbreviated",context:"standalone"});case"qqqqq":return _.quarter(S,{width:"narrow",context:"standalone"});case"qqqq":default:return _.quarter(S,{width:"wide",context:"standalone"})}},M:function(m,b,_){var S=m.getUTCMonth();switch(b){case"M":case"MM":return u.default.M(m,b);case"Mo":return _.ordinalNumber(S+1,{unit:"month"});case"MMM":return _.month(S,{width:"abbreviated",context:"formatting"});case"MMMMM":return _.month(S,{width:"narrow",context:"formatting"});case"MMMM":default:return _.month(S,{width:"wide",context:"formatting"})}},L:function(m,b,_){var S=m.getUTCMonth();switch(b){case"L":return String(S+1);case"LL":return(0,l.default)(S+1,2);case"Lo":return _.ordinalNumber(S+1,{unit:"month"});case"LLL":return _.month(S,{width:"abbreviated",context:"standalone"});case"LLLLL":return _.month(S,{width:"narrow",context:"standalone"});case"LLLL":default:return _.month(S,{width:"wide",context:"standalone"})}},w:function(m,b,_,S){var C=(0,a.default)(m,S);return b==="wo"?_.ordinalNumber(C,{unit:"week"}):(0,l.default)(C,b.length)},I:function(m,b,_){var S=(0,r.default)(m);return b==="Io"?_.ordinalNumber(S,{unit:"week"}):(0,l.default)(S,b.length)},d:function(m,b,_){return b==="do"?_.ordinalNumber(m.getUTCDate(),{unit:"date"}):u.default.d(m,b)},D:function(m,b,_){var S=(0,n.default)(m);return b==="Do"?_.ordinalNumber(S,{unit:"dayOfYear"}):(0,l.default)(S,b.length)},E:function(m,b,_){var S=m.getUTCDay();switch(b){case"E":case"EE":case"EEE":return _.day(S,{width:"abbreviated",context:"formatting"});case"EEEEE":return _.day(S,{width:"narrow",context:"formatting"});case"EEEEEE":return _.day(S,{width:"short",context:"formatting"});case"EEEE":default:return _.day(S,{width:"wide",context:"formatting"})}},e:function(m,b,_,S){var C=m.getUTCDay(),k=(C-S.weekStartsOn+8)%7||7;switch(b){case"e":return String(k);case"ee":return(0,l.default)(k,2);case"eo":return _.ordinalNumber(k,{unit:"day"});case"eee":return _.day(C,{width:"abbreviated",context:"formatting"});case"eeeee":return _.day(C,{width:"narrow",context:"formatting"});case"eeeeee":return _.day(C,{width:"short",context:"formatting"});case"eeee":default:return _.day(C,{width:"wide",context:"formatting"})}},c:function(m,b,_,S){var C=m.getUTCDay(),k=(C-S.weekStartsOn+8)%7||7;switch(b){case"c":return String(k);case"cc":return(0,l.default)(k,b.length);case"co":return _.ordinalNumber(k,{unit:"day"});case"ccc":return _.day(C,{width:"abbreviated",context:"standalone"});case"ccccc":return _.day(C,{width:"narrow",context:"standalone"});case"cccccc":return _.day(C,{width:"short",context:"standalone"});case"cccc":default:return _.day(C,{width:"wide",context:"standalone"})}},i:function(m,b,_){var S=m.getUTCDay(),C=S===0?7:S;switch(b){case"i":return String(C);case"ii":return(0,l.default)(C,b.length);case"io":return _.ordinalNumber(C,{unit:"day"});case"iii":return _.day(S,{width:"abbreviated",context:"formatting"});case"iiiii":return _.day(S,{width:"narrow",context:"formatting"});case"iiiiii":return _.day(S,{width:"short",context:"formatting"});case"iiii":default:return _.day(S,{width:"wide",context:"formatting"})}},a:function(m,b,_){var S=m.getUTCHours(),C=S/12>=1?"pm":"am";switch(b){case"a":case"aa":return _.dayPeriod(C,{width:"abbreviated",context:"formatting"});case"aaa":return _.dayPeriod(C,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return _.dayPeriod(C,{width:"narrow",context:"formatting"});case"aaaa":default:return _.dayPeriod(C,{width:"wide",context:"formatting"})}},b:function(m,b,_){var S=m.getUTCHours(),C;switch(S===12?C=c.noon:S===0?C=c.midnight:C=S/12>=1?"pm":"am",b){case"b":case"bb":return _.dayPeriod(C,{width:"abbreviated",context:"formatting"});case"bbb":return _.dayPeriod(C,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return _.dayPeriod(C,{width:"narrow",context:"formatting"});case"bbbb":default:return _.dayPeriod(C,{width:"wide",context:"formatting"})}},B:function(m,b,_){var S=m.getUTCHours(),C;switch(S>=17?C=c.evening:S>=12?C=c.afternoon:S>=4?C=c.morning:C=c.night,b){case"B":case"BB":case"BBB":return _.dayPeriod(C,{width:"abbreviated",context:"formatting"});case"BBBBB":return _.dayPeriod(C,{width:"narrow",context:"formatting"});case"BBBB":default:return _.dayPeriod(C,{width:"wide",context:"formatting"})}},h:function(m,b,_){if(b==="ho"){var S=m.getUTCHours()%12;return S===0&&(S=12),_.ordinalNumber(S,{unit:"hour"})}return u.default.h(m,b)},H:function(m,b,_){return b==="Ho"?_.ordinalNumber(m.getUTCHours(),{unit:"hour"}):u.default.H(m,b)},K:function(m,b,_){var S=m.getUTCHours()%12;return b==="Ko"?_.ordinalNumber(S,{unit:"hour"}):(0,l.default)(S,b.length)},k:function(m,b,_){var S=m.getUTCHours();return S===0&&(S=24),b==="ko"?_.ordinalNumber(S,{unit:"hour"}):(0,l.default)(S,b.length)},m:function(m,b,_){return b==="mo"?_.ordinalNumber(m.getUTCMinutes(),{unit:"minute"}):u.default.m(m,b)},s:function(m,b,_){return b==="so"?_.ordinalNumber(m.getUTCSeconds(),{unit:"second"}):u.default.s(m,b)},S:function(m,b){return u.default.S(m,b)},X:function(m,b,_,S){var C=S._originalDate||m,k=C.getTimezoneOffset();if(k===0)return"Z";switch(b){case"X":return p(k);case"XXXX":case"XX":return f(k);case"XXXXX":case"XXX":default:return f(k,":")}},x:function(m,b,_,S){var C=S._originalDate||m,k=C.getTimezoneOffset();switch(b){case"x":return p(k);case"xxxx":case"xx":return f(k);case"xxxxx":case"xxx":default:return f(k,":")}},O:function(m,b,_,S){var C=S._originalDate||m,k=C.getTimezoneOffset();switch(b){case"O":case"OO":case"OOO":return"GMT"+h(k,":");case"OOOO":default:return"GMT"+f(k,":")}},z:function(m,b,_,S){var C=S._originalDate||m,k=C.getTimezoneOffset();switch(b){case"z":case"zz":case"zzz":return"GMT"+h(k,":");case"zzzz":default:return"GMT"+f(k,":")}},t:function(m,b,_,S){var C=S._originalDate||m,k=Math.floor(C.getTime()/1e3);return(0,l.default)(k,b.length)},T:function(m,b,_,S){var C=S._originalDate||m,k=C.getTime();return(0,l.default)(k,b.length)}};function h(v,m){var b=v>0?"-":"+",_=Math.abs(v),S=Math.floor(_/60),C=_%60;if(C===0)return b+String(S);var k=m;return b+String(S)+k+(0,l.default)(C,2)}function p(v,m){if(v%60===0){var b=v>0?"-":"+";return b+(0,l.default)(Math.abs(v)/60,2)}return f(v,m)}function f(v,m){var b=m||"",_=v>0?"-":"+",S=Math.abs(v),C=(0,l.default)(Math.floor(S/60),2),k=(0,l.default)(S%60,2);return _+C+b+k}var g=d;e.default=g,i.exports=e.default})(DU,DU.exports);var gXt=DU.exports,GU={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(l,u){switch(l){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}},n=function(l,u){switch(l){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}},r=function(l,u){var c=l.match(/(P+)(p+)?/)||[],d=c[1],h=c[2];if(!h)return t(l,u);var p;switch(d){case"P":p=u.dateTime({width:"short"});break;case"PP":p=u.dateTime({width:"medium"});break;case"PPP":p=u.dateTime({width:"long"});break;case"PPPP":default:p=u.dateTime({width:"full"});break}return p.replace("{{date}}",t(d,u)).replace("{{time}}",n(h,u))},s={p:n,P:r},a=s;e.default=a,i.exports=e.default})(GU,GU.exports);var mXt=GU.exports,YU={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n){var r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),n.getTime()-r.getTime()}i.exports=e.default})(YU,YU.exports);var EIe=YU.exports,WP={};Object.defineProperty(WP,"__esModule",{value:!0});WP.isProtectedDayOfYearToken=_Xt;WP.isProtectedWeekYearToken=bXt;WP.throwProtectedError=SXt;var vXt=["D","DD"],yXt=["YY","YYYY"];function _Xt(i){return vXt.indexOf(i)!==-1}function bXt(i){return yXt.indexOf(i)!==-1}function SXt(i,e,t){if(i==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var KU={exports:{}},XU={exports:{}},qU={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},n=function(a,o,l){var u,c=t[a];return typeof c=="string"?u=c:o===1?u=c.one:u=c.other.replace("{{count}}",o.toString()),l!=null&&l.addSuffix?l.comparison&&l.comparison>0?"in "+u:u+" ago":u},r=n;e.default=r,i.exports=e.default})(qU,qU.exports);var xXt=qU.exports,ZU={exports:{}},QU={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=r.width?String(r.width):n.defaultWidth,a=n.formats[s]||n.formats[n.defaultWidth];return a}}i.exports=e.default})(QU,QU.exports);var wXt=QU.exports;(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(wXt),r={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},s={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},a={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},o={date:(0,n.default)({formats:r,defaultWidth:"full"}),time:(0,n.default)({formats:s,defaultWidth:"full"}),dateTime:(0,n.default)({formats:a,defaultWidth:"full"})},l=o;e.default=l,i.exports=e.default})(ZU,ZU.exports);var CXt=ZU.exports,JU={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},n=function(a,o,l,u){return t[a]},r=n;e.default=r,i.exports=e.default})(JU,JU.exports);var kXt=JU.exports,eG={exports:{}},tG={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n){return function(r,s){var a=s!=null&&s.context?String(s.context):"standalone",o;if(a==="formatting"&&n.formattingValues){var l=n.defaultFormattingWidth||n.defaultWidth,u=s!=null&&s.width?String(s.width):l;o=n.formattingValues[u]||n.formattingValues[l]}else{var c=n.defaultWidth,d=s!=null&&s.width?String(s.width):n.defaultWidth;o=n.values[d]||n.values[c]}var h=n.argumentCallback?n.argumentCallback(r):r;return o[h]}}i.exports=e.default})(tG,tG.exports);var EXt=tG.exports;(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(EXt),r={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},s={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},a={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},o={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},c=function(f,g){var v=Number(f),m=v%100;if(m>20||m<10)switch(m%10){case 1:return v+"st";case 2:return v+"nd";case 3:return v+"rd"}return v+"th"},d={ordinalNumber:c,era:(0,n.default)({values:r,defaultWidth:"wide"}),quarter:(0,n.default)({values:s,defaultWidth:"wide",argumentCallback:function(f){return f-1}}),month:(0,n.default)({values:a,defaultWidth:"wide"}),day:(0,n.default)({values:o,defaultWidth:"wide"}),dayPeriod:(0,n.default)({values:l,defaultWidth:"wide",formattingValues:u,defaultFormattingWidth:"wide"})},h=d;e.default=h,i.exports=e.default})(eG,eG.exports);var AXt=eG.exports,iG={exports:{}},nG={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(s){return function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.width,u=l&&s.matchPatterns[l]||s.matchPatterns[s.defaultMatchWidth],c=a.match(u);if(!c)return null;var d=c[0],h=l&&s.parsePatterns[l]||s.parsePatterns[s.defaultParseWidth],p=Array.isArray(h)?r(h,function(v){return v.test(d)}):n(h,function(v){return v.test(d)}),f;f=s.valueCallback?s.valueCallback(p):p,f=o.valueCallback?o.valueCallback(f):f;var g=a.slice(d.length);return{value:f,rest:g}}}function n(s,a){for(var o in s)if(s.hasOwnProperty(o)&&a(s[o]))return o}function r(s,a){for(var o=0;o<s.length;o++)if(a(s[o]))return o}i.exports=e.default})(nG,nG.exports);var TXt=nG.exports,rG={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n){return function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.match(n.matchPattern);if(!a)return null;var o=a[0],l=r.match(n.parsePattern);if(!l)return null;var u=n.valueCallback?n.valueCallback(l[0]):l[0];u=s.valueCallback?s.valueCallback(u):u;var c=r.slice(o.length);return{value:u,rest:c}}}i.exports=e.default})(rG,rG.exports);var PXt=rG.exports;(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(TXt),r=t(PXt),s=/^(\d+)(th|st|nd|rd)?/i,a=/\d+/i,o={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l={any:[/^b/i,/^(a|c)/i]},u={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c={any:[/1/i,/2/i,/3/i,/4/i]},d={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},h={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},p={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},f={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},g={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},v={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},m={ordinalNumber:(0,r.default)({matchPattern:s,parsePattern:a,valueCallback:function(S){return parseInt(S,10)}}),era:(0,n.default)({matchPatterns:o,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any"}),quarter:(0,n.default)({matchPatterns:u,defaultMatchWidth:"wide",parsePatterns:c,defaultParseWidth:"any",valueCallback:function(S){return S+1}}),month:(0,n.default)({matchPatterns:d,defaultMatchWidth:"wide",parsePatterns:h,defaultParseWidth:"any"}),day:(0,n.default)({matchPatterns:p,defaultMatchWidth:"wide",parsePatterns:f,defaultParseWidth:"any"}),dayPeriod:(0,n.default)({matchPatterns:g,defaultMatchWidth:"any",parsePatterns:v,defaultParseWidth:"any"})},b=m;e.default=b,i.exports=e.default})(iG,iG.exports);var OXt=iG.exports;(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(xXt),r=t(CXt),s=t(kXt),a=t(AXt),o=t(OXt),l={code:"en-US",formatDistance:n.default,formatLong:r.default,formatRelative:s.default,localize:a.default,match:o.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},u=l;e.default=u,i.exports=e.default})(XU,XU.exports);var MXt=XU.exports;(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(MXt),r=n.default;e.default=r,i.exports=e.default})(KU,KU.exports);var IXt=KU.exports;(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=_;var n=t(rXt),r=t(aXt),s=t(Df),a=t(gXt),o=t(mXt),l=t(EIe),u=WP,c=t(Tb),d=t(mu),h=Pb,p=t(IXt),f=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v=/^'([^]*?)'?$/,m=/''/g,b=/[a-zA-Z]/;function _(C,k,E){var A,P,O,M,D,L,H,B,F,z,N,U,G,j,K,ie,ae,re;(0,d.default)(2,arguments);var J=String(k),ne=(0,h.getDefaultOptions)(),te=(A=(P=E==null?void 0:E.locale)!==null&&P!==void 0?P:ne.locale)!==null&&A!==void 0?A:p.default,Q=(0,c.default)((O=(M=(D=(L=E==null?void 0:E.firstWeekContainsDate)!==null&&L!==void 0?L:E==null||(H=E.locale)===null||H===void 0||(B=H.options)===null||B===void 0?void 0:B.firstWeekContainsDate)!==null&&D!==void 0?D:ne.firstWeekContainsDate)!==null&&M!==void 0?M:(F=ne.locale)===null||F===void 0||(z=F.options)===null||z===void 0?void 0:z.firstWeekContainsDate)!==null&&O!==void 0?O:1);if(!(Q>=1&&Q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var se=(0,c.default)((N=(U=(G=(j=E==null?void 0:E.weekStartsOn)!==null&&j!==void 0?j:E==null||(K=E.locale)===null||K===void 0||(ie=K.options)===null||ie===void 0?void 0:ie.weekStartsOn)!==null&&G!==void 0?G:ne.weekStartsOn)!==null&&U!==void 0?U:(ae=ne.locale)===null||ae===void 0||(re=ae.options)===null||re===void 0?void 0:re.weekStartsOn)!==null&&N!==void 0?N:0);if(!(se>=0&&se<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!te.localize)throw new RangeError("locale must contain localize property");if(!te.formatLong)throw new RangeError("locale must contain formatLong property");var _e=(0,s.default)(C);if(!(0,n.default)(_e))throw new RangeError("Invalid time value");var le=(0,l.default)(_e),ve=(0,r.default)(_e,le),pe={firstWeekContainsDate:Q,weekStartsOn:se,locale:te,_originalDate:_e},Fe=J.match(g).map(function(Ee){var it=Ee[0];if(it==="p"||it==="P"){var Qe=o.default[it];return Qe(Ee,te.formatLong)}return Ee}).join("").match(f).map(function(Ee){if(Ee==="''")return"'";var it=Ee[0];if(it==="'")return S(Ee);var Qe=a.default[it];if(Qe)return!(E!=null&&E.useAdditionalWeekYearTokens)&&(0,u.isProtectedWeekYearToken)(Ee)&&(0,u.throwProtectedError)(Ee,k,String(C)),!(E!=null&&E.useAdditionalDayOfYearTokens)&&(0,u.isProtectedDayOfYearToken)(Ee)&&(0,u.throwProtectedError)(Ee,k,String(C)),Qe(ve,Ee,te.localize,pe);if(it.match(b))throw new RangeError("Format string contains an unescaped latin alphabet character `"+it+"`");return Ee}).join("");return Fe}function S(C){var k=C.match(v);return k?k[1].replace(m,"'"):C}i.exports=e.default})(EU,EU.exports);var RXt=EU.exports,sG={exports:{}},aG={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(a,o,l){var u=s(a,l.timeZone,l.locale);return u.formatToParts?n(u,o):r(u,o)}function n(a,o){for(var l=a.formatToParts(o),u=l.length-1;u>=0;--u)if(l[u].type==="timeZoneName")return l[u].value}function r(a,o){var l=a.format(o).replace(/\u200E/g,""),u=/ [\w-+ ]+$/.exec(l);return u?u[0].substr(1):""}function s(a,o,l){if(l&&!l.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(l?[l.code,"en-US"]:void 0,{timeZone:o,timeZoneName:a})}i.exports=e.default})(aG,aG.exports);var DXt=aG.exports,oG={exports:{}},lG={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(l,u){var c=o(u);return c.formatToParts?r(c,l):s(c,l)}var n={year:0,month:1,day:2,hour:3,minute:4,second:5};function r(l,u){try{for(var c=l.formatToParts(u),d=[],h=0;h<c.length;h++){var p=n[c[h].type];p>=0&&(d[p]=parseInt(c[h].value,10))}return d}catch(f){if(f instanceof RangeError)return[NaN];throw f}}function s(l,u){var c=l.format(u).replace(/\u200E/g,""),d=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(c);return[d[3],d[1],d[2],d[4],d[5],d[6]]}var a={};function o(l){if(!a[l]){var u=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),c=u==="06/25/2014, 00:00:00"||u==="06/25/2014 00:00:00";a[l]=c?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:l,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:l,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return a[l]}i.exports=e.default})(lG,lG.exports);var LXt=lG.exports,uG={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n,r,s,a,o,l,u){var c=new Date(0);return c.setUTCFullYear(n,r,s),c.setUTCHours(a,o,l,u),c}i.exports=e.default})(uG,uG.exports);var AIe=uG.exports;(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=r(LXt),n=r(AIe);function r(g){return g&&g.__esModule?g:{default:g}}var s=36e5,a=6e4,o={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function l(g,v,m){var b,_;if(!g||(b=o.timezoneZ.exec(g),b))return 0;var S;if(b=o.timezoneHH.exec(g),b)return S=parseInt(b[1],10),h(S)?-(S*s):NaN;if(b=o.timezoneHHMM.exec(g),b){S=parseInt(b[1],10);var C=parseInt(b[2],10);return h(S,C)?(_=Math.abs(S)*s+C*a,S>0?-_:_):NaN}if(f(g)){v=new Date(v||Date.now());var k=m?v:u(v),E=c(k,g),A=m?E:d(v,E,g);return-A}return NaN}function u(g){return(0,n.default)(g.getFullYear(),g.getMonth(),g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds(),g.getMilliseconds())}function c(g,v){var m=(0,t.default)(g,v),b=(0,n.default)(m[0],m[1]-1,m[2],m[3]%24,m[4],m[5],0).getTime(),_=g.getTime(),S=_%1e3;return _-=S>=0?S:1e3+S,b-_}function d(g,v,m){var b=g.getTime(),_=b-v,S=c(new Date(_),m);if(v===S)return v;_-=S-v;var C=c(new Date(_),m);return S===C?S:Math.max(S,C)}function h(g,v){return-23<=g&&g<=23&&(v==null||0<=v&&v<=59)}var p={};function f(g){if(p[g])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:g}),p[g]=!0,!0}catch{return!1}}i.exports=e.default})(oG,oG.exports);var UP=oG.exports;(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(DXt),n=r(UP);function r(p){return p&&p.__esModule?p:{default:p}}var s=60*1e3,a={X:function(p,f,g,v){var m=o(v.timeZone,v._originalDate||p);if(m===0)return"Z";switch(f){case"X":return c(m);case"XXXX":case"XX":return u(m);case"XXXXX":case"XXX":default:return u(m,":")}},x:function(p,f,g,v){var m=o(v.timeZone,v._originalDate||p);switch(f){case"x":return c(m);case"xxxx":case"xx":return u(m);case"xxxxx":case"xxx":default:return u(m,":")}},O:function(p,f,g,v){var m=o(v.timeZone,v._originalDate||p);switch(f){case"O":case"OO":case"OOO":return"GMT"+d(m,":");case"OOOO":default:return"GMT"+u(m,":")}},z:function(p,f,g,v){var m=v._originalDate||p;switch(f){case"z":case"zz":case"zzz":return(0,t.default)("short",m,v);case"zzzz":default:return(0,t.default)("long",m,v)}}};function o(p,f){var g=p?(0,n.default)(p,f,!0)/s:f.getTimezoneOffset();if(Number.isNaN(g))throw new RangeError("Invalid time zone specified: "+p);return g}function l(p,f){for(var g=p<0?"-":"",v=Math.abs(p).toString();v.length<f;)v="0"+v;return g+v}function u(p,f){var g=f||"",v=p>0?"-":"+",m=Math.abs(p),b=l(Math.floor(m/60),2),_=l(Math.floor(m%60),2);return v+b+g+_}function c(p,f){if(p%60===0){var g=p>0?"-":"+";return g+l(Math.abs(p)/60,2)}return u(p,f)}function d(p,f){var g=p>0?"-":"+",v=Math.abs(p),m=Math.floor(v/60),b=v%60;if(b===0)return g+String(m);var _=f;return g+String(m)+_+l(b,2)}var h=a;e.default=h,i.exports=e.default})(sG,sG.exports);var FXt=sG.exports,cG={exports:{}},dG={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,n=t;e.default=n,i.exports=e.default})(dG,dG.exports);var TIe=dG.exports;(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var t=a(Tb),n=a(EIe),r=a(UP),s=a(TIe);function a(A){return A&&A.__esModule?A:{default:A}}var o=36e5,l=6e4,u=2,c={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:s.default};function d(A,P){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(A===null)return new Date(NaN);var O=P||{},M=O.additionalDigits==null?u:(0,t.default)(O.additionalDigits);if(M!==2&&M!==1&&M!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(A instanceof Date||typeof A=="object"&&Object.prototype.toString.call(A)==="[object Date]")return new Date(A.getTime());if(typeof A=="number"||Object.prototype.toString.call(A)==="[object Number]")return new Date(A);if(!(typeof A=="string"||Object.prototype.toString.call(A)==="[object String]"))return new Date(NaN);var D=h(A),L=p(D.date,M),H=L.year,B=L.restDateString,F=f(B,H);if(isNaN(F))return new Date(NaN);if(F){var z=F.getTime(),N=0,U;if(D.time&&(N=g(D.time),isNaN(N)))return new Date(NaN);if(D.timeZone||O.timeZone){if(U=(0,r.default)(D.timeZone||O.timeZone,new Date(z+N)),isNaN(U))return new Date(NaN)}else U=(0,n.default)(new Date(z+N)),U=(0,n.default)(new Date(z+N+U));return new Date(z+N+U)}else return new Date(NaN)}function h(A){var P={},O=c.dateTimePattern.exec(A),M;if(O?(P.date=O[1],M=O[3]):(O=c.datePattern.exec(A),O?(P.date=O[1],M=O[2]):(P.date=null,M=A)),M){var D=c.timeZone.exec(M);D?(P.time=M.replace(D[1],""),P.timeZone=D[1].trim()):P.time=M}return P}function p(A,P){var O=c.YYY[P],M=c.YYYYY[P],D;if(D=c.YYYY.exec(A)||M.exec(A),D){var L=D[1];return{year:parseInt(L,10),restDateString:A.slice(L.length)}}if(D=c.YY.exec(A)||O.exec(A),D){var H=D[1];return{year:parseInt(H,10)*100,restDateString:A.slice(H.length)}}return{year:null}}function f(A,P){if(P===null)return null;var O,M,D,L;if(A.length===0)return M=new Date(0),M.setUTCFullYear(P),M;if(O=c.MM.exec(A),O)return M=new Date(0),D=parseInt(O[1],10)-1,S(P,D)?(M.setUTCFullYear(P,D),M):new Date(NaN);if(O=c.DDD.exec(A),O){M=new Date(0);var H=parseInt(O[1],10);return C(P,H)?(M.setUTCFullYear(P,0,H),M):new Date(NaN)}if(O=c.MMDD.exec(A),O){M=new Date(0),D=parseInt(O[1],10)-1;var B=parseInt(O[2],10);return S(P,D,B)?(M.setUTCFullYear(P,D,B),M):new Date(NaN)}if(O=c.Www.exec(A),O)return L=parseInt(O[1],10)-1,k(P,L)?v(P,L):new Date(NaN);if(O=c.WwwD.exec(A),O){L=parseInt(O[1],10)-1;var F=parseInt(O[2],10)-1;return k(P,L,F)?v(P,L,F):new Date(NaN)}return null}function g(A){var P,O,M;if(P=c.HH.exec(A),P)return O=parseFloat(P[1].replace(",",".")),E(O)?O%24*o:NaN;if(P=c.HHMM.exec(A),P)return O=parseInt(P[1],10),M=parseFloat(P[2].replace(",",".")),E(O,M)?O%24*o+M*l:NaN;if(P=c.HHMMSS.exec(A),P){O=parseInt(P[1],10),M=parseInt(P[2],10);var D=parseFloat(P[3].replace(",","."));return E(O,M,D)?O%24*o+M*l+D*1e3:NaN}return null}function v(A,P,O){P=P||0,O=O||0;var M=new Date(0);M.setUTCFullYear(A,0,4);var D=M.getUTCDay()||7,L=P*7+O+1-D;return M.setUTCDate(M.getUTCDate()+L),M}var m=[31,28,31,30,31,30,31,31,30,31,30,31],b=[31,29,31,30,31,30,31,31,30,31,30,31];function _(A){return A%400===0||A%4===0&&A%100!==0}function S(A,P,O){if(P<0||P>11)return!1;if(O!=null){if(O<1)return!1;var M=_(A);if(M&&O>b[P]||!M&&O>m[P])return!1}return!0}function C(A,P){if(P<1)return!1;var O=_(A);return!(O&&P>366||!O&&P>365)}function k(A,P,O){return!(P<0||P>52||O!=null&&(O<0||O>6))}function E(A,P,O){return!(A!=null&&(A<0||A>=25)||P!=null&&(P<0||P>=60)||O!=null&&(O<0||O>=60))}i.exports=e.default})(cG,cG.exports);var M4=cG.exports;(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=s(RXt),n=s(FXt),r=s(M4);function s(l){return l&&l.__esModule?l:{default:l}}var a=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function o(l,u,c){var d=String(u),h=c||{},p=d.match(a);if(p){var f=(0,r.default)(l,h);d=p.reduce(function(g,v){if(v[0]==="'")return g;var m=g.indexOf(v),b=g[m-1]==="'",_=g.replace(v,"'"+n.default[v[0]](f,v,null,h)+"'");return b?_.substring(0,m-1)+_.substring(m+1):_},d)}return(0,t.default)(l,d,h)}i.exports=e.default})(kU,kU.exports);var PIe=kU.exports,hG={exports:{}},pG={exports:{}},fG={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(n,r){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s]);return n}i.exports=e.default})(fG,fG.exports);var BXt=fG.exports;(function(i,e){var t=qs.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=t(BXt);function r(s){return(0,n.default)({},s)}i.exports=e.default})(pG,pG.exports);var OIe=pG.exports,gG={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=r(UP),n=r(M4);function r(a){return a&&a.__esModule?a:{default:a}}function s(a,o,l){var u=(0,n.default)(a,l),c=(0,t.default)(o,u,!0),d=new Date(u.getTime()-c),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}i.exports=e.default})(gG,gG.exports);var MIe=gG.exports;(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=s(OIe),n=s(PIe),r=s(MIe);function s(o){return o&&o.__esModule?o:{default:o}}function a(o,l,u,c){var d=(0,t.default)(c);return d.timeZone=l,(0,n.default)((0,r.default)(o,l),u,d)}i.exports=e.default})(hG,hG.exports);var $Xt=hG.exports,mG={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var t=n(UP);function n(s){return s&&s.__esModule?s:{default:s}}function r(s,a){return-(0,t.default)(s,a)}i.exports=e.default})(mG,mG.exports);var NXt=mG.exports,vG={exports:{}};(function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=o(OIe),n=o(M4),r=o(TIe),s=o(UP),a=o(AIe);function o(u){return u&&u.__esModule?u:{default:u}}function l(u,c,d){if(typeof u=="string"&&!u.match(r.default)){var h=(0,t.default)(d);return h.timeZone=c,(0,n.default)(u,h)}var p=(0,n.default)(u,d),f=(0,a.default)(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds()).getTime(),g=(0,s.default)(c,new Date(f));return new Date(f+g)}i.exports=e.default})(vG,vG.exports);var jXt=vG.exports,IIe={format:PIe,formatInTimeZone:$Xt,getTimezoneOffset:NXt,toDate:M4,utcToZonedTime:MIe,zonedTimeToUtc:jXt};const zXt=[[-11,["Pacific/Midway"]],[-10,["Pacific/Honolulu"]],[-9.5,["Pacific/Marquesas"]],[-9,["Pacific/Gambier"]],[-8,["Pacific/Pitcairn"]],[-7,["America/Phoenix"]],[-6,["America/Tegucigalpa"]],[-5,["America/Bogota"]],[-4,["America/Puerto_Rico"]],[-3.5,["America/St_Johns"]],[-3,["America/Montevideo"]],[-2,["Atlantic/South_Georgia"]],[-1,["Atlantic/Cape_Verde"]],[0,["Africa/Accra"]],[1,["Africa/Bangui"]],[2,["Africa/Cairo"]],[3,["Asia/Bahrain","Indian/Antananarivo"]],[3.5,["Asia/Tehran"]],[4,["Asia/Dubai","Asia/Muscat"]],[4.5,["Asia/Kabul"]],[5,["Asia/Samarkand","Asia/Karachi"]],[5.5,["Asia/Kolkata"]],[5.75,["Asia/Kathmandu"]],[6,["Asia/Dhaka"]],[6.5,["Asia/Rangoon","Asia/Rangoon"]],[7,["Asia/Jakarta","Asia/Phnom_Penh","Asia/Bangkok"]],[8,["Asia/Shanghai","Asia/Singapore"]],[8.75,["Australia/Eucla"]],[9,["Asia/Tokyo","Asia/Seoul","Asia/Pyongyang"]],[9.5,["Australia/Darwin"]],[10,["Pacific/Guam"]],[10.5,["Australia/Adelaide"]],[11,["Pacific/Guadalcanal"]],[12,["Pacific/Funafuti"]],[13,["Pacific/Enderbury"]],[13.75,["Pacific/Chatham"]],[14,["Pacific/Kiritimati"]]],cge={0:"Etc/GMT",1:"Etc/GMT-1",2:"Etc/GMT-2",3:"Etc/GMT-3",4:"Etc/GMT-4",5:"Etc/GMT-5",6:"Etc/GMT-6",7:"Etc/GMT-7",8:"Etc/GMT-8",9:"Etc/GMT-9",10:"Etc/GMT-10",11:"Etc/GMT-11",12:"Etc/GMT-12",13:"Etc/GMT-13",14:"Etc/GMT-14","-1":"Etc/GMT+1","-2":"Etc/GMT+2","-3":"Etc/GMT+3","-4":"Etc/GMT+4","-5":"Etc/GMT+5","-6":"Etc/GMT+6","-7":"Etc/GMT+7","-8":"Etc/GMT+8","-9":"Etc/GMT+9","-10":"Etc/GMT+10","-11":"Etc/GMT+11","-12":"Etc/GMT+12"},HXt=/([\-\+]{1})(\d{2})\:(\d{2})/,RIe=i=>{let e=null;if(typeof i=="string"){if(e=i.match(HXt),!e)return i;const t=parseInt(e[1]+1,10),n=parseInt(e[2],10),r=parseInt(e[3],10);i=t*(n+r/60)}if(typeof i=="number"){if(i in cge){const n=cge[i];if(VXt(n))return n}const t=zXt.find(n=>n[0]===i);return t&&t[1][0]}},dge={};function VXt(i){if(dge[i])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:i}),dge[i]=!0,!0}catch{return!1}}const yG=(i,e,t)=>IIe.utcToZonedTime(i,RIe(e),t),bx=(i,e,t)=>IIe.zonedTimeToUtc(i,RIe(e),t);function js(i,e,t,n){let r=null;if(i){e&&(t=t||new Date,r=qOe(i,e,t,{locale:n})),Fd(r)||(r=Wd(i)),Fd(r)||(r=new Date(Date.parse(i)));const s=Fd(r)&&String(r.getFullYear()).length>4;(!Fd(r)||s)&&(r=null)}return r}function aR(i){const{format:e,type:t}=i,n=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4})/i,r=/([yMd]{0,4}[^a-z\s]*[yMd]{0,4}[^a-z\s]*[yMd]{0,4}) (H{0,2}[^a-z\s]*m{0,2}[^a-z\s]*s{0,2})/i,s=Rv(t);let a;switch(t){case"dateTime":case"dateTimeRange":const o=r.exec(e);a=o&&o[1]&&o[2]?`${o[1]} ${o[2]}`:s;break;case"date":case"month":case"monthRange":case"dateRange":default:const l=n.exec(e);a=l&&l[1]||s;break}return a}function _G(i){const e=" ",{inputValue:t="",rangeSeparator:n,type:r}=i;let s,a,o,l;const u={monthLeft:{dateInput:"",timeInput:""},monthRight:{dateInput:"",timeInput:""}};switch(r){case"date":case"month":case"monthRange":u.monthLeft.dateInput=t;break;case"dateRange":[s="",o=""]=t.split(n),u.monthLeft.dateInput=s,u.monthRight.dateInput=o;break;case"dateTime":[s="",a=""]=t.split(e),u.monthLeft.dateInput=s,u.monthLeft.timeInput=a;break;case"dateTimeRange":const[c="",d=""]=t.split(n);[s="",a=""]=c.split(e),[o="",l=""]=d.split(e),u.monthLeft.dateInput=s,u.monthLeft.timeInput=a,u.monthRight.dateInput=o,u.monthRight.timeInput=l;break}return u}function oR(i){return["string","number"].includes(typeof i)&&i!==""}class WXt extends _n{constructor(e){super(Object.assign({},e)),this.clearRangeInputFocus=()=>{const{type:t}=this._adapter.getProps(),{rangeInputFocus:n}=this._adapter.getStates();t==="dateTimeRange"&&n&&this._adapter.setRangeInputFocus(!1)},this._isRangeType=()=>{const t=this._adapter.getProp("type");return/range/i.test(t)},this._isRangeValueComplete=t=>{let n=!1;return Array.isArray(t)&&(n=!t.some(r=>xr(r))),n}}init(){const e=this.getProp("timeZone");this._isControlledComponent()?this.initFromProps({timeZone:e,value:this.getProp("value")}):this._isInProps("defaultValue")&&this.initFromProps({timeZone:e,value:this.getProp("defaultValue")}),this.initPanelOpenStatus(this.getProp("defaultOpen"))}initFromProps(e){let{value:t,timeZone:n,prevTimeZone:r}=e;const s=(Array.isArray(t)?[...t]:(t||t===0)&&[t])||[],a=this.parseWithTimezone(s,n,r);this._adapter.updatePrevTimezone(r),this.clearInputValue(),this._adapter.updateValue(a),this.resetCachedSelectedValue(a),this.initRangeInputFocus(a),this._adapter.needConfirm()&&this._adapter.updateCachedSelectedValue(a)}initRangeInputFocus(e){const{triggerRender:t}=this.getProps();this._isRangeType()&&sn(t)&&e.length===0&&this._adapter.setRangeInputFocus("rangeStart")}parseWithTimezone(e,t,n){const r=[];if(Array.isArray(e)&&e.length)for(const s of e){let a=(s||s===0)&&this._parseValue(s);a?(oR(n)&&(a=bx(a,n)),r.push(oR(t)?yG(a,t):a)):vs(!0,`[Semi DatePicker] value cannot be parsed, value: ${String(s)}`)}return r}_isMultiple(){return!!this.getProp("multiple")}_parseValue(e){const t=this._adapter.getProp("dateFnsLocale");let n;if(!e&&e!==0)return new Date;if(Ud(e))n=e;else if(en(e))n=js(e,this.getProp("format"),void 0,t);else if(CU(e))n=new Date(e);else throw new TypeError("defaultValue should be valid Date object/timestamp or string");return n}destroy(){this._adapter.togglePanel(!1),this._adapter.unregisterClickOutSide()}initPanelOpenStatus(e){(this.getProp("open")||e)&&!this.getProp("disabled")?(this._adapter.togglePanel(!0),this._adapter.registerClickOutSide()):(this._adapter.togglePanel(!1),this._adapter.unregisterClickOutSide())}openPanel(){this.getProp("disabled")||(this._isControlledComponent("open")||this.open(),this._adapter.notifyOpenChange(!0))}clearInsetInputValue(){const{insetInput:e}=this._adapter.getProps();e&&this._adapter.updateInsetInputValue(null)}resetCachedSelectedValue(e){const{value:t,cachedSelectedValue:n}=this._adapter.getStates(),r=Array.isArray(e)?e:t;Fn(r,n)||this._adapter.updateCachedSelectedValue(r)}closePanel(e){let t=arguments.length>2?arguments[2]:void 0;const{value:n}=this._adapter.getStates(),r=xr(t)?n:t;this._isControlledComponent("open")?this.resetInnerSelectedStates(r):this.close(),this._adapter.notifyOpenChange(!1)}open(){this._adapter.togglePanel(!0),this._adapter.registerClickOutSide()}close(){this._adapter.togglePanel(!1,()=>this.resetInnerSelectedStates()),this._adapter.unregisterClickOutSide()}focus(e){if(this._isRangeType()){const t=e??"rangeStart";this._adapter.setRangeInputFocus(t)}else this._adapter.setInputFocus()}blur(){this._isRangeType()?this._adapter.setRangeInputBlur():this._adapter.setInputBlur()}resetInnerSelectedStates(e){const{value:t}=this._adapter.getStates();(!this.isCachedSelectedValueValid(e)||this._adapter.needConfirm()&&!this.clickConfirmButton)&&this.resetCachedSelectedValue(t),this.resetFocus(),this.clearInputValue(),this.clickConfirmButton=!1}resetFocus(e){this._adapter.setRangeInputFocus(!1),this._adapter.notifyBlur(e)}isCachedSelectedValueValid(e){const t=e||this._adapter.getState("cachedSelectedValue"),{type:n}=this._adapter.getProps();let r=!0;switch(!0){case n==="dateRange":case n==="dateTimeRange":this._isRangeValueComplete(t)||(r=!1);break;default:const s=t==null?void 0:t.filter(a=>a);Array.isArray(s)&&s.length||(r=!1);break}return r}clearInputValue(){this._adapter.updateInputValue(null),this._adapter.updateInsetInputValue(null)}handleInputChange(e,t){const n=this._isMultiple()?this.parseMultipleInput(e):this.parseInput(e),{value:r}=this.getStates();if(this._updateCachedSelectedValueFromInput(e),n&&n.length||e===""){if(wt(t,B0.CLEARBTN_CLICKED_EVENT_FLAG)&&this._isControlledComponent("value")){this._notifyChange(n);return}this._updateValueAndInput(n,e==="",e);const s=this._getChangedDates(n);this._someDateDisabled(s,n)||Fn(n,r)||this._notifyChange(n)}else this._adapter.updateInputValue(e)}handleInsetInputChange(e){const{insetInputStr:t,format:n,insetInputValue:r}=e,s=this._isMultiple(),a=s?this.parseMultipleInput(t,n):this.parseInput(t,n),{value:o}=this.getStates();if(this._updateCachedSelectedValueFromInput(t),a&&a.length){const l=this._getChangedDates(a);if(!this._someDateDisabled(l,a)){Fn(a,o)||(!this._isControlledComponent()&&!this._adapter.needConfirm()&&this._adapter.updateValue(a),this._notifyChange(a));const u=s?this.formatMultipleDates(a):this.formatDates(a);this._adapter.updateInputValue(u)}}this._adapter.updateInsetInputValue(r)}_updateCachedSelectedValueFromInput(e){const t=this.getLooseDateFromInput(e),n=this._getChangedDates(t);this._someDateDisabled(n,t)||this.resetCachedSelectedValue(t)}handleInputBlur(){}handleRangeEndTabPress(e){this._adapter.setRangeInputFocus(!1)}handleInputFocus(e,t){const n=this._adapter.getState("rangeInputFocus");t&&this._adapter.setRangeInputFocus(t),(!t||!["rangeStart","rangeEnd"].includes(n))&&this._adapter.notifyFocus(e,t)}handleSetRangeFocus(e){this._adapter.setRangeInputFocus(e)}handleInputClear(e){this._adapter.notifyClear(e)}handleRangeInputClear(e){const t=[];this._isControlledComponent("value")||(this._updateValueAndInput(t,!0,""),this._adapter.updateInsetInputValue(null),this.resetCachedSelectedValue(t)),this._notifyChange(t),this._adapter.setRangeInputFocus(!1),this._adapter.notifyClear(e)}handleRangeInputBlur(e,t){}handleInputComplete(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e?this._isMultiple()?this.parseMultipleInput(e,",",!0):this.parseInput(e):[];if(t=t&&t.length?t:this.getState("value"),!t||!t.length){const s=new Date;this._isRangeType()?t=[s,s]:t=[s]}this._updateValueAndInput(t);const{value:n}=this.getStates(),r=this._getChangedDates(t);!this._someDateDisabled(r,t)&&!Fn(t,n)&&this._notifyChange(t)}parseInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=[];const{dateFnsLocale:r,rangeSeparator:s}=this.getProps();if(e&&e.length){const a=this.getProp("type"),o=t||this.getProp("format")||Rv(a);let l,u;const c=new Date;switch(a){case"date":case"dateTime":case"month":l=e?js(e,o,c,r):"",u=l&&Fd(l)&&this.localeFormat(l,o),l&&u===e&&(n=[l]);break;case"dateRange":case"dateTimeRange":case"monthRange":const d=s,h=e.split(d);l=h&&h.reduce((p,f)=>{const g=f&&js(f,o,c,r);return g&&p.push(g),p},[]),u=l&&l.map(p=>p&&Fd(p)&&this.localeFormat(p,o)).join(d),l&&u===e&&(l.sort((p,f)=>p.getTime()-f.getTime()),n=l);break}}return n}getLooseDateFromInput(e){return this._isMultiple()?this.parseMultipleInputLoose(e):this.parseInputLoose(e)}parseInputLoose(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=[];const{dateFnsLocale:n,rangeSeparator:r,type:s,format:a}=this.getProps();if(e&&e.length){const o=a||Rv(s);let l,u;const c=new Date;switch(s){case"date":case"dateTime":case"month":const d=js(e,o,c,n);Ud(d)?(u=this.localeFormat(d,o),u===e&&(l=d)):l=null,t=[l];break;case"dateRange":case"dateTimeRange":const h=r,p=e.split(h);l=p&&p.reduce((f,g)=>{let v=null;const m=js(g,o,c,n);return Ud(m)&&(u=this.localeFormat(m,o),u===g&&(v=m)),f.push(v),f},[]),Array.isArray(l)&&l.every(f=>Fd(f))&&l.sort((f,g)=>f.getTime()-g.getTime()),t=l;break}}return t}parseMultipleInputLoose(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xt.DEFAULT_SEPARATOR_MULTIPLE,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=this.getProp("max"),s=e.split(t),a=[];for(const o of s){let l=o&&this.parseInputLoose(o);if(l=Array.isArray(l)?l:l&&[l],l&&l.length)n?!a.filter(u=>!!l.find(c=>Cfe(u,c)))&&a.push(...l):a.push(...l);else return[];if(r&&r>0&&a.length>r)return[]}return a}parseMultipleInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xt.DEFAULT_SEPARATOR_MULTIPLE,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=this.getProp("max"),s=e.split(t),a=[];for(const o of s){let l=o&&this.parseInput(o);if(l=Array.isArray(l)?l:l&&[l],l&&l.length)n?!a.filter(u=>!!l.find(c=>Cfe(u,c)))&&a.push(...l):a.push(...l);else return[];if(r&&r>0&&a.length>r)return[]}return a}formatDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n="";const r=this.getProp("rangeSeparator");if(Array.isArray(e)&&e.length){const s=this.getProp("type"),a=t||this.getProp("format")||Rv(s);switch(s){case"date":case"dateTime":case"month":n=this.localeFormat(e[0],a);break;case"dateRange":case"dateTimeRange":case"monthRange":const o=!xr(e[0]),l=!xr(e[1]);o&&l?n=`${this.localeFormat(e[0],a)}${r}${this.localeFormat(e[1],a)}`:o?n=`${this.localeFormat(e[0],a)}${r}`:l&&(n=`${r}${this.localeFormat(e[1],a)}`);break}}return n}formatMultipleDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xt.DEFAULT_SEPARATOR_MULTIPLE,n=arguments.length>2?arguments[2]:void 0;const r=[];if(Array.isArray(e)&&e.length)switch(this.getProp("type")){case"date":case"dateTime":case"month":e.forEach(a=>r.push(this.formatDates([a],n)));break;case"dateRange":case"dateTimeRange":case"monthRange":for(let a=0;a<e.length;a+=2)r.push(this.formatDates(e.slice(a,a+2),n));break}return r.join(t)}_updateValueAndInput(e,t,n){let r;if(t||e){Array.isArray(e)?r=e:r=e?[e]:[];const s=this._getChangedDates(r);!this._isControlledComponent()&&!this._someDateDisabled(s,r)&&!this._adapter.needConfirm()&&this._adapter.updateValue(r)}this._adapter.updateInputValue(n)}handleSelectedChange(e,t){const{type:n,format:r,rangeSeparator:s,insetInput:a}=this._adapter.getProps(),{value:o}=this.getStates(),l=this._isControlledComponent(),u=tm(t)?t.fromPreset:t,c=wt(t,"closePanel",!0),d=wt(t,"needCheckFocusRecord",!0),h=Array.isArray(e)?[...e]:e?[e]:[],p=this._getChangedDates(h);let f,g;if(!this._someDateDisabled(p,h)){if(this.resetCachedSelectedValue(h),f=this._isMultiple()?this.formatMultipleDates(h):this.formatDates(h),a){const b=aR({format:r,type:n}),_=this._isMultiple()?this.formatMultipleDates(h,void 0,b):this.formatDates(h,b);g=_G({inputValue:_,type:n,rangeSeparator:s})}if(this._isRangeType()&&!this._isRangeValueComplete(h)){this._adapter.updateInputValue(f),this._adapter.updateInsetInputValue(g);return}else(!l||u)&&(this._updateValueAndInput(h,!0,f),this._adapter.updateInsetInputValue(g));Fn(e,o)||this._notifyChange(e)}const v=!d||d&&this._adapter.couldPanelClosed();(n==="date"&&!this._isMultiple()&&c||n==="dateRange"&&this._isRangeValueComplete(h)&&c&&v)&&this.closePanel(void 0,f,h)}handleYMSelectedChange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{currentMonth:t,currentYear:n}=e,{type:r}=this.getProps();if(r==="month"){const s=new Date(n.left,t.left-1);this.handleSelectedChange([s])}else{const s=new Date(n.left,t.left-1),a=new Date(n.right,t.right-1);this.handleSelectedChange([s,a])}}handleConfirm(){this.clickConfirmButton=!0;const{cachedSelectedValue:e,value:t}=this._adapter.getStates(),n=this._isRangeValueComplete(e),r=n?e:t;if(this._adapter.needConfirm()&&!this._isControlledComponent()&&this._adapter.updateValue(r),this.closePanel(void 0,void 0,r),n){const{notifyValue:s,notifyDate:a}=this.disposeCallbackArgs(e);this._adapter.notifyConfirm(a,s)}}handleCancel(){this.closePanel();const e=this.getState("value"),{notifyValue:t,notifyDate:n}=this.disposeCallbackArgs(e);this._adapter.notifyCancel(n,t)}handlePresetClick(e,t){const{type:n,timeZone:r}=this.getProps(),s=this.getState("prevTimezone"),a=typeof e.start=="function"?e.start():e.start,o=typeof e.end=="function"?e.end():e.end;let l;switch(n){case"month":case"dateTime":case"date":l=this.parseWithTimezone([a],r,s),this.handleSelectedChange(l);break;case"dateTimeRange":case"dateRange":l=this.parseWithTimezone([a,o],r,s),this.handleSelectedChange(l,{needCheckFocusRecord:!1});break}this._adapter.notifyPresetsClick(e,t)}disposeCallbackArgs(e){let t=Array.isArray(e)?e:e&&[e]||[];const n=this.getProp("timeZone");oR(n)&&(t=t.map(l=>bx(l,n)));const r=this.getProp("type"),s=this.getProp("format")||Rv(r);let a,o;switch(r){case"date":case"dateTime":case"month":this._isMultiple()?(a=t.map(l=>l&&this.localeFormat(l,s)),o=[...t]):(a=t[0]&&this.localeFormat(t[0],s),[o]=t);break;case"dateRange":case"dateTimeRange":case"monthRange":a=t.map(l=>l&&this.localeFormat(l,s)),o=[...t];break}return{notifyValue:a,notifyDate:o}}_notifyChange(e){if(this._isRangeType()&&!this._isRangeValueComplete(e))return;const{onChangeWithDateFirst:t}=this.getProps(),{notifyValue:n,notifyDate:r}=this.disposeCallbackArgs(e);t?this._adapter.notifyChange(r,n):this._adapter.notifyChange(n,r)}_getChangedDates(e){const t=this._adapter.getProp("type"),{cachedSelectedValue:n}=this._adapter.getStates(),r=[];switch(t){case"dateRange":case"dateTimeRange":const[s,a]=n,[o,l]=e;QF(o,s)||r.push(o),QF(l,a)||r.push(l);break;default:const u=new Set;n.forEach(c=>u.add(fU(c)&&c.valueOf()));for(const c of e)u.has(fU(c)&&c.valueOf())||r.push(c)}return r}_someDateDisabled(e,t){const{rangeInputFocus:n}=this.getStates(),r={rangeStart:"",rangeEnd:"",rangeInputFocus:n};if(this._isRangeType()&&Array.isArray(t)){if(Fd(t[0])){const a=lr(t[0],"yyyy-MM-dd");r.rangeStart=a}if(Fd(t[1])){const a=lr(t[1],"yyyy-MM-dd");r.rangeEnd=a}}let s=!1;for(const a of e)if(!xr(a)&&this.disabledDisposeDate(a,r)){s=!0;break}return s}localeFormat(e,t){const n=this._adapter.getProp("dateFnsLocale");return lr(e,t,{locale:n})}disposeDateFn(e,t){const{notifyDate:n}=this.disposeCallbackArgs(t),r=Array.isArray(t),s=Array.isArray(n);let a;r===s?a=n:a=r?[n]:n[0];for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];return e(a,...l)}disabledDisposeDate(e){const{disabledDate:t}=this.getProps();for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return this.disposeDateFn(t,e,...r)}disabledDisposeTime(e){const{disabledTime:t}=this.getProps();for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return this.disposeDateFn(t,e,...r)}handleTriggerWrapperClick(e){const{disabled:t,triggerRender:n}=this._adapter.getProps(),{rangeInputFocus:r}=this._adapter.getStates();t||(this._isRangeType()&&!r?(this._adapter.isEventTarget(e)?setTimeout(()=>{this.handleInputFocus(e,"rangeStart")},0):sn(n)&&this._adapter.setRangeInputFocus("rangeStart"),this.openPanel()):this.openPanel())}handlePanelVisibleChange(e){e?(this._adapter.setInsetInputFocus(),setTimeout(()=>{this._adapter.setTriggerDisabled(!0)},0)):this._adapter.setTriggerDisabled(!1)}}function $1(i,e){let{groupInnerSeparator:t=xt.DEFAULT_SEPARATOR_RANGE,groupSize:n=1,groupSeparator:r=xt.DEFAULT_SEPARATOR_MULTIPLE}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0,a="";if((n<=0||typeof n!="number")&&(n=1),Array.isArray(i)&&i.length){const o=[],{length:l}=i;for(let u=0;u<l;u++){u%n===0&&o.push([]);const c=Math.floor(u/n);o[c].push(i[u])}a=o.map(u=>u.map(c=>c?lr(c,e,{locale:s}):"").join(t)).join(r)}return a}function DIe(i){const{defaultPickerValue:e,format:t,dateFnsLocale:n}=i;let r=Array.isArray(e)?e[0]:e,s=Array.isArray(e)?e[1]:void 0;switch(!0){case Ud(r):break;case CU(r):r=new Date(r);break;case typeof r=="string":r=js(r,t,void 0,n);break;default:r=new Date;break}switch(!0){case Ud(s):break;case CU(s):s=new Date(s);break;case typeof s=="string":s=js(s,t,void 0,n);break;default:s=Iv(r,1);break}return{nowDate:r,nextDate:s}}var UXt=Function.prototype.toString,j8=Object.create,GXt=Object.prototype.toString,YXt=function(){function i(){this._keys=[],this._values=[]}return i.prototype.has=function(e){return!!~this._keys.indexOf(e)},i.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},i.prototype.set=function(e,t){this._keys.push(e),this._values.push(t)},i}();function KXt(){return new YXt}function XXt(){return new WeakMap}var qXt=typeof WeakMap<"u"?XXt:KXt;function JZ(i){if(!i)return j8(null);var e=i.constructor;if(e===Object)return i===Object.prototype?{}:j8(i);if(e&&~UXt.call(e).indexOf("[native code]"))try{return new e}catch{}return j8(i)}function ZXt(i){var e="";return i.global&&(e+="g"),i.ignoreCase&&(e+="i"),i.multiline&&(e+="m"),i.unicode&&(e+="u"),i.sticky&&(e+="y"),e}function QXt(i){return i.flags}var JXt=/test/g.flags==="g"?QXt:ZXt;function LIe(i){var e=GXt.call(i);return e.substring(8,e.length-1)}function eqt(i){return i[Symbol.toStringTag]||LIe(i)}var tqt=typeof Symbol<"u"?eqt:LIe,iqt=Object.defineProperty,nqt=Object.getOwnPropertyDescriptor,FIe=Object.getOwnPropertyNames,eQ=Object.getOwnPropertySymbols,BIe=Object.prototype,$Ie=BIe.hasOwnProperty,rqt=BIe.propertyIsEnumerable,NIe=typeof eQ=="function";function sqt(i){return FIe(i).concat(eQ(i))}var aqt=NIe?sqt:FIe;function I4(i,e,t){for(var n=aqt(i),r=0,s=n.length,a=void 0,o=void 0;r<s;++r)if(a=n[r],!(a==="callee"||a==="caller")){if(o=nqt(i,a),!o){e[a]=t.copier(i[a],t);continue}!o.get&&!o.set&&(o.value=t.copier(o.value,t));try{iqt(e,a,o)}catch{e[a]=o.value}}return e}function oqt(i,e){var t=new e.Constructor;e.cache.set(i,t);for(var n=0,r=i.length;n<r;++n)t[n]=e.copier(i[n],e);return t}function lqt(i,e){var t=new e.Constructor;return e.cache.set(i,t),I4(i,t,e)}function jIe(i,e){return i.slice(0)}function uqt(i,e){return i.slice(0,i.size,i.type)}function cqt(i,e){return new e.Constructor(jIe(i.buffer))}function dqt(i,e){return new e.Constructor(i.getTime())}function zIe(i,e){var t=new e.Constructor;return e.cache.set(i,t),i.forEach(function(n,r){t.set(r,e.copier(n,e))}),t}function hqt(i,e){return I4(i,zIe(i,e),e)}function pqt(i,e){var t=JZ(e.prototype);e.cache.set(i,t);for(var n in i)$Ie.call(i,n)&&(t[n]=e.copier(i[n],e));return t}function fqt(i,e){var t=JZ(e.prototype);e.cache.set(i,t);for(var n in i)$Ie.call(i,n)&&(t[n]=e.copier(i[n],e));for(var r=eQ(i),s=0,a=r.length,o=void 0;s<a;++s)o=r[s],rqt.call(i,o)&&(t[o]=e.copier(i[o],e));return t}var gqt=NIe?fqt:pqt;function mqt(i,e){var t=JZ(e.prototype);return e.cache.set(i,t),I4(i,t,e)}function z8(i,e){return new e.Constructor(i.valueOf())}function vqt(i,e){var t=new e.Constructor(i.source,JXt(i));return t.lastIndex=i.lastIndex,t}function lR(i,e){return i}function HIe(i,e){var t=new e.Constructor;return e.cache.set(i,t),i.forEach(function(n){t.add(e.copier(n,e))}),t}function yqt(i,e){return I4(i,HIe(i,e),e)}var _qt=Array.isArray,tQ=Object.assign,bqt=Object.getPrototypeOf||function(i){return i.__proto__},VIe={array:oqt,arrayBuffer:jIe,blob:uqt,dataView:cqt,date:dqt,error:lR,map:zIe,object:gqt,regExp:vqt,set:HIe},Sqt=tQ({},VIe,{array:lqt,map:hqt,object:mqt,set:yqt});function xqt(i){return{Arguments:i.object,Array:i.array,ArrayBuffer:i.arrayBuffer,Blob:i.blob,Boolean:z8,DataView:i.dataView,Date:i.date,Error:i.error,Float32Array:i.arrayBuffer,Float64Array:i.arrayBuffer,Int8Array:i.arrayBuffer,Int16Array:i.arrayBuffer,Int32Array:i.arrayBuffer,Map:i.map,Number:z8,Object:i.object,Promise:lR,RegExp:i.regExp,Set:i.set,String:z8,WeakMap:lR,WeakSet:lR,Uint8Array:i.arrayBuffer,Uint8ClampedArray:i.arrayBuffer,Uint16Array:i.arrayBuffer,Uint32Array:i.arrayBuffer,Uint64Array:i.arrayBuffer}}function WIe(i){var e=tQ({},VIe,i),t=xqt(e),n=t.Array,r=t.Object;function s(a,o){if(o.prototype=o.Constructor=void 0,!a||typeof a!="object")return a;if(o.cache.has(a))return o.cache.get(a);if(o.prototype=bqt(a),o.Constructor=o.prototype&&o.prototype.constructor,!o.Constructor||o.Constructor===Object)return r(a,o);if(_qt(a))return n(a,o);var l=t[tqt(a)];return l?l(a,o):typeof a.then=="function"?a:r(a,o)}return function(o){return s(o,{Constructor:void 0,cache:qXt(),copier:s,prototype:void 0})}}function wqt(i){return WIe(tQ({},Sqt,i))}wqt({});var l0=WIe({});const hge="Enter",Cqt="Tab";class kqt extends _n{constructor(e){super(Object.assign({},e))}init(){}destroy(){}handleClick(e){this._adapter.notifyClick(e)}handleChange(e,t){this._adapter.notifyChange(e,t)}handleInputComplete(e){e.key===hge&&this._adapter.notifyEnter(e.target.value)}handleInputClear(e){this._adapter.notifyClear(e)}handleRangeInputClear(e){this.stopPropagation(e),this._adapter.notifyRangeInputClear(e)}handleRangeInputEnterPress(e,t){e.key===hge&&this._adapter.notifyEnter(t)}handleRangeInputEndKeyPress(e){e.key===Cqt&&this._adapter.notifyTabPress(e)}handleRangeInputFocus(e,t){this._adapter.notifyRangeInputFocus(e,t)}formatShowText(e,t){const{type:n,dateFnsLocale:r,format:s,rangeSeparator:a}=this._adapter.getProps(),o=t||s||Rv(n);let l="";switch(n){case"date":l=$1(e,o,void 0,r);break;case"dateRange":l=$1(e,o,{groupSize:2,groupInnerSeparator:a},r);break;case"dateTime":l=$1(e,o,void 0,r);break;case"dateTimeRange":l=$1(e,o,{groupSize:2,groupInnerSeparator:a},r);break;case"month":l=$1(e,o,void 0,r);break;case"monthRange":l=$1(e,o,{groupSize:2,groupInnerSeparator:a},r);break}return l}handleInsetInputChange(e){const{value:t,valuePath:n,insetInputValue:r}=e,{format:s,type:a,rangeSeparator:o}=this._adapter.getProps(),l=aR({type:a,format:s}),u=mx(l0(r),n,t),c=this.concatInsetInputValue({insetInputValue:u}),d=_G({inputValue:c,type:a,rangeSeparator:o}),h=this._autoFillTimeToInsetInputValue({insetInputValue:d,valuePath:n,format:l}),p=this.concatInsetInputValue({insetInputValue:h});this._adapter.notifyInsetInputChange({insetInputValue:h,format:l,insetInputStr:p})}_autoFillTimeToInsetInputValue(e){const{valuePath:t,insetInputValue:n,format:r}=e,{type:s,defaultPickerValue:a,dateFnsLocale:o}=this._adapter.getProps(),l=l0(n),{nowDate:u,nextDate:c}=DIe({defaultPickerValue:a,format:r,dateFnsLocale:o});if(s.includes("Time")){let d="";const h=wt(r.split(" "),"0",xt.FORMAT_FULL_DATE),p=wt(r.split(" "),"1",xt.FORMAT_TIME_PICKER);switch(t){case"monthLeft.dateInput":const f=l.monthLeft.dateInput;if(!l.monthLeft.timeInput&&f.length===h.length){const v=js(l.monthLeft.dateInput,h);Ud(v)&&(d=lr(u,p),l.monthLeft.timeInput=d)}break;case"monthRight.dateInput":const g=l.monthRight.dateInput;if(!l.monthRight.timeInput&&g.length===h.length){const v=js(g,h);Ud(v)&&(d=lr(c,p),l.monthRight.timeInput=d)}break}}return l}getInsetInputPlaceholder(){const{type:e,format:t,rangeSeparator:n}=this._adapter.getProps(),r=aR({type:e,format:t});let s,a;switch(e){case"date":case"month":case"dateRange":s=r;break;case"dateTime":case"dateTimeRange":[s,a]=r.split(" ");break;case"monthRange":s=r+n+r;break}return{datePlaceholder:s,timePlaceholder:a}}getInsetInputValue(e){let{value:t,insetInputValue:n}=e;const{type:r,rangeSeparator:s,format:a}=this._adapter.getProps();let o="";if(tm(n))o=this.concatInsetInputValue({insetInputValue:n});else{const u=aR({format:a,type:r});o=this.formatShowText(t,u)}return _G({inputValue:o,type:r,rangeSeparator:s})}concatInsetDateAndTime(e){let{date:t,time:n}=e;return`${t} ${n}`}concatInsetDateRange(e){let{rangeStart:t,rangeEnd:n}=e;const{rangeSeparator:r}=this._adapter.getProps();return`${t}${r}${n}`}concatInsetInputValue(e){let{insetInputValue:t}=e;const{type:n}=this._adapter.getProps();let r="";switch(n){case"date":case"month":case"monthRange":r=t.monthLeft.dateInput;break;case"dateRange":r=this.concatInsetDateRange({rangeStart:t.monthLeft.dateInput,rangeEnd:t.monthRight.dateInput});break;case"dateTime":r=this.concatInsetDateAndTime({date:t.monthLeft.dateInput,time:t.monthLeft.timeInput});break;case"dateTimeRange":const s=this.concatInsetDateAndTime({date:t.monthLeft.dateInput,time:t.monthLeft.timeInput}),a=this.concatInsetDateAndTime({date:t.monthRight.dateInput,time:t.monthRight.timeInput});r=this.concatInsetDateRange({rangeStart:s,rangeEnd:a});break}return r}}function pge(i){const{insetInputValue:e,valuePath:t,onFocus:n,onChange:r,placeholder:s,forwardRef:a}=i,o=wt(e,t);return R.createElement(iu,{value:o,onChange:(l,u)=>{r({value:l,event:u,insetInputValue:e,valuePath:t})},onFocus:n,placeholder:s,ref:a})}function fge(i){const{insetInputValue:e,valuePath:t,type:n,onFocus:r,onChange:s,placeholder:a,disabled:o}=i;if(!n.includes("Time"))return null;const u=wt(e,t);return R.createElement(iu,{value:u,onChange:(c,d)=>{s({value:c,event:d,insetInputValue:e,valuePath:t})},onFocus:r,placeholder:a,disabled:o})}var Eqt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};class f6 extends ln{constructor(e){super(e),this.handleChange=(t,n)=>this.foundation.handleChange(t,n),this.handleEnterPress=t=>this.foundation.handleInputComplete(t),this.handleInputClear=t=>this.foundation.handleInputClear(t),this.handleRangeInputChange=(t,n,r)=>{const s=this.getRangeInputValue(t,n);this.foundation.handleChange(s,r)},this.handleRangeInputClear=t=>{this.foundation.handleRangeInputClear(t)},this.handleRangeInputEnterPress=(t,n,r)=>{const s=this.getRangeInputValue(n,r);this.foundation.handleRangeInputEnterPress(t,s)},this.handleRangeInputEndKeyPress=t=>{this.foundation.handleRangeInputEndKeyPress(t)},this.handleRangeInputFocus=(t,n)=>{this.foundation.handleRangeInputFocus(t,n)},this.handleRangeStartFocus=t=>{this.handleRangeInputFocus(t,"rangeStart")},this.handleInsetInputChange=t=>{this.foundation.handleInsetInputChange(t)},this.getRangeInputValue=(t,n)=>{const{rangeSeparator:r}=this.props;return`${t}${r}${n}`},this.foundation=new kqt(this.adapter)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{updateIsFocusing:t=>this.setState({isFocusing:t}),notifyClick:function(){return e.props.onClick(...arguments)},notifyChange:function(){return e.props.onChange(...arguments)},notifyEnter:function(){return e.props.onEnterPress(...arguments)},notifyBlur:function(){return e.props.onBlur(...arguments)},notifyClear:function(){return e.props.onClear(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyRangeInputClear:function(){return e.props.onRangeClear(...arguments)},notifyRangeInputFocus:function(){return e.props.onFocus(...arguments)},notifyTabPress:function(){return e.props.onRangeEndTabPress(...arguments)},notifyInsetInputChange:t=>this.props.onInsetInputChange(t)})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}formatText(e){return e&&e.length?this.foundation.formatShowText(e):""}renderRangePrefix(){const{prefix:e,insetLabel:t,prefixCls:n,disabled:r,rangeInputFocus:s}=this.props,a=e||t;return a?R.createElement("div",{className:`${n}-range-input-prefix`,onClick:o=>!r&&!s&&this.handleRangeStartFocus(o),"x-semi-prop":"prefix,insetLabel"},a):null}renderRangeSeparator(e,t){const{disabled:n,rangeSeparator:r}=this.props,s=he({[`${Hi.PREFIX}-range-input-separator`]:!0,[`${Hi.PREFIX}-range-input-separator-active`]:(e||t)&&!n});return R.createElement("span",{onClick:a=>!n&&this.handleRangeStartFocus(a),className:s},r)}renderRangeClearBtn(e,t){const{showClear:n,prefixCls:r,disabled:s,clearIcon:a,showClearIgnoreDisabled:o}=this.props;return(e||t)&&n&&!(s&&!o)?R.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear range input value",className:`${r}-range-input-clearbtn`,onMouseDown:c=>this.handleRangeInputClear(c)},a||R.createElement(Sm,{"aria-hidden":!0})):null}renderRangeSuffix(e){const{prefixCls:t,disabled:n,rangeInputFocus:r}=this.props;return e?R.createElement("div",{className:`${t}-range-input-suffix`,onClick:a=>!n&&!r&&this.handleRangeStartFocus(a)},e):null}renderRangeInput(e){const{placeholder:t,inputStyle:n,disabled:r,inputReadOnly:s,autofocus:a,size:o,text:l,suffix:u,inputCls:c,rangeInputStartRef:d,rangeInputEndRef:h,rangeInputFocus:p,prefixCls:f,rangeSeparator:g,borderless:v}=e,[m,b=""]=l.split(g)||[],_=o==="large"?"default":"small",S=Array.isArray(t)?t:[t,t],[C,k]=S,E=he(`${f}-range-input-wrapper-start`,`${f}-range-input-wrapper`,{[`${f}-range-input-wrapper-active`]:p==="rangeStart"&&!r,[`${f}-range-input-wrapper-start-with-prefix`]:this.props.prefix||this.props.insetLabel,[`${f}-borderless`]:v}),A=he(`${f}-range-input-wrapper-end`,`${f}-range-input-wrapper`,{[`${f}-range-input-wrapper-active`]:p==="rangeEnd"&&!r,[`${f}-borderless`]:v});return R.createElement(R.Fragment,null,this.renderRangePrefix(),R.createElement("div",{onClick:P=>!r&&this.handleRangeInputFocus(P,"rangeStart"),className:`${c} ${E}`},R.createElement(iu,{borderless:v,size:_,style:n,disabled:r,readonly:s,placeholder:C,value:m,onChange:(P,O)=>this.handleRangeInputChange(P,b,O),onEnterPress:P=>this.handleRangeInputEnterPress(P,m,b),onFocus:P=>this.handleRangeInputFocus(P,"rangeStart"),autoFocus:a,ref:d})),this.renderRangeSeparator(m,b),R.createElement("div",{className:`${c} ${A}`,onClick:P=>!r&&this.handleRangeInputFocus(P,"rangeEnd")},R.createElement(iu,{borderless:v,size:_,style:n,disabled:r,readonly:s,placeholder:k,value:b,onChange:(P,O)=>this.handleRangeInputChange(m,P,O),onEnterPress:P=>this.handleRangeInputEnterPress(P,m,b),onFocus:P=>this.handleRangeInputFocus(P,"rangeEnd"),onKeyDown:this.handleRangeInputEndKeyPress,ref:h})),this.renderRangeClearBtn(m,b),this.renderRangeSuffix(u))}isRenderMultipleInputs(){const{type:e}=this.props;return e.includes("Range")&&e!=="monthRange"}renderInputInset(){const{type:e,handleInsetDateFocus:t,handleInsetTimeFocus:n,value:r,insetInputValue:s,prefixCls:a,rangeInputStartRef:o,rangeInputEndRef:l,density:u,insetInput:c}=this.props,d=this.foundation.getInsetInputValue({value:r,insetInputValue:s}),{dateStart:h,dateEnd:p,timeStart:f,timeEnd:g}=wt(c,"placeholder",{}),{datePlaceholder:v,timePlaceholder:m}=this.foundation.getInsetInputPlaceholder(),b=`${a}-inset-input-wrapper`,_=`${a}-inset-input-separator`;return R.createElement("div",{className:b,"x-type":e},R.createElement(pge,{forwardRef:o,insetInputValue:d,placeholder:h??v,valuePath:"monthLeft.dateInput",onChange:this.handleInsetInputChange,onFocus:S=>t(S,"rangeStart")}),R.createElement(fge,{disabled:!d.monthLeft.dateInput,insetInputValue:d,placeholder:f??m,type:e,valuePath:"monthLeft.timeInput",onChange:this.handleInsetInputChange,onFocus:n}),this.isRenderMultipleInputs()&&R.createElement(R.Fragment,null,R.createElement("div",{className:_},u==="compact"?null:"-"),R.createElement(pge,{forwardRef:l,insetInputValue:d,placeholder:p??v,valuePath:"monthRight.dateInput",onChange:this.handleInsetInputChange,onFocus:S=>t(S,"rangeEnd")}),R.createElement(fge,{disabled:!d.monthRight.dateInput,insetInputValue:d,placeholder:g??m,type:e,valuePath:"monthRight.timeInput",onChange:this.handleInsetInputChange,onFocus:n})))}renderTriggerInput(){const e=this.props,{placeholder:t,type:n,value:r,inputValue:s,inputStyle:a,disabled:o,showClear:l,inputReadOnly:u,insetLabel:c,validateStatus:d,block:h,prefixCls:p,multiple:f,dateFnsLocale:g,onBlur:v,onClear:m,onFocus:b,prefix:_,autofocus:S,size:C,inputRef:k,rangeInputStartRef:E,rangeInputEndRef:A,onRangeClear:P,onRangeBlur:O,onRangeEndTabPress:M,rangeInputFocus:D,rangeSeparator:L,insetInput:H,insetInputValue:B,defaultPickerValue:F,showClearIgnoreDisabled:z}=e,N=Eqt(e,["placeholder","type","value","inputValue","inputStyle","disabled","showClear","inputReadOnly","insetLabel","validateStatus","block","prefixCls","multiple","dateFnsLocale","onBlur","onClear","onFocus","prefix","autofocus","size","inputRef","rangeInputStartRef","rangeInputEndRef","onRangeClear","onRangeBlur","onRangeEndTabPress","rangeInputFocus","rangeSeparator","insetInput","insetInputValue","defaultPickerValue","showClearIgnoreDisabled"]),U=R.createElement(iMe,{"aria-hidden":!0}),G=R.createElement(kHt,{"aria-hidden":!0}),j=n.includes("Time")?G:U;let K="";xr(s)?r&&(K=this.formatText(r)):K=s;const ie=he({[`${p}-input-readonly`]:u,[`${p}-monthRange-input`]:n==="monthRange"}),ae=Object.assign(Object.assign({},this.props),{text:K,suffix:j,inputCls:ie});return this.isRenderMultipleInputs()?this.renderRangeInput(ae):R.createElement(iu,Object.assign({},N,{ref:k,insetLabel:c,disabled:o,showClearIgnoreDisabled:z,readonly:u,className:ie,style:a,hideSuffix:l,placeholder:n==="monthRange"&&Array.isArray(t)?t[0]+L+t[1]:t,onEnterPress:this.handleEnterPress,onChange:this.handleChange,onClear:this.handleInputClear,suffix:j,showClear:l,value:K,validateStatus:d,prefix:_,autoFocus:S,size:C,onBlur:v,onFocus:b}))}render(){const{insetInput:e}=this.props;return e?this.renderInputInset():this.renderTriggerInput()}}f6.propTypes={borderless:w.bool,onClick:w.func,onChange:w.func,onEnterPress:w.func,onBlur:w.func,onClear:w.func,onFocus:w.func,value:w.array,disabled:w.bool,type:w.oneOf(xt.TYPE_SET),showClear:w.bool,format:w.string,inputStyle:w.object,inputReadOnly:w.bool,insetLabel:w.node,validateStatus:w.string,prefix:w.node,prefixCls:w.string,dateFnsLocale:w.object.isRequired,placeholder:w.oneOfType([w.string,w.array]),rangeInputFocus:w.oneOfType([w.string,w.bool]),rangeInputStartRef:w.object,rangeInputEndRef:w.object,rangeSeparator:w.string,insetInput:w.oneOfType([w.bool,w.object]),insetInputValue:w.object,defaultPickerValue:w.oneOfType([w.string,w.number,w.object,w.array])};f6.defaultProps={borderless:!1,showClear:!0,onClick:Nr,onChange:Nr,onEnterPress:Nr,onBlur:Nr,onClear:Nr,onFocus:Nr,type:"date",inputStyle:{},inputReadOnly:!1,prefixCls:Hi.PREFIX,rangeSeparator:xt.DEFAULT_SEPARATOR_RANGE};function UIe(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",n="";const r=typeof e=="number"&&e<10?`0${e}`:e.toString(),s=typeof t=="number"&&t<10?`0${t}`:t.toString();return n=`${String(i)}-${r}-${s}`,n}function Aqt(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const t={dayNumber:"",dateNumberFull:"",fullDate:""},n=HOe(i),r=lr(i,"yyyy"),s=lr(i,"MM"),a=E8t(i),o=I7t(i),l=Number(lr(o,"e",{weekStartsOn:e})),u=[];let c=[];for(let d=1;d<l;d++)c.push(t);for(let d=0;d<n;d++){const h=d+1,p=h<10?`0${h}`:h.toString(),f=UIe(r,s,h);c.push({dayNumber:h,dayNumberFull:p,fullDate:f}),c.length===7?(u.push(c),c=[]):f===lr(a,"yyyy-MM-dd")&&(u.push(c),c=[])}return u}const Tqt=(i,e)=>{const t=Aqt(i,e);return{monthText:lr(i,"yyyy-MM"),weeks:t,month:i}},Pqt=Tqt,gge={month:Oy,year:M7t},Oqt={prevMonth:zzt,nextMonth:Iv,prevYear:Hzt,nextYear:qF};class Mqt extends _n{constructor(e){super(Object.assign({},e)),this.newBiMonthPanelDate=[this.getState("monthLeft").pickerDate,this.getState("monthRight").pickerDate]}init(){const e=this.getProp("defaultValue");this.initDefaultPickerValue(),this.updateSelectedFromProps(e)}initDefaultPickerValue(){const e=js(this.getProp("defaultPickerValue"));e&&Ud(e)&&(this._updatePanelDetail(xt.PANEL_TYPE_LEFT,{pickerDate:e}),this._updatePanelDetail(xt.PANEL_TYPE_RIGHT,{pickerDate:Iv(e,1)}))}updateSelectedFromProps(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.getProp("type"),{selected:r,rangeStart:s,rangeEnd:a}=this.getStates();if(e&&(e!=null&&e.length))switch(n){case"date":this._initDatePickerFromValue(e,t);break;case"dateRange":this._initDateRangePickerFromValue(e);break;case"dateTime":this._initDateTimePickerFromValue(e);break;case"dateTimeRange":this._initDateTimeRangePickerFormValue(e);break}else(Array.isArray(e)&&!e.length||!e)&&(hOe(r)&&r.size&&this._adapter.updateDaySelected(new Set),s&&this._adapter.setRangeStart(""),a&&this._adapter.setRangeEnd(""))}calcDisabledTime(e){const{disabledTime:t,type:n}=this.getProps();if(typeof t=="function"&&e&&["dateTime","dateTimeRange"].includes(n)){const{rangeStart:r,rangeEnd:s,monthLeft:a}=this.getStates(),o=[];n==="dateTimeRange"?(r&&o.push(r),r&&s&&o.push(s)):a&&a.showDate&&o.push(a.showDate);const l=o.map(c=>c instanceof Date?c:Wd(c)),u=n==="dateTimeRange"?l:l[0];return t(u,e)}}_initDatePickerFromValue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{monthLeft:n}=this._adapter.getStates(),r=Object.assign({},n);this._adapter.updateMonthOnLeft(r);const s=new Set,a=this._isMultiple();a?e.forEach(o=>{o&&s.add(lr(o,xt.FORMAT_FULL_DATE))}):e[0]&&s.add(lr(e[0],xt.FORMAT_FULL_DATE)),t?a?!(e!=null&&e.some(l=>l&&Oy(l,n.pickerDate)===0))&&this.handleShowDateAndTime(xt.PANEL_TYPE_LEFT,e[0]||r.pickerDate):this.handleShowDateAndTime(xt.PANEL_TYPE_LEFT,e[0]||r.pickerDate):this.handleShowDateAndTime(xt.PANEL_TYPE_LEFT,r.pickerDate),this._adapter.updateDaySelected(s)}_initDateRangePickerFromValue(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.getState("monthLeft"),r=this.getState("monthRight"),s=this._autoAdjustMonth(Object.assign(Object.assign({},n),{pickerDate:e[0]||n.pickerDate}),Object.assign(Object.assign({},r),{pickerDate:e[1]||r.pickerDate}));if(Array.isArray(e)&&e.filter(c=>c).length>1)this.handleShowDateAndTime(xt.PANEL_TYPE_LEFT,s.monthLeft.pickerDate),this.handleShowDateAndTime(xt.PANEL_TYPE_RIGHT,s.monthRight.pickerDate);else{const c=e.find(d=>d);if(c){const d=Math.abs(Oy(c,n.pickerDate))>0,h=Math.abs(Oy(c,r.pickerDate))>0;d&&h&&(this.handleShowDateAndTime(xt.PANEL_TYPE_LEFT,s.monthLeft.pickerDate),this.handleShowDateAndTime(xt.PANEL_TYPE_RIGHT,s.monthRight.pickerDate))}}const o=t?xt.FORMAT_DATE_TIME:xt.FORMAT_FULL_DATE;let l=e[0]&&lr(e[0],o),u=e[1]&&lr(e[1],o);this._isNeedSwap(l,u)&&([l,u]=[u,l]),this._adapter.setRangeStart(l),this._adapter.setRangeEnd(u),this._adapter.setHoverDay(u)}_initDateTimePickerFromValue(e){this._initDatePickerFromValue(e)}_initDateTimeRangePickerFormValue(e){this._initDateRangePickerFromValue(e,!0)}destroy(){}handleSyncChangeMonths(e){const{panelType:t,target:n}=e,{type:r}=this._adapter.getProps(),{monthLeft:s,monthRight:a}=this._adapter.getStates();this.isRangeType(r)&&(t==="right"&&Oy(n,s.pickerDate)===0?this.handleYearOrMonthChange("prevMonth","left",1,!0):t==="left"&&Oy(a.pickerDate,n)===0&&this.handleYearOrMonthChange("nextMonth","right",1,!0))}getTargetChangeDate(e){const{panelType:t,switchType:n}=e,{monthRight:r,monthLeft:s}=this._adapter.getStates(),a=t==="left"?s.pickerDate:r.pickerDate;let o;switch(n){case"prevMonth":o=Iv(a,-1);break;case"nextMonth":o=Iv(a,1);break;case"prevYear":o=qF(a,-1);break;case"nextYear":o=qF(a,1);break}return o}toMonth(e,t){const{type:n}=this._adapter.getProps(),r=this._getDiff("month",t,e);this.handleYearOrMonthChange(r<0?"prevMonth":"nextMonth",e,Math.abs(r),!1),this.isRangeType(n)&&this.handleSyncChangeMonths({panelType:e,target:t})}toYear(e,t){const n=this._getDiff("year",t,e);this.handleYearOrMonthChange(n<0?"prevYear":"nextYear",e,Math.abs(n),!1)}toYearMonth(e,t){this.toYear(e,t),this.toMonth(e,t)}isRangeType(e){const{type:t}=this.getProps(),n=e||t;return typeof n=="string"&&/range/i.test(n)}handleSwitchMonthOrYear(e,t){const{type:n,syncSwitchMonth:r}=this.getProps(),s=this.isRangeType(n);if(s&&r)this.handleYearOrMonthChange(e,"left",1,!0),this.handleYearOrMonthChange(e,"right",1,!0);else if(this.handleYearOrMonthChange(e,t),s){const a=this.getTargetChangeDate({panelType:t,switchType:e});this.handleSyncChangeMonths({panelType:t,target:a})}}prevMonth(e){this.handleSwitchMonthOrYear("prevMonth",e)}nextMonth(e){this.handleSwitchMonthOrYear("nextMonth",e)}prevYear(e){this.handleSwitchMonthOrYear("prevYear",e)}nextYear(e){this.handleSwitchMonthOrYear("nextYear",e)}_getDiff(e,t,n){const r=this._getPanelDetail(n);return gge[e]&&gge[e](t,r.pickerDate)}_getPanelDetail(e){return e===xt.PANEL_TYPE_RIGHT?this.getState("monthRight"):this.getState("monthLeft")}localeFormat(e,t){const n=this._adapter.getProp("dateFnsLocale");return lr(e,t,{locale:n})}disposeCallbackArgs(e){let t=Array.isArray(e)?e:e&&[e]||[];const n=this.getProp("timeZone");oR(n)&&(t=t.map(l=>bx(l,n)));const r=this.getProp("type"),s=this.getProp("format")||Rv(r);let a,o;switch(r){case"date":case"dateTime":case"month":this._isMultiple()?(a=t.map(l=>l&&this.localeFormat(l,s)),o=[...t]):(a=t[0]&&this.localeFormat(t[0],s),[o]=t);break;case"dateRange":case"dateTimeRange":a=t.map(l=>l&&this.localeFormat(l,s)),o=[...t];break}return{notifyValue:a,notifyDate:o}}handleYearOrMonthChange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xt.PANEL_TYPE_LEFT,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const{autoSwitchDate:s,type:a}=this.getProps(),{monthLeft:o,monthRight:l}=this.getStates(),u=this.isRangeType(a),c=u&&t===xt.PANEL_TYPE_LEFT,d=this._getPanelDetail(t),{pickerDate:h}=d,p=Oqt[e],f=p(h,n),g=t===xt.PANEL_TYPE_LEFT&&!Fn(f,o.pickerDate)||t===xt.PANEL_TYPE_RIGHT&&!Fn(f,l.pickerDate);if(this._updatePanelDetail(t,{pickerDate:f}),g)if(u){if(c?this.newBiMonthPanelDate[0]=f:this.newBiMonthPanelDate[1]=f,!(c&&r)){const{notifyValue:v,notifyDate:m}=this.disposeCallbackArgs(this.newBiMonthPanelDate);this._adapter.notifyPanelChange(m,v)}}else{const{notifyValue:v,notifyDate:m}=this.disposeCallbackArgs(f);this._adapter.notifyPanelChange(m,v)}s&&this.updateDateAfterChangeYM(e,f)}updateDateAfterChangeYM(e,t){const{multiple:n,disabledDate:r,type:s}=this.getProps(),{selected:a,rangeStart:o,rangeEnd:l,monthLeft:u}=this.getStates(),c=["dateRange","dateTimeRange"].includes(e),d={closePanel:!1};if(!n&&!c&&a.size){const h=Array.from(a)[0],p=new Date(h),f=t.getFullYear(),g=t.getMonth();let v=QOe(p,{year:f,month:g});if(s==="dateTime"&&(v=this._mergeDateAndTime(v,u.pickerDate)),r(v,{rangeStart:o,rangeEnd:l}))return;this._adapter.notifySelectedChange([v],d)}}_isMultiple(){return!!this.getProp("multiple")&&this.getProp("type")==="date"}_isRange(){}handleDayClick(e,t){const n=this.getProp("type");switch(!0){case(n==="date"||n==="dateTime"):this.handleDateSelected(e,t);break;case(n==="dateRange"||n==="dateTimeRange"):this.handleRangeSelected(e);break}}handleDateSelected(e,t){const{max:n,type:r,isControlledComponent:s,dateFnsLocale:a}=this.getProps(),o=this._isMultiple(),{selected:l}=this.getStates(),u=this._getPanelDetail(t),c=new Set(o?[...l]:[]),{fullDate:d}=e,h=u.pickerDate,p=r==="dateTime"?this._mergeDateAndTime(d,h):d;o?c.has(p)?c.delete(p):n&&c.size===n?this._adapter.notifyMaxLimit():c.add(p):c.add(p);const f=this.getValidDateFormat(),g=[...c].map(v=>js(v,f,void 0,a));this.handleShowDateAndTime(t,h),s||this._adapter.updateDaySelected(c),this._adapter.notifySelectedChange(g)}handleShowDateAndTime(e,t,n){const r=n||t;this._updatePanelDetail(e,{showDate:r,pickerDate:t})}_mergeDateAndTime(e,t){const n=this._adapter.getProp("dateFnsLocale"),r=lr(Ud(e)?e:js(e,xt.FORMAT_FULL_DATE,void 0,n),xt.FORMAT_FULL_DATE),s=lr(Ud(t)?t:js(t,xt.FORMAT_TIME_PICKER,void 0,n),xt.FORMAT_TIME_PICKER),a=this.getValidTimeFormat();return js(`${r} ${s}`,a,void 0,n)}handleRangeSelected(e){let{rangeStart:t,rangeEnd:n}=this.getStates();const{startDateOffset:r,endDateOffset:s,type:a,dateFnsLocale:o,rangeInputFocus:l,triggerRender:u}=this._adapter.getProps(),{fullDate:c}=e;let d=!1,h=!1;const p=(r||s)&&a==="dateRange";p?(t=ZI(r,c),n=ZI(s,c)):l==="rangeEnd"?(n=c,t&&n&&HS(n,t.trim().split(/\s+/)[0])&&(t=null,d=!0)):(l==="rangeStart"||!l)&&(t=c,t&&n&&HS(n.trim().split(/\s+/)[0],t)&&(n=null,h=!0)),/range/i.test(a)&&(p?(this._adapter.setRangeStart(t),this._adapter.setRangeEnd(n)):l==="rangeEnd"?(this._adapter.setRangeEnd(n),d&&this._adapter.setRangeStart(t),(!this._adapter.isAnotherPanelHasOpened("rangeEnd")||!t)&&this._adapter.setRangeInputFocus("rangeStart")):(l==="rangeStart"||!l)&&(this._adapter.setRangeStart(t),h&&this._adapter.setRangeEnd(n),(!this._adapter.isAnotherPanelHasOpened("rangeStart")||!n)&&this._adapter.setRangeInputFocus("rangeEnd")));const g=this.getValidDateFormat();if(t||n){const[v,m]=[js(t,g,void 0,o),js(n,g,void 0,o)];let b=[v,m];if(a==="dateTimeRange"){const S=this.getState("monthLeft").pickerDate,C=this.getState("monthRight").pickerDate,k=t?this._mergeDateAndTime(t,S):null,E=n?this._mergeDateAndTime(n,C):null;CZ(v,m)&&HS(E,k)?b=[k,k]:b=[k,E]}const _=!(a==="dateRange"&&p);this._adapter.notifySelectedChange(b,{needCheckFocusRecord:_})}}_isNeedSwap(e,t){return e&&t&&HS(t,e)}handleDayHover(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{fullDate:""};const{fullDate:t}=e,{startDateOffset:n,endDateOffset:r,type:s}=this.getProps();if(this._adapter.setHoverDay(t),(n||r)&&s==="dateRange"){const a=ZI(n,t),o=ZI(r,t);this._adapter.setOffsetRangeStart(a),this._adapter.setOffsetRangeEnd(o)}}_autoAdjustMonth(e,t){let n=e,r=t;const s=Oy(e.pickerDate,t.pickerDate);return s>0?(n=Object.assign({},t),r=Object.assign({},e)):s===0&&(n=e,r=Object.assign(Object.assign({},t),{pickerDate:Iv(t.pickerDate,1)})),{monthLeft:n,monthRight:r}}getValidTimeFormat(){const e=this.getProp("format")||xt.FORMAT_TIME_PICKER,t=[];return(zS(e,"h")||zS(e,"H"))&&t.push("HH"),zS(e,"m")&&t.push("mm"),zS(e,"s")&&t.push("ss"),t.join(":")}getValidDateFormat(){return this.getProp("format")||tXt(this.getProp("type"))}handleTimeChange(e,t){const{rangeEnd:n,rangeStart:r}=this.getStates(),s=this.getProp("dateFnsLocale"),a=e.timeStampValue,o=this.getProp("type"),l=this._getPanelDetail(t),{showDate:u}=l,c=new Date(a),d=this.getValidDateFormat(),h=t===xt.PANEL_TYPE_RIGHT?n:r;let p,f,g;if(o==="dateTimeRange"&&h){const k=js(h,d,void 0,s);p=k.getFullYear(),f=k.getMonth(),g=k.getDate()}else p=u.getFullYear(),f=u.getMonth(),g=u.getDate();const v=c.getHours(),m=c.getMinutes(),b=c.getSeconds(),_=c.getMilliseconds(),S=[p,f,g,v,m,b,_],C=new Date(...S);if(o==="dateTimeRange")this.handleShowDateAndTime(t,C,u),this._updateTimeInDateRange(t,C);else{const k=UIe(p,f+1,g);this.handleDateSelected({fullDate:k,fullValidDate:C},t),this.handleShowDateAndTime(t,C),this._adapter.notifySelectedChange([C])}}_updateTimeInDateRange(e,t){const{isControlledComponent:n,dateFnsLocale:r}=this.getProps();let s=this.getState("rangeStart"),a=this.getState("rangeEnd");const o=this.getValidDateFormat();if(s&&a){let l=js(s,o,void 0,r),u=js(a,o,void 0,r);e===xt.PANEL_TYPE_RIGHT?(u=this._mergeDateAndTime(t,t),a=lr(u,xt.FORMAT_DATE_TIME),this._isNeedSwap(s,a)&&([s,a]=[a,s],[l,u]=[u,l]),n||this._adapter.setRangeEnd(a)):(l=this._mergeDateAndTime(t,t),s=lr(l,xt.FORMAT_DATE_TIME),this._isNeedSwap(s,a)&&([s,a]=[a,s],[l,u]=[u,l]),n||this._adapter.setRangeStart(s)),this._adapter.notifySelectedChange([l,u])}}_updatePanelDetail(e,t){const{monthLeft:n,monthRight:r}=this.getStates();e===xt.PANEL_TYPE_RIGHT?this._adapter.updateMonthOnRight(Object.assign(Object.assign({},r),t)):this._adapter.updateMonthOnLeft(Object.assign(Object.assign({},n),t))}showYearPicker(e){this._updatePanelDetail(e,{isTimePickerOpen:!1,isYearPickerOpen:!0})}showTimePicker(e,t){this.getProp("disabledTimePicker")||this._updatePanelDetail(e,{isTimePickerOpen:!0,isYearPickerOpen:!1})}showDatePanel(e){this._updatePanelDetail(e,{isTimePickerOpen:!1,isYearPickerOpen:!1})}getYAMOpenType(){const{monthLeft:e,monthRight:t}=this._adapter.getStates(),n=e.isYearPickerOpen,r=t.isYearPickerOpen;return n&&r?"both":n?"left":r?"right":"none"}}const mge=Hi.NAVIGATION;class iQ extends ee.PureComponent{constructor(e){super(e),this.navRef=R.createRef()}render(){const{forwardRef:e,monthText:t,onMonthClick:n,onNextMonth:r,onPrevMonth:s,onPrevYear:a,onNextYear:o,density:l,shouldBimonthSwitch:u,panelType:c}=this.props,d="borderless",h=l==="compact"?"default":"large",p=!0,f=l==="compact"?"small":"default",g=c===xt.PANEL_TYPE_LEFT,v=c===xt.PANEL_TYPE_RIGHT,m=u&&g,b=u&&v,_={},S={};b&&(_.visibility="hidden"),m&&(S.visibility="hidden");const C=e||this.navRef;return R.createElement("div",{className:mge,ref:C},R.createElement(Qh,{key:"double-chevron-left","aria-label":"Previous year",icon:R.createElement(zHt,{"aria-hidden":!0,size:h}),size:f,theme:d,noHorizontalPadding:p,onClick:a,style:_}),R.createElement(Qh,{key:"chevron-left","aria-label":"Previous month",icon:R.createElement(nMe,{"aria-hidden":!0,size:h}),size:f,onClick:s,theme:d,noHorizontalPadding:p,style:_}),R.createElement("div",{className:`${mge}-month`},R.createElement(Jd,{onClick:n,theme:d,size:f},R.createElement("span",null,t))),R.createElement(Qh,{key:"chevron-right","aria-label":"Next month",icon:R.createElement(rMe,{"aria-hidden":!0,size:h}),size:f,onClick:r,theme:d,noHorizontalPadding:p,style:S}),R.createElement(Qh,{key:"double-chevron-right","aria-label":"Next year",icon:R.createElement(VHt,{"aria-hidden":!0,size:h}),size:f,theme:d,noHorizontalPadding:p,onClick:o,style:S}))}}iQ.propTypes={monthText:w.string,density:w.string,onMonthClick:w.func,onNextMonth:w.func,onPrevMonth:w.func,onNextYear:w.func,onPrevYear:w.func,navPrev:w.node,navNext:w.node,shouldBimonthSwitch:w.bool,panelType:w.oneOf([xt.PANEL_TYPE_LEFT,xt.PANEL_TYPE_RIGHT])};iQ.defaultProps={monthText:"",onMonthClick:Te,onNextMonth:Te,onPrevMonth:Te,onNextYear:Te,onPrevYear:Te};const Iqt=i=>{let{weekStartsOn:e=0}=i;const t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let n=0;n<e;n++)t.push(t.shift());return t};class Rqt extends _n{constructor(e){super(Object.assign({},e))}init(){this._getToday(),this.getMonthTable()}_getToday(){const t=lr(new Date,"yyyy-MM-dd");this._adapter.updateToday(t)}getMonthTable(){const e=this._adapter.getProp("month"),t=this.getState("weeksRowNum");if(e){this.updateWeekDays();const n=this._adapter.getProp("weekStartsOn"),r=Pqt(e,n),{weeks:s}=r;this._adapter.updateMonthTable(r),xr(t)?this._adapter.setWeeksRowNum(s.length):Array.isArray(s)&&s.length!==t&&this._adapter.setWeeksRowNum(s.length,()=>{this._adapter.notifyWeeksRowNumChange(s.length)})}}updateWeekDays(){const e=this._adapter.getProp("weekStartsOn"),t=Iqt({weekStartsOn:e});this._adapter.setWeekDays(t)}destroy(){}handleClick(e){this._adapter.notifyDayClick(e)}handleHover(e){this._adapter.notifyDayHover(e)}}const Dqt=Hi.PREFIX;class nQ extends ln{constructor(e){super(e),this.state={weekdays:[],month:{weeks:[],monthText:""},todayText:"",weeksRowNum:e.weeksRowNum},this.monthRef=R.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToday:e=>this.setState({todayText:e}),setWeekDays:e=>this.setState({weekdays:e}),setWeeksRowNum:(e,t)=>this.setState({weeksRowNum:e},t),updateMonthTable:e=>this.setState({month:e}),notifyDayClick:e=>this.props.onDayClick(e),notifyDayHover:e=>this.props.onDayHover(e),notifyWeeksRowNumChange:e=>this.props.onWeeksRowNumChange(e)})}componentDidMount(){this.foundation=new Rqt(this.adapter),this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){e.month!==this.props.month&&this.foundation.getMonthTable()}getSingleDayStatus(e){const{rangeInputFocus:t}=this.props,{fullDate:n,todayText:r,selected:s,disabledDate:a,rangeStart:o,rangeEnd:l}=e,u={rangeStart:o,rangeEnd:l,rangeInputFocus:t},c=n===r,d=s.has(n);let h=a&&a(Wd(n),u);return!h&&this.props.rangeInputFocus==="rangeStart"&&l&&this.props.focusRecordsRef&&this.props.focusRecordsRef.current.rangeEnd&&(h=uge(n,l.trim().split(/\s+/)[0])),!h&&this.props.rangeInputFocus==="rangeEnd"&&o&&this.props.focusRecordsRef&&this.props.focusRecordsRef.current.rangeStart&&(h=HS(n,o.trim().split(/\s+/)[0])),{isToday:c,isSelected:d,isDisabled:h}}getDateRangeStatus(e){const{rangeStart:t,rangeEnd:n,fullDate:r,hoverDay:s,offsetRangeStart:a,offsetRangeEnd:o,rangeInputFocus:l}=e,u=!!(t||n),c=!!(t&&n),d=a||o;if(!u)return{};const h=Xm(s,r);let p,f,g,v,m;t&&(g=Xm(r,t),l==="rangeEnd"&&(p=B1(r,{start:t,end:s}))),n&&(v=Xm(r,n),l==="rangeStart"&&(f=B1(r,{start:s,end:n}))),!c&&u&&(m=h);let b;d||(b=p||f||h);let _,S,C,k,E,A;return c&&(_=B1(r,{start:t,end:n}),d||(S=g&&uge(t,s),C=v&&HS(n,s),k=h&&l==="rangeStart",E=h&&l==="rangeEnd",A=h&&B1(s,{start:t,end:n}))),{isHoverDay:h,isSelectedStart:g,isSelectedEnd:v,isInRange:_,isHover:b,isSelectedStartAfterHover:S,isSelectedEndBeforeHover:C,isHoverDayInRange:A,isHoverDayInStartSelection:k,isHoverDayInEndSelection:E,isHoverDayAroundOneSelected:m}}getOffsetDateStatus(e){const{offsetRangeStart:t,offsetRangeEnd:n,rangeStart:r,rangeEnd:s,fullDate:a,hoverDay:o}=e;if(!(t||n))return{};const u=B1(a,{start:r,end:s}),c=Xm(o,a),d=r&&Xm(a,r),h=s&&Xm(a,s),p=!!(r&&s),f=Xm(a,t),g=Xm(a,n),v=c;let m,b;return p&&(m=u&&c),!!(t&&n)&&(b=d||B1(a,{start:t,end:n})||h),{isOffsetRangeStart:f,isOffsetRangeEnd:g,isHoverInOffsetRange:m,isHoverDayOffset:v,isInOffsetRange:b}}getDayStatus(e,t){const{fullDate:n}=e,{hoverDay:r,rangeStart:s,rangeEnd:a,todayText:o,offsetRangeStart:l,offsetRangeEnd:u,disabledDate:c,selected:d,rangeInputFocus:h}=t,p=this.getSingleDayStatus({fullDate:n,todayText:o,hoverDay:r,selected:d,disabledDate:c,rangeStart:s,rangeEnd:a}),f=this.getDateRangeStatus(Object.assign({fullDate:n,rangeStart:s,rangeEnd:a,hoverDay:r,offsetRangeStart:l,offsetRangeEnd:u,rangeInputFocus:h},p)),g=this.getOffsetDateStatus(Object.assign(Object.assign({offsetRangeStart:l,offsetRangeEnd:u,rangeStart:s,rangeEnd:a,fullDate:n,hoverDay:r},p),f));return Object.assign(Object.assign(Object.assign({},p),f),g)}renderDayOfWeek(){const{locale:e}=this.props,t=he(Hi.WEEKDAY),n=he(`${Dqt}-weekday-item`),{weekdays:r}=this.state,s=r.map(a=>e.weeks[a]);return R.createElement("div",{role:"row",className:t},s.map((a,o)=>R.createElement("div",{role:"columnheader",key:a+o,className:n},a)))}renderWeeks(){const{month:e}=this.state,{weeks:t}=e,{weeksRowNum:n}=this.props;let r={};n&&(r={height:n*gw.WEEK_HEIGHT});const s=he(Hi.WEEKS);return R.createElement("div",{className:s,style:r},t.map((a,o)=>this.renderWeek(a,o)))}renderWeek(e,t){const n=Hi.WEEK;return R.createElement("div",{role:"row",className:n,key:t},e.map((r,s)=>this.renderDay(r,s)))}renderDay(e,t){const{todayText:n}=this.state,{renderFullDate:r,renderDate:s}=this.props,{fullDate:a,dayNumber:o}=e;if(!a)return R.createElement("div",{role:"gridcell",tabIndex:-1,key:o+t,className:Hi.DAY},R.createElement("span",null));const l=this.getDayStatus(e,Object.assign({todayText:n},this.props)),u=he(Hi.DAY,{[Hi.DAY_TODAY]:l.isToday,[Hi.DAY_IN_RANGE]:l.isInRange,[Hi.DAY_HOVER]:l.isHover,[Hi.DAY_SELECTED]:l.isSelected,[Hi.DAY_SELECTED_START]:l.isSelectedStart,[Hi.DAY_SELECTED_END]:l.isSelectedEnd,[Hi.DAY_DISABLED]:l.isDisabled,[Hi.DAY_HOVER_DAY]:l.isHoverDayOffset,[Hi.DAY_IN_OFFSET_RANGE]:l.isInOffsetRange,[Hi.DAY_SELECTED_RANGE_HOVER]:l.isHoverInOffsetRange,[Hi.DAY_OFFSET_RANGE_START]:l.isOffsetRangeStart,[Hi.DAY_OFFSET_RANGE_END]:l.isOffsetRangeEnd,[Hi.DAY_SELECTED_START_AFTER_HOVER]:l.isSelectedStartAfterHover,[Hi.DAY_SELECTED_END_BEFORE_HOVER]:l.isSelectedEndBeforeHover,[Hi.DAY_HOVER_DAY_BEFORE_RANGE]:l.isHoverDayInStartSelection,[Hi.DAY_HOVER_DAY_AFTER_RANGE]:l.isHoverDayInEndSelection,[Hi.DAY_HOVER_DAY_AROUND_SINGLE_SELECTED]:l.isHoverDayAroundOneSelected}),c=he({[`${Hi.DAY}-main`]:!0}),d=[o,a,l],h=sn(r);return R.createElement("div",{role:"gridcell",tabIndex:l.isDisabled?-1:0,"aria-disabled":l.isDisabled,"aria-selected":l.isSelected,"aria-label":a,className:h?Hi.DAY:u,title:a,key:o+t,onClick:p=>!l.isDisabled&&this.foundation.handleClick(e),onMouseEnter:()=>this.foundation.handleHover(e),onMouseLeave:()=>this.foundation.handleHover()},h?r(...d):R.createElement("div",{className:c},sn(s)?s(o,a):R.createElement("span",null,o)))}render(){const{forwardRef:e,multiple:t}=this.props,n=this.renderDayOfWeek(),r=this.renderWeeks(),s=he(Hi.MONTH),a=e||this.monthRef;return R.createElement("div",{role:"grid","aria-multiselectable":t,ref:a,className:s},n,r)}}nQ.propTypes={month:w.object,selected:w.object,rangeStart:w.string,rangeEnd:w.string,offsetRangeStart:w.string,offsetRangeEnd:w.string,onDayClick:w.func,onDayHover:w.func,weekStartsOn:w.number,disabledDate:w.func,weeksRowNum:w.number,onWeeksRowNumChange:w.func,renderDate:w.func,renderFullDate:w.func,hoverDay:w.string,startDateOffset:w.func,endDateOffset:w.func,rangeInputFocus:w.oneOfType([w.string,w.bool]),focusRecordsRef:w.object,multiple:w.bool};nQ.defaultProps={month:new Date,selected:new Set,rangeStart:"",rangeEnd:"",onDayClick:Te,onDayHover:Te,onWeeksRowNumChange:Te,weekStartsOn:gw.WEEK_START_ON,disabledDate:m2,weeksRowNum:0};const QI="time",H8="timeRange",Lqt=" ~ ",Fqt=",",bG={PREFIX:`${Ze}-timepicker`,RANGE_PICKER:`${Ze}-timepicker-range-panel`,RANGE_PANEL_LISTS:`${Ze}-timepicker-lists`},ua={TYPES:[QI,H8],TYPE_TIME_PICKER:QI,TYPE_TIME_RANGE_PICKER:H8,DEFAULT_TYPE:QI,DEFAULT_RANGE_SEPARATOR:Lqt,DEFAULT_MULTIPLE_SEPARATOR:Fqt,SIZE:B0.SIZE,DEFAULT_FORMAT:"HH:mm:ss",DEFAULT_FORMAT_A:"a h:mm:ss",STATUS:sC,DEFAULT_POSITION:{[QI]:"bottomLeft",[H8]:"bottomLeft"}},Ou={PREFIX:`${Ze}-scrolllist`,SELECTED:`${Ze}-scrolllist-item-selected`},Bqt={MODE:["normal","wheel"]},JI={DEFAULT_ITEM_HEIGHT:36,DEFAULT_SCROLL_DURATION:120};var $qt=XPe,Nqt=COe,jqt=S4,zqt=9007199254740991,V8=4294967295,Hqt=Math.min;function Vqt(i,e){if(i=jqt(i),i<1||i>zqt)return[];var t=V8,n=Hqt(i,V8);e=Nqt(e),i-=V8;for(var r=$qt(n,e);++t<i;)e(t);return r}var Wqt=Vqt;const vge=Li(Wqt);var Uqt=c4,Gqt=vZ,Yqt=1,Kqt=2;function Xqt(i,e,t,n){var r=t.length,s=r,a=!n;if(i==null)return!s;for(i=Object(i);r--;){var o=t[r];if(a&&o[2]?o[1]!==i[o[0]]:!(o[0]in i))return!1}for(;++r<s;){o=t[r];var l=o[0],u=i[l],c=o[1];if(a&&o[2]){if(u===void 0&&!(l in i))return!1}else{var d=new Uqt;if(n)var h=n(u,c,l,i,e,d);if(!(h===void 0?Gqt(c,u,Yqt|Kqt,n,d):h))return!1}}return!0}var qqt=Xqt,Zqt=ec;function Qqt(i){return i===i&&!Zqt(i)}var GIe=Qqt,Jqt=GIe,eZt=L0;function tZt(i){for(var e=eZt(i),t=e.length;t--;){var n=e[t],r=i[n];e[t]=[n,r,Jqt(r)]}return e}var iZt=tZt;function nZt(i,e){return function(t){return t==null?!1:t[i]===e&&(e!==void 0||i in Object(t))}}var YIe=nZt,rZt=qqt,sZt=iZt,aZt=YIe;function oZt(i){var e=sZt(i);return e.length==1&&e[0][2]?aZt(e[0][0],e[0][1]):function(t){return t===i||rZt(t,i,e)}}var lZt=oZt,uZt=vZ,cZt=TPe,dZt=AMe,hZt=eZ,pZt=GIe,fZt=YIe,gZt=kb,mZt=1,vZt=2;function yZt(i,e){return hZt(i)&&pZt(e)?fZt(gZt(i),e):function(t){var n=cZt(t,i);return n===void 0&&n===e?dZt(t,i):uZt(e,n,mZt|vZt)}}var _Zt=yZt;function bZt(i){return function(e){return e==null?void 0:e[i]}}var SZt=bZt,xZt=o4;function wZt(i){return function(e){return xZt(e,i)}}var CZt=wZt,kZt=SZt,EZt=CZt,AZt=eZ,TZt=kb;function PZt(i){return AZt(i)?kZt(TZt(i)):EZt(i)}var OZt=PZt,MZt=lZt,IZt=_Zt,RZt=PP,DZt=Jo,LZt=OZt;function FZt(i){return typeof i=="function"?i:i==null?RZt:typeof i=="object"?DZt(i)?IZt(i[0],i[1]):MZt(i):LZt(i)}var rQ=FZt,BZt=SMe,$Zt=rQ,NZt=S4,jZt=Math.max;function zZt(i,e,t){var n=i==null?0:i.length;if(!n)return-1;var r=t==null?0:NZt(t);return r<0&&(r=jZt(n+r,0)),BZt(i,$Zt(e),r)}var KIe=zZt;const VS=Li(KIe);var HZt=wOe,VZt=Rf;function WZt(i,e){var t=-1,n=VZt(i)?Array(i.length):[];return HZt(i,function(r,s,a){n[++t]=e(r,s,a)}),n}var UZt=WZt,GZt=nC,YZt=rQ,KZt=UZt,XZt=Jo;function qZt(i,e){var t=XZt(i)?GZt:KZt;return t(i,YZt(e))}var ZZt=qZt;const QZt=Li(ZZt);var JZt=rQ,eQt=Rf,tQt=L0;function iQt(i){return function(e,t,n){var r=Object(e);if(!eQt(e)){var s=JZt(t);e=tQt(e),t=function(o){return s(r[o],o,r)}}var a=i(e,t,n);return a>-1?r[s?e[a]:a]:void 0}}var nQt=iQt,rQt=nQt,sQt=KIe,aQt=rQt(sQt),oQt=aQt;const SG=Li(oQt);var lQt=pZ,uQt=cZ,yge=S4;function cQt(i,e,t){var n=i==null?0:i.length;return n?(t&&typeof t!="number"&&uQt(i,e,t)?(e=0,t=n):(e=e==null?0:yge(e),t=t===void 0?n:yge(t)),lQt(i,e,t)):[]}var dQt=cQt;const W8=Li(dQt);class hQt extends _n{constructor(){super(...arguments),this._cachedSelectedNode=null}selectIndex(e,t){const{type:n,list:r}=this.getProps();if(e>-1&&Array.isArray(r)&&r.length&&or(t)){const s=e%r.length,a=r[s],o=t.children[e];this._adapter.setSelectedNode(o),this._adapter.notifySelectItem(Object.assign(Object.assign({},a),{value:a.value,type:n,index:s}))}}selectNode(e,t){const{type:n,list:r}=this.getProps();if(or(e)&&or(t)){const a=VS(t.children,c=>c===e)%r.length,l=VS(t.children,c=>c===this._cachedSelectedNode)%r.length,u=r[a];this._adapter.setSelectedNode(e),this._adapter.scrollToCenter(e),this._cachedSelectedNode!==e&&(this._cachedSelectedNode=e,l!==a&&this._adapter.notifySelectItem(Object.assign(Object.assign({},u),{value:u.value,type:n,index:a})))}}shouldAppend(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;const r="li";if(or(e)&&or(t)){const s=e.querySelectorAll(r),a=s[s.length-1],{list:o}=this.getProps();if(a){const l=t.getBoundingClientRect(),u=a.getBoundingClientRect(),c=u.height*o.length;let d=u.top,h=0;for(;d<=l.top+l.height*n;)h+=1,d+=c;return h}}return!1}shouldPrepend(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;const r="li";if(or(e)&&or(t)){const a=e.querySelectorAll(r)[0],{list:o}=this.getProps();if(a){const l=t.getBoundingClientRect(),u=a.getBoundingClientRect(),c=u.height*o.length;let d=u.top,h=0;for(;d+u.height>=l.top-l.height*n;)h+=1,d-=c;return h}}return 0}initWheelList(e,t,n){const{list:r}=this.getProps();if(or(t)&&or(e)&&r&&r.length){const s=e.children;W8(s,0,r.length);const a=this.shouldPrepend(e,t),o=this.shouldAppend(e,t);this._adapter.setState({prependCount:a,appendCount:o},n)}}adjustInfiniteList(e,t,n){const{list:r}=this.getProps(),s="li";if(or(t)&&or(e)&&r&&r.length){const a=e.querySelectorAll(s),o=a.length,l=1,u=this.shouldPrepend(e,t,l),c=this.shouldAppend(e,t,l);if(u)for(let d=0;d<u;d++){const h=W8(a,o-r.length*(d+1),o-r.length*d);Vjt(e,...h)}if(c)for(let d=0;d<c;d++){const h=W8(a,d*r.length,(d+1)*r.length);EOe(e,...h)}}}getNearestNodeInfo(e,t){if(or(e)&&or(t)){const r=t.getBoundingClientRect().top,s=e.querySelectorAll("li");let a=null,o=-1,l=1/0;return Array.from(s).map((u,c)=>{const h=u.getBoundingClientRect().top,p=Math.abs(h-r);p<l&&!this._adapter.isDisabledIndex(c)&&(l=p,a=u,o=c)}),{nearestNode:a,nearestIndex:o}}}getTargetNode(e,t){if(e&&or(t)){const n="li",r=e.target,s=t.querySelectorAll(n),a=this.getProp("list"),o=Array.isArray(a)?a.length:0;let l=-1,u=-1,c=null;const d=SG(s,(h,p)=>{if(h===r||h.contains(r))return l=p,o>0&&(u=p%o),!0});return u>-1&&(c=a[u]),{targetNode:d,targetIndex:l,indexInList:u,infoInList:c}}return null}}const pQt=(i,e,t)=>{const n=new vMe({from:{scrollTop:i.scrollTop},to:{scrollTop:e}},{duration:t});return n.on("frame",r=>{let{scrollTop:s}=r;i.scrollTop=s}),n},_ge=1e3/60,bge=/^\s*$/,uR="wheel";class Dg extends ln{constructor(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),e=this,this._cacheNode=(n,r)=>n&&r&&Object.prototype.hasOwnProperty.call(this,n)&&(this[n]=r),this._cacheSelectedNode=n=>this._cacheNode("selectedNode",n),this._cacheWillSelectNode=n=>this._cacheNode("willSelectNode",n),this._cacheListNode=n=>this._cacheNode("list",n),this._cacheSelectorNode=n=>this._cacheNode("selector",n),this._cacheWrapperNode=n=>this._cacheNode("wrapper",n),this._isFirst=n=>{const{list:r}=this;if(or(n)&&or(r)){const s=r.children;return VS(s,n)===0}return!1},this._isLast=n=>{const{list:r}=this;if(or(n)&&or(r)){const{children:s}=r;return VS(s,n)===s.length-1}return!1},this.indexIsSame=(n,r)=>{const{list:s}=this.props;if(s.length)return n%s.length===r%s.length},this.isDisabledIndex=n=>{const{list:r}=this.props;if(Array.isArray(r)&&r.length&&n>-1){const s=r.length,a=n%s;return this.isDisabledData(r[a])}return!1},this.isDisabledNode=n=>{const r=this.list;if(or(n)&&or(r)){const s=VS(r.children,a=>a===n);return this.isDisabledIndex(s)}return!1},this.isDisabledData=n=>n&&typeof n=="object"&&n.disabled,this.isWheelMode=()=>this.props.mode===uR,this.addClassToNode=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ou.SELECTED;const{list:s}=e;if(n=n||e.selectedNode,or(n)&&or(s)){const{children:a}=s,o=new RegExp(`\\s*${r}\\s*`,"g");QZt(a,l=>{l.className=l.className&&l.className.replace(o," "),bge.test(l.className)&&(l.className="")}),n.className&&!bge.test(n.className)?n.className+=` ${r}`:n.className=r}},this.getIndexByNode=n=>VS(this.list.children,n),this.getNodeByIndex=n=>n>-1?SG(this.list.children,(s,a)=>a===n):SG(this.list.children,s=>!this.isDisabledNode(s)),this.scrollToIndex=(n,r)=>{r=typeof r=="number"?r:JI.DEFAULT_SCROLL_DURATION,n=n??this.props.selectedIndex,this.scrollToNode(this.selectedNode,r)},this.scrollToNode=(n,r)=>{const{wrapper:s}=this,a=s.offsetHeight,o=this.getItmHeight(n),l=(n.offsetTop||this.list.children.length*o/2)-(a-o)/2;this.scrollToPos(l,r)},this.scrollToPos=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JI.DEFAULT_SCROLL_DURATION;const{wrapper:s}=e;if(r&&e.props.motion)if(e.scrollAnimation&&(e.scrollAnimation.destroy(),e.scrolling=!1),s.scrollTop===n){if(e.isWheelMode()){const a=e.foundation.getNearestNodeInfo(e.list,e.selector);e.addClassToNode(a.nearestNode)}}else e.scrollAnimation=pQt(s,n,r),e.scrollAnimation.on("rest",()=>{if(e.isWheelMode()){const a=e.foundation.getNearestNodeInfo(e.list,e.selector);e.addClassToNode(a.nearestNode)}}),e.scrollAnimation.start();else s.scrollTop=n},this.scrollToSelectItem=n=>{const{nearestNode:r}=this.foundation.getNearestNodeInfo(this.list,this.selector);this.props.cycled&&this.throttledAdjustList(n,r),this.debouncedSelect(n,r)},this.scrollToCenter=(n,r,s)=>{if(n=n||this.selectedNode,r=r||this.wrapper,or(n)&&or(r)){const a=r.getBoundingClientRect(),o=n.getBoundingClientRect(),l=r.scrollTop+(o.top-(a.top+a.height/2-o.height/2));this.scrollToPos(l,typeof s=="number"?s:JI.DEFAULT_SCROLL_DURATION)}},this.clickToSelectItem=n=>{n&&n.nativeEvent&&n.nativeEvent.stopImmediatePropagation();const{targetNode:r,infoInList:s}=this.foundation.getTargetNode(n,this.list);r&&s&&!s.disabled&&this.debouncedSelect(null,r)},this.getItmHeight=n=>n&&n.offsetHeight||JI.DEFAULT_ITEM_HEIGHT,this.renderItemList=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{selectedIndex:r,mode:s,transform:a,list:o}=e.props;return o.map((l,u)=>{const{transform:c}=l,d=typeof c=="function"?c:a,h=r===u,p=he({[`${Ou.PREFIX}-item-sel`]:h&&s!==uR,[`${Ou.PREFIX}-item-disabled`]:!!l.disabled});let f="";h&&typeof d=="function"?f=d(l.value,l.text):f=l.text==null?l.value:l.text;const g={};return!e.isWheelMode()&&!l.disabled&&(g.onClick=()=>e.foundation.selectIndex(u,e.list)),R.createElement("li",Object.assign({key:n+u},g,{className:p,role:"option","aria-selected":h,"aria-disabled":l.disabled}),f)})},this.renderNormalList=()=>{const{list:n,className:r,style:s}=this.props,a=this.renderItemList(),o=he(`${Ou.PREFIX}-item`,r);return R.createElement("div",{style:s,className:o,ref:this._cacheWrapperNode},R.createElement("ul",{role:"listbox","aria-multiselectable":!1,"aria-label":this.props["aria-label"],ref:this._cacheListNode},a))},this.renderInfiniteList=()=>{const{list:n,cycled:r,className:s,style:a}=this.props,{prependCount:o,appendCount:l}=this.state,u=vge(o).reduce((m,b)=>{const _=this.renderItemList(`pre_${b}_`);return m.unshift(..._),m},[]),c=vge(l).reduce((m,b)=>{const _=this.renderItemList(`app_${b}_`);return m.push(..._),m},[]),d=this.renderItemList(),h=he(`${Ou.PREFIX}-list-outer`,{[`${Ou.PREFIX}-list-outer-nocycle`]:!r}),p=he(`${Ou.PREFIX}-item-wheel`,s),f=he(`${Ou.PREFIX}-selector`),g=he(`${Ou.PREFIX}-shade`,`${Ou.PREFIX}-shade-pre`),v=he(`${Ou.PREFIX}-shade`,`${Ou.PREFIX}-shade-post`);return R.createElement("div",{className:p,style:a},R.createElement("div",{className:g}),R.createElement("div",{className:f,ref:this._cacheSelectorNode}),R.createElement("div",{className:v}),R.createElement("div",{className:h,ref:this._cacheWrapperNode,onScroll:this.scrollToSelectItem},R.createElement("ul",{role:"listbox","aria-label":this.props["aria-label"],"aria-multiselectable":!1,ref:this._cacheListNode,onClick:this.clickToSelectItem},u,d,c)))},this.state={prependCount:0,appendCount:0},this.selectedNode=null,this.willSelectNode=null,this.list=null,this.wrapper=null,this.selector=null,this.scrollAnimation=null,this.foundation=new hQt(this.adapter),this.throttledAdjustList=g2((n,r)=>{this.foundation.adjustInfiniteList(this.list,this.wrapper,r)},_ge),this.debouncedSelect=Qq((n,r)=>{this._cacheSelectedNode(r),this.foundation.selectNode(r,this.list)},_ge*2)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{setState:(t,n)=>this.setState(Object.assign({},t),n),setPrependCount:t=>this.setState({prependCount:t}),setAppendCount:t=>this.setState({appendCount:t}),isDisabledIndex:this.isDisabledIndex,setSelectedNode:t=>this._cacheWillSelectNode(t),notifySelectItem:function(){return e.props.onSelect(...arguments)},scrollToCenter:this.scrollToCenter})}componentWillUnmount(){this.props.cycled&&(this.throttledAdjustList.cancel(),this.debouncedSelect.cancel())}componentDidMount(){this.foundation.init();const{mode:e,cycled:t,selectedIndex:n,list:r}=this.props,s=this.getNodeByIndex(typeof n=="number"&&n>-1?n:0);this._cacheSelectedNode(s),this._cacheWillSelectNode(s),e===uR&&t?this.foundation.initWheelList(this.list,this.wrapper,()=>{this.scrollToNode(s,0)}):this.scrollToNode(s,0)}componentDidUpdate(e){const{selectedIndex:t}=this.props;if(e.selectedIndex!==t){const n=this.getIndexByNode(this.willSelectNode);if(!this.indexIsSame(n,t)){const r=this.getNodeByOffset(this.selectedNode,t-e.selectedIndex,this.list);this._cacheWillSelectNode(r)}this._cacheSelectedNode(this.willSelectNode),this.scrollToIndex(t)}}getNodeByOffset(e,t,n){const{list:r}=this.props;if(or(e)&&or(n)&&typeof t=="number"&&Array.isArray(r)&&r.length){t=t%r.length;let a=this.getIndexByNode(e)+t;for(;a<0;)a+=r.length;if(t)return this.getNodeByIndex(a)}return e}render(){return this.isWheelMode()?this.renderInfiniteList():this.renderNormalList()}}Dg.propTypes={mode:w.oneOf(Bqt.MODE),cycled:w.bool,list:w.array,selectedIndex:w.number,onSelect:w.func,transform:w.func,className:w.string,style:w.object,motion:w.oneOfType([w.func,w.bool]),type:w.oneOfType([w.string,w.number])};Dg.defaultProps={selectedIndex:0,motion:!0,list:[],onSelect:Te,cycled:!1,mode:uR};class fQt extends _n{}var gQt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};class R4 extends ln{constructor(e){super(e),this.foundation=new fQt(this.adapter)}render(){const e=this.props,{children:t,header:n,footer:r,prefixCls:s,bodyHeight:a,className:o,style:l}=e,u=gQt(e,["children","header","footer","prefixCls","bodyHeight","className","style"]),c=he(o,{[s||Ou.PREFIX]:!0}),d=he({[`${s||Ou.PREFIX}-header`]:!0});return R.createElement("div",Object.assign({className:c,style:l},this.getDataAttr(u)),n?R.createElement("div",{className:d},R.createElement("div",{className:`${d}-title`,"x-semi-prop":this.props["x-semi-header-alias"]||"header"},n),R.createElement("div",{className:`${c}-line`})):null,R.createElement("div",{className:`${c}-body`,style:{height:a||""},"x-semi-prop":"children"},t),r?R.createElement("div",{className:`${c}-footer`,"x-semi-prop":this.props["x-semi-footer-alias"]||"footer"},r):null)}}R4.Item=Dg;R4.propTypes={className:w.string,header:w.node,footer:w.node,children:w.node,bodyHeight:w.oneOfType([w.number,w.string])};const XIe=1e3*60*60,Sge=24*XIe,U8=(i,e)=>{let t=`${i}`;i<10&&(t=`0${i}`);let n=!1;return e&&e.indexOf(i)>=0&&(n=!0),{value:t,disabled:n}};function G8(i,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;const r=[];for(let s=0;s<i;s+=n)(!e||e.indexOf(s)<0||!t)&&r.push(s);return r}class mQt extends _n{constructor(e){super(Object.assign({},e))}isAM(){return this.getProp("isAM")}initData(){const{timeStampValue:e,hourStep:t,disabledMinutes:n,disabledSeconds:r,hideDisabledOptions:s,minuteStep:a,secondStep:o}=this.getProps(),l=this.getValidFormat(),u=this.getDisplayDateFromTimeStamp(e),c=this.disabledHours(),d=n(u?u.getHours():null),h=r(u?u.getHours():null,u?u.getMinutes():null),p=G8(24,c,s,t),f=G8(60,d,s,a),g=G8(60,h,s,o);return{showHour:!!l.match(/HH|hh|H|h/g),showMinute:!!l.match(/mm/g),showSecond:!!l.match(/ss/g),hourOptions:p,minuteOptions:f,secondOptions:g}}getPosition(){const e=this.getProp("position"),t=this.getProp("type")||ua.DEFAULT_TYPE;return e||ua.DEFAULT_POSITION[t]}getDefaultFormatIfNeed(){return this._isInProps("format")?this.getProp("format"):this.getProp("use12Hours")?ua.DEFAULT_FORMAT_A:ua.DEFAULT_FORMAT}disabledHours(){const{use12Hours:e,disabledHours:t}=this.getProps();let n=t&&t();return e&&Array.isArray(n)&&(this.isAM()?n=n.filter(r=>r<12).map(r=>r===0?12:r):n=n.map(r=>r===12?12:r-12)),n}getValidFormat(e){let t=xr(e)?this.getProp("format"):e;return t=this.getDefaultFormatIfNeed(),t=typeof t=="string"?t:ua.DEFAULT_FORMAT,t}getDisplayDateFromTimeStamp(e){let t;return e&&(t=new Date(e)),!e||!Ud(t)?this.createDateDefault():t}createDateDefault(){return new Date(parseInt(String(Date.now()/Sge),10)*Sge-8*XIe)}}class w2 extends ln{constructor(e){super(e),this.cacheRefCurrent=(t,n)=>{t&&typeof t=="string"&&this.adapter.setCache(t,n)},this.reselect=()=>{["ampm","hour","minute","second"].forEach(n=>{const r=this.adapter.getCache(n);r&&r.scrollToIndex&&r.scrollToIndex()})},this.onItemChange=t=>{let{type:n,value:r,disabled:s}=t,{onChange:a,use12Hours:o,isAM:l,format:u,timeStampValue:c}=this.props;const d=this.foundation.getDisplayDateFromTimeStamp(c);if(n==="hour")o?l?d.setHours(Number(r)%12):d.setHours(Number(r)%12+12):d.setHours(Number(r));else if(n==="minute")d.setMinutes(Number(r));else if(n==="ampm"){const h=r.toUpperCase();o&&(h==="PM"&&(l=!1,d.getHours()<12&&d.setHours(d.getHours()%12+12)),h==="AM"&&(l=!0,d.getHours()>=12&&d.setHours(d.getHours()-12)))}else d.setSeconds(Number(r));a&&a({isAM:l,value:lr(d,u&&u.replace(/(\s+)A/g,"$1a")),timeStampValue:Number(d)})},this.onEnterSelectPanel=t=>{const{onCurrentSelectPanelChange:n}=this.props;n(t)},this.getDisplayDateFromTimeStamp=t=>this.foundation.getDisplayDateFromTimeStamp(t),this.foundation=new mQt(this.adapter),this.state=Object.assign({},this.foundation.initData())}componentDidUpdate(e,t){(e.timeStampValue!==this.props.timeStampValue||e.format!==this.props.format)&&this.setState(Object.assign({},this.foundation.initData()))}componentWillUnmount(){}componentDidMount(){}renderHourSelect(e,t){const{prefixCls:n,disabledHours:r,use12Hours:s,scrollItemProps:a}=this.props,{showHour:o,hourOptions:l}=this.state;if(!o)return null;const u=r();let c,d;s?(c=[12].concat(l.filter(f=>f<12&&f>0)),d=e%12||12):(c=l,d=e);const h=f=>f+t.hour,p=`${n}-list-hour`;return R.createElement(Dg,Object.assign({ref:f=>this.cacheRefCurrent("hour",f),mode:"normal",transform:h,className:p,list:c.map(f=>U8(f,u)),selectedIndex:c.indexOf(d),type:"hour",onSelect:this.onItemChange},a))}renderMinuteSelect(e,t){const{prefixCls:n,disabledMinutes:r,timeStampValue:s,scrollItemProps:a}=this.props,{showMinute:o,minuteOptions:l}=this.state;if(!o)return null;const u=new Date(s),c=r&&r(u.getHours()),d=`${n}-list-minute`,h=p=>p+t.minute;return R.createElement(Dg,Object.assign({ref:p=>this.cacheRefCurrent("minute",p),mode:"normal",transform:h,list:l.map(p=>U8(p,c)),selectedIndex:l.indexOf(e),type:"minute",onSelect:this.onItemChange,className:d},a))}renderSecondSelect(e,t){const{prefixCls:n,disabledSeconds:r,timeStampValue:s,scrollItemProps:a}=this.props,{showSecond:o,secondOptions:l}=this.state;if(!o)return null;const u=new Date(s),c=r&&r(u.getHours(),u.getMinutes()),d=`${n}-list-second`,h=p=>String(p)+t.second;return R.createElement(Dg,Object.assign({ref:p=>this.cacheRefCurrent("second",p),mode:"normal",transform:h,list:l.map(p=>U8(p,c)),selectedIndex:l.indexOf(e),className:d,type:"second",onSelect:this.onItemChange},a))}renderAMPMSelect(e,t){const{prefixCls:n,use12Hours:r,isAM:s,scrollItemProps:a}=this.props;if(!r)return null;const o=[{value:"AM",text:e.AM||""},{value:"PM",text:e.PM||""}],l=s?0:1,u=`${n}-list-ampm`;return R.createElement(Dg,Object.assign({ref:c=>this.cacheRefCurrent("ampm",c),mode:"normal",className:u,list:o,selectedIndex:l,type:"ampm",onSelect:this.onItemChange},a))}render(){const{timeStampValue:e,panelHeader:t,panelFooter:n}=this.props,r=this.getDisplayDateFromTimeStamp(e);return R.createElement(La,{componentName:"TimePicker"},(s,a)=>R.createElement(R4,{header:t,footer:n,"x-semi-header-alias":"panelHeader","x-semi-footer-alias":"panelFooter"},this.renderAMPMSelect(s,a),this.renderHourSelect(r.getHours(),s),this.renderMinuteSelect(r.getMinutes(),s),this.renderSecondSelect(r.getSeconds(),s)))}}w2.propTypes={format:w.string,defaultOpenValue:w.object,prefixCls:w.string,onChange:w.func,showHour:w.bool,showMinute:w.bool,showSecond:w.bool,disabledHours:w.func,disabledMinutes:w.func,disabledSeconds:w.func,hideDisabledOptions:w.bool,onCurrentSelectPanelChange:w.func,use12Hours:w.bool,isAM:w.bool,timeStampValue:w.any,scrollItemProps:w.object};w2.defaultProps={disabledHours:Te,disabledMinutes:Te,disabledSeconds:Te,format:ua.DEFAULT_FORMAT};class vQt extends _n{constructor(e){super(Object.assign({},e))}init(){}destroy(){}selectYear(e,t){const{currentYear:n,currentMonth:r}=this.getStates(),{type:s}=this.getProps(),a=xt.PANEL_TYPE_LEFT,o=xt.PANEL_TYPE_RIGHT,l=l0(n);if(l[t]=e.value,s==="monthRange"){const u=l[a]===l[o]&&r[a]>r[o];t===a&&e.value>l[o]||t===a&&u?l[o]=e.value+1:t===o&&u&&(l[a]=e.value-1)}this._adapter.setCurrentYear(l,()=>this.autoSelectMonth(e,t,l)),this._adapter.notifySelectYear(l)}selectMonth(e,t){const{currentMonth:n,currentYear:r}=this.getStates(),{type:s}=this.getProps(),a=xt.PANEL_TYPE_LEFT,o=xt.PANEL_TYPE_RIGHT,l=l0(n);l[t]=e.month,s==="monthRange"&&t===a&&r[a]===r[o]&&e.value>l[o]&&(l[o]=e.month+1),this._adapter.setCurrentMonth(l),this._adapter.notifySelectMonth(l)}autoSelectMonth(e,t,n){const{disabledDate:r,locale:s}=this._adapter.getProps(),{months:a,currentMonth:o}=this._adapter.getStates(),l=JOe(Date.now(),e.year);if(r(yx(l,o[t]-1))){const c=a.findIndex(h=>{let{month:p}=h;return p===o[t]});let d;if(d=a.slice(c).find(h=>{let{month:p}=h;return!r(yx(l,p-1))}),d||(d=a.slice(0,c).find(h=>{let{month:p}=h;return!r(yx(l,p-1))})),d){const h=l0(o);h[t]=d.month,this._adapter.setCurrentYearAndMonth(n,h),this._adapter.notifySelectYearAndMonth(n,h)}}}backToMain(){this._adapter.notifyBackToMain()}}const xge=`${Ze}-datepicker`;class D4 extends ln{constructor(e){super(e),this.selectYear=(s,a)=>{this.foundation.selectYear(s,a)},this.selectMonth=(s,a)=>{this.foundation.selectMonth(s,a)},this.reselect=()=>{["yearRef","monthRef"].forEach(a=>{const o=this[a];o&&o.current&&o.current.scrollToIndex&&o.current.scrollToIndex()})},this.backToMain=s=>{s.nativeEvent.stopImmediatePropagation(),this.foundation.backToMain()};const t=new Date;let{currentYear:n,currentMonth:r}=e;this.state={years:iXt(e.startYear,e.endYear).map(s=>({value:s,year:s})),months:Array(12).fill(0).map((s,a)=>({value:a+1,month:a+1})),currentYear:{left:n.left||t.getFullYear(),right:n.right||t.getFullYear()},currentMonth:{left:r.left||t.getMonth()+1,right:r.right||t.getMonth()+2}},this.yearRef=R.createRef(),this.monthRef=R.createRef(),this.foundation=new vQt(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setCurrentYear:(e,t)=>this.setState({currentYear:e},t),setCurrentMonth:e=>this.setState({currentMonth:e}),setCurrentYearAndMonth:(e,t)=>this.setState({currentYear:e,currentMonth:t}),notifySelectYear:e=>this.props.onSelect({currentMonth:this.state.currentMonth,currentYear:e}),notifySelectMonth:e=>this.props.onSelect({currentYear:this.state.currentYear,currentMonth:e}),notifySelectYearAndMonth:(e,t)=>this.props.onSelect({currentYear:e,currentMonth:t}),notifyBackToMain:()=>this.props.onBackToMain()})}static getDerivedStateFromProps(e,t){const n={};if(!Fn(e.currentYear,t.currentYear)){const r=new Date().getFullYear();n.currentYear={left:e.currentYear.left||r,right:e.currentYear.right||r}}if(!Fn(e.currentMonth,t.currentMonth)){const r=new Date().getMonth();n.currentMonth={left:e.currentMonth.left||r+1,right:e.currentMonth.right||r+2}}return n}renderColYear(e){const{years:t,currentYear:n,currentMonth:r,months:s}=this.state,{disabledDate:a,localeCode:o,yearCycled:l,yearAndMonthOpts:u}=this.props,c=yx(Date.now(),r[e]-1),d=xt.PANEL_TYPE_LEFT,h=xt.PANEL_TYPE_RIGHT,p=v=>e===h&&n[d]?n[d]>v:!1,f=t.map(v=>{let{value:m,year:b}=v;const _=s.every(C=>{let{month:k}=C;return a(QOe(c,{year:b,month:k-1}))}),S=p(b);return{year:b,value:m,disabled:_||S}});let g=v=>v;return(o==="zh-CN"||o==="zh-TW")&&(g=v=>`${v}`),R.createElement(Dg,Object.assign({ref:this.yearRef,cycled:l,list:f,transform:g,selectedIndex:t.findIndex(v=>v.value===n[e]),type:"year",onSelect:v=>this.selectYear(v,e),mode:"normal"},u))}renderColMonth(e){const{months:t,currentMonth:n,currentYear:r}=this.state,{locale:s,localeCode:a,monthCycled:o,disabledDate:l,yearAndMonthOpts:u}=this.props;let c=v=>v;const d=JOe(Date.now(),r[e]),h=xt.PANEL_TYPE_LEFT,p=xt.PANEL_TYPE_RIGHT;(a==="zh-CN"||a==="zh-TW")&&(c=v=>`${v}`);const f=t.map(v=>{let{value:m,month:b}=v;const _=e===p&&n[h]&&r[h]===r[p]&&n[h]>b;return{month:b,disabled:l(yx(d,b-1))||_,value:s.fullMonths[m]}}),g=f.findIndex(v=>v.month===n[e]);return R.createElement(Dg,Object.assign({ref:this.monthRef,cycled:o,list:f,transform:c,selectedIndex:g,type:"month",onSelect:v=>this.selectMonth(v,e),mode:"normal"},u))}renderPanel(e){return R.createElement(R.Fragment,null,R.createElement(R4,null,this.renderColYear(e),this.renderColMonth(e)))}render(){const{locale:e,noBackBtn:t,density:n,presetPosition:r,renderQuickControls:s,renderDateInput:a,type:o}=this.props,l=`${xge}-yearmonth-header`,u=`${xge}-yearmonth-body`,c=e.selectDate,d=n==="compact"?"default":"large",h=n==="compact"?"small":"default",p=xt.PANEL_TYPE_LEFT,f=xt.PANEL_TYPE_RIGHT;let g=null;return o==="month"?g=this.renderPanel(p):g=R.createElement("div",{className:u},this.renderPanel(p),this.renderPanel(f)),R.createElement(R.Fragment,null,t?null:R.createElement("div",{className:l},R.createElement(Qh,{noHorizontalPadding:!1,icon:R.createElement(nMe,{"aria-hidden":!0,size:d}),size:h,onClick:this.backToMain},R.createElement("span",null,c))),r?R.createElement("div",{style:{display:"flex"}},r==="left"&&o!=="monthRange"&&s,R.createElement("div",null,a,g),r==="right"&&o!=="monthRange"&&s):R.createElement(R.Fragment,null,a,g))}}D4.propTypes={currentYear:w.object,currentMonth:w.object,onSelect:w.func,locale:w.object,localeCode:w.string,monthCycled:w.bool,yearCycled:w.bool,noBackBtn:w.bool,disabledDate:w.func,density:w.string,presetPosition:w.oneOf(xt.PRESET_POSITION_SET),renderQuickControls:w.node,renderDateInput:w.node,type:w.oneOf(xt.TYPE_SET),startYear:w.number,endYear:w.number};D4.defaultProps={disabledDate:m2,monthCycled:!1,yearCycled:!1,noBackBtn:!1,onSelect:Te,type:"month"};const fc=Hi.PREFIX;class sQ extends ln{constructor(e){super(e),this.cacheRefCurrent=(o,l)=>{typeof o=="string"&&o.length&&this.adapter.setCache(o,l)},this.leftIsYearOrTime=o=>{const{monthLeft:l}=o||this.state;return!!(l&&(l.isTimePickerOpen||l.isYearPickerOpen))},this.rightIsYearOrTime=o=>{const{monthRight:l}=o||this.state;return!!(l&&(l.isTimePickerOpen||l.isYearPickerOpen))},this.calcScrollListHeight=()=>{const o=this.adapter.getCache(`wrap-${xt.PANEL_TYPE_LEFT}`),l=this.adapter.getCache(`wrap-${xt.PANEL_TYPE_RIGHT}`),u=this.adapter.getCache(`switch-${xt.PANEL_TYPE_LEFT}`),c=this.adapter.getCache(`switch-${xt.PANEL_TYPE_RIGHT}`),d=o&&o.getBoundingClientRect(),h=l&&l.getBoundingClientRect();let p=d&&d.height||0,f=h&&h.height||0;return u&&(p+=u.getBoundingClientRect().height),c&&(f+=c.getBoundingClientRect().height),Math.max(p,f)},this.handleWeeksRowNumChange=(o,l)=>{const u=l===xt.PANEL_TYPE_RIGHT,c=l===xt.PANEL_TYPE_RIGHT,d=this.leftIsYearOrTime()&&this.rightIsYearOrTime();if(this.foundation.isRangeType()&&!d){const h={weeksRowNum:o,currentPanelHeight:this.calcScrollListHeight()};this.setState(h,()=>{(this.leftIsYearOrTime()&&c||this.rightIsYearOrTime()&&u)&&this.reselect()})}},this.reselect=()=>{[`timepicker-${xt.PANEL_TYPE_LEFT}`,`timepicker-${xt.PANEL_TYPE_RIGHT}`,`yam-${xt.PANEL_TYPE_LEFT}`,`yam-${xt.PANEL_TYPE_RIGHT}`].forEach(l=>{const u=this.adapter.getCache(l);u&&typeof u.reselect=="function"&&u.reselect()})},this.getYAMOpenType=()=>this.foundation.getYAMOpenType();const t=e.format||Rv(e.type),{nowDate:n,nextDate:r}=DIe({defaultPickerValue:e.defaultPickerValue,format:t,dateFnsLocale:e.dateFnsLocale}),s={selected:new Set},a={monthLeft:{pickerDate:n,showDate:n,isTimePickerOpen:!1,isYearPickerOpen:!1},monthRight:{pickerDate:r,showDate:r,isTimePickerOpen:!1,isYearPickerOpen:!1},maxWeekNum:0,hoverDay:"",rangeStart:e.rangeStart,rangeEnd:"",currentPanelHeight:0,offsetRangeStart:"",offsetRangeEnd:""};this.state=Object.assign(Object.assign({},s),a),this.foundation=new Mqt(this.adapter)}get dateAdapter(){return{updateDaySelected:e=>this.setState({selected:e})}}get rangeAdapter(){return{setRangeStart:e=>this.setState({rangeStart:e}),setRangeEnd:e=>this.setState({rangeEnd:e}),setHoverDay:e=>this.setState({hoverDay:e}),setWeeksHeight:e=>this.setState({maxWeekNum:e}),setOffsetRangeStart:e=>this.setState({offsetRangeStart:e}),setOffsetRangeEnd:e=>this.setState({offsetRangeEnd:e})}}get adapter(){return Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),this.dateAdapter),this.rangeAdapter),{updateMonthOnLeft:e=>this.setState({monthLeft:e}),updateMonthOnRight:e=>this.setState({monthRight:e}),notifySelectedChange:(e,t)=>this.props.onChange(e,t),notifyMaxLimit:e=>this.props.onMaxSelect(e),notifyPanelChange:(e,t)=>this.props.onPanelChange(e,t),setRangeInputFocus:e=>this.props.setRangeInputFocus(e),isAnotherPanelHasOpened:e=>this.props.isAnotherPanelHasOpened(e)})}componentDidMount(){super.componentDidMount()}componentDidUpdate(e,t){const{defaultValue:n,defaultPickerValue:r}=this.props;if(e.defaultValue!==n&&this.foundation.updateSelectedFromProps(n),e.defaultPickerValue!==r&&this.foundation.initDefaultPickerValue(),this.foundation.isRangeType()){const a=this.leftIsYearOrTime(t)&&this.rightIsYearOrTime(t),o=this.leftIsYearOrTime(t)&&!this.rightIsYearOrTime(t)||!this.leftIsYearOrTime(t)&&this.rightIsYearOrTime(t),l=this.leftIsYearOrTime()&&this.rightIsYearOrTime(),u=this.leftIsYearOrTime()&&!this.rightIsYearOrTime()||!this.leftIsYearOrTime()&&this.rightIsYearOrTime();o&&l?this.setState({currentPanelHeight:this.calcScrollListHeight()},this.reselect):a&&u&&this.reselect()}}renderPanel(e,t){let n=he(`${fc}-month-grid-${t}`);const{monthLeft:r,monthRight:s,currentPanelHeight:a}=this.state,{insetInput:o}=this.props,l=t===xt.PANEL_TYPE_RIGHT?s:r,{isTimePickerOpen:u,isYearPickerOpen:c}=l,d=this.renderMonth(e,t),h=c?R.createElement("div",{className:`${fc}-yam`},this.renderYearAndMonth(t,l)):null,p=u?R.createElement("div",{className:`${fc}-tpk`},this.renderTimePicker(t,l)):null,f={},g=this.adapter.getCache(`wrap-${xt.PANEL_TYPE_LEFT}`),v=this.adapter.getCache(`wrap-${xt.PANEL_TYPE_RIGHT}`),m=t===xt.PANEL_TYPE_RIGHT?v:g;this.foundation.isRangeType()?((c||u)&&(f.minWidth=m.getBoundingClientRect().width),this.leftIsYearOrTime()&&this.rightIsYearOrTime()&&!o&&(f.minHeight=a||this.calcScrollListHeight())):this.props.type!=="year"&&this.props.type!=="month"&&(u||c)&&(n=he(n,`${fc}-yam-showing`));const _=!(c||u)?"date":c?"year":"time";return R.createElement("div",{className:n,key:t,style:f,"x-open-type":_},h,p,this.foundation.isRangeType()?d:c||u?null:d,this.renderSwitch(t))}showYearPicker(e,t){t.nativeEvent.stopImmediatePropagation(),this.foundation.showYearPicker(e)}renderMonth(e,t){const{selected:n,rangeStart:r,rangeEnd:s,hoverDay:a,maxWeekNum:o,offsetRangeStart:l,offsetRangeEnd:u}=this.state,{weekStartsOn:c,disabledDate:d,locale:h,localeCode:p,renderDate:f,renderFullDate:g,startDateOffset:v,endDateOffset:m,density:b,rangeInputFocus:_,syncSwitchMonth:S,multiple:C}=this.props;let k="";if(e){const M=e?lr(e,"yyyy"):"",D=e?lr(e,"L"):"",L=h.months[D];k=h.monthText.replace("${year}",M).replace("${month}",L)}let E={};const A=t===xt.PANEL_TYPE_RIGHT?this.state.monthRight:this.state.monthLeft,P=this.foundation.isRangeType(),O=P&&S;return P&&A&&(A.isYearPickerOpen||A.isTimePickerOpen)&&(E={visibility:"hidden",position:"absolute",pointerEvents:"none"}),R.createElement("div",{ref:M=>this.cacheRefCurrent(`wrap-${t}`,M),style:E},R.createElement(iQ,{forwardRef:M=>this.cacheRefCurrent(`nav-${t}`,M),monthText:k,density:b,onMonthClick:M=>this.showYearPicker(t,M),onPrevMonth:()=>this.foundation.prevMonth(t),onNextMonth:()=>this.foundation.nextMonth(t),onNextYear:()=>this.foundation.nextYear(t),onPrevYear:()=>this.foundation.prevYear(t),shouldBimonthSwitch:O,panelType:t}),R.createElement(nQ,{locale:h,localeCode:p,forwardRef:M=>this.cacheRefCurrent(`month-${t}`,M),disabledDate:d,weekStartsOn:c,month:e,selected:n,rangeStart:r,rangeEnd:s,rangeInputFocus:_,offsetRangeStart:l,offsetRangeEnd:u,hoverDay:a,weeksRowNum:o,renderDate:f,renderFullDate:g,onDayClick:M=>this.foundation.handleDayClick(M,t),onDayHover:M=>this.foundation.handleDayHover(M,t),onWeeksRowNumChange:M=>this.handleWeeksRowNumChange(M,t),startDateOffset:v,endDateOffset:m,focusRecordsRef:this.props.focusRecordsRef,multiple:C}))}renderTimePicker(e,t){const{type:n,locale:r,format:s,hideDisabledOptions:a,timePickerOpts:o,dateFnsLocale:l}=this.props,{pickerDate:u}=t,c=he(`${fc}-time`),d=Object.assign(Object.assign({},o),{hideDisabledOptions:a}),h=this.foundation.calcDisabledTime(e);h&&["disabledHours","disabledMinutes","disabledSeconds"].forEach(_=>{h[_]&&(d[_]=h[_])});const{rangeStart:p,rangeEnd:f}=this.state,g=this.foundation.getValidDateFormat();let v,m;n==="dateTimeRange"&&p&&f&&CZ(v=js(p,g,void 0,l),m=js(f,g,void 0,l))&&(e===xt.PANEL_TYPE_RIGHT?p&&(d.startDate=v):f&&(d.endDate=m));const b=r.selectTime;return R.createElement("div",{className:c},R.createElement(w2,Object.assign({ref:_=>this.cacheRefCurrent(`timepicker-${e}`,_),panelHeader:b,format:s||xt.FORMAT_TIME_PICKER,timeStampValue:u,onChange:_=>this.foundation.handleTimeChange(_,e)},d)))}renderYearAndMonth(e,t){const{pickerDate:n}=t,{locale:r,localeCode:s,density:a,yearAndMonthOpts:o,startYear:l,endYear:u}=this.props,c=n.getFullYear(),d=n.getMonth()+1;return R.createElement(D4,{ref:h=>this.cacheRefCurrent(`yam-${e}`,h),locale:r,localeCode:s,currentYear:{left:c,right:0},currentMonth:{left:d,right:0},onSelect:h=>this.foundation.toYearMonth(e,new Date(h.currentYear.left,h.currentMonth.left-1)),onBackToMain:()=>{this.foundation.showDatePanel(e);const h=this.adapter.getCache(`wrap-${e}`);h&&(h.style.height="auto")},density:a,yearAndMonthOpts:o,startYear:l,endYear:u})}renderSwitch(e){const{rangeStart:t,rangeEnd:n,monthLeft:r,monthRight:s}=this.state,{type:a,locale:o,disabledTimePicker:l,density:u,dateFnsLocale:c,insetInput:d}=this.props;if(!a.includes("Time")||d)return null;let h,p;const{FORMAT_SWITCH_DATE:f}=o.localeFormatToken,g=this.foundation.getValidTimeFormat(),v=this.foundation.getValidDateFormat();e===xt.PANEL_TYPE_LEFT?(h=r,p=t?lr(js(t,v,void 0,c),f):""):(h=s,p=n?lr(js(n,v,void 0,c),f):"");const{isTimePickerOpen:m,showDate:b}=h,_=b?lr(b,f):"",S=b?lr(b,g):"",C=["default"].includes(u),k=he(`${fc}-switch`),E=he({[`${fc}-switch-date`]:!0,[`${fc}-switch-date-active`]:!m}),A=he({[`${fc}-switch-time`]:!0,[`${fc}-switch-time-disabled`]:l,[`${fc}-switch-date-active`]:m}),P=he(`${fc}-switch-text`);return R.createElement("div",{className:k,ref:O=>this.adapter.setCache(`switch-${e}`,O)},R.createElement("div",{role:"button","aria-label":"Switch to date panel",className:E,onClick:O=>this.foundation.showDatePanel(e)},C&&R.createElement(iMe,{"aria-hidden":!0}),R.createElement("span",{className:P},p||_)),R.createElement("div",{role:"button","aria-label":"Switch to time panel",className:A,onClick:O=>this.foundation.showTimePicker(e,!0)},C&&R.createElement(sMe,{"aria-hidden":!0}),R.createElement("span",{className:P},S)))}render(){const{monthLeft:e,monthRight:t}=this.state,{type:n,insetInput:r,presetPosition:s,renderQuickControls:a,renderDateInput:o}=this.props,l=he({[`${fc}-month-grid`]:!0}),u=xt.PANEL_TYPE_LEFT,c=xt.PANEL_TYPE_RIGHT;let d=null;n==="date"||n==="dateTime"?d=this.renderPanel(e.pickerDate,u):n==="dateRange"||n==="dateTimeRange"?d=[this.renderPanel(e.pickerDate,u),this.renderPanel(t.pickerDate,c)]:(n==="year"||n==="month")&&(d="year month");const h=this.getYAMOpenType();return R.createElement("div",{style:{display:"flex"}},s==="left"&&a,R.createElement("div",null,o,R.createElement("div",{className:l,"x-type":n,"x-panel-yearandmonth-open-type":h,"x-insetinput":r?"true":"false","x-preset-position":a===null?"null":s,ref:p=>this.cacheRefCurrent("monthGrid",p)},d)),s==="right"&&a)}}sQ.propTypes={type:w.oneOf(xt.TYPE_SET),defaultValue:w.array,defaultPickerValue:w.oneOfType([w.string,w.number,w.object,w.array]),multiple:w.bool,max:w.number,weekStartsOn:w.number,disabledDate:w.func,disabledTime:w.func,disabledTimePicker:w.bool,hideDisabledOptions:w.bool,navPrev:w.node,navNext:w.node,onMaxSelect:w.func,timePickerOpts:w.object,isControlledComponent:w.bool,rangeStart:w.oneOfType([w.string]),rangeInputFocus:w.oneOfType([w.bool,w.string]),locale:w.object,localeCode:w.string,format:w.string,renderDate:w.func,renderFullDate:w.func,startDateOffset:w.func,endDateOffset:w.func,autoSwitchDate:w.bool,density:w.string,dateFnsLocale:w.object.isRequired,timeZone:w.oneOfType([w.string,w.number]),syncSwitchMonth:w.bool,onPanelChange:w.func,focusRecordsRef:w.object,triggerRender:w.func,presetPosition:w.oneOf(xt.PRESET_POSITION_SET),renderQuickControls:w.node,renderDateInput:w.node};sQ.defaultProps={type:"date",rangeStart:"",multiple:!1,weekStartsOn:gw.WEEK_START_ON,disabledDate:m2,onMaxSelect:Te,locale:{}};const Pu=Hi.PREFIX,{Text:yQt}=dC;class aQ extends ee.PureComponent{render(){const{presets:e,onPresetClick:t,type:n,presetPosition:r,insetInput:s,locale:a}=this.props,o=n==="dateRange"||n==="dateTimeRange",l=r==="top"||r==="bottom",u=n==="month",c=l&&o,d=l&&u,h=he(`${Pu}-quick-control`,{[`${Pu}-quick-control-${n}`]:n,[`${Pu}-quick-control-${r}`]:!0}),p=he({[`${Pu}-quick-control-header`]:!0}),f=he({[`${Pu}-quick-control-${r}-content-wrapper`]:!0}),g=he({[`${Pu}-quick-control-${r}-content`]:!c&&!d,[`${Pu}-quick-control-${r}-range-content`]:c,[`${Pu}-quick-control-${r}-month-content`]:d}),v=he({[`${Pu}-quick-control-${r}-content-item`]:!c&&!d,[`${Pu}-quick-control-${r}-range-content-item`]:c,[`${Pu}-quick-control-${r}-month-content-item`]:d}),m=he({[`${Pu}-quick-control-${r}-content-item-ellipsis`]:!c&&!d,[`${Pu}-quick-control-${r}-range-content-item-ellipsis`]:c,[`${Pu}-quick-control-${r}-month-content-item-ellipsis`]:d});return e.length?R.createElement("div",{className:h,"x-insetinput":s?"true":"false"},!l&&R.createElement("div",{className:p},a.presets),R.createElement("div",{className:f},R.createElement("div",{className:g},e.map((b,_)=>{const S=typeof b=="function"?b():b;return R.createElement(Jd,{size:"small",type:"primary",onClick:C=>t(S,C),key:_},R.createElement("div",{className:v},R.createElement(yQt,{ellipsis:{showTooltip:!0},className:m},S.text)))})))):null}}aQ.propTypes={presets:w.array,presetPosition:w.oneOf(xt.PRESET_POSITION_SET),onPresetClick:w.func,type:w.string,insetInput:w.oneOfType([w.bool,w.object]),locale:w.object};aQ.defaultProps={presets:[],presetPosition:"bottom",onPresetClick:Nr};function _Qt(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{prefixCls:e,locale:t,onCancelClick:n,onConfirmClick:r}=i,s=he(`${e}-footer`);return R.createElement("div",{className:s},R.createElement(Jd,{theme:"borderless",onClick:n},wt(t,"footer.cancel","")),R.createElement(Jd,{theme:"solid",onClick:r},wt(t,"footer.confirm","")))}var bQt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};let sb=class extends ln{constructor(e){var t;super(e),t=this,this.setTriggerRef=n=>this.triggerElRef.current=n,this.handleSelectedChange=(n,r)=>this.foundation.handleSelectedChange(n,r),this.handleYMSelectedChange=n=>this.foundation.handleYMSelectedChange(n),this.disabledDisposeDate=function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return t.foundation.disabledDisposeDate(n,...s)},this.disabledDisposeTime=function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return t.foundation.disabledDisposeTime(n,...s)},this.handleOpenPanel=()=>this.foundation.openPanel(),this.handleInputChange=function(){return t.foundation.handleInputChange(...arguments)},this.handleInsetInputChange=n=>this.foundation.handleInsetInputChange(n),this.handleInputComplete=n=>this.foundation.handleInputComplete(n),this.handleInputBlur=n=>this.foundation.handleInputBlur(wt(n,"nativeEvent.target.value"),n),this.handleInputFocus=function(){return t.foundation.handleInputFocus(...arguments)},this.handleInputClear=n=>this.foundation.handleInputClear(n),this.handleTriggerWrapperClick=n=>this.foundation.handleTriggerWrapperClick(n),this.handleSetRangeFocus=n=>this.foundation.handleSetRangeFocus(n),this.handleRangeInputBlur=(n,r)=>this.foundation.handleRangeInputBlur(n,r),this.handleRangeInputClear=n=>this.foundation.handleRangeInputClear(n),this.handleRangeEndTabPress=n=>this.foundation.handleRangeEndTabPress(n),this.isAnotherPanelHasOpened=n=>n==="rangeStart"?this.focusRecordsRef.current.rangeEnd:this.focusRecordsRef.current.rangeStart,this.handleInsetDateFocus=(n,r)=>{const s=wt(this,"monthGrid.current.foundation");s&&(s.showDatePanel(xt.PANEL_TYPE_LEFT),s.showDatePanel(xt.PANEL_TYPE_RIGHT)),this.handleInputFocus(n,r)},this.handleInsetTimeFocus=()=>{const n=wt(this,"monthGrid.current.foundation");n&&(n.showTimePicker(xt.PANEL_TYPE_LEFT),n.showTimePicker(xt.PANEL_TYPE_RIGHT))},this.handlePanelVisibleChange=n=>{this.foundation.handlePanelVisibleChange(n)},this.handleConfirm=n=>this.foundation.handleConfirm(),this.handleCancel=n=>this.foundation.handleCancel(),this.renderFooter=(n,r)=>this.adapter.needConfirm()?R.createElement(_Qt,Object.assign({},this.props,{locale:n,localeCode:r,onConfirmClick:this.handleConfirm,onCancelClick:this.handleCancel})):null,this.renderPanel=(n,r,s)=>{const{dropdownClassName:a,dropdownStyle:o,density:l,topSlot:u,bottomSlot:c,presetPosition:d,type:h}=this.props,p=he(Hi.PREFIX,{[Hi.PANEL_YAM]:this.adapter.typeIsYearOrMonth(),[`${Hi.PREFIX}-compact`]:l==="compact"},a);return R.createElement("div",{ref:this.panelRef,className:p,style:o,"x-type":h},u&&R.createElement("div",{className:`${Hi.PREFIX}-topSlot`,"x-semi-prop":"topSlot"},u),d==="top"&&h!=="monthRange"&&this.renderQuickControls(),this.adapter.typeIsYearOrMonth()?this.renderYearMonthPanel(n,r):this.renderMonthGrid(n,r,s),d==="bottom"&&h!=="monthRange"&&this.renderQuickControls(),c&&R.createElement("div",{className:`${Hi.PREFIX}-bottomSlot`,"x-semi-prop":"bottomSlot"},c),this.renderFooter(n,r))},this.renderYearMonthPanel=(n,r)=>{const{density:s,presetPosition:a,yearAndMonthOpts:o,type:l,startYear:u,endYear:c}=this.props,d=this.state.value[0],h={left:0,right:0},p={left:0,right:0};if(lge(d)&&(h.left=d.getFullYear(),p.left=d.getMonth()+1),l==="monthRange"){const f=this.state.value[1];lge(f)&&(h.right=f.getFullYear(),p.right=f.getMonth()+1)}return R.createElement(D4,{locale:n,localeCode:r,disabledDate:this.disabledDisposeDate,noBackBtn:!0,monthCycled:!0,onSelect:this.handleYMSelectedChange,currentYear:h,currentMonth:p,density:s,presetPosition:a,renderQuickControls:this.renderQuickControls(),renderDateInput:this.renderDateInput(),type:l,yearAndMonthOpts:o,startYear:u,endYear:c})},this.wrapPopover=n=>{const{panelShow:r}=this.state,{direction:s}=this.context,a=s==="rtl"?"bottomRight":"bottomLeft",{motion:o,zIndex:l,position:u=a,getPopupContainer:c,locale:d,localeCode:h,dateFnsLocale:p,stopPropagation:f,autoAdjustOverflow:g,spacing:v,dropdownMargin:m}=this.props;return R.createElement(qo,{getPopupContainer:c,autoAdjustOverflow:g,zIndex:l,motion:o,margin:m,content:this.renderPanel(d,h,p),trigger:"custom",position:u,visible:r,stopPropagation:f,spacing:v,onVisibleChange:this.handlePanelVisibleChange},n)},this.state={panelShow:e.open||e.defaultOpen,isRange:!1,inputValue:null,value:[],cachedSelectedValue:[],prevTimeZone:null,rangeInputFocus:void 0,autofocus:e.autoFocus||this.isRangeType(e.type,e.triggerRender)&&(e.open||e.defaultOpen),insetInputValue:null,triggerDisabled:void 0},this.triggerElRef=R.createRef(),this.panelRef=R.createRef(),this.monthGrid=R.createRef(),this.inputRef=R.createRef(),this.rangeInputStartRef=R.createRef(),this.rangeInputEndRef=R.createRef(),this.focusRecordsRef=R.createRef(),this.focusRecordsRef.current={rangeStart:!1,rangeEnd:!1},this.foundation=new WXt(this.adapter)}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{togglePanel:(t,n)=>{this.setState({panelShow:t},n),t||(this.focusRecordsRef.current.rangeEnd=!1,this.focusRecordsRef.current.rangeStart=!1)},registerClickOutSide:()=>{this.clickOutSideHandler&&(this.adapter.unregisterClickOutSide(),this.clickOutSideHandler=null),this.clickOutSideHandler=t=>{const n=this.triggerElRef&&this.triggerElRef.current,r=this.panelRef&&this.panelRef.current,s=t.target,a=t.composedPath&&t.composedPath()||[s];!(n&&n.contains(s))&&!(r&&r.contains(s))&&!(a.includes(n)||a.includes(r))&&(this.props.onClickOutSide(),this.adapter.needConfirm()||this.foundation.closePanel(t))},document.addEventListener("mousedown",this.clickOutSideHandler)},unregisterClickOutSide:()=>{document.removeEventListener("mousedown",this.clickOutSideHandler)},notifyBlur:function(){return e.props.onBlur(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyClear:function(){return e.props.onClear(...arguments)},notifyChange:function(){return e.props.onChange(...arguments)},notifyCancel:function(){return e.props.onCancel(...arguments)},notifyConfirm:function(){return e.props.onConfirm(...arguments)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},notifyPresetsClick:function(){return e.props.onPresetClick(...arguments)},updateValue:t=>this.setState({value:t}),updatePrevTimezone:t=>this.setState({prevTimeZone:t}),updateCachedSelectedValue:t=>{let n=t;t&&!Array.isArray(t)&&(n=[...t]),this.setState({cachedSelectedValue:n})},updateInputValue:t=>{this.setState({inputValue:t})},updateInsetInputValue:t=>{const{insetInput:n}=this.props;n&&!Fn(t,this.state.insetInputValue)&&this.setState({insetInputValue:t})},needConfirm:()=>["dateTime","dateTimeRange"].includes(this.props.type)&&this.props.needConfirm===!0,typeIsYearOrMonth:()=>["month","year","monthRange"].includes(this.props.type),setRangeInputFocus:t=>{const{preventScroll:n}=this.props;switch(t!==this.state.rangeInputFocus&&this.setState({rangeInputFocus:t}),t){case"rangeStart":const r=wt(this,"rangeInputStartRef.current");r&&r.focus({preventScroll:n}),setTimeout(()=>{this.focusRecordsRef.current.rangeStart=!0},0);break;case"rangeEnd":const s=wt(this,"rangeInputEndRef.current");s&&s.focus({preventScroll:n}),setTimeout(()=>{this.focusRecordsRef.current.rangeEnd=!0},0);break;default:return}},couldPanelClosed:()=>this.focusRecordsRef.current.rangeStart&&this.focusRecordsRef.current.rangeEnd,isEventTarget:t=>t&&t.target===t.currentTarget,setInsetInputFocus:()=>{const{preventScroll:t}=this.props,{rangeInputFocus:n}=this.state;switch(n){case"rangeEnd":if(document.activeElement!==this.rangeInputEndRef.current){const r=wt(this,"rangeInputEndRef.current");r&&r.focus({preventScroll:t})}break;case"rangeStart":default:if(document.activeElement!==this.rangeInputStartRef.current){const r=wt(this,"rangeInputStartRef.current");r&&r.focus({preventScroll:t})}break}},setInputFocus:()=>{const{preventScroll:t}=this.props,n=wt(this,"inputRef.current");n&&n.focus({preventScroll:t})},setInputBlur:()=>{const t=wt(this,"inputRef.current");t&&t.blur()},setRangeInputBlur:()=>{const{rangeInputFocus:t}=this.state;if(t==="rangeStart"){const n=wt(this,"rangeInputStartRef.current");n&&n.blur()}else if(t==="rangeEnd"){const n=wt(this,"rangeInputEndRef.current");n&&n.blur()}this.adapter.setRangeInputFocus(!1)},setTriggerDisabled:t=>{this.setState({triggerDisabled:t})}})}isRangeType(e,t){return/range/i.test(e)&&!sn(t)}componentDidUpdate(e){Fn(e.value,this.props.value)?this.props.timeZone!==e.timeZone&&this.foundation.initFromProps({value:this.state.value,timeZone:this.props.timeZone,prevTimeZone:e.timeZone}):this.foundation.initFromProps(Object.assign({},this.props)),e.open!==this.props.open&&(this.foundation.initPanelOpenStatus(),this.props.open||this.foundation.clearRangeInputFocus())}componentDidMount(){this._mounted=!0,super.componentDidMount()}componentWillUnmount(){this._mounted=!1,super.componentWillUnmount()}open(){this.foundation.open()}close(){this.foundation.close()}focus(e){this.foundation.focus(e)}blur(){this.foundation.blur()}renderMonthGrid(e,t,n){const{type:r,multiple:s,max:a,weekStartsOn:o,timePickerOpts:l,defaultPickerValue:u,format:c,hideDisabledOptions:d,disabledTimePicker:h,renderDate:p,renderFullDate:f,startDateOffset:g,endDateOffset:v,autoSwitchDate:m,density:b,syncSwitchMonth:_,onPanelChange:S,timeZone:C,triggerRender:k,insetInput:E,presetPosition:A,yearAndMonthOpts:P,startYear:O,endYear:M}=this.props,{cachedSelectedValue:D,rangeInputFocus:L}=this.state,H=D;return R.createElement(sQ,{ref:this.monthGrid,locale:e,localeCode:t,dateFnsLocale:n,weekStartsOn:o,type:r,multiple:s,max:a,format:c,disabledDate:this.disabledDisposeDate,hideDisabledOptions:d,disabledTimePicker:h,disabledTime:this.disabledDisposeTime,defaultValue:H,defaultPickerValue:u,timePickerOpts:l,isControlledComponent:!this.adapter.needConfirm()&&this.isControlled("value"),onChange:this.handleSelectedChange,renderDate:p,renderFullDate:f,startDateOffset:g,endDateOffset:v,autoSwitchDate:m,density:b,rangeInputFocus:L,setRangeInputFocus:this.handleSetRangeFocus,isAnotherPanelHasOpened:this.isAnotherPanelHasOpened,syncSwitchMonth:_,onPanelChange:S,timeZone:C,focusRecordsRef:this.focusRecordsRef,triggerRender:k,insetInput:E,presetPosition:A,renderQuickControls:this.renderQuickControls(),renderDateInput:this.renderDateInput(),yearAndMonthOpts:P,startYear:O,endYear:M})}renderQuickControls(){const{presets:e,type:t,presetPosition:n,insetInput:r,locale:s}=this.props;return R.createElement(aQ,{type:t,presets:e,insetInput:r,presetPosition:n,onPresetClick:(a,o)=>this.foundation.handlePresetClick(a,o),locale:s})}renderDateInput(){const{insetInput:e,dateFnsLocale:t,density:n,type:r,format:s,rangeSeparator:a,defaultPickerValue:o}=this.props,{insetInputValue:l,value:u}=this.state,c={dateFnsLocale:t,format:s,insetInputValue:l,rangeSeparator:a,type:r,value:u,handleInsetDateFocus:this.handleInsetDateFocus,handleInsetTimeFocus:this.handleInsetTimeFocus,onInsetInputChange:this.handleInsetInputChange,rangeInputStartRef:this.rangeInputStartRef,rangeInputEndRef:this.rangeInputEndRef,density:n,defaultPickerValue:o};return e?R.createElement(f6,Object.assign({},c,{insetInput:e})):null}renderInner(e){const{clearIcon:t,type:n,format:r,multiple:s,disabled:a,showClear:o,insetLabel:l,insetLabelId:u,placeholder:c,validateStatus:d,inputStyle:h,prefix:p,locale:f,dateFnsLocale:g,triggerRender:v,size:m,inputReadOnly:b,rangeSeparator:_,insetInput:S,defaultPickerValue:C,borderless:k}=this.props,{value:E,inputValue:A,rangeInputFocus:P,triggerDisabled:O}=this.state,M=this.isRangeType(n,v),D=a||S&&O,L=he(`${Hi.PREFIX}-input`,{[`${Hi.PREFIX}-range-input`]:M,[`${Hi.PREFIX}-range-input-${m}`]:M&&m,[`${Hi.PREFIX}-range-input-active`]:M&&P&&!D,[`${Hi.PREFIX}-range-input-disabled`]:M&&D,[`${Hi.PREFIX}-range-input-${d}`]:M&&d,[`${Hi.PREFIX}-borderless`]:k}),H=c||f.placeholder[n],B=Object.assign(Object.assign({},e),{showClearIgnoreDisabled:!!S,placeholder:H,clearIcon:t,disabled:D,inputValue:A,value:E,defaultPickerValue:C,onChange:this.handleInputChange,onEnterPress:this.handleInputComplete,block:!0,inputStyle:h,showClear:o,insetLabel:l,insetLabelId:u,type:n,format:r,multiple:s,validateStatus:d,inputReadOnly:b||!!S,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onClear:this.handleInputClear,prefix:p,size:m,autofocus:this.state.autofocus,dateFnsLocale:g,rangeInputFocus:P,rangeSeparator:_,onRangeBlur:this.handleRangeInputBlur,onRangeClear:this.handleRangeInputClear,onRangeEndTabPress:this.handleRangeEndTabPress,rangeInputStartRef:S?null:this.rangeInputStartRef,rangeInputEndRef:S?null:this.rangeInputEndRef,inputRef:this.inputRef});return R.createElement("div",{role:"combobox","aria-label":Array.isArray(E)&&E.length?"Change date":"Choose date","aria-disabled":a,onClick:this.handleTriggerWrapperClick,className:L},typeof v=="function"?R.createElement(Ab,Object.assign({},B,{triggerRender:v,componentName:"DatePicker",componentProps:Object.assign({},this.props)})):R.createElement(f6,Object.assign({},B)))}render(){const e=this.props,{style:t,className:n,prefixCls:r,type:s}=e,a=bQt(e,["style","className","prefixCls","type"]),o=Object.assign({style:t,className:he(n,{[r]:!0}),ref:this.setTriggerRef,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(a)),l=[];s.toLowerCase().includes("range")||l.push("borderless");const u=this.renderInner(BP(this.props,l)),c=this.wrapPopover(u);return R.createElement("div",Object.assign({},o),c)}};sb.contextType=ic;sb.propTypes={"aria-describedby":w.string,"aria-errormessage":w.string,"aria-invalid":w.bool,"aria-labelledby":w.string,"aria-required":w.bool,borderless:w.bool,type:w.oneOf(xt.TYPE_SET),size:w.oneOf(xt.SIZE_SET),clearIcon:w.node,density:w.oneOf(xt.DENSITY_SET),defaultValue:w.oneOfType([w.string,w.number,w.object,w.array]),value:w.oneOfType([w.string,w.number,w.object,w.array]),defaultPickerValue:w.oneOfType([w.string,w.number,w.object,w.array]),disabledTime:w.func,disabledTimePicker:w.bool,hideDisabledOptions:w.bool,format:w.string,disabled:w.bool,multiple:w.bool,max:w.number,placeholder:w.oneOfType([w.string,w.array]),presets:w.array,presetPosition:w.oneOf(xt.PRESET_POSITION_SET),onChange:w.func,onChangeWithDateFirst:w.bool,weekStartsOn:w.number,disabledDate:w.func,timePickerOpts:w.object,showClear:w.bool,onOpenChange:w.func,open:w.bool,defaultOpen:w.bool,motion:w.oneOfType([w.bool,w.func,w.object]),className:w.string,prefixCls:w.string,prefix:w.node,insetLabel:w.node,insetLabelId:w.string,zIndex:w.number,position:w.oneOf(C_.POSITION_SET),getPopupContainer:w.func,onCancel:w.func,onConfirm:w.func,needConfirm:w.bool,inputStyle:w.object,timeZone:w.oneOfType([w.string,w.number]),triggerRender:w.func,stopPropagation:w.oneOfType([w.bool,w.string]),autoAdjustOverflow:w.bool,onBlur:w.func,onFocus:w.func,onClear:w.func,style:w.object,autoFocus:w.bool,inputReadOnly:w.bool,validateStatus:w.oneOf(xt.STATUS),renderDate:w.func,renderFullDate:w.func,spacing:w.oneOfType([w.number,w.object]),startDateOffset:w.func,endDateOffset:w.func,autoSwitchDate:w.bool,dropdownClassName:w.string,dropdownStyle:w.object,dropdownMargin:w.oneOfType([w.number,w.object]),topSlot:w.node,bottomSlot:w.node,dateFnsLocale:w.object,syncSwitchMonth:w.bool,onPanelChange:w.func,rangeSeparator:w.string,preventScroll:w.bool,yearAndMonthOpts:w.object,onClickOutSide:w.func};sb.__SemiComponentName__="DatePicker";sb.defaultProps=oh(sb.__SemiComponentName__,{onChangeWithDateFirst:!0,borderless:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,prefixCls:Hi.PREFIX,presetPosition:"bottom",zIndex:Uc.DEFAULT_Z_INDEX,type:"date",size:"default",density:"default",multiple:!1,defaultOpen:!1,disabledHours:Te,disabledMinutes:Te,disabledSeconds:Te,hideDisabledOptions:!1,onBlur:Te,onFocus:Te,onClear:Te,onCancel:Te,onConfirm:Te,onChange:Te,onOpenChange:Te,onPanelChange:Te,onPresetClick:Te,weekStartsOn:gw.WEEK_START_ON,disabledDate:m2,disabledTime:m2,inputReadOnly:!1,spacing:gw.SPACING,autoSwitchDate:!0,syncSwitchMonth:!1,rangeSeparator:xt.DEFAULT_SEPARATOR_RANGE,insetInput:!1,onClickOutSide:Te});const SQt=vIe(R.forwardRef((i,e)=>{const t=Object.assign({},i),{type:n,format:r,rangeSeparator:s}=t;return typeof r=="string"&&r&&(/[Hhms]+/.test(r)||(n==="dateTime"?t.type="date":n==="dateTimeRange"&&(t.type="dateRange"))),s&&typeof s=="string"&&(t.rangeSeparator=` ${s.trim()} `),t.insetInput&&(t.position||(t.position=xt.POSITION_INLINE_INPUT),t.position.includes("Over")&&!t.spacing&&(t.spacing=gw.SPACING_INSET_INPUT)),R.createElement(ic.Consumer,null,a=>{let{timeZone:o}=a;return R.createElement(La,{componentName:"DatePicker"},(l,u,c)=>R.createElement(sb,Object.assign({timeZone:o,localeCode:u,locale:l,dateFnsLocale:c},t,{ref:e})))})}),sb);function xQt(i){return i!==null&&typeof i=="object"}function oQ(i){return xQt(i)&&typeof i.then=="function"}const qIe={PREFIX:`${Ze}`};var wQt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const wge=["xxl","xl","lg","md","sm","xs"],ZIe=R.createContext(null),Cge={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};class L4 extends R.Component{constructor(){super(...arguments),this.state={screens:{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}},this.unRegisters=[]}componentDidMount(){this.unRegisters=Object.keys(Cge).map(e=>h7t(Cge[e],{match:()=>{typeof this.props.gutter=="object"&&this.setState(t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!0})}))},unmatch:()=>{typeof this.props.gutter=="object"&&this.setState(t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!1})}))}}))}componentWillUnmount(){this.unRegisters.forEach(e=>e())}getGutter(){const{gutter:e=0}=this.props,t=[0,0];return(Array.isArray(e)?e.slice(0,2):[e,0]).forEach((r,s)=>{if(typeof r=="object")for(let a=0;a<wge.length;a++){const o=wge[a];if(this.state.screens[o]&&r[o]!==void 0){t[s]=r[o];break}}else t[s]=r||0}),t}render(){const e=this.props,{prefixCls:t,type:n,justify:r,align:s,className:a,style:o,children:l}=e,u=wQt(e,["prefixCls","type","justify","align","className","style","children"]),c=this.getGutter(),d=`${t}-row`,h=he({[d]:n!=="flex",[`${d}-${n}`]:n,[`${d}-${n}-${r}`]:n&&r,[`${d}-${n}-${s}`]:n&&s},a),p=Object.assign(Object.assign(Object.assign({},c[0]>0?{marginLeft:c[0]/-2,marginRight:c[0]/-2}:{}),c[1]>0?{marginTop:c[1]/-2,marginBottom:c[1]/-2}:{}),o),f=Object.assign({},u);return delete f.gutter,R.createElement(ZIe.Provider,{value:{gutters:c}},R.createElement("div",Object.assign({},f,{className:h,style:p,"x-semi-prop":"children"}),l))}}L4.propTypes={type:w.oneOf(["flex"]),align:w.oneOf(["top","middle","bottom"]),justify:w.oneOf(["start","end","center","space-around","space-between"]),className:w.string,style:w.object,children:w.node,gutter:w.oneOfType([w.object,w.number,w.array]),prefixCls:w.string};L4.defaultProps={prefixCls:qIe.PREFIX};L4.RowContext={gutters:w.any};var CQt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const N1=w.oneOfType([w.object,w.number]);class ju extends R.Component{render(){const{props:e}=this,{prefixCls:t,span:n,order:r,offset:s,push:a,pull:o,className:l,children:u}=e,c=CQt(e,["prefixCls","span","order","offset","push","pull","className","children"]);let d={};const h=`${t}-col`;["xs","sm","md","lg","xl","xxl"].forEach(v=>{let m={};typeof e[v]=="number"?m.span=e[v]:typeof e[v]=="object"&&(m=e[v]||{}),delete c[v],d=Object.assign(Object.assign({},d),{[`${h}-${v}-${m.span}`]:m.span!==void 0,[`${h}-${v}-order-${m.order}`]:m.order||m.order===0,[`${h}-${v}-offset-${m.offset}`]:m.offset||m.offset===0,[`${h}-${v}-push-${m.push}`]:m.push||m.push===0,[`${h}-${v}-pull-${m.pull}`]:m.pull||m.pull===0})});const p=he(h,{[`${h}-${n}`]:n!==void 0,[`${h}-order-${r}`]:r,[`${h}-offset-${s}`]:s,[`${h}-push-${a}`]:a,[`${h}-pull-${o}`]:o},l,d);let{style:f}=c,g;try{g=this.context.gutters}catch{throw new Error("please make sure <Col> inside <Row>")}return f=Object.assign(Object.assign(Object.assign({},g[0]>0?{paddingLeft:g[0]/2,paddingRight:g[0]/2}:{}),g[1]>0?{paddingTop:g[1]/2,paddingBottom:g[1]/2}:{}),f),R.createElement("div",Object.assign({},c,{style:f,className:p,"x-semi-prop":"children"}),u)}}ju.contextType=ZIe;ju.propTypes={span:w.number,order:w.number,offset:w.number,push:w.number,pull:w.number,className:w.string,children:w.node,xs:N1,sm:N1,md:N1,lg:N1,xl:N1,xxl:N1,prefixCls:w.string};ju.defaultProps={prefixCls:qIe.PREFIX};const sm={PREFIX:`${Ze}-form`},cE={LAYOUT:["horizontal","vertical"],LABEL_POS:["left","top","inset"],LABEL_ALIGN:["left","right"],EXTRA_POS:["middle","bottom"],DEFAULT_TRIGGER:"change"},sg=sm.PREFIX;let Nc=class extends ee.PureComponent{render(){const{children:e,required:t,text:n,disabled:r,name:s,width:a,align:o,style:l,className:u,extra:c,id:d,optional:h}=this.props,p=he(u,{[`${sg}-field-label`]:!0,[`${sg}-field-label-left`]:o==="left",[`${sg}-field-label-right`]:o==="right",[`${sg}-field-label-required`]:t,[`${sg}-field-label-disabled`]:r,[`${sg}-field-label-with-extra`]:c}),f=l||{};a&&(f.width=a);const g=R.createElement(La,{componentName:"Form"},b=>R.createElement("span",{className:`${sg}-field-label-optional-text`},b.optional)),v=R.createElement("div",{className:`${sg}-field-label-text`,"x-semi-prop":"label"},typeof n<"u"?n:e,h?g:null),m=R.createElement(R.Fragment,null,v,R.createElement("div",{className:`${sg}-field-label-extra`},c));return R.createElement("label",{className:p,htmlFor:s,style:f,id:d},c?m:v)}};Nc.defaultProps={required:!1,name:"",align:"left",className:"",optional:!1};Nc.propTypes={id:w.string,children:w.node,required:w.bool,text:w.node,disabled:w.bool,name:w.string,align:w.string,width:w.oneOfType([w.number,w.string]),style:w.object,className:w.string,extra:w.node,optional:w.bool};var kge=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const my=v4.PREFIX,kQt=B0.SIZE;class lQ extends ln{renderGroupWithLabel(e){const t=this.props,{size:n,className:r,label:s,labelPosition:a}=t;kge(t,["size","className","label","labelPosition"]);const o=he({[`${my}-group-wrapper`]:!0,[`${my}-group-wrapper-with-top-label`]:a==="top",[`${my}-group-wrapper-with-left-label`]:a==="left"}),l=he(`${my}-group`,r,{[`${my}-${n}`]:n!=="default"}),u="input-group";return R.createElement("div",{className:o},s&&s.text?R.createElement(Nc,Object.assign({name:u},s)):null,R.createElement("span",{role:"group","aria-disabled":this.props.disabled,id:s&&s.name||u,className:l,style:this.props.style,onFocus:this.props.onFocus,onBlur:this.props.onBlur},e))}render(){const e=this.props,{size:t,style:n,className:r,children:s,label:a,onBlur:o,onFocus:l,disabled:u}=e,c=kge(e,["size","style","className","children","label","onBlur","onFocus","disabled"]),d=he(`${my}-group`,{[`${my}-${t}`]:t!=="default"},r);let h;return s&&(h=(Array.isArray(s)?s:[s]).map((p,f)=>{if(p){const{onBlur:g,onFocus:v,disabled:m}=p.props,b=sn(g)&&wt(g,"name")!=="noop"?g:o,_=sn(v)&&wt(v,"name")!=="noop"?v:l,S=typeof m=="boolean"?m:u;return R.cloneElement(p,Object.assign(Object.assign({key:f},c),{size:t,onBlur:b,onFocus:_,disabled:S}))}return null})),a&&a.text?this.renderGroupWithLabel(h):R.createElement("span",{role:"group","aria-label":"Input group","aria-disabled":this.props.disabled,className:d,style:n,onFocus:this.props.onFocus,onBlur:this.props.onBlur},h)}}lQ.propTypes={className:w.string,children:w.node,size:w.oneOf(kQt),style:w.object,onBlur:w.func,onFocus:w.func,label:w.object,labelPosition:w.string};lQ.defaultProps={size:"default",className:"",onBlur:Nr,onFocus:Nr};let gc=null;const Ege={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Age=i=>{Object.keys(Ege).forEach(e=>{i.style.setProperty(e,Ege[e],"important")})},Tge=(i,e)=>{const t=i.scrollHeight;return e.sizingStyle.boxSizing==="border-box"?t+e.borderSize:t-e.paddingSize};function EQt(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/0;gc||(gc=document.createElement("textarea"),gc.setAttribute("tab-index","-1"),gc.setAttribute("aria-hidden","true"),Age(gc)),gc.parentNode===null&&document.body.appendChild(gc);const{paddingSize:r,borderSize:s,sizingStyle:a}=i,{boxSizing:o}=a;Object.keys(a).forEach(h=>{gc.style[h]=a[h]}),Age(gc),gc.value=e;let l=Tge(gc,i);gc.value="x";const u=Tge(gc,i)-r-s;let c=u*t;o==="border-box"&&(c=c+r+s),l=Math.max(c,l);let d=u*n;return o==="border-box"&&(d=d+r+s),l=Math.min(d,l),l}const AQt=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],TQt=i=>{const e=window.getComputedStyle(i);if(e===null)return null;const t=BP(e,AQt),{boxSizing:n}=t;if(n==="")return null;const r=parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),s=parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth);return{sizingStyle:t,paddingSize:r,borderSize:s}};class uQ extends _n{static get textAreaDefaultAdapter(){return{notifyChange:Te,setValue:Te,toggleFocusing:Te,toggleHovering:Te,notifyFocus:Te,notifyBlur:Te,notifyKeyDown:Te,notifyEnterPress:Te}}constructor(e){super(Object.assign(Object.assign({},uQ.textAreaDefaultAdapter),e)),this.resizeTextarea=()=>{var t;const{height:n}=this.getStates(),{rows:r,autosize:s}=this.getProps(),a=this._adapter.getRef(),o=TQt(a);if(!o)return;const[l,u]=s!==null&&typeof s=="object"?[(t=s==null?void 0:s.minRows)!==null&&t!==void 0?t:r,s==null?void 0:s.maxRows]:[r],c=EQt(o,a.value||a.placeholder||"x",l,u);if(n!==c){this._adapter.notifyHeightUpdate(c),a.style.height=`${c}px`;return}}}destroy(){}handleValueChange(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:n,minLength:r,getValueLength:s}=this._adapter.getProps();let a=e;n&&sn(s)&&(a=this.handleVisibleMaxLength(e)),r&&sn(s)&&this.handleVisibleMinLength(a),this._isControlledComponent()?this._adapter.notifyChange(a,t):(this._adapter.setValue(a),this._adapter.notifyChange(a,t))}handleVisibleMinLength(e){const{minLength:t,getValueLength:n}=this._adapter.getProps(),{minLength:r}=this._adapter.getStates();if(Gs(t)&&t>=0&&sn(n)&&en(e)){const s=n(e);if(s<t){const a=e.length+(t-s);a!==r&&this._adapter.setMinLength(a)}else r!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:n}=this._adapter.getProps();if(Gs(t)&&t>=0&&en(e)){if(sn(n)){if(n(e)>t)return console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit"),this.handleTruncateValue(e,t)}else if(e.length>t)return console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit"),e.slice(0,t);return e}}handleTruncateValue(e,t){const{getValueLength:n}=this._adapter.getProps();if(sn(n)){let r="";for(let s=1,a=e.length;s<=a;s++){const o=e.slice(0,s);if(n(o)>t)return r;r=o}return r}else return e.slice(0,t)}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleBlur(e){const{value:t}=this.getStates(),{maxLength:n}=this.getProps();let r=t;n&&(r=this.handleVisibleMaxLength(t),r!==t&&(this._isControlledComponent()||this._adapter.setValue(r),this._adapter.notifyChange(r,e))),this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(r,e)}handleKeyDown(e){this._adapter.notifyKeyDown(e),e.keyCode===13&&this._adapter.notifyPressEnter(e)}handleMouseEnter(e){this._adapter.toggleHovering(!0)}handleMouseLeave(e){this._adapter.toggleHovering(!1)}isAllowClear(){const{value:e,isFocus:t,isHover:n}=this._adapter.getStates(),{showClear:r,disabled:s,readonly:a}=this._adapter.getProps();return e&&r&&!s&&(t||n)&&!a}handleClear(e){const{isFocus:t}=this.getStates();this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),t&&this._adapter.notifyBlur("",e),this._adapter.notifyChange("",e),this._adapter.notifyClear(e),this.stopPropagation(e)}}var PQt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const Wl=v4.PREFIX;class cQ extends ln{constructor(e){super(e),this.handleClear=n=>{this.foundation.handleClear(n)},this.setRef=n=>{this.libRef.current=n;const{forwardRef:r}=this.props;typeof r=="function"?r(n):r&&typeof r=="object"&&(r.current=n)};const t="value"in e?e.value:e.defaultValue;this.state={value:t,isFocus:!1,isHover:!1,height:0,minLength:e.minLength,cachedValue:e.value},this.focusing=!1,this.foundation=new uQ(this.adapter),this.libRef=R.createRef(),this.throttledResizeTextarea=g2(this.foundation.resizeTextarea,10)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e},()=>{this.props.autosize&&this.foundation.resizeTextarea()}),getRef:()=>this.libRef.current,toggleFocusing:e=>this.setState({isFocus:e}),toggleHovering:e=>this.setState({isHover:e}),notifyChange:(e,t)=>{this.props.onChange(e,t)},notifyClear:e=>this.props.onClear(e),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyKeyDown:e=>{this.props.onKeyDown(e)},notifyHeightUpdate:e=>{this.setState({height:e}),this.props.onResize({height:e})},notifyPressEnter:e=>{this.props.onEnterPress&&this.props.onEnterPress(e)},setMinLength:e=>this.setState({minLength:e})})}static getDerivedStateFromProps(e,t){const n={};return e.value!==t.cachedValue&&(n.value=e.value,n.cachedValue=e.value),n}componentWillUnmount(){var e,t;this.throttledResizeTextarea&&((t=(e=this.throttledResizeTextarea)===null||e===void 0?void 0:e.cancel)===null||t===void 0||t.call(e),this.throttledResizeTextarea=null)}componentDidUpdate(e,t){(this.props.value!==e.value||this.props.placeholder!==e.placeholder)&&this.props.autosize&&this.foundation.resizeTextarea()}renderClearBtn(){const{showClear:e}=this.props,t=this.foundation.isAllowClear(),n=he(`${Wl}-clearbtn`,{[`${Wl}-clearbtn-hidden`]:!t});return e?R.createElement("div",{className:n,onClick:this.handleClear},R.createElement(Sm,null)):null}renderCounter(){let e,t,n,r;const{showCounter:s,maxCount:a,getValueLength:o}=this.props;if(s||a){const{value:l}=this.state;t=l?sn(o)?o(l):l.length:0,n=a||null,r=he(`${Wl}-textarea-counter`,{[`${Wl}-textarea-counter-exceed`]:t>n}),e=R.createElement("div",{className:r},t,n?"/":null,n)}else e=null;return e}render(){const e=this.props,{autosize:t,placeholder:n,onEnterPress:r,onResize:s,disabled:a,readonly:o,className:l,showCounter:u,validateStatus:c,maxCount:d,defaultValue:h,style:p,forwardRef:f,getValueLength:g,maxLength:v,minLength:m,showClear:b,borderless:_,autoFocus:S}=e,C=PQt(e,["autosize","placeholder","onEnterPress","onResize","disabled","readonly","className","showCounter","validateStatus","maxCount","defaultValue","style","forwardRef","getValueLength","maxLength","minLength","showClear","borderless","autoFocus"]),{isFocus:k,value:E,minLength:A}=this.state,P=he(l,`${Wl}-textarea-wrapper`,{[`${Wl}-textarea-borderless`]:_,[`${Wl}-textarea-wrapper-disabled`]:a,[`${Wl}-textarea-wrapper-readonly`]:o,[`${Wl}-textarea-wrapper-${c}`]:!!c,[`${Wl}-textarea-wrapper-focus`]:k}),O=he(`${Wl}-textarea`,{[`${Wl}-textarea-disabled`]:a,[`${Wl}-textarea-readonly`]:o,[`${Wl}-textarea-autosize`]:tm(t)?Or(t==null?void 0:t.maxRows):t,[`${Wl}-textarea-showClear`]:b}),M=Object.assign(Object.assign({},F0(C,"insetLabel","insetLabelId","getValueLength","onClear","showClear")),{autoFocus:S||this.props.autofocus,className:O,disabled:a,readOnly:o,placeholder:n||null,onChange:D=>this.foundation.handleChange(D.target.value,D),onFocus:D=>this.foundation.handleFocus(D),onBlur:D=>this.foundation.handleBlur(D.nativeEvent),onKeyDown:D=>this.foundation.handleKeyDown(D),value:E??""});return sn(g)||(M.maxLength=v),A&&(M.minLength=A),R.createElement("div",{className:P,style:p,onMouseEnter:D=>this.foundation.handleMouseEnter(D),onMouseLeave:D=>this.foundation.handleMouseLeave(D)},t?R.createElement(o0,{onResize:this.throttledResizeTextarea},R.createElement("textarea",Object.assign({},M,{ref:this.setRef}))):R.createElement("textarea",Object.assign({},M,{ref:this.setRef})),this.renderClearBtn(),this.renderCounter())}}cQ.propTypes={autosize:w.oneOfType([w.bool,w.object]),borderless:w.bool,placeholder:w.string,value:w.string,rows:w.number,cols:w.number,maxCount:w.number,onEnterPress:w.func,validateStatus:w.string,className:w.string,style:w.object,showClear:w.bool,onClear:w.func,onResize:w.func,getValueLength:w.func};cQ.defaultProps={autosize:!1,borderless:!1,rows:4,cols:20,showCounter:!1,showClear:!1,onEnterPress:Te,onChange:Te,onBlur:Te,onFocus:Te,onKeyDown:Te,onResize:Te,onClear:Te};const OQt=R.forwardRef((i,e)=>R.createElement(cQ,Object.assign({},i,{forwardRef:e})));var MQt=cMe;function IQt(i){return MQt(i)&&i!=+i}var RQt=IQt;const DQt=Li(RQt),LQt=(i,e)=>{const{isNaN:t}=Number;return t(i)&&t(e)},FQt=Object.assign({},v4),Jy=Object.assign(Object.assign({},WVt),{DEFAULT_STEP:1,DEFAULT_SHIFT_STEP:10,DEFAULT_PRESS_TIMEOUT:250,DEFAULT_PRESS_INTERVAL:0,MOUSE_BUTTON_LEFT:0}),BQt=Object.assign({},B0);function $Qt(i,e){const t=(i.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,r=Math.pow(10,Math.max(t,n));return(i*r+e*r)/r}function Pge(i,e){return $Qt(i,-e)}class NQt extends _n{init(){this._setInitValue()}destroy(){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}isControlled(){return this._isControlledComponent("value")}_doInput(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=e,s=e,a=!0;const o=this.isControlled();typeof e!="number"&&(s=this.doParse(e,!1),a=!isNaN(s)),a&&(r=s,o||this._adapter.setNumber(s)),o||this._adapter.setValue(e,n),this.getProp("keepFocus")&&this._adapter.setFocusing(!0,()=>{this._adapter.setClickUpOrDown(!0)}),this.notifyChange(r,t)}_registerInterval(e){const t=this.getProp("pressInterval")||Jy.DEFAULT_PRESS_INTERVAL;this._intervalHasRegistered=!0,this._interval=setInterval(()=>{typeof e=="function"&&this._intervalHasRegistered&&e()},t)}_unregisterInterval(){this._interval&&(this._intervalHasRegistered=!1,clearInterval(this._interval),this._interval=null)}_registerTimer(e){const t=this.getProp("pressTimeout")||Jy.DEFAULT_PRESS_TIMEOUT;this._timerHasRegistered=!0,this._timer=setTimeout(()=>{this._timerHasRegistered&&typeof e=="function"&&e()},t)}_unregisterTimer(){this._timer&&(this._timerHasRegistered=!1,clearTimeout(this._timer),this._timer=null)}handleInputFocus(e){this.getState("value"),this._adapter.recordCursorPosition(),this._adapter.setFocusing(!0,null),this._adapter.setClickUpOrDown(!1),this._adapter.notifyFocus(e)}handleInputChange(e,t){const n=this.doParse(e,!0,!0,!0),r=this.doParse(e,!1,!1,!1),s=this.afterParser(e);this._adapter.recordCursorPosition();let a,o=r,l=e;if(e==="")this.isControlled()||(o=null);else if(this.isValidNumber(r)&&this.isValidNumber(n))a=r,l=this.doFormat(r,!1);else{if(typeof r=="number"&&!isNaN(r)){l=this.doFormat(r,!1);const u=s.lastIndexOf("."),c=s.length-1-u,d=this._getPrecLen(r);if(d){if(d<c)for(let h=0;h<c-d;h++)l+="0"}else{const h=u>-1?s.slice(u):"";l+=h}o=r}else l=this.doFormat(s,!1);a=s}!this.isControlled()&&(o===null||typeof o=="number"&&!isNaN(o))&&this._adapter.setNumber(o),this._adapter.setValue(this.isControlled()?l:this.doFormat(s,!1),()=>{this._adapter.restoreCursor()}),this.notifyChange(a,t)}handleInputKeyDown(e){const t=e.keyCode;if(t===No.UP||t===No.DOWN){this._adapter.setClickUpOrDown(!0),this._adapter.recordCursorPosition();const n=t===No.UP?this.add(null,e):this.minus(null,e);this._doInput(n,e,()=>{this._adapter.restoreCursor()}),e.preventDefault()}this._adapter.notifyKeyDown(e)}handleInputBlur(e){const t=I1(this.getState("value"));let n=this.getState("number");if(n!=null||t!=null&&t!==""){const r=this.doParse(t,!1,!0,!0);let s=!1,a=!1,o,l;this.isValidNumber(r)&&n!==r&&(o=r,this.isControlled()||(n=o),s=!0);const u=this.doFormat(n,!0);if(u!==t&&(l=u,a=!0),a||s){const c=l??o;l!=null&&this._adapter.setValue(l),o!=null&&(this._isControlledComponent("value")||this._adapter.setNumber(o)),this.notifyChange(c,e)}}this._adapter.setFocusing(!1),this._adapter.notifyBlur(e)}handleInputMouseEnter(e){this._adapter.setHovering(!0)}handleInputMouseLeave(e){this._adapter.setHovering(!1)}handleInputMouseMove(e){this._adapter.setHovering(!0)}handleMouseUp(e){this._unregisterInterval(),this._unregisterTimer(),this._adapter.unregisterGlobalEvent("mouseup")}handleUpClick(e){const{readonly:t}=this.getProps();!this._isMouseButtonLeft(e)||t||(this._adapter.setClickUpOrDown(!0),e&&(this._persistEvent(e),e.stopPropagation(),this._preventDefault(e)),this.upClick(e),this._registerTimer(()=>{this._registerInterval(()=>{this.upClick(e)})}))}handleDownClick(e){const{readonly:t}=this.getProps();!this._isMouseButtonLeft(e)||t||(this._adapter.setClickUpOrDown(!0),e&&(this._persistEvent(e),e.stopPropagation(),this._preventDefault(e)),this.downClick(e),this._registerTimer(()=>{this._registerInterval(()=>{this.downClick(e)})}))}_isMouseButtonLeft(e){return wt(e,"button")===Jy.MOUSE_BUTTON_LEFT}_preventDefault(e){const t=this._adapter.getProp("keepFocus"),n=this._adapter.getProp("innerButtons");(t||n)&&e.preventDefault()}handleMouseLeave(e){this._adapter.registerGlobalEvent("mouseup",()=>{this.handleMouseUp(e)})}upClick(e){const t=this.add(null,e);this._doInput(t,e),this._adapter.notifyUpClick(t,e)}downClick(e){const t=this.minus(null,e);this._doInput(t,e),this._adapter.notifyDownClick(t,e)}_setInitValue(){const{defaultValue:e,value:t}=this.getProps(),n=this._isControlledComponent("value")?t:e,r=this.doParse(I1(n),!1,!0,!0);let s=null;typeof r=="number"&&!isNaN(r)&&(s=r);const a=typeof s=="number"?this.doFormat(s,!0):"";this._adapter.setNumber(s),this._adapter.setValue(a),en(a)&&a!==String(n??"")&&this.notifyChange(a,null)}add(e,t){const r=t&&t.shiftKey?this.getProp("shiftStep"):this.getProp("step");e=e==null?r:Number(e);const s=Math.abs(Ld(e)),a=this.getState("number");let o=this.toNumber(a)||0;const l=this.getProp("min"),u=this.getProp("max"),c=this._getPrecLen(l),d=this._getPrecLen(u),h=this._getPrecLen(o),p=this._getPrecLen(e),f=Math.pow(10,Math.max(c,d,h,p));return e<0?Math.abs(Pge(l,o))>=s&&(o=(o*f+e*f)/f):e>0&&Math.abs(Pge(u,o))>=s&&(o=(o*f+e*f)/f),typeof l=="number"&&l>o&&(o=l),typeof u=="number"&&u<o&&(o=u),this.doFormat(o,!0)}minus(e,t){const r=t&&t.shiftKey?this.getProp("shiftStep"):this.getProp("step");return e=e==null?r:Number(e),this.add(-e,t)}_getPrecLen(e){typeof e!="string"&&(e=String(Math.abs(Number(e||""))));const t=e.indexOf(".")+1;return t?e.length-t:0}_adjustPrec(e){const t=this.getProp("precision");return typeof t=="number"&&e!==""&&e!==null&&!Number.isNaN(Number(e))&&(e=Number(e).toFixed(t)),I1(e)}doFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n;const r=this.getProp("formatter");return t?n=this._adjustPrec(e):n=I1(e),typeof r=="function"&&(n=r(n)),n}fetchMinOrMax(e){const{min:t,max:n}=this.getProps();return e<t?t:e>n?n:e}doParse(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof e=="number")return r&&(e=this.fetchMinOrMax(e)),n&&(e=this._adjustPrec(e)),Ld(e);const s=this.getProp("parser");if(typeof s=="function"&&(e=s(e)),t&&typeof e=="string"){const a=e.indexOf(".")===-1||e.indexOf(".")>-1&&(e==="0"||e.lastIndexOf("0")<e.length-1),o=e.lastIndexOf(".")<e.length-1&&e.split("").filter(l=>l===".").length<2;if(!a||!o)return NaN}return n&&(e=this._adjustPrec(e)),typeof e=="string"&&e.length?r?this.fetchMinOrMax(Ld(e)):Ld(e):NaN}afterParser(e){const t=this.getProp("parser");return I1(typeof e=="string"&&typeof t=="function"?t(e):e)}toNumber(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e=="number")return e;if(typeof e=="string"){const n=this.getProp("parser");typeof n=="function"&&(e=n(e)),t&&(e=this._adjustPrec(e))}return Ld(e)}isValidNumber(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof e=="number"&&!isNaN(e)){const{min:n,max:r,precision:s}=this.getProps(),a=this._getPrecLen(e),o=t?typeof s=="number"&&a<=s||typeof s!="number":!0;if(e>=n&&e<=r&&o)return!0}return!1}isValidString(e){if(typeof e=="string"&&e.length){const t=this.doParse(e);return this.isValidNumber(t)}return!1}notifyChange(e,t){if(e==null||e==="")this._adapter.notifyChange("",t);else{const n=this.toNumber(e,!0);typeof n=="number"&&!isNaN(n)?(this._adapter.notifyChange(n,t),this.notifyNumberChange(n,t)):this._adapter.notifyChange(this.afterParser(e),t)}}notifyNumberChange(e,t){const{number:n}=this.getStates();this.isValidNumber(e)&&e!==n&&this._adapter.notifyNumberChange(e,t)}updateStates(e,t){this._adapter.updateStates(e,t)}}var jQt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};class g6 extends ln{get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{setValue:(t,n)=>this.setState({value:t},n),setNumber:(t,n)=>this.setState({number:t},n),setFocusing:(t,n)=>this.setState({focusing:t},n),setHovering:t=>this.setState({hovering:t}),notifyChange:function(){return e.props.onChange(...arguments)},notifyNumberChange:function(){return e.props.onNumberChange(...arguments)},notifyBlur:t=>this.props.onBlur(t),notifyFocus:t=>this.props.onFocus(t),notifyUpClick:(t,n)=>this.props.onUpClick(t,n),notifyDownClick:(t,n)=>this.props.onDownClick(t,n),notifyKeyDown:t=>this.props.onKeyDown(t),registerGlobalEvent:(t,n)=>{t&&typeof n=="function"&&(this.adapter.unregisterGlobalEvent(t),this.adapter.setCache(t,n),document.addEventListener(t,n))},unregisterGlobalEvent:t=>{if(t){const n=this.adapter.getCache(t);document.removeEventListener(t,n),this.adapter.setCache(t,null)}},recordCursorPosition:()=>{try{this.inputNode&&(this.cursorStart=this.inputNode.selectionStart,this.cursorEnd=this.inputNode.selectionEnd,this.currentValue=this.inputNode.value,this.cursorBefore=this.inputNode.value.substring(0,this.cursorStart),this.cursorAfter=this.inputNode.value.substring(this.cursorEnd))}catch(t){console.warn(t)}},restoreByAfter:t=>{if(xr(t))return!1;const n=this.inputNode.value,r=n.lastIndexOf(t);return r===-1?!1:r+t.length===n.length?(this.adapter.fixCaret(r,r),!0):!1},restoreCursor:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.cursorAfter;return xr(t)?!1:Array.prototype.some.call(t,(n,r)=>{const s=t.substring(r);return e.adapter.restoreByAfter(s)})},fixCaret:(t,n)=>{if(!(t===void 0||n===void 0||!this.inputNode||!this.inputNode.value))try{const r=this.inputNode.selectionStart,s=this.inputNode.selectionEnd;(t!==r||n!==s)&&this.inputNode.setSelectionRange(t,n)}catch{}},setClickUpOrDown:t=>{this.clickUpOrDown=t},updateStates:(t,n)=>{this.setState(t,n)}})}constructor(e){super(e),this.setInputRef=t=>{const{forwardedRef:n}=this.props;this.inputNode=t,n&&typeof n=="object"?n.current=t:typeof n=="function"&&n(t)},this.handleInputFocus=t=>this.foundation.handleInputFocus(t),this.handleInputChange=(t,n)=>this.foundation.handleInputChange(t,n),this.handleInputBlur=t=>this.foundation.handleInputBlur(t),this.handleInputKeyDown=t=>this.foundation.handleInputKeyDown(t),this.handleInputMouseEnter=t=>this.foundation.handleInputMouseEnter(t),this.handleInputMouseLeave=t=>this.foundation.handleInputMouseLeave(t),this.handleInputMouseMove=t=>this.foundation.handleInputMouseMove(t),this.handleUpClick=t=>this.foundation.handleUpClick(t),this.handleDownClick=t=>this.foundation.handleDownClick(t),this.handleMouseUp=t=>this.foundation.handleMouseUp(t),this.handleMouseLeave=t=>this.foundation.handleMouseLeave(t),this.renderButtons=()=>{const{prefixCls:t,disabled:n,innerButtons:r,max:s,min:a}=this.props,{hovering:o,focusing:l,number:u}=this.state,c=n||u===s,d=n||u===a,h=he(`${t}-number-suffix-btns`,{[`${t}-number-suffix-btns-inner`]:r,[`${t}-number-suffix-btns-inner-hover`]:r&&o&&!l}),p=he(`${t}-number-button`,`${t}-number-button-up`,{[`${t}-number-button-up-disabled`]:n,[`${t}-number-button-up-not-allowed`]:c}),f=he(`${t}-number-button`,`${t}-number-button-down`,{[`${t}-number-button-down-disabled`]:n,[`${t}-number-button-down-not-allowed`]:d});return R.createElement("div",{className:h},R.createElement("span",{className:p,onMouseDown:c?Te:this.handleUpClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},R.createElement(DHt,{size:"extra-small"})),R.createElement("span",{className:f,onMouseDown:d?Te:this.handleDownClick,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave},R.createElement(MP,{size:"extra-small"})))},this.renderSuffix=()=>{const{innerButtons:t,suffix:n}=this.props,{hovering:r,focusing:s}=this.state;return t&&(r||s)?this.renderButtons():n},this.state={value:"",number:null,focusing:!!e.autofocus||!1,hovering:!1},this.inputNode=null,this.foundation=new NQt(this.adapter),this.clickUpOrDown=!1}componentDidUpdate(e){const{value:t,preventScroll:n}=this.props,{focusing:r}=this.state;let s;if(t!==e.value&&!LQt(t,e.value)){if(xr(t)||t==="")s="",this.foundation.updateStates({value:s,number:null});else{let a=t;typeof t=="number"&&(a=this.foundation.doFormat(t));const o=this.foundation.doParse(a,!1,!0,!0),l=typeof t=="number"?t:this.foundation.doParse(a,!1,!1,!1);if(r)if(this.foundation.isValidNumber(o)&&o!==this.state.number){const u={number:o};this.clickUpOrDown&&(u.value=this.foundation.doFormat(u.number,!0),s=u.value),this.foundation.updateStates(u,()=>this.adapter.restoreCursor())}else DQt(l)?this.foundation.updateStates({value:a}):(s=this.foundation.doFormat(l,!1),this.foundation.updateStates({value:s}));else this.foundation.isValidNumber(o)?(s=this.foundation.doFormat(o),this.foundation.updateStates({number:o,value:s})):(s="",this.foundation.updateStates({number:null,value:s}))}s&&en(s)&&s!==String(this.props.value)&&this.foundation.notifyChange(s,null)}this.clickUpOrDown&&this.props.keepFocus&&this.state.focusing&&document.activeElement!==this.inputNode&&this.inputNode.focus({preventScroll:n})}render(){const e=this.props,{disabled:t,className:n,prefixCls:r,min:s,max:a,step:o,shiftStep:l,precision:u,formatter:c,parser:d,forwardedRef:h,onUpClick:p,onDownClick:f,pressInterval:g,pressTimeout:v,suffix:m,size:b,hideButtons:_,innerButtons:S,style:C,onNumberChange:k,keepFocus:E,defaultValue:A}=e,P=jQt(e,["disabled","className","prefixCls","min","max","step","shiftStep","precision","formatter","parser","forwardedRef","onUpClick","onDownClick","pressInterval","pressTimeout","suffix","size","hideButtons","innerButtons","style","onNumberChange","keepFocus","defaultValue"]),{value:O,number:M}=this.state,D=he(n,`${r}-number`,{[`${r}-number-size-${b}`]:b}),L=this.renderButtons(),H={"aria-disabled":t,step:o};return M&&(H["aria-valuenow"]=M),a!==1/0&&(H["aria-valuemax"]=a),s!==-1/0&&(H["aria-valuemin"]=s),R.createElement("div",{className:D,style:C,onMouseMove:F=>this.handleInputMouseMove(F),onMouseEnter:F=>this.handleInputMouseEnter(F),onMouseLeave:F=>this.handleInputMouseLeave(F)},R.createElement(iu,Object.assign({role:"spinbutton"},H,P,{size:b,disabled:t,ref:this.setInputRef,value:O,onFocus:this.handleInputFocus,onChange:this.handleInputChange,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,suffix:this.renderSuffix()})),_||S?null:L)}}g6.propTypes={"aria-label":w.string,"aria-labelledby":w.string,"aria-invalid":w.bool,"aria-errormessage":w.string,"aria-describedby":w.string,"aria-required":w.bool,autofocus:w.bool,clearIcon:w.node,className:w.string,defaultValue:w.oneOfType([w.number,w.string]),disabled:w.bool,formatter:w.func,forwardedRef:w.any,hideButtons:w.bool,innerButtons:w.bool,insetLabel:w.node,insetLabelId:w.string,keepFocus:w.bool,max:w.number,min:w.number,parser:w.func,precision:w.number,prefixCls:w.string,pressInterval:w.number,pressTimeout:w.number,preventScroll:w.bool,shiftStep:w.number,step:w.number,style:w.object,suffix:w.any,value:w.oneOfType([w.number,w.string]),onBlur:w.func,onChange:w.func,onDownClick:w.func,onKeyDown:w.func,onNumberChange:w.func,onUpClick:w.func};g6.defaultProps={forwardedRef:Te,innerButtons:!1,keepFocus:!1,max:1/0,min:-1/0,prefixCls:FQt.PREFIX,pressInterval:Jy.DEFAULT_PRESS_TIMEOUT,pressTimeout:Jy.DEFAULT_PRESS_TIMEOUT,shiftStep:Jy.DEFAULT_SHIFT_STEP,size:BQt.DEFAULT_SIZE,step:Jy.DEFAULT_STEP,onBlur:Te,onChange:Te,onDownClick:Te,onFocus:Te,onKeyDown:Te,onNumberChange:Te,onUpClick:Te};const zQt=vIe(R.forwardRef(function(e,t){return R.createElement(g6,Object.assign({},e,{forwardedRef:t}))}),g6),HQt={PREFIX:Ze+"-overflow-list"},Oge={COLLAPSE:"collapse",SCROLL:"scroll"},Mge={START:"start",END:"end"},VQt={NONE:0,GROW:1,SHRINK:2},k_={BOUNDARY_SET:Object.values(Mge),POSITION_SET:["vertical","horizontal"],MODE_SET:Object.values(Oge),MODE_MAP:Oge,BOUNDARY_MAP:Mge,OVERFLOW_DIR:VQt},Ige={MINIMUM_HTML_ELEMENT_WIDTH:4};class dQ extends R.PureComponent{componentDidMount(){const{items:e}=this.props;this.cachedKeys=Object.keys(e);const{root:t,threshold:n,rootMargin:r,option:s,onIntersect:a}=this.props;this.observer=new IntersectionObserver(a,Object.assign({root:t,threshold:n,rootMargin:r},s)),this.observeElement()}componentDidUpdate(){const{items:e}=this.props,t=Object.keys(e);Fn(this.cachedKeys,t)||(this.observeElement(!0),this.cachedKeys=t)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null)}observeElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{items:t}=this.props;if($r(t)){this.observer.disconnect();return}e&&this.observer.disconnect(),Object.keys(t).forEach(n=>{const r=t[n];r&&or(r)&&this.observer.observe(r)})}render(){const{children:e}=this.props;return e}}dQ.propTypes={onIntersect:w.func,option:w.object,root:w.any,threshold:w.number,rootMargin:w.string,items:w.object};dQ.defaultProps={onIntersect:()=>{},threshold:.75,rootMargin:"0px",option:{},items:{}};const WQt=k_.BOUNDARY_MAP;class UQt extends _n{constructor(e){super(Object.assign({},e)),this.previousY=void 0,this.isScrollMode=()=>{const{renderMode:t}=this.getProps();return t==="scroll"},this.getReversedItems=()=>{const{items:t}=this.getProps();return l0(t).reverse()}}getOverflowItem(){const{items:e}=this.getProps(),{visibleState:t,overflow:n}=this.getStates();if(!this.isScrollMode())return n;const r=e.map(l=>{let{key:u}=l;return!!t.get(u)}),s=r.indexOf(!0),a=r.lastIndexOf(!0),o=[];return o[0]=s>=0?e.slice(0,s):[],o[1]=a>=0?e.slice(a+1,e.length):e,o}handleIntersect(e){const t=l0(this.getState("visibleState")),n={};e.forEach(l=>{const u=wt(l,"target.dataset.scrollkey"),c=l.isIntersecting;n[u]=l,t.set(u,c)});let r=!1;for(const l of t.values())if(l){r=!0;break}const s=r,[a]=e,o=a.boundingClientRect.y;if(!s&&this.previousY!==void 0&&o!==this.previousY){this.previousY=o;return}this.previousY=o,this._adapter.updateVisibleState(t),this._adapter.notifyIntersect(n)}handleCollapseOverflow(){const{minVisibleItems:e,collapseFrom:t}=this.getProps(),{overflowWidth:n,containerWidth:r,pivot:s,overflowStatus:a}=this.getStates(),{items:o,onOverflow:l}=this.getProps();let u=n,c=0,d=!1;for(const h of this._adapter.getItemSizeMap().values()){if(u+=h,u>r){d=!0;break}if(c===o.length-1){this._adapter.updateStates({overflowStatus:"normal",pivot:o.length-1,visible:o,overflow:[]});break}c++}if(d){const h=Math.max(e,c),p=t===WQt.START,f=p?this.getReversedItems().slice(0,h).reverse():o.slice(0,h),g=p?this.getReversedItems().slice(h).reverse():o.slice(h);this._adapter.updateStates({overflowStatus:"overflowed",pivot:h,visible:f,overflow:g}),s!==h&&l(g);return}}}const Ik=HQt.PREFIX,Y8=k_.BOUNDARY_MAP,Rge=k_.OVERFLOW_DIR,Rk=k_.MODE_MAP;class C2 extends ln{constructor(e){var t;super(e),t=this,this.scroller=null,this.spacer=null,this.isScrollMode=()=>{const{renderMode:n}=this.props;return n===Rk.SCROLL},this.resize=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];var r;const s=(r=n[0])===null||r===void 0?void 0:r.target.clientWidth;t.setState({containerWidth:s,overflowStatus:"calculating"})},this.reintersect=n=>{this.foundation.handleIntersect(n)},this.mergeRef=(n,r,s)=>{this.itemRefs[s]=r,typeof n=="function"?n(r):typeof n=="object"&&n&&"current"in n&&(n.current=r)},this.renderOverflow=()=>{const n=this.foundation.getOverflowItem();return this.props.overflowRenderer(n)},this.getItemKey=(n,r)=>{const{itemKey:s}=this.props;return sn(s)?s(n):wt(n,s||"key",r)},this.renderItemList=()=>{const{className:n,wrapperClassName:r,wrapperStyle:s,style:a,visibleItemRenderer:o,renderMode:l,collapseFrom:u}=this.props,{visible:c,overflowStatus:d}=this.state;let h=this.renderOverflow();if(!this.isScrollMode()&&(Array.isArray(h)&&(h=R.createElement(R.Fragment,null,h)),R.isValidElement(h))){const g=R.cloneElement(h);h=R.createElement(o0,{onResize:v=>{let[m]=v;this.setState({overflowWidth:m.target.clientWidth,overflowStatus:"calculating"})}},R.createElement("div",{className:`${Ik}-overflow`},g))}const p=l===Rk.SCROLL?[h[0],R.createElement("div",{className:he(r,`${Ik}-scroll-wrapper`),ref:g=>{this.scroller=g},style:Object.assign({},s),key:`${Ik}-scroll-wrapper`},c.map(o).map(g=>{const{forwardRef:v,key:m}=g;return R.cloneElement(g,{ref:b=>this.mergeRef(v,b,m),"data-scrollkey":`${m}`,key:m})})),h[1]]:[u===Y8.START?h:null,c.map((g,v)=>{const{key:m}=g,b=o(g,v),_=R.cloneElement(b);return R.createElement(o0,{key:m??v,onResize:S=>{let[C]=S;return this.onItemResize(C,g,v)}},R.createElement("div",{key:m??v,className:`${Ik}-item`},_))}),u===Y8.END?h:null];return R.createElement("div",{className:he(`${Ik}`,n),style:Object.assign(Object.assign({},a),l===Rk.COLLAPSE?{maxWidth:"100%",visibility:d==="calculating"?"hidden":"visible"}:null)},...p)},this.onItemResize=(n,r,s)=>{const a=this.getItemKey(r,s),o=this.itemSizeMap.get(a);o?o!==n.target.clientWidth&&(this.itemSizeMap.set(a,n.target.clientWidth),this.setState({overflowStatus:"calculating"})):this.itemSizeMap.set(a,n.target.clientWidth);const{maxCount:l}=this.state;this.itemSizeMap.size===l&&this.setState({overflowStatus:"calculating"})},this.state={direction:Rge.GROW,lastOverflowCount:0,overflow:[],visible:[],containerWidth:0,visibleState:new Map,itemSizeMap:new Map,overflowStatus:"calculating",pivot:-1,overflowWidth:0,maxCount:0},this.foundation=new UQt(this.adapter),this.previousWidths=new Map,this.itemRefs={},this.itemSizeMap=new Map}static getDerivedStateFromProps(e,t){const{prevProps:n}=t,r={};r.prevProps=e;const s=a=>!n&&a in e||n&&!Fn(n[a],e[a]);if(s("items")||s("style")){if(r.direction=Rge.GROW,r.lastOverflowCount=0,r.maxCount=0,e.renderMode===Rk.SCROLL)r.visible=e.items,r.overflow=[];else{let a=e.items.length;Math.floor(t.containerWidth/Ige.MINIMUM_HTML_ELEMENT_WIDTH)!==0&&(a=Math.min(a,Math.floor(t.containerWidth/Ige.MINIMUM_HTML_ELEMENT_WIDTH)));const o=e.collapseFrom===Y8.START,l=o?pU(e.items).reverse().slice(0,a):e.items.slice(0,a),u=o?pU(e.items).reverse().slice(a):e.items.slice(a);r.visible=l,r.overflow=u,r.maxCount=a}r.pivot=-1,r.overflowStatus="calculating"}return r}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateVisibleState:e=>{this.setState({visibleState:e})},updateStates:e=>{this.setState(Object.assign({},e))},notifyIntersect:e=>{this.props.onIntersect&&this.props.onIntersect(e)},getItemSizeMap:()=>this.itemSizeMap})}componentDidUpdate(e,t){const n=e.items.map(u=>u.key),r=this.props.items.map(u=>u.key);Fn(n,r)||(this.itemRefs={},this.setState({visibleState:new Map}));const{overflow:s,containerWidth:a,visible:o,overflowStatus:l}=this.state;this.isScrollMode()||l!=="calculating"||this.foundation.handleCollapseOverflow()}render(){const e=this.renderItemList(),{renderMode:t}=this.props;return t===Rk.SCROLL?R.createElement(dQ,{onIntersect:this.reintersect,root:this.scroller,threshold:this.props.threshold,items:this.itemRefs},e):R.createElement(o0,{onResize:this.resize},e)}}C2.__SemiComponentName__="OverflowList";C2.defaultProps=oh(C2.__SemiComponentName__,{collapseFrom:"end",minVisibleItems:0,overflowRenderer:()=>null,renderMode:"collapse",threshold:.75,visibleItemRenderer:()=>null,onOverflow:()=>null});C2.propTypes={className:w.string,collapseFrom:w.oneOf(k_.BOUNDARY_SET),direction:w.oneOf(k_.POSITION_SET),items:w.array,minVisibleItems:w.number,onIntersect:w.func,onOverflow:w.func,overflowRenderer:w.func,renderMode:w.oneOf(k_.MODE_SET),style:w.object,threshold:w.number,visibleItemRenderer:w.func,wrapperClassName:w.string,wrapperStyle:w.object};var Dge=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};class GQt extends _n{constructor(e){super(Object.assign({},e)),this._keydownHandler=null}init(){this._setDropdownWidth();const e=this.getProp("defaultOpen"),t=this.getProp("open"),n=this._collectOptions();this._setDefaultSelection(n),(e||t)&&this.open(void 0,n),this.getProp("autoFocus")&&this.focus()}focus(){const e=this._isFilterable(),t=this._isMultiple();this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1),e&&t?this.focusInput():e&&!t?this.toggle2SearchInput(!0):this._focusTrigger()}_focusTrigger(){this._adapter.focusTrigger()}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let n;t&&(e&&Gs(e.width)||e&&en(e.width)&&!e.width.includes("%")?n=e.width:n=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(n))}_collectOptions(){const e=this._adapter.getOptionsFromChildren();return this._adapter.updateOptions(e),this._adapter.rePositionDropdown(),e}_setDefaultSelection(e){let{value:t}=this.getProps();const{defaultValue:n}=this.getProps();this._isControlledComponent()||(t=n),this._update(t,e)}handleOptionListChange(){const e=this._collectOptions(),{selections:t}=this.getStates();this.updateOptionsActiveStatus(t,e);const{defaultActiveFirstOption:n}=this.getProps();n&&this._adapter.updateFocusIndex(0)}handleOptionListChangeHadDefaultValue(){const e=this.getState("selections");let t;const{onChangeWithObject:n}=this.getProps(),r=this._isMultiple();switch(!0){case(r&&!!e.size):try{t=[...e].map(a=>n?a[1]:a[1].value)}catch{t=[]}break;case(r&&!e.size):t=[];break;case(!r&&!!e.size):try{t=n?[...e][0][1]:[...e][0][1].value}catch{}break;case(!r&&!e.size):break}const s=this._adapter.getOptionsFromChildren();this._update(t,s)}handleValueChange(e){const{allowCreate:t,autoClearSearchValue:n,remote:r}=this.getProps(),{inputValue:s}=this.getStates();let a;t&&this._isControlledComponent()?(a=this.getState("options"),a.forEach(o=>o._show=!0)):a=this._adapter.getOptionsFromChildren(),this._adapter.rePositionDropdown(),this._isFilterable()&&!n&&s&&!r&&(a=this._filterOption(a,s)),this._update(e,a)}_update(e,t){let n;this._isMultiple()?(n=this._updateMultiple(e,t),this.updateOverflowItemCount(n.size)):n=this._updateSingle(e,t),this._adapter.updateSelection(n),this.updateOptionsActiveStatus(n,t)}_updateSingle(e,t){const n=new Map,{onChangeWithObject:r}=this.getProps(),s=r&&typeof e<"u"?e.value:e,a=t.filter(l=>l.value===s),o=!a.length&&typeof s<"u"&&s!==null;if(a.length){const l=a[0],u=Object.assign({},l);n.set(u.label,u)}else if(o){let l={value:e,label:e,_notExist:!0,_scrollIndex:-1};r&&(l=Object.assign(Object.assign({},e),{_notExist:!0,_scrollIndex:-1})),n.set(l.label,l)}return n}_updateMultiple(e,t){const n=this.getState("selections");let r=[];const s=Array.isArray(e);this.checkMultipleProps(),n.size&&(r=[...n].map(u=>u[1]));const a=new Map;let o=e;const{onChangeWithObject:l}=this.getProps();return l&&s&&(o=e.map(u=>u.value)),s&&o.length&&o.forEach((u,c)=>{const d=t.findIndex(h=>h.value===u);if(d!==-1)a.set(t[d].label,t[d]);else{const h=r.findIndex(p=>p.value===u);if(h!==-1){const p=r[h];if(l){const f=Object.assign({},e[c]);Fn(f,p)?a.set(p.label,p):a.set(f.label,f)}else a.set(p.label,p)}else{let p={value:u,label:u,_notExist:!0};l&&(p=Object.assign(Object.assign({},e[c]),{_notExist:!0})),a.set(p.label,Object.assign(Object.assign({},p),{_scrollIndex:-1}))}}}),a}_isMultiple(){return this.getProp("multiple")}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return!!this.getProp("filter")}handleClick(e){const{clickToHide:t}=this.getProps(),{isOpen:n}=this.getStates();this._isDisabled()||(n?n&&t?this.close({event:e}):n&&!t&&this.focusInput():(this.open(),this._notifyFocus(e)))}open(e,t){const n=this._isFilterable(),r=t||this.getState("options");if(n){const a=this._filterOption(r,"").filter(o=>!o._inputCreateOnly);this._adapter.updateOptions(a),this.toggle2SearchInput(!0)}else this._adapter.updateFocusState(!0);this._adapter.openMenu(),this._setDropdownWidth(),this._adapter.notifyDropdownVisibleChange(!0),this.bindKeyBoardEvent(),this._adapter.registerClickOutsideHandler(s=>{this.close({event:s}),this._notifyBlur(s),this._adapter.updateFocusState(!1)})}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,()=>this.focusInput()):this._adapter.toggleInputShow(e,()=>{})}close(e){const{event:t,closeCb:n,notToggleInput:r}=e||{};this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.setIsFocusInContainer(!1),this._adapter.unregisterClickOutsideHandler();const s=this._isFilterable();s&&!r&&this.toggle2SearchInput(!1),this._adapter.once("popoverClose",()=>{s&&this.clearInput(t),n&&n()})}onSelect(e,t,n){if(this._isDisabled())return;e._inputCreateOnly&&this._adapter.notifyCreate(e),this._isMultiple()?this._handleMultipleSelect(e,n):(this._handleSingleSelect(e,n),this._focusTrigger()),this._adapter.updateFocusIndex(t)}_handleSingleSelect(e,t){var{value:n,label:r}=e,s=Dge(e,["value","label"]);const a=new Map().set(r,Object.assign({value:n,label:r},s));this._notifySelect(n,Object.assign({value:n,label:r},s));const o=this._isFilterable();this._isControlledComponent()?this.close({event:t,notToggleInput:!0,closeCb:()=>{this._notifyChange(a),o&&this.toggle2SearchInput(!1)}}):(this._adapter.updateSelection(a),this._notifyChange(a),this.close({event:t,closeCb:()=>{this.updateOptionsActiveStatus(a)}}))}_handleMultipleSelect(e,t){var{value:n,label:r}=e,s=Dge(e,["value","label"]);const a=this._adapter.getMaxLimit(),o=this._adapter.getSelections(),{autoClearSearchValue:l}=this.getProps();if(o.has(r))this._notifyDeselect(n,Object.assign({value:n,label:r},s)),o.delete(r);else if(a&&o.size===a){this._adapter.notifyMaxLimit(Object.assign({value:n,label:r},F0(s,"_scrollIndex")));return}else this._notifySelect(n,Object.assign({value:n,label:r},s)),o.set(r,Object.assign({value:n,label:r},s));if(this._isControlledComponent())this._notifyChange(o),this._isFilterable()&&(l&&this.clearInput(t),this.focusInput());else{this._adapter.updateSelection(o),this.updateOverflowItemCount(o.size),this._adapter.rePositionDropdown();let{options:u}=this.getStates();this._isFilterable()&&(l&&(this.clearInput(t),u=this._filterOption(u,"")),this.focusInput()),this.updateOptionsActiveStatus(o,u),this._notifyChange(o)}}clearSelected(){const e=new Map;this._isControlledComponent()?(this._notifyChange(e),this._adapter.notifyClear()):(this._adapter.updateSelection(e),this.updateOptionsActiveStatus(e),this._notifyChange(e),this._adapter.notifyClear());const{isOpen:t}=this.getStates();t&&this._adapter.rePositionDropdown()}updateOptionsActiveStatus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getState("options");const{allowCreate:n}=this.getProps(),r=t.map(s=>(e.has(s.label)?(s._selected=!0,n&&delete s._inputCreateOnly):(s._inputCreateOnly&&(s._show=!1),s._selected=!1),s));this._adapter.updateOptions(r)}removeTag(e){const t=this._adapter.getSelections();t.delete(e.label),this._isControlledComponent()?(this._notifyDeselect(e.value,e),this._notifyChange(t)):(this._notifyDeselect(e.value,e),this._adapter.updateSelection(t),this.updateOverflowItemCount(t.size),this.updateOptionsActiveStatus(t),this._adapter.rePositionDropdown(),this._notifyChange(t))}clearInput(e){const{inputValue:t}=this.getStates();if(t!==""){this._adapter.updateInputValue(""),this._adapter.notifySearch("",e);const{options:n}=this.getStates(),{remote:r}=this.getProps();let s=n;r||(s=this._filterOption(n,"")),this._adapter.updateOptions(s)}}focusInput(){this._adapter.focusInput(),this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1)}handleInputChange(e,t){this._adapter.updateInputValue(e);const{options:n,isOpen:r}=this.getStates(),{allowCreate:s,remote:a}=this.getProps();let o=n;a||(o=this._filterOption(n,e)),o=this._createOptionByInput(s,o,e),this._adapter.updateOptions(o),this._adapter.notifySearch(e,t),this._isMultiple()&&this._adapter.rePositionDropdown()}_filterOption(e,t){const n=this.getProp("filter");if(n){if(typeof n=="boolean"&&n){const r=t.toLowerCase();return e.map(s=>{const a=s.label.toString().toLowerCase(),o=s._parentGroup&&s._parentGroup.label,l=a.includes(r),u=en(o)&&o.toLowerCase().includes(r);return l||u?s._show=!0:s._show=!1,s})}else if(typeof n=="function")return e.map(r=>(n(t,r)?r._show=!0:r._show=!1,r))}else return e}_createOptionByInput(e,t,n){if(e)if(n){const r={_show:!0,_selected:!1,value:n,label:n,_inputCreateOnly:!0};let s=-1,a=-1;t.forEach((o,l)=>{!o._show&&!o._inputCreateOnly||(o.label===n&&(a=l),o._inputCreateOnly&&(s=l,o.value=n,o.label=n,o._show=!0))}),s===-1&&a===-1&&t.push(r),a!==-1&&(t=t.filter(o=>!o._inputCreateOnly))}else t=t.filter(r=>!r._inputCreateOnly);return t}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}unBindKeyBoardEvent(){this._keydownHandler&&this._adapter.unregisterKeyDown()}_handleKeyDown(e){const t=e.keyCode,{loading:n,filter:r,multiple:s,disabled:a}=this.getProps(),{isOpen:o}=this.getStates();if(!(n||a))switch(t){case No.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case No.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case No.BACKSPACE:this._handleBackspaceKeyDown();break;case No.ENTER:Zh(e),this._handleEnterKeyDown(e);break;case No.ESC:o&&this.close({event:e}),r&&!s&&this._focusTrigger();break;case No.TAB:this._handleTabKeyDown(e);break}}handleContainerKeyDown(e){const t=e.keyCode,{isOpen:n}=this.getStates();switch(t){case No.TAB:n&&this._handleTabKeyDown(e);break}}_getEnableFocusIndex(e){const{focusIndex:t,options:n}=this.getStates(),r=n.filter(o=>o._show),s=r.length;let a=t+e;if(a<0&&(a=s-1),a>=s&&(a=0),e>0){let o=-1;for(let l=0;l<r.length&&(!r[l].disabled&&(o=l),!(o>=a));l++);a=o}else{let o=r.length;for(let l=s-1;l>=0&&(!r[l].disabled&&(o=l),!(o<=a));l--);a=o}this._adapter.updateFocusIndex(a),this._adapter.updateScrollTop(a)}_handleArrowKeyDown(e){const{isOpen:t}=this.getStates();t?this._getEnableFocusIndex(e):this.open()}_handleTabKeyDown(e){const{isOpen:t}=this.getStates();if(this._adapter.updateFocusState(!1),t){const n=this._adapter.getContainer(),r=this._adapter.getFocusableElements(n);r.length>0?e.shiftKey?this._handlePanelOpenShiftTabKeyDown(r,e):this._handlePanelOpenTabKeyDown(r,e):(this.close({event:e}),this._notifyBlur(e))}else this._notifyBlur(e)}_handlePanelOpenTabKeyDown(e,t){const n=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?n===e[e.length-1]&&(this._focusTrigger(),this.close({event:t}),Zh(t)):(e[0].focus(),this._adapter.setIsFocusInContainer(!0),Zh(t))}_handlePanelOpenShiftTabKeyDown(e,t){const n=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?n===e[0]&&(this._focusTrigger(),this._adapter.setIsFocusInContainer(!1),Zh(t)):(this.close({event:t}),this._notifyBlur(t))}_handleEnterKeyDown(e){const{isOpen:t,options:n,focusIndex:r}=this.getStates();if(!t)this.open();else if(r!==-1){const s=n.filter(o=>o._show),{length:a}=s;if(a<=r)return;if(s&&a){const o=s[r];if(o.disabled)return;this.onSelect(o,r,e)}}else this.close({event:e})}_handleBackspaceKeyDown(){if(this._isMultiple()){const e=this._adapter.getSelections(),{inputValue:t}=this.getStates(),n=e.size;if(n&&!t){const r=[...e.keys()];let s=n-1,a=r[s],o=e.get(a),l=!1;if(o.disabled&&s===0)return;for(;o.disabled&&s!==0;)s=s-1,a=r[s],o=e.get(a),s==0&&o.disabled&&(l=!0);l||this.removeTag(o)}}}_notifyChange(e){const{onChangeWithObject:t}=this.getProps(),n=this.getState("selections");let r;const s=[...e.values()],a=this._isMultiple();if(this._diffSelections(e,n,a))switch(!0){case t:this._notifyChangeWithObject(e);break;case(!t&&!a):r=s.length?s[0].value:void 0,this._adapter.notifyChange(r);break;case(!t&&a):r=s.length?s.map(l=>l.value):[],this._adapter.notifyChange(r);break}}_removeInternalKey(e){let t=Object.assign({},e);return delete t._parentGroup,delete t._show,delete t._selected,delete t._scrollIndex,delete t._keyInJsx,"_keyInOptionList"in t&&(t.key=t._keyInOptionList,delete t._keyInOptionList),t}_notifySelect(e,t){const n=this._removeInternalKey(t);this._adapter.notifySelect(e,n)}_notifyDeselect(e,t){const n=this._removeInternalKey(t);this._adapter.notifyDeselect(e,n)}_diffSelections(e,t,n){let r=!0;if(!n){const s=[...e.values()],a=[...t.values()],o=s[0]?s[0].label:s[0],l=a[0]?a[0].label:a[0];r=!Fn(o,l)}return r}_notifyChangeWithObject(e){this.getState("selections");const t=[];for(const n of e.entries()){let r=Object.assign({label:n[0]},n[1]);r=this._removeInternalKey(r),t.push(r)}this._isMultiple()?this._adapter.notifyChange(t):this._adapter.notifyChange(t[0])}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}handleMouseEnter(e){this._adapter.updateHovering(!0),this._adapter.notifyMouseEnter(e)}handleMouseLeave(e){this._adapter.updateHovering(!1),this._adapter.notifyMouseLeave(e)}handleClearClick(e){const{filter:t}=this.getProps();t&&this.clearInput(e),this.focus(),this.clearSelected(),e.stopPropagation()}handleKeyPress(e){e&&e.key===OZ&&this.handleClick(e)}handleClearBtnEnterPress(e){Qd(e)&&this.handleClearClick(e)}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleListScroll(e){this._adapter.notifyListScroll(e)}handleTriggerFocus(e){this.bindKeyBoardEvent(),this._adapter.setIsFocusInContainer(!1)}handleTriggerBlur(e){this.getProps();const{isOpen:t,isFocus:n}=this.getStates();n&&!t&&(this._notifyBlur(e),this._adapter.updateFocusState(!1))}handleInputBlur(e){const{filter:t,autoFocus:n}=this.getProps(),r=this._isMultiple();n&&t&&!r&&this.toggle2SearchInput(!1)}selectAll(){const{options:e}=this.getStates(),{onChangeWithObject:t}=this.getProps();let n=[];if(!this._isMultiple()){console.warn(`[Semi Select]: It seems that you have called the selectAll method in the single-selection Select.
                Please note that this is not a legal way to use it`);return}t?n=e:n=e.map(s=>s.value),this.handleValueChange(n),this._adapter.notifyChange(n)}checkMultipleProps(e){if(this._isMultiple()){const t=e||this.getProps(),{defaultValue:n,value:r}=t,s=r||n;!xr(s)&&!Array.isArray(s)&&vs(!0,"[Semi Select] defaultValue/value should be array type in multiple mode")}}updateScrollTop(){this._adapter.updateScrollTop()}updateOverflowItemCount(e,t){const{maxTagCount:n,ellipsisTrigger:r}=this.getProps();r&&(t?this._adapter.updateOverflowItemCount(t):typeof n=="number"&&(e-n>0?this._adapter.updateOverflowItemCount(e-n):this._adapter.updateOverflowItemCount(0)))}updateIsFullTags(){const{isFullTags:e}=this.getStates();e||this._adapter.setState({isFullTags:!0})}handlePopoverClose(){this._adapter.emit("popoverClose")}handleSlotMouseEnter(){this._adapter.updateFocusIndex(-1)}}const hQ={PREFIX:`${Ze}-select`,PREFIX_OPTION:`${Ze}-select-option`,PREFIX_GROUP:`${Ze}-select-group`},K8={SIZE_SET:["small","large","default"],POSITION_SET:w_.POSITION_SET,MODE_SELECT:"select",MODE_AUTOCOMPLETE:"autoComplete",STATUS:sC},QIe={LIST_HEIGHT:270},Dk=BMe.PREFIX,JIe=fC.TAG_SIZE,YQt=fC.AVATAR_SHAPE;class k2 extends ee.PureComponent{renderNTag(e,t){const{size:n,showPopover:r,popoverProps:s,onPlusNMouseEnter:a}=this.props;let o=R.createElement(Gu,{closable:!1,size:n,color:"grey",style:{backgroundColor:"transparent"},key:"_+n",onMouseEnter:a},"+",e);return r&&(o=R.createElement(qo,Object.assign({showArrow:!0,content:t,trigger:"hover",position:"top",autoAdjustOverflow:!0,className:`${Dk}-rest-group-popover`},s,{key:"_+n_Popover"}),o)),o}renderMergeTags(e){const{maxTagCount:t,tagList:n,restCount:r}=this.props,s=r||n.length-t;let a=e;const o=e.slice(0,t),l=e.slice(t);let u=null;return s>0&&(u=this.renderNTag(s,l),o.push(u),a=o),a}renderAllTags(){const{tagList:e,size:t,mode:n,avatarShape:r,onTagClose:s}=this.props;return e.map(o=>{if(n==="custom")return o;const l=Object.assign({},o);return l.size||(l.size=t),l.avatarShape||(l.avatarShape=r),l.tagKey||(typeof l.children=="string"||typeof l.children=="number"?l.tagKey=l.children:l.tagKey=Math.random()),R.createElement(Gu,Object.assign({},l,{key:l.tagKey,onClose:(u,c,d)=>{l.onClose&&l.onClose(u,c,d),s&&s(u,c,d)}}))})}render(){const{style:e,className:t,maxTagCount:n,size:r}=this.props,s=he({[`${Dk}-group`]:!0,[`${Dk}-group-max`]:n,[`${Dk}-group-small`]:r==="small",[`${Dk}-group-large`]:r==="large"},t),a=this.renderAllTags(),o=typeof n>"u"?a:this.renderMergeTags(a);return R.createElement("div",{style:e,className:s},o)}}k2.defaultProps={style:{},className:"",size:JIe[0],avatarShape:"square",onTagClose:()=>{},onPlusNMouseEnter:()=>{}};k2.propTypes={children:w.node,style:w.object,className:w.string,maxTagCount:w.number,restCount:w.number,tagList:w.array,size:w.oneOf(JIe),mode:w.string,onTagClose:w.func,showPopover:w.bool,popoverProps:w.object,avatarShape:w.oneOf(YQt)};var KQt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const Lge=(i,e,t,n)=>{const r=i.props;if(!i||!r)return null;const s=Object.assign(Object.assign({value:r.value,label:r.label||r.children||r.value,_show:!0,_selected:!1,_scrollIndex:t},r),{_parentGroup:e});return s._keyInJsx=n||i.key,s},XQt=i=>{let e=[],t=[];const n={label:"",children:[],_show:!1};let r=R.Children.toArray(i);r=r.filter(o=>o&&o.props);let s="",a=-1;return r.forEach(o=>{if(o.type.isSelectOption){s="option",a++;const l=Lge(o,void 0,a);n.children.push(l),t.push(l)}else if(o.type.isSelectOptionGroup){s="group";let l=o.props,{children:u}=l,c=KQt(l,["children"]),d=[];Array.isArray(u)?d=u.map(f=>f.key):d.push(u.key),u=R.Children.toArray(u);const h=u.map((f,g)=>{let v=f.key;return d[g]===null&&(v=o.key+""+f.key),a++,Lge(f,c,a,v)}),p=Object.assign(Object.assign({},o.props),{children:h,key:o.key});e.push(p),t=t.concat(h)}else vs(!0,"[Semi Select] The children of `Select` should be `Select.Option` or `Select.OptionGroup`")}),s==="option"&&(e=[n]),{optionGroups:e,options:t}},e3e=i=>{let{index:e,data:t,style:n}=i;const{visibleOptions:r,renderOption:s}=t,a=r[e];return s(a,e,n)};var Fge=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};class E_ extends ee.PureComponent{onClick(e,t){var{value:n,label:r,children:s}=e,a=Fge(e,["value","label","children"]);const{props:o}=this;o.disabled||o.onSelect(Object.assign(Object.assign({},a),{value:n,label:r||s}),t)}renderOptionContent(e){let{config:t,children:n,inputValue:r,prefixCls:s}=e;return en(n)&&r?yZ(t):n}render(){const e=this.props,{children:t,disabled:n,value:r,selected:s,label:a,empty:o,emptyContent:l,onSelect:u,focused:c,showTick:d,className:h,style:p,onMouseEnter:f,prefixCls:g,renderOptionItem:v,inputValue:m,semiOptionId:b}=e,_=Fge(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue","semiOptionId"]),S=he(g,{[`${g}-disabled`]:n,[`${g}-selected`]:s,[`${g}-focused`]:c,[`${g}-empty`]:o,[h]:h}),C=he([`${g}-icon`]);if(o)return l===null?null:R.createElement(La,{componentName:"Select"},E=>R.createElement("div",{className:S,"x-semi-prop":"emptyContent"},l||E.emptyText));if(typeof v=="function")return v(Object.assign({disabled:n,focused:c,selected:s,style:p,label:a,value:r,inputValue:m,onMouseEnter:E=>f(E),onClick:E=>this.onClick(Object.assign({value:r,label:a,children:t},_),E),className:h},_));const k={searchWords:m,sourceString:t,option:{highlightClassName:`${g}-keyword`}};return R.createElement("div",{className:S,onClick:E=>{this.onClick(Object.assign({value:r,label:a,children:t},_),E)},onMouseEnter:E=>f&&f(E),role:"option",id:b,"aria-selected":s?"true":"false","aria-disabled":n?"true":"false",style:p},d?R.createElement("div",{className:C},R.createElement(g4,null)):null,en(t)?R.createElement("div",{className:`${g}-text`},this.renderOptionContent({children:t,config:k,inputValue:m,prefixCls:g})):t)}}E_.isSelectOption=!0;E_.propTypes={children:w.node,disabled:w.bool,value:w.oneOfType([w.string,w.number]),selected:w.bool,label:w.node,empty:w.bool,emptyContent:w.node,onSelect:w.func,focused:w.bool,showTick:w.bool,className:w.string,style:w.object,onMouseEnter:w.func,prefixCls:w.string,renderOptionItem:w.func,inputValue:w.string};E_.defaultProps={prefixCls:hQ.PREFIX_OPTION};const qQt=hQ.PREFIX_GROUP;class F4 extends ln{render(){const{label:e,className:t,style:n}=this.props,r=he(t,{[qQt]:!0});return!e&&typeof e!="number"?null:R.createElement("div",{className:r,style:n},e)}}F4.isSelectOptionGroup=!0;F4.propTypes={children:w.oneOfType([w.array,w.node]),label:w.node,className:w.string,style:w.object};var ZQt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const _i=hQ.PREFIX,QQt=0;class Uo extends ln{constructor(e){super(e),this.setOptionContainerEl=t=>this.optionContainerEl={current:t},this.handleInputChange=(t,n)=>this.foundation.handleInputChange(t,n),this.getTagItem=(t,n,r)=>{const{size:s,disabled:a}=this.props,o=t[0],{value:l}=t[1],u=t[1].disabled||a,c=(f,g)=>{g&&typeof g.preventDefault=="function"&&g.preventDefault(),this.foundation.removeTag({label:o,value:l})},{content:d,isRenderInTag:h}=r(t[1],{index:n,disabled:u,onClose:c}),p={disabled:u,closable:!u,onClose:c};return h?R.createElement(Gu,Object.assign({},p,{color:"white",size:s||"large",key:l,tabIndex:-1}),d):R.createElement(ee.Fragment,{key:l},d)},this.state={isOpen:!1,isFocus:!1,options:[],selections:new Map,dropdownMinWidth:null,optionKey:QQt,inputValue:"",showInput:!1,focusIndex:e.defaultActiveFirstOption?0:-1,keyboardEventSet:{},optionGroups:[],isHovering:!1,isFocusInContainer:!1,isFullTags:!1,overflowItemCount:0},this.selectOptionListID="",this.selectID="",this.virtualizeListRef=R.createRef(),this.inputRef=R.createRef(),this.triggerRef=R.createRef(),this.optionsRef=R.createRef(),this.optionContainerEl=R.createRef(),this.clickOutsideHandler=null,this.onSelect=this.onSelect.bind(this),this.onClear=this.onClear.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.renderOption=this.renderOption.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.eventManager=new kOe,this.foundation=new GQt(this.adapter)}get adapter(){var e=this;const t={registerKeyDown:s=>{const a={onKeyDown:s};this.setState({keyboardEventSet:a})},unregisterKeyDown:()=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:s=>{this.setState({focusIndex:s})},scrollToFocusOption:()=>{}},n={updateInputValue:s=>{this.setState({inputValue:s})},toggleInputShow:(s,a)=>{this.setState({showInput:s},()=>{a()})},focusInput:()=>{const{preventScroll:s}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:s})}},r={notifyMaxLimit:s=>this.props.onExceed(s),getMaxLimit:()=>this.props.max,registerClickOutsideHandler:s=>{const a=o=>{const l=this.optionsRef&&this.optionsRef.current,u=this.triggerRef&&this.triggerRef.current,c=$c.findDOMNode(l),d=o.target,h=o.composedPath&&o.composedPath()||[d];!(c&&c.contains(d))&&!(u&&u.contains(d))&&!(h.includes(u)||h.includes(c))&&s(o)};this.clickOutsideHandler=a,document.addEventListener("mousedown",a,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{optionKey:s}=this.state;s=s+1,this.setState({optionKey:s})},notifyDeselect:(s,a)=>{delete a._parentGroup,this.props.onDeselect(s,a)}};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),n),r),{on:(s,a)=>this.eventManager.on(s,a),off:s=>this.eventManager.off(s),once:(s,a)=>this.eventManager.once(s,a),emit:s=>this.eventManager.emit(s),getOptionsFromChildren:function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.props.children,a=[],o=[];const{optionList:l}=e.props;if(l&&l.length)o=l.map((u,c)=>Object.assign({_show:!0,_selected:!1,_scrollIndex:c},u)),a[0]={children:o,label:""};else{const u=XQt(s);a=u.optionGroups,o=u.options}return e.setState({optionGroups:a}),o},updateOptions:s=>{this.setState({options:s})},openMenu:()=>{this.setState({isOpen:!0})},closeMenu:()=>{this.setState({isOpen:!1})},getTriggerWidth:()=>{const s=this.triggerRef.current;return s&&s.getBoundingClientRect().width},setOptionWrapperWidth:s=>{this.setState({dropdownMinWidth:s})},updateSelection:s=>{this.setState({selections:s})},getSelections:()=>new Map(this.state.selections),notifyChange:s=>{this.props.onChange(s)},notifySelect:(s,a)=>{delete a._parentGroup,this.props.onSelect(s,a)},notifyDropdownVisibleChange:s=>{this.props.onDropdownVisibleChange(s)},notifySearch:(s,a)=>{this.props.onSearch(s,a)},notifyCreate:s=>{this.props.onCreate(s)},notifyMouseEnter:s=>{this.props.onMouseEnter(s)},notifyMouseLeave:s=>{this.props.onMouseLeave(s)},notifyFocus:s=>{this.props.onFocus(s)},notifyBlur:s=>{this.props.onBlur(s)},notifyClear:()=>{this.props.onClear()},notifyListScroll:s=>{this.props.onListScroll(s)},updateHovering:s=>{this.setState({isHovering:s})},updateFocusState:s=>{this.setState({isFocus:s})},updateOverflowItemCount:s=>{this.setState({overflowItemCount:s})},focusTrigger:()=>{try{const{preventScroll:s}=this.props;this.triggerRef.current.focus({preventScroll:s})}catch{}},getContainer:()=>this.optionContainerEl&&this.optionContainerEl.current,getFocusableElements:s=>OOe(s),getActiveElement:()=>POe(),setIsFocusInContainer:s=>{this.setState({isFocusInContainer:s})},getIsFocusInContainer:()=>this.state.isFocusInContainer,updateScrollTop:s=>{let a=`.${_i}-option-selected`;s!==void 0&&(a=`.${_i}-option:nth-child(${s})`);let o=document.querySelector(`#${_i}-${this.selectOptionListID} ${a}`);if(Array.isArray(o)&&(o=o[0]),o){const l=o.parentNode;l.scrollTop=o.offsetTop-l.offsetTop-l.clientHeight/2+o.clientHeight/2}}})}componentDidMount(){this.foundation.init(),this.selectOptionListID=x0(),this.selectID=this.props.id||x0()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){const n=R.Children.toArray(e.children).map(a=>a.key),r=R.Children.toArray(this.props.children).map(a=>a.key);let s=!1;(!Fn(n,r)||!Fn(e.optionList,this.props.optionList))&&(s=!0,this.foundation.handleOptionListChange()),(!Fn(this.props.value,e.value)||s)&&("value"in this.props?this.foundation.handleValueChange(this.props.value):this.foundation.handleOptionListChangeHadDefaultValue())}renderInput(){const{size:e,multiple:t,disabled:n,inputProps:r,filter:s}=this.props,a=wt(r,"className"),o=he(`${_i}-input`,{[`${_i}-input-single`]:!t,[`${_i}-input-multiple`]:t},a),{inputValue:l,focusIndex:u}=this.state,c=Object.assign({value:l,disabled:n,className:o,onChange:this.handleInputChange},r);let d={};return t&&(d={width:l?`${l.length*16}px`:"2px"},c.style=d),R.createElement(iu,Object.assign({ref:this.inputRef,size:e,"aria-activedescendant":u!==-1?`${this.selectID}-option-${u}`:"",onFocus:h=>{t&&s&&this.setState({isFocus:!0}),h.stopPropagation()},onBlur:h=>this.foundation.handleInputBlur(h)},c))}close(){this.foundation.close()}open(){this.foundation.open()}clearInput(){this.foundation.clearInput()}selectAll(){this.foundation.selectAll()}deselectAll(){this.foundation.clearSelected()}focus(){this.foundation.focus()}onSelect(e,t,n){this.foundation.onSelect(e,t,n)}onClear(e){e.nativeEvent.stopImmediatePropagation(),this.foundation.handleClearClick(e)}search(e,t){this.handleInputChange(e,t)}renderEmpty(){return R.createElement(E_,{empty:!0,emptyContent:this.props.emptyContent})}renderLoading(){const e=`${_i}-loading-wrapper`;return R.createElement("div",{className:e},R.createElement(nm,null))}renderOption(e,t,n){const{focusIndex:r,inputValue:s}=this.state,{renderOptionItem:a}=this.props;let o;const l=t===r;let u=n||{};return e.style&&(u=Object.assign(Object.assign({},u),e.style)),e._inputCreateOnly?o=this.renderCreateOption(e,l,t,n):("key"in e&&(e._keyInOptionList=e.key),o=R.createElement(E_,Object.assign({showTick:!0},e,{selected:e._selected,onSelect:(c,d)=>this.onSelect(c,t,d),focused:l,onMouseEnter:()=>this.onOptionHover(t),style:u,key:e._keyInOptionList||e._keyInJsx||e.label+e.value+t,renderOptionItem:a,inputValue:s,semiOptionId:`${this.selectID}-option-${t}`}),e.label)),o}renderCreateOption(e,t,n,r){const{renderCreateItem:s}=this.props;if(typeof s>"u")return R.createElement(E_,Object.assign({key:e.key||e.label+e.value,onSelect:(l,u)=>this.onSelect(l,n,u),onMouseEnter:()=>this.onOptionHover(n),showTick:!0},e,{focused:t,style:r}),R.createElement(La,{componentName:"Select"},l=>R.createElement(R.Fragment,null,R.createElement("span",{className:`${_i}-create-tips`},l.createText),e.value)));const a=s(e.value,t,r);return R.createElement("div",{role:"button","aria-label":"Use the input box to create an optional item",onClick:o=>this.onSelect(e,n,o),key:e.key||e.label},a)}onOptionHover(e){this.foundation.handleOptionMouseEnter(e)}renderWithGroup(e){const t=[],n=new Map;return e.forEach((r,s)=>{const a=r._parentGroup,o=this.renderOption(r,s);if(a&&!n.has(a.label)){const l=R.createElement(F4,Object.assign({},a,{key:a.label}));n.set(a.label,!0),t.push(l)}t.push(o)}),t}renderVirtualizeList(e){const{virtualize:t}=this.props,{direction:n}=this.context,{height:r,width:s,itemSize:a}=t;return R.createElement(HZ,{ref:this.virtualizeListRef,height:r||QIe.LIST_HEIGHT,itemCount:e.length,itemSize:a,itemData:{visibleOptions:e,renderOption:this.renderOption},width:s||"100%",style:{direction:n}},e3e)}renderOptions(e){const{dropdownMinWidth:t,options:n,selections:r}=this.state,{maxHeight:s,dropdownClassName:a,dropdownStyle:o,outerTopSlot:l,innerTopSlot:u,outerBottomSlot:c,innerBottomSlot:d,loading:h,virtualize:p,multiple:f,emptyContent:g}=this.props,v=n.filter(C=>C._show);let m=this.renderWithGroup(v);p&&(m=this.renderVirtualizeList(v));const b=Object.assign({minWidth:t},o),_=he({[`${_i}-option-list`]:!0,[`${_i}-option-list-chosen`]:r.size}),S=!n.length||!n.some(C=>C._show);return R.createElement("div",{id:`${_i}-${this.selectOptionListID}`,className:he({[`${_i}-option-list-wrapper`]:!(S&&g===null)},a),style:b,ref:this.setOptionContainerEl,onKeyDown:C=>this.foundation.handleContainerKeyDown(C)},l?R.createElement("div",{className:`${_i}-option-list-outer-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},l):null,R.createElement("div",{style:{maxHeight:`${s}px`},className:_,role:"listbox","aria-multiselectable":f,onScroll:C=>this.foundation.handleListScroll(C)},u?R.createElement("div",{className:`${_i}-option-list-inner-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},u):null,h?this.renderLoading():S?this.renderEmpty():m,d?R.createElement("div",{className:`${_i}-option-list-inner-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},d):null),c?R.createElement("div",{className:`${_i}-option-list-outer-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},c):null)}renderSingleSelection(e,t){let{renderSelectedItem:n}=this.props;const{placeholder:r}=this.props,{showInput:s,inputValue:a}=this.state;let o="";const l=[...e];if(typeof n>"u"&&(n=d=>d.label),l.length){const d=l[0][1];o=n(d)}const u=he({[`${_i}-selection-text`]:!0,[`${_i}-selection-placeholder`]:!o&&o!==0,[`${_i}-selection-text-hide`]:a&&s,[`${_i}-selection-text-inactive`]:!a&&s}),c=`${_i}-content-wrapper`;return R.createElement(R.Fragment,null,R.createElement("div",{className:c},R.createElement("span",{className:u,"x-semi-prop":"placeholder"},o||o===0?o:r),t&&s?this.renderInput():null))}renderTag(e,t,n){const{size:r,disabled:s}=this.props;let{renderSelectedItem:a}=this.props;const o=e[0],{value:l}=e[1],u=e[1].disabled||s,c=(g,v)=>{v&&typeof v.preventDefault=="function"&&v.preventDefault(),this.foundation.removeTag({label:o,value:l})};typeof a>"u"&&(a=g=>({isRenderInTag:!0,content:g.label}));const{content:d,isRenderInTag:h}=a(e[1],{index:t,disabled:u,onClose:c}),p={disabled:u,closable:!u,onClose:c},f=n&&!sn(this.props.renderSelectedItem)?R.createElement(IP,{size:"small",ellipsis:{rows:1,showTooltip:{type:"popover",opts:{style:{width:"auto",fontSize:12}}}}},d):d;return h?R.createElement(Gu,Object.assign({},p,{color:"white",size:r||"large",key:l,style:{maxWidth:"100%"}}),f):R.createElement(ee.Fragment,{key:l},f)}renderNTag(e,t){const{size:n,showRestTagsPopover:r,restTagsPopoverProps:s}=this.props;let a=R.createElement(Gu,{closable:!1,size:n||"large",color:"grey",className:`${_i}-content-wrapper-collapse-tag`,key:`_+${e}`,style:{marginRight:0,flexShrink:0}},"+",e);return r&&(a=R.createElement(qo,Object.assign({showArrow:!0,content:R.createElement(_4,{spacing:2,wrap:!0,style:{maxWidth:"400px"}},t.map((o,l)=>this.renderTag(o,l))),trigger:"hover",position:"top",autoAdjustOverflow:!0},s,{key:`_+${e}_Popover`}),a)),a}renderOverflow(e,t){return e.length&&e[0]?this.renderTag(e[0],t,!0):null}handleOverflow(e){const{overflowItemCount:t,selections:n}=this.state,{maxTagCount:r}=this.props,s=n.size-r>0?n.size-r+e.length-1:e.length-1;t!==s&&this.foundation.updateOverflowItemCount(n.size,s)}renderCollapsedTags(e,t){const{overflowItemCount:n}=this.state,r=typeof t=="number"?e.slice(0,t):e;return R.createElement("div",{className:`${_i}-content-wrapper-collapse`},R.createElement(C2,{items:r,key:String(e.length),overflowRenderer:s=>this.renderOverflow(s,t-1),onOverflow:s=>this.handleOverflow(s),visibleItemRenderer:(s,a)=>this.renderTag(s,a)}),n>0&&this.renderNTag(n,e.slice(e.length-n)))}renderOneLineTags(e,t){let{renderSelectedItem:n}=this.props;const{showRestTagsPopover:r,restTagsPopoverProps:s,maxTagCount:a}=this.props,{isFullTags:o}=this.state;let l;if(typeof n>"u"&&(n=u=>({isRenderInTag:!0,content:u.label})),r){const c=(o?e:e.slice(0,a)).map((d,h)=>this.getTagItem(d,h,n));l=R.createElement(k2,{tagList:c,maxTagCount:t,restCount:o?void 0:e.length-a,size:"large",mode:"custom",showPopover:r,popoverProps:s,onPlusNMouseEnter:()=>{this.foundation.updateIsFullTags()}})}else{const c=e.slice(0,a).map((d,h)=>this.getTagItem(d,h,n));l=R.createElement(k2,{tagList:c,maxTagCount:t,restCount:e.length-a,size:"large",mode:"custom"})}return l}renderMultipleSelection(e,t){this.props;const{placeholder:n,maxTagCount:r,expandRestTagsOnClick:s,ellipsisTrigger:a}=this.props,{inputValue:o,isOpen:l}=this.state,u=[...e],c=he({[`${_i}-content-wrapper`]:!0,[`${_i}-content-wrapper-one-line`]:r&&!l,[`${_i}-content-wrapper-empty`]:!u.length}),d=he({[`${_i}-selection-text`]:!0,[`${_i}-selection-placeholder`]:!u.length,[`${_i}-selection-text-hide`]:u&&u.length}),h=n&&!o?R.createElement("span",{className:d},n):null,p=u.length>r?r:void 0,f=!r,g=a?this.renderCollapsedTags(u,p):this.renderOneLineTags(u,p),v=f||s&&l?u.map((m,b)=>this.renderTag(m,b)):g;return R.createElement(R.Fragment,null,R.createElement("div",{className:c},u&&u.length?v:h,t?this.renderInput():null))}onMouseEnter(e){this.foundation.handleMouseEnter(e)}onMouseLeave(e){this.foundation.handleMouseLeave(e)}onKeyPress(e){this.foundation.handleKeyPress(e)}handlePopoverVisibleChange(e){const{virtualize:t}=this.props,{selections:n}=this.state;if(e)if(t){let r=-1;if(n.forEach(s=>{const a=wt(s,"_scrollIndex");Gs(a)&&a>=0&&(r=r!==-1&&r<a?r:a)}),r!==-1)try{this.virtualizeListRef.current.scrollToItem(r,"center")}catch{}}else this.foundation.updateScrollTop()}renderSuffix(){const{suffix:e}=this.props,t=he({[`${_i}-suffix`]:!0,[`${_i}-suffix-text`]:e&&en(e),[`${_i}-suffix-icon`]:Zl(e)});return R.createElement("div",{className:t,"x-semi-prop":"suffix"},e)}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:n}=this.props,r=e||t,s=he({[`${_i}-prefix`]:!0,[`${_i}-inset-label`]:t,[`${_i}-prefix-text`]:r&&en(r),[`${_i}-prefix-icon`]:Zl(r)});return R.createElement("div",{className:s,id:n,"x-semi-prop":"prefix,insetLabel"},r)}renderSelection(){const e=this.props,{disabled:t,multiple:n,filter:r,style:s,id:a,size:o,className:l,validateStatus:u,showArrow:c,suffix:d,prefix:h,insetLabel:p,placeholder:f,triggerRender:g,arrowIcon:v,clearIcon:m,borderless:b}=e,_=ZQt(e,["disabled","multiple","filter","style","id","size","className","validateStatus","showArrow","suffix","prefix","insetLabel","placeholder","triggerRender","arrowIcon","clearIcon","borderless"]),{selections:S,isOpen:C,keyboardEventSet:k,inputValue:E,isHovering:A,isFocus:P,showInput:O,focusIndex:M}=this.state,D=typeof g=="function",L=!!r,H=D?he(l):he(_i,l,{[`${_i}-borderless`]:b,[`${_i}-open`]:C,[`${_i}-focus`]:P,[`${_i}-disabled`]:t,[`${_i}-single`]:!n,[`${_i}-multiple`]:n,[`${_i}-filterable`]:L,[`${_i}-small`]:o==="small",[`${_i}-large`]:o==="large",[`${_i}-error`]:u==="error",[`${_i}-warning`]:u==="warning",[`${_i}-no-arrow`]:!c,[`${_i}-with-prefix`]:h||p,[`${_i}-with-suffix`]:d}),B=this.props.showClear&&(S.size||E)&&!t&&(A||C),F=c?R.createElement("div",{className:`${_i}-arrow`,"x-semi-prop":"arrowIcon"},v):R.createElement("div",{className:`${_i}-arrow-empty`}),z=m||R.createElement(Sm,null),N=D?R.createElement(Ab,{value:Array.from(S.values()),inputValue:E,onChange:this.handleInputChange,onSearch:this.handleInputChange,onRemove:G=>this.foundation.removeTag(G),onClear:this.onClear,disabled:t,triggerRender:g,placeholder:f,componentName:"Select",componentProps:Object.assign({},this.props)}):[R.createElement(ee.Fragment,{key:"prefix"},h||p?this.renderPrefix():null),R.createElement(ee.Fragment,{key:"selection"},R.createElement("div",{className:he(`${_i}-selection`)},n?this.renderMultipleSelection(S,L):this.renderSingleSelection(S,L))),R.createElement(ee.Fragment,{key:"clearicon"},B?R.createElement("div",{className:he(`${_i}-clear`),onClick:this.onClear},z):F),R.createElement(ee.Fragment,{key:"suffix"},d?this.renderSuffix():null)],U=t||L&&O||L&&n?-1:0;return R.createElement("div",Object.assign({role:"combobox","aria-disabled":t,"aria-expanded":C,"aria-controls":`${_i}-${this.selectOptionListID}`,"aria-haspopup":"listbox","aria-label":S.size?"selected":"","aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],className:H,ref:G=>this.triggerRef.current=G,onClick:G=>this.foundation.handleClick(G),style:s,id:this.selectID,tabIndex:U,"aria-activedescendant":M!==-1?`${this.selectID}-option-${M}`:"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:G=>this.foundation.handleTriggerFocus(G),onBlur:G=>this.foundation.handleTriggerBlur(G),onKeyPress:this.onKeyPress},k,this.getDataAttr(_)),N)}render(){const{direction:e}=this.context,t=e==="rtl"?"bottomRight":"bottomLeft",{children:n,position:r=t,zIndex:s,getPopupContainer:a,motion:o,autoAdjustOverflow:l,mouseLeaveDelay:u,mouseEnterDelay:c,spacing:d,stopPropagation:h,dropdownMargin:p}=this.props,{isOpen:f,optionKey:g}=this.state,v=this.renderOptions(n),m=this.renderSelection();return R.createElement(qo,{getPopupContainer:a,motion:o,margin:p,autoAdjustOverflow:l,mouseLeaveDelay:u,mouseEnterDelay:c,zIndex:s,ref:this.optionsRef,content:v,visible:f,trigger:"custom",rePosKey:g,position:r,spacing:d,stopPropagation:h,disableArrowKeyDown:!0,onVisibleChange:b=>this.handlePopoverVisibleChange(b),afterClose:()=>this.foundation.handlePopoverClose()},m)}}Uo.contextType=ic;Uo.Option=E_;Uo.OptGroup=F4;Uo.propTypes={"aria-describedby":w.string,"aria-errormessage":w.string,"aria-invalid":w.bool,"aria-labelledby":w.string,"aria-required":w.bool,autoFocus:w.bool,autoClearSearchValue:w.bool,borderless:w.bool,children:w.node,clearIcon:w.node,defaultValue:w.oneOfType([w.string,w.number,w.array,w.object]),ellipsisTrigger:w.bool,value:w.oneOfType([w.string,w.number,w.array,w.object]),placeholder:w.node,onChange:w.func,multiple:w.bool,filter:w.oneOfType([w.func,w.bool]),max:w.number,maxTagCount:w.number,maxHeight:w.oneOfType([w.string,w.number]),style:w.object,className:w.string,size:w.oneOf(K8.SIZE_SET),disabled:w.bool,emptyContent:w.node,expandRestTagsOnClick:w.bool,onDropdownVisibleChange:w.func,zIndex:w.number,position:w.oneOf(K8.POSITION_SET),onSearch:w.func,getPopupContainer:w.func,dropdownClassName:w.string,dropdownStyle:w.object,dropdownMargin:w.oneOfType([w.number,w.object]),outerTopSlot:w.node,innerTopSlot:w.node,inputProps:w.object,outerBottomSlot:w.node,innerBottomSlot:w.node,optionList:w.array,dropdownMatchSelectWidth:w.bool,loading:w.bool,defaultOpen:w.bool,validateStatus:w.oneOf(K8.STATUS),defaultActiveFirstOption:w.bool,triggerRender:w.func,stopPropagation:w.bool,motion:w.bool,onChangeWithObject:w.bool,suffix:w.node,prefix:w.node,insetLabel:w.node,insetLabelId:w.string,showClear:w.bool,showArrow:w.bool,renderSelectedItem:w.func,allowCreate:w.bool,renderCreateItem:w.func,onMouseEnter:w.func,onMouseLeave:w.func,clickToHide:w.bool,onExceed:w.func,onCreate:w.func,remote:w.bool,onDeselect:w.func,onSelect:w.func,autoAdjustOverflow:w.bool,mouseEnterDelay:w.number,mouseLeaveDelay:w.number,spacing:w.oneOfType([w.number,w.object]),onBlur:w.func,onFocus:w.func,onClear:w.func,virtualize:w.object,renderOptionItem:w.func,onListScroll:w.func,arrowIcon:w.node,preventScroll:w.bool};Uo.__SemiComponentName__="Select";Uo.defaultProps=oh(Uo.__SemiComponentName__,{stopPropagation:!0,motion:!0,borderless:!1,zIndex:Uc.DEFAULT_Z_INDEX,filter:!1,multiple:!1,disabled:!1,defaultOpen:!1,allowCreate:!1,placeholder:"",onDropdownVisibleChange:Te,onChangeWithObject:!1,onChange:Te,onSearch:Te,onMouseEnter:Te,onMouseLeave:Te,onDeselect:Te,onSelect:Te,onCreate:Te,onExceed:Te,onFocus:Te,onBlur:Te,onClear:Te,onListScroll:Te,maxHeight:QIe.LIST_HEIGHT,dropdownMatchSelectWidth:!0,defaultActiveFirstOption:!0,showArrow:!0,showClear:!1,remote:!1,autoAdjustOverflow:!0,autoClearSearchValue:!0,arrowIcon:R.createElement(MP,{"aria-label":""}),showRestTagsPopover:!1,restTagsPopoverProps:{},expandRestTagsOnClick:!1,ellipsisTrigger:!1});const JQt={PREFIX:`${Ze}-progress`},Ql={types:["line","circle"],DEFAULT_TYPE:"line",STROKE_DEFAULT:"var(--semi-color-success)",strokeLineCap:["square","round"],DEFAULT_LINECAP:"round",sizes:["default","small","large"],DEFAULT_SIZE:"default",directions:["vertical","horizontal"],DEFAULT_DIRECTION:"horizontal"};function eJt(i,e,t){try{const n=tJt(i,e,t);if(n.length!==0)return n}catch{return}}function tJt(i,e,t){if(i.sort((r,s)=>r.percent-s.percent),i[0].percent>e)return Ql.STROKE_DEFAULT;const n=i[i.length-1];if(n.percent<e)return Lk(n.color);for(const[r,s]of i.entries()){if(s.percent===e)return Lk(s.color);if(e>s.percent)continue;const a=i[r-1];return t?iJt({startColor:Lk(a.color),endColor:Lk(s.color),size:s.percent-a.percent-1},e-a.percent-1):Lk(a.color)}}function iJt(i,e){const{startColor:t,endColor:n,size:r}=i,s=t.split(""),a=n.split(""),o=[parseInt(`${s[1]}${s[2]}`,16),parseInt(`${a[1]}${a[2]}`,16)],l=[parseInt(`${s[3]}${s[4]}`,16),parseInt(`${a[3]}${a[4]}`,16)],u=[parseInt(`${s[5]}${s[6]}`,16),parseInt(`${a[5]}${a[6]}`,16)],c=[parseInt(`${s[7]}${s[8]}`,16),parseInt(`${a[7]}${a[8]}`,16)],d=(o[0]-o[1])/(r+1),h=(l[0]-l[1])/(r+1),p=(u[0]-u[1])/(r+1),f=(c[0]-c[1])/(r+1);function g(m){const b=Math.round(o[0]-d*(m+1)).toString(16),_=Math.round(l[0]-h*(m+1)).toString(16),S=Math.round(u[0]-p*(m+1)).toString(16),C=`${v(b)}${v(_)}${v(S)}`,k=Math.floor(f*(m+1)+c[1]).toString(16);return Ad.Hex(`#${C}`,k)}function v(m){return m.length===1?`0${m}`:m.length===0?"00":m}if(typeof e>"u"){const m=[t];for(let b=0;b<r;b+=1)m.push(g(b));return m}return g(e)}function Lk(i){if(i=i.trim().toLowerCase(),WS.hex.test(i))return Ad.Hex(i,void 0);if(WS.hslA.test(i))return Ad.Hex(Ad.HslA(i),void 0);if(WS.rgbA.test(i))return Ad.Hex(Ad.RgbA(i),void 0);if(WS.semiDesignTokens.test(i))return Bge.ALONG.indexOf(i)!==-1?Ad.SemiDesignToken(i):Bge.SEQUENCE.indexOf(i)!==-1?Ad.SemiDesignToken(`${i}-5`):Ad.SemiDesignToken(`${i}`)}const Ad={Hex(i,e){return i=i.replace("#",""),i.length===8?`#${i}`:i.length===6?`#${i}${e||"ff"}`:(i.length===3&&(i=i.split("").map(t=>t+t).join("")),`#${i}${e||"ff"}`)},SemiDesignToken(i){if(typeof window>"u")return;const e=getComputedStyle(document.body).getPropertyValue(`--semi-${i}`);if(e==="")return;const t=`rgba(${e}, 1)`;return Ad.RgbA(t)},HslA(i){const e=WS.hslA.exec(i),t=parseInt(e[2]),n=parseInt(e[3])/100,r=parseInt(e[4])/100,s=e[5],a=(1-Math.abs(2*r-1))*n,o=a*(1-Math.abs(t/60%2-1)),l=r-a/2;let u=0,c=0,d=0;return 0<=t&&t<60?(u=a,c=o,d=0):60<=t&&t<120?(u=o,c=a,d=0):120<=t&&t<180?(u=0,c=a,d=o):180<=t&&t<240?(u=0,c=o,d=a):240<=t&&t<300?(u=o,c=0,d=a):300<=t&&t<360&&(u=a,c=0,d=o),u=Math.round((u+l)*255).toString(16),c=Math.round((c+l)*255).toString(16),d=Math.round((d+l)*255).toString(16),Ad.utils.pAL(u,c,d,s)},RgbA(i){const e=WS.rgbA.exec(i),t=parseInt(e[2],10).toString(16),n=parseInt(e[3],10).toString(16),r=parseInt(e[4],10).toString(16),s=e[5];return Ad.utils.pAL(t,n,r,s)},utils:{pAL(i,e,t,n){return i.length==1&&(i="0"+i),e.length==1&&(e="0"+e),t.length==1&&(t="0"+t),typeof n<"u"?(n=Math.round(parseInt(n)*255).toString(16),n.length==1&&(n="0"+n),"#"+i+e+t+n):"#"+i+e+t}}},WS={hex:/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,hslA:/(hsl)a?\(\s*?(\d+),?\s*?(\d+)%,?\s*?(\d+)%,?\s*?\/?(\s*?[\d.]+)?\s*?\)/,rgbA:/(rgb)a?\(\s*?(\d+),?\s*?(\d+),?\s*?(\d+),?\s*?\/?(\s*?[\d.]+)?\s*?\)/,semiDesignTokens:/(\w+)?-?(\w+)-?(\d)?/},Bge={ALONG:["black","white"],SEQUENCE:["amber","blue","cyan","green","grey","indigo","light-blue","light-green","lime","orange","pink","purple","red","teal","violet","yellow"]};var $ge=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const kh=JQt.PREFIX;class m6 extends ee.Component{constructor(e){super(e),this._mounted=!0,this._mounted=!0,this.state={percentNumber:this.props.percent}}componentDidUpdate(e){if(isNaN(this.props.percent)||isNaN(e.percent))throw new Error("[Semi Progress]:percent can not be NaN");if(e.percent!==this.props.percent){if(!this.props.motion){this.setState({percentNumber:this.props.percent});return}this.animation&&this.animation.destroy&&this.animation.destroy(),this.animation=new vMe({from:{value:e.percent},to:{value:this.props.percent}},{easing:"linear",duration:300}),this.animation.on("frame",t=>{if(this._mounted===!1)return;const n=parseInt(t.value);this.setState({percentNumber:n})}),this.animation.on("rest",()=>{this._mounted!==!1&&this.setState({percentNumber:this.props.percent})}),this.animation.start()}}componentWillUnmount(){this.animation&&this.animation.destroy(),this._mounted=!1}renderCircleProgress(){const e=this.props,{strokeLinecap:t,style:n,className:r,strokeWidth:s,format:a,size:o,stroke:l,strokeGradient:u,showInfo:c,percent:d,orbitStroke:h,id:p}=e,f=$ge(e,["strokeLinecap","style","className","strokeWidth","format","size","stroke","strokeGradient","showInfo","percent","orbitStroke","id"]),g=this.props["aria-label"],v=this.props["aria-labelledby"],m=this.props["aria-valuetext"],{percentNumber:b}=this.state,_={wrapper:he(`${kh}-circle`,r),svg:he(`${kh}-circle-ring`),circle:he(`${kh}-circle-ring-inner`)},S=this.calcPercent(d),C=this.calcPercent(b);let k;this.props.width?k=this.props.width:o===Ql.DEFAULT_SIZE?k=72:k=24;const E=this.selectStroke(l,d,u),A=k/2,P=k/2,O=(k-s)/2,M=O*2*Math.PI,D=(1-S/100)*M,L=`${M} ${M}`,H=a(C);return R.createElement("div",Object.assign({id:p,className:_.wrapper,style:n,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":C,"aria-labelledby":v,"aria-label":g,"aria-valuetext":m},WF(f)),R.createElement("svg",{key:o,className:_.svg,height:k,width:k,"aria-hidden":!0},R.createElement("circle",{strokeDashoffset:0,strokeWidth:s,strokeDasharray:L,strokeLinecap:t,fill:"transparent",stroke:h,r:O,cx:P,cy:A,"aria-hidden":!0}),R.createElement("circle",{className:_.circle,strokeDashoffset:D,strokeWidth:s,strokeDasharray:L,strokeLinecap:t,fill:"transparent",stroke:E,r:O,cx:P,cy:A,"aria-hidden":!0})),c&&o!=="small"?R.createElement("span",{className:`${kh}-circle-text`},H):null)}calcPercent(e){let t;return e>100?t=100:e<0?t=0:t=e,t}selectStroke(e,t,n){if(typeof e=="string")return e;const r=eJt(e,t,n);return typeof r<"u"?r:Ql.STROKE_DEFAULT}renderLineProgress(){const e=this.props,{className:t,style:n,stroke:r,strokeGradient:s,direction:a,format:o,showInfo:l,size:u,percent:c,orbitStroke:d,id:h}=e,p=$ge(e,["className","style","stroke","strokeGradient","direction","format","showInfo","size","percent","orbitStroke","id"]),f=this.props["aria-label"],g=this.props["aria-labelledby"],v=this.props["aria-valuetext"],{percentNumber:m}=this.state,b=he(kh,t,{[`${kh}-horizontal`]:a===Ql.DEFAULT_DIRECTION,[`${kh}-vertical`]:a!==Ql.DEFAULT_DIRECTION,[`${kh}-large`]:u==="large"}),_=he({[`${kh}-track`]:!0}),S=he(`${kh}-track-inner`),C=this.calcPercent(c),k=this.calcPercent(m),A={background:this.selectStroke(r,c,s)};a===Ql.DEFAULT_DIRECTION?A.width=`${C}%`:A.height=`${C}%`;const P=o(k);return R.createElement("div",Object.assign({id:h,className:b,style:n,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":C,"aria-labelledby":g,"aria-label":f,"aria-valuetext":v},WF(p)),R.createElement("div",{className:_,style:d?{backgroundColor:d}:{},"aria-hidden":!0},R.createElement("div",{className:S,style:A,"aria-hidden":!0})),l?R.createElement("div",{className:`${kh}-line-text`},P):null)}render(){const{type:e}=this.props;return e==="line"?this.renderLineProgress():this.renderCircleProgress()}}m6.propTypes={"aria-label":w.string,"aria-labelledby":w.string,"aria-valuetext":w.string,className:w.string,direction:w.oneOf(Ql.directions),format:w.oneOfType([w.func,w.node]),id:w.string,motion:w.oneOfType([w.bool,w.func,w.object]),orbitStroke:w.string,percent:w.number,scale:w.number,showInfo:w.bool,size:w.oneOf(Ql.sizes),stroke:w.oneOfType([w.string,w.arrayOf(w.shape({percent:w.number,color:w.string}))]),strokeGradient:w.bool,strokeLinecap:w.oneOf(Ql.strokeLineCap),strokeWidth:w.number,style:w.object,type:w.oneOf(Ql.types),width:w.number};m6.defaultProps={className:"",direction:Ql.DEFAULT_DIRECTION,format:i=>`${i}%`,motion:!0,orbitStroke:"var(--semi-color-fill-0)",percent:0,showInfo:!1,size:Ql.DEFAULT_SIZE,stroke:Ql.STROKE_DEFAULT,strokeGradient:!1,strokeLinecap:Ql.DEFAULT_LINECAP,strokeWidth:4,style:{},type:Ql.DEFAULT_TYPE};const t3e={PREFIX:`${Ze}-radio`,INNER:`${Ze}-radio-inner`,TEXT:`${Ze}-radio-text`,INPUT:`${Ze}-radio-input`,CHECKED:`${Ze}-radio-checked`,DISABLED:`${Ze}-radio-disabled`,BUTTON:`${Ze}-radio-button`},nJt={PREFIX:`${Ze}-radioGroup`,INNER:`${Ze}-radioGroup-inner`,TEXT:`${Ze}-radioGroup-text`,INPUT:`${Ze}-radioGroup-input`,CHECKED:`${Ze}-radioGroup-checked`,DISABLED:`${Ze}-radioGroup-disabled`},ya={DIRECTION_SET:["horizontal","vertical"],DEFAULT_DIRECTION:"horizontal",MODE:["advanced",""],TYPE_DEFAULT:"default",TYPE_BUTTON:"button",TYPE_CARD:"card",TYPE_PURECARD:"pureCard",BUTTON_SIZE:["middle","small","large"]};class rJt extends _n{constructor(e){super(Object.assign({},e))}init(){const e=this._getDisplayValue();this._setValue(e)}_getDisplayValue(){const{value:e,defaultValue:t}=this.getProps();let n;return"value"in this.getProps()?n=e:"defaultValue"in this.getProps()&&(n=t),n}handleChange(e){const t=this.getProp("mode"),n=this.getState("value"),{checked:r,value:s}=e.target,a=this._adapter.isInProps("value"),o=Object.assign(Object.assign({},e),{target:Object.assign(Object.assign({},e.target),{value:s})});t==="advanced"&&!r&&(o.target.value=void 0),a||(t==="advanced"&&!r?this._setValue(void 0):this._setValue(s)),(t==="advanced"||n!==s)&&this._adapter.notifyChange(o)}handlePropValueChange(e){this._setValue(e)}_setValue(e){this._adapter.setValue(e)}destroy(){}}class sJt extends _n{constructor(){super(...arguments),this.handleFocusVisible=e=>{const{target:t}=e;try{t.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{vs(!0,"Warning: [Semi Radio] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){const{children:e,extra:t,extraId:n,addonId:r}=this._adapter.getProps();e&&!r&&this._adapter.setAddonId(),t&&!n&&this._adapter.setExtraId()}setHover(e){this._adapter.setHover(e)}setChecked(e){this._adapter.setChecked(e)}}class aJt extends _n{constructor(e){super(Object.assign({},e))}init(){const e=this._adapter.getProp("checked"),t=this._adapter.getProp("defaultChecked");this.setChecked(e||t)}setChecked(e){this._adapter.setNativeControlChecked(e)}getChecked(){return this._adapter.getProp("checked")}handleChange(e){const t="checked"in this.getProps(),{checked:n}=e.target,r=()=>{e.stopPropagation()},s=()=>{e.preventDefault()},a={target:Object.assign(Object.assign({},this.getProps()),{checked:n}),stopPropagation:r,preventDefault:s};t?this._adapter.notifyChange(a):(this.setChecked(n),this._adapter.notifyChange(a))}destroy(){}}const pQ=R.createContext(null);class B4 extends ln{constructor(e){super(e),this.state={checked:!1},this.foundation=new aJt(this.adapter),this.onChange=this.onChange.bind(this)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{this.props.onChange(e)}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e){e.checked!==this.props.checked&&this.foundation.setChecked(this.props.checked)}componentWillUnmount(){this.foundation.destroy()}blur(){this.inputEntity.blur()}focus(){const{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}onChange(e){this.foundation.handleChange(e)}render(){const{disabled:e,mode:t,autoFocus:n,name:r,isButtonRadio:s,isPureCardRadioGroup:a,addonId:o,extraId:l,"aria-label":u,focusInner:c,onInputFocus:d,onInputBlur:h}=this.props,{checked:p}=this.state,f=this.props.prefixCls||t3e.PREFIX,g=he({[`${f}-inner`]:!0,[`${f}-inner-checked`]:!!p,[`${f}-inner-buttonRadio`]:s,[`${f}-inner-pureCardRadio`]:a}),v=he({[`${f}-focus`]:c,[`${f}-focus-border`]:c&&!p,[`${f}-inner-display`]:!s});return R.createElement("span",{className:g},R.createElement("input",{ref:m=>{this.inputEntity=m},autoFocus:n,type:t==="advanced"?"checkbox":"radio",checked:!!p,disabled:e,onChange:this.onChange,name:r,"aria-label":u,"aria-labelledby":o,"aria-describedby":l,onFocus:d,onBlur:h}),R.createElement("span",{className:v},p?R.createElement(lVt,null):null))}}B4.contextType=pQ;B4.propTypes={checked:w.bool,disabled:w.bool,isButtonRadio:w.bool,onChange:w.func,mode:w.oneOf(["advanced",""]),"aria-label":w.string,focusInner:w.bool,onInputFocus:w.func,onInputBlur:w.func,preventScroll:w.bool};B4.defaultProps={onChange:Te,isButtonRadio:!1};var oJt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};class k0 extends ln{constructor(e){super(e),this.onChange=t=>{const{onChange:n}=this.props;if(this.isInGroup()){const{radioGroup:r}=this.context;r.onChange&&r.onChange(t)}!("checked"in this.props)&&this.foundation.setChecked(t.target.checked),n&&n(t)},this.handleMouseEnter=t=>{this.props.onMouseEnter(t),this.foundation.setHover(!0)},this.handleMouseLeave=t=>{this.props.onMouseLeave(t),this.foundation.setHover(!1)},this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.state={hover:!1,addonId:e.addonId,extraId:e.extraId,checked:e.checked||e.defaultChecked||!1},this.foundation=new sJt(this.adapter),this.radioEntity=null}componentDidUpdate(e){this.props.checked!==e.checked&&(Or(this.props.checked)?this.foundation.setChecked(!1):FMe(this.props.checked)&&this.foundation.setChecked(this.props.checked))}get adapter(){return Object.assign(Object.assign({},super.adapter),{setHover:e=>{this.setState({hover:e})},setAddonId:()=>{this.setState({addonId:x0({prefix:"addon"})})},setChecked:e=>{this.setState({checked:e})},setExtraId:()=>{this.setState({extraId:x0({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})}})}isInGroup(){return this.context&&this.context.radioGroup}focus(){this.radioEntity.focus()}blur(){this.radioEntity.blur()}render(){const e=this.props,{addonClassName:t,addonStyle:n,disabled:r,style:s,className:a,prefixCls:o,displayMode:l,children:u,extra:c,mode:d,type:h,value:p,name:f}=e,g=oJt(e,["addonClassName","addonStyle","disabled","style","className","prefixCls","displayMode","children","extra","mode","type","value","name"]);let v,m,b,_,S,C,k,E,A;const{hover:P,addonId:O,extraId:M,focusVisible:D,checked:L}=this.state,H={checked:L,disabled:r};this.isInGroup()?(v=this.context.radioGroup.value===p,m=r||this.context.radioGroup.disabled,b=this.context.mode,_=this.context.radioGroup.isButtonRadio,S=this.context.radioGroup.isCardRadio,C=this.context.radioGroup.isPureCardRadio,E=this.context.radioGroup.buttonSize,A=o||this.context.radioGroup.prefixCls,H.checked=v,H.disabled=m):(v=L,m=r,b=d,k=h==="button",A=o,_=h===ya.TYPE_BUTTON,C=h===ya.TYPE_PURECARD,S=h===ya.TYPE_CARD||C);const B=typeof _>"u"?k:_,F=A||t3e.PREFIX,z=S||C||B,N=he(F,{[`${F}-disabled`]:m,[`${F}-checked`]:v,[`${F}-${l}`]:!!l,[`${F}-buttonRadioComponent`]:k,[`${F}-buttonRadioGroup`]:_,[`${F}-buttonRadioGroup-${E}`]:_&&E,[`${F}-cardRadioGroup`]:S,[`${F}-cardRadioGroup_disabled`]:m&&S,[`${F}-cardRadioGroup_checked`]:S&&v&&!m,[`${F}-cardRadioGroup_checked_disabled`]:S&&v&&m,[`${F}-cardRadioGroup_hover`]:S&&!v&&P&&!m,[a]:!!a,[`${F}-focus`]:D&&(S||C)}),U=this.isInGroup()&&this.context.radioGroup.name,G=he({[`${F}-addon`]:!B,[`${F}-addon-buttonRadio`]:B,[`${F}-addon-buttonRadio-checked`]:B&&v,[`${F}-addon-buttonRadio-disabled`]:B&&m,[`${F}-addon-buttonRadio-hover`]:B&&!v&&!m&&P,[`${F}-addon-buttonRadio-${E}`]:B&&E,[`${F}-focus`]:D&&B},t),j=()=>!u&&!c?null:R.createElement("div",{className:he([`${F}-content`,{[`${F}-isCardRadioGroup_content`]:S}])},u?R.createElement("span",{className:G,style:n,id:O,"x-semi-prop":"children"},u):null,c&&!B?R.createElement("div",{className:`${F}-extra`,id:M,"x-semi-prop":"extra"},c):null);return R.createElement("label",Object.assign({style:s,className:N,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.getDataAttr(g)),R.createElement(B4,Object.assign({},this.props,H,{mode:b,name:f??U,isButtonRadio:B,isPureCardRadioGroup:C,onChange:this.onChange,ref:K=>{this.radioEntity=K},addonId:u&&O,extraId:c&&M,focusInner:D&&!z,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),j())}}k0.contextType=pQ;k0.propTypes={autoFocus:w.bool,checked:w.bool,defaultChecked:w.bool,value:w.any,style:w.object,className:w.string,disabled:w.bool,prefixCls:w.string,displayMode:w.oneOf(["vertical",""]),onChange:w.func,onMouseEnter:w.func,onMouseLeave:w.func,mode:w.oneOf(ya.MODE),extra:w.node,addonStyle:w.object,addonClassName:w.string,type:w.oneOf([ya.TYPE_DEFAULT,ya.TYPE_BUTTON,ya.TYPE_CARD,ya.TYPE_PURECARD]),"aria-label":w.string,preventScroll:w.bool};k0.defaultProps={autoFocus:!1,defaultChecked:!1,value:void 0,style:void 0,onMouseEnter:Te,onMouseLeave:Te,mode:"",type:"default"};k0.elementType="Radio";var lJt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};class GP extends ln{constructor(e){super(e),this.onChange=t=>{this.foundation.handleChange(t)},this.getFormatName=()=>this.props.name||"default",this.state={value:e.value||e.defaultValue},this.foundation=new rJt(this.adapter)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){typeof e.value=="number"&&isNaN(e.value)&&typeof this.props.value=="number"&&isNaN(this.props.value)||e.value!==this.props.value&&this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>{this.setState({value:e})},getProps:()=>this.props,isInProps:e=>e in this.props,notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}render(){const e=this.props,{children:t,options:n,mode:r,prefixCls:s,className:a,style:o,direction:l,type:u,buttonSize:c,id:d}=e,h=lJt(e,["children","options","mode","prefixCls","className","style","direction","type","buttonSize","id"]),p=u===ya.TYPE_BUTTON,f=u===ya.TYPE_PURECARD,g=u===ya.TYPE_CARD||f,v=u===ya.TYPE_DEFAULT,m=s||nJt.PREFIX,b=he(a,{[m]:!0,[`${m}-wrapper`]:!0,[`${m}-${l}`]:l&&!p,[`${m}-${l}-default`]:l&&v,[`${m}-${l}-card`]:l&&g,[`${m}-buttonRadio`]:p}),_=this.state.value;let S;return n?S=(n||[]).map((C,k)=>typeof C=="string"?R.createElement(k0,{key:k,disabled:this.props.disabled,value:C},C):R.createElement(k0,{key:k,disabled:C.disabled||this.props.disabled,value:C.value,extra:C.extra,className:C.className,style:C.style},C.label)):t&&(S=R.Children.map(t,(C,k)=>R.isValidElement(C)?R.cloneElement(C,{key:k}):null)),R.createElement("div",Object.assign({className:b,style:o,id:d,"aria-label":this.props["aria-label"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},this.getDataAttr(h)),R.createElement(pQ.Provider,{value:{radioGroup:{onChange:this.onChange,value:_,disabled:this.props.disabled,name:this.getFormatName(),isButtonRadio:p,isCardRadio:g,isPureCardRadio:f,buttonSize:c,prefixCls:s},mode:r}},S))}}GP.propTypes={defaultValue:w.any,disabled:w.bool,name:w.string,options:w.array,buttonSize:w.oneOf(ya.BUTTON_SIZE),type:w.oneOf([ya.TYPE_DEFAULT,ya.TYPE_BUTTON,ya.TYPE_CARD,ya.TYPE_PURECARD]),value:w.any,onChange:w.func,children:w.node,prefixCls:w.string,className:w.string,style:w.object,direction:w.oneOf(ya.DIRECTION_SET),mode:w.oneOf(ya.MODE),"aria-label":w.string,"aria-describedby":w.string,"aria-errormessage":w.string,"aria-invalid":w.bool,"aria-labelledby":w.string,"aria-required":w.bool,id:w.string};GP.defaultProps={disabled:!1,onChange:Te,direction:ya.DEFAULT_DIRECTION,mode:"",type:ya.TYPE_DEFAULT,buttonSize:"middle"};class i3e extends k0{}i3e.Group=GP;const cR={PREFIX:`${Ze}-rating`},n3e={SIZE_SET:["default","small"]};class fQ extends _n{constructor(e){super(Object.assign(Object.assign({},fQ.defaultAdapter),e)),this.handleStarFocusVisible=t=>{const{target:n}=t;this.getProps();try{n.matches(":focus-visible")&&this._adapter.setEmptyStarFocusVisible(!0)}catch{vs(!0,"Warning: [Semi Rating] The current browser does not support the focus-visible")}},this.handleStarBlur=t=>{const{emptyStarFocusVisible:n}=this.getStates();n&&this._adapter.setEmptyStarFocusVisible(!1)}}init(){const{autoFocus:e,disabled:t}=this.getProps();e&&!t&&this._adapter.focus()}_getScroll(e,t){let n=t?e.pageYOffset:e.pageXOffset;const r=t?"scrollTop":"scrollLeft";if(typeof n!="number"){const s=e.document;n=s.documentElement[r],typeof n!="number"&&(n=s.body[r])}return n}_getClientPosition(e){let t,n;const r=e.ownerDocument,{body:s}=r,a=r&&r.documentElement,o=e.getBoundingClientRect();return t=o.left,n=o.top,t-=a.clientLeft||s.clientLeft||0,n-=a.clientTop||s.clientTop||0,{left:t,top:n}}_getOffsetLeft(e){const t=this._getClientPosition(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=this._getScroll(r),t.left}getStarValue(e,t){const{allowHalf:n}=this.getProps(),s=this._adapter.getContext("direction")==="rtl";let a=e+1;if(n){const o=this._adapter.getStarDOM(e),l=this._getOffsetLeft(o),u=o.clientWidth;(s&&t-l>u/2||!s&&t-l<u/2)&&(a-=.5)}return a}handleHover(e,t){const n=this.getStarValue(t,e.pageX),{clearedValue:r,hoverValue:s}=this.getStates();n!==s&&n!==r&&this._adapter.notifyHoverChange(n,null)}handleMouseLeave(){this._adapter.notifyHoverChange(void 0,null)}handleClick(e,t){const{allowClear:n}=this.getProps(),{value:r}=this.getStates(),s=this.getStarValue(t,e.pageX),a=n?s===r:!1;this._adapter.updateValue(a?0:s),a?this._adapter.notifyHoverChange(void 0,s):this._adapter.clearValue(null)}handleFocus(e){this._adapter.notifyFocus(e)}handleBlur(e){this._adapter.notifyBlur(e)}handleKeyDown(e,t){const{key:n}=e,{count:r,allowHalf:s}=this.getProps(),o=this._adapter.getContext("direction")==="rtl",l=s?.5:1;let u,c;n==="ArrowRight"||n==="ArrowUp"?u=t+(o?-l:l):(n==="ArrowLeft"||n==="ArrowDown")&&(u=t+(o?l:-l)),u>r?c=0:u<0?c=r:c=u,["ArrowRight","ArrowUp","ArrowLeft","ArrowDown"].includes(n)&&(this._adapter.notifyKeyDown(e),this._adapter.updateValue(c),this.changeFocusStar(c,e),e.preventDefault(),this._adapter.notifyHoverChange(void 0,null))}changeFocusStar(e,t){const{count:n,allowHalf:r,preventScroll:s}=this.getProps(),a=Math.ceil(e)-1,o=[...t.currentTarget.childNodes].map(l=>l.childNodes[0].childNodes);a<0?o[n][0].focus({preventScroll:s}):o[a][r?e*10%10===5?0:1:0].focus({preventScroll:s})}}class gQ extends _n{constructor(e){super(Object.assign(Object.assign({},gQ.defaultAdapter),e)),this.handleFocusVisible=(t,n)=>{const{target:r}=t;try{r.matches(":focus-visible")&&(n==="first"?this._adapter.setFirstStarFocus(!0):this._adapter.setSecondStarFocus(!0))}catch{vs(!0,"Warning: [Semi Rating] The current browser does not support the focus-visible")}},this.handleBlur=(t,n)=>{const{firstStarFocus:r,secondStarFocus:s}=this.getStates();n==="first"?r&&this._adapter.setFirstStarFocus(!1):s&&this._adapter.setSecondStarFocus(!1)}}}class r3e extends ln{constructor(e){super(e),this.firstStar=null,this.secondStar=null,this.onHover=t=>{const{onHover:n,index:r}=this.props;n(t,r)},this.onClick=t=>{const{onClick:n,index:r}=this.props;n(t,r)},this.onFocus=(t,n)=>{const{onFocus:r}=this.props;r&&r(t),this.foundation.handleFocusVisible(t,n)},this.onBlur=(t,n)=>{const{onBlur:r}=this.props;r&&r(t),this.foundation.handleBlur(t,n)},this.onKeyDown=t=>{const{onClick:n,index:r}=this.props;t.keyCode===13&&n(t,r)},this.starFocus=()=>{const{value:t,index:n,preventScroll:r}=this.props;t-n===.5?this.firstStar.focus({preventScroll:r}):this.secondStar.focus({preventScroll:r})},this.saveFirstStar=t=>{this.firstStar=t},this.saveSecondStar=t=>{this.secondStar=t},this.state={firstStarFocus:!1,secondStarFocus:!1},this.foundation=new gQ(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setFirstStarFocus:e=>{this.setState({firstStarFocus:e})},setSecondStarFocus:e=>{this.setState({secondStarFocus:e})}})}render(){const{index:e,prefixCls:t,character:n,count:r,value:s,disabled:a,allowHalf:o,focused:l,size:u,ariaLabelPrefix:c}=this.props,{firstStarFocus:d,secondStarFocus:h}=this.state,p=e+1,f=p-s,g=o&&f<1&&f>0,v=1-f,m=p<=s,b=typeof u=="number",_=he(t,{[`${t}-half`]:g,[`${t}-full`]:m,[`${t}-${u}`]:!b}),S=b?{width:u,height:u,fontSize:u}:{},C=b?"inherit":u==="small"?"default":"extra-large",k=n||R.createElement(pVt,{size:C,style:{display:"block"}}),E=e===r,A=he(`${t}-wrapper`,{[`${t}-disabled`]:a,[`${cR.PREFIX}-focus`]:(d||h)&&s!==0}),P={onClick:a?null:this.onClick,onKeyDown:a?null:this.onKeyDown,onMouseMove:a?null:this.onHover,className:A},O=o?r*2+1:r+1,M={ref:this.saveFirstStar,role:"radio","aria-checked":s===e+.5,"aria-posinset":2*e+1,"aria-setsize":O,"aria-disabled":a,"aria-label":`${e+.5} ${c}s`,"aria-labelledby":this.props["aria-describedby"],"aria-describedby":this.props["aria-describedby"],className:he(`${t}-first`,`${cR.PREFIX}-no-focus`),tabIndex:!a&&s===e+.5?0:-1,onFocus:H=>{this.onFocus(H,"first")},onBlur:H=>{this.onBlur(H,"first")}},D=!a&&(s===e+1||E&&s===0)?0:-1,L={ref:this.saveSecondStar,role:"radio","aria-checked":E?s===0:s===e+1,"aria-posinset":o?2*(e+1):e+1,"aria-setsize":O,"aria-disabled":a,"aria-label":`${E?0:e+1} ${c}${e===0?"":"s"}`,"aria-labelledby":this.props["aria-describedby"],"aria-describedby":this.props["aria-describedby"],className:he(`${t}-second`,`${cR.PREFIX}-no-focus`),tabIndex:D,onFocus:H=>{this.onFocus(H,"second")},onBlur:H=>{this.onBlur(H,"second")}};return R.createElement("li",{className:_,style:Object.assign({},S),key:e},R.createElement("div",Object.assign({},P),o&&!E&&R.createElement("div",Object.assign({},M,{style:{width:`${v*100}%`}}),k),R.createElement("div",Object.assign({},L,{"x-semi-prop":"character"}),k)))}}r3e.propTypes={value:w.number,index:w.number,prefixCls:w.string,allowHalf:w.bool,onHover:w.func,onClick:w.func,character:w.node,focused:w.bool,disabled:w.bool,count:w.number,ariaLabelPrefix:w.string,size:w.oneOfType([w.oneOf(n3e.SIZE_SET),w.number]),"aria-describedby":w.string,onFocus:w.func,onBlur:w.func,preventScroll:w.bool};var uJt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};class $4 extends ln{constructor(e){super(e),this.rate=null,this.onHover=(n,r)=>{this.foundation.handleHover(n,r)},this.onMouseLeave=()=>{this.foundation.handleMouseLeave()},this.onClick=(n,r)=>{this.foundation.handleClick(n,r)},this.onFocus=n=>{this.foundation.handleFocus(n)},this.onBlur=n=>{this.foundation.handleBlur(n)},this.onKeyDown=n=>{const{value:r}=this.state;this.foundation.handleKeyDown(n,r)},this.focus=()=>{const{disabled:n,preventScroll:r}=this.props;n||this.rate.focus({preventScroll:r})},this.blur=()=>{const{disabled:n}=this.props;n||this.rate.blur()},this.saveRef=n=>r=>{this.stars[n]=r},this.saveRate=n=>{this.rate=n},this.handleStarFocusVisible=n=>{this.foundation.handleStarFocusVisible(n)},this.handleStarBlur=n=>{this.foundation.handleStarBlur(n)},this.getAriaLabelPrefix=()=>{if(this.props["aria-label"])return this.props["aria-label"];let n="star";const{character:r}=this.props;return typeof r=="string"&&(n=r),n},this.getItemList=n=>{const{count:r,allowHalf:s,prefixCls:a,disabled:o,character:l,size:u,tooltips:c}=this.props,{value:d,hoverValue:h,focused:p}=this.state;return[...Array(r+1).keys()].map(g=>{const v=R.createElement(r3e,{ref:this.saveRef(g),index:g,count:r,prefixCls:`${a}-star`,allowHalf:s,value:h===void 0?d:h,onClick:o?Nr:this.onClick,onHover:o?Nr:this.onHover,key:g,disabled:o,character:l,focused:p,size:g===r?0:u,ariaLabelPrefix:n,onFocus:o||r!==g?Nr:this.handleStarFocusVisible,onBlur:o||r!==g?Nr:this.handleStarBlur});if(c){const m=c[g]?c[g]:"",b=h-1===g;return R.createElement(Ho,{visible:b,trigger:"custom",content:m,key:`${g}-${b}`},v)}return v})};const t=e.value===void 0?e.defaultValue:e.value;this.stars={},this.state={value:t,focused:!1,hoverValue:void 0,clearedValue:null,emptyStarFocusVisible:!1},this.foundation=new fQ(this.adapter)}static getDerivedStateFromProps(e,t){return"value"in e&&e.value!==void 0?Object.assign(Object.assign({},t),{value:e.value}):t}get adapter(){return Object.assign(Object.assign({},super.adapter),{focus:()=>{const{disabled:e,count:t}=this.props,{value:n}=this.state;if(!e){const r=Math.ceil(n)-1;this.stars[r<0?t:r].starFocus()}},getStarDOM:e=>{const t=this.stars&&this.stars[e];return $c.findDOMNode(t)},notifyHoverChange:(e,t)=>{const{onHoverChange:n}=this.props;this.setState({hoverValue:e,clearedValue:t}),n(e)},updateValue:e=>{const{onChange:t}=this.props;"value"in this.props||this.setState({value:e}),t(e)},clearValue:e=>{this.setState({clearedValue:e})},notifyFocus:e=>{const{onFocus:t}=this.props;this.setState({focused:!0}),t&&t(e)},notifyBlur:e=>{const{onBlur:t}=this.props;this.setState({focused:!1}),t&&t(e)},notifyKeyDown:e=>{const{onKeyDown:t}=this.props;this.setState({focused:!1}),t&&t(e)},setEmptyStarFocusVisible:e=>{this.setState({emptyStarFocusVisible:e})}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.props,{style:t,prefixCls:n,disabled:r,className:s,id:a,count:o,tabIndex:l}=e,u=uJt(e,["style","prefixCls","disabled","className","id","count","tabIndex"]),{value:c,emptyStarFocusVisible:d}=this.state,h=this.getAriaLabelPrefix(),p=`Rating: ${c} of ${o} ${h}${c===1?"":"s"},`,f=this.getItemList(h),g=he(n,{[`${n}-disabled`]:r,[`${n}-focus`]:d},s);return R.createElement("ul",Object.assign({"aria-label":p,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],className:g,style:t,onMouseLeave:r?Nr:this.onMouseLeave,tabIndex:r?-1:l,onFocus:r?Nr:this.onFocus,onBlur:r?Nr:this.onBlur,onKeyDown:r?Nr:this.onKeyDown,ref:this.saveRate,id:a},this.getDataAttr(u)),f)}}$4.contextType=ic;$4.propTypes={"aria-describedby":w.string,"aria-errormessage":w.string,"aria-invalid":w.bool,"aria-label":w.string,"aria-labelledby":w.string,"aria-required":w.bool,disabled:w.bool,value:w.number,defaultValue:w.number,count:w.number,allowHalf:w.bool,allowClear:w.bool,style:w.object,prefixCls:w.string,onChange:w.func,onHoverChange:w.func,className:w.string,character:w.node,tabIndex:w.number,onFocus:w.func,onBlur:w.func,onKeyDown:w.func,autoFocus:w.bool,size:w.oneOfType([w.oneOf(n3e.SIZE_SET),w.number]),tooltips:w.arrayOf(w.string),id:w.string,preventScroll:w.bool};$4.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:cR.PREFIX,onChange:Nr,onHoverChange:Nr,tabIndex:-1,size:"default"};const dl={PREFIX:`${Ze}-slider`,DISABLED:`${Ze}-slider-disabled`,VERTICAL:`${Ze}-slider-vertical`,TRACK:`${Ze}-slider-track`,DOTS:`${Ze}-slider-dots`,MARKS:`${Ze}-slider-marks`,HANDLE:`${Ze}-slider-handle`,HANDLE_DOT:`${Ze}-slider-handle-dot`},Nge=(i,e)=>(!globalThis.Touch||!(i instanceof Touch)||["stopPropagation","preventDefault"].forEach(n=>{let r=e[n];r&&(typeof r=="function"&&(r=function(){return e[n](...arguments)}),i[n]?vs(!0,`"The key ${n}" exist in Touch.`):i[n]=r)}),i);class mQ extends _n{constructor(e){var t;super(Object.assign(Object.assign({},mQ.defaultAdapter),e)),t=this,this.getMinAndMaxPercent=n=>{const{range:r,min:s,max:a}=this._adapter.getProps(),o=r?(n[0]-s)/(a-s):(n-s)/(a-s),l=r?(n[1]-s)/(a-s):1;return{min:this._checkValidity(o),max:this._checkValidity(l)}},this._checkValidity=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return n>s?s:n<r?r:n},this.computeHandleVisibleVal=(n,r,s)=>{const{focusPos:a,currentValue:o}=this._adapter.getStates(),l={min:!1,max:!1};let u;return r?u={min:r(s?this.outPutValue(o[0]):this.outPutValue(o)),max:s?r(this.outPutValue(o[1])):null}:u={min:s?this.outPutValue(o[0]):this.outPutValue(o),max:s?this.outPutValue(o[1]):null},n?(l.min=!0,l.max=!0):typeof n>"u"&&r&&(a==="min"?l.min=!0:a==="max"&&(l.max=!0)),{tipVisible:l,tipChildren:u}},this.valueFormatIsCorrect=n=>Array.isArray(n)?typeof n[0]=="number"&&typeof n[0]=="number":typeof n=="number",this.handleMousePos=(n,r)=>{const s=this._adapter.getParentRect(),a=this._adapter.getScrollParentVal(),o=s?s.left:0,l=s?s.top:0;return{x:n-o+a.scrollLeft,y:r-l+a.scrollTop}},this.getScrollParent=n=>{const r=n,s=/(auto|scroll)/,a=(u,c)=>window.getComputedStyle(u,null).getPropertyValue(c),o=u=>s.test(a(u,"overflow")+a(u,"overflow-y")+a(u,"overflow-x")),l=u=>!u||u===document.body||!(u instanceof Element)?document.body:o(u)?u:l(u.parentNode);return l(r)},this.checkMeetMinMax=n=>{const{vertical:r,verticalReverse:s,range:a}=this._adapter.getProps(),o=this._adapter.getState("currentValue");this.transValueToPos(o);const{sliderX:l,sliderY:u,sliderWidth:c,sliderHeight:d}=this._adapter.getSliderLengths();this._adapter.getStates();const h=r?d:c;let p;r&&s?p=u+h:p=r?u:l;let f;return r&&s?f=u:f=r?u+d:l+c,r&&s?n>=p?n=p:n<=f&&(n=f):n<=p?n=p:n>=f&&(n=f),n},this.transPosToValue=(n,r)=>{const s=this.checkMeetMinMax(n),{min:a,max:o,currentValue:l}=this._adapter.getStates(),{range:u,vertical:c,step:d,verticalReverse:h}=this._adapter.getProps(),{sliderX:p,sliderY:f,sliderWidth:g,sliderHeight:v}=this._adapter.getSliderLengths(),m=c?f:p,b=c?v:g;let _;c&&h?_=(m+b-s)/b*(o-a)+a:_=(s-m)/b*(o-a)+a;let S;return u?S=r?l[0]:l[1]:S=l,d!==1&&(_=Math.round(_/d)*d),u&&_!==S?r?[_,l[1]]:[l[0],_]:!u&&_!==S?_:!1},this.transValueToPos=n=>{const{min:r,max:s}=this._adapter.getStates(),{vertical:a,range:o,verticalReverse:l}=this._adapter.getProps(),{sliderX:u,sliderY:c,sliderWidth:d,sliderHeight:h}=this._adapter.getSliderLengths(),p=a?c:u,f=a?h:d;return o?[(n[0]-r)*f/(s-r)+p,(n[1]-r)*f/(s-r)+p]:(n-r)*f/(s-r)+p},this.isMarkActive=n=>{const{min:r,max:s,range:a,included:o}=this._adapter.getProps(),l=this._adapter.getState("currentValue");return typeof(n/1)=="number"&&n>=r&&n<=s?a?(n>l[1]||n<l[0])&&o?"unActive":"active":n<=l&&o?"active":"unActive":!1},this.outPutValue=n=>{const r=o=>{var l,u;return/^\d+(\.\d+)?$/.test(String(o))&&(u=(l=o.toString().split(".")[1])===null||l===void 0?void 0:l.length)!==null&&u!==void 0?u:0},s=this._adapter.getProp("step"),a=(()=>{const o=r(s),l=Math.pow(10,o);return u=>Math.round(u*l)/l})();return Array.isArray(n)?[a(n[0]),a(n[1])]:a(n)},this.handleDisabledChange=n=>{this._adapter.updateDisabled(n)},this.checkAndUpdateIsInRenderTreeState=()=>this._adapter.checkAndUpdateIsInRenderTreeState(),this.calculateOutputValue=(n,r)=>{const s=this.transPosToValue(n,r);if(s!==!1)return this.outPutValue(s)},this.handleValueChange=(n,r)=>{const{min:s,max:a}=this._adapter.getStates();let o=null;const l={};this.valueFormatIsCorrect(r)?(Array.isArray(n)&&Array.isArray(r)&&(r=[r[0]<s?s:r[0],r[1]>a?a:r[1]],o=Object.assign(l,{currentValue:r})),typeof n=="number"&&typeof r=="number"&&(r>a?r=a:r=r<s?s:r,o=Object.assign(l,{currentValue:r}))):o=l,o&&this._adapter.transNewPropsToState(o)},this.onHandleDown=(n,r)=>{this._adapter.onHandleDown(n);const s=this._adapter.getState("disabled"),{vertical:a}=this._adapter.getProps(),{dragging:o}=this._adapter.getOverallVars();if(s)return!1;this._adapter.setStateVal("isDrag",!0),this._adapter.setStateVal("chooseMovePos",r),r==="min"?this._adapter.setDragging([!0,o[1]]):this._adapter.setDragging([o[0],!0]);const l=this.handleMousePos(n.clientX,n.clientY);let u=a?l.y:l.x;if(!this._adapter.isEventFromHandle(n))this._dragOffset=0;else{const c=this._getHandleCenterPosition(a,n.target);this._dragOffset=u-c,u=c}return!0},this.onHandleMove=n=>{this._adapter.setEventDefault(n);const{disabled:r,chooseMovePos:s}=this._adapter.getStates(),{vertical:a}=this._adapter.getProps(),{dragging:o}=this._adapter.getOverallVars();if(r)return!1;this.onHandleEnter(s);const l=this.handleMousePos(n.clientX,n.clientY);let u=a?l.y:l.x;if(u=u-this._dragOffset,s==="min"&&o[0]||s==="max"&&o[1]){const c=this.calculateOutputValue(u,s==="min");if(c===void 0)return!1;this._adapter.notifyChange(c),this._adapter.onHandleMove(u,s==="min",void 0,!1,c)}return!0},this.onHandleTouchStart=(n,r)=>{const s=this._adapter.getMinHandleEl(),a=this._adapter.getMaxHandleEl();if(n.target===s||n.target===a){Zh(n);const o=Nge(n.touches[0],n);this.onHandleDown(o,r)}},this.onHandleTouchMove=n=>{const r=this._adapter.getMinHandleEl(),s=this._adapter.getMaxHandleEl();if(n.target===r||n.target===s){const a=Nge(n.touches[0],n);this.onHandleMove(a)}},this.onHandleEnter=n=>{const{disabled:r,focusPos:s}=this._adapter.getStates();r||!s&&n!==s&&this._adapter.onHandleEnter(n)},this.onHandleLeave=()=>{const n=this._adapter.getState("disabled"),r=this._adapter.getState("isDrag");!n&&!r&&this._adapter.onHandleLeave()},this.onHandleUp=n=>{this._adapter.onHandleUpBefore(n);const{disabled:r,chooseMovePos:s}=this._adapter.getStates(),{dragging:a}=this._adapter.getOverallVars();return r?!1:(s==="min"?this._adapter.setDragging([!1,a[1]]):this._adapter.setDragging([a[0],!1]),this._adapter.setStateVal("isDrag",!1),this._adapter.onHandleLeave(),this._adapter.onHandleUpAfter(),!0)},this._handleValueDecreaseWithKeyBoard=(n,r)=>{const{min:s,currentValue:a}=this.getStates(),{range:o}=this.getProps();if(r==="min")if(o){let l=a[0]-n;return l=l<s?s:l,[l,a[1]]}else{let l=a-n;return l=l<s?s:l,l}else{let l=a[1]-n;return l=l<a[0]?a[0]:l,[a[0],l]}},this._handleValueIncreaseWithKeyBoard=(n,r)=>{const{max:s,currentValue:a}=this.getStates(),{range:o}=this.getProps();if(r==="min")if(o){let l=a[0]+n;return l=l>a[1]?a[1]:l,[l,a[1]]}else{let l=a+n;return l=l>s?s:l,l}else{let l=a[1]+n;return l=l>s?s:l,[a[0],l]}},this._handleHomeKey=n=>{const{min:r,currentValue:s}=this.getStates(),{range:a}=this.getProps();return n==="min"?a?[r,s[1]]:r:[s[0],s[0]]},this._handleEndKey=n=>{const{max:r,currentValue:s}=this.getStates(),{range:a}=this.getProps();return n==="min"?a?[s[1],s[1]]:r:[s[0],r]},this.handleKeyDown=(n,r)=>{const{min:s,max:a,currentValue:o}=this.getStates(),{step:l,range:u}=this.getProps();let c;switch(n.key){case"ArrowLeft":case"ArrowDown":c=this._handleValueDecreaseWithKeyBoard(l,r);break;case"ArrowRight":case"ArrowUp":c=this._handleValueIncreaseWithKeyBoard(l,r);break;case"PageUp":c=this._handleValueIncreaseWithKeyBoard(10*l,r);break;case"PageDown":c=this._handleValueDecreaseWithKeyBoard(10*l,r);break;case"Home":c=this._handleHomeKey(r);break;case"End":c=this._handleEndKey(r);break}if(["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","PageUp","PageDown","Home","End"].includes(n.key)){let d=!0;Array.isArray(o)?d=!(o[0]===c[0]&&o[1]===c[1]):d=o!==c,d&&(this._adapter.updateCurrentValue(c),this._adapter.notifyChange(c)),Zh(n)}},this.onFocus=(n,r)=>{Zh(n);const{target:s}=n;try{s.matches(":focus-visible")&&(r==="min"?this._adapter.setStateVal("firstDotFocusVisible",!0):this._adapter.setStateVal("secondDotFocusVisible",!0))}catch{vs(!0,"Warning: [Semi Slider] The current browser does not support the focus-visible")}},this.onBlur=(n,r)=>{const{firstDotFocusVisible:s,secondDotFocusVisible:a}=this.getStates();r==="min"?s&&this._adapter.setStateVal("firstDotFocusVisible",!1):a&&this._adapter.setStateVal("secondDotFocusVisible",!1)},this.handleWrapClick=n=>{const{disabled:r,isDrag:s}=this._adapter.getStates();if(s||r||this._adapter.isEventFromHandle(n))return;const{vertical:a}=this.getProps(),o=this.handleMousePos(n.clientX,n.clientY),l=a?o.y:o.x,u=this.checkWhichHandle(l),c=this.calculateOutputValue(l,u);c!==void 0&&(this._adapter.notifyChange(c),!this._isControlledComponent()&&this.setHandlePos(l,u,!0,c))},this.setHandlePos=function(n,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3?arguments[3]:void 0;t._adapter.onHandleMove(n,r,()=>t._adapter.onHandleUpAfter(),s,a)},this.checkWhichHandle=n=>{const{vertical:r,verticalReverse:s}=this.getProps(),{currentValue:a}=this._adapter.getStates(),o=this.transValueToPos(a);let l=!0;return Array.isArray(o)&&(n>o[1]||Math.abs(n-o[0])>Math.abs(n-o[1]))&&(l=!1),r&&s&&(l=!l),l},this.handleWrapperEnter=()=>{this._adapter.setStateVal("showBoundary",!0)},this.handleWrapperLeave=()=>{this._adapter.setStateVal("showBoundary",!1)}}init(){this._checkCurrentValue(),this._dragOffset=0}_checkCurrentValue(){const{currentValue:e,min:t,max:n}=this.getStates();let r;Array.isArray(e)?(r=[],r[0]=this._checkValidity(e[0],t,n),r[1]=this._checkValidity(e[1],t,n)):r=this._checkValidity(e,t,n),this._adapter.updateCurrentValue(r)}destroy(){this._adapter.unSubscribeEventListener()}_getHandleCenterPosition(e,t){const n=t.getBoundingClientRect(),{x:r,y:s}=this.handleMousePos(n.left+n.width*.5,n.top+n.height*.5);return e?s:r}}var cJt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const _d=dl.PREFIX;function dJt(i){return i?!!(i.offsetWidth||i.offsetHeight||i.getClientRects().length):!1}class vQ extends ln{constructor(e){super(e),this.renderHandle=()=>{var n,r,s,a,o,l,u,c;const{vertical:d,range:h,tooltipVisible:p,tipFormatter:f,"aria-label":g,"aria-labelledby":v,"aria-valuetext":m,getAriaValueText:b,disabled:_}=this.props,{chooseMovePos:S,isDrag:C,isInRenderTree:k,firstDotFocusVisible:E,secondDotFocusVisible:A}=this.state,P=d?"top":"left",O=this.foundation.getMinAndMaxPercent(this.state.currentValue),M=O.min,D=O.max,{tipVisible:L,tipChildren:H}=this.foundation.computeHandleVisibleVal(p&&k,f,h),B=he(dl.HANDLE,{[`${dl.HANDLE}-clicked`]:S==="min"&&C}),F=he(dl.HANDLE,{[`${dl.HANDLE}-clicked`]:S==="max"&&C}),{min:z,max:N,currentValue:U}=this.state,G={"aria-label":g??(_?"Disabled Slider":void 0),"aria-labelledby":v,"aria-disabled":_};return d&&Object.assign(G,{"aria-orientation":"vertical"}),h?R.createElement(R.Fragment,null,R.createElement(Ho,{content:H.min,position:"top",trigger:"custom",rePosKey:M,visible:k&&(L.min||E),className:`${dl.HANDLE}-tooltip`},R.createElement("span",Object.assign({ref:this.minHanleEl,className:B,style:{[P]:`${M*100}%`,zIndex:S==="min"?2:1},onMouseDown:K=>{this.foundation.onHandleDown(K,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:K=>{this.foundation.onHandleTouchStart(K,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onMouseUp:K=>{this.foundation.onHandleUp(K)},onKeyUp:K=>{this.foundation.onHandleUp(K)},onTouchEnd:K=>{this.foundation.onHandleUp(K)},onKeyDown:K=>{this.foundation.handleKeyDown(K,"min")},onFocus:K=>{this.foundation.onFocus(K,"min")},onBlur:K=>{this.foundation.onBlur(K,"min")},role:"slider",tabIndex:_?-1:0},G,{"aria-valuetext":b?b(U[0],0):m,"aria-valuenow":U[0],"aria-valuemax":U[1],"aria-valuemin":z}),((s=this.props.handleDot)===null||s===void 0?void 0:s[0])&&R.createElement("div",{className:dl.HANDLE_DOT,style:Object.assign(Object.assign({},!((a=this.props.handleDot[0])===null||a===void 0)&&a.size?{width:this.props.handleDot[0].size,height:this.props.handleDot[0].size}:{}),!((o=this.props.handleDot[0])===null||o===void 0)&&o.color?{backgroundColor:this.props.handleDot[0].color}:{})}))),R.createElement(Ho,{content:H.max,position:"top",trigger:"custom",rePosKey:D,visible:k&&(L.max||A),className:`${dl.HANDLE}-tooltip`},R.createElement("span",Object.assign({ref:this.maxHanleEl,className:F,style:{[P]:`${D*100}%`,zIndex:S==="max"?2:1},onMouseDown:K=>{this.foundation.onHandleDown(K,"max")},onMouseEnter:()=>{this.foundation.onHandleEnter("max")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onMouseUp:K=>{this.foundation.onHandleUp(K)},onKeyUp:K=>{this.foundation.onHandleUp(K)},onTouchStart:K=>{this.foundation.onHandleTouchStart(K,"max")},onTouchEnd:K=>{this.foundation.onHandleUp(K)},onKeyDown:K=>{this.foundation.handleKeyDown(K,"max")},onFocus:K=>{this.foundation.onFocus(K,"max")},onBlur:K=>{this.foundation.onBlur(K,"max")},role:"slider",tabIndex:_?-1:0},G,{"aria-valuetext":b?b(U[1],1):m,"aria-valuenow":U[1],"aria-valuemax":N,"aria-valuemin":U[0]}),((l=this.props.handleDot)===null||l===void 0?void 0:l[1])&&R.createElement("div",{className:dl.HANDLE_DOT,style:Object.assign(Object.assign({},!((u=this.props.handleDot[1])===null||u===void 0)&&u.size?{width:this.props.handleDot[1].size,height:this.props.handleDot[1].size}:{}),!((c=this.props.handleDot[1])===null||c===void 0)&&c.color?{backgroundColor:this.props.handleDot[1].color}:{})})))):R.createElement(Ho,{content:H.min,showArrow:this.props.showArrow,position:"top",trigger:"custom",rePosKey:M,visible:k&&(L.min||E),className:`${dl.HANDLE}-tooltip`},R.createElement("span",Object.assign({onMouseOver:this.foundation.checkAndUpdateIsInRenderTreeState,ref:this.minHanleEl,className:B,style:{[P]:`${M*100}%`,zIndex:S==="min"&&C?2:1},onMouseDown:K=>{this.foundation.onHandleDown(K,"min")},onMouseEnter:()=>{this.foundation.onHandleEnter("min")},onTouchStart:K=>{this.foundation.onHandleTouchStart(K,"min")},onMouseLeave:()=>{this.foundation.onHandleLeave()},onMouseUp:K=>{this.foundation.onHandleUp(K)},onKeyUp:K=>{this.foundation.onHandleUp(K)},onTouchEnd:K=>{this.foundation.onHandleUp(K)},onKeyDown:K=>{this.foundation.handleKeyDown(K,"min")},onFocus:K=>{this.foundation.onFocus(K,"min")},onBlur:K=>{this.foundation.onBlur(K,"min")},role:"slider","aria-valuetext":b?b(U,0):m,tabIndex:_?-1:0},G,{"aria-valuenow":U,"aria-valuemax":N,"aria-valuemin":z}),this.props.handleDot&&R.createElement("div",{className:dl.HANDLE_DOT,style:Object.assign(Object.assign({},!((n=this.props.handleDot)===null||n===void 0)&&n.size?{width:this.props.handleDot.size,height:this.props.handleDot.size}:{}),!((r=this.props.handleDot)===null||r===void 0)&&r.color?{backgroundColor:this.props.handleDot.color}:{})})))},this.renderTrack=()=>{const{range:n,included:r,vertical:s}=this.props,a=this.foundation.getMinAndMaxPercent(this.state.currentValue),o=a.min,l=a.max;let u=s?{height:n?`${Math.abs(l-o)*100}%`:`${o*100}%`,top:n?`${Math.min(o,l)*100}%`:0}:{width:n?`${Math.abs(l-o)*100}%`:`${o*100}%`,left:n?`${Math.min(o,l)*100}%`:0};return u=r?u:{},R.createElement("div",{className:dl.TRACK,style:u,onClick:this.foundation.handleWrapClick})},this.renderStepDot=()=>{const{min:n,max:r,vertical:s,marks:a}=this.props,o=s?"top":"left";return a&&Object.keys(a).length>0?R.createElement("div",{className:dl.DOTS},Object.keys(a).map(u=>{const c=this.foundation.isMarkActive(Number(u)),d=he(`${_d}-dot`,{[`${_d}-dot-active`]:this.foundation.isMarkActive(Number(u))==="active"}),h=(Number(u)-n)/(r-n),p=R.createElement("span",{key:u,onClick:this.foundation.handleWrapClick,className:d,style:{[o]:`calc(${h*100}% - 2px)`}});return c?this.props.tooltipOnMark?R.createElement(Ho,{content:a[u]},p):p:null})):null},this.renderLabel=()=>{if(!this.props.showMarkLabel)return null;const{min:n,max:r,vertical:s,marks:a,verticalReverse:o}=this.props,l=s?"top":"left";return a&&Object.keys(a).length>0?R.createElement("div",{className:dl.MARKS+(s&&o?"-reverse":"")},Object.keys(a).map(c=>{const d=this.foundation.isMarkActive(Number(c)),h=(Number(c)-n)/(r-n);return d?R.createElement("span",{key:c,className:he(`${_d}-mark${s&&o?"-reverse":""}`),style:{[l]:`${h*100}%`},onClick:this.foundation.handleWrapClick},a[c]):null})):null},this._getAriaValueText=(n,r)=>{const{getAriaValueText:s}=this.props;return s?s(n,r):n};let{value:t}=this.props;t||(t=this.props.defaultValue),this.state={currentValue:t||(this.props.range?[0,0]:0),min:this.props.min||0,max:this.props.max||0,focusPos:"",onChange:this.props.onChange,disabled:this.props.disabled||!1,chooseMovePos:"",isDrag:!1,clickValue:0,showBoundary:!1,isInRenderTree:!0,firstDotFocusVisible:!1,secondDotFocusVisible:!1},this.sliderEl=R.createRef(),this.minHanleEl=R.createRef(),this.maxHanleEl=R.createRef(),this.dragging=[!1,!1],this.foundation=new mQ(this.adapter),this.eventListenerSet=new Set}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{getSliderLengths:()=>{var t;if(this.sliderEl&&this.sliderEl.current){const n=this.sliderEl.current.getBoundingClientRect(),r=(t=this.sliderEl.current.offsetParent)===null||t===void 0?void 0:t.getBoundingClientRect(),s={x:r?n.left-r.left:this.sliderEl.current.offsetLeft,y:r?n.top-r.top:this.sliderEl.current.offsetTop};return{sliderX:s.x,sliderY:s.y,sliderWidth:n.width,sliderHeight:n.height}}return{sliderX:0,sliderY:0,sliderWidth:0,sliderHeight:0}},getParentRect:()=>{const t=this.sliderEl&&this.sliderEl.current&&this.sliderEl.current.offsetParent;if(t)return t.getBoundingClientRect()},getScrollParentVal:()=>{const t=this.foundation.getScrollParent(this.sliderEl.current);return{scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}},isEventFromHandle:t=>{const n=[this.minHanleEl,this.maxHanleEl];let r=!1;return n.forEach(s=>{if(!s)return;const a=s&&s.current,o=$c.findDOMNode(a);o&&o.contains(t.target)&&(r=!0)}),r},getOverallVars:()=>({dragging:this.dragging}),updateDisabled:t=>{this.setState({disabled:t})},transNewPropsToState(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Te;this.setState(t,n)},notifyChange:t=>{this.props.onChange(Array.isArray(t)?[...t].sort():t)},setDragging:t=>{this.dragging=t},updateCurrentValue:t=>{const{currentValue:n}=this.state;t!==n&&this.setState({currentValue:t})},setOverallVars:(t,n)=>{this[t]=n},getMinHandleEl:()=>this.minHanleEl.current,getMaxHandleEl:()=>this.maxHanleEl.current,onHandleDown:t=>{this._addEventListener(document.body,"mousemove",this.foundation.onHandleMove,!1),this._addEventListener(window,"mouseup",this.foundation.onHandleUp,!1),this._addEventListener(document.body,"touchmove",this.foundation.onHandleTouchMove,!1)},onHandleMove:function(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Te,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4?arguments[4]:void 0;if(!e.foundation.checkAndUpdateIsInRenderTreeState())return;const{value:l}=e.props;let u=a;if(u===void 0){const d=e.foundation.transPosToValue(t,n);if(d===!1)return;u=e.foundation.outPutValue(d)}const{currentValue:c}=e.state;if(!Fn(e.foundation.outPutValue(c),u)){if(!s&&e.foundation.valueFormatIsCorrect(l))return!1;e.setState({currentValue:u},r)}},setEventDefault:t=>{t.stopPropagation(),t.preventDefault()},setStateVal:(t,n)=>{this.setState({[t]:n})},checkAndUpdateIsInRenderTreeState:()=>{const t=dJt(this.sliderEl.current);return t!==this.state.isInRenderTree&&this.setState({isInRenderTree:t}),t},onHandleEnter:t=>{this.setState({focusPos:t})},onHandleLeave:()=>{this.setState({focusPos:""})},onHandleUpBefore:t=>{var n,r;(r=(n=this.props).onMouseUp)===null||r===void 0||r.call(n,t),t.stopPropagation(),t.preventDefault(),document.body.removeEventListener("mousemove",this.foundation.onHandleMove,!1),document.body.removeEventListener("mouseup",this.foundation.onHandleUp,!1)},onHandleUpAfter:()=>{const{currentValue:t}=this.state,n=this.foundation.outPutValue(t);this.props.onAfterChange(n)},unSubscribeEventListener:()=>{Array.from(this.eventListenerSet).forEach(t=>t())}})}componentDidMount(){this.foundation.init()}componentDidUpdate(e,t){const n=!Fn(this.props.value,e.value);if(this.props.disabled!==e.disabled&&this.foundation.handleDisabledChange(this.props.disabled),n){const s=this.props.value,a=this.state.currentValue;this.foundation.handleValueChange(a,s),this.props.onAfterChange(this.props.value)}}componentWillUnmount(){this.foundation.destroy()}render(){const{disabled:e,currentValue:t,min:n,max:r}=this.state,s=this.props,{vertical:a,verticalReverse:o,style:l,railStyle:u,range:c,className:d}=s,h=cJt(s,["vertical","verticalReverse","style","railStyle","range","className"]),p=he(`${_d}-wrapper`,{[`${_d}-disabled`]:e,[`${dl.VERTICAL}-wrapper`]:a,[`${_d}-reverse`]:a&&o},d),f=he(`${_d}-boundary`,{[`${_d}-boundary-show`]:this.props.showBoundary&&this.state.showBoundary}),g=he({[`${_d}`]:!a,[dl.VERTICAL]:a}),v=Array.isArray(t)?[...t].sort():t,m=c?`Range: ${this._getAriaValueText(v[0],0)} to ${this._getAriaValueText(v[1],1)}`:void 0,b=R.createElement("div",Object.assign({className:p,style:l,ref:this.sliderEl,"aria-label":m,onMouseEnter:()=>this.foundation.handleWrapperEnter(),onMouseLeave:()=>this.foundation.handleWrapperLeave()},this.getDataAttr(h)),R.createElement("div",{className:`${_d}-rail`,onClick:this.foundation.handleWrapClick,style:u}),this.renderTrack(),this.renderStepDot(),R.createElement("div",null,this.renderHandle()),this.renderLabel(),R.createElement("div",{className:f},R.createElement("span",{className:`${_d}-boundary-min`},n),R.createElement("span",{className:`${_d}-boundary-max`},r)));return a?b:R.createElement("div",{className:g},b)}_addEventListener(e,t,n){if(e.addEventListener){for(var r=arguments.length,s=new Array(r>3?r-3:0),a=3;a<r;a++)s[a-3]=arguments[a];e.addEventListener(t,n,...s);const o=()=>{e==null||e.removeEventListener(t,n),Promise.resolve().then(()=>{this.eventListenerSet.delete(o)})};return this.eventListenerSet.add(o),o}else return Te}}vQ.propTypes={defaultValue:w.oneOfType([w.number,w.array]),disabled:w.bool,showMarkLabel:w.bool,included:w.bool,marks:w.object,max:w.number,min:w.number,range:w.bool,step:w.number,tipFormatter:w.func,value:w.oneOfType([w.number,w.array]),vertical:w.bool,onAfterChange:w.func,onChange:w.func,onMouseUp:w.func,tooltipOnMark:w.bool,tooltipVisible:w.bool,showArrow:w.bool,style:w.object,className:w.string,showBoundary:w.bool,railStyle:w.object,verticalReverse:w.bool,getAriaValueText:w.func,handleDot:w.oneOfType([w.shape({size:w.string,color:w.string}),w.arrayOf(w.shape({size:w.string,color:w.string}))])};vQ.defaultProps={disabled:!1,showMarkLabel:!0,tooltipOnMark:!1,included:!0,max:100,min:0,range:!1,showArrow:!0,step:1,tipFormatter:i=>i,vertical:!1,showBoundary:!1,onAfterChange:i=>{},onChange:i=>{},verticalReverse:!1};class hJt extends _n{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=t=>{const{target:n}=t;try{n.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch{vs(!0,"Warning: [Semi Switch] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)}}init(){const{disabled:e}=this.getProps();this.setDisabled(e)}setChecked(e){this._adapter.setNativeControlChecked(e)}setDisabled(e){this._adapter.setNativeControlDisabled(e)}handleChange(e,t){typeof this.getProps().checked<"u"?this._adapter.notifyChange(e,t):(this._adapter.setNativeControlChecked(e),this._adapter.notifyChange(e,t))}destroy(){}}const bd={PREFIX:`${Ze}-switch`,FOCUS:`${Ze}-switch-focus`,LARGE:`${Ze}-switch-large`,SMALL:`${Ze}-switch-small`,CHECKED:`${Ze}-switch-checked`,DISABLED:`${Ze}-switch-disabled`,ACTIVE:`${Ze}-switch-active`,KNOB:`${Ze}-switch-knob`,NATIVE_CONTROL:`${Ze}-switch-native-control`,CHECKED_TEXT:`${Ze}-switch-checked-text`,UNCHECKED_TEXT:`${Ze}-switch-unchecked-text`,LOADING_SPIN:`${Ze}-switch-loading-spin`,LOADING:`${Ze}-switch-loading`},pJt={SIZE_MAP:["default","small","large"]};var fJt=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};class yQ extends ln{constructor(e){super(e),this.handleFocusVisible=t=>{this.foundation.handleFocusVisible(t)},this.handleBlur=t=>{this.foundation.handleBlur()},this.state={nativeControlChecked:e.defaultChecked||e.checked,nativeControlDisabled:!1,focusVisible:!1},this.switchRef=R.createRef(),this.foundation=new hJt(this.adapter)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){this.props.checked!==e.checked&&this.foundation.setChecked(this.props.checked),this.props.disabled!==e.disabled&&this.foundation.setDisabled(this.props.disabled)}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({nativeControlChecked:e})},setNativeControlDisabled:e=>{this.setState({nativeControlDisabled:e})},setFocusVisible:e=>{this.setState({focusVisible:e})},notifyChange:(e,t)=>{this.props.onChange(e,t)}})}render(){const{nativeControlChecked:e,nativeControlDisabled:t,focusVisible:n}=this.state,r=this.props,{className:s,style:a,onMouseEnter:o,onMouseLeave:l,size:u,checkedText:c,uncheckedText:d,loading:h,id:p}=r,f=fJt(r,["className","style","onMouseEnter","onMouseLeave","size","checkedText","uncheckedText","loading","id"]),g=he(s,{[bd.PREFIX]:!0,[bd.CHECKED]:e,[bd.DISABLED]:t,[bd.LARGE]:u==="large",[bd.SMALL]:u==="small",[bd.LOADING]:h,[bd.FOCUS]:n}),v={type:"checkbox",className:bd.NATIVE_CONTROL,disabled:t||h,checked:e||!1},m=c&&e&&u!=="small",b=d&&!e&&u!=="small";return R.createElement("div",Object.assign({className:g,style:a,onMouseEnter:o,onMouseLeave:l},this.getDataAttr(f)),h?R.createElement(nm,{wrapperClassName:bd.LOADING_SPIN,size:u==="default"?"middle":u}):R.createElement("div",{className:bd.KNOB,"aria-hidden":!0}),m?R.createElement("div",{className:bd.CHECKED_TEXT,"x-semi-prop":"checkedText"},c):null,b?R.createElement("div",{className:bd.UNCHECKED_TEXT,"x-semi-prop":"uncheckedText"},d):null,R.createElement("input",Object.assign({},v,{ref:this.switchRef,id:p,role:"switch","aria-checked":e,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-disabled":this.props.disabled,onChange:_=>this.foundation.handleChange(_.target.checked,_),onFocus:_=>this.handleFocusVisible(_),onBlur:_=>this.handleBlur(_)})))}}yQ.propTypes={"aria-label":w.string,"aria-labelledby":w.string,"aria-invalid":w.bool,"aria-errormessage":w.string,"aria-describedby":w.string,className:w.string,checked:w.bool,checkedText:w.node,defaultChecked:w.bool,disabled:w.bool,loading:w.bool,onChange:w.func,onMouseEnter:w.func,onMouseLeave:w.func,style:w.object,size:w.oneOf(pJt.SIZE_MAP),uncheckedText:w.node,id:w.string};yQ.defaultProps={disabled:!1,className:"",onChange:Te,loading:!1,onMouseEnter:Te,onMouseLeave:Te,size:"default"};var gJt="\\ud800-\\udfff",mJt="\\u0300-\\u036f",vJt="\\ufe20-\\ufe2f",yJt="\\u20d0-\\u20ff",_Jt=mJt+vJt+yJt,bJt="\\ufe0e\\ufe0f",SJt="\\u200d",xJt=RegExp("["+SJt+gJt+_Jt+bJt+"]");function wJt(i){return xJt.test(i)}var s3e=wJt,CJt=pZ;function kJt(i,e,t){var n=i.length;return t=t===void 0?n:t,!e&&t>=n?i:CJt(i,e,t)}var EJt=kJt,AJt=gp,TJt=tc,PJt="[object RegExp]";function OJt(i){return TJt(i)&&AJt(i)==PJt}var MJt=OJt,IJt=MJt,RJt=oC,jge=AP,zge=jge&&jge.isRegExp,DJt=zge?RJt(zge):IJt,LJt=DJt;function FJt(i){return i.split("")}var BJt=FJt,a3e="\\ud800-\\udfff",$Jt="\\u0300-\\u036f",NJt="\\ufe20-\\ufe2f",jJt="\\u20d0-\\u20ff",zJt=$Jt+NJt+jJt,HJt="\\ufe0e\\ufe0f",VJt="["+a3e+"]",xG="["+zJt+"]",wG="\\ud83c[\\udffb-\\udfff]",WJt="(?:"+xG+"|"+wG+")",o3e="[^"+a3e+"]",l3e="(?:\\ud83c[\\udde6-\\uddff]){2}",u3e="[\\ud800-\\udbff][\\udc00-\\udfff]",UJt="\\u200d",c3e=WJt+"?",d3e="["+HJt+"]?",GJt="(?:"+UJt+"(?:"+[o3e,l3e,u3e].join("|")+")"+d3e+c3e+")*",YJt=d3e+c3e+GJt,KJt="(?:"+[o3e+xG+"?",xG,l3e,u3e,VJt].join("|")+")",XJt=RegExp(wG+"(?="+wG+")|"+KJt+YJt,"g");function qJt(i){return i.match(XJt)||[]}var ZJt=qJt,QJt=BJt,JJt=s3e,eei=ZJt;function tei(i){return JJt(i)?eei(i):QJt(i)}var iei=tei,nei=APe,rei=EJt,sei=s3e,aei=cZ,oei=LJt,lei=iei,uei=a4,cei=4294967295;function dei(i,e,t){return t&&typeof t!="number"&&aei(i,e,t)&&(e=t=void 0),t=t===void 0?cei:t>>>0,t?(i=uei(i),i&&(typeof e=="string"||e!=null&&!oei(e))&&(e=nei(e),!e&&sei(i))?rei(lei(i),0,t):i.split(e,t)):[]}var hei=dei;const X8=Li(hei),e3=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ua.DEFAULT_FORMAT,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:TZ;if(i instanceof Date)return i;if(typeof i=="number")return new Date(Ld(i));if(typeof i=="string"){let n=new Date;return n=qOe(i,e,n,{locale:t}),n}else if(typeof i>"u")return;return new Date},t3=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ua.DEFAULT_FORMAT,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:TZ;return lr(i,e,{locale:t})},pei=(i,e)=>{if(typeof i=="function"){const t=i();if(Array.isArray(t)&&!xr(e)&&t.some(n=>Ld(n)===Ld(e)))return!0}return!1},fei=(i,e,t)=>{if(typeof i=="function"){const n=i(e);if(Array.isArray(n)&&!xr(e)&&!xr(t)&&n.some(r=>Ld(r)===Ld(t)))return!0}return!1},gei=(i,e,t,n)=>{if(typeof i=="function"){const r=i(e,t);if(Array.isArray(r)&&!xr(e)&&!xr(t)&&!xr(n)&&r.some(s=>Ld(s)===Ld(n)))return!0}return!1},q8=i=>Array.isArray(i)?[...i]:[],mei=(i,e)=>{let t=!0;const n="BDEGHKLMOPQRSTXYabcehimopqstuwxyz",r=new RegExp(`[${n}]`,"g"),s=new RegExp(`[^${n}]`,"g"),a=/[H|m|s]{1,2}/,o=e.split(s),l=e.replace(r,""),u=new RegExp(`[${l}]`,"g"),c=i.split(u);if(o.length!==c.length)t=!1;else for(let d=0,h=c.length;d<h;d++){const p=o[d],f=c[d];if(a.test(p)&&f.length<p.length){t=!1;break}}return t};let vei=class extends _n{constructor(e){super(Object.assign({},e))}init(){this.initDataFromDefaultValue(),(this._isControlledComponent("open")?this.getProp("open"):this.getProp("defaultOpen"))&&!this._isControlledComponent("open")&&this._adapter.registerClickOutSide()}getPosition(){const e=this.getProp("position"),t=this.getProp("type")||ua.DEFAULT_TYPE,r=this.getContext("direction")==="rtl"?"bottomRight":"";return e||r||ua.DEFAULT_POSITION[t]}isDisabledHMS(e){let{hours:t,minutes:n,seconds:r}=e;const{disabledHours:s,disabledMinutes:a,disabledSeconds:o}=this.getProps(),l=!xr(t)&&pei(s,t),u=!xr(t)&&!xr(n)&&fei(a,t,n),c=!xr(t)&&!xr(n)&&!xr(r)&&gei(o,t,n,r);return l||u||c}isValidTimeZone(e){return["string","number"].includes(typeof e)&&e!==""}getDefaultFormatIfNeed(){return this._isInProps("format")?this.getProp("format"):this.getProp("use12Hours")?ua.DEFAULT_FORMAT_A:ua.DEFAULT_FORMAT}initDataFromDefaultValue(){const e=this.getProp("defaultValue");let t=this.getProp("value");const n=this.getProp("timeZone"),r=this.getValidFormat(),{rangeSeparator:s,dateFnsLocale:a}=this.getProps();t=t||e,Array.isArray(t)||(t=t?[t]:[]);const o=[];let l=!1;t.forEach(d=>{const h=e3(d,r,a);isNaN(h.getTime())||o.push(this.isValidTimeZone(n)?yG(h,n):h)});const u=[!0,!1];o.map((d,h)=>{u[h]=k8t(d)<12}),o.length===t.length?t=o:(t=[],t.length&&(l=!0));let c="";l||(c=t.map(d=>t3(d,r,a)).join(s)),this.setState({isAM:u,value:t,inputValue:c,invalid:l})}getValidFormat(e){let t=e;return xr(t)&&(t=this.getDefaultFormatIfNeed()),typeof t!="string"&&(t=ua.DEFAULT_FORMAT),t}handlePanelChange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.getValidFormat(),r=this.getProp("dateFnsLocale"),s=this.getState("value");let a=this.getState("isAM");const o=q8(s);if(a=q8(a),e){const l=!!e.isAM,u=e3(e.timeStampValue,n,r);o[t]=u,a[t]=l;const c=this.formatValue(o);if(this.getState("isAM")[t]!==e.isAM&&this.setState({isAM:a}),!this._isControlledComponent("value")){const d=this.validateDates(o);this.setState({isAM:a,value:o,inputValue:c,invalid:d})}this._hasChanged(o,s)&&this._notifyChange(o,c)}}refreshProps(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{value:t,timeZone:n,__prevTimeZone:r}=e;let s=this.parseValue(t),a=s.some(l=>isNaN(Number(l)));a||(this.isValidTimeZone(n)&&(s=s.map(l=>yG(this.isValidTimeZone(r)?bx(l,r):l,n))),a=s.some(l=>this.isDisabledHMS({hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds()})));const o=this.formatValue(s);this.setState({value:s,invalid:a,inputValue:o})}handleFocus(e){this.getState("open")||this.handlePanelOpen(),this._adapter.notifyFocus(e)}setPanel(e){this._adapter.togglePanel(e)}destroy(){this._adapter.unregisterClickOutSide()}handlePanelOpen(){this._isControlledComponent("open")||(this._adapter.registerClickOutSide(),this.setPanel(!0)),this._adapter.notifyOpenChange(!0)}handlePanelClose(e,t){this._isControlledComponent("open")||(this._adapter.unregisterClickOutSide(),this.setPanel(!1)),this._adapter.notifyOpenChange(!1),this._adapter.notifyBlur(t)}handleVisibleChange(e){this._isControlledComponent("open")||this._adapter.togglePanel(e),this._adapter.notifyOpenChange(e)}handleInputChange(e){this._adapter.setInputValue(e);const t=this.getProp("rangeSeparator"),n=X8(e,t),r=this.getValidFormat();if(e!==""&&n.some(c=>!mei(c,r)))return;const s=this.parseInput(e),a=this.validateDates(s),o={invalid:a},l=this.getState("value");let u=q8(l);a||(o.value=s,u=[...s]),this._isControlledComponent("value")||this.setState(o),this._hasChanged(u,l)&&this._notifyChange(u,e)}doValidate(e){if(typeof e=="string")return this.validateStr(e);if(Array.isArray(e))return this.validateDates(e)}validateStr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=this.parseInput(e);return this.validateDates(t)}validateDates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=e.some(n=>isNaN(Number(n)));return t||(t=e.some(n=>this.isDisabledHMS({hours:n.getHours(),minutes:n.getMinutes(),seconds:n.getSeconds()}))),t}handleInputBlur(e){const t=this.getState("invalid"),n=this.getState("inputValue"),r=this.getState("value");n?t?this.setState({inputValue:this.formatValue(r),invalid:!1}):this.setState({inputValue:this.formatValue(r)}):this.setState({inputValue:"",value:[],invalid:!1})}formatValue(e){const t=this.getValidFormat(),n=this.getProp("rangeSeparator"),r=this.getProp("dateFnsLocale");let s=e;if(s&&!Array.isArray(s)&&(s=s[s]),s&&Array.isArray(s))return s.map(o=>{let l;return Or(o)?l="":l=t3(o,t,r),l}).join(n)}parseInput(e){const t=this.getValidFormat(),n=this.getProp("rangeSeparator"),r=this.getProp("dateFnsLocale");return e&&typeof e=="string"?X8(e,n).map(s=>e3(s,t,r)):[]}parseValue(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.getValidFormat(),n=this.getProp("dateFnsLocale");let r=e;return Array.isArray(r)||(r=r?[r]:[]),Array.isArray(r)?r.map(s=>e3(s,t,n)):[]}_notifyChange(e,t){let n=t,r=e;const s=this.getProp("timeZone");if(this._adapter.isRangePicker()){const o=this.getProp("rangeSeparator");n=X8(t,o)}else r=Array.isArray(r)?r[0]:r;if(this.isValidTimeZone(s)&&r){const o=this.getValidFormat();Array.isArray(r)?(r=r.map(l=>bx(l,s)),n=r.map(l=>lr(l,o))):(r=bx(r,s),n=lr(r,o))}this.getProp("onChangeWithDateFirst")?this._adapter.notifyChange(r,n):this._adapter.notifyChange(n,r)}_hasChanged(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=this.getValidFormat(),r=this.getProp("dateFnsLocale");return e.length!==t.length||e.some((s,a)=>{const o=t[a];return!(Fd(s)&&Fd(o)&&t3(s,n,r)===t3(o,n,r))})}};class yei extends _n{constructor(e){super(Object.assign({},e))}init(){}destroy(){}handleFocus(e){this.storeCursor(),this._adapter.notifyFocus(e)}handleChange(e){this.storeCursor(),this._adapter.notifyChange(e)}handleBlur(e){this.clearCursor(),this._adapter.notifyBlur(e)}storeCursor(){const e=this.getCache("inputNode");if(e){const{selectionStart:t}=e;this.setCache("cursorIndex",t)}}restoreCursor(){const e=this.getCache("inputNode"),t=this.getCache("cursorIndex");e&&!xr(t)&&(e.selectionStart=t,e.selectionEnd=t)}clearCursor(){this.setCache("cursorIndex",null),this.setCache("beforeStr",null),this.setCache("afterStr",null)}}var _ei=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};class _Q extends ln{constructor(e){super(e),this.setRef=t=>this.adapter.setCache("inputNode",t),this.handleClick=t=>this.props.onClick(t),this.handleFocus=t=>this.foundation.handleFocus(t),this.handleBlur=t=>this.foundation.handleBlur(t),this.handleChange=t=>this.foundation.handleChange(t),this.foundation=new yei(this.adapter),this.state={}}componentDidMount(){super.componentDidMount();const{focusOnOpen:e,preventScroll:t}=this.props;e&&(window.requestAnimationFrame||window.setTimeout)(()=>{const r=this.adapter.getCache("inputNode");r&&(r.focus({preventScroll:t}),r.select())})}componentDidUpdate(e){const{timeStampValue:t}=this.props;this.isControlled("timeStampValue")&&t!==this.state.timeStampValue&&this.foundation.restoreCursor(),this.props.value!==e.value&&this.foundation.restoreCursor()}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{notifyChange:function(){return e.props.onChange(...arguments)},notifyFocus:function(){return e.props.onFocus(...arguments)},notifyBlur:function(){return e.props.onBlur(...arguments)}})}getInput(){const e=this.props,{prefixCls:t,placeholder:n,inputReadOnly:r,onFocus:s,disabled:a,type:o,locale:l,localeCode:u,insetLabel:c,validateStatus:d,value:h,onChange:p,invalid:f,format:g,clearText:v,disabledHours:m,disabledMinutes:b,disabledSeconds:_,onEsc:S,defaultOpenValue:C,currentSelectPanel:k,focusOnOpen:E,timeStampValue:A,timeZone:P,defaultOpen:O,dateFnsLocale:M}=e,D=_ei(e,["prefixCls","placeholder","inputReadOnly","onFocus","disabled","type","locale","localeCode","insetLabel","validateStatus","value","onChange","invalid","format","clearText","disabledHours","disabledMinutes","disabledSeconds","onEsc","defaultOpenValue","currentSelectPanel","focusOnOpen","timeStampValue","timeZone","defaultOpen","dateFnsLocale"]),L=he(`${t}-input`,{[`${t}-input-invalid`]:f,[`${t}-input-readonly`]:r}),H=f?"error":d;return R.createElement(iu,Object.assign({},D,{hideSuffix:!0,className:L,ref:this.setRef,value:h,placeholder:n||l.placeholder[o],readonly:!!r,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,suffix:R.createElement(sMe,{onClick:this.handleClick}),validateStatus:H,disabled:a,insetLabel:c}))}render(){const{prefixCls:e}=this.props;return R.createElement("div",{className:`${e}-input-wrap`},this.getInput())}}_Q.propTypes={borderless:w.bool,format:w.string,prefixCls:w.string,placeholder:w.string,clearText:w.string,inputReadOnly:w.bool,hourOptions:w.array,minuteOptions:w.array,secondOptions:w.array,disabledHours:w.func,disabledMinutes:w.func,disabledSeconds:w.func,onChange:w.func,onFocus:w.func,onBlur:w.func,onEsc:w.func,onClick:w.func,defaultOpenValue:w.object,currentSelectPanel:w.string,focusOnOpen:w.bool,timeStampValue:w.any,locale:w.object,localeCode:w.string,insetLabel:w.node,validateStatus:w.string,preventScroll:w.bool};_Q.defaultProps={borderless:!1,inputReadOnly:!1,onChange:Te,onBlur:Te,onFocus:Te,onClick:Te,disabledHours:Te,disabledMinutes:Te,disabledSeconds:Te,format:ua.DEFAULT_FORMAT};const Hge={panelHeader:w.oneOfType([w.node,w.string]),panelFooter:w.oneOfType([w.node,w.string])},bei={},Sei=[w.string,w.number,w.instanceOf(Date)],Vge=w.oneOfType([...Sei,w.arrayOf(w.string),w.arrayOf(w.number),w.arrayOf(w.instanceOf(Date))]);var xei=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};class yC extends ln{constructor(e){var t;super(e),t=this,this.onCurrentSelectPanelChange=r=>{this.setState({currentSelectPanel:r})},this.handlePanelChange=(r,s)=>this.foundation.handlePanelChange(r,s),this.handleInput=r=>this.foundation.handleInputChange(r),this.createPanelProps=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const{panels:s,panelFooter:a,panelHeader:o,locale:l}=t.props,u={panelHeader:o,panelFooter:a};if(t.adapter.isRangePicker()){const c={0:l.begin,1:l.end};u.panelHeader=wt(s,r,xr(o)?wt(c,r,null):Array.isArray(o)?o[r]:o),u.panelFooter=wt(s,r,Array.isArray(a)?a[r]:a)}return u},this.handlePanelVisibleChange=r=>this.foundation.handleVisibleChange(r),this.openPanel=()=>{this.foundation.handlePanelOpen()},this.handleFocus=r=>{this.foundation.handleFocus(r)},this.handleBlur=r=>this.foundation.handleInputBlur(r),this.setTimePickerRef=r=>this.timePickerRef.current=r;const{format:n=ua.DEFAULT_FORMAT}=e;this.state={open:e.open||e.defaultOpen||!1,value:[],inputValue:"",currentSelectPanel:0,isAM:[!0,!1],showHour:!!n.match(/HH|hh|H|h/g),showMinute:!!n.match(/mm/g),showSecond:!!n.match(/ss/g),invalid:void 0},this.foundation=new vei(this.adapter),this.timePickerRef=R.createRef(),this.savePanelRef=R.createRef(),this.useCustomTrigger=typeof this.props.triggerRender=="function"}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{togglePanel:t=>{this.setState({open:t})},registerClickOutSide:()=>{this.clickOutSideHandler&&this.adapter.unregisterClickOutSide(),this.clickOutSideHandler=t=>{const n=this.savePanelRef&&this.savePanelRef.current,r=this.timePickerRef&&this.timePickerRef.current,s=t.target,a=t.composedPath&&t.composedPath()||[s];!(n&&n.contains(s))&&!(r&&r.contains(s))&&!(a.includes(r)||a.includes(n))&&this.foundation.handlePanelClose(!0,t)},document.addEventListener("mousedown",this.clickOutSideHandler)},setInputValue:(t,n)=>this.setState({inputValue:t},n),unregisterClickOutSide:()=>{this.clickOutSideHandler&&(document.removeEventListener("mousedown",this.clickOutSideHandler),this.clickOutSideHandler=null)},notifyOpenChange:function(){return e.props.onOpenChange(...arguments)},notifyChange:(t,n)=>this.props.onChange&&this.props.onChange(t,n),notifyFocus:function(){return e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){return e.props.onBlur&&e.props.onBlur(...arguments)},isRangePicker:()=>this.props.type===ua.TYPE_TIME_RANGE_PICKER})}static getDerivedStateFromProps(e,t){return"open"in e&&e.open!==t.open?{open:e.open}:null}componentDidUpdate(e){this.isControlled("value")&&this.props.value!==e.value?this.foundation.refreshProps(Object.assign({},this.props)):this.props.timeZone!==e.timeZone&&this.foundation.refreshProps({timeZone:this.props.timeZone,__prevTimeZone:e.timeZone,value:this.state.value})}getPanelElement(){const{prefixCls:e,type:t}=this.props,{isAM:n,value:r}=this.state,s=this.foundation.getDefaultFormatIfNeed(),a=[R.createElement(w2,Object.assign({},this.props,{key:0,format:s,isAM:n[0],timeStampValue:r[0],prefixCls:`${e}-panel`,onChange:l=>this.handlePanelChange(l,0),onCurrentSelectPanelChange:this.onCurrentSelectPanelChange},this.createPanelProps(0)))];t===ua.TYPE_TIME_RANGE_PICKER&&a.push(R.createElement(w2,Object.assign({},this.props,{key:1,format:s,isAM:n[1],timeStampValue:r[1],prefixCls:`${e}-panel`,onChange:l=>this.handlePanelChange(l,1),onCurrentSelectPanelChange:this.onCurrentSelectPanelChange},this.createPanelProps(1))));const o=he({[bG.RANGE_PANEL_LISTS]:this.adapter.isRangePicker()});return R.createElement("div",{ref:this.savePanelRef,className:o},a.map(l=>l))}getPopupClassName(){const{use12Hours:e,prefixCls:t,popupClassName:n}=this.props,{showHour:r,showMinute:s,showSecond:a}=this.state;let o=0;return r&&(o+=1),s&&(o+=1),a&&(o+=1),e&&(o+=1),he(`${t}-panel`,n,{[`${t}-panel-narrow`]:(!r||!s||!a)&&!e,[bG.RANGE_PICKER]:this.adapter.isRangePicker()},`${t}-panel-column-${o}`)}focus(){}blur(){}render(){const e=this.props,{prefixCls:t,placeholder:n,disabled:r,defaultValue:s,dropdownMargin:a,className:o,popupStyle:l,size:u,style:c,locale:d,localeCode:h,zIndex:p,getPopupContainer:f,insetLabel:g,insetLabelId:v,inputStyle:m,showClear:b,panelHeader:_,panelFooter:S,rangeSeparator:C,onOpenChange:k,onChangeWithDateFirst:E,popupClassName:A,hideDisabledOptions:P,use12Hours:O,minuteStep:M,hourStep:D,secondStep:L,scrollItemProps:H,triggerRender:B,motion:F,autoAdjustOverflow:z,stopPropagation:N}=e,U=xei(e,["prefixCls","placeholder","disabled","defaultValue","dropdownMargin","className","popupStyle","size","style","locale","localeCode","zIndex","getPopupContainer","insetLabel","insetLabelId","inputStyle","showClear","panelHeader","panelFooter","rangeSeparator","onOpenChange","onChangeWithDateFirst","popupClassName","hideDisabledOptions","use12Hours","minuteStep","hourStep","secondStep","scrollItemProps","triggerRender","motion","autoAdjustOverflow","stopPropagation"]),G=this.foundation.getDefaultFormatIfNeed(),j=this.foundation.getPosition(),{open:K,inputValue:ie,invalid:ae,value:re}=this.state,J=this.getPopupClassName(),ne=he({[`${t}-header`]:!0}),te=he({[`${t}-panel`]:!0,[`${t}-panel-${u}`]:u}),Q=Object.assign(Object.assign({},U),{disabled:r,prefixCls:t,size:u,showClear:r?!1:b,style:m,value:ie,onFocus:this.handleFocus,insetLabel:g,insetLabelId:v,format:G,locale:d,localeCode:h,invalid:ae,placeholder:n,onChange:this.handleInput,onBlur:this.handleBlur}),se={};return this.useCustomTrigger&&(se.onClick=this.openPanel),R.createElement("div",Object.assign({ref:this.setTimePickerRef,className:he({[t]:!0},o),style:c},se),R.createElement(qo,{getPopupContainer:f,zIndex:p,prefixCls:te,contentClassName:J,style:l,content:this.getPanelElement(),trigger:"custom",position:j,visible:r?!1:!!K,motion:F,margin:a,autoAdjustOverflow:z,stopPropagation:N},this.useCustomTrigger?R.createElement(Ab,{triggerRender:B,disabled:r,value:re,inputValue:ie,onChange:this.handleInput,placeholder:n,componentName:"TimePicker",componentProps:Object.assign({},this.props)}):R.createElement("span",{className:ne},R.createElement(_Q,Object.assign({},Q)))))}}yC.contextType=ic;yC.propTypes=Object.assign(Object.assign({"aria-labelledby":w.string,"aria-invalid":w.bool,"aria-errormessage":w.string,"aria-describedby":w.string,"aria-required":w.bool,prefixCls:w.string,borderless:w.bool,clearText:w.string,clearIcon:w.node,value:Vge,inputReadOnly:w.bool,disabled:w.bool,showClear:w.bool,defaultValue:Vge,open:w.bool,defaultOpen:w.bool,onOpenChange:w.func,position:w.any,getPopupContainer:w.func,placeholder:w.string,format:w.string,style:w.object,className:w.string,popupClassName:w.string,popupStyle:w.object,disabledHours:w.func,disabledMinutes:w.func,disabledSeconds:w.func,dropdownMargin:w.oneOfType([w.number,w.object]),hideDisabledOptions:w.bool,onChange:w.func,use12Hours:w.bool,hourStep:w.number,minuteStep:w.number,secondStep:w.number,focusOnOpen:w.bool,autoFocus:w.bool,size:w.oneOf(ua.SIZE),stopPropagation:w.bool,panels:w.arrayOf(w.shape(Hge)),onFocus:w.func,onBlur:w.func,locale:w.object,localeCode:w.string,dateFnsLocale:w.object,zIndex:w.oneOfType([w.number,w.string]),insetLabel:w.node,insetLabelId:w.string,validateStatus:w.oneOf(ua.STATUS),type:w.oneOf(ua.TYPES),rangeSeparator:w.string,triggerRender:w.func,timeZone:w.oneOfType([w.string,w.number]),scrollItemProps:w.object,motion:w.oneOfType([w.bool,w.func,w.object]),autoAdjustOverflow:w.bool},Hge),{inputStyle:w.object,preventScroll:w.bool});yC.defaultProps=Object.assign({autoAdjustOverflow:!0,borderless:!1,getPopupContainer:()=>document.body,showClear:!0,zIndex:Uc.DEFAULT_Z_INDEX,rangeSeparator:ua.DEFAULT_RANGE_SEPARATOR,onOpenChange:Te,clearText:"clear",prefixCls:bG.PREFIX,inputReadOnly:!1,style:{},stopPropagation:!0,className:"",popupClassName:"",popupStyle:{left:"0px",top:"0px"},disabledHours:()=>[],disabledMinutes:()=>[],disabledSeconds:()=>[],hideDisabledOptions:!1,onFocus:Te,onBlur:Te,onChange:Te,onChangeWithDateFirst:!0,use12Hours:!1,focusOnOpen:!1,onKeyDown:Te,size:"default",type:ua.DEFAULT_TYPE,motion:!0},bei);class E2 extends R.PureComponent{render(){const{type:e}=this.props;return R.createElement(ic.Consumer,null,t=>{let{timeZone:n}=t;return R.createElement(La,{componentName:"TimePicker"},(r,s,a)=>R.createElement(yC,Object.assign({timeZone:n,placeholder:wt(r,["placeholder",e])},this.props,{locale:r,localeCode:s,dateFnsLocale:a})))})}}E2.propTypes=yC.propTypes;E2.__SemiComponentName__="TimePicker";E2.defaultProps=oh(E2.__SemiComponentName__,yC.defaultProps);class bQ extends _n{constructor(e){super(Object.assign(Object.assign({},bQ.defaultAdapter),e)),this.handleMouseInSideChange=t=>{this._adapter.handleMouseInSideChange(t)},this.getInputWrapperRect=()=>this._adapter.getInputWrapperRect()}hasToast(e){return this._adapter.getState("list").map(n=>{let{id:r}=n;return r}).includes(e)}addToast(e){const t=this._adapter.getState("list");t.push(e),this._adapter.updateToast(t,[],[])}updateToast(e,t){let n=this._adapter.getState("list");n=n.map(s=>s.id===e?Object.assign(Object.assign({},s),t):s);const r=n.filter(s=>s.id===e);this._adapter.updateToast(n,[],r)}removeToast(e){let t=this._adapter.getState("list");const n=[];t=t.filter(r=>r.id===e?(n.push(r),!1):!0),this._adapter.updateToast(t,n,[])}destroyAll(){const e=this._adapter.getState("list");e.length>0&&this._adapter.updateToast([],e,[])}}const Z8=`${Ze}-toast`,aS={PREFIX:Z8,WRAPPER:`${Z8}-wrapper`,LIST:`${Z8}-list`},RA={types:["warning","success","info","error","default"],themes:["normal","light"],directions:["ltr","rtl"]},wei={duration:3};class SQ extends _n{constructor(e){super(Object.assign(Object.assign({},SQ.defaultAdapter),e)),this._timer=null,this._id=null}init(){this.startCloseTimer_(),this._id=this._adapter.getProp("id")}destroy(){this.clearCloseTimer_()}startCloseTimer_(){const e=this._adapter.getProp("duration");e&&Gs(e)&&(this._timer=setTimeout(()=>{this.close()},e*1e3))}close(e){e&&e.stopPropagation(),this._adapter.notifyWrapperToRemove(this._id),this._adapter.notifyClose()}clearCloseTimer_(){this._timer&&(clearTimeout(this._timer),this._timer=null)}restartCloseTimer(){this.clearCloseTimer_(),this.startCloseTimer_()}}const Eh=aS.PREFIX;let ab=class extends ln{constructor(e){super(e),this.toastEle=R.createRef(),this.clearCloseTimer=()=>{this.foundation.clearCloseTimer_()},this.startCloseTimer=()=>{this.foundation.startCloseTimer_()},this.restartCloseTimer=()=>{this.foundation.restartCloseTimer()},this.state={},this.foundation=new SQ(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:e=>{this.props.close(e)},notifyClose:()=>{this.props.onClose()}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}close(e){this.foundation.close(e)}renderIcon(){const{type:e,icon:t}=this.props,r={warning:R.createElement(tMe,null),success:R.createElement(mVt,null),info:R.createElement(iVt,null),error:R.createElement(i6,null)}[e],s="large",a=he(`${Eh}-icon`,`${Eh}-icon-${e}`);return t?Zl(t)?R.cloneElement(t,{size:s,className:`${Eh}-icon`}):t:e&&r?R.cloneElement(r,{size:s,className:a}):null}render(){const{content:e,type:t,theme:n,showClose:r,textMaxWidth:s,className:a,style:o}=this.props,l=this.props.direction||this.context.direction,u=he(Eh,a,{[`${Eh}-${t}`]:!0,[`${Eh}-${n}`]:n==="light",[`${Eh}-rtl`]:l==="rtl"}),c={};c.maxWidth=s;const d="borderless",h="small",p=this.props.positionInList?this.props.positionInList.length-this.props.positionInList.index-1:0,f=R.createElement("div",{ref:this.toastEle,role:"alert","aria-label":`${t||"default"} type`,className:u,style:Object.assign(Object.assign({},o),{transform:`translate3d(0,0,${p*-10}px)`}),onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onAnimationStart:this.props.onAnimationStart,onAnimationEnd:this.props.onAnimationEnd},R.createElement("div",{className:`${Eh}-content`},this.renderIcon(),R.createElement("span",{className:`${Eh}-content-text`,style:c,"x-semi-prop":"content"},e),r&&R.createElement("div",{className:`${Eh}-close-button`},R.createElement(Qh,{onClick:g=>this.close(g),type:"tertiary",icon:R.createElement(PZ,{"x-semi-prop":"icon"}),theme:d,size:h}))));if(this.props.stack){const g=this.props.stackExpanded&&this.toastEle.current&&getComputedStyle(this.toastEle.current).height||0;return R.createElement("div",{className:`${Eh}-zero-height-wrapper`,style:{height:g}},f)}else return f}};ab.contextType=ic;ab.propTypes={onClose:w.func,content:w.node,close:w.func,duration:w.number,theme:w.oneOf(RA.themes),type:w.oneOf(RA.types),textMaxWidth:w.oneOfType([w.string,w.number]),style:w.object,className:w.string,showClose:w.bool,stack:w.bool,stackExpanded:w.bool,icon:w.node,direction:w.oneOf(RA.directions)};ab.__SemiComponentName__="Toast";ab.defaultProps=oh(ab.__SemiComponentName__,{onClose:Te,content:"",close:Te,duration:wei.duration,textMaxWidth:450,showClose:!0,stack:!1,stackExpanded:!1,theme:"normal"});var Cei=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const kei=(i,e)=>{var{afterClose:t}=i,n=Cei(i,["afterClose"]);const[r,s]=ee.useState(!0),a=()=>{s(!1)};return R.useImperativeHandle(e,()=>({close:()=>{s(!1)}})),ee.useEffect(()=>{r||t(n.id)},[r]),r?R.createElement(ab,Object.assign({},n,{close:a})):null},Eei=R.forwardRef(kei),Fk={motion:!0,zIndex:1010,duration:3};function Aei(){const[i,e]=R.useState([]);function t(n,r){return e(s=>[{element:n,config:r},...s]),s=>{e(a=>a.filter(o=>{let{config:l}=o;return l.id!==s}))}}return[i,t]}function Tei(){const[i,e]=Aei(),t=ee.useRef(new Map),n=s=>{const a=XF("semi_toast_"),o=Object.assign(Object.assign({},s),{id:a});let l;const u=R.createElement(Eei,Object.assign({},o,{key:a,afterClose:c=>l(c),ref:c=>{var d;t.current.set(a,{close:(d=c==null?void 0:c.close)!==null&&d!==void 0?d:Te})}}));return l=e(u,Object.assign({},o)),a},r=s=>{var a;const{close:o}=(a=t.current.get(s))!==null&&a!==void 0?a:{};o==null||o()};return[{success:s=>n(Object.assign(Object.assign(Object.assign({},Fk),s),{type:"success"})),info:s=>n(Object.assign(Object.assign(Object.assign({},Fk),s),{type:"info"})),error:s=>n(Object.assign(Object.assign(Object.assign({},Fk),s),{type:"error"})),warning:s=>n(Object.assign(Object.assign(Object.assign({},Fk),s),{type:"warning"})),open:s=>n(Object.assign(Object.assign(Object.assign({},Fk),s),{type:"default"})),close:s=>r(s)},R.createElement(R.Fragment,null,Array.isArray(i)&&i.length?R.createElement(R.Fragment,null,i.map(s=>s.element)):null)]}const Pei=()=>{var i;return i=class br extends ln{constructor(t){super(t),this.stack=!1,this.innerWrapperRef=R.createRef(),this.handleMouseEnter=n=>{this.stack&&this.foundation.handleMouseInSideChange(!0)},this.handleMouseLeave=n=>{var r;this.stack&&(!((r=this.foundation.getInputWrapperRect())===null||r===void 0)&&r.height)&&this.foundation.handleMouseInSideChange(!1)},this.state={list:[],removedItems:[],updatedItems:[],mouseInSide:!1},this.foundation=new bQ(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToast:(t,n,r)=>{this.setState({list:t,removedItems:n,updatedItems:r})},handleMouseInSideChange:t=>{this.setState({mouseInSide:t})},getInputWrapperRect:()=>{var t;return(t=this.innerWrapperRef.current)===null||t===void 0?void 0:t.getBoundingClientRect()}})}static create(t){var n;const r=(n=t.id)!==null&&n!==void 0?n:XF("toast");if(br.ref){const s=document.querySelector(`#${this.wrapperId}`);["top","left","bottom","right"].map(a=>{a in t&&(s.style[a]=typeof t[a]=="number"?`${t[a]}px`:t[a])}),!!t.stack!==br.ref.stack&&(br.ref.stack=!!t.stack),br.ref.has(r)?br.ref.update(r,Object.assign(Object.assign({},t),{id:r})):br.ref.add(Object.assign(Object.assign({},t),{id:r}))}else{const s=document.createElement("div");this.wrapperId||(this.wrapperId=XF("toast-wrapper").slice(0,26)),s.className=aS.WRAPPER,s.id=this.wrapperId,s.style.zIndex=String(typeof t.zIndex=="number"?t.zIndex:br.defaultOpts.zIndex),["top","left","bottom","right"].map(a=>{if(a in br.defaultOpts||a in t){const o=t[a]?t[a]:br.defaultOpts[a];s.style[a]=typeof o=="number"?`${o}px`:o}}),br.defaultOpts.getPopupContainer?br.defaultOpts.getPopupContainer().appendChild(s):document.body.appendChild(s),$c.render(R.createElement(br,{ref:a=>br.ref=a}),s,()=>{br.ref.add(Object.assign(Object.assign({},t),{id:r})),br.ref.stack=!!t.stack})}return r}static close(t){br.ref&&br.ref.remove(t)}static destroyAll(){if(br.ref){br.ref.destroyAll();const t=document.querySelector(`#${this.wrapperId}`);$c.unmountComponentAtNode(t),t&&t.parentNode.removeChild(t),br.ref=null,this.wrapperId=null}}static getWrapperId(){return this.wrapperId}static info(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},br.defaultOpts),t),{type:"info"}))}static warning(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},br.defaultOpts),t),{type:"warning"}))}static error(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},br.defaultOpts),t),{type:"error"}))}static success(t){return typeof t=="string"&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},br.defaultOpts),t),{type:"success"}))}static config(t){["top","left","bottom","right"].forEach(n=>{n in t&&(br.defaultOpts[n]=t[n])}),typeof t.theme=="string"&&RA.themes.includes(t.theme)&&(br.defaultOpts.theme=t.theme),typeof t.zIndex=="number"&&(br.defaultOpts.zIndex=t.zIndex),typeof t.duration=="number"&&(br.defaultOpts.duration=t.duration),typeof t.getPopupContainer=="function"&&(br.defaultOpts.getPopupContainer=t.getPopupContainer)}has(t){return this.foundation.hasToast(t)}add(t){return this.foundation.addToast(t)}update(t,n){return this.foundation.updateToast(t,n)}remove(t){return this.foundation.removeToast(t)}destroyAll(){return this.foundation.destroyAll()}render(){let{list:t}=this.state;const{removedItems:n,updatedItems:r}=this.state;t=Array.from(new Set([...t,...n]));const s=r.map(o=>{let{id:l}=o;return l}),a=o=>{var l;!((l=o==null?void 0:o.foundation)===null||l===void 0)&&l._id&&s.includes(o.foundation._id)&&o.foundation.restartCloseTimer()};return R.createElement(R.Fragment,null,R.createElement("div",{className:he({[`${aS.PREFIX}-innerWrapper`]:!0,[`${aS.PREFIX}-innerWrapper-hover`]:this.state.mouseInSide}),ref:this.innerWrapperRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},t.map((o,l)=>{const u=n.find(c=>c.id===o.id)!==void 0;return R.createElement(bZ,{key:o.id,motion:o.motion,animationState:u?"leave":"enter",startClassName:u?`${aS.PREFIX}-animation-hide`:`${aS.PREFIX}-animation-show`},c=>{let{animationClassName:d,animationEventsNeedBind:h,isAnimating:p}=c;return u&&!p?null:R.createElement(ab,Object.assign({},o,{stack:this.stack,stackExpanded:this.state.mouseInSide,positionInList:{length:t.length,index:l},className:he({[o.className]:!!o.className,[d]:!0})},h,{style:Object.assign({},o.style),close:f=>this.remove(f),ref:a}))})})))}},i.defaultOpts={motion:!0,zIndex:1010,content:""},i.propTypes={content:w.node,duration:w.number,onClose:w.func,icon:w.node,direction:w.oneOf(RA.directions),stack:w.bool},i.defaultProps={},i};class Oei{static create(e){const t=Pei();return t.useToast=Tei,e&&t.config(e),t}}const Wge=Oei.create(),h3e={PREFIX:`${Ze}-tree`,PREFIX_OPTION:`${Ze}-tree-option`};function Q8(i){return TOe(i,e=>{if(RLt(e)&&!e._innerDataTag||R.isValidElement(e))return e})}const Mei=h3e.PREFIX;class xQ extends ee.PureComponent{constructor(e){super(e),this._onResize=t=>{const n=t&&t[1]&&t[1].target;if(n){const r=wt(n,"offsetHeight")||0,s=window.getComputedStyle(n)||{},a=parseInt(wt(s,"paddingTop"),10)||0,o=parseInt(wt(s,"paddingBottom"),10)||0,l=r-a-o;this.state.height!==l&&this.setState({height:r-a-o})}},this.state={height:this.props.defaultHeight||0}}componentDidMount(){const{height:e}=this.state}render(){const{children:e,defaultWidth:t,defaultHeight:n}=this.props,{height:r}=this.state;let s=!1;return(r===0||typeof r!="number")&&(s=!0),R.createElement(o0,{observeParent:!0,onResize:this._onResize},R.createElement("div",{style:{height:n,overflow:"visible"},className:`${Mei}-auto-wrapper`},!s&&e({height:r,width:t})))}}xQ.propTypes={defaultHeight:w.oneOfType([w.number,w.string]),defaultWidth:w.oneOfType([w.number,w.string])};xQ.defaultProps={defaultHeight:"100%",defaultWidth:"100%"};const wQ=R.createContext(null),Iei=i=>{let{prefixcls:e,level:t,isEnd:n,showLine:r}=i;const s=`${e}-indent-unit`,a=[];for(let o=0;o<t;o+=1)a.push(ee.createElement("span",{key:o,className:he(s,{[`${s}-end`]:n[o]})}));return ee.createElement("span",{"aria-hidden":"true",className:he(`${e}-indent`,{[`${e}-indent-show-line`]:r})},a)},Rei=ee.memo(Iei);var Dei=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const rr=h3e.PREFIX_OPTION;class Sx extends ee.PureComponent{constructor(e){super(e),this.onSelect=t=>{const{onNodeSelect:n}=this.context;n(t,this.props)},this.onExpand=t=>{const{onNodeExpand:n}=this.context;t&&t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),n(t,this.props)},this.onCheck=t=>{var n,r;if(this.isDisabled())return;const{onNodeCheck:s}=this.context;t.stopPropagation(),(r=(n=t.nativeEvent)===null||n===void 0?void 0:n.stopImmediatePropagation)===null||r===void 0||r.call(n),s(t,this.props)},this.handleCheckEnterPress=t=>{Qd(t)&&this.onCheck(t)},this.onContextMenu=t=>{const{onNodeRightClick:n}=this.context;n(t,this.props)},this.onClick=t=>{const{expandAction:n}=this.context;if(n==="doubleClick"){this.debounceSelect(t);return}this.onSelect(t),n==="click"&&this.onExpand(t)},this.handleliEnterPress=t=>{Qd(t)&&this.onClick(t)},this.onDoubleClick=t=>{const{expandAction:n,onNodeDoubleClick:r}=this.context;t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),sn(r)&&r(t,this.props),n==="doubleClick"&&this.onExpand(t)},this.onDragStart=t=>{const{onNodeDragStart:n}=this.context;t.stopPropagation(),n(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}));try{t.dataTransfer.setData("text/plain","")}catch{}},this.onDragEnter=t=>{const{onNodeDragEnter:n}=this.context;t.preventDefault(),t.stopPropagation(),n(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragOver=t=>{const{onNodeDragOver:n}=this.context;t.preventDefault(),t.stopPropagation(),n(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragLeave=t=>{const{onNodeDragLeave:n}=this.context;t.stopPropagation(),n(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDragEnd=t=>{const{onNodeDragEnd:n}=this.context;t.stopPropagation(),n(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.onDrop=t=>{const{onNodeDrop:n}=this.context;t.preventDefault(),t.stopPropagation(),n(t,Object.assign(Object.assign({},this.props),{nodeInstance:this.refNode}))},this.getNodeChildren=()=>{const{children:t}=this.props;return t||[]},this.isLeaf=()=>{const{isLeaf:t,loaded:n}=this.props,{loadData:r}=this.context,s=this.getNodeChildren().length!==0;return t===!1?!1:t||!r&&!s||r&&n&&!s},this.isDisabled=()=>{const{disabled:t}=this.props,{treeDisabled:n}=this.context;return t===!1?!1:!!(n||t)},this.renderSwitcher=()=>this.isLeaf()?R.createElement("span",{className:he(`${rr}-switcher`)},R.createElement("span",{className:`${rr}-switcher-leaf-line`})):null,this.renderRealLabel=()=>{const{renderLabel:t}=this.context,{label:n,keyword:r,data:s,filtered:a,treeNodeFilterProp:o}=this.props;return sn(t)?t(n,s):en(n)&&a&&r?yZ({sourceString:n,searchWords:[r],option:{highlightTag:"span",highlightClassName:`${rr}-highlight`}}):n},this.setRef=t=>{this.refNode=t},this.state={},this.debounceSelect=Qq(this.onSelect,500,{leading:!0,trailing:!1})}renderArrow(){const e=!this.isLeaf(),{loading:t,expanded:n,showLine:r}=this.props;return t?R.createElement(nm,{wrapperClassName:`${rr}-spin-icon`}):e?R.createElement(yVt,{role:"button","aria-label":`${n?"Expand":"Collapse"} the tree item`,className:`${rr}-expand-icon`,size:"small",onClick:this.onExpand}):r?this.renderSwitcher():R.createElement("span",{className:`${rr}-empty-icon`})}renderCheckbox(){const{checked:e,halfChecked:t,eventKey:n}=this.props,r=this.isDisabled();return R.createElement("div",{role:"none",onClick:this.onCheck,onKeyPress:this.handleCheckEnterPress},R.createElement(rm,{"aria-label":"Toggle the checked state of checkbox",value:n,indeterminate:t,checked:e,disabled:!!r}))}renderIcon(){const{directory:e,treeIcon:t}=this.context,{expanded:n,icon:r}=this.props,s=!this.isLeaf(),a=r||t;let o;return(a||e)&&(a?o=r||t:s?o=n?R.createElement(QHt,{className:`${rr}-item-icon`}):R.createElement(qHt,{className:`${rr}-item-icon`}):o=R.createElement(mU,{className:`${rr}-item-icon`})),o}renderEmptyNode(){const{emptyContent:e}=this.props,t=he(rr,{[`${rr}-empty`]:!0});return R.createElement("ul",{className:t},R.createElement("li",{className:`${rr}-label ${rr}-label-empty`,"x-semi-prop":"emptyContent"},e))}render(){const e=this.props,{eventKey:t,expanded:n,selected:r,checked:s,halfChecked:a,loading:o,active:l,level:u,empty:c,filtered:d,treeNodeFilterProp:h,display:p,style:f,isEnd:g,showLine:v}=e,m=Dei(e,["eventKey","expanded","selected","checked","halfChecked","loading","active","level","empty","filtered","treeNodeFilterProp","display","style","isEnd","showLine"]);if(c)return this.renderEmptyNode();const{multiple:b,draggable:_,renderFullLabel:S,dragOverNodeKey:C,dropPosition:k,labelEllipsis:E}=this.context,A=g[g.length-1],P=this.isDisabled(),O=C===t&&k===0,M=C===t&&k===-1,D=C===t&&k===1,L=he(rr,{[`${rr}-level-${u+1}`]:!0,[`${rr}-fullLabel-level-${u+1}`]:S,[`${rr}-collapsed`]:!n,[`${rr}-disabled`]:!!P,[`${rr}-selected`]:r,[`${rr}-active`]:!b&&l,[`${rr}-ellipsis`]:E,[`${rr}-drag-over`]:!P&&O,[`${rr}-draggable`]:!P&&_&&!S,[`${rr}-fullLabel-draggable`]:!P&&_&&S,[`${rr}-fullLabel-drag-over-gap-top`]:!P&&M&&S,[`${rr}-fullLabel-drag-over-gap-bottom`]:!P&&D&&S,[`${rr}-tree-node-last-leaf`]:A}),H={onClick:this.onClick,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,className:L,onExpand:this.onExpand,data:m.data,level:u,onCheck:this.onCheck,style:f,expandIcon:this.renderArrow(),checkStatus:{checked:s,halfChecked:a},expandStatus:{expanded:n,loading:o},filtered:d,searchWord:m.keyword},B={onDoubleClick:this.onDoubleClick,onDragStart:_?this.onDragStart:void 0,onDragEnter:_?this.onDragEnter:void 0,onDragOver:_?this.onDragOver:void 0,onDragLeave:_?this.onDragLeave:void 0,onDrop:_?this.onDrop:void 0,onDragEnd:_?this.onDragEnd:void 0,draggable:!P&&_||void 0};if(S){const U=S(Object.assign({},H));return _?R.cloneElement(U,Object.assign({ref:this.setRef},B)):$r(f)?U:R.cloneElement(U,{style:Object.assign(Object.assign({},wt(U,["props","style"])),f)})}const F=he(`${rr}-label`,{[`${rr}-drag-over-gap-top`]:!P&&M,[`${rr}-drag-over-gap-bottom`]:!P&&D}),z=wt(m,["data","children","length"]),N=en(m.pos)?Number(m.pos.split("-")[u+1])+1:1;return R.createElement("li",Object.assign({className:L,role:"treeitem","aria-disabled":P,"aria-checked":s,"aria-selected":r,"aria-setsize":z,"aria-posinset":N,"aria-expanded":n,"aria-level":u+1,"data-key":t,onClick:this.onClick,onKeyPress:this.handleliEnterPress,onContextMenu:this.onContextMenu,onDoubleClick:this.onDoubleClick,ref:this.setRef,style:f},B),R.createElement(Rei,{showLine:v,prefixcls:rr,level:u,isEnd:g}),this.renderArrow(),R.createElement("span",{className:F},b?this.renderCheckbox():null,this.renderIcon(),R.createElement("span",{className:`${rr}-label-text`},this.renderRealLabel())))}}Sx.contextType=wQ;Sx.propTypes={expanded:w.bool,selected:w.bool,checked:w.bool,halfChecked:w.bool,active:w.bool,disabled:w.bool,loaded:w.bool,loading:w.bool,isLeaf:w.bool,pos:w.string,children:w.oneOfType([w.array,w.object]),icon:w.node,directory:w.bool,keyword:w.string,treeNodeFilterProp:w.string,selectedKey:w.string,motionKey:w.oneOfType([w.string,w.arrayOf(w.string)]),isEnd:w.arrayOf(w.bool),showLine:w.bool};Sx.defaultProps={selectedKey:"",motionKey:""};var Lei=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};function Fei(i){const{open:e,children:t}=i,n=Lei(i,["open","children"]),[r,s]=ee.useState(i.open);return ee.useEffect(()=>{setTimeout(()=>{s(!i.open)},0)},[]),R.createElement(C0,Object.assign({},n,{isOpen:r}),t)}const Uge=i=>i.key;class p3e extends ee.PureComponent{constructor(e){super(e),this.onMotionEnd=()=>{typeof this.props.onMotionEnd=="function"&&this.props.onMotionEnd(),this.setState({transitionNodes:[]})},this.state={transitionNodes:[]}}static getDerivedStateFromProps(e,t){const{flattenNodes:n=[],motionKeys:r,motionType:s,flattenList:a=[]}=e,o=!Fn(t.cachedMotionKeys,r)||!Fn(t.cachedData.map(f=>f.key),n.map(f=>f.key)),l=[...r];if(!o||!l.length)return null;const u=[],c=[];let d=0,h={};return(s==="hide"&&a?a:n).forEach((f,g)=>{const v=Uge(f);r.has(v)?(c.push(f),v===l[0]&&(d=g)):u.push(f)}),u.splice(d,0,c),h={transitionNodes:u,cachedData:n,cachedMotionKeys:r,cachedMotionType:s},h}render(){const{flattenNodes:e,motionType:t,searchTargetIsDeep:n,renderTreeNode:r}=this.props,{transitionNodes:s}=this.state;return(s.length&&!n?s:e).map(l=>{const u=Array.isArray(l);if(u&&!l.length)return null;if(u&&l.length){const c=Uge(l[0]);return R.createElement(Fei,{open:t==="hide",duration:200,motion:!!t,key:`motion-${c}`,onMotionEnd:this.onMotionEnd},l.map(d=>r(d)))}return r(l)})}}p3e.contextType=wQ;const f3e={PREFIX:`${Ze}-tree-select`,PREFIX_TREE:`${Ze}-tree`,PREFIX_OPTION:`${Ze}-tree-select-option`},ql={SIZE_SET:["small","large","default"],SEARCH_POSITION_DROPDOWN:"dropdown",SEARCH_POSITION_TRIGGER:"trigger",STATUS:sC};class Bei extends _n{constructor(e){super(Object.assign({},e)),this._registerClickOutsideHandler=t=>{this._adapter.registerClickOutsideHandler(n=>{this.handlerTriggerBlur(n),this.close(n)})},this.clearInputValue=()=>{const{inputValue:t}=this.getStates();t&&this._adapter.updateInputValue("")}}init(){const{searchAutoFocus:e,searchPosition:t,filterTreeNode:n}=this.getProps(),r=t===ql.SEARCH_POSITION_TRIGGER&&n,s=e&&r;this._setDropdownWidth(),(this.getProp("defaultOpen")||s)&&!this._isDisabled()&&this.open(),s&&this.handleTriggerFocus(null)}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let n;t&&(e&&Gs(e.width)||e&&en(e.width)&&!e.width.includes("%")?n=e.width:n=this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(n))}_isMultiple(){return this.getProp("multiple")}_isAnimated(){return this.getProp("motionExpand")}_isDisabled(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.getProp("disabled")||e.disabled}_isExpandControlled(){return this.getProp("expandedKeys")}_isSelectToClose(){return!this.getProp("expandAction")}_isLoadControlled(){return this.getProp("loadedKeys")}_showFilteredOnly(){const{inputValue:e}=this.getStates(),{showFilteredOnly:t}=this.getProps();return!!e&&t}findDataForValue(e){const{value:t,defaultValue:n,keyMaps:r}=this.getProps(),s=wt(r,"value","value"),a=wt(r,"key","key");let o=[];return t?o=Array.isArray(t)?t:[t]:n&&(o=Array.isArray(n)?n:[n]),o.find(l=>l[s]===e||l[a]===e)}constructDataForValue(e){const{treeNodeLabelProp:t,keyMaps:n}=this.getProps(),r=wt(n,"key","key"),s=wt(n,"label",t);return{[r]:e,[s]:e}}getDataForKeyNotInKeyEntities(e){const{onChangeWithObject:t}=this.getProps();return t?this.findDataForValue(e):this.constructDataForValue(e)}getTreeNodeProps(e){const{expandedKeys:t=new Set([]),selectedKeys:n=[],checkedKeys:r=new Set([]),halfCheckedKeys:s=new Set([]),realCheckedKeys:a=new Set([]),keyEntities:o={},filteredKeys:l=new Set([]),inputValue:u="",loadedKeys:c,loadingKeys:d,filteredExpandedKeys:h=new Set([]),disabledKeys:p=new Set([])}=this.getStates(),{treeNodeFilterProp:f,checkRelation:g}=this.getProps(),v=o[e];if(!v)return null;let b=!1,_=!1;g==="related"?(b=r.has(e),_=s.has(e)):g==="unRelated"&&(b=a.has(e),_=!1);const C={eventKey:e,expanded:!!u?h.has(e):t.has(e),selected:n.includes(e),checked:b,halfChecked:_,pos:String(v?v.pos:""),level:v.level,filtered:l.has(e),keyword:u,treeNodeFilterProp:f,loading:d.has(e)&&!c.has(e),loaded:c.has(e)};return this.getProp("disableStrictly")&&p.has(e)&&(C.disabled=!0),C}handleNodeLoad(e,t,n,r){const{loadData:s}=this.getProps(),{key:a}=n;return!s||e.has(a)||t.has(a)?{}:(s(n).then(()=>{const o=new Set(this.getState("loadedKeys")),l=new Set(this.getState("loadingKeys")),u=o.add(a),c=new Set([...l]);c.delete(a),this._adapter.notifyLoad(u,n),this._isLoadControlled()||this._adapter.updateState({loadedKeys:u}),this._adapter.setState({loadingKeys:c}),r()}),{loadingKeys:t.add(a)})}focusInput(e){this._adapter.updateInputFocus(e)}_notifyMultipleChange(e,t){const{keyEntities:n}=this.getStates(),{leafOnly:r,checkRelation:s,keyMaps:a}=this.getProps();let o=[];s==="related"?o=Lc(e,n,r,!0):s==="unRelated"&&(o=e);const l=o.map(u=>n[u]&&n[u].key===u?n[u].data:this.getDataForKeyNotInKeyEntities(u));if(this.getProp("onChangeWithObject"))this._adapter.notifyChangeWithObject(l,t);else{const u=a6(l,a);this._adapter.notifyChange(u,l,t)}}_notifyChange(e,t){const{keyEntities:n}=this.getStates(),{keyMaps:r}=this.getProps();if(this._isMultiple()&&Array.isArray(e))this._notifyMultipleChange(e,t);else{const s=Or(e)?e:n[e].data,a=Or(e)?e:a6(s,r);this.getProp("onChangeWithObject")?this._adapter.notifyChangeWithObject(s,t):this._adapter.notifyChange(a,s,t)}}_notifyFocus(e){this._adapter.notifyFocus(e)}handleTriggerFocus(e){this._adapter.updateIsFocus(!0),this._notifyFocus(e),this._registerClickOutsideHandler(e)}_notifyBlur(e){this._adapter.notifyBlur(e)}handlerTriggerBlur(e){this._adapter.updateIsFocus(!1),this._notifyBlur(e),this._adapter.unregisterClickOutsideHandler()}toggleHoverState(e){this._adapter.toggleHovering(e)}open(){this._adapter.openMenu(),this._setDropdownWidth()}close(e){this._adapter.closeMenu(),this.getProp("motionExpand")&&this._adapter.updateState({motionKeys:new Set([])})}handleClick(e){const t=this._isDisabled(),{isOpen:n,inputValue:r,isFocus:s}=this.getStates(),{searchPosition:a,clickTriggerToHide:o}=this.getProps();if(!t)if(s||this.handleTriggerFocus(e),n){if(a==="trigger"&&r)return;o&&this.close(e)}else this.open()}handleSelectionEnterPress(e){Qd(e)&&this.handleClick(e)}handleClear(e){const{searchPosition:t,filterTreeNode:n}=this.getProps(),{inputValue:r,selectedKeys:s}=this.getStates(),a=this._isMultiple(),o=this._isControlledComponent(),l=a?[]:void 0;this._notifyChange(l,e),o||(this._adapter.rePositionDropdown(),this._adapter.updateState({selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([])})),n&&t===ql.SEARCH_POSITION_TRIGGER&&r!==""&&($r(s)?this.handleInputChange(""):this.clearInput()),this._adapter.notifyClear(e)}handleClearEnterPress(e){Qd(e)&&this.handleClear(e)}removeTag(e){const{disableStrictly:t,checkRelation:n,keyMaps:r}=this.getProps(),{keyEntities:s,disabledKeys:a,realCheckedKeys:o}=this.getStates(),l=s[e]&&s[e].key===e?s[e].data:this.getDataForKeyNotInKeyEntities(e),u=wt(r,"disabled","disabled");if(!(l[u]||t&&a.has(e))){if(n==="unRelated"){const c=new Set(o);c.delete(e),this._notifyChange([...c],null),this._isControlledComponent()||(this._adapter.updateState({realCheckedKeys:c}),this._adapter.rePositionDropdown())}else if(n==="related"){const{checkedKeys:c,halfCheckedKeys:d}=this.calcCheckedKeys(e,!1);this._notifyChange([...c],null),this._isControlledComponent()||(this._adapter.updateState({checkedKeys:c,halfCheckedKeys:d}),this._adapter.rePositionDropdown())}this._adapter.notifySelect(e,!1,l),this._adapter.rePositionDropdown()}}clearInput(){const{flattenNodes:e,expandedKeys:t,selectedKeys:n,keyEntities:r,treeData:s}=this.getStates(),{keyMaps:a}=this.getProps(),o=new Set(t);this._isExpandControlled();const l=Sf(n,r,!1);l.forEach(c=>o.add(c));const u=fv(s,o,a);this._adapter.updateState({expandedKeys:o,flattenNodes:u,inputValue:"",motionKeys:new Set([]),filteredKeys:new Set([]),filteredExpandedKeys:new Set(l),filteredShownKeys:new Set([])}),this._adapter.rePositionDropdown()}handleInputChange(e){this._adapter.updateInputValue(e);const{flattenNodes:t,expandedKeys:n,selectedKeys:r,keyEntities:s,treeData:a}=this.getStates(),{showFilteredOnly:o,filterTreeNode:l,treeNodeFilterProp:u,keyMaps:c}=this.getProps(),d=u!=="label"?u:wt(c,"label","label"),h=new Set(n);let p=[],f=[],g=[],v=[],m=new Set([]);if(!e)g=Sf(r,s,!1),g.forEach(_=>h.add(_)),v=fv(a,h,c);else{const _=Object.values(s).filter(C=>{const{data:k}=C;return PMe(e,k,l,d)});p=_.map(C=>C.data),f=_.map(C=>C.key),g=Sf(f,s,!1);const S=bf(f,s,!0);m=new Set([...S,...g]),v=fv(a,new Set(g),c,o&&m)}const b=new Set(g);this._adapter.notifySearch(e,Array.from(b),p),this._adapter.updateState({expandedKeys:h,flattenNodes:v,motionKeys:new Set([]),filteredKeys:new Set(f),filteredExpandedKeys:b,filteredShownKeys:m}),this._adapter.rePositionDropdown()}handleNodeSelect(e,t){this._isDisabled(t)||(this._isMultiple()?this.handleMultipleSelect(e,t):this.handleSingleSelect(e,t))}handleSingleSelect(e,t){let n=[...this.getState("selectedKeys")];const{clickToHide:r}=this.getProps(),{selected:s,eventKey:a,data:o}=t;this._adapter.notifySelect(a,!0,o),!n.includes(a)&&!s&&(n=[a],this._notifyChange(a,e),this._isControlledComponent()||this._adapter.updateState({selectedKeys:n})),r&&(this._isSelectToClose()||!o.children)&&(this.close(e),this.handlerTriggerBlur(e))}calcCheckedKeys(e,t){const{keyEntities:n}=this.getStates(),r=new Set(this.getState("checkedKeys")),s=new Set(this.getState("halfCheckedKeys"));return t?OMe(e,n,r,s):MMe(e,n,r,s)}handleMultipleSelect(e,t){const{searchPosition:n,disableStrictly:r,checkRelation:s}=this.getProps(),{inputValue:a,realCheckedKeys:o}=this.getStates(),{checked:l,eventKey:u,data:c}=t;if(s==="related"){const d=r?this.calcCheckedStatus(!l,u):!l,{checkedKeys:h,halfCheckedKeys:p}=r?this.calcNonDisabledCheckedKeys(u,d):this.calcCheckedKeys(u,d);this._adapter.notifySelect(u,d,c),this._notifyChange([...h],e),this._isControlledComponent()||(this._adapter.updateState({checkedKeys:h,halfCheckedKeys:p}),this._adapter.rePositionDropdown())}else if(s==="unRelated"){const d=new Set(o);let h;o.has(u)?(d.delete(u),h=!1):(d.add(u),h=!0),this._adapter.notifySelect(u,h,c),this._notifyChange([...d],e),this._isControlledComponent()||(this._adapter.updateState({realCheckedKeys:d}),this._adapter.rePositionDropdown())}n===ql.SEARCH_POSITION_TRIGGER&&a!==""&&this._adapter.updateState({inputValue:""})}calcNonDisabledCheckedKeys(e,t){const{keyEntities:n,disabledKeys:r}=this.getStates(),s=new Set(this.getState("checkedKeys")),a=Lc(bf([e],n,!1),n,!0);if(!a.some(c=>r.has(c)))return this.calcCheckedKeys(e,t);const l=a.filter(c=>!r.has(c)),u=t?[...l,...s]:s6(Lc([...s],n,!0,!0),l);return $P(u,n)}calcCheckedStatus(e,t){if(!e)return e;const{checkedKeys:n,keyEntities:r,disabledKeys:s}=this.getStates(),a=Lc(bf([t],r,!1),r,!0);return a.some(c=>s.has(c))?!a.filter(c=>!s.has(c)).every(c=>n.has(c)):e}handleNodeExpandInSearch(e,t){const{treeData:n,filteredShownKeys:r,keyEntities:s,keyMaps:a}=this.getStates(),o=this._showFilteredOnly(),l=new Set(this.getState("filteredExpandedKeys"));let u="show";const{eventKey:c,expanded:d,data:h}=t;if(d?l.has(c)&&(l.delete(c),u="hide"):l.add(c),this._adapter.cacheFlattenNodes(u==="hide"&&this._isAnimated()),!this._isExpandControlled()){const p=fv(n,l,a,o&&r),f=this._isAnimated()?Bfe(c,l,s):[],g={filteredExpandedKeys:l,flattenNodes:p,motionKeys:new Set(f),motionType:u};this._adapter.updateState(g)}this._adapter.notifyExpand(l,{expanded:!d,node:h})}handleNodeExpand(e,t){const{loadData:n,keyMaps:r}=this.getProps(),{inputValue:s,keyEntities:a}=this.getStates(),o=!!s;if(!n&&(!t.children||!t.children.length))return;const l=this._isExpandControlled();if(o){this.handleNodeExpandInSearch(e,t);return}const{treeData:u}=this.getStates(),c=new Set(this.getState("expandedKeys"));let d="show";const{eventKey:h,expanded:p,data:f}=t;if(p?c.has(h)&&(c.delete(h),d="hide"):c.add(h),this._adapter.cacheFlattenNodes(d==="hide"&&this._isAnimated()),!l){const g=fv(u,c,r),v=this._isAnimated()?Bfe(h,c,a):[],m={expandedKeys:c,flattenNodes:g,motionKeys:new Set(v),motionType:d};this._adapter.updateState(m)}this._adapter.notifyExpand(c,{expanded:!p,node:f})}getRenderTextInSingle(){const{renderSelectedItem:e,treeNodeLabelProp:t,keyMaps:n}=this.getProps(),{selectedKeys:r,keyEntities:s}=this.getStates(),a=wt(n,"label",t),o=sn(e)?e:c=>wt(c,a,null);let l;if(r.length){const c=r[0];l=s[c]&&s[c].key===c?s[c].data:this.getDataForKeyNotInKeyEntities(c)}return l?o(l):null}handleInputTriggerBlur(){this._adapter.updateState({inputTriggerFocus:!1})}handleInputTriggerFocus(){this.getState("inputValue")&&this.clearInput(),this._adapter.updateState({inputTriggerFocus:!0})}setLoadKeys(e,t){this._adapter.updateLoadKeys(e,t)}handlePopoverVisibleChange(e){const{filterTreeNode:t,searchAutoFocus:n,searchPosition:r}=this.getProps(),s=this.getState("inputValue");e===!1&&t&&(s&&this._adapter.setClearInputFlag(!0),this.clearInputValue()),t&&r===ql.SEARCH_POSITION_DROPDOWN&&e&&n&&this.focusInput(!0)}handleAfterClose(){const{filterTreeNode:e}=this.getProps(),t=this._adapter.getClearInputFlag();e&&t&&this.clearInput()}}var $ei=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const Tn=f3e.PREFIX,j1=f3e.PREFIX_TREE,Nei=0;class N4 extends ln{constructor(e){super(e),this.renderSuffix=()=>{const{suffix:t}=this.props,n=he({[`${Tn}-suffix`]:!0,[`${Tn}-suffix-text`]:t&&en(t),[`${Tn}-suffix-icon`]:Zl(t)});return R.createElement("div",{className:n,"x-semi-prop":"suffix"},t)},this.renderPrefix=()=>{const{prefix:t,insetLabel:n,insetLabelId:r}=this.props,s=t||n,a=he({[`${Tn}-prefix`]:!0,[`${Tn}-inset-label`]:n,[`${Tn}-prefix-text`]:s&&en(s),[`${Tn}-prefix-icon`]:Zl(s)});return R.createElement("div",{className:a,id:r,"x-semi-prop":"prefix,insetLabel"},s)},this.renderContent=()=>{const{dropdownMinWidth:t}=this.state,{dropdownStyle:n,dropdownClassName:r}=this.props,s=Object.assign({minWidth:t},n),a=he(r,`${Tn}-popover`);return R.createElement("div",{className:a,style:s},this.renderTree())},this.removeTag=t=>{this.foundation.removeTag(t)},this.handleClick=t=>{this.foundation.handleClick(t)},this.getDataForKeyNotInKeyEntities=t=>this.foundation.getDataForKeyNotInKeyEntities(t),this.handleSelectionEnterPress=t=>{this.foundation.handleSelectionEnterPress(t)},this.hasValue=()=>{const{multiple:t,checkRelation:n}=this.props,{realCheckedKeys:r,checkedKeys:s,selectedKeys:a}=this.state;let o=!1;return t?n==="related"?o=!!s.size:n==="unRelated"&&(o=!!r.size):o=!!a.length,o},this.showClearBtn=()=>{const{showClear:t,disabled:n,searchPosition:r}=this.props,{inputValue:s,isOpen:a,isHovering:o}=this.state,l=r===ql.SEARCH_POSITION_TRIGGER&&s;return t&&(this.hasValue()||l)&&!n&&(a||o)},this.renderTagList=()=>{const{checkedKeys:t,keyEntities:n,disabledKeys:r,realCheckedKeys:s}=this.state,{treeNodeLabelProp:a,leafOnly:o,disabled:l,disableStrictly:u,size:c,checkRelation:d,renderSelectedItem:h,keyMaps:p}=this.props,f=wt(p,"label",a),g=sn(h)?h:b=>({isRenderInTag:!0,content:wt(b,f,null)});let v=[];d==="related"?v=Lc([...t],n,o,!0):d==="unRelated"&&Object.keys(n).length>0&&(v=[...s]);const m=[];return v.forEach((b,_)=>{const S=n[b]&&n[b].key===b?n[b].data:this.getDataForKeyNotInKeyEntities(b),C=(O,M)=>{M&&typeof M.preventDefault=="function"&&M.preventDefault(),this.removeTag(b)},{content:k,isRenderInTag:E}=S?g(S,{index:_,onClose:C}):{};if(rb(k)||Or(k))return;const P={closable:!(l||S.disabled||u&&r.has(S.key)),color:"white",visible:!0,onClose:C,key:`tag-${b}-${_}`,size:c==="small"?"small":"large"};E?m.push(R.createElement(Gu,Object.assign({},P),k)):m.push(k)}),m},this.renderSingleTriggerSearchItem=()=>{const{placeholder:t,disabled:n}=this.props,{inputTriggerFocus:r}=this.state,s=this.foundation.getRenderTextInSingle(),a=he(`${Tn}-selection-TriggerSearchItem`,{[`${Tn}-selection-TriggerSearchItem-placeholder`]:(r||!s)&&!n,[`${Tn}-selection-TriggerSearchItem-disabled`]:n});return R.createElement("span",{className:a},s||t)},this.renderSingleTriggerSearch=()=>{const{inputValue:t}=this.state;return R.createElement(R.Fragment,null,!t&&this.renderSingleTriggerSearchItem(),this.renderInput())},this.renderSelectContent=()=>{const{multiple:t,placeholder:n,maxTagCount:r,searchPosition:s,filterTreeNode:a,showRestTagsPopover:o,restTagsPopoverProps:l}=this.props;if(a&&s===ql.SEARCH_POSITION_TRIGGER)return t?this.renderTagInput():this.renderSingleTriggerSearch();if(!t||!this.hasValue()){const d=this.foundation.getRenderTextInSingle(),h=he(`${Tn}-selection-content`,{[`${Tn}-selection-placeholder`]:!d});return R.createElement("span",{className:h},d||n)}const c=this.renderTagList();return R.createElement(k2,{maxTagCount:r,tagList:c,size:"large",mode:"custom",showPopover:o,popoverProps:l})},this.handleClear=t=>{t&&t.stopPropagation(),this.foundation.handleClear(t)},this.handleClearEnterPress=t=>{t&&t.stopPropagation(),this.foundation.handleClearEnterPress(t)},this.handleMouseOver=t=>{this.foundation.toggleHoverState(!0)},this.handleMouseLeave=t=>{this.foundation.toggleHoverState(!1)},this.search=t=>{const{isOpen:n}=this.state;n||this.foundation.open(),this.foundation.handleInputChange(t)},this.close=()=>{this.foundation.close(null)},this.renderArrow=()=>{const t=this.showClearBtn(),{arrowIcon:n}=this.props;return t?null:n?R.createElement("div",{className:he(`${Tn}-arrow`),"x-semi-prop":"arrowIcon"},n):null},this.renderClearBtn=()=>{const t=this.showClearBtn(),{clearIcon:n}=this.props,r=he(`${Tn}-clearbtn`);return t?R.createElement("div",{role:"button",tabIndex:0,"aria-label":"Clear TreeSelect value",className:r,onClick:this.handleClear,onKeyPress:this.handleClearEnterPress},n||R.createElement(Sm,null)):null},this.renderSelection=()=>{const t=this.props,{disabled:n,multiple:r,filterTreeNode:s,validateStatus:a,prefix:o,suffix:l,style:u,size:c,insetLabel:d,className:h,placeholder:p,showClear:f,leafOnly:g,searchPosition:v,triggerRender:m,borderless:b,checkRelation:_}=t,S=$ei(t,["disabled","multiple","filterTreeNode","validateStatus","prefix","suffix","style","size","insetLabel","className","placeholder","showClear","leafOnly","searchPosition","triggerRender","borderless","checkRelation"]),{inputValue:C,selectedKeys:k,checkedKeys:E,keyEntities:A,isFocus:P,realCheckedKeys:O}=this.state,M=!!s,D=typeof m=="function",L=f?{onMouseEnter:G=>this.handleMouseOver(G),onMouseLeave:G=>this.handleMouseLeave(G)}:{},H=v===ql.SEARCH_POSITION_TRIGGER&&M,B=H&&$r(E),F=H&&!$r(E),z=D?he(h):he(Tn,{[`${Tn}-borderless`]:b,[`${Tn}-focus`]:P,[`${Tn}-disabled`]:n,[`${Tn}-single`]:!r,[`${Tn}-multiple`]:r,[`${Tn}-multiple-tagInput-empty`]:r&&B,[`${Tn}-multiple-tagInput-notEmpty`]:r&&F,[`${Tn}-filterable`]:M,[`${Tn}-error`]:a==="error",[`${Tn}-warning`]:a==="warning",[`${Tn}-small`]:c==="small",[`${Tn}-large`]:c==="large",[`${Tn}-with-prefix`]:o||d,[`${Tn}-with-suffix`]:l,[`${Tn}-with-suffix`]:l},h);let N;if(D){let G=[];r?_==="related"?G=Lc([...E],A,g,!0):_==="unRelated"&&(G=[...O]):G=k,N=R.createElement(Ab,{inputValue:C,value:G.map(j=>wt(A,[j,"data"])),disabled:n,placeholder:p,onClear:this.handleClear,componentName:"TreeSelect",triggerRender:m,componentProps:Object.assign({},this.props),onSearch:this.search,onRemove:this.removeTag})}else N=[R.createElement(ee.Fragment,{key:"prefix"},o||d?this.renderPrefix():null),R.createElement(ee.Fragment,{key:"selection"},R.createElement("div",{className:`${Tn}-selection`},this.renderSelectContent())),R.createElement(ee.Fragment,{key:"suffix"},l?this.renderSuffix():null),R.createElement(ee.Fragment,{key:"clearBtn"},f||H&&C?this.renderClearBtn():null),R.createElement(ee.Fragment,{key:"arrow"},this.renderArrow())];const U=n?null:0;return R.createElement("div",Object.assign({role:"combobox","aria-disabled":n,"aria-haspopup":"tree",tabIndex:U,className:z,style:u,ref:this.triggerRef,onClick:this.handleClick,onKeyPress:this.handleSelectionEnterPress,"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"]},L,this.getDataAttr(S)),N)},this.renderTagItem=(t,n)=>{const{keyEntities:r,disabledKeys:s}=this.state,{size:a,leafOnly:o,disabled:l,disableStrictly:u,renderSelectedItem:c,treeNodeLabelProp:d,keyMaps:h}=this.props,p=wt(h,"label",d),g=Lc([t],r,o,!0).map(P=>r[t]&&r[t].key===t?r[t].data:this.getDataForKeyNotInKeyEntities(t)),v=a6(g,h),m=he(`${Tn}-selection-tag`,{[`${Tn}-selection-tag-disabled`]:l}),b=!$r(g)&&!$r(g[0]),_=u&&b&&s.has(g[0].key),S=b&&!g[0].disabled&&!l&&!_,C=(P,O)=>{O.preventDefault(),this.removeTag(t)},k={size:a==="small"?"small":"large",key:`tag-${v}-${n}`,color:"white",className:m,closable:S,onClose:C},E=g[0],A=sn(c)?c:P=>({isRenderInTag:!0,content:wt(P,p,null)});if(sn(A)){const{content:P,isRenderInTag:O}=E?A(E,{index:n,onClose:C}):{};return O?R.createElement(Gu,Object.assign({},k),P):P}return R.createElement(Gu,Object.assign({},k),v)},this.renderTagInput=()=>{const{leafOnly:t,disabled:n,size:r,searchAutoFocus:s,placeholder:a,maxTagCount:o,checkRelation:l,showRestTagsPopover:u,restTagsPopoverProps:c,searchPosition:d,filterTreeNode:h,preventScroll:p}=this.props,{keyEntities:f,checkedKeys:g,inputValue:v,realCheckedKeys:m}=this.state;let b=[];l==="related"?b=Lc(g,f,t,!0):l==="unRelated"&&(b=[...m]);const _=h&&d===ql.SEARCH_POSITION_TRIGGER?s:void 0;return R.createElement(VP,{maxTagCount:o,disabled:n,onInputChange:S=>this.search(S),ref:this.tagInputRef,placeholder:a,value:b,inputValue:v,size:r,showRestTagsPopover:u,restTagsPopoverProps:c,autoFocus:_,renderTagItem:(S,C)=>this.renderTagItem(S,C),onRemove:S=>this.removeTag(S),expandRestTagsOnClick:!1,preventScroll:p})},this.renderInput=()=>{const{searchPlaceholder:t,searchRender:n,showSearchClear:r,searchPosition:s,searchAutoFocus:a,multiple:o,disabled:l,preventScroll:u}=this.props,c=s===ql.SEARCH_POSITION_DROPDOWN,d=he({[`${j1}-input`]:c,[`${Tn}-inputTrigger`]:!c}),{inputValue:h}=this.state,p={value:h,className:d,preventScroll:u,onChange:_=>this.search(_)},v=c?{showClear:r,prefix:R.createElement(aMe,null)}:{autofocus:a,onFocus:_=>this.foundation.handleInputTriggerFocus(),onBlur:_=>this.foundation.handleInputTriggerBlur(),disabled:l},m=he({[`${j1}-search-wrapper`]:c,[`${Tn}-triggerSingleSearch-wrapper`]:!c&&!o}),b=typeof n=="function"||typeof n=="boolean";return b&&!n?null:R.createElement("div",{className:m},R.createElement(La,{componentName:"TreeSelect"},_=>{const S=c?t||_.searchPlaceholder:"";return b?n(Object.assign(Object.assign(Object.assign({},v),p),{placeholder:S})):R.createElement(iu,Object.assign({"aria-label":"Filter TreeSelect item",ref:this.inputRef,placeholder:S},p,v))}))},this.renderEmpty=()=>{const{emptyContent:t}=this.props;return t?R.createElement(Sx,{empty:!0,emptyContent:this.props.emptyContent}):R.createElement(La,{componentName:"Tree"},n=>R.createElement(Sx,{empty:!0,emptyContent:n.emptyText}))},this.onNodeLoad=t=>new Promise(n=>this.foundation.setLoadKeys(t,n)),this.onNodeSelect=(t,n)=>{this.foundation.handleNodeSelect(t,n)},this.onNodeCheck=(t,n)=>{this.foundation.handleNodeSelect(t,n)},this.onNodeExpand=(t,n)=>{this.foundation.handleNodeExpand(t,n)},this.getTreeNodeRequiredProps=()=>{const{expandedKeys:t,selectedKeys:n,checkedKeys:r,halfCheckedKeys:s,keyEntities:a,filteredKeys:o}=this.state;return{expandedKeys:t||new Set,selectedKeys:n||[],checkedKeys:r||new Set,halfCheckedKeys:s||new Set,filteredKeys:o||new Set,keyEntities:a}},this.getTreeNodeKey=t=>{const{data:n}=t,{key:r}=n;return r},this.handlePopoverVisibleChange=t=>{this.foundation.handlePopoverVisibleChange(t)},this.afterClose=()=>{this.foundation.handleAfterClose()},this.renderTreeNode=(t,n,r)=>{const{data:s,key:a}=t,o=this.foundation.getTreeNodeProps(a),{showLine:l}=this.props;if(!o)return null;const u=BP(t,["key","label","disabled","isLeaf","icon","isEnd"]),{keyMaps:c}=this.props,d=s[wt(c,"children","children")];return!Or(d)&&(u.children=d),R.createElement(Sx,Object.assign({},o,s,u,{data:s,style:r,showLine:l}))},this.itemKey=(t,n)=>{const{visibleOptions:r}=n;return r[t].key},this.renderNodeList=()=>{const{flattenNodes:t,cachedFlattenNodes:n,motionKeys:r,motionType:s,filteredKeys:a}=this.state,{direction:o}=this.context,{virtualize:l,motionExpand:u}=this.props,c="expandedKeys"in this.props;if(!l||$r(l))return R.createElement(p3e,{flattenNodes:t,flattenList:n,motionKeys:u?r:new Set([]),motionType:s,searchTargetIsDeep:c&&u&&$r(r)&&!$r(a),onMotionEnd:this.onMotionEnd,renderTreeNode:this.renderTreeNode});const d={visibleOptions:t,renderOption:this.renderTreeNode};return R.createElement(xQ,{defaultHeight:l.height,defaultWidth:l.width},h=>{let{height:p,width:f}=h;return R.createElement(HZ,{itemCount:t.length,itemSize:l.itemSize,height:p,width:f,itemKey:this.itemKey,itemData:d,className:`${j1}-virtual-list`,style:{direction:o}},e3e)})},this.renderTree=()=>{const{keyEntities:t,motionKeys:n,motionType:r,inputValue:s,filteredKeys:a,flattenNodes:o,checkedKeys:l,realCheckedKeys:u}=this.state,{loadData:c,filterTreeNode:d,disabled:h,multiple:p,showFilteredOnly:f,motionExpand:g,outerBottomSlot:v,outerTopSlot:m,expandAction:b,labelEllipsis:_,virtualize:S,optionListStyle:C,searchPosition:k,renderLabel:E,renderFullLabel:A,checkRelation:P}=this.props,O=he(`${j1}-wrapper`),M=he(`${j1}-option-list`,{[`${j1}-option-list-block`]:!0}),D=!!s&&!a.size,L=$r(o)||f&&D,H=k===ql.SEARCH_POSITION_DROPDOWN;return R.createElement(wQ.Provider,{value:{loadData:c,treeDisabled:h,motion:g,motionKeys:n,motionType:r,expandAction:b,filterTreeNode:d,keyEntities:t,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeRightClick:Te,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,renderTreeNode:this.renderTreeNode,multiple:p,showFilteredOnly:f,isSearching:!!s,renderLabel:E,renderFullLabel:A,labelEllipsis:typeof _>"u"?S:_}},R.createElement("div",{className:O},m,!m&&d&&H&&this.renderInput(),R.createElement("div",{className:M,role:"tree","aria-multiselectable":!!p,style:C},L?this.renderEmpty():p?R.createElement(pC,{value:Array.from(P==="related"?l:u)},this.renderNodeList()):this.renderNodeList()),v))},this.state={inputTriggerFocus:!1,isOpen:!1,isFocus:!1,rePosKey:Nei,dropdownMinWidth:null,inputValue:"",keyEntities:{},treeData:[],flattenNodes:[],cachedFlattenNodes:void 0,selectedKeys:[],checkedKeys:new Set,halfCheckedKeys:new Set,realCheckedKeys:new Set([]),disabledKeys:new Set,motionKeys:new Set([]),motionType:"hide",expandedKeys:new Set(e.expandedKeys),filteredKeys:new Set,filteredExpandedKeys:new Set,filteredShownKeys:new Set,prevProps:null,isHovering:!1,cachedKeyValuePairs:{},loadedKeys:new Set,loadingKeys:new Set},this.inputRef=R.createRef(),this.tagInputRef=R.createRef(),this.triggerRef=R.createRef(),this.optionsRef=R.createRef(),this.clickOutsideHandler=null,this.clearInputFlag=!1,this.foundation=new Bei(this.adapter),this.treeSelectID=Math.random().toString(36).slice(2),this.onMotionEnd=()=>{this.adapter.rePositionDropdown()}}static getDerivedStateFromProps(e,t){const{prevProps:n,rePosKey:r}=t,{keyMaps:s}=e,a=m=>!n&&m in e||n&&!Fn(n[m],e[m]);let o;const l=e.onChangeWithObject;let u=t.keyEntities||{},c=t.cachedKeyValuePairs||{};const d={prevProps:e},h=a("treeData"),p=a("expandedKeys"),f=!!(e.filterTreeNode&&t.inputValue&&t.inputValue.length);if(h){o=e.treeData,d.treeData=o;const m=KUt(o,s);d.keyEntities=Object.assign({},m.keyEntities),u=d.keyEntities,d.cachedKeyValuePairs=Object.assign({},m.valueEntities),c=d.cachedKeyValuePairs}o&&e.motion&&!Fn(Object.keys(d.keyEntities),Object.keys(t.keyEntities))&&n&&e.motion&&(d.motionKeys=new Set([]),d.motionType=null);const g=h&&e.expandAll;if(f){let m;if(o&&(m=ZUt({treeData:o,inputValue:t.inputValue,filterTreeNode:e.filterTreeNode,filterProps:e.treeNodeFilterProp,showFilteredOnly:e.showFilteredOnly,keyEntities:d.keyEntities,prevExpandedKeys:[...t.filteredExpandedKeys],keyMaps:s}),d.flattenNodes=m.flattenNodes,d.motionKeys=new Set([]),d.filteredKeys=m.filteredKeys,d.filteredShownKeys=m.filteredShownKeys,d.filteredExpandedKeys=m.filteredExpandedKeys),e.expandedKeys){if(d.filteredExpandedKeys=O8(e.expandedKeys,u,e.autoExpandParent||!n),n&&e.motion){const b=t?t.filteredExpandedKeys:new Set([]);if(!o){const _=Ffe(b,d.filteredExpandedKeys,u);let{motionKeys:S}=_;const{motionType:C}=_;e.showFilteredOnly&&(S=S.filter(k=>t.filteredShownKeys.has(k))),C==="hide"&&(d.cachedFlattenNodes=Q8(t.flattenNodes)),d.motionKeys=new Set(S),d.motionType=C}}d.flattenNodes=fv(o||t.treeData,d.filteredExpandedKeys||t.filteredExpandedKeys,s,e.showFilteredOnly&&t.filteredShownKeys)}}else{if(p||n&&a("autoExpandParent")){if(d.expandedKeys=O8(e.expandedKeys,u,e.autoExpandParent||!n),n&&e.motion&&!o){const{motionKeys:m,motionType:b}=Ffe(t.expandedKeys,d.expandedKeys,u);d.motionKeys=new Set(m),d.motionType=b,b==="hide"&&(d.cachedFlattenNodes=Q8(t.flattenNodes))}}else!n&&(e.defaultExpandAll||e.expandAll)||g?d.expandedKeys=new Set(Object.keys(u)):!n&&e.defaultExpandedKeys?d.expandedKeys=O8(e.defaultExpandedKeys,u):!n&&e.defaultValue?d.expandedKeys=Lfe(Km(e.defaultValue,l,s),u,e.multiple,c):!n&&e.value&&(d.expandedKeys=Lfe(Km(e.value,l,s),u,e.multiple,c));if(d.expandedKeys||delete d.expandedKeys,o||d.expandedKeys){const m=fv(o||t.treeData,d.expandedKeys||t.expandedKeys,s);d.flattenNodes=m}}const v=e.multiple;if(!v)a("value")?d.selectedKeys=Ry(Km(e.value,l,s),c,v):!n&&e.defaultValue?d.selectedKeys=Ry(Km(e.defaultValue,l,s),c,v):o&&(e.value?d.selectedKeys=Ry(Km(e.value,l,s)||"",c,v):d.selectedKeys=$fe(t.selectedKeys,u));else{let m;if(a("value")?m=Ry(Km(e.value,l,s),c,v):!n&&e.defaultValue?m=Ry(Km(e.defaultValue,l,s),c,v):o&&(e.value?m=Ry(Km(e.value,l,s)||[],c,v):m=$fe(e.checkRelation==="related"?t.checkedKeys:t.realCheckedKeys,u)),m){if(e.checkRelation==="unRelated")d.realCheckedKeys=new Set(m);else if(e.checkRelation==="related"){const{checkedKeys:b,halfCheckedKeys:_}=$P(m,u);d.checkedKeys=b,d.halfCheckedKeys=_}}}return a("loadedKeys")&&(d.loadedKeys=new Set(e.loadedKeys)),(h||a("value"))&&(d.rePosKey=r+1),o&&e.disableStrictly&&e.checkRelation==="related"&&(d.disabledKeys=IMe(u,s)),d}get adapter(){var e=this;const t={updateInputValue:s=>{this.setState({inputValue:s})}},n={registerClickOutsideHandler:s=>{const a=o=>{const l=this.optionsRef&&this.optionsRef.current,u=this.triggerRef&&this.triggerRef.current,c=$c.findDOMNode(l),d=o.target,h=o.composedPath&&o.composedPath()||[d];c&&(!c.contains(d)||!c.contains(d.parentNode))&&u&&!u.contains(d)&&!(h.includes(u)||h.includes(c))&&s(o)};this.clickOutsideHandler=a,document.addEventListener("mousedown",a,!1)},unregisterClickOutsideHandler:()=>{document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null},rePositionDropdown:()=>{let{rePosKey:s}=this.state;s=s+1,this.setState({rePosKey:s})}},r={updateState:s=>{this.setState(Object.assign({},s))},notifySelect:(s,a,o)=>{this.props.onSelect&&this.props.onSelect(s,a,o)},notifySearch:(s,a,o)=>{this.props.onSearch&&this.props.onSearch(s,a,o)},cacheFlattenNodes:s=>{this.setState({cachedFlattenNodes:s?Q8(this.state.flattenNodes):void 0})},notifyLoad:(s,a)=>{const{onLoad:o}=this.props;sn(o)&&o(s,a)},notifyClear:s=>{this.props.onClear&&this.props.onClear(s)}};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),n),r),{updateLoadKeys:(s,a)=>{this.setState(o=>{let{loadedKeys:l,loadingKeys:u}=o;return this.foundation.handleNodeLoad(l,u,s,a)})},updateState:s=>{this.setState(Object.assign({},s))},openMenu:()=>{this.setState({isOpen:!0},()=>{this.props.onVisibleChange(!0)})},closeMenu:s=>{this.setState({isOpen:!1},()=>{s&&s(),this.props.onVisibleChange(!1)})},getTriggerWidth:()=>{const s=this.triggerRef.current;return s&&s.getBoundingClientRect().width},setOptionWrapperWidth:s=>{this.setState({dropdownMinWidth:s})},notifyChange:(s,a,o)=>{this.props.onChange&&this.props.onChange(s,a,o)},notifyChangeWithObject:(s,a)=>{this.props.onChange&&this.props.onChange(s,a)},notifyExpand:(s,a)=>{let{expanded:o,node:l}=a;this.props.onExpand&&this.props.onExpand([...s],{expanded:o,node:l}),o&&this.props.loadData&&this.onNodeLoad(l)},notifyFocus:function(){e.props.onFocus&&e.props.onFocus(...arguments)},notifyBlur:function(){e.props.onBlur&&e.props.onBlur(...arguments)},toggleHovering:s=>{this.setState({isHovering:s})},updateInputFocus:s=>{if(s){if(this.inputRef&&this.inputRef.current){const{preventScroll:a}=this.props;this.inputRef.current.focus({preventScroll:a})}this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.focus()}else this.inputRef&&this.inputRef.current&&this.inputRef.current.blur(),this.tagInputRef&&this.tagInputRef.current&&this.tagInputRef.current.blur()},updateIsFocus:s=>{this.setState({isFocus:s})},setClearInputFlag:s=>{this.clearInputFlag=s},getClearInputFlag:()=>this.clearInputFlag})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.renderContent(),{motion:t,zIndex:n,mouseLeaveDelay:r,mouseEnterDelay:s,autoAdjustOverflow:a,stopPropagation:o,getPopupContainer:l,dropdownMargin:u,position:c}=this.props,{isOpen:d,rePosKey:h}=this.state,p=this.renderSelection(),f=c||"bottomLeft";return R.createElement(qo,{stopPropagation:o,getPopupContainer:l,zIndex:n,motion:t,margin:u,ref:this.optionsRef,content:e,visible:d,trigger:"custom",rePosKey:h,position:f,autoAdjustOverflow:a,mouseLeaveDelay:r,mouseEnterDelay:s,onVisibleChange:this.handlePopoverVisibleChange,afterClose:this.afterClose},p)}}N4.contextType=ic;N4.propTypes={"aria-describedby":w.string,"aria-errormessage":w.string,"aria-invalid":w.bool,"aria-labelledby":w.string,"aria-required":w.bool,borderless:w.bool,loadedKeys:w.arrayOf(w.string),loadData:w.func,onLoad:w.func,arrowIcon:w.node,clearIcon:w.node,defaultOpen:w.bool,defaultValue:w.oneOfType([w.string,w.array,w.object]),defaultExpandAll:w.bool,defaultExpandedKeys:w.array,expandAll:w.bool,disabled:w.bool,disableStrictly:w.bool,filterTreeNode:w.oneOfType([w.func,w.bool]),multiple:w.bool,searchPlaceholder:w.string,searchAutoFocus:w.bool,virtualize:w.object,treeNodeFilterProp:w.string,onChange:w.func,onClear:w.func,onSearch:w.func,onSelect:w.func,onExpand:w.func,onChangeWithObject:w.bool,onBlur:w.func,onFocus:w.func,value:w.oneOfType([w.string,w.number,w.array,w.object]),expandedKeys:w.array,autoExpandParent:w.bool,showClear:w.bool,showSearchClear:w.bool,autoAdjustOverflow:w.bool,showFilteredOnly:w.bool,showLine:w.bool,motionExpand:w.bool,emptyContent:w.node,keyMaps:w.object,leafOnly:w.bool,treeData:w.arrayOf(w.shape({key:w.string,value:w.oneOfType([w.string,w.number]),label:w.any})),dropdownClassName:w.string,dropdownStyle:w.object,dropdownMargin:w.oneOfType([w.number,w.object]),motion:w.bool,placeholder:w.string,maxTagCount:w.number,size:w.oneOf(ql.SIZE_SET),className:w.string,style:w.object,treeNodeLabelProp:w.string,suffix:w.node,prefix:w.node,insetLabel:w.node,insetLabelId:w.string,zIndex:w.number,getPopupContainer:w.func,dropdownMatchSelectWidth:w.bool,validateStatus:w.oneOf(ql.STATUS),mouseEnterDelay:w.number,mouseLeaveDelay:w.number,triggerRender:w.func,stopPropagation:w.oneOfType([w.bool,w.string]),outerBottomSlot:w.node,outerTopSlot:w.node,onVisibleChange:w.func,expandAction:w.oneOf(["click","doubleClick",!1]),searchPosition:w.oneOf([ql.SEARCH_POSITION_DROPDOWN,ql.SEARCH_POSITION_TRIGGER]),clickToHide:w.bool,renderLabel:w.func,renderFullLabel:w.func,labelEllipsis:w.bool,optionListStyle:w.object,searchRender:w.oneOfType([w.func,w.bool]),renderSelectedItem:w.func,checkRelation:w.string,"aria-label":w.string,showRestTagsPopover:w.bool,restTagsPopoverProps:w.object,preventScroll:w.bool,clickTriggerToHide:w.bool};N4.defaultProps={borderless:!1,searchPosition:ql.SEARCH_POSITION_DROPDOWN,arrowIcon:R.createElement(MP,null),autoExpandParent:!1,autoAdjustOverflow:!0,stopPropagation:!0,motion:!0,motionExpand:!0,expandAll:!1,zIndex:Uc.DEFAULT_Z_INDEX,disableStrictly:!1,multiple:!1,filterTreeNode:!1,size:"default",treeNodeFilterProp:"label",onChangeWithObject:!1,treeNodeLabelProp:"label",dropdownMatchSelectWidth:!0,defaultOpen:!1,showSearchClear:!0,showClear:!1,onVisibleChange:Te,expandAction:!1,clickToHide:!0,searchAutoFocus:!1,checkRelation:"related","aria-label":"TreeSelect",showRestTagsPopover:!1,restTagsPopoverProps:{},clickTriggerToHide:!0};const Gge=`${Ze}-upload`,Yge="picture",Kge="list",jei=.95,g3e={PREFIX:Gge,LIST:`${Gge}-list`},Xge="auto",qge="custom",Rn={FILE_STATUS_UPLOADING:"uploading",FILE_STATUS_SUCCESS:"success",FILE_STATUS_UPLOAD_FAIL:"uploadFail",FILE_STATUS_VALIDATING:"validating",FILE_STATUS_VALID_FAIL:"validateFail",FILE_STATUS_WAIT_UPLOAD:"wait",FILE_LIST_PIC:Yge,FILE_LIST_DEFAULT:Kge,LIST_TYPE:[Yge,Kge],imageTypes:["image","webp","png","svg","gif","jpg","jpeg","bmp","dpg"],DRAG_AREA_DEFAULT:"default",DRAG_AREA_LEGAL:"legal",DRAG_AREA_ILLEGAL:"illegal",TRIGGER_AUTO:Xge,TRIGGER_CUSTOM:qge,UPLOAD_TRIGGER:[Xge,qge],VALIDATE_STATUS:sC,PROMPT_POSITION:["left","right","bottom"]},zei={PROGRESS_COEFFICIENT:jei};var CG=function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?s(c.value):r(c.value).then(o,l)}u((n=n.apply(i,e||[])).next())})};const US=1024,J8=1048576;function kG(i){if(i<US)return`${(i/US).toFixed(2)}KB`;if(i>=US&&i<J8)return`${(i/US).toFixed(1)}KB`;if(i>=J8)return`${(i/J8).toFixed(1)}MB`}function Hei(i,e){return i.indexOf(e,i.length-e.length)!==-1}function Vei(i){return CG(this,void 0,void 0,function*(){return new Promise((e,t)=>{const n=i.createReader();let r=[];function s(){n.readEntries(a=>{const o=Array.prototype.slice.apply(a);r=r.concat(o),!o.length?e(r):s()},t)}s()})})}function Wei(i){return CG(this,void 0,void 0,function*(){const e=[],t=(n,r)=>CG(this,void 0,void 0,function*(){if(r=r||"",n.path=r,n.isFile)e.push(new Promise((s,a)=>{n.file(o=>{n.fullPath&&!o.webkitRelativePath&&(Object.defineProperties(o,{webkitRelativePath:{writable:!0}}),o.webkitRelativePath=n.fullPath.replace(/^\//,""),Object.defineProperties(o,{webkitRelativePath:{writable:!1}})),s(o)},a)}));else if(n.isDirectory){const s=yield Vei(n);for(let a=0;a<s.length;a++){const o=s[a];yield t(o,`${r}${n.name}/`)}}});try{const n=i.map(s=>t(s.webkitGetAsEntry()));return yield Promise.all(n),yield Promise.all(e)}catch(n){return console.warn("Captured error while loop directory."),console.error(n),[]}})}var Uei=function(i,e,t,n){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?s(c.value):r(c.value).then(o,l)}u((n=n.apply(i,e||[])).next())})};const{FILE_STATUS_UPLOADING:Zge,FILE_STATUS_SUCCESS:Gei,FILE_STATUS_UPLOAD_FAIL:Yei,FILE_STATUS_VALID_FAIL:ez,FILE_STATUS_WAIT_UPLOAD:Qge,DRAG_AREA_DEFAULT:tz,DRAG_AREA_LEGAL:Kei,TRIGGER_AUTO:i3}=Rn;class Xei extends _n{constructor(e){super(Object.assign({},e))}init(){const{disabled:e,addOnPasting:t}=this.getProps();t&&!e&&this.bindPastingHandler()}destroy(){const{disabled:e,addOnPasting:t}=this.getProps();this.releaseMemory(),e||this.unbindPastingHandler()}getError(e){let{action:t,xhr:n,message:r,fileName:s}=e;const a=n?n.status:0,o=r||`cannot post ${s} to ${t}, xhr status: ${a}'`,l=new Error(o);return l.status=a,l.method="post",l.url=t,l}getBody(e){if(!e)return;const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}checkFileSize(e){const{size:t}=e,{maxSize:n,minSize:r}=this.getProps();let s=!1;return(t>n*US||t<r*US)&&(s=!0),s}handleChange(e){const t=[],{limit:n,transformFile:r,accept:s}=this.getProps(),{fileList:a}=this.getStates();let o=Array.from(e);if(typeof s<"u"&&(o=o.filter(u=>{const c=this.checkFileFormat(s,u);return c||t.push(u),c}),t.length!==0&&this._adapter.notifyAcceptInvalid(t),o.length===0))return;o=o.map(u=>(r&&(u=r(u)),u.uid||(u.uid=tR()),this.checkFileSize(u)&&(u._sizeInvalid=!0,u.status=ez,this._adapter.notifySizeError(u,a)),u));const l=a.length+o.length;if(typeof n<"u"&&l>n){if(this._adapter.notifyExceed(o),n===1){o=o.slice(-1),this._adapter.notifyFileSelect(o),this._adapter.resetInput(),this.replaceFileList(o);return}const u=n-a.length;o=o.slice(0,u)}this._adapter.notifyFileSelect(o),this._adapter.resetInput(),this.addFilesToList(o)}handleReplaceChange(e){if(e.length===0)return;const{transformFile:t,uploadTrigger:n,accept:r}=this.getProps(),{replaceIdx:s,fileList:a}=this.getStates();let o=Array.from(e).pop();if(typeof r<"u"&&!this.checkFileFormat(r,o)){this._adapter.notifyAcceptInvalid([o]);return}t&&(o=t(o)),o.uid||(o.uid=tR()),this.checkFileSize(o)&&(o._sizeInvalid=!0,o.status=ez,this._adapter.notifySizeError(o,a)),this._adapter.notifyFileSelect([o]);const l=this.buildFileItem(o,n),u=[...a];u.splice(s,1,l),this._adapter.notifyChange({currentFile:l,fileList:u}),this._adapter.updateFileList(u,()=>{this._adapter.resetReplaceInput(),l._sizeInvalid||this.upload(l)})}buildFileItem(e,t){const{_sizeInvalid:n,status:r}=e;try{delete e._sizeInvalid,delete e.status}catch{}const s={status:r||(t===i3?Zge:Qge),name:e.name,size:kG(e.size),uid:e.uid,percent:0,fileInstance:e,url:this._createURL(e)};return n&&(s._sizeInvalid=!0),this.isImage(e)&&(s.preview=!0),s}replaceFileList(e){const{uploadTrigger:t}=this.getProps(),n=e.map(r=>this.buildFileItem(r,t));this._adapter.notifyChange({fileList:n,currentFile:n[0]}),this._adapter.updateFileList(n,()=>{t===i3&&this.startUpload(n)})}addFilesToList(e){const t=this.getState("fileList").slice(),{uploadTrigger:n}=this.getProps(),r=e.map(s=>this.buildFileItem(s,n));r.forEach(s=>{const a=t.findIndex(o=>o.uid===s.uid);a!==-1?t[a]=s:(t.push(s),this._adapter.notifyChange({fileList:t,currentFile:s}))}),this._adapter.updateFileList(t,()=>{n===i3&&this.startUpload(r)})}insertFileToList(e,t){const{limit:n,transformFile:r,accept:s,uploadTrigger:a}=this.getProps(),{fileList:o}=this.getStates(),l=[];let u=Array.from(e);if(typeof s<"u"&&(u=u.filter(p=>{const f=this.checkFileFormat(s,p);return f||l.push(p),f}),l.length!==0&&this._adapter.notifyAcceptInvalid(l),u.length===0))return;u=u.map(p=>(p.uid||(p.uid=tR()),this.checkFileSize(p)&&(p._sizeInvalid=!0,p.status=ez,this._adapter.notifySizeError(p,o)),r&&(p=r(p)),p));const c=o.length+u.length;if(typeof n<"u"&&c>n){if(n===1){u=u.slice(-1),this._adapter.notifyFileSelect(u),this._adapter.resetInput(),this.replaceFileList(u);return}const p=n-o.length;u=u.slice(0,p),this._adapter.notifyExceed(u)}const d=u.map(p=>this.buildFileItem(p,a)),h=o.slice();typeof t<"u"?h.splice(t,0,...d):h.push(...d),this._adapter.notifyFileSelect(u),this._adapter.notifyChange({fileList:h,currentFile:null}),this._adapter.updateFileList(h,()=>{a===i3&&this.startUpload(d)})}manualUpload(){const e=this.getState("fileList").filter(t=>t.status===Qge);this.startUpload(e)}startUpload(e){e.forEach(t=>{t._sizeInvalid||this.upload(t)})}upload(e){const{beforeUpload:t}=this.getProps();if(typeof t>"u"){this.post(e);return}if(typeof t=="function"){const{fileList:n}=this.getStates(),r=this._adapter.notifyBeforeUpload({file:e,fileList:n});switch(!0){case r===!0:{this.post(e);break}case r===!1:{const s={shouldUpload:!1,status:Rn.FILE_STATUS_VALID_FAIL};this.handleBeforeUploadResultInObject(s,e);break}case(r&&oQ(r)):{Promise.resolve(r).then(s=>{let a={shouldUpload:!0};Object.prototype.toString.call(s).slice(8,-1)==="Object"&&(a=Object.assign(Object.assign({},a),s)),this.handleBeforeUploadResultInObject(a,e)},s=>{let a={shouldUpload:!1,status:Rn.FILE_STATUS_VALID_FAIL};Object.prototype.toString.call(s).slice(8,-1)==="Object"&&(a=Object.assign(Object.assign({},a),s)),this.handleBeforeUploadResultInObject(a,e)});break}case typeof r=="object":this.handleBeforeUploadResultInObject(r,e);break}}}handleBeforeUploadResultInObject(e,t){const{shouldUpload:n,status:r,autoRemove:s,validateMessage:a,fileInstance:o}=e;let l=this.getState("fileList").slice();if(s)l=l.filter(u=>u.uid!==t.uid);else{const u=this._getFileIndex(t,l);if(u<0)return;r&&(l[u].status=r),a&&(l[u].validateMessage=a),o&&(o.uid=t.uid,l[u].fileInstance=o,l[u].size=kG(o.size),l[u].name=o.name,l[u].url=this._createURL(o)),l[u].shouldUpload=n}this._adapter.updateFileList(l),this._adapter.notifyChange({fileList:l,currentFile:t}),n&&this.post(t)}post(e){const{fileInstance:t}=e,n=this.getProps();if(typeof XMLHttpRequest>"u")return;const r=new XMLHttpRequest,s=new FormData,{action:a}=n;let{data:o}=n;o&&(typeof o=="function"&&(o=o(t)),Object.keys(o).forEach(c=>{s.append(c,o[c])}));const l=n.name||n.fileName||t.name;if(n.customRequest)return n.customRequest({fileName:l,data:o,file:e,fileInstance:t,onProgress:c=>this.handleProgress({e:c,fileInstance:t}),onError:(c,d)=>this.handleError({e:d,xhr:c,fileInstance:t}),onSuccess:(c,d)=>this.handleSuccess({response:c,fileInstance:t,e:d,isCustomRequest:!0}),withCredentials:n.withCredentials,action:n.action});s.append(l,t),r.open("post",a,!0),n.withCredentials&&"withCredentials"in r&&(r.withCredentials=!0),r.upload&&(r.upload.onprogress=c=>this.handleProgress({e:c,fileInstance:t})),r.onload=c=>this.handleOnLoad({e:c,xhr:r,fileInstance:t}),r.onerror=c=>this.handleError({e:c,xhr:r,fileInstance:t});let u=n.headers||{};typeof u=="function"&&(u=u(t));for(const c in u)Object.prototype.hasOwnProperty.call(u,c)&&u[c]!==null&&r.setRequestHeader(c,u[c]);r.send(s)}handleProgress(e){let{e:t,fileInstance:n}=e;const{fileList:r}=this.getStates(),s=r.slice();let a=0;t.total>0&&(a=Number((t.loaded/t.total*100*zei.PROGRESS_COEFFICIENT).toFixed(0))||0);const o=this._getFileIndex(n,s);o<0||(s[o].percent=a,s[o].status=Zge,this._adapter.notifyProgress(a,n,s),this._adapter.updateFileList(s),this._adapter.notifyChange({fileList:s,currentFile:s[o]}))}handleOnLoad(e){let{e:t,xhr:n,fileInstance:r}=e;const{fileList:s}=this.getStates(),a=this._getFileIndex(r,s);a<0||(n.status<200||n.status>=300?this.handleError({e:t,xhr:n,fileInstance:r}):this.handleSuccess({e:t,xhr:n,fileInstance:r,index:a}))}handleSuccess(e){let{e:t,fileInstance:n,isCustomRequest:r=!1,xhr:s,response:a}=e;const{fileList:o}=this.getStates();let l=null;const u=this._getFileIndex(n,o);if(u<0)return;r?l=a:l=this.getBody(s);const c=o.slice(),{afterUpload:d}=this.getProps();if(c[u].status=Gei,c[u].percent=100,this._adapter.notifyProgress(100,n,c),c[u].response=l,t&&(c[u].event=t),d&&typeof d=="function"){const{autoRemove:h,status:p,validateMessage:f,name:g}=this._adapter.notifyAfterUpload({response:l,file:c[u],fileList:c})||{};p&&(c[u].status=p),f&&(c[u].validateMessage=f),g&&(c[u].name=g),h&&c.splice(u,1)}this._adapter.notifySuccess(l,n,c),this._adapter.notifyChange({fileList:c,currentFile:c[u]}),this._adapter.updateFileList(c)}_getFileIndex(e,t){return t.findIndex(n=>n.uid===e.uid)}handleRemove(e){const{disabled:t}=this.getProps();if(t)return;const{fileList:n}=this.getStates();Promise.resolve(this._adapter.notifyBeforeRemove(e,n)).then(r=>{if(r===!1)return;const s=n.slice(),a=this._getFileIndex(e,n);a<0||(s.splice(a,1),this._adapter.notifyRemove(e.fileInstance,s,e),this._adapter.updateFileList(s),this._adapter.notifyChange({fileList:s,currentFile:e}))})}handleError(e){let{e:t,xhr:n,fileInstance:r}=e;const{fileList:s}=this.getStates(),a=this._getFileIndex(r,s);if(a<0)return;const{action:o}=this.getProps(),l=s.slice(),u=this.getError({action:o,xhr:n,fileName:r.name});l[a].status=Yei,l[a].response=u,l[a].event=t,this._adapter.notifyError(u,r,l,n),this._adapter.updateFileList(l),this._adapter.notifyChange({currentFile:l[a],fileList:l})}handleClear(){const{disabled:e}=this.getProps(),{fileList:t}=this.getStates();e||Promise.resolve(this._adapter.notifyBeforeClear(t)).then(n=>{n!==!1&&(this._adapter.updateFileList([]),this._adapter.notifyClear(),this._adapter.notifyChange({fileList:[]}))}).catch(n=>{})}_createURL(e){const t=URL.createObjectURL(e),{localUrls:n}=this.getStates(),r=n.slice();return r.push(t),this._adapter.updateLocalUrls(r),t}releaseMemory(){const{localUrls:e}=this.getStates();e.forEach(t=>{this._releaseBlob(t)})}_releaseBlob(e){try{URL.revokeObjectURL(e)}catch(t){console.log(t)}}isImage(e){return/(webp|svg|png|gif|jpg|jpeg|bmp|dpg)$/i.test(e.type)}isMultiple(){return!!this.getProp("multiple")}handleDragEnter(e){e.preventDefault(),e.stopPropagation(),this._dragEnterTarget=e.currentTarget;const{disabled:t}=this.getProps();t||this._adapter.updateDragAreaStatus(Kei)}handleDirectoryDrop(e){return Uei(this,void 0,void 0,function*(){const t=this.getState("fileList").slice(),n=[].slice.call(e.dataTransfer.items),r=yield Wei(n);this.handleChange(r),this._adapter.updateDragAreaStatus(tz),this._adapter.notifyDrop(e,r,t)})}handleDrop(e){e.preventDefault(),e.stopPropagation();const{disabled:t,directory:n}=this.getProps(),r=this.getState("fileList").slice();if(!t){if(n){this.handleDirectoryDrop(e);return}const s=Array.from(e.dataTransfer.files);this.handleChange(s),this._adapter.updateDragAreaStatus(tz),this._adapter.notifyDrop(e,s,r)}}handleDragOver(e){e.preventDefault(),e.stopPropagation()}handleDragLeave(e){e.preventDefault(),e.stopPropagation(),this._dragEnterTarget===e.target&&this._adapter.updateDragAreaStatus(tz)}checkFileFormat(e,t){const n=e.split(",").map(a=>a.trim()).filter(a=>a),r=t.type||"",s=r.replace(/\/.*$/,"");return n.some(a=>{if(a.charAt(0)==="."){const o=t.name||"",l=a.split(".").pop().toLowerCase();return Hei(o.toLowerCase(),l)}if(/\/\*$/.test(a)){const o=a.replace(/\/.*$/,"");return s===o}return/^[^\/]+\/[^\/]+$/.test(a)?r===a:!1})}retry(e){const{onRetry:t}=this.getProps();t&&typeof t=="function"&&t(e),this.post(e)}handlePreviewClick(e){this._adapter.notifyPreviewClick(e)}readFileFromClipboard(e){for(const t of e)for(const n of t.types)n.startsWith("image")&&t.getType(n).then(r=>r.arrayBuffer()).then(r=>{const s=n.split("/")[1],a=new File([r],`upload.${s}`,{type:n});this.handleChange([a])})}handlePasting(e){const n=this._adapter.isMac()?e.metaKey:e.ctrlKey,{addOnPasting:r}=this.getProps();r&&n&&e.code==="KeyV"&&e.target===document.body&&navigator.permissions.query({name:"clipboard-read"}).then(a=>{a.state==="granted"||a.state==="prompt"?navigator.clipboard.read().then(o=>{this.readFileFromClipboard(o)}):this._adapter.notifyPastingError(a)}).catch(a=>{this._adapter.notifyPastingError(a)})}bindPastingHandler(){this._adapter.registerPastingHandler(e=>this.handlePasting(e))}unbindPastingHandler(){this._adapter.unRegisterPastingHandler()}}class qei extends _n{constructor(e){super(Object.assign({},e))}handleImageError(e){this._adapter.updateFallbackPreview(!0)}}const Xr=g3e.PREFIX,Zei=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return R.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),R.createElement("circle",{cx:"7.99992",cy:"7.99992",r:"6.66667",fill:"white"}),R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3332 8.00008C15.3332 12.0502 12.0499 15.3334 7.99984 15.3334C3.94975 15.3334 0.666504 12.0502 0.666504 8.00008C0.666504 3.94999 3.94975 0.666748 7.99984 0.666748C12.0499 0.666748 15.3332 3.94999 15.3332 8.00008ZM8.99984 11.6667C8.99984 11.1145 8.55212 10.6667 7.99984 10.6667C7.44755 10.6667 6.99984 11.1145 6.99984 11.6667C6.99984 12.219 7.44755 12.6667 7.99984 12.6667C8.55212 12.6667 8.99984 12.219 8.99984 11.6667ZM7.99984 3.33341C7.27573 3.33341 6.7003 3.94171 6.74046 4.66469L6.94437 8.33495C6.97549 8.89513 7.4388 9.33341 7.99984 9.33341C8.56087 9.33341 9.02419 8.89513 9.05531 8.33495L9.25921 4.66469C9.29938 3.94171 8.72394 3.33341 7.99984 3.33341Z",fill:"#F93920"}))},Qei=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return R.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),R.createElement("circle",{cx:"14",cy:"14",r:"14",fill:"#16161A",fillOpacity:"0.6"}),R.createElement("path",{d:"M9 10.25V18.25L10.25 13.25H17.875V11.75C17.875 11.4739 17.6511 11.25 17.375 11.25H14L12.75 9.75H9.5C9.22386 9.75 9 9.97386 9 10.25Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),R.createElement("path",{d:"M18 18.25L19 13.25H10.2031L9 18.25H18Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Jei=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return R.createElement("svg",Object.assign({focusable:!1,"aria-hidden":!0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),R.createElement("path",{d:"M6 17V7.58824C6 7.26336 6.26863 7 6.6 7H10.5L12 8.76471H16.05C16.3814 8.76471 16.65 9.02806 16.65 9.35294V11.1176H7.5L6 17ZM6 17L7.44375 11.1176H18L16.8 17L6 17Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};class j4 extends ln{constructor(e){super(e),this.state={fallbackPreview:!1},this.foundation=new qei(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateFallbackPreview:e=>this.setState({fallbackPreview:e})})}transSize(e){return typeof e=="number"?kG(e):e}renderValidateMessage(){const{status:e,validateMessage:t}=this.props;let n=null;switch(!0){case(typeof t=="string"&&e===Rn.FILE_STATUS_VALIDATING):n=R.createElement(R.Fragment,null,R.createElement(nm,{size:"small",wrapperClassName:`${Xr}-file-card-icon-loading`}),t);break;case typeof t=="string":n=R.createElement(R.Fragment,null,R.createElement(i6,{className:`${Xr}-file-card-icon-error`}),t);break;case hU(t):n=t;break}return n}renderPicValidateMsg(){const{status:e,validateMessage:t}=this.props;let n=null;switch(!0){case(t&&e===Rn.FILE_STATUS_VALIDATING):n=R.createElement(nm,{size:"small",wrapperClassName:`${Xr}-picture-file-card-icon-loading`});break;case(t&&(e===Rn.FILE_STATUS_VALID_FAIL||e===Rn.FILE_STATUS_UPLOAD_FAIL)):n=R.createElement("div",{className:`${Xr}-picture-file-card-icon-error`},R.createElement(Zei,null));break}return n?R.createElement(Ho,{content:t,trigger:"hover",position:"bottom"},n):null}renderPic(e){const{fallbackPreview:t}=this.state,{url:n,percent:r,status:s,disabled:a,style:o,onPreviewClick:l,showPicInfo:u,renderPicInfo:c,renderPicPreviewIcon:d,renderThumbnail:h,name:p,index:f,picHeight:g,picWidth:v}=this.props,m=s===Rn.FILE_STATUS_UPLOADING&&r!==100,b=s===Rn.FILE_STATUS_UPLOAD_FAIL&&this.props.showRetry,_=s===Rn.FILE_STATUS_SUCCESS&&this.props.showReplace,S=s===Rn.FILE_STATUS_SUCCESS&&!this.props.showReplace,C=he({[`${Xr}-picture-file-card`]:!0,[`${Xr}-picture-file-card-preview-fallback`]:t,[`${Xr}-picture-file-card-disabled`]:a,[`${Xr}-picture-file-card-show-pointer`]:typeof l<"u",[`${Xr}-picture-file-card-error`]:s===Rn.FILE_STATUS_UPLOAD_FAIL,[`${Xr}-picture-file-card-uploading`]:m}),k=R.createElement("div",{role:"button",tabIndex:0,className:`${Xr}-picture-file-card-retry`,onClick:B=>this.onRetry(B)},R.createElement(cVt,{className:`${Xr}-picture-file-card-icon-retry`})),E=R.createElement(Ho,{trigger:"hover",position:"top",content:e.replace,showArrow:!1,spacing:4},R.createElement("div",{role:"button",tabIndex:0,className:`${Xr}-picture-file-card-replace`,onClick:B=>this.onReplace(B)},R.createElement(Qei,{className:`${Xr}-picture-file-card-icon-replace`}))),A=R.createElement("div",{className:`${Xr}-picture-file-card-preview`},typeof d=="function"?d(this.props):null),P=R.createElement("div",{role:"button",tabIndex:0,className:`${Xr}-picture-file-card-close`,onClick:B=>this.onRemove(B)},R.createElement(Sm,{className:`${Xr}-picture-file-card-icon-close`})),O=typeof c=="function"?c(this.props):R.createElement("div",{className:`${Xr}-picture-file-card-pic-info`},f+1);let M={},D=o?Object.assign({},o):{};g&&(D.height=g,M.height=g),v&&(D.width=v,M.width=v);const H=typeof h=="function"?h(this.props):t?R.createElement(mU,{size:"large"}):R.createElement("img",{src:n,alt:p,onError:B=>this.foundation.handleImageError(B),style:M});return R.createElement("div",{role:"listitem",className:C,style:D,onClick:l},H,m?R.createElement(m6,{percent:r,type:"circle",size:"small",orbitStroke:"#FFF","aria-label":"uploading file progress"}):null,b?k:null,_&&E,S&&A,u&&O,!a&&P,this.renderPicValidateMsg())}renderFile(e){const{name:t,size:n,percent:r,url:s,showRetry:a,showReplace:o,preview:l,previewFile:u,status:c,style:d,onPreviewClick:h,renderFileOperation:p}=this.props,{fallbackPreview:f}=this.state,g=he({[`${Xr}-file-card`]:!0,[`${Xr}-file-card-fail`]:c===Rn.FILE_STATUS_VALID_FAIL||c===Rn.FILE_STATUS_UPLOAD_FAIL,[`${Xr}-file-card-show-pointer`]:typeof h<"u"}),v=he({[`${Xr}-file-card-preview`]:!0,[`${Xr}-file-card-preview-placeholder`]:!l||u||f}),m=`${Xr}-file-card-info`,b=`${Xr}-file-card-close`,_=`${Xr}-file-card-replace`,S=!(r===100||typeof r>"u")&&c===Rn.FILE_STATUS_UPLOADING,C=c===Rn.FILE_STATUS_UPLOAD_FAIL&&a,k=c===Rn.FILE_STATUS_SUCCESS&&o,E=this.transSize(n);let A=l&&!f?R.createElement("img",{src:s,alt:t,onError:O=>this.foundation.handleImageError(O)}):R.createElement(mU,{size:"large"});u&&(A=u(this.props));const P=typeof p=="function"?p(this.props):R.createElement(Jd,{onClick:O=>this.onRemove(O),type:"tertiary",icon:R.createElement(PZ,null),theme:"borderless",size:"small",className:b});return R.createElement("div",{role:"listitem",className:g,style:d,onClick:h},R.createElement("div",{className:v},A),R.createElement("div",{className:`${m}-main`},R.createElement("div",{className:`${m}-main-text`},R.createElement("span",{className:`${m}-name`},t),R.createElement("span",null,R.createElement("span",{className:`${m}-size`},E),k&&R.createElement(Ho,{trigger:"hover",position:"top",showArrow:!1,content:e.replace},R.createElement(Jd,{onClick:O=>this.onReplace(O),type:"tertiary",theme:"borderless",size:"small",icon:R.createElement(Jei,null),className:_})))),S?R.createElement(m6,{percent:r,style:{width:"100%"},"aria-label":"uploading file progress"}):null,R.createElement("div",{className:`${m}-main-control`},R.createElement("span",{className:`${m}-validate-message`},this.renderValidateMessage()),C?R.createElement("span",{role:"button",tabIndex:0,className:`${m}-retry`,onClick:O=>this.onRetry(O)},e.retry):null)),P)}onRemove(e){e.stopPropagation(),this.props.onRemove()}onReplace(e){e.stopPropagation(),this.props.onReplace()}onRetry(e){e.stopPropagation(),this.props.onRetry()}render(){const{listType:e}=this.props;return e===Rn.FILE_LIST_PIC?R.createElement(La,{componentName:"Upload"},t=>this.renderPic(t)):e===Rn.FILE_LIST_DEFAULT?R.createElement(La,{componentName:"Upload"},t=>this.renderFile(t)):null}}j4.propTypes={className:w.string,disabled:w.bool,listType:w.string,name:w.string,onPreviewClick:w.func,onRemove:w.func,onReplace:w.func,onRetry:w.func,percent:w.number,preview:w.bool,previewFile:w.func,picWidth:w.oneOfType([w.number,w.string]),picHeight:w.oneOfType([w.number,w.string]),showReplace:w.bool,showRetry:w.bool,size:w.oneOfType([w.number,w.string]),status:w.string,style:w.object,url:w.string,validateMessage:w.node,index:w.number};j4.defaultProps={listType:Rn.FILE_LIST_DEFAULT,name:"",onRemove:()=>{},onRetry:()=>{},preview:!1,size:""};var eti=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const Ns=g3e.PREFIX;class z4 extends ln{constructor(e){super(e),this.inputRef=null,this.replaceInputRef=null,this.onClick=()=>{const{inputRef:t,props:n}=this,{onOpenFileDialog:r}=n;this.props.disabled||!t||!t.current||(t.current.click(),r&&r())},this.onChange=t=>{const{files:n}=t.target;this.foundation.handleChange(n)},this.replace=t=>{this.setState({replaceIdx:t},()=>{this.replaceInputRef.current.click()})},this.onReplaceChange=t=>{const{files:n}=t.target;this.foundation.handleReplaceChange(n)},this.clear=()=>{this.foundation.handleClear()},this.remove=t=>{this.foundation.handleRemove(t)},this.insert=(t,n)=>this.foundation.insertFileToList(t,n),this.upload=()=>{this.foundation.manualUpload()},this.openFileDialog=()=>{this.onClick()},this.renderFile=(t,n,r)=>{const{name:s,status:a,validateMessage:o,_sizeInvalid:l,uid:u}=t,{previewFile:c,listType:d,itemStyle:h,showPicInfo:p,renderPicInfo:f,renderPicPreviewIcon:g,renderFileOperation:v,renderFileItem:m,renderThumbnail:b,disabled:_,onPreviewClick:S,picWidth:C,picHeight:k}=this.props,E=()=>this.remove(t),A=()=>{this.foundation.retry(t)},P=()=>{this.replace(n)},O=Object.assign(Object.assign(Object.assign({},BP(this.props,["showRetry","showReplace",""])),t),{previewFile:c,listType:d,onRemove:E,onRetry:A,index:n,key:u||`${s}${n}`,style:h,disabled:_,showPicInfo:p,renderPicInfo:f,renderPicPreviewIcon:g,renderFileOperation:v,renderThumbnail:b,onReplace:P,onPreviewClick:typeof S<"u"?()=>this.foundation.handlePreviewClick(t):void 0,picWidth:C,picHeight:k});return a===Rn.FILE_STATUS_UPLOAD_FAIL&&!o&&(O.validateMessage=r.fail),l&&!o&&(O.validateMessage=r.illegalSize),typeof m>"u"?R.createElement(j4,Object.assign({},O)):m(O)},this.renderFileList=()=>{const{listType:t}=this.props;return t===Rn.FILE_LIST_PIC?this.renderFileListPic():t===Rn.FILE_LIST_DEFAULT?this.renderFileListDefault():null},this.renderFileListPic=()=>{const{showUploadList:t,limit:n,disabled:r,children:s,draggable:a,hotSpotLocation:o,picHeight:l,picWidth:u}=this.props,{fileList:c,dragAreaStatus:d}=this.state,h=this.props.fileList||c,p=n?n>h.length:!0,f=`${Ns}-drag-area`,g=he(`${Ns}-add`,{[`${Ns}-picture-add`]:!0,[`${Ns}-picture-add-disabled`]:r}),v=he(`${Ns}-file-list`,{[`${Ns}-picture-file-list`]:!0}),m=he({[`${f}-legal`]:d===Rn.DRAG_AREA_LEGAL,[`${f}-illegal`]:d===Rn.DRAG_AREA_ILLEGAL}),b=`${Ns}-file-list-main`,_={role:"button",className:g,onClick:this.onClick,style:{height:l,width:u}},S={className:v},C={onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter};a&&Object.assign(_,C,{className:he(g,m)});const k=R.createElement("div",Object.assign({},_,{"x-semi-prop":"children"}),s);return!t||!h.length?p?k:null:R.createElement(La,{componentName:"Upload"},E=>R.createElement("div",Object.assign({},S),R.createElement("div",{className:b,role:"list","aria-label":"picture list"},p&&o==="start"?k:null,h.map((A,P)=>this.renderFile(A,P,E)),p&&o==="end"?k:null)))},this.renderFileListDefault=()=>{const{showUploadList:t,limit:n,disabled:r}=this.props,{fileList:s}=this.state,a=this.props.fileList||s,o=he(`${Ns}-file-list`),l=`${Ns}-file-list-title`,u=`${Ns}-file-list-main`,c=n!==1&&a.length,d=this.props.showClear&&!r,h={className:o};return!t||!a.length?null:R.createElement(La,{componentName:"Upload"},p=>R.createElement("div",Object.assign({},h),c?R.createElement("div",{className:l},R.createElement("span",{className:`${l}-choosen`},p.selectedFiles),d?R.createElement("span",{role:"button",tabIndex:0,onClick:this.clear,className:`${l}-clear`},p.clear):null):null,R.createElement("div",{className:u,role:"list","aria-label":"file list"},a.map((f,g)=>this.renderFile(f,g,p)))))},this.onDrop=t=>{this.foundation.handleDrop(t)},this.onDragOver=t=>{this.foundation.handleDragOver(t)},this.onDragLeave=t=>{this.foundation.handleDragLeave(t)},this.onDragEnter=t=>{this.foundation.handleDragEnter(t)},this.renderAddContent=()=>{const{draggable:t,children:n,listType:r,disabled:s}=this.props,a=he(`${Ns}-add`);return r===Rn.FILE_LIST_PIC?null:t?this.renderDragArea():R.createElement("div",{role:"button",tabIndex:0,"aria-disabled":s,className:a,onClick:this.onClick},n)},this.renderDragArea=()=>{const{dragAreaStatus:t}=this.state,{children:n,dragIcon:r,dragMainText:s,dragSubText:a,disabled:o}=this.props,l=`${Ns}-drag-area`,u=he(l,{[`${l}-legal`]:t===Rn.DRAG_AREA_LEGAL,[`${l}-illegal`]:t===Rn.DRAG_AREA_ILLEGAL,[`${l}-custom`]:n});return R.createElement(La,{componentName:"Upload"},c=>R.createElement("div",{role:"button",tabIndex:0,"aria-disabled":o,className:u,onDrop:this.onDrop,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter,onClick:this.onClick},n||R.createElement(R.Fragment,null,R.createElement("div",{className:`${l}-icon`,"x-semi-prop":"dragIcon"},r||R.createElement(bVt,{size:"extra-large"})),R.createElement("div",{className:`${l}-text`},R.createElement("div",{className:`${l}-main-text`,"x-semi-prop":"dragMainText"},s||c.mainText),R.createElement("div",{className:`${l}-sub-text`,"x-semi-prop":"dragSubText"},a),R.createElement("div",{className:`${l}-tips`},t===Rn.DRAG_AREA_LEGAL&&R.createElement("span",{className:`${l}-tips-legal`},c.legalTips),t===Rn.DRAG_AREA_ILLEGAL&&R.createElement("span",{className:`${l}-tips-illegal`},c.illegalTips))))))},this.state={fileList:e.defaultFileList||[],replaceIdx:-1,inputKey:Math.random(),replaceInputKey:Math.random(),dragAreaStatus:"default",localUrls:[]},this.foundation=new Xei(this.adapter),this.inputRef=R.createRef(),this.replaceInputRef=R.createRef()}static getDerivedStateFromProps(e){const{fileList:t}=e;return"fileList"in e?{fileList:t||[]}:null}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyFileSelect:e=>this.props.onFileChange(e),notifyError:(e,t,n,r)=>this.props.onError(e,t,n,r),notifySuccess:(e,t,n)=>this.props.onSuccess(e,t,n),notifyProgress:(e,t,n)=>this.props.onProgress(e,t,n),notifyRemove:(e,t,n)=>this.props.onRemove(e,t,n),notifySizeError:(e,t)=>this.props.onSizeError(e,t),notifyExceed:e=>this.props.onExceed(e),updateFileList:(e,t)=>{typeof t=="function"?this.setState({fileList:e},t):this.setState({fileList:e})},notifyBeforeUpload:e=>{let{file:t,fileList:n}=e;return this.props.beforeUpload({file:t,fileList:n})},notifyAfterUpload:e=>{let{response:t,file:n,fileList:r}=e;return this.props.afterUpload({response:t,file:n,fileList:r})},resetInput:()=>{this.setState(e=>({inputKey:Math.random()}))},resetReplaceInput:()=>{this.setState(e=>({replaceInputKey:Math.random()}))},isMac:()=>navigator.platform.toUpperCase().indexOf("MAC")>=0,registerPastingHandler:e=>{document.body.addEventListener("keydown",e),this.pastingCb=e},unRegisterPastingHandler:()=>{this.pastingCb&&document.body.removeEventListener("keydown",this.pastingCb)},notifyPastingError:e=>this.props.onPastingError(e),updateDragAreaStatus:e=>this.setState({dragAreaStatus:e}),notifyChange:e=>{let{currentFile:t,fileList:n}=e;return this.props.onChange({currentFile:t,fileList:n})},updateLocalUrls:e=>this.setState({localUrls:e}),notifyClear:()=>this.props.onClear(),notifyPreviewClick:e=>this.props.onPreviewClick(e),notifyDrop:(e,t,n)=>this.props.onDrop(e,t,n),notifyAcceptInvalid:e=>this.props.onAcceptInvalid(e),notifyBeforeRemove:(e,t)=>this.props.beforeRemove(e,t),notifyBeforeClear:e=>this.props.beforeClear(e)})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}render(){const e=this.props,{style:t,className:n,multiple:r,accept:s,disabled:a,children:o,capture:l,listType:u,prompt:c,promptPosition:d,draggable:h,validateMessage:p,validateStatus:f,directory:g}=e,v=eti(e,["style","className","multiple","accept","disabled","children","capture","listType","prompt","promptPosition","draggable","validateMessage","validateStatus","directory"]),m=he(Ns,{[`${Ns}-picture`]:u===Rn.FILE_LIST_PIC,[`${Ns}-disabled`]:a,[`${Ns}-default`]:f==="default",[`${Ns}-error`]:f==="error",[`${Ns}-warning`]:f==="warning",[`${Ns}-success`]:f==="success"},n),b=he(`${Ns}-hidden-input`),_=he(`${Ns}-hidden-input-replace`),S=he(`${Ns}-prompt`),C=he(`${Ns}-validate-message`),k=g?{directory:"directory",webkitdirectory:"webkitdirectory"}:{};return R.createElement("div",Object.assign({className:m,style:t,"x-prompt-pos":d},this.getDataAttr(v)),R.createElement("input",Object.assign({key:this.state.inputKey,capture:l,multiple:r,accept:s,onChange:this.onChange,type:"file",autoComplete:"off",tabIndex:-1,className:b,ref:this.inputRef},k)),R.createElement("input",{key:this.state.replaceInputKey,multiple:!1,accept:s,onChange:this.onReplaceChange,type:"file",autoComplete:"off",tabIndex:-1,className:_,ref:this.replaceInputRef}),this.renderAddContent(),c?R.createElement("div",{className:S,"x-semi-prop":"prompt"},c):null,p?R.createElement("div",{className:C,"x-semi-prop":"validateMessage"},p):null,this.renderFileList())}}z4.propTypes={accept:w.string,action:w.string.isRequired,addOnPasting:w.bool,afterUpload:w.func,beforeClear:w.func,beforeRemove:w.func,beforeUpload:w.func,children:w.node,className:w.string,customRequest:w.func,data:w.oneOfType([w.object,w.func]),defaultFileList:w.array,directory:w.bool,disabled:w.bool,dragIcon:w.node,dragMainText:w.node,dragSubText:w.node,draggable:w.bool,fileList:w.array,fileName:w.string,headers:w.oneOfType([w.object,w.func]),hotSpotLocation:w.oneOf(["start","end"]),itemStyle:w.object,limit:w.number,listType:w.oneOf(Rn.LIST_TYPE),maxSize:w.number,minSize:w.number,multiple:w.bool,name:w.string,onAcceptInvalid:w.func,onChange:w.func,onClear:w.func,onDrop:w.func,onError:w.func,onExceed:w.func,onFileChange:w.func,onOpenFileDialog:w.func,onPreviewClick:w.func,onProgress:w.func,onRemove:w.func,onRetry:w.func,onSizeError:w.func,onSuccess:w.func,onPastingError:w.func,previewFile:w.func,prompt:w.node,promptPosition:w.oneOf(Rn.PROMPT_POSITION),picWidth:w.oneOfType([w.number,w.string]),picHeight:w.oneOfType([w.number,w.string]),renderFileItem:w.func,renderPicPreviewIcon:w.func,renderFileOperation:w.func,renderPicInfo:w.func,renderThumbnail:w.func,showClear:w.bool,showPicInfo:w.bool,showReplace:w.bool,showRetry:w.bool,showUploadList:w.bool,style:w.object,timeout:w.number,transformFile:w.func,uploadTrigger:w.oneOf(Rn.UPLOAD_TRIGGER),validateMessage:w.node,validateStatus:w.oneOf(Rn.VALIDATE_STATUS),withCredentials:w.bool};z4.defaultProps={defaultFileList:[],disabled:!1,listType:"list",hotSpotLocation:"end",multiple:!1,onAcceptInvalid:Te,onChange:Te,beforeRemove:()=>!0,beforeClear:()=>!0,onClear:Te,onDrop:Te,onError:Te,onExceed:Te,onFileChange:Te,onOpenFileDialog:Te,onProgress:Te,onRemove:Te,onRetry:Te,onSizeError:Te,onSuccess:Te,onPastingError:Te,promptPosition:"right",showClear:!0,showPicInfo:!1,showReplace:!1,showRetry:!0,showUploadList:!0,uploadTrigger:"auto",withCredentials:!1};z4.FileCard=j4;function e_(){return e_=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},e_.apply(this,arguments)}function tti(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,A2(i,e)}function EG(i){return EG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},EG(i)}function A2(i,e){return A2=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},A2(i,e)}function iti(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dR(i,e,t){return iti()?dR=Reflect.construct:dR=function(r,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(r,o),u=new l;return a&&A2(u,a.prototype),u},dR.apply(null,arguments)}function nti(i){return Function.toString.call(i).indexOf("[native code]")!==-1}function AG(i){var e=typeof Map=="function"?new Map:void 0;return AG=function(n){if(n===null||!nti(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return dR(n,arguments,EG(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),A2(r,n)},AG(i)}var rti=/%[sdj%]/g,sti=function(){};function TG(i){if(!i||!i.length)return null;var e={};return i.forEach(function(t){var n=t.field;e[n]=e[n]||[],e[n].push(t)}),e}function Fc(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];var n=1,r=e[0],s=e.length;if(typeof r=="function")return r.apply(null,e.slice(1));if(typeof r=="string"){var a=String(r).replace(rti,function(o){if(o==="%%")return"%";if(n>=s)return o;switch(o){case"%s":return String(e[n++]);case"%d":return Number(e[n++]);case"%j":try{return JSON.stringify(e[n++])}catch{return"[Circular]"}break;default:return o}});return a}return r}function ati(i){return i==="string"||i==="url"||i==="hex"||i==="email"||i==="date"||i==="pattern"}function no(i,e){return!!(i==null||e==="array"&&Array.isArray(i)&&!i.length||ati(e)&&typeof i=="string"&&!i)}function oti(i,e,t){var n=[],r=0,s=i.length;function a(o){n.push.apply(n,o),r++,r===s&&t(n)}i.forEach(function(o){e(o,a)})}function Jge(i,e,t){var n=0,r=i.length;function s(a){if(a&&a.length){t(a);return}var o=n;n=n+1,o<r?e(i[o],s):t([])}s([])}function lti(i){var e=[];return Object.keys(i).forEach(function(t){e.push.apply(e,i[t])}),e}var eme=function(i){tti(e,i);function e(t,n){var r;return r=i.call(this,"Async Validation Error")||this,r.errors=t,r.fields=n,r}return e}(AG(Error));function uti(i,e,t,n){if(e.first){var r=new Promise(function(d,h){var p=function(v){return n(v),v.length?h(new eme(v,TG(v))):d()},f=lti(i);Jge(f,t,p)});return r.catch(function(d){return d}),r}var s=e.firstFields||[];s===!0&&(s=Object.keys(i));var a=Object.keys(i),o=a.length,l=0,u=[],c=new Promise(function(d,h){var p=function(g){if(u.push.apply(u,g),l++,l===o)return n(u),u.length?h(new eme(u,TG(u))):d()};a.length||(n(u),d()),a.forEach(function(f){var g=i[f];s.indexOf(f)!==-1?Jge(g,t,p):oti(g,t,p)})});return c.catch(function(d){return d}),c}function tme(i){return function(e){return e&&e.message?(e.field=e.field||i.fullField,e):{message:typeof e=="function"?e():e,field:e.field||i.fullField}}}function ime(i,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];typeof n=="object"&&typeof i[t]=="object"?i[t]=e_({},i[t],n):i[t]=n}}return i}function m3e(i,e,t,n,r,s){i.required&&(!t.hasOwnProperty(i.field)||no(e,s||i.type))&&n.push(Fc(r.messages.required,i.fullField))}function cti(i,e,t,n,r){(/^\s+$/.test(e)||e==="")&&n.push(Fc(r.messages.whitespace,i.fullField))}var iz={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},dE={integer:function(e){return dE.number(e)&&parseInt(e,10)===e},float:function(e){return dE.number(e)&&!dE.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!dE.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&!!e.match(iz.email)&&e.length<255},url:function(e){return typeof e=="string"&&!!e.match(iz.url)},hex:function(e){return typeof e=="string"&&!!e.match(iz.hex)}};function dti(i,e,t,n,r){if(i.required&&e===void 0){m3e(i,e,t,n,r);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=i.type;s.indexOf(a)>-1?dE[a](e)||n.push(Fc(r.messages.types[a],i.fullField,i.type)):a&&typeof e!==i.type&&n.push(Fc(r.messages.types[a],i.fullField,i.type))}function hti(i,e,t,n,r){var s=typeof i.len=="number",a=typeof i.min=="number",o=typeof i.max=="number",l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=e,c=null,d=typeof e=="number",h=typeof e=="string",p=Array.isArray(e);if(d?c="number":h?c="string":p&&(c="array"),!c)return!1;p&&(u=e.length),h&&(u=e.replace(l,"_").length),s?u!==i.len&&n.push(Fc(r.messages[c].len,i.fullField,i.len)):a&&!o&&u<i.min?n.push(Fc(r.messages[c].min,i.fullField,i.min)):o&&!a&&u>i.max?n.push(Fc(r.messages[c].max,i.fullField,i.max)):a&&o&&(u<i.min||u>i.max)&&n.push(Fc(r.messages[c].range,i.fullField,i.min,i.max))}var z1="enum";function pti(i,e,t,n,r){i[z1]=Array.isArray(i[z1])?i[z1]:[],i[z1].indexOf(e)===-1&&n.push(Fc(r.messages[z1],i.fullField,i[z1].join(", ")))}function fti(i,e,t,n,r){if(i.pattern){if(i.pattern instanceof RegExp)i.pattern.lastIndex=0,i.pattern.test(e)||n.push(Fc(r.messages.pattern.mismatch,i.fullField,e,i.pattern));else if(typeof i.pattern=="string"){var s=new RegExp(i.pattern);s.test(e)||n.push(Fc(r.messages.pattern.mismatch,i.fullField,e,i.pattern))}}}var Mn={required:m3e,whitespace:cti,type:dti,range:hti,enum:pti,pattern:fti};function gti(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(no(e,"string")&&!i.required)return t();Mn.required(i,e,n,s,r,"string"),no(e,"string")||(Mn.type(i,e,n,s,r),Mn.range(i,e,n,s,r),Mn.pattern(i,e,n,s,r),i.whitespace===!0&&Mn.whitespace(i,e,n,s,r))}t(s)}function mti(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(no(e)&&!i.required)return t();Mn.required(i,e,n,s,r),e!==void 0&&Mn.type(i,e,n,s,r)}t(s)}function vti(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(e===""&&(e=void 0),no(e)&&!i.required)return t();Mn.required(i,e,n,s,r),e!==void 0&&(Mn.type(i,e,n,s,r),Mn.range(i,e,n,s,r))}t(s)}function yti(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(no(e)&&!i.required)return t();Mn.required(i,e,n,s,r),e!==void 0&&Mn.type(i,e,n,s,r)}t(s)}function _ti(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(no(e)&&!i.required)return t();Mn.required(i,e,n,s,r),no(e)||Mn.type(i,e,n,s,r)}t(s)}function bti(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(no(e)&&!i.required)return t();Mn.required(i,e,n,s,r),e!==void 0&&(Mn.type(i,e,n,s,r),Mn.range(i,e,n,s,r))}t(s)}function Sti(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(no(e)&&!i.required)return t();Mn.required(i,e,n,s,r),e!==void 0&&(Mn.type(i,e,n,s,r),Mn.range(i,e,n,s,r))}t(s)}function xti(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(e==null&&!i.required)return t();Mn.required(i,e,n,s,r,"array"),e!=null&&(Mn.type(i,e,n,s,r),Mn.range(i,e,n,s,r))}t(s)}function wti(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(no(e)&&!i.required)return t();Mn.required(i,e,n,s,r),e!==void 0&&Mn.type(i,e,n,s,r)}t(s)}var Cti="enum";function kti(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(no(e)&&!i.required)return t();Mn.required(i,e,n,s,r),e!==void 0&&Mn[Cti](i,e,n,s,r)}t(s)}function Eti(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(no(e,"string")&&!i.required)return t();Mn.required(i,e,n,s,r),no(e,"string")||Mn.pattern(i,e,n,s,r)}t(s)}function Ati(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(no(e,"date")&&!i.required)return t();if(Mn.required(i,e,n,s,r),!no(e,"date")){var o;e instanceof Date?o=e:o=new Date(e),Mn.type(i,o,n,s,r),o&&Mn.range(i,o.getTime(),n,s,r)}}t(s)}function Tti(i,e,t,n,r){var s=[],a=Array.isArray(e)?"array":typeof e;Mn.required(i,e,n,s,r,a),t(s)}function nz(i,e,t,n,r){var s=i.type,a=[],o=i.required||!i.required&&n.hasOwnProperty(i.field);if(o){if(no(e,s)&&!i.required)return t();Mn.required(i,e,n,a,r,s),no(e,s)||Mn.type(i,e,n,a,r)}t(a)}function Pti(i,e,t,n,r){var s=[],a=i.required||!i.required&&n.hasOwnProperty(i.field);if(a){if(no(e)&&!i.required)return t();Mn.required(i,e,n,s,r)}t(s)}var DA={string:gti,method:mti,number:vti,boolean:yti,regexp:_ti,integer:bti,float:Sti,array:xti,object:wti,enum:kti,pattern:Eti,date:Ati,url:nz,hex:nz,email:nz,required:Tti,any:Pti};function PG(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var CQ=PG();function u0(i){this.rules=null,this._messages=CQ,this.define(i)}u0.prototype={messages:function(e){return e&&(this._messages=ime(PG(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if(typeof e!="object"||Array.isArray(e))throw new Error("Rules must be an object");this.rules={};var t,n;for(t in e)e.hasOwnProperty(t)&&(n=e[t],this.rules[t]=Array.isArray(n)?n:[n])},validate:function(e,t,n){var r=this;t===void 0&&(t={}),n===void 0&&(n=function(){});var s=e,a=t,o=n;if(typeof a=="function"&&(o=a,a={}),!this.rules||Object.keys(this.rules).length===0)return o&&o(),Promise.resolve();function l(g){var v,m=[],b={};function _(S){if(Array.isArray(S)){var C;m=(C=m).concat.apply(C,S)}else m.push(S)}for(v=0;v<g.length;v++)_(g[v]);m.length?b=TG(m):(m=null,b=null),o(m,b)}if(a.messages){var u=this.messages();u===CQ&&(u=PG()),ime(u,a.messages),a.messages=u}else a.messages=this.messages();var c,d,h={},p=a.keys||Object.keys(this.rules);p.forEach(function(g){c=r.rules[g],d=s[g],c.forEach(function(v){var m=v;typeof m.transform=="function"&&(s===e&&(s=e_({},s)),d=s[g]=m.transform(d)),typeof m=="function"?m={validator:m}:m=e_({},m),m.validator=r.getValidationMethod(m),m.field=g,m.fullField=m.fullField||g,m.type=r.getType(m),m.validator&&(h[g]=h[g]||[],h[g].push({rule:m,value:d,source:s,field:g}))})});var f={};return uti(h,a,function(g,v){var m=g.rule,b=(m.type==="object"||m.type==="array")&&(typeof m.fields=="object"||typeof m.defaultField=="object");b=b&&(m.required||!m.required&&g.value),m.field=g.field;function _(k,E){return e_({},E,{fullField:m.fullField+"."+k})}function S(k){k===void 0&&(k=[]);var E=k;if(Array.isArray(E)||(E=[E]),!a.suppressWarning&&E.length&&u0.warning("async-validator:",E),E.length&&m.message!==void 0&&(E=[].concat(m.message)),E=E.map(tme(m)),a.first&&E.length)return f[m.field]=1,v(E);if(!b)v(E);else{if(m.required&&!g.value)return m.message!==void 0?E=[].concat(m.message).map(tme(m)):a.error&&(E=[a.error(m,Fc(a.messages.required,m.field))]),v(E);var A={};if(m.defaultField)for(var P in g.value)g.value.hasOwnProperty(P)&&(A[P]=m.defaultField);A=e_({},A,g.rule.fields);for(var O in A)if(A.hasOwnProperty(O)){var M=Array.isArray(A[O])?A[O]:[A[O]];A[O]=M.map(_.bind(null,O))}var D=new u0(A);D.messages(a.messages),g.rule.options&&(g.rule.options.messages=a.messages,g.rule.options.error=a.error),D.validate(g.value,g.rule.options||a,function(L){var H=[];E&&E.length&&H.push.apply(H,E),L&&L.length&&H.push.apply(H,L),v(H.length?H:null)})}}var C;m.asyncValidator?C=m.asyncValidator(m,g.value,S,g.source,a):m.validator&&(C=m.validator(m,g.value,S,g.source,a),C===!0?S():C===!1?S(m.message||m.field+" fails"):C instanceof Array?S(C):C instanceof Error&&S(C.message)),C&&C.then&&C.then(function(){return S()},function(k){return S(k)})},function(g){l(g)})},getType:function(e){if(e.type===void 0&&e.pattern instanceof RegExp&&(e.type="pattern"),typeof e.validator!="function"&&e.type&&!DA.hasOwnProperty(e.type))throw new Error(Fc("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if(typeof e.validator=="function")return e.validator;var t=Object.keys(e),n=t.indexOf("message");return n!==-1&&t.splice(n,1),t.length===1&&t[0]==="required"?DA.required:DA[this.getType(e)]||!1}};u0.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");DA[e]=t};u0.warning=sti;u0.messages=CQ;u0.validators=DA;var Oti=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};function Mti(i){const e=i.displayName||i.name;return e?`SemiField${e}`:"SemiField"}function Iti(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const t={};return t[i]=e,new u0(t)}function Rti(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=!1;return typeof i=="object"&&"required"in i?e=i.required:Array.isArray(i)&&i.length&&i.forEach(t=>{t.required&&(e=!0)}),e}function t_(i){let e=!0;return typeof i=="string"&&i.length?e=!1:Array.isArray(i)&&i.length?e=i.every(t=>t_(t)):typeof i=="boolean"?e=i:i&&typeof i.$$typeof=="symbol"&&i.$$typeof.toString()==="Symbol(react.element)"&&(e=!1),e}function Dti(i,e){let t=[],n=[];return Or(i)?Or(e)?t=cE.DEFAULT_TRIGGER:t=e:t=i,Array.isArray(t)&&(n=t),typeof t=="string"&&(n[0]=t),n}function Lti(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Or(i)?Or(e)?t:e:i}function Fti(i,e){const n=Object.assign(Object.assign({},{valueKey:"value",onKeyChangeFnName:"onChange",valuePath:"",maintainCursor:!1,shouldInject:!0,shouldMemo:!0}),i),r="field"in e?!0:n.shouldInject;return{options:n,shouldInject:r}}function Bti(i){let t=Object.assign(Object.assign({},{allowEmptyString:!1,allowEmpty:!1,emptyValue:"",noLabel:!1,noErrorMessage:!1,isInInputGroup:!1}),i),{field:n,label:r,labelPosition:s,labelWidth:a,labelAlign:o,labelCol:l,wrapperCol:u,initValue:c,validate:d,validateStatus:h,trigger:p,allowEmptyString:f,allowEmpty:g,emptyValue:v,rules:m,onChange:b,keepState:_,transform:S,name:C,fieldClassName:k,fieldStyle:E,noLabel:A,noErrorMessage:P,isInInputGroup:O,stopValidateWithError:M,convert:D,showValidateIcon:L,helpText:H,extraText:B,extraTextPosition:F,pure:z,id:N}=t,U=Oti(t,["field","label","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","initValue","validate","validateStatus","trigger","allowEmptyString","allowEmpty","emptyValue","rules","onChange","keepState","transform","name","fieldClassName","fieldStyle","noLabel","noErrorMessage","isInInputGroup","stopValidateWithError","convert","showValidateIcon","helpText","extraText","extraTextPosition","pure","id"]);delete U.defaultChecked,delete U.defaultValue,delete U.checked,typeof c<"u"&&(c=l0(c));const G=Rti(m);return v=typeof v<"u"?v:"",{field:n,label:r,labelPosition:s,labelWidth:a,labelAlign:o,labelCol:l,wrapperCol:u,noLabel:A,noErrorMessage:P,isInInputGroup:O,initValue:c,validate:d,validateStatus:h,trigger:p,allowEmptyString:f,allowEmpty:g,emptyValue:v,rules:m,required:G,keepState:_,transform:S,name:C,fieldClassName:k,fieldStyle:E,convert:D,stopValidateWithError:M,showValidateIcon:L,helpText:H,extraText:B,extraTextPosition:F,pure:z,rest:U,id:N}}class $ti extends _n{constructor(e){super(Object.assign({},e));let{initValues:t}=this._adapter.getProps();t=this._adapter.cloneDeep(t),this.data={values:t||{},errors:{},touched:{}},this.fields=new Map,this.registered={},this.registeredArrayField=new Map,this.register=this.register.bind(this),this.unRegister=this.unRegister.bind(this),this.registerArrayField=this.registerArrayField.bind(this),this.unRegisterArrayField=this.unRegisterArrayField.bind(this),this.getArrayField=this.getArrayField.bind(this),this.updateArrayField=this.updateArrayField.bind(this),this.getField=this.getField.bind(this),this.setValues=this.setValues.bind(this),this.updateStateValue=this.updateStateValue.bind(this),this.updateStateError=this.updateStateError.bind(this),this.updateStateTouched=this.updateStateTouched.bind(this),this.getFormState=this.getFormState.bind(this),this.getValue=this.getValue.bind(this),this.getError=this.getError.bind(this),this.getTouched=this.getTouched.bind(this),this.getInitValues=this.getInitValues.bind(this),this.getInitValue=this.getInitValue.bind(this),this.getFormProps=this.getFormProps.bind(this),this.getFieldExist=this.getFieldExist.bind(this),this.scrollToField=this.scrollToField.bind(this)}init(){this._adapter.initFormId()}getField(e){return this.fields.get(e)}register(e,t,n){if(this.registered[e],this.registered[e]=!0,this.fields.set(e,n),!n.keepState){const r=n.allowEmpty||!1,s={notNotify:!0,notUpdate:!1,allowEmpty:r};let a=t.value;!r&&a===""&&(a=void 0),this.updateStateValue(e,a,s),t.error&&this.updateStateError(e,t.error,s)}}unRegister(e){const t=this.fields.get(e);try{t.keepState||(sR(this.data.values,e),sR(this.data.errors,e),sR(this.data.touched,e))}catch{console.error(`some thing wrong when unregister field:${e}`)}this.fields.delete(e),this._adapter.notifyChange(this.data),this._adapter.forceUpdate()}registerArrayField(e,t){this.updateArrayField(e,{updateKey:new Date().valueOf(),initValue:t})}unRegisterArrayField(e){this.registeredArrayField.delete(e)}getArrayField(e){return this.registeredArrayField.get(e)}updateArrayField(e,t){const n=Object.assign(Object.assign({},this.registeredArrayField.get(e)),t);this.registeredArrayField.set(e,n)}validate(e){const{validateFields:t}=this.getProps();return t&&sn(t)?this._formValidate():this._fieldsValidate(e)}_formValidate(){const{values:e}=this.data,{validateFields:t}=this.getProps();return new Promise((n,r)=>{let s;try{s=t(e)}catch(a){s=a}if(s)oQ(s)?s.then(a=>{if(a)this.data.errors=a,this._adapter.notifyChange(this.data),this.injectErrorToField(a),this._adapter.forceUpdate(),this._autoScroll(100),r(a);else{const o=this._adapter.cloneDeep(e);n(o),this.injectErrorToField({})}},a=>{this._autoScroll(100),r(a)}):(this.data.errors=s,this.injectErrorToField(s),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._autoScroll(100),r(s));else{const a=this._adapter.cloneDeep(e);n(a),this.injectErrorToField({})}})}_fieldsValidate(e){const{values:t}=this.data;return new Promise((n,r)=>{let s=[];const a=this._getOperateFieldMap(e);a.forEach((o,l)=>{const u=this.getValue(l),c={notNotify:!0,notUpdate:!0},d=o.fieldApi.validate(u,c);s.push(d),o.fieldApi.setTouched(!0,c)}),Promise.all(s).then(()=>{this._adapter.notifyChange(this.data),this._adapter.forceUpdate();const o=this.getError();if(this._isValid(a)){const l=this._adapter.cloneDeep(t);n(l)}else this._autoScroll(),r(o)})})}submit(e){const{values:t}=this.data;this.validate().then(n=>{const r=this._adapter.cloneDeep(n);this._adapter.notifySubmit(r,e)}).catch(n=>{const r=this._adapter.cloneDeep(n),s=this._adapter.cloneDeep(t);this._adapter.notifySubmitFail(r,s,e)})}_getNestedField(e){const t=this.fields,n=[...t].map(s=>s[0]);let r=new Map;return n.forEach(s=>{let a=x2(s),o=x2(e);if(o.every((l,u)=>o[u]===a[u])){const l=t.get(s);r.set(s,l)}}),r}_getOperateFieldMap(e){let t=new Map;return Or(e)?t=this.fields:e.forEach(n=>{const r=this.fields.get(n);if(Or(r)){const s=this._getNestedField(n);t=new Map([...t,...s])}else t.set(n,r)}),t}reset(e){this._getOperateFieldMap(e).forEach(n=>{n.fieldApi.reset()}),this.registeredArrayField.size&&this._resetArrayField(),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._adapter.notifyReset()}_resetArrayField(){[...this.registeredArrayField.keys()].forEach(t=>{const r=this.registeredArrayField.get(t).initValue;this.updateStateValue(t,r,{notNotify:!0,notUpdate:!0}),this.updateArrayField(t,{updateKey:new Date().valueOf()})})}injectErrorToField(e){this.fields.forEach(t=>{const n=Yl(e,t.field),r={notNotify:!0,notUpdate:!0};t.fieldApi.setError(n,r)})}getValue(e,t){const n=typeof e>"u",r=t&&t.needClone;let s,a;switch(!0){case(!n&&!r):s=Yl(this.data.values,e);break;case(!n&&r):a=Yl(this.data.values,e),s=this._adapter.cloneDeep(a);break;case(n&&!r):s=Object.assign({},this.data.values);break;case(n&&r):s=this._adapter.cloneDeep(this.data.values);break}return s}setValues(e,t){let{isOverride:n=!1}=t;const r=this._adapter.cloneDeep(e);this.fields.forEach(s=>{const a=Yl(r,s.field),o={notNotify:!0,notUpdate:!0};s.fieldApi.setValue(a,o)}),this.registeredArrayField.size&&[...this.registeredArrayField.keys()].forEach(a=>{this.updateArrayField(a,{updateKey:new Date().valueOf()})}),n&&(this.data.values=r),this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,Object.assign({},e)),this._adapter.forceUpdate()}updateStateValue(e,t,n,r){const s=n&&n.notNotify,a=n&&n.notUpdate,o=n&&n.fieldAllowEmpty,l=this.getProp("allowEmpty"),u=o||l;N8(this.data.values,e,t,u),s||(this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,{[e]:t})),a||this._adapter.forceUpdate(r)}getTouched(e){return typeof e>"u"?this.data.touched:Yl(this.data.touched,e)}updateStateTouched(e,t,n,r){const s=n&&n.notNotify,a=n&&n.notUpdate;N8(this.data.touched,e,t),s||this._adapter.notifyChange(this.data),a||this._adapter.forceUpdate(r)}getError(e){return typeof e>"u"?this.data.errors:Yl(this.data.errors,e)}updateStateError(e,t,n,r){const s=n&&n.notNotify,a=n&&n.notUpdate;N8(this.data.errors,e,t),s||this._adapter.notifyChange(this.data),a||this._adapter.forceUpdate(r)}getFieldSetterApi(){return{setValue:(r,s,a)=>{const o=this.fields.get(r)?this.fields.get(r).fieldApi:void 0,l=this._adapter.cloneDeep(s);o?o.setValue(l,a):(this.updateStateValue(r,l,a,()=>{let u=this._getNestedField(r);u.size&&u.forEach(c=>{let d=c.field,h=Yl(this.data.values,d),p={notNotify:!0,notUpdate:!0};c.fieldApi.setValue(h,p)})}),this.getArrayField(r)&&this.updateArrayField(r,{updateKey:new Date().valueOf()}))},setError:(r,s,a)=>{const o=this.fields.get(r)?this.fields.get(r).fieldApi:void 0,l=this._adapter.cloneDeep(s);o?o.setError(l,a):(this.updateStateError(r,l,a,()=>{let u=this._getNestedField(r);u.size&&u.forEach(c=>{let d=c.field,h=Yl(this.data.errors,d),p={notNotify:!0,notUpdate:!0};c.fieldApi.setError(h,p)})}),this.getArrayField(r)&&this.updateArrayField(r,{updateKey:new Date().valueOf()}))},setTouched:(r,s,a)=>{const o=this.fields.get(r)?this.fields.get(r).fieldApi:void 0;o?o.setTouched(s,a):(this.updateStateTouched(r,s,a,()=>{let l=this._getNestedField(r);l.size&&l.forEach(u=>{let c=u.field,d=Yl(this.data.touched,c),h={notNotify:!0,notUpdate:!0};u.fieldApi.setTouched(d,h)})}),this.getArrayField(r)&&this.updateArrayField(r,{updateKey:new Date().valueOf()}))}}}getModifyFormStateApi(){return{register:this.register,unRegister:this.unRegister,updateStateValue:this.updateStateValue,updateStateError:this.updateStateError,updateStateTouched:this.updateStateTouched,getValue:this.getValue,getError:this.getError,getTouched:this.getTouched,getInitValues:this.getInitValues,getInitValue:this.getInitValue,getFormProps:this.getFormProps,getField:this.getField,registerArrayField:this.registerArrayField,unRegisterArrayField:this.unRegisterArrayField,getArrayField:this.getArrayField,updateArrayField:this.updateArrayField}}getFormApi(){const e=this.getFieldSetterApi();return Object.assign(Object.assign({},e),{reset:t=>this.reset(t),validate:t=>this.validate(t),getValue:t=>this.getValue(t,{needClone:!0}),getValues:()=>this.getValue(void 0,{needClone:!0}),getFormState:()=>this.getFormState(!0),getFormProps:t=>this.getFormProps(t),getInitValue:t=>this.getInitValue(t),getInitValues:()=>this.getInitValues(),getTouched:t=>this.getTouched(t),getError:t=>this.getError(t),setValues:(t,n)=>this.setValues(t,n||{isOverride:!1}),submitForm:()=>this.submit(),getFieldExist:t=>this.getFieldExist(t),scrollToField:(t,n)=>this.scrollToField(t,n)})}getFormState(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?this._adapter.cloneDeep(this.data):Object.assign({},this.data)}_isValid(e){let t=!0;return e?[...e.keys()].forEach(r=>{const s=Yl(this.data.errors,r);t_(s)||(t=!1)}):t=!!zKt(this.data.errors),t}getInitValues(){return this._adapter.getInitValues()}getInitValue(e){return typeof e>"u"?this._adapter.getInitValues():Yl(this._adapter.getInitValues(),e)}getFormProps(e){return this._adapter.getFormProps(e)}getFieldExist(e){return!!this.fields.has(e)}_autoScroll(e){const{autoScrollToError:t}=this.getFormProps();if(!t)return;let n={behavior:"smooth",block:"start"};typeof t=="object"&&(n=t),e?setTimeout(()=>this._getErrorFieldAndScroll(n),100):this._getErrorFieldAndScroll(n)}_getErrorFieldAndScroll(e){const t=this._adapter.getAllErrorDOM();if(t&&t.length)try{const n=t[0].parentNode.parentNode;Tpe(n,e)}catch{}}scrollToField(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{behavior:"smooth",block:"start"};if(this.getFieldExist(e)){const n=this._adapter.getFieldDOM(e);Tpe(n,t)}}}const kQ=R.createContext({});kQ.displayName="FormState";const v3e=R.createContext({});v3e.displayName="FormApi";const YP=R.createContext({});YP.displayName="FormUpdater";const Nti=R.createContext({shouldUseInitValue:!0}),rz=sm.PREFIX;class KP extends ee.PureComponent{generatorText(e){const{helpTextId:t,errorMessageId:n}=this.props,r=this.props.error;let s=n;if(r||(s=t),typeof e=="string")return R.createElement("span",{id:s},e);if(Array.isArray(e)){const a=e.filter(o=>o);return a.length?R.createElement("span",{id:s},a.join(", ")):null}else if(R.isValidElement(e))return e;return null}render(){const{error:e,className:t,style:n,validateStatus:r,helpText:s,showValidateIcon:a,isInInputGroup:o}=this.props,l=he({[rz+"-field-error-message"]:!!e,[rz+"-field-help-text"]:!!s},t);if(!e&&!s)return null;const u={warning:R.createElement(tMe,null),error:R.createElement(i6,null)},c=e?this.generatorText(e):this.generatorText(s),d=`${rz}-field-validate-status-icon`;let h=null;return o?h=R.createElement(i6,{className:d}):u[r]&&(h=R.cloneElement(u[r],{className:d})),R.createElement("div",{className:l,style:n},a&&c?h:null,c)}}KP.propTypes={error:w.oneOfType([w.bool,w.string,w.array,w.node]),className:w.string,style:w.object,validateStatus:w.string,showValidateIcon:w.bool,helpText:w.node,isInInputGroup:w.bool,errorMessageId:w.string,helpTextId:w.string};var jti=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const Bk=sm.PREFIX,zti=i=>{let e,t,n,r,s,a="top";try{const S=ee.useContext(YP).getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol"]);e=S.labelCol,t=S.wrapperCol,n=S.labelWidth,r=S.labelAlign,a=S.labelPosition?S.labelPosition:a}catch{}i.labelPosition&&(a=i.labelPosition);let{children:o,label:l,className:u,style:c,error:d,noLabel:h}=i;jti(i,["children","label","className","style","error","noLabel"]);const p=e&&t,f=he({[`${Bk}-field`]:!0,[`${Bk}-slot`]:!0},u),g=he({[`${Bk}-col-${r}`]:!0});switch(!0){case(tm(l)&&!R.isValidElement(l)):break;case(en(l)||Gs(l)):l={text:l};break;case R.isValidElement(l):l={text:l};break}let v=null;if(typeof d!==void 0){let _={};switch(!0){case(tm(d)&&!R.isValidElement(d)):_=d;break;case(en(d)||Gs(d)):_={error:d};break;case R.isValidElement(d):_={error:d};break}v=R.createElement(KP,Object.assign({},_))}let m=Object.assign({align:r,width:n},l),b=he({[`${Bk}-field-main`]:!0,[`${Bk}-slot-main`]:!0});switch(!0){case(!p&&!h):s=R.createElement(R.Fragment,null,R.createElement(Nc,Object.assign({},m)),R.createElement("div",{className:b},o,v));break;case(!p&&h):s=R.createElement(R.Fragment,null,R.createElement("div",{className:b},o,v));break;case(p&&a==="top"):s=R.createElement(R.Fragment,null,R.createElement("div",{style:{overflow:"hidden"}},R.createElement(ju,Object.assign({},e,{className:g}),R.createElement(Nc,Object.assign({},m)))),R.createElement(ju,null,o,v));break;case(p&&a!=="top"):s=R.createElement(R.Fragment,null,R.createElement(ju,Object.assign({},e,{className:g}),R.createElement(Nc,Object.assign({},m))),R.createElement(ju,null,o,v));break}return R.createElement("div",{className:f,"x-label-pos":a,style:c},s)},nme=sm.PREFIX;class y3e extends ee.PureComponent{render(){const{text:e,className:t,style:n,children:r}=this.props,s=he({[nme+"-section"]:!0},t),a=nme+"-section-text";return R.createElement("section",{className:s,style:n},R.createElement("h5",{className:a},e),r)}}y3e.propTypes={text:w.node,className:w.string,style:w.object,children:w.node};function _3e(){return ee.useContext(kQ)}function Hti(){return ee.useContext(YP)}function sz(i){const e=ee.useRef(),[t,n]=ee.useState(i);return e.current=t,[t,a=>{e.current=a,n(a)},()=>e.current]}function Vti(){return ee.useContext(Nti)}var Wti=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const H1=sm.PREFIX,Uti=i=>{const{fieldSet:e}=i,t=_3e(),n=e.map(r=>Yl(t.errors,r));return t_(n)?null:R.createElement(KP,{error:n,showValidateIcon:i.showValidateIcon,isInInputGroup:i.isInInputGroup})};class b3e extends ee.Component{renderLabel(e,t){return e?en(e)?R.createElement(Nc,{width:t.labelWidth,text:e}):R.createElement(Nc,Object.assign({width:t.labelWidth},e)):null}render(){const e=this.props,{children:t,label:n,extraText:r,extraTextPosition:s}=e,a=Wti(e,["children","label","extraText","extraTextPosition"]),l=this.context.getFormProps(["labelPosition","labelWidth","labelAlign","showValidateIcon","wrapperCol","labelCol","disabled"]),u=this.props.labelPosition||l.labelPosition,c=[],d=R.Children.map(t,A=>A&&A.props&&A.props.field?(c.push(A.props.field),R.cloneElement(A,{isInInputGroup:!0})):null),h=he({[`${H1}-field-group`]:!0}),p=l.labelCol,f=l.wrapperCol,g=l.labelAlign,v=p&&f,m=p?`${H1}-col-${g}`:"",b=this.renderLabel(n,l),_=R.createElement(lQ,Object.assign({disabled:l.disabled},a),d),S=R.createElement(Uti,{fieldSet:c,showValidateIcon:l.showValidateIcon,isInInputGroup:!0}),C=he(`${H1}-field-extra`,{[`${H1}-field-extra-string`]:typeof r=="string",[`${H1}-field-extra-middle`]:s==="middle",[`${H1}-field-extra-bottom`]:s==="bottom"}),k=r?R.createElement("div",{className:C,"x-semi-prop":"extraText"},r):null;let E;switch(!0){case!v:E=R.createElement(R.Fragment,null,b,R.createElement("div",null,s==="middle"?k:null,_,s==="bottom"?k:null,S));break;case(v&&u==="top"):E=R.createElement(R.Fragment,null,R.createElement("div",{style:{overflow:"hidden"}},R.createElement(ju,Object.assign({},p,{className:m}),b)),R.createElement(ju,Object.assign({},f),s==="middle"?k:null,_,s==="bottom"?k:null,S));break;case(v&&u!=="top"):E=R.createElement(R.Fragment,null,R.createElement(ju,Object.assign({},p,{className:m}),b),R.createElement(ju,Object.assign({},f),s==="middle"?k:null,_,s==="bottom"?k:null,S));break}return R.createElement("div",{"x-label-pos":u,className:h},E)}}b3e.contextType=YP;const Lp=sm.PREFIX,az=typeof window<"u"?ee.useLayoutEffect:ee.useEffect;function Eo(i,e){let t=(n,r)=>{let{field:s,label:a,labelPosition:o,labelWidth:l,labelAlign:u,labelCol:c,wrapperCol:d,noLabel:h,noErrorMessage:p,isInInputGroup:f,initValue:g,validate:v,validateStatus:m,trigger:b,allowEmptyString:_,allowEmpty:S,emptyValue:C,rules:k,required:E,keepState:A,transform:P,name:O,fieldClassName:M,fieldStyle:D,convert:L,stopValidateWithError:H,helpText:B,extraText:F,extraTextPosition:z,pure:N,id:U,rest:G}=Bti(n),{options:j,shouldInject:K}=Fti(e,n);if(vs(typeof s>"u"&&j.shouldInject,"[Semi Form]: 'field' is required, please check your props of Field Component"),!K)return R.createElement(i,Object.assign({},G,{ref:r}));_3e();const ie=Hti();if(!ie.getFormProps)return vs(!0,"[Semi Form]: Field Component must be use inside the Form, please check your dom declaration"),null;let ae=ie.getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","disabled","showValidateIcon","extraTextPosition","stopValidateWithError","trigger"]),re=o||ae.labelPosition,J=l||ae.labelWidth,ne=u||ae.labelAlign,te=c||ae.labelCol,Q=d||ae.wrapperCol,se=z||ae.extraTextPosition||"bottom",_e=Lti(H,ae.stopValidateWithError,!1),le=Dti(b,ae.trigger),ve=typeof s<"u"?ie.getValue(s):void 0,pe=typeof g<"u"?g:ve,Fe;try{Fe=Vti(),Fe&&(pe=Fe.shouldUseInitValue&&typeof g<"u"?g:ve)}catch{}const[Ee,it,Qe]=sz(typeof pe!==void 0?pe:null),Ae=le.includes("mount");S=S||ie.getFormProps().allowEmpty;const[je,We,ut]=sz(),[vt,_t]=ee.useState(),[zt,Ft,Ye]=sz(0),[Je,rt]=ee.useState(m),dt=ee.useRef(!1),at=ee.useRef(k),Gt=ee.useRef(v),ii=ee.useRef(null),ci=(lt,St)=>{_t(lt),ie.updateStateTouched(s,lt,St)},qt=(lt,St)=>{dt.current||lt!==ut()&&(We(lt),ie.updateStateError(s,lt,St),t_(lt)?rt("success"):rt("error"))},Zt=(lt,St)=>{it(lt);let Nt=Object.assign(Object.assign({},St),{allowEmpty:S});ie.updateStateValue(s,lt,Nt)},xi=()=>{let lt={notNotify:!0,notUpdate:!0};Zt(pe!==null?pe:void 0,lt),qt(void 0,lt),ci(void 0,lt),rt("default")},Ai=(lt,St)=>{let Nt=at.current||[];const Dt=Iti(s,Nt),Ri={[s]:lt},ki=new Promise((Bi,wn)=>{Dt.validate(Ri,{first:_e},(Ki,Nn)=>{}).then(Ki=>{dt.current||ii.current!==ki||(rt("success"),qt(void 0,St),Bi({}))}).catch(Ki=>{if(dt.current||ii.current!==ki)return;let{errors:Nn,fields:It}=Ki;if(Nn&&It){let ti=Nn.map(Ei=>Ei.message);ti.length===1&&(ti=ti[0]),qt(ti,St),t_(ti)||(rt("error"),Bi(Nn))}else throw rt("error"),qt(Ki.message,St),Bi(Ki.message),Ki})});return ii.current=ki,ki},Ii=(lt,St,Nt)=>{const Dt=new Promise(Ri=>{let ki;try{ki=Gt.current(lt,St)}catch(Bi){ki=Bi}ki===void 0?(Ri({}),qt(void 0,Nt)):oQ(ki)?ki.then(Bi=>{dt.current||ii.current!==Dt||(t_(Bi)?(qt(void 0,Nt),Ri(null)):(qt(Bi,Nt),Ri(Bi)))}):t_(ki)?(qt(void 0,Nt),Ri(null)):(qt(ki,Nt),Ri(ki))});return ii.current=Dt,Dt},ei=(lt,St)=>{let Nt=lt,Dt=at.current;return P&&(Nt=P(lt)),Gt.current?Ii(Nt,ie.getValue(),St):Dt?Ai(Nt,St):null},di=function(lt,St){if(j.onKeyChangeFnName in n&&typeof n[j.onKeyChangeFnName]=="function"){for(var Dt=arguments.length,Ri=new Array(Dt>2?Dt-2:0),ki=2;ki<Dt;ki++)Ri[ki-2]=arguments[ki];n[j.onKeyChangeFnName](lt,St,...Ri)}let Bi;j.valuePath?Bi=Yl(lt,j.valuePath):Bi=lt,typeof L=="function"&&(Bi=L(Bi)),_||S||Bi===C&&(Bi=void 0);try{St&&St.target&&St.target.selectionStart&&Ft(St.target.selectionStart)}catch{}ci(!0,{notNotify:!0,notUpdate:!0}),Zt(Bi),le.includes("change")&&ei(Bi)},vi=function(){if(n.onBlur&&n.onBlur(...arguments),vt||ci(!0),le.includes("blur")){let lt=Qe();ei(lt)}},ot={setValue:Zt,setTouched:ci,setError:qt,reset:xi,validate:ei},Ke={value:Ee,error:je,touched:vt,status:Je};az(()=>{at.current=k,Gt.current=v},[k,v]),az(()=>(Ae&&ei(Ee),()=>{dt.current=!0}),[]),az(()=>{if(typeof s>"u")return()=>{};const lt=Qe();return ie.register(s,{value:lt,error:je,touched:vt,status:Je},{field:s,fieldApi:ot,keepState:A,allowEmpty:S||_}),()=>{ie.unRegister(s)}},[s]);const Ue=U||s,ai=`${Ue}-label`,Ge=`${Ue}-helpText`,pt=`${Ue}-extraText`,Xt=`${Ue}-errormessage`,Ci=()=>{let lt=m||Je;const St=he(`${Lp}-field-extra`,{[`${Lp}-field-extra-string`]:typeof F=="string",[`${Lp}-field-extra-middle`]:se==="middle",[`${Lp}-field-extra-bottom`]:se==="bottom"}),Nt=F?R.createElement("div",{className:St,id:pt,"x-semi-prop":"extraText"},F):null;let Dt=Object.assign(Object.assign({id:Ue,disabled:ae.disabled},G),{ref:r,onBlur:vi,[j.onKeyChangeFnName]:di,[j.valueKey]:Ee,validateStatus:lt,"aria-required":E,"aria-labelledby":ai});O&&(Dt.name=O),B&&(Dt["aria-describedby"]=F?`${Ge} ${pt}`:Ge),F&&(Dt["aria-describedby"]=B?`${Ge} ${pt}`:pt),Je==="error"&&(Dt["aria-errormessage"]=Xt,Dt["aria-invalid"]=!0);const Ri=he({[`${Lp}-field`]:!0,[`${Lp}-field-${O}`]:!!O,[M]:!!M}),ki=he({[`${Lp}-field-main`]:!0});re==="inset"&&!h&&(Dt.insetLabel=a||s,Dt.insetLabelId=ai,typeof a=="object"&&!hU(a)&&(Dt.insetLabel=a.text,Dt.insetLabelId=ai));const Bi=R.createElement(i,Object.assign({},Dt));if(f)return Bi;if(N){let Ei=he(G.className,{[`${Lp}-field-pure`]:!0,[`${Lp}-field-${O}`]:!!O,[M]:!!M});return Dt.className=Ei,R.createElement(i,Object.assign({},Dt))}let wn=te&&Q;const Ki=ne?`${Lp}-col-${ne}`:"";let Nn=null;if(!h&&re!=="inset"){let Ei=typeof a=="object"&&!hU(a)?a:{};Nn=R.createElement(Nc,Object.assign({text:a||s,id:ai,required:E,name:Ue||O||s,width:J,align:ne},Ei))}const It=R.createElement("div",{className:ki},se==="middle"?Nt:null,Bi,p?null:R.createElement(KP,{error:je,validateStatus:lt,helpText:B,helpTextId:Ge,errorMessageId:Xt,showValidateIcon:ae.showValidateIcon}),se==="bottom"?Nt:null),ti=R.createElement(R.Fragment,null,re==="top"?R.createElement("div",{style:{overflow:"hidden"}},R.createElement(ju,Object.assign({},te,{className:Ki}),Nn)):R.createElement(ju,Object.assign({},te,{className:Ki}),Nn),R.createElement(ju,Object.assign({},Q),It));return R.createElement("div",{className:Ri,style:D,"x-label-pos":re,"x-field-id":s,"x-extra-pos":se},wn?ti:R.createElement(R.Fragment,null,Nn,It))},ft=[...Object.values(Ke),...Object.values(n),s,re,ne,ae.disabled];return j.shouldMemo?ee.useMemo(Ci,[...ft]):Ci()};return t=ee.forwardRef(t),t.displayName=Mti(i),t}const Gti=Eo(iu,{maintainCursor:!0}),Yti=Eo(zQt,{maintainCursor:!0}),Kti=Eo(OQt,{maintainCursor:!0}),EQ=Eo(Uo);EQ.Option=Uo.Option;EQ.OptGroup=Uo.OptGroup;const Xti=Eo(pC),qti=Eo(rm,{valueKey:"checked",valuePath:"target.checked",shouldInject:!1}),Zti=Eo(GP,{valuePath:"target.value"}),Qti=Eo(k0,{valueKey:"checked",valuePath:"target.checked",shouldInject:!1}),Jti=Eo(SQt),eii=Eo(yQ,{valueKey:"checked"}),tii=Eo(vQ),iii=Eo(E2),nii=Eo(N4),rii=Eo(fw),sii=Eo($4),aii=Eo(hw,{valueKey:"value",onKeyChangeFnName:"onChange"}),oii=Eo(z4,{valueKey:"fileList",valuePath:"fileList",onKeyChangeFnName:"onChange"}),lii=Eo(VP);var uii=function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t};const oz=sm.PREFIX;class Gr extends ln{constructor(e){super(e),this.state={formId:""},vs(!!(e.component&&e.render),"[Semi Form] You should not use <Form component> and <Form render> in ths same time; <Form render> will be ignored"),vs(e.component&&e.children&&!pfe(e.children),"[Semi Form] You should not use <Form component> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),vs(e.render&&e.children&&!pfe(e.children),"[Semi Form] You should not use <Form render> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),this.submit=this.submit.bind(this),this.reset=this.reset.bind(this),this.foundation=new $ti(this.adapter),this.formApi=this.foundation.getFormApi(),this.props.getFormApi&&this.props.getFormApi(this.formApi)}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{cloneDeep:pU,notifySubmit:(e,t)=>{this.props.onSubmit(e,t)},notifySubmitFail:(e,t,n)=>{this.props.onSubmitFail(e,t,n)},forceUpdate:e=>{this.forceUpdate(e)},notifyChange:e=>{this.props.onChange(e)},notifyValueChange:(e,t)=>{this.props.onValueChange(e,t)},notifyReset:()=>{this.props.onReset()},initFormId:()=>{this.setState({formId:tR()})},getInitValues:()=>this.props.initValues,getFormProps:e=>{if(typeof e>"u")return this.props;if(typeof e=="string")return this.props[e];{const t={};return e.forEach(n=>{t[n]=this.props[n]}),t}},getAllErrorDOM:()=>{const{formId:e}=this.state,{id:t}=this.props,n=t||e;return document.querySelectorAll(`form[x-form-id="${n}"] .${sm.PREFIX}-field-error-message`)},getFieldDOM:e=>document.querySelector(`.${sm.PREFIX}-field[x-field-id="${e}"]`)})}get content(){const{children:e,component:t,render:n}=this.props,r=this.foundation.getFormState(),s={formState:r,formApi:this.foundation.getFormApi(),values:r.values};return t?R.createElement(t,s):n?n(s):typeof e=="function"?e(s):e}submit(e){e.preventDefault(),this.foundation.submit(e)}reset(e){e.preventDefault(),this.foundation.reset()}render(){const t=this.foundation.getFormState(!1),n=this.foundation.getModifyFormStateApi(),{formId:r}=this.state,s=this.props,{children:a,getFormApi:o,onChange:l,onSubmit:u,onSubmitFail:c,onValueChange:d,component:h,render:p,validateFields:f,initValues:g,layout:v,style:m,className:b,labelPosition:_,labelWidth:S,labelAlign:C,labelCol:k,wrapperCol:E,allowEmpty:A,autoScrollToError:P,showValidateIcon:O,stopValidateWithError:M,extraTextPosition:D,id:L,trigger:H}=s,B=uii(s,["children","getFormApi","onChange","onSubmit","onSubmitFail","onValueChange","component","render","validateFields","initValues","layout","style","className","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","allowEmpty","autoScrollToError","showValidateIcon","stopValidateWithError","extraTextPosition","id","trigger"]),F=he(oz,b,{[oz+"-vertical"]:v==="vertical",[oz+"-horizontal"]:v==="horizontal"}),z=E&&k,N=R.createElement("form",Object.assign({style:m},B,{onReset:this.reset,onSubmit:this.submit,className:F,"x-form-id":L||r}),this.content),U=R.createElement(L4,null,N);return R.createElement(YP.Provider,{value:n},R.createElement(v3e.Provider,{value:this.formApi},R.createElement(kQ.Provider,{value:t},z?U:N)))}}Gr.propTypes={"aria-label":w.string,onSubmit:w.func,onSubmitFail:w.func,onChange:w.func,onReset:w.func,onValueChange:w.func,autoScrollToError:w.oneOfType([w.bool,w.object]),allowEmpty:w.bool,className:w.string,component:w.oneOfType([w.node,w.func]),disabled:w.bool,extraTextPosition:w.oneOf(cE.EXTRA_POS),getFormApi:w.func,initValues:w.object,validateFields:w.func,layout:w.oneOf(cE.LAYOUT),labelPosition:w.oneOf(cE.LABEL_POS),labelWidth:w.oneOfType([w.number,w.string]),labelAlign:w.oneOf(cE.LABEL_ALIGN),labelCol:w.object,render:w.func,style:w.object,showValidateIcon:w.bool,stopValidateWithError:w.bool,id:w.string,wrapperCol:w.object,trigger:w.oneOfType([w.oneOf(["blur","change","custom","mount"]),w.arrayOf(w.oneOf(["blur","change","custom","mount"]))])};Gr.defaultProps={onChange:Te,onSubmitFail:Te,onSubmit:Te,onReset:Te,onValueChange:Te,layout:"vertical",labelPosition:"top",allowEmpty:!1,autoScrollToError:!1,showValidateIcon:!0};Gr.Input=Gti;Gr.TextArea=Kti;Gr.InputNumber=Yti;Gr.Select=EQ;Gr.Checkbox=qti;Gr.CheckboxGroup=Xti;Gr.Radio=Qti;Gr.RadioGroup=Zti;Gr.DatePicker=Jti;Gr.TimePicker=iii;Gr.Switch=eii;Gr.Slider=tii;Gr.TreeSelect=nii;Gr.Cascader=rii;Gr.Rating=sii;Gr.AutoComplete=aii;Gr.Upload=oii;Gr.TagInput=lii;Gr.Slot=zti;Gr.ErrorMessage=KP;Gr.InputGroup=b3e;Gr.Label=Nc;Gr.Section=y3e;function cii(i){const{field:e,label:t,default:n,value:r,tip:s,onChange:a,target:o,options:l}=i,u=ee.useRef();return st.jsxs("div",{style:{paddingTop:"16px"},children:[st.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#333"},children:t}),st.jsx(iu,{style:{marginTop:4},ref:u,defaultValue:n,value:r,type:"text",onChange:c=>a(o,e,c)}),st.jsx("div",{style:{fontSize:"12px",marginTop:"2px",color:"#666"},children:s})]})}function dii(i){const{field:e,label:t,default:n,value:r,tip:s,onChange:a,target:o,options:l}=i;return st.jsxs("div",{style:{paddingTop:"16px"},children:[st.jsx(Nc,{children:t}),st.jsx(GP,{onChange:u=>{a(o,e,u.target.value)},value:r,type:"button",style:{display:"flex",justifyContent:"space-around",marginTop:5,width:"100%",whiteSpace:"nowrap","--semi-color-bg-3":"rgba(var(--semi-blue-0), 1)"},children:l==null?void 0:l.map(u=>st.jsx(i3e,{value:u.value,style:{flex:1},children:u.label},u.value))})]})}var zu=function(){return zu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},zu.apply(this,arguments)};function v6(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,s;n<r;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return i.concat(s||Array.prototype.slice.call(e))}var as="-ms-",LA="-moz-",Sr="-webkit-",S3e="comm",H4="rule",AQ="decl",hii="@import",x3e="@keyframes",pii="@layer",w3e=Math.abs,TQ=String.fromCharCode,OG=Object.assign;function fii(i,e){return bo(i,0)^45?(((e<<2^bo(i,0))<<2^bo(i,1))<<2^bo(i,2))<<2^bo(i,3):0}function C3e(i){return i.trim()}function vg(i,e){return(i=e.exec(i))?i[0]:i}function pn(i,e,t){return i.replace(e,t)}function hR(i,e,t){return i.indexOf(e,t)}function bo(i,e){return i.charCodeAt(e)|0}function mw(i,e,t){return i.slice(e,t)}function Yp(i){return i.length}function k3e(i){return i.length}function hE(i,e){return e.push(i),i}function gii(i,e){return i.map(e).join("")}function rme(i,e){return i.filter(function(t){return!vg(t,e)})}var V4=1,vw=1,E3e=0,th=0,Ma=0,_C="";function W4(i,e,t,n,r,s,a,o){return{value:i,root:e,parent:t,type:n,props:r,children:s,line:V4,column:vw,length:a,return:"",siblings:o}}function ev(i,e){return OG(W4("",null,null,"",null,null,0,i.siblings),i,{length:-i.length},e)}function V1(i){for(;i.root;)i=ev(i.root,{children:[i]});hE(i,i.siblings)}function mii(){return Ma}function vii(){return Ma=th>0?bo(_C,--th):0,vw--,Ma===10&&(vw=1,V4--),Ma}function ap(){return Ma=th<E3e?bo(_C,th++):0,vw++,Ma===10&&(vw=1,V4++),Ma}function A_(){return bo(_C,th)}function pR(){return th}function U4(i,e){return mw(_C,i,e)}function MG(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yii(i){return V4=vw=1,E3e=Yp(_C=i),th=0,[]}function _ii(i){return _C="",i}function lz(i){return C3e(U4(th-1,IG(i===91?i+2:i===40?i+1:i)))}function bii(i){for(;(Ma=A_())&&Ma<33;)ap();return MG(i)>2||MG(Ma)>3?"":" "}function Sii(i,e){for(;--e&&ap()&&!(Ma<48||Ma>102||Ma>57&&Ma<65||Ma>70&&Ma<97););return U4(i,pR()+(e<6&&A_()==32&&ap()==32))}function IG(i){for(;ap();)switch(Ma){case i:return th;case 34:case 39:i!==34&&i!==39&&IG(Ma);break;case 40:i===41&&IG(i);break;case 92:ap();break}return th}function xii(i,e){for(;ap()&&i+Ma!==57;)if(i+Ma===84&&A_()===47)break;return"/*"+U4(e,th-1)+"*"+TQ(i===47?i:ap())}function wii(i){for(;!MG(A_());)ap();return U4(i,th)}function Cii(i){return _ii(fR("",null,null,null,[""],i=yii(i),0,[0],i))}function fR(i,e,t,n,r,s,a,o,l){for(var u=0,c=0,d=a,h=0,p=0,f=0,g=1,v=1,m=1,b=0,_="",S=r,C=s,k=n,E=_;v;)switch(f=b,b=ap()){case 40:if(f!=108&&bo(E,d-1)==58){hR(E+=pn(lz(b),"&","&\f"),"&\f",w3e(u?o[u-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:E+=lz(b);break;case 9:case 10:case 13:case 32:E+=bii(f);break;case 92:E+=Sii(pR()-1,7);continue;case 47:switch(A_()){case 42:case 47:hE(kii(xii(ap(),pR()),e,t,l),l);break;default:E+="/"}break;case 123*g:o[u++]=Yp(E)*m;case 125*g:case 59:case 0:switch(b){case 0:case 125:v=0;case 59+c:m==-1&&(E=pn(E,/\f/g,"")),p>0&&Yp(E)-d&&hE(p>32?ame(E+";",n,t,d-1,l):ame(pn(E," ","")+";",n,t,d-2,l),l);break;case 59:E+=";";default:if(hE(k=sme(E,e,t,u,c,r,o,_,S=[],C=[],d,s),s),b===123)if(c===0)fR(E,e,k,k,S,s,d,o,C);else switch(h===99&&bo(E,3)===110?100:h){case 100:case 108:case 109:case 115:fR(i,k,k,n&&hE(sme(i,k,k,0,0,r,o,_,r,S=[],d,C),C),r,C,d,o,n?S:C);break;default:fR(E,k,k,k,[""],C,0,o,C)}}u=c=p=0,g=m=1,_=E="",d=a;break;case 58:d=1+Yp(E),p=f;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&vii()==125)continue}switch(E+=TQ(b),b*g){case 38:m=c>0?1:(E+="\f",-1);break;case 44:o[u++]=(Yp(E)-1)*m,m=1;break;case 64:A_()===45&&(E+=lz(ap())),h=A_(),c=d=Yp(_=E+=wii(pR())),b++;break;case 45:f===45&&Yp(E)==2&&(g=0)}}return s}function sme(i,e,t,n,r,s,a,o,l,u,c,d){for(var h=r-1,p=r===0?s:[""],f=k3e(p),g=0,v=0,m=0;g<n;++g)for(var b=0,_=mw(i,h+1,h=w3e(v=a[g])),S=i;b<f;++b)(S=C3e(v>0?p[b]+" "+_:pn(_,/&\f/g,p[b])))&&(l[m++]=S);return W4(i,e,t,r===0?H4:o,l,u,c,d)}function kii(i,e,t,n){return W4(i,e,t,S3e,TQ(mii()),mw(i,2,-2),0,n)}function ame(i,e,t,n,r){return W4(i,e,t,AQ,mw(i,0,n),mw(i,n+1,-1),n,r)}function A3e(i,e,t){switch(fii(i,e)){case 5103:return Sr+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Sr+i+i;case 4789:return LA+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return Sr+i+LA+i+as+i+i;case 5936:switch(bo(i,e+11)){case 114:return Sr+i+as+pn(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return Sr+i+as+pn(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return Sr+i+as+pn(i,/[svh]\w+-[tblr]{2}/,"lr")+i}case 6828:case 4268:case 2903:return Sr+i+as+i+i;case 6165:return Sr+i+as+"flex-"+i+i;case 5187:return Sr+i+pn(i,/(\w+).+(:[^]+)/,Sr+"box-$1$2"+as+"flex-$1$2")+i;case 5443:return Sr+i+as+"flex-item-"+pn(i,/flex-|-self/g,"")+(vg(i,/flex-|baseline/)?"":as+"grid-row-"+pn(i,/flex-|-self/g,""))+i;case 4675:return Sr+i+as+"flex-line-pack"+pn(i,/align-content|flex-|-self/g,"")+i;case 5548:return Sr+i+as+pn(i,"shrink","negative")+i;case 5292:return Sr+i+as+pn(i,"basis","preferred-size")+i;case 6060:return Sr+"box-"+pn(i,"-grow","")+Sr+i+as+pn(i,"grow","positive")+i;case 4554:return Sr+pn(i,/([^-])(transform)/g,"$1"+Sr+"$2")+i;case 6187:return pn(pn(pn(i,/(zoom-|grab)/,Sr+"$1"),/(image-set)/,Sr+"$1"),i,"")+i;case 5495:case 3959:return pn(i,/(image-set\([^]*)/,Sr+"$1$`$1");case 4968:return pn(pn(i,/(.+:)(flex-)?(.*)/,Sr+"box-pack:$3"+as+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Sr+i+i;case 4200:if(!vg(i,/flex-|baseline/))return as+"grid-column-align"+mw(i,e)+i;break;case 2592:case 3360:return as+pn(i,"template-","")+i;case 4384:case 3616:return t&&t.some(function(n,r){return e=r,vg(n.props,/grid-\w+-end/)})?~hR(i+(t=t[e].value),"span",0)?i:as+pn(i,"-start","")+i+as+"grid-row-span:"+(~hR(t,"span",0)?vg(t,/\d+/):+vg(t,/\d+/)-+vg(i,/\d+/))+";":as+pn(i,"-start","")+i;case 4896:case 4128:return t&&t.some(function(n){return vg(n.props,/grid-\w+-start/)})?i:as+pn(pn(i,"-end","-span"),"span ","")+i;case 4095:case 3583:case 4068:case 2532:return pn(i,/(.+)-inline(.+)/,Sr+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Yp(i)-1-e>6)switch(bo(i,e+1)){case 109:if(bo(i,e+4)!==45)break;case 102:return pn(i,/(.+:)(.+)-([^]+)/,"$1"+Sr+"$2-$3$1"+LA+(bo(i,e+3)==108?"$3":"$2-$3"))+i;case 115:return~hR(i,"stretch",0)?A3e(pn(i,"stretch","fill-available"),e,t)+i:i}break;case 5152:case 5920:return pn(i,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,r,s,a,o,l,u){return as+r+":"+s+u+(a?as+r+"-span:"+(o?l:+l-+s)+u:"")+i});case 4949:if(bo(i,e+6)===121)return pn(i,":",":"+Sr)+i;break;case 6444:switch(bo(i,bo(i,14)===45?18:11)){case 120:return pn(i,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Sr+(bo(i,14)===45?"inline-":"")+"box$3$1"+Sr+"$2$3$1"+as+"$2box$3")+i;case 100:return pn(i,":",":"+as)+i}break;case 5719:case 2647:case 2135:case 3927:case 2391:return pn(i,"scroll-","scroll-snap-")+i}return i}function y6(i,e){for(var t="",n=0;n<i.length;n++)t+=e(i[n],n,i,e)||"";return t}function Eii(i,e,t,n){switch(i.type){case pii:if(i.children.length)break;case hii:case AQ:return i.return=i.return||i.value;case S3e:return"";case x3e:return i.return=i.value+"{"+y6(i.children,n)+"}";case H4:if(!Yp(i.value=i.props.join(",")))return""}return Yp(t=y6(i.children,n))?i.return=i.value+"{"+t+"}":""}function Aii(i){var e=k3e(i);return function(t,n,r,s){for(var a="",o=0;o<e;o++)a+=i[o](t,n,r,s)||"";return a}}function Tii(i){return function(e){e.root||(e=e.return)&&i(e)}}function Pii(i,e,t,n){if(i.length>-1&&!i.return)switch(i.type){case AQ:i.return=A3e(i.value,i.length,t);return;case x3e:return y6([ev(i,{value:pn(i.value,"@","@"+Sr)})],n);case H4:if(i.length)return gii(t=i.props,function(r){switch(vg(r,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":V1(ev(i,{props:[pn(r,/:(read-\w+)/,":"+LA+"$1")]})),V1(ev(i,{props:[r]})),OG(i,{props:rme(t,n)});break;case"::placeholder":V1(ev(i,{props:[pn(r,/:(plac\w+)/,":"+Sr+"input-$1")]})),V1(ev(i,{props:[pn(r,/:(plac\w+)/,":"+LA+"$1")]})),V1(ev(i,{props:[pn(r,/:(plac\w+)/,as+"input-$1")]})),V1(ev(i,{props:[r]})),OG(i,{props:rme(t,n)});break}return""})}}var Oii={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},wc={},yw=typeof process<"u"&&wc!==void 0&&(wc.REACT_APP_SC_ATTR||wc.SC_ATTR)||"data-styled",T3e="active",P3e="data-styled-version",G4="6.1.11",PQ=`/*!sc*/
`,OQ=typeof window<"u"&&"HTMLElement"in window,Mii=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&wc!==void 0&&wc.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&wc.REACT_APP_SC_DISABLE_SPEEDY!==""?wc.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&wc.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&wc!==void 0&&wc.SC_DISABLE_SPEEDY!==void 0&&wc.SC_DISABLE_SPEEDY!==""&&wc.SC_DISABLE_SPEEDY!=="false"&&wc.SC_DISABLE_SPEEDY),Y4=Object.freeze([]),_w=Object.freeze({});function Iii(i,e,t){return t===void 0&&(t=_w),i.theme!==t.theme&&i.theme||e||t.theme}var O3e=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Rii=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Dii=/(^-|-$)/g;function ome(i){return i.replace(Rii,"-").replace(Dii,"")}var Lii=/(a)(d)/gi,n3=52,lme=function(i){return String.fromCharCode(i+(i>25?39:97))};function RG(i){var e,t="";for(e=Math.abs(i);e>n3;e=e/n3|0)t=lme(e%n3)+t;return(lme(e%n3)+t).replace(Lii,"$1-$2")}var uz,M3e=5381,GS=function(i,e){for(var t=e.length;t;)i=33*i^e.charCodeAt(--t);return i},I3e=function(i){return GS(M3e,i)};function Fii(i){return RG(I3e(i)>>>0)}function Bii(i){return i.displayName||i.name||"Component"}function cz(i){return typeof i=="string"&&!0}var R3e=typeof Symbol=="function"&&Symbol.for,D3e=R3e?Symbol.for("react.memo"):60115,$ii=R3e?Symbol.for("react.forward_ref"):60112,Nii={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jii={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},L3e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zii=((uz={})[$ii]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},uz[D3e]=L3e,uz);function ume(i){return("type"in(e=i)&&e.type.$$typeof)===D3e?L3e:"$$typeof"in i?zii[i.$$typeof]:Nii;var e}var Hii=Object.defineProperty,Vii=Object.getOwnPropertyNames,cme=Object.getOwnPropertySymbols,Wii=Object.getOwnPropertyDescriptor,Uii=Object.getPrototypeOf,dme=Object.prototype;function F3e(i,e,t){if(typeof e!="string"){if(dme){var n=Uii(e);n&&n!==dme&&F3e(i,n,t)}var r=Vii(e);cme&&(r=r.concat(cme(e)));for(var s=ume(i),a=ume(e),o=0;o<r.length;++o){var l=r[o];if(!(l in jii||t&&t[l]||a&&l in a||s&&l in s)){var u=Wii(e,l);try{Hii(i,l,u)}catch{}}}}return i}function bw(i){return typeof i=="function"}function MQ(i){return typeof i=="object"&&"styledComponentId"in i}function i_(i,e){return i&&e?"".concat(i," ").concat(e):i||e||""}function hme(i,e){if(i.length===0)return"";for(var t=i[0],n=1;n<i.length;n++)t+=i[n];return t}function T2(i){return i!==null&&typeof i=="object"&&i.constructor.name===Object.name&&!("props"in i&&i.$$typeof)}function DG(i,e,t){if(t===void 0&&(t=!1),!t&&!T2(i)&&!Array.isArray(i))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)i[n]=DG(i[n],e[n]);else if(T2(e))for(var n in e)i[n]=DG(i[n],e[n]);return i}function IQ(i,e){Object.defineProperty(i,"toString",{value:e})}function XP(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(i," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Gii=function(){function i(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return i.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},i.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,s=r;e>=s;)if((s<<=1)<0)throw XP(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(n),this.length=s;for(var a=r;a<s;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),l=(a=0,t.length);a<l;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},i.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var s=n;s<r;s++)this.tag.deleteRule(n)}},i.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),s=r+n,a=r;a<s;a++)t+="".concat(this.tag.getRule(a)).concat(PQ);return t},i}(),gR=new Map,_6=new Map,mR=1,r3=function(i){if(gR.has(i))return gR.get(i);for(;_6.has(mR);)mR++;var e=mR++;return gR.set(i,e),_6.set(e,i),e},Yii=function(i,e){mR=e+1,gR.set(i,e),_6.set(e,i)},Kii="style[".concat(yw,"][").concat(P3e,'="').concat(G4,'"]'),Xii=new RegExp("^".concat(yw,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),qii=function(i,e,t){for(var n,r=t.split(","),s=0,a=r.length;s<a;s++)(n=r[s])&&i.registerName(e,n)},Zii=function(i,e){for(var t,n=((t=e.textContent)!==null&&t!==void 0?t:"").split(PQ),r=[],s=0,a=n.length;s<a;s++){var o=n[s].trim();if(o){var l=o.match(Xii);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(Yii(c,u),qii(i,c,l[3]),i.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}};function Qii(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var B3e=function(i){var e=document.head,t=i||e,n=document.createElement("style"),r=function(o){var l=Array.from(o.querySelectorAll("style[".concat(yw,"]")));return l[l.length-1]}(t),s=r!==void 0?r.nextSibling:null;n.setAttribute(yw,T3e),n.setAttribute(P3e,G4);var a=Qii();return a&&n.setAttribute("nonce",a),t.insertBefore(n,s),n},Jii=function(){function i(e){this.element=B3e(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var n=document.styleSheets,r=0,s=n.length;r<s;r++){var a=n[r];if(a.ownerNode===t)return a}throw XP(17)}(this.element),this.length=0}return i.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},i.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},i.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},i}(),eni=function(){function i(e){this.element=B3e(e),this.nodes=this.element.childNodes,this.length=0}return i.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},i.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},i.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},i}(),tni=function(){function i(e){this.rules=[],this.length=0}return i.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},i.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},i.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},i}(),pme=OQ,ini={isServer:!OQ,useCSSOMInjection:!Mii},$3e=function(){function i(e,t,n){e===void 0&&(e=_w),t===void 0&&(t={});var r=this;this.options=zu(zu({},ini),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&OQ&&pme&&(pme=!1,function(s){for(var a=document.querySelectorAll(Kii),o=0,l=a.length;o<l;o++){var u=a[o];u&&u.getAttribute(yw)!==T3e&&(Zii(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),IQ(this,function(){return function(s){for(var a=s.getTag(),o=a.length,l="",u=function(d){var h=function(m){return _6.get(m)}(d);if(h===void 0)return"continue";var p=s.names.get(h),f=a.getGroup(d);if(p===void 0||f.length===0)return"continue";var g="".concat(yw,".g").concat(d,'[id="').concat(h,'"]'),v="";p!==void 0&&p.forEach(function(m){m.length>0&&(v+="".concat(m,","))}),l+="".concat(f).concat(g,'{content:"').concat(v,'"}').concat(PQ)},c=0;c<o;c++)u(c);return l}(r)})}return i.registerId=function(e){return r3(e)},i.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new i(zu(zu({},this.options),e),this.gs,t&&this.names||void 0)},i.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},i.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var n=t.useCSSOMInjection,r=t.target;return t.isServer?new tni(r):n?new Jii(r):new eni(r)}(this.options),new Gii(e)));var e},i.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},i.prototype.registerName=function(e,t){if(r3(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},i.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(r3(e),n)},i.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},i.prototype.clearRules=function(e){this.getTag().clearGroup(r3(e)),this.clearNames(e)},i.prototype.clearTag=function(){this.tag=void 0},i}(),nni=/&/g,rni=/^\s*\/\/.*$/gm;function N3e(i,e){return i.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=N3e(t.children,e)),t})}function sni(i){var e,t,n,r=_w,s=r.options,a=s===void 0?_w:s,o=r.plugins,l=o===void 0?Y4:o,u=function(h,p,f){return f.startsWith(t)&&f.endsWith(t)&&f.replaceAll(t,"").length>0?".".concat(e):h},c=l.slice();c.push(function(h){h.type===H4&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(nni,t).replace(n,u))}),a.prefix&&c.push(Pii),c.push(Eii);var d=function(h,p,f,g){p===void 0&&(p=""),f===void 0&&(f=""),g===void 0&&(g="&"),e=g,t=p,n=new RegExp("\\".concat(t,"\\b"),"g");var v=h.replace(rni,""),m=Cii(f||p?"".concat(f," ").concat(p," { ").concat(v," }"):v);a.namespace&&(m=N3e(m,a.namespace));var b=[];return y6(m,Aii(c.concat(Tii(function(_){return b.push(_)})))),b};return d.hash=l.length?l.reduce(function(h,p){return p.name||XP(15),GS(h,p.name)},M3e).toString():"",d}var ani=new $3e,LG=sni(),j3e=R.createContext({shouldForwardProp:void 0,styleSheet:ani,stylis:LG});j3e.Consumer;R.createContext(void 0);function fme(){return ee.useContext(j3e)}var oni=function(){function i(e,t){var n=this;this.inject=function(r,s){s===void 0&&(s=LG);var a=n.name+s.hash;r.hasNameForId(n.id,a)||r.insertRules(n.id,a,s(n.rules,a,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,IQ(this,function(){throw XP(12,String(n.name))})}return i.prototype.getName=function(e){return e===void 0&&(e=LG),this.name+e.hash},i}(),lni=function(i){return i>="A"&&i<="Z"};function gme(i){for(var e="",t=0;t<i.length;t++){var n=i[t];if(t===1&&n==="-"&&i[0]==="-")return i;lni(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var z3e=function(i){return i==null||i===!1||i===""},H3e=function(i){var e,t,n=[];for(var r in i){var s=i[r];i.hasOwnProperty(r)&&!z3e(s)&&(Array.isArray(s)&&s.isCss||bw(s)?n.push("".concat(gme(r),":"),s,";"):T2(s)?n.push.apply(n,v6(v6(["".concat(r," {")],H3e(s),!1),["}"],!1)):n.push("".concat(gme(r),": ").concat((e=r,(t=s)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in Oii||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return n};function T_(i,e,t,n){if(z3e(i))return[];if(MQ(i))return[".".concat(i.styledComponentId)];if(bw(i)){if(!bw(s=i)||s.prototype&&s.prototype.isReactComponent||!e)return[i];var r=i(e);return T_(r,e,t,n)}var s;return i instanceof oni?t?(i.inject(t,n),[i.getName(n)]):[i]:T2(i)?H3e(i):Array.isArray(i)?Array.prototype.concat.apply(Y4,i.map(function(a){return T_(a,e,t,n)})):[i.toString()]}function uni(i){for(var e=0;e<i.length;e+=1){var t=i[e];if(bw(t)&&!MQ(t))return!1}return!0}var cni=I3e(G4),dni=function(){function i(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&uni(e),this.componentId=t,this.baseHash=GS(cni,t),this.baseStyle=n,$3e.registerId(t)}return i.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=i_(r,this.staticRulesId);else{var s=hme(T_(this.rules,e,t,n)),a=RG(GS(this.baseHash,s)>>>0);if(!t.hasNameForId(this.componentId,a)){var o=n(s,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,o)}r=i_(r,a),this.staticRulesId=a}else{for(var l=GS(this.baseHash,n.hash),u="",c=0;c<this.rules.length;c++){var d=this.rules[c];if(typeof d=="string")u+=d;else if(d){var h=hme(T_(d,e,t,n));l=GS(l,h+c),u+=h}}if(u){var p=RG(l>>>0);t.hasNameForId(this.componentId,p)||t.insertRules(this.componentId,p,n(u,".".concat(p),void 0,this.componentId)),r=i_(r,p)}}return r},i}(),V3e=R.createContext(void 0);V3e.Consumer;var dz={};function hni(i,e,t){var n=MQ(i),r=i,s=!cz(i),a=e.attrs,o=a===void 0?Y4:a,l=e.componentId,u=l===void 0?function(S,C){var k=typeof S!="string"?"sc":ome(S);dz[k]=(dz[k]||0)+1;var E="".concat(k,"-").concat(Fii(G4+k+dz[k]));return C?"".concat(C,"-").concat(E):E}(e.displayName,e.parentComponentId):l,c=e.displayName,d=c===void 0?function(S){return cz(S)?"styled.".concat(S):"Styled(".concat(Bii(S),")")}(i):c,h=e.displayName&&e.componentId?"".concat(ome(e.displayName),"-").concat(e.componentId):e.componentId||u,p=n&&r.attrs?r.attrs.concat(o).filter(Boolean):o,f=e.shouldForwardProp;if(n&&r.shouldForwardProp){var g=r.shouldForwardProp;if(e.shouldForwardProp){var v=e.shouldForwardProp;f=function(S,C){return g(S,C)&&v(S,C)}}else f=g}var m=new dni(t,h,n?r.componentStyle:void 0);function b(S,C){return function(k,E,A){var P=k.attrs,O=k.componentStyle,M=k.defaultProps,D=k.foldedComponentIds,L=k.styledComponentId,H=k.target,B=R.useContext(V3e),F=fme(),z=k.shouldForwardProp||F.shouldForwardProp,N=Iii(E,B,M)||_w,U=function(re,J,ne){for(var te,Q=zu(zu({},J),{className:void 0,theme:ne}),se=0;se<re.length;se+=1){var _e=bw(te=re[se])?te(Q):te;for(var le in _e)Q[le]=le==="className"?i_(Q[le],_e[le]):le==="style"?zu(zu({},Q[le]),_e[le]):_e[le]}return J.className&&(Q.className=i_(Q.className,J.className)),Q}(P,E,N),G=U.as||H,j={};for(var K in U)U[K]===void 0||K[0]==="$"||K==="as"||K==="theme"&&U.theme===N||(K==="forwardedAs"?j.as=U.forwardedAs:z&&!z(K,G)||(j[K]=U[K]));var ie=function(re,J){var ne=fme(),te=re.generateAndInjectStyles(J,ne.styleSheet,ne.stylis);return te}(O,U),ae=i_(D,L);return ie&&(ae+=" "+ie),U.className&&(ae+=" "+U.className),j[cz(G)&&!O3e.has(G)?"class":"className"]=ae,j.ref=A,ee.createElement(G,j)}(_,S,C)}b.displayName=d;var _=R.forwardRef(b);return _.attrs=p,_.componentStyle=m,_.displayName=d,_.shouldForwardProp=f,_.foldedComponentIds=n?i_(r.foldedComponentIds,r.styledComponentId):"",_.styledComponentId=h,_.target=n?r.target:i,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=n?function(C){for(var k=[],E=1;E<arguments.length;E++)k[E-1]=arguments[E];for(var A=0,P=k;A<P.length;A++)DG(C,P[A],!0);return C}({},r.defaultProps,S):S}}),IQ(_,function(){return".".concat(_.styledComponentId)}),s&&F3e(_,i,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function mme(i,e){for(var t=[i[0]],n=0,r=e.length;n<r;n+=1)t.push(e[n],i[n+1]);return t}var vme=function(i){return Object.assign(i,{isCss:!0})};function pni(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(bw(i)||T2(i))return vme(T_(mme(Y4,v6([i],e,!0))));var n=i;return e.length===0&&n.length===1&&typeof n[0]=="string"?T_(n):vme(T_(mme(n,e)))}function FG(i,e,t){if(t===void 0&&(t=_w),!e)throw XP(1,e);var n=function(r){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return i(e,t,pni.apply(void 0,v6([r],s,!1)))};return n.attrs=function(r){return FG(i,e,zu(zu({},t),{attrs:Array.prototype.concat(t.attrs,r).filter(Boolean)}))},n.withConfig=function(r){return FG(i,e,zu(zu({},t),r))},n}var W3e=function(i){return FG(hni,i)},$0=W3e;O3e.forEach(function(i){$0[i]=W3e(i)});function fni(i){const{field:e,label:t,default:n,value:r,tip:s,onChange:a,target:o,options:l}=i,u=d=>{var p;const h=((p=l==null?void 0:l.find(f=>f.value===d.value))==null?void 0:p.label)||[];return st.jsx(yme,{style:{height:16},items:h})},c=d=>{var p;const h=((p=l==null?void 0:l.find(f=>f.value===d.value))==null?void 0:p.label)||[];return st.jsx(gni,{style:{background:d.selected?"rgba(var(--semi-blue-0), 1)":""},onClick:d.onClick,children:st.jsx(yme,{style:{height:16,width:"100%"},items:h})})};return st.jsxs("div",{style:{paddingTop:"16px"},children:[st.jsx(Nc,{children:t}),st.jsx(Uo,{placeholder:"",style:{width:"100%",marginTop:4},onChange:d=>{a(o,e,d)},value:r,renderSelectedItem:u,renderOptionItem:c,children:l==null?void 0:l.map((d,h)=>st.jsx(Uo.Option,{value:d.value},d.value))}),st.jsx("div",{style:{fontSize:"12px",marginTop:"2px",color:"#666"},children:s})]})}const gni=$0.div`
  width: 97%;
  padding: 3px 8px;
  margin: 2px 5px;
  border-radius: 4px;
  cursor: pointer;

  &:hover {
    background: rgba(var(--semi-blue-0), 0.5);
  }
`,mni=$0.div`
  display: flex;
  height: 100%;
  width: 100%;
`,vni=$0.div`
  height: 16px;
  width: 16px;
  border: 0;
  margin: 0;
  padding: 0;
  margin-right: 4px;
  border-radius: 4px;

  /* &:first-child {
    border-radius: 4px 0 0 4px;
  }
  &:last-child {
    border-radius: 0 4px 4px 0;
  } */
`;function yme(i){const{items:e,style:t}=i;return st.jsx(mni,{style:t,children:e.map(n=>st.jsx(vni,{style:{background:n}},n))})}const{Label:yni}=Gr;function _ni(i){const{field:e,label:t,default:n,value:r,tip:s,onChange:a,target:o,options:l}=i;return ee.useRef(),st.jsxs("div",{style:{paddingTop:"16px"},children:[st.jsx(yni,{children:t}),st.jsx(pC,{style:{marginTop:4,width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",justifyContent:"space-between"},options:l,direction:"horizontal","aria-label":s,value:r,onChange:u=>{a(o,e,u)}})]})}function bni(i){return st.jsx("div",{style:{paddingTop:"16px",borderBottom:"var(--split-line-size) solid var(--split-line-color)"}})}function Sni(){if(console&&console.warn){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const _me={};function BG(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];typeof e[0]=="string"&&_me[e[0]]||(typeof e[0]=="string"&&(_me[e[0]]=new Date),Sni(...e))}const U3e=(i,e)=>()=>{if(i.isInitialized)e();else{const t=()=>{setTimeout(()=>{i.off("initialized",t)},0),e()};i.on("initialized",t)}};function bme(i,e,t){i.loadNamespaces(e,U3e(i,t))}function Sme(i,e,t,n){typeof t=="string"&&(t=[t]),t.forEach(r=>{i.options.ns.indexOf(r)<0&&i.options.ns.push(r)}),i.loadLanguages(e,U3e(i,n))}function xni(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=e.languages[0],r=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=e.services.backendConnector.state[`${o}|${l}`];return u===-1||u===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,i)?!1:!!(e.hasResourceBundle(n,i)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(n,i)&&(!r||a(s,i)))}function wni(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(BG("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(i,{lng:t.lng,precheck:(r,s)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,i))return!1}}):xni(i,e,t)}const Cni=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,kni={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Eni=i=>kni[i],Ani=i=>i.replace(Cni,Eni);let $G={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ani};function Tni(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$G={...$G,...i}}function Pni(){return $G}let G3e;function Oni(i){G3e=i}function Mni(){return G3e}const Ini={type:"3rdParty",init(i){Tni(i.options.react),Oni(i)}},Rni=ee.createContext();class Dni{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Lni=(i,e)=>{const t=ee.useRef();return ee.useEffect(()=>{t.current=i},[i,e]),t.current};function Y3e(i,e,t,n){return i.getFixedT(e,t,n)}function Fni(i,e,t,n){return ee.useCallback(Y3e(i,e,t,n),[i,e,t,n])}function K4(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:n,defaultNS:r}=ee.useContext(Rni)||{},s=t||n||Mni();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Dni),!s){BG("You will need to pass in an i18next instance by using initReactI18next");const S=(k,E)=>typeof E=="string"?E:E&&typeof E=="object"&&typeof E.defaultValue=="string"?E.defaultValue:Array.isArray(k)?k[k.length-1]:k,C=[S,{},!1];return C.t=S,C.i18n={},C.ready=!1,C}s.options.react&&s.options.react.wait!==void 0&&BG("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...Pni(),...s.options.react,...e},{useSuspense:o,keyPrefix:l}=a;let u=r||s.options&&s.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(u);const c=(s.isInitialized||s.initializedStoreOnce)&&u.every(S=>wni(S,s,a)),d=Fni(s,e.lng||null,a.nsMode==="fallback"?u:u[0],l),h=()=>d,p=()=>Y3e(s,e.lng||null,a.nsMode==="fallback"?u:u[0],l),[f,g]=ee.useState(h);let v=u.join();e.lng&&(v=`${e.lng}${v}`);const m=Lni(v),b=ee.useRef(!0);ee.useEffect(()=>{const{bindI18n:S,bindI18nStore:C}=a;b.current=!0,!c&&!o&&(e.lng?Sme(s,e.lng,u,()=>{b.current&&g(p)}):bme(s,u,()=>{b.current&&g(p)})),c&&m&&m!==v&&b.current&&g(p);function k(){b.current&&g(p)}return S&&s&&s.on(S,k),C&&s&&s.store.on(C,k),()=>{b.current=!1,S&&s&&S.split(" ").forEach(E=>s.off(E,k)),C&&s&&C.split(" ").forEach(E=>s.store.off(E,k))}},[s,v]),ee.useEffect(()=>{b.current&&c&&g(h)},[s,l,c]);const _=[f,s,c];if(_.t=f,_.i18n=s,_.ready=c,c||!c&&!o)return _;throw new Promise(S=>{e.lng?Sme(s,e.lng,u,()=>S()):bme(s,u,()=>S())})}function K3e(i,e){if(!i)return e;const t=document.querySelector(i);return t?$c.createPortal(e,t):e}function X3e(i){const{field:e,label:t,default:n,value:r,tip:s,onChange:a,target:o,options:l,portal:u,style:c={},hide:d}=i;ee.useRef();const[h,p]=ee.useState(0);ee.useEffect(()=>{p(Date.now())},[]);const f=({value:g,...v})=>st.jsx("div",{style:{minWidth:"112",display:"flex",alignItems:"center",paddingLeft:8,marginRight:-8,borderRadius:3,fontWeight:"normal",fontSize:13,cursor:"pointer"},children:st.jsxs("div",{style:{margin:4,whiteSpace:"nowrap",textOverflow:"ellipsis",flexGrow:1,overflow:"hidden",display:"flex",alignItems:"center",...c},children:[g.map(m=>m.label).join(" , "),st.jsx(MP,{style:{margin:"0 8px",flexShrink:0,fontSize:12}})]})});return!h||d?st.jsx(st.Fragment,{}):K3e(u,st.jsx(Uo,{value:r,onChange:g=>{a(o,e,g)},triggerRender:f,optionList:l}))}function xx({condition:i,children:e}){return i?e:null}const Bni=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M9.3342 3.33346C8.96601 3.33346 8.66753 3.63194 8.66753 4.00013C8.66753 4.36832 8.96601 4.66679 9.3342 4.66679H14.6675C15.0357 4.66679 15.3342 4.36832 15.3342 4.00013C15.3342 3.63194 15.0357 3.33346 14.6675 3.33346H9.3342Z" />
  <path
    d="M10.0009 8.00013C10.0009 7.63194 10.2993 7.33346 10.6675 7.33346H14.6675C15.0357 7.33346 15.3342 7.63194 15.3342 8.00013C15.3342 8.36831 15.0357 8.66679 14.6675 8.66679H10.6675C10.2993 8.66679 10.0009 8.36831 10.0009 8.00013Z" />
  <path
    d="M12.0009 11.3335C11.6327 11.3335 11.3342 11.6319 11.3342 12.0001C11.3342 12.3683 11.6327 12.6668 12.0009 12.6668H14.6675C15.0357 12.6668 15.3342 12.3683 15.3342 12.0001C15.3342 11.6319 15.0357 11.3335 14.6675 11.3335H12.0009Z" />
  <path
    d="M9.86659 14.1484L8.23444 10.1846H3.18136C3.13868 10.1846 3.09685 10.181 3.05616 10.174L1.66589 14.1131C1.53049 14.4968 1.10971 14.698 0.726058 14.5626C0.342408 14.4272 0.141166 14.0064 0.276572 13.6228L4.37565 2.00872C4.71323 1.05226 6.05321 1.01788 6.4394 1.95576L11.2289 13.5875C11.3838 13.9637 11.2044 14.3942 10.8282 14.5491C10.452 14.704 10.0215 14.5246 9.86659 14.1484ZM5.44412 3.40816L3.57241 8.71133H7.62778L5.44412 3.40816Z" />
</svg>`,$ni=Object.freeze(Object.defineProperty({__proto__:null,default:Bni},Symbol.toStringTag,{value:"Module"})),Nni=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M4.66536 1.33301C5.03355 1.33301 5.33203 1.63148 5.33203 1.99967H10.6654C10.6654 1.63148 10.9638 1.33301 11.332 1.33301C11.7002 1.33301 11.9987 1.63148 11.9987 1.99967C12.2748 1.99967 12.8119 1.99967 13.3321 1.99967C14.0684 1.99967 14.6654 2.59663 14.6654 3.33301V13.333C14.6654 14.0694 14.0684 14.6663 13.332 14.6663H2.66536C1.92899 14.6663 1.33203 14.0694 1.33203 13.333L1.33203 3.33301C1.33203 2.59663 1.92896 1.99967 2.66534 1.99967C3.18554 1.99967 3.72257 1.99967 3.9987 1.99967C3.9987 1.63148 4.29717 1.33301 4.66536 1.33301ZM10.6654 3.33301H5.33203C5.33203 3.7012 5.03355 3.99967 4.66536 3.99967C4.29717 3.99967 3.9987 3.7012 3.9987 3.33301H2.66536V13.333H13.332V3.33301H11.9987C11.9987 3.7012 11.7002 3.99967 11.332 3.99967C10.9638 3.99967 10.6654 3.7012 10.6654 3.33301ZM5.9987 9.99967C5.9987 9.63148 5.70022 9.33301 5.33203 9.33301H4.66536C4.29717 9.33301 3.9987 9.63149 3.9987 9.99967V10.6663C3.9987 11.0345 4.29717 11.333 4.66536 11.333H5.33203C5.70022 11.333 5.9987 11.0345 5.9987 10.6663V9.99967ZM6.9987 6.66634C6.9987 6.29815 7.29718 5.99967 7.66536 5.99967H8.33203C8.70022 5.99967 8.9987 6.29815 8.9987 6.66634V7.33301C8.9987 7.7012 8.70022 7.99967 8.33203 7.99967H7.66536C7.29717 7.99967 6.9987 7.7012 6.9987 7.33301V6.66634ZM8.9987 9.99967C8.9987 9.63148 8.70022 9.33301 8.33203 9.33301H7.66536C7.29717 9.33301 6.9987 9.63149 6.9987 9.99967V10.6663C6.9987 11.0345 7.29718 11.333 7.66536 11.333H8.33203C8.70022 11.333 8.9987 11.0345 8.9987 10.6663V9.99967ZM9.9987 9.99967C9.9987 9.63148 10.2972 9.33301 10.6654 9.33301H11.332C11.7002 9.33301 11.9987 9.63149 11.9987 9.99967V10.6663C11.9987 11.0345 11.7002 11.333 11.332 11.333H10.6654C10.2972 11.333 9.9987 11.0345 9.9987 10.6663V9.99967ZM11.9987 6.66634C11.9987 6.29815 11.7002 5.99967 11.332 5.99967H10.6654C10.2972 5.99967 9.9987 6.29815 9.9987 6.66634V7.33301C9.9987 7.7012 10.2972 7.99967 10.6654 7.99967H11.332C11.7002 7.99967 11.9987 7.7012 11.9987 7.33301V6.66634Z" />
</svg>`,jni=Object.freeze(Object.defineProperty({__proto__:null,default:Nni},Symbol.toStringTag,{value:"Module"})),zni=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M4.66536 1.33301C5.03355 1.33301 5.33203 1.63148 5.33203 1.99967H10.6654C10.6654 1.63148 10.9638 1.33301 11.332 1.33301C11.7002 1.33301 11.9987 1.63148 11.9987 1.99967C12.2748 1.99967 12.8119 1.99967 13.3321 1.99967C14.0684 1.99967 14.6654 2.59663 14.6654 3.33301V13.333C14.6654 14.0694 14.0684 14.6663 13.332 14.6663H2.66536C1.92899 14.6663 1.33203 14.0694 1.33203 13.333L1.33203 3.33301C1.33203 2.59663 1.92896 1.99967 2.66534 1.99967C3.18554 1.99967 3.72257 1.99967 3.9987 1.99967C3.9987 1.63148 4.29717 1.33301 4.66536 1.33301ZM10.6654 3.33301H5.33203C5.33203 3.7012 5.03355 3.99967 4.66536 3.99967C4.29717 3.99967 3.9987 3.7012 3.9987 3.33301H2.66536V13.333H13.332V3.33301H11.9987C11.9987 3.7012 11.7002 3.99967 11.332 3.99967C10.9638 3.99967 10.6654 3.7012 10.6654 3.33301ZM5.9987 9.99967C5.9987 9.63148 5.70022 9.33301 5.33203 9.33301H4.66536C4.29717 9.33301 3.9987 9.63149 3.9987 9.99967V10.6663C3.9987 11.0345 4.29717 11.333 4.66536 11.333H5.33203C5.70022 11.333 5.9987 11.0345 5.9987 10.6663V9.99967ZM6.9987 6.66634C6.9987 6.29815 7.29718 5.99967 7.66536 5.99967H8.33203C8.70022 5.99967 8.9987 6.29815 8.9987 6.66634V7.33301C8.9987 7.7012 8.70022 7.99967 8.33203 7.99967H7.66536C7.29717 7.99967 6.9987 7.7012 6.9987 7.33301V6.66634ZM8.9987 9.99967C8.9987 9.63148 8.70022 9.33301 8.33203 9.33301H7.66536C7.29717 9.33301 6.9987 9.63149 6.9987 9.99967V10.6663C6.9987 11.0345 7.29718 11.333 7.66536 11.333H8.33203C8.70022 11.333 8.9987 11.0345 8.9987 10.6663V9.99967ZM9.9987 9.99967C9.9987 9.63148 10.2972 9.33301 10.6654 9.33301H11.332C11.7002 9.33301 11.9987 9.63149 11.9987 9.99967V10.6663C11.9987 11.0345 11.7002 11.333 11.332 11.333H10.6654C10.2972 11.333 9.9987 11.0345 9.9987 10.6663V9.99967ZM11.9987 6.66634C11.9987 6.29815 11.7002 5.99967 11.332 5.99967H10.6654C10.2972 5.99967 9.9987 6.29815 9.9987 6.66634V7.33301C9.9987 7.7012 10.2972 7.99967 10.6654 7.99967H11.332C11.7002 7.99967 11.9987 7.7012 11.9987 7.33301V6.66634Z" />
</svg>`,Hni=Object.freeze(Object.defineProperty({__proto__:null,default:zni},Symbol.toStringTag,{value:"Module"})),Vni=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M6 8.66634H10C11.8409 8.66634 14 9.95205 14 12.2663V13.333C14 14.0663 13.4 14.6663 12.6667 14.6663H3.33333C2.6 14.6663 2 14.0663 2 13.333V12.2663C2 9.95399 4.15905 8.66634 6 8.66634ZM12.6667 13.333V12.2219C12.6667 10.8209 11.2473 9.99967 10 9.99967H6C4.77998 9.99967 3.33333 10.7808 3.33333 12.2219V13.333H12.6667ZM8 7.99967C6.15905 7.99967 4.66667 6.50729 4.66667 4.66634C4.66667 2.82539 6.15905 1.33301 8 1.33301C9.84095 1.33301 11.3333 2.82539 11.3333 4.66634C11.3333 6.50729 9.84095 7.99967 8 7.99967ZM8 6.66634C9.10457 6.66634 10 5.77091 10 4.66634C10 3.56177 9.10457 2.66634 8 2.66634C6.89543 2.66634 6 3.56177 6 4.66634C6 5.77091 6.89543 6.66634 8 6.66634Z" />
</svg>`,Wni=Object.freeze(Object.defineProperty({__proto__:null,default:Vni},Symbol.toStringTag,{value:"Module"})),Uni=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M6 8.66634H10C11.8409 8.66634 14 9.95205 14 12.2663V13.333C14 14.0663 13.4 14.6663 12.6667 14.6663H3.33333C2.6 14.6663 2 14.0663 2 13.333V12.2663C2 9.95399 4.15905 8.66634 6 8.66634ZM12.6667 13.333V12.2219C12.6667 10.8209 11.2473 9.99967 10 9.99967H6C4.77998 9.99967 3.33333 10.7808 3.33333 12.2219V13.333H12.6667ZM8 7.99967C6.15905 7.99967 4.66667 6.50729 4.66667 4.66634C4.66667 2.82539 6.15905 1.33301 8 1.33301C9.84095 1.33301 11.3333 2.82539 11.3333 4.66634C11.3333 6.50729 9.84095 7.99967 8 7.99967ZM8 6.66634C9.10457 6.66634 10 5.77091 10 4.66634C10 3.56177 9.10457 2.66634 8 2.66634C6.89543 2.66634 6 3.56177 6 4.66634C6 5.77091 6.89543 6.66634 8 6.66634Z" />
</svg>`,Gni=Object.freeze(Object.defineProperty({__proto__:null,default:Uni},Symbol.toStringTag,{value:"Module"})),Yni=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M2.06497 4.99995V2.54964L1.678 2.82322C1.40742 3.01451 1.033 2.95023 0.841708 2.67965C0.650416 2.40907 0.714692 2.03465 0.985272 1.84336L2.00315 1.12375C2.53303 0.749141 3.26497 1.12807 3.26497 1.77699V4.99995C3.26497 5.33132 2.99634 5.59995 2.66497 5.59995C2.3336 5.59995 2.06497 5.33132 2.06497 4.99995Z" />
  <path
    d="M2.66486 7.39063C2.29667 7.39063 1.99819 7.6891 1.99819 8.05729V11.3333H0.91196C0.654697 11.3333 0.494406 11.6123 0.624034 11.8345L2.37702 14.8397C2.50565 15.0602 2.82425 15.0602 2.95287 14.8397L4.70586 11.8345C4.83549 11.6123 4.6752 11.3333 4.41794 11.3333H3.33152V8.05729C3.33152 7.6891 3.03305 7.39063 2.66486 7.39063Z" />
  <path
    d="M6.66486 12.724C6.29667 12.724 5.99819 13.0224 5.99819 13.3906C5.99819 13.7588 6.29667 14.0573 6.66486 14.0573H14.6649C15.033 14.0573 15.3315 13.7588 15.3315 13.3906C15.3315 13.0224 15.033 12.724 14.6649 12.724H6.66486Z" />
  <path
    d="M5.99819 8.05729C5.99819 7.6891 6.29667 7.39063 6.66486 7.39063H14.6649C15.033 7.39063 15.3315 7.6891 15.3315 8.05729C15.3315 8.42548 15.033 8.72396 14.6649 8.72396H6.66486C6.29667 8.72396 5.99819 8.42548 5.99819 8.05729Z" />
  <path
    d="M6.66486 2C6.29667 2 5.99819 2.29848 5.99819 2.66667C5.99819 3.03486 6.29667 3.33333 6.66486 3.33333H14.6649C15.033 3.33333 15.3315 3.03486 15.3315 2.66667C15.3315 2.29848 15.033 2 14.6649 2H6.66486Z" />
</svg>`,Kni=Object.freeze(Object.defineProperty({__proto__:null,default:Yni},Symbol.toStringTag,{value:"Module"})),Xni=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M6 8.66634H10C11.8409 8.66634 14 9.95205 14 12.2663V13.333C14 14.0663 13.4 14.6663 12.6667 14.6663H3.33333C2.6 14.6663 2 14.0663 2 13.333V12.2663C2 9.95399 4.15905 8.66634 6 8.66634ZM12.6667 13.333V12.2219C12.6667 10.8209 11.2473 9.99967 10 9.99967H6C4.77998 9.99967 3.33333 10.7808 3.33333 12.2219V13.333H12.6667ZM8 7.99967C6.15905 7.99967 4.66667 6.50729 4.66667 4.66634C4.66667 2.82539 6.15905 1.33301 8 1.33301C9.84095 1.33301 11.3333 2.82539 11.3333 4.66634C11.3333 6.50729 9.84095 7.99967 8 7.99967ZM8 6.66634C9.10457 6.66634 10 5.77091 10 4.66634C10 3.56177 9.10457 2.66634 8 2.66634C6.89543 2.66634 6 3.56177 6 4.66634C6 5.77091 6.89543 6.66634 8 6.66634Z" />
</svg>`,qni=Object.freeze(Object.defineProperty({__proto__:null,default:Xni},Symbol.toStringTag,{value:"Module"})),Zni=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M10.8954 10.2208C10.4116 10.6037 9.52623 10.9495 8.63801 10.4657C8.09371 10.1692 7.52488 9.68643 6.94736 9.10891C6.36785 8.52939 5.88335 7.95827 5.58699 7.41164C5.10933 6.53061 5.4476 5.65304 5.82276 5.17097L5.96608 4.98682L4.849 2.38054L2.50419 3.34605C2.60371 5.18739 3.12161 7.73445 5.72171 10.3346C8.32182 12.9347 10.8689 13.4526 12.7102 13.5521L13.6762 11.2062L11.067 10.085L10.8954 10.2208ZM1.97475 2.12211L4.34134 1.14763C5.01537 0.870092 5.78735 1.18528 6.07451 1.85527L7.19159 4.46156C7.38283 4.90774 7.31646 5.42261 7.01831 5.80571L6.875 5.98986C6.69645 6.21929 6.62057 6.52057 6.75913 6.77614C6.96353 7.15316 7.34055 7.61647 7.89017 8.1661C8.43769 8.71362 8.89957 9.08985 9.2758 9.29478C9.5336 9.43521 9.83777 9.35745 10.068 9.17528L10.2396 9.03948C10.6236 8.73555 11.1434 8.66664 11.5934 8.85999L14.2026 9.98113C14.8719 10.2687 15.1864 11.0402 14.9091 11.7138L13.9342 14.0815C13.7284 14.5811 13.2418 14.9136 12.7022 14.8868C10.6247 14.7834 7.70181 14.2003 4.7789 11.2774C1.856 8.35446 1.27283 5.43155 1.16948 3.35406C1.14264 2.81443 1.47515 2.32783 1.97475 2.12211Z" />
</svg>`,Qni=Object.freeze(Object.defineProperty({__proto__:null,default:Zni},Symbol.toStringTag,{value:"Module"})),Jni=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M8.64844 5.66788C8.94919 5.79387 9.23732 5.96415 9.50351 6.17971C11.0122 7.40146 11.2449 9.61494 10.0231 11.1237L8.03219 13.5823C6.81045 15.091 4.59696 15.3237 3.08823 14.1019C1.5795 12.8802 1.34685 10.6667 2.5686 9.15796L4.47281 6.80646L4.53349 7.38387C4.57618 7.78996 4.71535 8.16256 4.92584 8.48127L3.66132 10.0428C2.92827 10.9481 3.06786 12.2762 3.9731 13.0092C4.87833 13.7423 6.20643 13.6027 6.93947 12.6974L8.93042 10.2388C9.66347 9.33357 9.52388 8.00548 8.61864 7.27243C8.34164 7.04811 8.02504 6.90551 7.69801 6.84155L8.64844 5.66788ZM7.58846 10.1003C7.2877 9.97435 6.99957 9.80407 6.73338 9.58851C5.22465 8.36677 4.99201 6.15328 6.21375 4.64455L8.2047 2.18593C9.42645 0.6772 11.6399 0.444552 13.1487 1.6663C14.6574 2.88804 14.89 5.10153 13.6683 6.61026L11.7641 8.96176L11.7034 8.38435C11.6607 7.97826 11.5215 7.60566 11.3111 7.28695L12.5756 5.7254C13.3086 4.82016 13.169 3.49206 12.2638 2.75902C11.3586 2.02597 10.0305 2.16556 9.29742 3.0708L7.30647 5.52941C6.57342 6.43465 6.71301 7.76274 7.61825 8.49579C7.89525 8.72011 8.21185 8.86271 8.53888 8.92667L7.58846 10.1003Z" />
</svg>`,eri=Object.freeze(Object.defineProperty({__proto__:null,default:Jni},Symbol.toStringTag,{value:"Module"})),tri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M8.20252 4.8767C8.46287 4.61635 8.88507 4.61644 9.14542 4.87679C9.40577 5.13714 9.40585 5.55936 9.14549 5.8197L5.41993 9.54496C5.23429 9.73062 5.13 9.98242 5.13 10.245C5.13 10.5075 5.23429 10.7593 5.41993 10.945L5.42726 10.9523C5.61511 11.1384 5.86902 11.2425 6.13345 11.2419C6.39788 11.2413 6.6513 11.136 6.83826 10.949L11.7916 5.99563C12.0083 5.77896 12.1802 5.52172 12.2975 5.23861C12.4147 4.95551 12.4751 4.65207 12.4751 4.34563C12.4751 4.03919 12.4147 3.73576 12.2975 3.45265C12.1802 3.16954 12.0083 2.9123 11.7916 2.69563L11.7673 2.67096C11.5506 2.45427 11.2934 2.28237 11.0102 2.1651C10.7271 2.04782 10.4237 1.98746 10.1173 1.98746C9.81082 1.98746 9.50739 2.04782 9.22428 2.1651C8.94117 2.28237 8.68393 2.45427 8.46726 2.67096L3.28226 7.85596C1.84493 9.29363 1.84493 11.624 3.28226 13.0613C4.71993 14.499 7.05026 14.499 8.48759 13.0613L13.2012 8.3477C13.4615 8.08735 13.8837 8.08745 14.1441 8.3478C14.4044 8.60815 14.4045 9.03035 14.1442 9.2907L9.4306 14.0043C7.4726 15.9623 4.29759 15.9623 2.33959 14.0043C0.381594 12.046 0.381594 8.8713 2.33959 6.9133L7.52459 1.7283C8.95659 0.296297 11.2779 0.296297 12.7099 1.7283L12.7346 1.75296C14.1666 3.18463 14.1666 5.5063 12.7346 6.9383L7.78126 11.8916C7.34504 12.328 6.75375 12.5738 6.13675 12.5753C5.51974 12.5768 4.92726 12.3339 4.48893 11.8996L4.48493 11.8956L4.47693 11.888C4.04122 11.4523 3.79645 10.8613 3.79645 10.2451C3.79645 9.62895 4.04122 9.03801 4.47693 8.6023L8.20252 4.8767Z" />
</svg>`,iri=Object.freeze(Object.defineProperty({__proto__:null,default:tri},Symbol.toStringTag,{value:"Module"})),nri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M2.66536 0.666992C1.92898 0.666992 1.33203 1.26395 1.33203 2.00033V10.667C1.33203 11.4034 1.92898 12.0003 2.66536 12.0003H9.33203C10.0684 12.0003 10.6654 11.4034 10.6654 10.667V2.00033C10.6654 1.26395 10.0684 0.666992 9.33203 0.666992H2.66536ZM9.33203 2.00033V10.667H2.66536L2.66536 2.00033H9.33203Z" />
  <path
    d="M15.3197 11.009C15.3278 10.9802 15.3321 10.9498 15.3321 10.9181V7.66699C15.3321 7.34665 14.9243 7.21072 14.7321 7.46699L12.6421 10.2537C12.4968 10.4474 12.6001 10.7265 12.8365 10.7791L13.9788 11.0329C13.7966 12.7017 12.3826 14.0003 10.6654 14.0003H8.9987C8.63051 14.0003 8.33203 14.2988 8.33203 14.667C8.33203 15.0352 8.63051 15.3337 8.9987 15.3337H10.6654C13.1277 15.3337 15.1446 13.4266 15.3197 11.009Z" />
</svg>`,rri=Object.freeze(Object.defineProperty({__proto__:null,default:nri},Symbol.toStringTag,{value:"Module"})),sri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M13.332 2.66634H2.66536V13.333H7.33203V14.6663H2.66536C1.92899 14.6663 1.33203 14.0694 1.33203 13.333V2.66634C1.33203 1.92996 1.92898 1.33301 2.66536 1.33301H13.332C14.0684 1.33301 14.6654 1.92996 14.6654 2.66634V6.66634H13.332V2.66634Z" />
  <path
    d="M4.66536 4.33301C4.29717 4.33301 3.9987 4.63148 3.9987 4.99967C3.9987 5.36786 4.29718 5.66634 4.66536 5.66634H9.9987C10.3669 5.66634 10.6654 5.36786 10.6654 4.99967C10.6654 4.63148 10.3669 4.33301 9.9987 4.33301H4.66536Z" />
  <path
    d="M3.9987 7.66634C3.9987 7.29815 4.29717 6.99967 4.66536 6.99967H6.9987C7.36689 6.99967 7.66536 7.29815 7.66536 7.66634C7.66536 8.03453 7.36689 8.33301 6.9987 8.33301H4.66536C4.29717 8.33301 3.9987 8.03453 3.9987 7.66634Z" />
  <path
    d="M4.66536 9.66634C4.29717 9.66634 3.9987 9.96482 3.9987 10.333C3.9987 10.7012 4.29717 10.9997 4.66536 10.9997H6.33203C6.70022 10.9997 6.9987 10.7012 6.9987 10.333C6.9987 9.96482 6.70022 9.66634 6.33203 9.66634H4.66536Z" />
  <path
    d="M13.958 12.7197C14.4012 12.1538 14.6654 11.4409 14.6654 10.6663C14.6654 8.82539 13.173 7.33301 11.332 7.33301C9.49108 7.33301 7.9987 8.82539 7.9987 10.6663C7.9987 12.5073 9.49108 13.9997 11.332 13.9997C11.9165 13.9997 12.4658 13.8492 12.9434 13.585L14.0752 14.887C14.3168 15.1649 14.7379 15.1943 15.0158 14.9527C15.2936 14.7112 15.3231 14.2901 15.0815 14.0122L13.958 12.7197ZM11.332 12.6663C10.2275 12.6663 9.33203 11.7709 9.33203 10.6663C9.33203 9.56177 10.2275 8.66634 11.332 8.66634C12.4366 8.66634 13.332 9.56177 13.332 10.6663C13.332 11.7709 12.4366 12.6663 11.332 12.6663Z" />
</svg>`,ari=Object.freeze(Object.defineProperty({__proto__:null,default:sri},Symbol.toStringTag,{value:"Module"})),ori=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M5.85044 1.42649C6.21505 1.47773 6.46908 1.81485 6.41784 2.17945L6.16192 4.00039H10.8155L11.0975 1.99389C11.1487 1.62928 11.4858 1.37525 11.8504 1.42649C12.215 1.47773 12.4691 1.81485 12.4178 2.17945L12.1619 4.00039H14.668C15.0362 4.00039 15.3346 4.29887 15.3346 4.66706C15.3346 5.03525 15.0362 5.33373 14.668 5.33373H11.9745L11.3187 10.0004H13.3346C13.7028 10.0004 14.0013 10.2989 14.0013 10.6671C14.0013 11.0353 13.7028 11.3337 13.3346 11.3337H11.1313L10.7478 14.0627C10.6965 14.4273 10.3594 14.6813 9.9948 14.6301C9.63019 14.5788 9.37616 14.2417 9.4274 13.8771L9.78485 11.3337H5.13129L4.74776 14.0627C4.69652 14.4273 4.35941 14.6813 3.9948 14.6301C3.63019 14.5788 3.37616 14.2417 3.4274 13.8771L3.78485 11.3337H1.33464C0.966446 11.3337 0.667969 11.0353 0.667969 10.6671C0.667969 10.2989 0.966446 10.0004 1.33464 10.0004H3.97224L4.6281 5.33373H2.66797C2.29978 5.33373 2.0013 5.03525 2.0013 4.66706C2.0013 4.29887 2.29978 4.00039 2.66797 4.00039H4.81548L5.09748 1.99389C5.14872 1.62928 5.48583 1.37525 5.85044 1.42649ZM9.97224 10.0004L10.6281 5.33373H5.97453L5.31868 10.0004H9.97224Z" />
</svg>`,lri=Object.freeze(Object.defineProperty({__proto__:null,default:ori},Symbol.toStringTag,{value:"Module"})),uri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M7.33464 4.33301C7.33464 2.67373 8.68674 1.33301 10.3412 1.33301C11.9884 1.33301 13.3346 2.6679 13.3346 4.31999V4.33301C13.3346 4.7012 13.0362 4.99967 12.668 4.99967C12.2998 4.99967 12.0013 4.7012 12.0013 4.33301V4.31999C12.0013 3.40913 11.2569 2.66634 10.3412 2.66634C9.41826 2.66634 8.66797 3.41496 8.66797 4.33301V6.66634H11.3346C11.7028 6.66634 12.0013 6.96482 12.0013 7.33301C12.0013 7.7012 11.7028 7.99967 11.3346 7.99967H8.66797V11.6663C8.66797 13.3256 7.31587 14.6663 5.66144 14.6663C4.0142 14.6663 2.66797 13.3314 2.66797 11.6794V11.6663C2.66797 11.2982 2.96645 10.9997 3.33464 10.9997C3.70283 10.9997 4.0013 11.2982 4.0013 11.6663V11.6794C4.0013 12.5902 4.74573 13.333 5.66144 13.333C6.58434 13.333 7.33464 12.5844 7.33464 11.6663L7.33464 7.99967H5.33464C4.96645 7.99967 4.66797 7.7012 4.66797 7.33301C4.66797 6.96482 4.96645 6.66634 5.33464 6.66634H7.33464V4.33301Z" />
</svg>`,cri=Object.freeze(Object.defineProperty({__proto__:null,default:uri},Symbol.toStringTag,{value:"Module"})),dri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M7.9987 2.66634C7.9987 1.92996 8.59565 1.33301 9.33203 1.33301H13.332C14.0684 1.33301 14.6654 1.92996 14.6654 2.66634V6.66634C14.6654 7.40272 14.0684 7.99967 13.332 7.99967H9.33203C8.59565 7.99967 7.9987 7.40272 7.9987 6.66634V2.66634ZM9.33203 2.66634V6.66634H13.332V2.66634H9.33203Z" />
  <path
    d="M1.33203 9.33301C1.33203 8.59663 1.92898 7.99967 2.66536 7.99967H6.66536C7.40174 7.99967 7.9987 8.59663 7.9987 9.33301V13.333C7.9987 14.0694 7.40174 14.6663 6.66536 14.6663H2.66536C1.92898 14.6663 1.33203 14.0694 1.33203 13.333V9.33301ZM2.66536 9.33301L2.66536 13.333H6.66536V9.33301H2.66536Z" />
  <path
    d="M13.9987 9.99475L13.9987 9.99967V11.333C13.9987 13.174 12.5063 14.6663 10.6654 14.6663H9.9987C9.63051 14.6663 9.33203 14.3679 9.33203 13.9997C9.33203 13.6315 9.63051 13.333 9.9987 13.333H10.6654C11.7078 13.333 12.564 12.5355 12.657 11.5173L11.688 11.4096C11.4102 11.3787 11.2915 11.0402 11.4891 10.8426L13.4296 8.90205C13.6396 8.69206 13.9987 8.84079 13.9987 9.13775V9.99475Z" />
  <path
    d="M1.99866 6.01276C1.99858 6.00841 1.99854 6.00405 1.99854 5.99967L1.99854 4.66634C1.99854 2.82539 3.49092 1.33301 5.33187 1.33301H5.99854C6.36673 1.33301 6.6652 1.63148 6.6652 1.99967C6.6652 2.36786 6.36673 2.66634 5.99854 2.66634H5.33187C4.29448 2.66634 3.44156 3.45617 3.34165 4.46728L4.58173 4.5913C4.86975 4.62011 4.98669 4.97711 4.77154 5.17075L2.55498 7.16565C2.34048 7.35871 1.99866 7.20647 1.99866 6.91788L1.99866 6.01276Z" />
</svg>`,hri=Object.freeze(Object.defineProperty({__proto__:null,default:dri},Symbol.toStringTag,{value:"Module"})),pri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M7.6407 15.2074C7.8576 15.3528 8.1408 15.353 8.35785 15.2078C12.415 12.494 14.4436 9.78027 14.4436 7.06652C14.4436 3.50735 11.5583 0.62207 7.99913 0.62207C4.43996 0.62207 1.55469 3.50735 1.55469 7.06652C1.55469 9.77363 3.58336 12.4873 7.6407 15.2074ZM7.99913 1.91096C10.8465 1.91096 13.1547 4.21918 13.1547 7.06652C13.1547 9.1885 11.4913 11.4827 7.99996 13.8928C4.50763 11.477 2.84358 9.18223 2.84358 7.06652C2.84358 4.21918 5.1518 1.91096 7.99913 1.91096ZM7.99913 9.64429C9.4228 9.64429 10.5769 8.49018 10.5769 7.06652C10.5769 5.64285 9.4228 4.48874 7.99913 4.48874C6.57546 4.48874 5.42135 5.64285 5.42135 7.06652C5.42135 8.49018 6.57546 9.64429 7.99913 9.64429ZM9.28802 7.06652C9.28802 7.77835 8.71097 8.3554 7.99913 8.3554C7.2873 8.3554 6.71024 7.77835 6.71024 7.06652C6.71024 6.35468 7.2873 5.77763 7.99913 5.77763C8.71097 5.77763 9.28802 6.35468 9.28802 7.06652Z" />
</svg>`,fri=Object.freeze(Object.defineProperty({__proto__:null,default:pri},Symbol.toStringTag,{value:"Module"})),gri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M5.66536 3.00033C4.74536 3.00033 3.9987 3.74666 3.9987 4.66699C3.9987 5.58733 4.74536 6.33366 5.66536 6.33366C6.58536 6.33366 7.33203 5.58733 7.33203 4.66699C7.33203 3.74666 6.58536 3.00033 5.66536 3.00033ZM2.66536 4.66699C2.66536 3.00999 4.0087 1.66699 5.66536 1.66699C7.32203 1.66699 8.66536 3.00999 8.66536 4.66699C8.66536 6.32399 7.32203 7.66699 5.66536 7.66699C4.0087 7.66699 2.66536 6.32399 2.66536 4.66699ZM3.8887 9.66699C2.67536 9.66699 1.66536 10.666 1.66536 11.9337V13.0003H9.66536V11.9337C9.66536 10.666 8.65536 9.66699 7.44203 9.66699H3.8887ZM0.332031 11.9337C0.332031 9.94532 1.92536 8.33366 3.8887 8.33366H7.44203C9.40536 8.33366 10.9987 9.94532 10.9987 11.9337V13.0003C10.9987 13.7337 10.3987 14.3337 9.66536 14.3337H1.66536C0.932031 14.3337 0.332031 13.7337 0.332031 13.0003V11.9337ZM14.9987 13.667H12.242V13.3943V12.3337H14.332V11.9337C14.332 11.2657 13.7687 10.667 12.9987 10.667H12.1254C11.9987 10.1743 11.772 9.72233 11.4687 9.33366H12.9987C14.472 9.33366 15.6654 10.4977 15.6654 11.9337L15.6654 13.0003C15.6819 13.3573 15.3383 13.6797 14.9987 13.667ZM10.9987 6.33366C10.9987 5.96533 11.2987 5.66699 11.6654 5.66699C12.032 5.66699 12.332 5.96533 12.332 6.33366C12.332 6.70199 12.032 7.00033 11.6654 7.00033C11.2987 7.00033 10.9987 6.70199 10.9987 6.33366ZM11.6654 4.33366C10.562 4.33366 9.66536 5.22899 9.66536 6.33366C9.66536 7.43832 10.562 8.33366 11.6654 8.33366C12.7687 8.33366 13.6654 7.43832 13.6654 6.33366C13.6654 5.22899 12.7687 4.33366 11.6654 4.33366Z" />
</svg>`,mri=Object.freeze(Object.defineProperty({__proto__:null,default:gri},Symbol.toStringTag,{value:"Module"})),vri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M5.17151 7.7721C4.91219 7.51105 4.91239 7.08883 5.17257 6.82864C5.43276 6.56845 5.85499 6.56825 6.11518 6.82844L8.00112 8.71437L9.88683 6.82866C10.1471 6.56838 10.5691 6.56859 10.8294 6.82887C11.0897 7.08915 11.0899 7.51118 10.8305 7.77232C10.043 8.56499 9.25976 9.36275 8.46225 10.1452C8.20596 10.3966 7.79627 10.3966 7.53998 10.1452C6.74239 9.36267 5.95904 8.56484 5.17151 7.7721Z" />
  <path
    d="M8.0013 15.3337C3.95121 15.3337 0.667969 12.0504 0.667969 8.00033C0.667969 3.95024 3.95121 0.666992 8.0013 0.666992C12.0514 0.666992 15.3346 3.95024 15.3346 8.00033C15.3346 12.0504 12.0514 15.3337 8.0013 15.3337ZM8.0013 14.0003C11.315 14.0003 14.0013 11.314 14.0013 8.00033C14.0013 4.68662 11.315 2.00033 8.0013 2.00033C4.68759 2.00033 2.0013 4.68662 2.0013 8.00033C2.0013 11.314 4.68759 14.0003 8.0013 14.0003Z" />
</svg>`,yri=Object.freeze(Object.defineProperty({__proto__:null,default:vri},Symbol.toStringTag,{value:"Module"})),_ri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M4.4701 2.47108C4.73045 2.21073 4.73045 1.78862 4.4701 1.52827C4.20975 1.26792 3.78764 1.26792 3.52729 1.52827L1.9987 3.05687L1.4701 2.52827C1.20975 2.26792 0.787643 2.26792 0.527293 2.52827C0.266944 2.78862 0.266944 3.21073 0.527293 3.47108L1.52729 4.47108C1.78764 4.73143 2.20975 4.73143 2.4701 4.47108L4.4701 2.47108Z" />
  <path
    d="M6.66536 1.99967C6.29718 1.99967 5.9987 2.29815 5.9987 2.66634C5.9987 3.03453 6.29717 3.33301 6.66536 3.33301H14.6654C15.0336 3.33301 15.332 3.03453 15.332 2.66634C15.332 2.29815 15.0336 1.99967 14.6654 1.99967H6.66536Z" />
  <path
    d="M6.66536 7.33301C6.29718 7.33301 5.9987 7.63148 5.9987 7.99967C5.9987 8.36786 6.29717 8.66634 6.66536 8.66634H14.6654C15.0336 8.66634 15.332 8.36786 15.332 7.99967C15.332 7.63148 15.0336 7.33301 14.6654 7.33301H6.66536Z" />
  <path
    d="M6.66536 12.6663C6.29718 12.6663 5.9987 12.9648 5.9987 13.333C5.9987 13.7012 6.29717 13.9997 6.66536 13.9997H14.6654C15.0336 13.9997 15.332 13.7012 15.332 13.333C15.332 12.9648 15.0336 12.6663 14.6654 12.6663H6.66536Z" />
  <path
    d="M4.4701 12.4711C4.73045 12.2107 4.73045 11.7886 4.4701 11.5283C4.20975 11.2679 3.78764 11.2679 3.52729 11.5283L1.9987 13.0569L1.4701 12.5283C1.20975 12.2679 0.787643 12.2679 0.527293 12.5283C0.266944 12.7886 0.266944 13.2107 0.527293 13.4711L1.52729 14.4711C1.78764 14.7314 2.20975 14.7314 2.4701 14.4711L4.4701 12.4711Z" />
  <path
    d="M4.4701 6.52827C4.73045 6.78862 4.73045 7.21073 4.4701 7.47108L2.4701 9.47108C2.20975 9.73143 1.78764 9.73143 1.52729 9.47108L0.527293 8.47108C0.266944 8.21073 0.266944 7.78862 0.527293 7.52827C0.787643 7.26792 1.20975 7.26792 1.4701 7.52827L1.9987 8.05687L3.52729 6.52827C3.78764 6.26792 4.20975 6.26792 4.4701 6.52827Z" />
</svg>`,bri=Object.freeze(Object.defineProperty({__proto__:null,default:_ri},Symbol.toStringTag,{value:"Module"})),Sri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M4.66536 1.33301C5.03355 1.33301 5.33203 1.63148 5.33203 1.99967H10.6654C10.6654 1.63148 10.9638 1.33301 11.332 1.33301C11.7002 1.33301 11.9987 1.63148 11.9987 1.99967C12.2748 1.99967 12.8119 1.99967 13.3321 1.99967C14.0684 1.99967 14.6654 2.59663 14.6654 3.33301V13.333C14.6654 14.0694 14.0684 14.6663 13.332 14.6663H2.66536C1.92899 14.6663 1.33203 14.0694 1.33203 13.333L1.33203 3.33301C1.33203 2.59663 1.92896 1.99967 2.66534 1.99967C3.18554 1.99967 3.72257 1.99967 3.9987 1.99967C3.9987 1.63148 4.29717 1.33301 4.66536 1.33301ZM10.6654 3.33301H5.33203C5.33203 3.7012 5.03355 3.99967 4.66536 3.99967C4.29717 3.99967 3.9987 3.7012 3.9987 3.33301H2.66536V13.333H13.332V3.33301H11.9987C11.9987 3.7012 11.7002 3.99967 11.332 3.99967C10.9638 3.99967 10.6654 3.7012 10.6654 3.33301ZM5.9987 9.99967C5.9987 9.63148 5.70022 9.33301 5.33203 9.33301H4.66536C4.29717 9.33301 3.9987 9.63149 3.9987 9.99967V10.6663C3.9987 11.0345 4.29717 11.333 4.66536 11.333H5.33203C5.70022 11.333 5.9987 11.0345 5.9987 10.6663V9.99967ZM6.9987 6.66634C6.9987 6.29815 7.29718 5.99967 7.66536 5.99967H8.33203C8.70022 5.99967 8.9987 6.29815 8.9987 6.66634V7.33301C8.9987 7.7012 8.70022 7.99967 8.33203 7.99967H7.66536C7.29717 7.99967 6.9987 7.7012 6.9987 7.33301V6.66634ZM8.9987 9.99967C8.9987 9.63148 8.70022 9.33301 8.33203 9.33301H7.66536C7.29717 9.33301 6.9987 9.63149 6.9987 9.99967V10.6663C6.9987 11.0345 7.29718 11.333 7.66536 11.333H8.33203C8.70022 11.333 8.9987 11.0345 8.9987 10.6663V9.99967ZM9.9987 9.99967C9.9987 9.63148 10.2972 9.33301 10.6654 9.33301H11.332C11.7002 9.33301 11.9987 9.63149 11.9987 9.99967V10.6663C11.9987 11.0345 11.7002 11.333 11.332 11.333H10.6654C10.2972 11.333 9.9987 11.0345 9.9987 10.6663V9.99967ZM11.9987 6.66634C11.9987 6.29815 11.7002 5.99967 11.332 5.99967H10.6654C10.2972 5.99967 9.9987 6.29815 9.9987 6.66634V7.33301C9.9987 7.7012 10.2972 7.99967 10.6654 7.99967H11.332C11.7002 7.99967 11.9987 7.7012 11.9987 7.33301V6.66634Z" />
</svg>`,xri=Object.freeze(Object.defineProperty({__proto__:null,default:Sri},Symbol.toStringTag,{value:"Module"})),wri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M11.4701 6.80441C11.7305 6.54406 11.7305 6.12195 11.4701 5.8616C11.2098 5.60125 10.7876 5.60125 10.5273 5.8616L7.33203 9.05687L5.80344 7.52827C5.54309 7.26792 5.12098 7.26792 4.86063 7.52827C4.60028 7.78862 4.60028 8.21073 4.86063 8.47108L6.86063 10.4711C7.12098 10.7314 7.54309 10.7314 7.80344 10.4711L11.4701 6.80441Z" />
  <path
    d="M1.33203 2.66634C1.33203 1.92996 1.92898 1.33301 2.66536 1.33301H13.332C14.0684 1.33301 14.6654 1.92996 14.6654 2.66634V13.333C14.6654 14.0694 14.0684 14.6663 13.332 14.6663H2.66536C1.92899 14.6663 1.33203 14.0694 1.33203 13.333V2.66634ZM2.66536 2.66634V13.333H13.332V2.66634H2.66536Z" />
</svg>`,Cri=Object.freeze(Object.defineProperty({__proto__:null,default:wri},Symbol.toStringTag,{value:"Module"})),kri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M0.667969 3.33333C0.667969 2.59695 1.26492 2 2.0013 2H4.0013C4.36949 2 4.66797 2.29848 4.66797 2.66667C4.66797 3.03486 4.36949 3.33333 4.0013 3.33333H2.0013V5.33333C2.0013 5.70152 1.70283 6 1.33464 6C0.966446 6 0.667969 5.70152 0.667969 5.33333V3.33333Z" />
  <path
    d="M15.3346 3.33333C15.3346 2.59695 14.7377 2 14.0013 2H12.0013C11.6331 2 11.3346 2.29848 11.3346 2.66667C11.3346 3.03486 11.6331 3.33333 12.0013 3.33333H14.0013V5.33333C14.0013 5.70152 14.2998 6 14.668 6C15.0362 6 15.3346 5.70152 15.3346 5.33333V3.33333Z" />
  <path
    d="M14.0013 14C14.7377 14 15.3346 13.403 15.3346 12.6667V10.6667C15.3346 10.2985 15.0362 10 14.668 10C14.2998 10 14.0013 10.2985 14.0013 10.6667V12.6667H12.0013C11.6331 12.6667 11.3346 12.9651 11.3346 13.3333C11.3346 13.7015 11.6331 14 12.0013 14H14.0013Z" />
  <path
    d="M0.667969 12.6667C0.667969 13.403 1.26492 14 2.0013 14H4.0013C4.36949 14 4.66797 13.7015 4.66797 13.3333C4.66797 12.9651 4.36949 12.6667 4.0013 12.6667H2.0013V10.6667C2.0013 10.2985 1.70283 10 1.33464 10C0.966446 10 0.667969 10.2985 0.667969 10.6667V12.6667Z" />
  <path
    d="M6.0013 5.33333C6.0013 4.96514 6.29978 4.66667 6.66797 4.66667C7.03616 4.66667 7.33464 4.96514 7.33464 5.33333V10.6667C7.33464 11.0349 7.03616 11.3333 6.66797 11.3333C6.29978 11.3333 6.0013 11.0349 6.0013 10.6667V5.33333Z" />
  <path
    d="M4.0013 4.66667C3.63311 4.66667 3.33464 4.96514 3.33464 5.33333V10.6667C3.33464 11.0349 3.63311 11.3333 4.0013 11.3333C4.36949 11.3333 4.66797 11.0349 4.66797 10.6667V5.33333C4.66797 4.96514 4.36949 4.66667 4.0013 4.66667Z" />
  <path
    d="M11.3346 5.33333C11.3346 4.96514 11.6331 4.66667 12.0013 4.66667C12.3695 4.66667 12.668 4.96514 12.668 5.33333V10.6667C12.668 11.0349 12.3695 11.3333 12.0013 11.3333C11.6331 11.3333 11.3346 11.0349 11.3346 10.6667V5.33333Z" />
  <path
    d="M9.33463 4.66667C8.96644 4.66667 8.66797 4.96514 8.66797 5.33333V10.6667C8.66797 11.0349 8.96644 11.3333 9.33463 11.3333C9.70283 11.3333 10.0013 11.0349 10.0013 10.6667V5.33333C10.0013 4.96514 9.70283 4.66667 9.33463 4.66667Z" />
</svg>`,Eri=Object.freeze(Object.defineProperty({__proto__:null,default:kri},Symbol.toStringTag,{value:"Module"})),Ari=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M11 4.33333C11.9932 4.33333 12.2951 4.33979 12.5202 4.38457C13.5781 4.59499 14.405 5.42192 14.6154 6.47976C14.6602 6.70489 14.6667 7.00678 14.6667 8C14.6667 8.99322 14.6602 9.29511 14.6154 9.52024C14.405 10.5781 13.5781 11.405 12.5202 11.6154C12.2951 11.6602 11.9932 11.6667 11 11.6667H5C4.00678 11.6667 3.70489 11.6602 3.47976 11.6154C2.42192 11.405 1.59499 10.5781 1.38457 9.52024C1.33979 9.29511 1.33333 8.99322 1.33333 8C1.33333 7.00678 1.33979 6.70489 1.38457 6.47976C1.59499 5.42192 2.42192 4.59499 3.47976 4.38457C3.70489 4.33979 4.00678 4.33333 5 4.33333H11ZM0.0768589 6.21964C0 6.60603 0 7.07069 0 8C0 8.92931 0 9.39397 0.0768589 9.78036C0.392486 11.3671 1.63288 12.6075 3.21964 12.9231C3.60603 13 4.07069 13 5 13H11C11.9293 13 12.394 13 12.7804 12.9231C14.3671 12.6075 15.6075 11.3671 15.9231 9.78036C16 9.39397 16 8.92931 16 8C16 7.07069 16 6.60603 15.9231 6.21964C15.6075 4.63288 14.3671 3.39249 12.7804 3.07686C12.394 3 11.9293 3 11 3H5C4.07069 3 3.60603 3 3.21964 3.07686C1.63288 3.39249 0.392486 4.63288 0.0768589 6.21964Z" />
  <path d="M11.2121 5.33333H9.38545L7.06661 10.6667H8.89325L11.2121 5.33333Z" />
  <path
    d="M6.46838 5.33333H8.29502L5.97618 10.6667H5C4.6233 10.6667 4.36105 10.6667 4.15618 10.6514L6.46838 5.33333Z" />
  <path
    d="M5.37795 5.33333H5C4.38002 5.33333 4.07003 5.33333 3.8157 5.40148C3.12551 5.58642 2.58642 6.12551 2.40148 6.8157C2.33333 7.07003 2.33333 7.38002 2.33333 8C2.33333 8.61998 2.33333 8.92997 2.40148 9.1843C2.52758 9.65492 2.81834 10.0553 3.20939 10.321L5.37795 5.33333Z" />
</svg>`,Tri=Object.freeze(Object.defineProperty({__proto__:null,default:Ari},Symbol.toStringTag,{value:"Module"})),Pri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M10.5133 4.97503C10.6838 4.69088 10.5917 4.32233 10.3075 4.15184C10.0234 3.98135 9.6548 4.07349 9.48431 4.35764L8.09498 6.6732C8.06364 6.66868 8.0316 6.66634 7.99902 6.66634C7.96626 6.66634 7.93406 6.66871 7.90257 6.67327L6.51319 4.35764C6.3427 4.07349 5.97414 3.98135 5.68999 4.15184C5.40585 4.32233 5.31371 4.69089 5.4842 4.97504L6.69898 6.99967H5.26536C4.93399 6.99967 4.66536 7.2683 4.66536 7.59967C4.66536 7.93105 4.93399 8.19967 5.26536 8.19967H7.33265L7.33247 9.33301H5.26536C4.93399 9.33301 4.66536 9.60164 4.66536 9.93301C4.66536 10.2644 4.93399 10.533 5.26536 10.533H7.33228L7.33205 12C7.33199 12.368 7.6303 12.6663 7.99829 12.6663C8.3662 12.6663 8.66447 12.3681 8.66453 12.0002L8.66476 10.533H10.732C11.0634 10.533 11.332 10.2644 11.332 9.93301C11.332 9.60164 11.0634 9.33301 10.732 9.33301H8.66495L8.66512 8.19967H10.732C11.0634 8.19967 11.332 7.93105 11.332 7.59967C11.332 7.2683 11.0634 6.99967 10.732 6.99967H9.29852L10.5133 4.97503Z" />
  <path
    d="M15.6654 7.99967C15.6654 12.2339 12.2329 15.6663 7.9987 15.6663C3.76452 15.6663 0.332031 12.2339 0.332031 7.99967C0.332031 3.76549 3.76452 0.333008 7.9987 0.333008C12.2329 0.333008 15.6654 3.76549 15.6654 7.99967ZM1.66536 7.99967C1.66536 11.4975 4.50089 14.333 7.9987 14.333C11.4965 14.333 14.332 11.4975 14.332 7.99967C14.332 4.50187 11.4965 1.66634 7.9987 1.66634C4.50089 1.66634 1.66536 4.50187 1.66536 7.99967Z" />
</svg>`,Ori=Object.freeze(Object.defineProperty({__proto__:null,default:Pri},Symbol.toStringTag,{value:"Module"})),Mri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M7.99927 2.45821L9.62787 4.98019C9.89589 5.39524 10.308 5.69639 10.7849 5.82561L13.6849 6.61146L11.7899 8.97393C11.4832 9.35627 11.3276 9.83792 11.3526 10.3274L11.5071 13.3505L8.71908 12.275C8.25584 12.0963 7.7427 12.0963 7.27947 12.275L4.49143 13.3505L4.64592 10.3274C4.67094 9.83792 4.51533 9.35627 4.20864 8.97393L2.3136 6.61146L5.21364 5.82561C5.6905 5.69639 6.10266 5.39523 6.37068 4.98019L7.99927 2.45821ZM8.83934 1.30127C8.44541 0.691244 7.55314 0.691243 7.15921 1.30127L5.25059 4.25688C5.16125 4.39523 5.02387 4.49561 4.86491 4.53869L1.47347 5.4577C0.777834 5.64621 0.503999 6.4864 0.954966 7.04861L3.16857 9.80821C3.2708 9.93566 3.32267 10.0962 3.31433 10.2594L3.13362 13.7953C3.09667 14.5184 3.81665 15.0399 4.49222 14.7793L7.75934 13.519C7.91375 13.4594 8.0848 13.4594 8.23921 13.519L11.5063 14.7793C12.1819 15.0399 12.9019 14.5184 12.8649 13.7953L12.6842 10.2594C12.6759 10.0962 12.7278 9.93566 12.83 9.80821L15.0436 7.04861C15.4945 6.4864 15.2207 5.64621 14.5251 5.4577L11.1336 4.53869C10.9747 4.49561 10.8373 4.39523 10.748 4.25688L8.83934 1.30127Z" />
</svg>`,Iri=Object.freeze(Object.defineProperty({__proto__:null,default:Mri},Symbol.toStringTag,{value:"Module"})),Rri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M3.7067 6.80966C3.37081 6.63426 3.24871 6.21437 3.43817 5.8862C3.61662 5.57713 4.00695 5.46363 4.32331 5.62882L7.97751 7.53696L11.6316 5.62889C11.9479 5.4637 12.3383 5.57721 12.5167 5.88628C12.7062 6.21444 12.5841 6.63434 12.2482 6.80974L8.32324 8.85924C8.21271 8.91696 8.09316 8.94065 7.97676 8.93387C7.86079 8.94039 7.74173 8.91665 7.63164 8.85916L3.7067 6.80966Z" />
  <path
    d="M14.007 2C14.7434 2 15.3346 2.59695 15.3346 3.33333V12.6667C15.3346 13.4031 14.7428 14.0001 14.0065 14.0001H1.99558C1.2592 14.0001 0.667969 13.4031 0.667969 12.6667V3.33339C0.667969 2.59701 1.25976 2.00006 1.99614 2.00006L14.007 2ZM14.0013 3.33333L2.0013 3.33339V12.6667L14.0013 12.6667V3.33333Z" />
</svg>`,Dri=Object.freeze(Object.defineProperty({__proto__:null,default:Rri},Symbol.toStringTag,{value:"Module"})),Lri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M14.0013 4.08921H2.0013L2.0013 11.2003H8.44287L9.25171 13.3337H2.0013C1.26492 13.3337 0.667969 12.6969 0.667969 11.9114V4.08921C0.667969 3.30374 1.26492 2.66699 2.0013 2.66699H14.0013C14.7377 2.66699 15.3346 3.30374 15.3346 4.08921V9.27944L14.0013 8.67248V4.08921Z" />
  <path
    d="M15.4491 12.1072C15.7262 12.0412 15.9307 11.8065 15.9582 11.5231C15.9857 11.2396 15.8301 10.97 15.5708 10.852L9.99329 8.31296C9.74742 8.20104 9.45831 8.24856 9.2612 8.4333C9.06409 8.61803 8.99795 8.90346 9.09372 9.15607L11.2663 14.8863C11.3673 15.1526 11.6263 15.3253 11.9109 15.3163C12.1956 15.3072 12.443 15.1183 12.5268 14.8461L13.2054 12.6417L15.4491 12.1072Z" />
</svg>`,Fri=Object.freeze(Object.defineProperty({__proto__:null,default:Lri},Symbol.toStringTag,{value:"Module"})),Bri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M3.66536 1.33301C4.72237 1.33301 5.61522 2.03584 5.90207 2.99967H9.16536C10.7302 2.99967 11.9987 4.2682 11.9987 5.83301C11.9987 7.39781 10.7302 8.66634 9.16536 8.66634H6.83203C6.0036 8.66634 5.33203 9.33791 5.33203 10.1663C5.33203 10.9948 6.0036 11.6663 6.83203 11.6663H10.9987V10.5901C10.9987 10.3307 11.2821 10.1707 11.5043 10.3048L14.5093 12.1181C14.7279 12.2501 14.7231 12.5687 14.5007 12.694L11.4956 14.3865C11.2734 14.5116 10.9987 14.3511 10.9987 14.096V12.9997H6.83203C5.26722 12.9997 3.9987 11.7311 3.9987 10.1663C3.9987 8.60153 5.26722 7.33301 6.83203 7.33301H9.16536C9.99379 7.33301 10.6654 6.66143 10.6654 5.83301C10.6654 5.00458 9.99379 4.33301 9.16536 4.33301H5.90207C5.61522 5.29684 4.72237 5.99967 3.66536 5.99967C2.3767 5.99967 1.33203 4.95501 1.33203 3.66634C1.33203 2.37768 2.3767 1.33301 3.66536 1.33301ZM3.66536 4.66634C4.21765 4.66634 4.66536 4.21863 4.66536 3.66634C4.66536 3.11406 4.21765 2.66634 3.66536 2.66634C3.11308 2.66634 2.66536 3.11406 2.66536 3.66634C2.66536 4.21863 3.11308 4.66634 3.66536 4.66634Z" />
</svg>`,$ri=Object.freeze(Object.defineProperty({__proto__:null,default:Bri},Symbol.toStringTag,{value:"Module"})),Nri=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M1.33203 2.66634C1.33203 1.92996 1.92898 1.33301 2.66536 1.33301H13.332C14.0684 1.33301 14.6654 1.92996 14.6654 2.66634V13.333C14.6654 14.0694 14.0684 14.6663 13.332 14.6663H2.66536C1.92899 14.6663 1.33203 14.0694 1.33203 13.333V2.66634ZM2.66536 2.66634V13.333H13.332V2.66634H2.66536Z" />
  <path
    d="M8.33203 4.66634C7.96384 4.66634 7.66536 4.96482 7.66536 5.33301C7.66536 5.7012 7.96384 5.99967 8.33203 5.99967H11.332C11.7002 5.99967 11.9987 5.7012 11.9987 5.33301C11.9987 4.96482 11.7002 4.66634 11.332 4.66634H8.33203Z" />
  <path
    d="M3.9987 5.33301C3.9987 4.96482 4.29718 4.66634 4.66536 4.66634H5.9987C6.36689 4.66634 6.66536 4.96482 6.66536 5.33301C6.66536 5.7012 6.36689 5.99967 5.9987 5.99967H4.66536C4.29717 5.99967 3.9987 5.7012 3.9987 5.33301Z" />
  <path
    d="M8.33203 7.33301C7.96384 7.33301 7.66536 7.63148 7.66536 7.99967C7.66536 8.36786 7.96384 8.66634 8.33203 8.66634H11.332C11.7002 8.66634 11.9987 8.36786 11.9987 7.99967C11.9987 7.63148 11.7002 7.33301 11.332 7.33301H8.33203Z" />
  <path
    d="M3.9987 7.99967C3.9987 7.63148 4.29718 7.33301 4.66536 7.33301H5.9987C6.36689 7.33301 6.66536 7.63148 6.66536 7.99967C6.66536 8.36786 6.36689 8.66634 5.9987 8.66634H4.66536C4.29717 8.66634 3.9987 8.36786 3.9987 7.99967Z" />
  <path
    d="M8.33203 9.99967C7.96384 9.99967 7.66536 10.2982 7.66536 10.6663C7.66536 11.0345 7.96384 11.333 8.33203 11.333H11.332C11.7002 11.333 11.9987 11.0345 11.9987 10.6663C11.9987 10.2982 11.7002 9.99967 11.332 9.99967H8.33203Z" />
  <path
    d="M3.9987 10.6663C3.9987 10.2982 4.29718 9.99967 4.66536 9.99967H5.9987C6.36689 9.99967 6.66536 10.2982 6.66536 10.6663C6.66536 11.0345 6.36689 11.333 5.9987 11.333H4.66536C4.29717 11.333 3.9987 11.0345 3.9987 10.6663Z" />
</svg>`,jri=Object.freeze(Object.defineProperty({__proto__:null,default:Nri},Symbol.toStringTag,{value:"Module"})),xme=Object.assign({"./icons/fts/1.svg":$ni,"./icons/fts/1001.svg":jni,"./icons/fts/1002.svg":Hni,"./icons/fts/1003.svg":Wni,"./icons/fts/1004.svg":Gni,"./icons/fts/1005.svg":Kni,"./icons/fts/11.svg":qni,"./icons/fts/13.svg":Qni,"./icons/fts/15.svg":eri,"./icons/fts/17.svg":iri,"./icons/fts/18.svg":rri,"./icons/fts/19.svg":ari,"./icons/fts/2.svg":lri,"./icons/fts/20.svg":cri,"./icons/fts/21.svg":hri,"./icons/fts/22.svg":fri,"./icons/fts/23.svg":mri,"./icons/fts/3.svg":yri,"./icons/fts/4.svg":bri,"./icons/fts/5.svg":xri,"./icons/fts/7.svg":Cri,"./icons/fts/99001.svg":Eri,"./icons/fts/99002.svg":Tri,"./icons/fts/99003.svg":Ori,"./icons/fts/99004.svg":Iri,"./icons/fts/99005.svg":Dri,"./icons/fts/.svg":Fri,"./icons/fts/.svg":$ri,"./icons/table.svg":jri}),zri=$0.div`
  display: flex;
  /* justify-content: center; */
  align-items: center;
  & svg {
    width: 100%;
    height: 100%;
    fill: var(--semi-color-text-1);
  }
`;function b6(i){const e=i.src.startsWith("./")?xme[i.src]:xme["./"+i.src];return st.jsx(zri,{style:i.style,className:"icon",dangerouslySetInnerHTML:{__html:e==null?void 0:e.default}})}function Hri(i){const[e]=K4(),{field:t,label:n,default:r=[],value:s,tip:a,onChange:o,target:l,options:u}=i,c=(u==null?void 0:u.list)||[],d=(u==null?void 0:u.itemSelectOptions)||[],h=c.reduce((E,A)=>(E[A.value]=A,E),{}),[p,f]=ee.useState(!0),[g,v]=ee.useState(!1),[m,b]=ee.useState({}),_=()=>{var A;if(!s)return"";const E=new Set;return s.forEach(P=>{E.add(P.select)}),E.size===1?Array.from(E)[0]:E.size>1?"":(A=d==null?void 0:d[0])==null?void 0:A.value},[S,C]=ee.useState(_);ee.useEffect(()=>{C(_())},[d]);const k=c.filter(E=>!(s!=null&&s.some(A=>A.value===E.value)));return st.jsxs("div",{style:{paddingTop:"16px"},children:[st.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[st.jsx(Nc,{style:{flex:1},children:n}),st.jsx("div",{style:{fontSize:"12px"},children:st.jsx(xx,{condition:S,children:st.jsx(X3e,{field:"",value:S,target:void 0,options:d,style:{padding:0,margin:0},onChange:function(E,A,P){C(P),o(l,t,s.map(O=>({value:O.value,select:P})))}})})})]}),st.jsx("div",{style:{marginTop:4},children:s==null?void 0:s.map(({value:E,select:A})=>{var P,O,M;return st.jsxs("div",{children:[st.jsxs(q3e,{children:[st.jsx(xx,{condition:(P=h[E])==null?void 0:P.icon,children:st.jsx(b6,{src:(O=h[E])==null?void 0:O.icon,style:{fontSize:12,marginRight:5}})}),st.jsx("span",{style:{flex:1,color:"rgba(var(--semi-grey-8), 1)"},children:(M=h[E])==null?void 0:M.label}),st.jsx(xx,{condition:d.length,children:st.jsx("span",{style:{fontSize:14,color:"rgba(var(--semi-grey-7), 1)"},children:st.jsx(Uo,{value:A,onChange:D=>{o(l,t,s.map(L=>L.value===E?{value:E,select:D}:L))},triggerRender:({value:D})=>{var L;return st.jsx("div",{children:(L=D==null?void 0:D[0])==null?void 0:L.label})},optionList:d})})}),st.jsx(qo,{showArrow:!0,arrowPointAtCenter:!0,position:"bottomRight",clickToHide:!0,style:{width:100,padding:0},content:st.jsxs("div",{children:[st.jsx(s3,{onClick:()=>{b({[E]:!0})},children:e("Update Field")}),st.jsx(s3,{onClick:()=>{l[t]=s.filter(D=>D.value!==E),o(l,t,l[t])},children:e("Remove Field")}),st.jsx(s3,{style:{color:s.length===1?"rgba(var(--semi-grey-2), 1)":"",background:s.length===1?"rgba(var(--semi-white), 1)":""},onClick:()=>{const D=s.map(L=>L.value).indexOf(E);if(D>0){const L=s[D];s[D]=s[D-1],s[D-1]=L,l[t]=s?[...s]:[],o(l,t,l[t])}},children:e("Up Field")}),st.jsx(s3,{style:{color:s.length===1?"rgba(var(--semi-grey-2), 1)":"",background:s.length===1?"rgba(var(--semi-white), 1)":""},onClick:()=>{const D=s.map(L=>L.value).indexOf(E);if(D<s.length-1){const L=s[D];s[D]=s[D+1],s[D+1]=L,l[t]=s?[...s]:[],o(l,t,l[t])}},children:e("Down Field")})]}),children:st.jsx(rVt,{style:{fontSize:12,transform:"rotate(90deg)",color:"rgba(var(--semi-grey-5), 1)",marginLeft:5}})})]}),m[E]&&st.jsx(wme,{list:k,onClickItem:D=>{l[t]=s.map(L=>L.value===E?{value:D,select:L.select}:L),o(l,t,l[t]),m[E]=!1,b({...m})},onClose:()=>{m[E]=!1,b({...m})}})]},E)})}),st.jsxs("div",{style:{marginTop:10,userSelect:"none"},children:[st.jsx(Ho,{content:st.jsx("article",{children:st.jsx("p",{children:e("only number field")})}),arrowPointAtCenter:!1,trigger:"hover",children:st.jsx(IP,{link:!!(k!=null&&k.length),icon:st.jsx(aVt,{style:{fontSize:12}}),style:{color:"#aaa",fontSize:12},onClick:()=>{k!=null&&k.length?f(!1):(v(!0),setTimeout(()=>{v(!1)},2e3))},children:e("Append")})}),p||st.jsx(wme,{list:k,onClickItem:(E,A)=>{l[t]=s?[...s,{value:E,select:(A==null?void 0:A.select)??S}]:[{value:E,select:(A==null?void 0:A.select)??S}],o(l,t,l[t]),f(!0)},onClose:()=>{f(!0)}})]})]})}function wme(i){const[e]=K4(),t=i==null?void 0:i.list,[n,r]=ee.useState(""),s=(t==null?void 0:t.filter(a=>n?a.label.includes(n):!0))||[];return st.jsx(b4,{title:st.jsx(iu,{prefix:st.jsx(aMe,{}),suffix:st.jsx(Sm,{onClick:()=>{var a;r(""),(a=i.onClose)==null||a.call(i)}}),showClear:!1,borderless:!0,style:{borderWidth:0},placeholder:e("Search"),autoFocus:!0,onChange:a=>{r(a)}}),shadows:"always",style:{marginTop:5},headerStyle:{padding:0},bodyStyle:{padding:0},children:s==null?void 0:s.map(a=>st.jsxs(q3e,{style:{marginTop:0,border:0},onClick:()=>{var o;(o=i==null?void 0:i.onClickItem)==null||o.call(i,a.value,a)},children:[st.jsx(b6,{src:a.icon,style:{fontSize:12,color:"#646A73",marginRight:5}}),st.jsx("span",{style:{flex:1,color:"rgba(var(--semi-grey-8), 1)"},children:a.label})]},a.value))})}const q3e=$0.div`
  /* margin-top: 10px; */
  font-size: 14px;
  height: 32px;
  color: rgba(var(--semi-grey-8), 1);
  display: flex;
  align-items: center;
  border: 1px solid var(--semi-color-stroke);
  border-radius: 5px;
  padding: 0 10px;
  margin-top: 8px;
  cursor: pointer;

  &:hover {
    background: rgba(var(--semi-blue-0), 0.5);
  }
`,s3=$0.div`
  padding: 8px 16px;
  font-size: 14px;
  color: rgba(var(--semi-grey-8), 1);
  display: flex;
  align-items: center;
  cursor: pointer;
  &:hover {
    background: rgba(var(--semi-blue-0), 0.5);
  }
`,{Label:Vri}=Gr;function Wri(i){const[e]=K4(),{field:t,label:n,default:r,value:s,tip:a,onChange:o,target:l,options:u=[],hide:c}=i,d=u.reduce((f,g)=>(f[g.value]=g.icon,f),{}),h=f=>st.jsx("div",{children:st.jsx("div",{children:(f.label===f.value,f.label)})}),p=f=>st.jsxs(Uri,{style:{width:"97%",padding:"3px 8px",margin:"2px 5px",background:f.selected?"rgba(var(--semi-blue-0), 1)":"",borderRadius:"4px"},onClick:f.onClick,children:[st.jsx(xx,{condition:d[f.value],children:st.jsx(b6,{src:d[f.value],style:{marginRight:8}})}),st.jsx("div",{style:{color:"var(--semi-color-text-1)"},children:f.label})]});return c?st.jsx(st.Fragment,{}):st.jsxs("div",{style:{paddingTop:"16px"},children:[st.jsxs("div",{style:{fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center"},children:[st.jsx(Vri,{style:{flex:1},children:n}),st.jsx("div",{id:`${t}-right`})]}),st.jsx(xx,{condition:u==null?void 0:u.length,children:st.jsx(Uo,{filter:!0,prefix:d[s]?st.jsx(b6,{src:d[s],style:{marginLeft:12,marginRight:6}}):st.jsx("div",{style:{marginRight:12}}),placeholder:"",style:{width:"100%",marginTop:4},onChange:f=>{o(l,t,f)},value:s,renderSelectedItem:h,renderOptionItem:p,children:u==null?void 0:u.map((f,g)=>st.jsx(Uo.Option,{value:f.value,label:f.label},f.value))})}),st.jsx(xx,{condition:!(u!=null&&u.length),children:st.jsx(Uo,{placeholder:e("Empty Options"),style:{width:"100%",marginTop:4}})}),st.jsx("div",{id:t+"-bottom"})]})}const Uri=$0.div`
  display: flex;
  align-items: center;
  padding: 5px 10px;
  cursor: pointer;

  &:hover {
    background: rgba(var(--semi-blue-0), 0.5);
  }
`;function Gri(i){const{field:e,label:t,default:n,value:r,tip:s,onChange:a,target:o,options:l,portal:u,hide:c}=i;return ee.useRef(),c?st.jsx(st.Fragment,{}):K3e(u,st.jsx("div",{style:{marginTop:5},children:st.jsx(l6,{checked:r,onChange:d=>{a(o,e,d.target.checked)},"aria-label":t,style:{fontSize:"12px",color:"#333"},children:t})}))}const Cme={object:i=>Q3e,string:i=>cii,"select-tabs":i=>dii,"select-theme":i=>fni,checkboxes:i=>_ni,line:()=>bni,"field-list":i=>Hri,select:i=>Wri,"down-select":i=>X3e,checkbox:i=>Gri};function Yri(i){return Cme[i]||console.error(`: ${i}`),Cme[i]()}function Z3e(i){const e=i.default;if(i.type==="object"){const t=Object.assign({},typeof e!="object"?{}:e);return(i.properties||[]).reduce((r,s)=>(s.field&&(r[s.field]=Z3e(s)),r),t)}return e}function Q3e(i){const{properties:e,label:t,field:n,default:r,value:s,onChange:a,target:o,style:l}=i;return e!=null&&e.length?st.jsxs("div",{style:Object.assign({},l),children:[t&&st.jsx("div",{style:{marginBottom:"10px"},children:t}),e==null?void 0:e.map(u=>{const c=Yri(u.type);return ee.createElement(c,{...u,value:s==null?void 0:s[u.field],key:n+"."+u.field,target:s,onChange:(d,h,p)=>{const f=Object.assign({},d);f[h]=p,a(o,n,f)}})})]}):st.jsx(st.Fragment,{})}function Kri(i){return st.jsx(Q3e,{label:i.scheme.label,field:i.scheme.field,properties:i.scheme.properties,value:i.value[i.scheme.field],options:i.scheme.options,target:i.value,onChange:(e,t,n)=>{var s;const r=Object.assign({},n);(s=i.onChange)==null||s.call(i,e,t,r)}})}const Xri={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,e){console&&console[i]&&console[i].apply(console,e)}};class S6{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Xri,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new S6(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new S6(this.logger,e)}}var ff=new S6;class X4{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const r=this.observers[n].get(t)||0;this.observers[n].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o.apply(o,[e,...n])})}}function $k(){let i,e;const t=new Promise((n,r)=>{i=n,e=r});return t.resolve=i,t.reject=e,t}function kme(i){return i==null?"":""+i}function qri(i,e,t){i.forEach(n=>{e[n]&&(t[n]=e[n])})}const Zri=/###/g;function FA(i,e,t){function n(o){return o&&o.indexOf("###")>-1?o.replace(Zri,"."):o}function r(){return!i||typeof i=="string"}const s=typeof e!="string"?e:e.split(".");let a=0;for(;a<s.length-1;){if(r())return{};const o=n(s[a]);!i[o]&&t&&(i[o]=new t),Object.prototype.hasOwnProperty.call(i,o)?i=i[o]:i={},++a}return r()?{}:{obj:i,k:n(s[a])}}function Eme(i,e,t){const{obj:n,k:r}=FA(i,e,Object);if(n!==void 0||e.length===1){n[r]=t;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=FA(i,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=FA(i,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=t}function Qri(i,e,t,n){const{obj:r,k:s}=FA(i,e,Object);r[s]=r[s]||[],r[s].push(t)}function x6(i,e){const{obj:t,k:n}=FA(i,e);if(t)return t[n]}function Jri(i,e,t){const n=x6(i,t);return n!==void 0?n:x6(e,t)}function J3e(i,e,t){for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in i?typeof i[n]=="string"||i[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?t&&(i[n]=e[n]):J3e(i[n],e[n],t):i[n]=e[n]);return i}function W1(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var esi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function tsi(i){return typeof i=="string"?i.replace(/[&<>"'\/]/g,e=>esi[e]):i}class isi{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const nsi=[" ",",","?","!",";"],rsi=new isi(20);function ssi(i,e,t){e=e||"",t=t||"";const n=nsi.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(n.length===0)return!0;const r=rsi.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!r.test(i);if(!s){const a=i.indexOf(t);a>0&&!r.test(i.substring(0,a))&&(s=!0)}return s}function NG(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!i)return;if(i[e])return i[e];const n=e.split(t);let r=i;for(let s=0;s<n.length;){if(!r||typeof r!="object")return;let a,o="";for(let l=s;l<n.length;++l)if(l!==s&&(o+=t),o+=n[l],a=r[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<n.length-1)continue;s+=l-s+1;break}r=a}return r}function w6(i){return i&&i.indexOf("_")>0?i.replace("_","-"):i}class Ame extends X4{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,a=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],n&&(Array.isArray(n)?o.push(...n):typeof n=="string"&&s?o.push(...n.split(s)):o.push(n)));const l=x6(this.data,o);return!l&&!t&&!n&&e.indexOf(".")>-1&&(e=o[0],t=o[1],n=o.slice(2).join(".")),l||!a||typeof n!="string"?l:NG(this.data&&this.data[e]&&this.data[e][t],n,s)}addResource(e,t,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),r=t,t=o[1]),this.addNamespaces(t),Eme(this.data,o,r),s.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in n)(typeof n[s]=="string"||Object.prototype.toString.apply(n[s])==="[object Array]")&&this.addResource(e,t,s,n[s],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),r=n,n=t,t=o[1]),this.addNamespaces(t);let l=x6(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?J3e(l,n,s):l={...l,...n},Eme(this.data,o,l),a.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}}var eRe={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,e,t,n,r){return i.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,t,n,r))}),e}};const Tme={};class C6 extends X4{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),qri(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ff.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,t);return n&&n.res!==void 0}extractFromKey(e,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!ssi(e,n,r);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:s};const u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(r)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,t,n){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const r=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],t),l=o[o.length-1],u=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const S=t.nsSeparator||this.options.nsSeparator;return r?{res:`${l}${S}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${S}${a}`}return r?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:a}const d=this.resolve(e,t);let h=d&&d.res;const p=d&&d.usedKey||a,f=d&&d.exactUsedKey||a,g=Object.prototype.toString.apply(h),v=["[object Number]","[object Function]","[object RegExp]"],m=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject;if(b&&h&&(typeof h!="string"&&typeof h!="boolean"&&typeof h!="number")&&v.indexOf(g)<0&&!(typeof m=="string"&&g==="[object Array]")){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,h,{...t,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return r?(d.res=S,d.usedParams=this.getUsedParamsDetails(t),d):S}if(s){const S=g==="[object Array]",C=S?[]:{},k=S?f:p;for(const E in h)if(Object.prototype.hasOwnProperty.call(h,E)){const A=`${k}${s}${E}`;C[E]=this.translate(A,{...t,joinArrays:!1,ns:o}),C[E]===A&&(C[E]=h[E])}h=C}}else if(b&&typeof m=="string"&&g==="[object Array]")h=h.join(m),h&&(h=this.extendTranslation(h,e,t,n));else{let S=!1,C=!1;const k=t.count!==void 0&&typeof t.count!="string",E=C6.hasDefaultValue(t),A=k?this.pluralResolver.getSuffix(u,t.count,t):"",P=t.ordinal&&k?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",O=k&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),M=O&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${A}`]||t[`defaultValue${P}`]||t.defaultValue;!this.isValidLookup(h)&&E&&(S=!0,h=M),this.isValidLookup(h)||(C=!0,h=a);const L=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&C?void 0:h,H=E&&M!==h&&this.options.updateMissing;if(C||S||H){if(this.logger.log(H?"updateKey":"missingKey",u,l,a,H?M:h),s){const N=this.resolve(a,{...t,keySeparator:!1});N&&N.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let B=[];const F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&F&&F[0])for(let N=0;N<F.length;N++)B.push(F[N]);else this.options.saveMissingTo==="all"?B=this.languageUtils.toResolveHierarchy(t.lng||this.language):B.push(t.lng||this.language);const z=(N,U,G)=>{const j=E&&G!==h?G:L;this.options.missingKeyHandler?this.options.missingKeyHandler(N,l,U,j,H,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(N,l,U,j,H,t),this.emit("missingKey",N,l,U,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?B.forEach(N=>{const U=this.pluralResolver.getSuffixes(N,t);O&&t[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(G=>{z([N],a+G,t[`defaultValue${G}`]||M)})}):z(B,a,M))}h=this.extendTranslation(h,e,t,d,n),C&&h===a&&this.options.appendNamespaceToMissingKey&&(h=`${l}:${a}`),(C||S)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,S?h:void 0):h=this.options.parseMissingKeyHandler(h))}return r?(d.res=h,d.usedParams=this.getUsedParamsDetails(t),d):h}extendTranslation(e,t,n,r,s){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=typeof e=="string"&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const h=e.match(this.interpolator.nestingRegexp);c=h&&h.length}let d=n.replace&&typeof n.replace!="string"?n.replace:n;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,n.lng||this.language,n),u){const h=e.match(this.interpolator.nestingRegexp),p=h&&h.length;c<p&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(n.lng=r.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var h=arguments.length,p=new Array(h),f=0;f<h;f++)p[f]=arguments[f];return s&&s[0]===p[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${t[0]}`),null):a.translate(...p,t)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=typeof o=="string"?[o]:o;return e!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(e=eRe.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,r,s,a,o;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(l,t),c=u.key;r=c;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=t.count!==void 0&&typeof t.count!="string",p=h&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),f=t.context!==void 0&&(typeof t.context=="string"||typeof t.context=="number")&&t.context!=="",g=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);d.forEach(v=>{this.isValidLookup(n)||(o=v,!Tme[`${g[0]}-${v}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(Tme[`${g[0]}-${v}`]=!0,this.logger.warn(`key "${r}" for languages "${g.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(m=>{if(this.isValidLookup(n))return;a=m;const b=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,c,m,v,t);else{let S;h&&(S=this.pluralResolver.getSuffix(m,t.count,t));const C=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(b.push(c+S),t.ordinal&&S.indexOf(k)===0&&b.push(c+S.replace(k,this.options.pluralSeparator)),p&&b.push(c+C)),f){const E=`${c}${this.options.contextSeparator}${t.context}`;b.push(E),h&&(b.push(E+S),t.ordinal&&S.indexOf(k)===0&&b.push(E+S.replace(k,this.options.pluralSeparator)),p&&b.push(E+C))}}let _;for(;_=b.pop();)this.isValidLookup(n)||(s=_,n=this.getResource(m,v,_,t))}))})}),{res:n,usedKey:r,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&typeof e.replace!="string";let r=n?e.replace:e;if(n&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const s of t)delete r[s]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&e[n]!==void 0)return!0;return!1}}function hz(i){return i.charAt(0).toUpperCase()+i.slice(1)}class Pme{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ff.create("languageUtils")}getScriptPartFromCode(e){if(e=w6(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=w6(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(r=>r.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=hz(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=hz(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=hz(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(n=>{if(t)return;const r=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(n=>{if(t)return;const r=this.getLanguagePartFromCode(n);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(s=>{if(s===r)return s;if(!(s.indexOf("-")<0&&r.indexOf("-")<0)&&(s.indexOf("-")>0&&r.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===r||s.indexOf(r)===0&&r.length>1))return s})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],s=a=>{a&&(this.isSupportedCode(a)?r.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),n.forEach(a=>{r.indexOf(a)<0&&s(this.formatLanguageCode(a))}),r}}let asi=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],osi={1:function(i){return+(i>1)},2:function(i){return+(i!=1)},3:function(i){return 0},4:function(i){return i%10==1&&i%100!=11?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2},5:function(i){return i==0?0:i==1?1:i==2?2:i%100>=3&&i%100<=10?3:i%100>=11?4:5},6:function(i){return i==1?0:i>=2&&i<=4?1:2},7:function(i){return i==1?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2},8:function(i){return i==1?0:i==2?1:i!=8&&i!=11?2:3},9:function(i){return+(i>=2)},10:function(i){return i==1?0:i==2?1:i<7?2:i<11?3:4},11:function(i){return i==1||i==11?0:i==2||i==12?1:i>2&&i<20?2:3},12:function(i){return+(i%10!=1||i%100==11)},13:function(i){return+(i!==0)},14:function(i){return i==1?0:i==2?1:i==3?2:3},15:function(i){return i%10==1&&i%100!=11?0:i%10>=2&&(i%100<10||i%100>=20)?1:2},16:function(i){return i%10==1&&i%100!=11?0:i!==0?1:2},17:function(i){return i==1||i%10==1&&i%100!=11?0:1},18:function(i){return i==0?0:i==1?1:2},19:function(i){return i==1?0:i==0||i%100>1&&i%100<11?1:i%100>10&&i%100<20?2:3},20:function(i){return i==1?0:i==0||i%100>0&&i%100<20?1:2},21:function(i){return i%100==1?1:i%100==2?2:i%100==3||i%100==4?3:0},22:function(i){return i==1?0:i==2?1:(i<0||i>10)&&i%10==0?2:3}};const lsi=["v1","v2","v3"],usi=["v4"],Ome={zero:0,one:1,two:2,few:3,many:4,other:5};function csi(){const i={};return asi.forEach(e=>{e.lngs.forEach(t=>{i[t]={numbers:e.nr,plurals:osi[e.fc]}})}),i}class dsi{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ff.create("pluralResolver"),(!this.options.compatibilityJSON||usi.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=csi()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(w6(e==="dev"?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(r=>`${t}${r}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((r,s)=>Ome[r]-Ome[s]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):n.numbers.map(r=>this.getSuffix(e,r,t)):[]}getSuffix(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));const s=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!lsi.includes(this.options.compatibilityJSON)}}function Mme(i,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=Jri(i,e,t);return!s&&r&&typeof t=="string"&&(s=NG(i,t,n),s===void 0&&(s=NG(e,t,n))),s}class hsi{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ff.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:f,nestingSuffixEscaped:g,nestingOptionsSeparator:v,maxReplaces:m,alwaysFormat:b}=e.interpolation;this.escape=t!==void 0?t:tsi,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=s?W1(s):a||"{{",this.suffix=o?W1(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=h?W1(h):p||W1("$t("),this.nestingSuffix=f?W1(f):g||W1(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=m||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,n)=>t&&t.source===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,r){let s,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(f){return f.replace(/\$/g,"$$$$")}const c=f=>{if(f.indexOf(this.formatSeparator)<0){const b=Mme(t,l,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,n,{...r,...t,interpolationkey:f}):b}const g=f.split(this.formatSeparator),v=g.shift().trim(),m=g.join(this.formatSeparator).trim();return this.format(Mme(t,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),m,n,{...r,...t,interpolationkey:v})};this.resetRegExp();const d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>u(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?u(this.escape(f)):u(f)}].forEach(f=>{for(o=0;s=f.regex.exec(e);){const g=s[1].trim();if(a=c(g),a===void 0)if(typeof d=="function"){const m=d(e,s,r);a=typeof m=="string"?m:""}else if(r&&Object.prototype.hasOwnProperty.call(r,g))a="";else if(h){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${e}`),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=kme(a));const v=f.safeValue(a);if(e=e.replace(s[0],v),h?(f.regex.lastIndex+=a.length,f.regex.lastIndex-=s[0].length):f.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,s,a;function o(l,u){const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const d=l.split(new RegExp(`${c}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,a);const p=h.match(/'/g),f=h.match(/"/g);(p&&p.length%2===0&&!f||f.length%2!==0)&&(h=h.replace(/'/g,'"'));try{a=JSON.parse(h),u&&(a={...u,...a})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,g),`${l}${c}${h}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l}for(;r=this.nestingRegexp.exec(e);){let l=[];a={...n},a=a.replace&&typeof a.replace!="string"?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const c=r[1].split(this.formatSeparator).map(d=>d.trim());r[1]=c.shift(),l=c,u=!0}if(s=t(o.call(this,r[1].trim(),a),a),s&&r[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=kme(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),u&&(s=l.reduce((c,d)=>this.format(c,d,n.lng,{...n,interpolationkey:r[1].trim()}),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}}function psi(i){let e=i.toLowerCase().trim();const t={};if(i.indexOf("(")>-1){const n=i.split("(");e=n[0].toLowerCase().trim();const r=n[1].substring(0,n[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(a=>{if(!a)return;const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,"");t[o.trim()]||(t[o.trim()]=u),u==="false"&&(t[o.trim()]=!1),u==="true"&&(t[o.trim()]=!0),isNaN(u)||(t[o.trim()]=parseInt(u,10))})}return{formatName:e,formatOptions:t}}function U1(i){const e={};return function(n,r,s){const a=r+JSON.stringify(s);let o=e[a];return o||(o=i(w6(r),s),e[a]=o),o(n)}}class fsi{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ff.create("formatter"),this.options=e,this.formats={number:U1((t,n)=>{const r=new Intl.NumberFormat(t,{...n});return s=>r.format(s)}),currency:U1((t,n)=>{const r=new Intl.NumberFormat(t,{...n,style:"currency"});return s=>r.format(s)}),datetime:U1((t,n)=>{const r=new Intl.DateTimeFormat(t,{...n});return s=>r.format(s)}),relativetime:U1((t,n)=>{const r=new Intl.RelativeTimeFormat(t,{...n});return s=>r.format(s,n.range||"day")}),list:U1((t,n)=>{const r=new Intl.ListFormat(t,{...n});return s=>r.format(s)})},this.init(e)}init(e){const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=U1(t)}format(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return t.split(this.formatSeparator).reduce((o,l)=>{const{formatName:u,formatOptions:c}=psi(l);if(this.formats[u]){let d=o;try{const h=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},p=h.locale||h.lng||r.locale||r.lng||n;d=this.formats[u](o,p,{...c,...r,...h})}catch(h){this.logger.warn(h)}return d}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}function gsi(i,e){i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)}class msi extends X4{constructor(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=ff.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,t,n,r){const s={},a={},o={},l={};return e.forEach(u=>{let c=!0;t.forEach(d=>{const h=`${u}|${d}`;!n.reload&&this.store.hasResourceBundle(u,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?a[h]===void 0&&(a[h]=!0):(this.state[h]=1,c=!1,a[h]===void 0&&(a[h]=!0),s[h]===void 0&&(s[h]=!0),l[d]===void 0&&(l[d]=!0)))}),c||(o[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,t,n){const r=e.split("|"),s=r[0],a=r[1];t&&this.emit("failedLoading",s,a,t),n&&this.store.addResourceBundle(s,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2;const o={};this.queue.forEach(l=>{Qri(l.loaded,[s],a),gsi(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const c=l.loaded[u];c.length&&c.forEach(d=>{o[u][d]===void 0&&(o[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:s,callback:a});return}this.readingCalls++;const o=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&c&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,r+1,s*2,a)},s);return}a(u,c)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,t,o)}prepareLoading(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof t=="string"&&(t=[t]);const s=this.queueLoad(e,t,n,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),r=n[0],s=n[1];this.read(r,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${s} for language ${r} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${s} for language ${r}`,o),this.loaded(e,a,o)})}saveMissing(e,t,n,r,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,t,n,r,l):c=u(e,t,n,r),c&&typeof c.then=="function"?c.then(d=>o(null,d)).catch(o):o(null,c)}catch(c){o(c)}else u(e,t,n,r,o,l)}!e||!e[0]||this.store.addResource(e[0],t,n,r)}}}function Ime(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Rme(i){return typeof i.ns=="string"&&(i.ns=[i.ns]),typeof i.fallbackLng=="string"&&(i.fallbackLng=[i.fallbackLng]),typeof i.fallbackNS=="string"&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs&&i.supportedLngs.indexOf("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),i}function a3(){}function vsi(i){Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(t=>{typeof i[t]=="function"&&(i[t]=i[t].bind(i))})}class P2 extends X4{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Rme(e),this.services={},this.logger=ff,this.modules={external:[]},vsi(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(typeof t.ns=="string"?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=Ime();this.options={...r,...this.options,...Rme(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);function s(c){return c?typeof c=="function"?new c:c:null}if(!this.options.isClone){this.modules.logger?ff.init(s(this.modules.logger),this.options):ff.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=fsi);const d=new Pme(this.options);this.store=new Ame(this.options.resources,this.options);const h=this.services;h.logger=ff,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new dsi(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=s(c),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new hsi(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new msi(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(p){for(var f=arguments.length,g=new Array(f>1?f-1:0),v=1;v<f;v++)g[v-1]=arguments[v];e.emit(p,...g)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new C6(this.services,this.options),this.translator.on("*",function(p){for(var f=arguments.length,g=new Array(f>1?f-1:0),v=1;v<f;v++)g[v-1]=arguments[v];e.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=a3),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=$k(),u=()=>{const c=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),n(d,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a3;const r=typeof e=="string"?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};r?a(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(s,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(e,t,n){const r=$k();return e||(e=this.languages),t||(t=this.options.ns),n||(n=a3),this.services.backendConnector.reload(e,t,s=>{r.resolve(),n(s)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&eRe.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=$k();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),t&&t(l,function(){return n.t(...arguments)})},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{a(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,t,n){var r=this;const s=function(a,o){let l;if(typeof o!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),d=2;d<u;d++)c[d-2]=arguments[d];l=r.options.overloadTranslationOptionHandler([a,o].concat(c))}else l={...o};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix=l.keyPrefix||n||s.keyPrefix;const h=r.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(a)?p=a.map(f=>`${l.keyPrefix}${h}${f}`):p=l.keyPrefix?`${l.keyPrefix}${h}${a}`:a,r.t(p,l)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=n,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!r||a(s,e)))}loadNamespaces(e,t){const n=$k();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{n.resolve(),t&&t(r)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=$k();typeof e=="string"&&(e=[e]);const r=this.options.preload||[],s=e.filter(a=>r.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=r.concat(s),this.loadResources(a=>{n.resolve(),t&&t(a)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new Pme(Ime());return t.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new P2(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a3;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},s=new P2(r);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n&&(s.store=new Ame(this.store.data,r),s.services.resourceStore=s.store),s.translator=new C6(s.services,r),s.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];s.emit(o,...u)}),s.init(r,t),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ro=P2.createInstance();ro.createInstance=P2.createInstance;ro.createInstance;ro.dir;ro.init;ro.loadResources;ro.reloadResources;ro.use;ro.changeLanguage;ro.getFixedT;ro.t;ro.exists;ro.setDefaultNamespace;ro.hasLoadedNamespace;ro.loadNamespaces;ro.loadLanguages;const ysi="",_si="",bsi="",Ssi="",xsi="",wsi="",Csi="",ksi="",Esi="",Asi="",Tsi="",Psi="",Osi="",Msi="",Isi="",Rsi="",Dsi="",Lsi="",Fsi="",Bsi="",$si="",Nsi="",jsi="",zsi="",Hsi="",Vsi="",Wsi="",Usi="",Gsi={"Aggregate Records":"",Append:ysi,Asc:_si,Average:bsi,"Axis Value":"",Calculation:Ssi,Cate:xsi,"Charts Options":"","Data Map":"",Desc:wsi,"Down Field":"","Empty Options":"",Field:Csi,"Field Count":"","Field Value":"","Field Value Count":"","Global Axis Max":"","Group By":"",Label:ksi,Legend:Esi,Max:Asi,Min:Tsi,Ok:Psi,"Order By":"","Order Count":"","Order Field":"","Order Record":"","Order Type":"","Polynomial Split Statistics":"","Primary Key":"","Record Count":"","Remove Field":"",Search:Osi,"Select Aggregate Records":"","Select Field":"","Select Field Category":"",Series:Msi,"Single Axis Max":"",Sum:Isi,Table:Rsi,Theme:Dsi,"Up Field":"","Update Field":"","Value By":"",View:Lsi,"copy-link":"",develop:Fsi,edit:Bsi,"err-readonly":"",feedback:$si,"gene-h5-link":"","gene-h5-qr":"",hello:Nsi,help:jsi,"link-tip":"",loading:zsi,"only number field":"",shared:Hsi,"shared-tip-link":"","shared-tip-qr":"",submit:Vsi,"submit-btn":"","submit-err":"","update-tip":"",v:Wsi,wellcome:Usi},Ysi="",Ksi="",Xsi="",qsi="",Zsi="",Qsi="",Jsi="",eai="",tai="",iai="",nai="",rai="OK",sai="",aai="",oai="",lai="",uai="",cai="",dai="",hai="",pai="",fai="",gai="",mai="",vai="",yai="",_ai="",bai="",Sai={"Aggregate Records":"",Append:Ysi,Asc:Ksi,Average:Xsi,"Axis Value":"",Calculation:qsi,Cate:Zsi,"Charts Options":"","Data Map":"",Desc:Qsi,"Down Field":"","Empty Options":"",Field:Jsi,"Field Count":"","Field Value":"","Field Value Count":"","Global Axis Max":"","Group By":"",Label:eai,Legend:tai,Max:iai,Min:nai,Ok:rai,"Order By":"","Order Count":"","Order Field":"","Order Record":"","Order Type":"","Polynomial Split Statistics":"","Primary Key":"","Record Count":"","Remove Field":"",Search:sai,"Select Aggregate Records":"","Select Field":"","Select Field Category":"",Series:aai,"Single Axis Max":"",Sum:oai,Table:lai,Theme:uai,"Up Field":"","Update Field":"","Value By":"",View:cai,"copy-link":"",develop:dai,edit:hai,"err-readonly":"",feedback:pai,"gene-h5-link":"","gene-h5-qr":"",hello:fai,help:gai,"link-tip":"",loading:mai,"only number field":"",shared:vai,"shared-tip-link":"","shared-tip-qr":"",submit:yai,"submit-btn":"","submit-err":"","update-tip":"",v:_ai,wellcome:bai},tRe={resources:{en:{translation:{}},zh:{translation:Gsi},ja:{translation:Sai}},lng:"zh",fallbackLng:"en",interpolation:{escapeValue:!1}};ro.use(Ini).init(tRe);console.log(tRe);function Nk(i){return i.map(e=>({value:e.id,label:e.name,type:e.type,icon:e.type?`icons/fts/${e.type}.svg`:"icons/table.svg",raw:e}))}function Dme(i){return[cv.Rating,cv.Number,cv.Formula,cv.Lookup,cv.Progress].includes(i)}const xai=async(i={},e=i,t=0)=>{var f,g,v,m,b,_,S,C,k,E,A,P;console.log("getPullScheme",{configRoot:i,lastConfigRoot:e});const n=ro.t.bind(ro),r={field:"root",type:"object",properties:[]},s={field:"tableId",label:n("Table"),type:"select",options:[]};s.options=Nk(await wl.getTableList()),s.default=i.tableId??s.options[t].value,r.properties.push(s);const a={field:"dataRange",label:n("View"),type:"select",options:[]},o=await wl.getTableDataRange(s.default);console.log("views",o),a.options=o.filter(O=>"viewName"in O).map(O=>({value:JSON.stringify({viewId:O.viewId,viewName:O.viewName,type:O.type}),icon:"icons/table.svg",label:O.viewName??""})),a.default=a.options[0].value,i.tableId===(e==null?void 0:e.tableId)&&i.dataRange&&(a.default=i.dataRange),r.properties.push(a);const l={field:"selectTheme",label:n("Theme"),type:"select-theme",default:i.selectTheme??"p1",options:bPe.light};r.properties.push(l);const u={label:n("Charts Options"),field:"chartOptions",type:"checkboxes",options:[{label:n("Legend"),value:"showLegend"},{label:n("Label"),value:"showDataLabel"}],default:i.chartOptions??["showLegend","showDataLabel"]};r.properties.push(u);const c={field:"",type:"line"};r.properties.push(c);const d={label:n("Data Map"),field:"mapType",type:"select",options:[{label:n("Select Field Category"),value:"fieldCategory"},{label:n("Select Aggregate Records"),value:"recordCategory"}],default:i.mapType??"fieldCategory"};r.properties.push(d);const h={field:"mapOptions",type:"object",default:{},properties:[]},p=JSON.parse(a.default);switch(d.default){case"fieldCategory":{const O={label:n("Cate"),field:"cates",type:"field-list",options:{list:[]},default:[]},M=await wl.getFiledListByViewId(s.default,p.viewId);O.options.list=Nk(M.filter(U=>Dme(U.type)));const D=O.options.list.slice(0,10).map(U=>({value:U.value}));O.default=D,i.tableId===(e==null?void 0:e.tableId)&&i.dataRange===(e==null?void 0:e.dataRange)&&i.mapType===(e==null?void 0:e.mapType)&&((f=i.mapOptions)!=null&&f.cates)&&(O.default=i.mapOptions.cates);const L=Nk(M),H=(g=L==null?void 0:L[0])==null?void 0:g.value,B={label:n("Series"),field:"series",type:"select",options:L,default:H};i.tableId===(e==null?void 0:e.tableId)&&i.dataRange===(e==null?void 0:e.dataRange)&&i.mapType===(e==null?void 0:e.mapType)&&((v=i.mapOptions)!=null&&v.series)&&(B.default=i.mapOptions.series);const F={portal:"#series-right",label:n("Calculation"),field:"calc",type:"down-select",options:[{label:n("Max"),value:"MAX"},{label:n("Min"),value:"MIN"},{label:n("Sum"),value:"SUM"},{label:n("Average"),value:"AVERAGE"}],default:((m=i.mapOptions)==null?void 0:m.calc)??"MAX"},z={portal:"#series-bottom",type:"checkbox",field:"checkSplit",label:n("Polynomial Split Statistics"),default:((b=i.mapOptions)==null?void 0:b.checkSplit)??!1,hide:!0},N=M==null?void 0:M.find(U=>U.id===B.default);N&&([cv.MultiSelect].includes(N.type)||(S=(_=N==null?void 0:N.raw)==null?void 0:_.property)!=null&&S.multiple)&&(z.hide=!1),h.properties.push(O,B,F,z);break}case"recordCategory":{const O=await wl.getFiledListByViewId(s.default,p.viewId),M=Nk(O),D=M==null?void 0:M[0].value,L={label:n("Cate"),field:"cate",type:"select",options:M,default:D};i.tableId===(e==null?void 0:e.tableId)&&i.dataRange===(e==null?void 0:e.dataRange)&&i.mapType===(e==null?void 0:e.mapType)&&((C=i.mapOptions)!=null&&C.cate)&&(L.default=i.mapOptions.cate);const H={type:"checkbox",field:"checkSplit",label:n("Polynomial Split Statistics"),default:((k=i.mapOptions)==null?void 0:k.checkSplit)??!1,portal:"#cate-bottom",hide:!0},B=O==null?void 0:O.find(U=>U.id===L.default);B&&([cv.MultiSelect].includes(B.type)||(A=(E=B==null?void 0:B.raw)==null?void 0:E.property)!=null&&A.multiple)&&(H.hide=!1);const F=Nk(O).filter(U=>Dme(U.type)),z=[{label:n("Max"),value:"MAX"},{label:n("Min"),value:"MIN"},{label:n("Sum"),value:"SUM"},{label:n("Average"),value:"AVERAGE"}],N={label:n("Series"),field:"series",type:"field-list",options:{list:F,itemSelectOptions:z},default:F.slice(0,10).map(U=>({value:U.value,select:"MAX"}))};i.tableId===(e==null?void 0:e.tableId)&&i.dataRange===(e==null?void 0:e.dataRange)&&i.mapType===(e==null?void 0:e.mapType)&&((P=i.mapOptions)!=null&&P.series)&&(N.default=i.mapOptions.series),h.properties.push(L,N,H);break}}return r.properties.push(h),r};function wai(i){const[e]=K4(),[t,n]=ee.useState({root:{}}),[r,s]=ee.useState({type:"object",field:""}),[a,o]=ee.useState({}),l=ee.useRef(0);async function u(h){console.log("updatePreview",h.root);const p=d(h);if(!p){console.error("config is empty, skip updatePreview");return}console.log("getConfig",p);const f=await wl.getPreviewData(p.dataConditions).catch(g=>(console.error(g),Wge.warning(""),[]));console.log("getPreviewData",f),o(SPe(f,p.customConfig)),wl.triggerDashRendered()}async function c(h,p){console.log("updateScheme before",h);const f=await xai(h.root,p==null?void 0:p.root,l.current).catch(m=>(console.error(m),Wge.error(m.message),{})),g=Z3e(f);console.log("updateScheme after",f,g),s(f);let v=h;p?v={root:g}:h.root?v={root:h.root}:v={root:g},n(v),u(v)}rIt(()=>{async function h(){const p=await wl.getConfig().catch(f=>({customConfig:void 0}));c({root:p.customConfig},void 0)}h()},[]);const d=(h=t)=>{if(!h.root.dataRange){console.error("dataRange is empty");return}if(h.root.mapType==="fieldCategory")return{dataConditions:{tableId:h.root.tableId,dataRange:JSON.parse(h.root.dataRange),groups:[{fieldId:h.root.mapOptions.series,sort:{order:CV.ASCENDING,sortType:xV.VIEW},mode:h.root.mapOptions.checkSplit?Xk.ENUMERATED:Xk.INTEGRATED}],series:h.root.mapOptions.cates.map(f=>({fieldId:f.value,rollup:h.root.mapOptions.calc||XSe.MAX}))},customConfig:h.root};if(h.root.mapType==="recordCategory"){if(!h.root.mapOptions.series){console.error("series is empty");return}return{dataConditions:{tableId:h.root.tableId,dataRange:JSON.parse(h.root.dataRange),groups:[{fieldId:h.root.mapOptions.cate,sort:{order:CV.ASCENDING,sortType:xV.VIEW},mode:h.root.mapOptions.checkSplit?Xk.ENUMERATED:Xk.INTEGRATED}],series:h.root.mapOptions.series.map(f=>({fieldId:f.value,rollup:f.select}))},customConfig:h.root}}};return st.jsxs("div",{style:{display:"flex",flexDirection:"row",height:"100vh",overflow:"hidden",borderTop:"var(--split-line-size) solid var(--split-line-color)"},children:[st.jsx("div",{style:{width:"calc(100% - 340px)",padding:20},children:st.jsx(_Pe,{option:a})}),st.jsxs("div",{style:{width:"340px",padding:"0 20px",overflow:"scroll",borderLeft:"var(--split-line-size) solid var(--split-line-color)"},children:[st.jsx(Kri,{scheme:r,value:t,onChange:(h,p,f)=>{console.log("Root onChange",h,p,f);const g=Object.assign({},h,{[p]:f});c(g,h)}}),st.jsx("div",{style:{height:100}}),st.jsx("div",{style:{position:"fixed",bottom:0,right:0,display:"flex",justifyContent:"end",background:"var(--feishu-color-bg)",borderRadius:4,padding:"10px 20px"},children:st.jsx(Jd,{type:"primary",theme:"solid",style:{width:80,marginBottom:10},onClick:()=>{const h=d();if(!h){console.error("config is empty");return}wl.saveConfig(h).then(p=>{console.log("setConfig",p)})},children:e("Ok")})})]})]})}const Cai=window.matchMedia("(prefers-color-scheme: dark)");function kai(i){console.log("matchMode",i.matches);const e=document.body;i.matches?e.hasAttribute("theme-mode")||e.setAttribute("theme-mode","dark"):e.hasAttribute("theme-mode")&&e.removeAttribute("theme-mode")}Cai.addEventListener("change",kai);function Eai(){const[i,e]=ee.useState();switch(ee.useEffect(()=>{async function t(){const n=await wl.getLang();ro.changeLanguage(n.includes("zh")?"zh":n)}return t(),wl.emThemeChange.on(async n=>{const r=n.data.theme,s=document.body;console.log("emThemeChange",r),e(r),r===qSe.DARK?s.setAttribute("theme-mode","dark"):s.removeAttribute("theme-mode")})},[]),wl.getDashState()){case wV.View:return ype({themeMode:i});case wV.FullScreen:return document.body.setAttribute("theme-mode","dark"),ype({});default:return wai()}}function Aai(){return st.jsx(Eai,{})}pz.createRoot(document.getElementById("root")).render(st.jsx(R.StrictMode,{children:st.jsx(Aai,{})}));export{s$e as D,on as E,rn as M,ge as O,wi as T,iye as W,l$e as q,oe as z};
//# sourceMappingURL=index-DrFGpqqV.js.map
